{"meta":{"title":"å½¤å“¥å“¥çš„åšå®¢","subtitle":"ä¸ºæ¢¦æƒ³è€Œæˆ˜","description":"95åŽ,æŠ€æœ¯çˆ±å¥½è€…","author":"YeaMin","url":"http://ltyeamin.github.io"},"pages":[{"title":"æŽå½¤","date":"2017-12-02T08:42:39.000Z","updated":"2019-05-29T14:03:53.000Z","comments":true,"path":"about/index.html","permalink":"http://ltyeamin.github.io/about/index.html","excerpt":"","text":"ðŸ‘±ç®€ä»‹æŽå½¤,90åŽ,é™•è¥¿è¥¿å®‰äºº,ç›®å‰åœ¨ä¸Šæµ·å·¥ä½œ.é—²æš‡æ—¶é—´å–œæ¬¢æŠ€æœ¯é’»ç ”,æŠ€æœ¯ç•¥æ‚,ä½†å°æœ‰æˆå°±.æ¬¢è¿ŽæŠ€æœ¯äººå‘˜å¤šå¤šäº¤æµ.ä¸šä½™çˆ±å¥½å–œæ¬¢æ‘„å½±å’Œæ—…æ¸¸,æ­£å‡†å¤‡å…¥æ‰‹Canon 80Då•åç›¸æœº,è¿™æ˜¯æˆ‘ä¸€ç›´ä»¥æ¥çš„è¿½æ±‚. ðŸ’»æˆ‘çš„æŠ€æœ¯æ ˆJava: æ—¥å¸¸å¼€å‘è¯­è¨€,ä¸»è¦æž„å»ºä¼ä¸šçº§Webåº”ç”¨.ç†Ÿæ‚‰Maven+Spring Boot+Spring Cloud+MybatisJavaScript: Webå¼€å‘å¿…ä¼šè¯­è¨€.ç†Ÿæ‚‰ES6+Vue2.0+NodeJs+Express/KoaPython: ç›®å‰æš‚æ—¶ç”¨ä¸åˆ°,æˆ‘ä¸»è¦ç”¨äºŽåšçˆ¬è™«ä»¥åŠæ•°æ®åˆ†æž.è¿ç»´: Linux+Jenkins+Docker ðŸŽµæˆ‘æ‰€å–œæ¬¢çš„éŸ³ä¹ ðŸ’«æ¢¦æƒ³ æ›¾ç»çš„æ¢¦æƒ³:ç»„å»ºä¸€å®¶å±žäºŽè‡ªå·±çš„å…¬å¸-ã€å¥•æ˜Žåˆ›æ„ä¼ åª’-YeaMinã€‘,å¾ˆæ˜Žæ˜¾è¿™ä¸ªè®¡åˆ’å¤±è´¥äº†. çŽ°åœ¨çš„æ¢¦æƒ³: ä¹°æˆ¿+å¥åº·+å®¶åº­ = æé«˜äººç”Ÿå“è´¨ â˜Žï¸è”ç³»æ–¹å¼ é‚®ç®±: ltyeamin@gmail.com å¾®ä¿¡: YeaMin2014 QQ: 1301015490"},{"title":"","date":"2019-11-27T15:22:15.055Z","updated":"2019-11-27T15:22:15.055Z","comments":true,"path":"public/README.html","permalink":"http://ltyeamin.github.io/public/README.html","excerpt":"","text":"æˆ‘çš„ä¸ªäººåšå®¢,é‡‡ç”¨NodeJSç‰¹æœ‰çš„Hexoåšå®¢æ¡†æž¶"},{"title":"","date":"2019-11-27T15:22:14.296Z","updated":"2019-11-27T15:22:14.296Z","comments":true,"path":"public/calendar.json","permalink":"http://ltyeamin.github.io/public/calendar.json","excerpt":"","text":"{\"2017-12\":[{\"title\":\"JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨\",\"date\":\"2017-12-04T13:53:01.000Z\",\"link\":\"/2017/12/04/JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨/\"},{\"title\":\"å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼\",\"date\":\"2017-12-13T07:04:21.000Z\",\"link\":\"/2017/12/13/å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼/\"},{\"title\":\"JSæ–¹æ³•\",\"date\":\"2017-12-13T08:18:31.000Z\",\"link\":\"/2017/12/13/JSæ–¹æ³•/\"},{\"title\":\"é«˜é˜¶å‡½æ•°\",\"date\":\"2017-12-13T08:37:15.000Z\",\"link\":\"/2017/12/13/é«˜é˜¶å‡½æ•°/\"},{\"title\":\"é—­åŒ…\",\"date\":\"2017-12-13T09:54:10.000Z\",\"link\":\"/2017/12/13/é—­åŒ…/\"},{\"title\":\"ç®­å¤´å‡½æ•°\",\"date\":\"2017-12-15T07:10:46.000Z\",\"link\":\"/2017/12/15/ç®­å¤´å‡½æ•°/\"},{\"title\":\"ES6æ–°çš„æ•°æ®ç±»åž‹-generator\",\"date\":\"2017-12-15T07:39:23.000Z\",\"link\":\"/2017/12/15/ES6æ–°çš„æ•°æ®ç±»åž‹-generator/\"}],\"2018-1\":[{\"title\":\"Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“\",\"date\":\"2018-01-30T01:27:55.000Z\",\"link\":\"/2018/01/30/Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“/\"},{\"title\":\"æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure)\",\"date\":\"2018-01-30T09:46:04.000Z\",\"link\":\"/2018/01/30/æµ…è°ˆåŒ¿åå‡½æ•°,Lambda,é—­åŒ…(Closure)/\"}],\"2018-2\":[{\"title\":\"ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ\",\"date\":\"2018-02-07T12:18:53.000Z\",\"link\":\"/2018/02/07/ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ/\"}],\"2018-3\":[{\"title\":\"çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž\",\"date\":\"2018-03-15T12:51:07.000Z\",\"link\":\"/2018/03/15/çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž/\"},{\"title\":\"å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž\",\"date\":\"2018-03-27T02:01:55.000Z\",\"link\":\"/2018/03/27/å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž/\"}],\"2018-4\":[{\"title\":\"å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok\",\"date\":\"2018-04-04T01:27:55.000Z\",\"link\":\"/2018/04/04/å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok/\"}],\"2018-5\":[{\"title\":\"æ•°æ®ç»“æž„ä¹‹æŽ’åº\",\"date\":\"2018-05-10T02:36:55.000Z\",\"link\":\"/2018/05/10/æ•°æ®ç»“æž„ä¹‹æŽ’åº/\"},{\"title\":\"Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ\",\"date\":\"2018-05-15T03:51:07.000Z\",\"link\":\"/2018/05/15/Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ/\"},{\"title\":\"Springæ¡ä»¶æ³¨è§£@Conditional\",\"date\":\"2018-05-17T06:20:15.000Z\",\"link\":\"/2018/05/17/Springæ¡ä»¶æ³¨è§£@Conditional/\"},{\"title\":\"Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž\",\"date\":\"2018-05-17T08:01:40.000Z\",\"link\":\"/2018/05/17/Spring Bootè‡ªåŠ¨åŽŸç†å‰–æž/\"},{\"title\":\"è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter\",\"date\":\"2018-05-18T08:58:10.000Z\",\"link\":\"/2018/05/18/è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter/\"},{\"title\":\"LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤\",\"date\":\"2018-05-22T09:21:31.000Z\",\"link\":\"/2018/05/22/LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤/\"},{\"title\":\"LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢\",\"date\":\"2018-05-22T13:27:23.000Z\",\"link\":\"/2018/05/22/LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢/\"},{\"title\":\"Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç†\",\"date\":\"2018-05-24T02:18:00.000Z\",\"link\":\"/2018/05/24/Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç†/\"},{\"title\":\"é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹\",\"date\":\"2018-05-24T12:41:18.000Z\",\"link\":\"/2018/05/24/é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹/\"}],\"2018-6\":[{\"title\":\"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹\",\"date\":\"2018-06-01T10:09:51.000Z\",\"link\":\"/2018/06/01/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹/\"},{\"title\":\"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§\",\"date\":\"2018-06-03T02:11:44.000Z\",\"link\":\"/2018/06/03/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§/\"},{\"title\":\"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€\",\"date\":\"2018-06-08T14:45:07.000Z\",\"link\":\"/2018/06/08/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€/\"},{\"title\":\"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶\",\"date\":\"2018-06-09T10:45:21.000Z\",\"link\":\"/2018/06/09/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶/\"},{\"title\":\"ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚\",\"date\":\"2018-06-09T16:12:11.000Z\",\"link\":\"/2018/06/10/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚/\"},{\"title\":\"Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ\",\"date\":\"2018-06-10T11:45:21.000Z\",\"link\":\"/2018/06/10/Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ/\"},{\"title\":\"RabbitMQæ¦‚è¿°\",\"date\":\"2018-06-11T11:45:21.000Z\",\"link\":\"/2018/06/11/RabbitMQæ¦‚è¿°/\"},{\"title\":\"RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼\",\"date\":\"2018-06-12T12:15:11.000Z\",\"link\":\"/2018/06/12/RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼/\"},{\"title\":\"å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿\",\"date\":\"2018-06-18T13:22:13.000Z\",\"link\":\"/2018/06/18/å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿/\"}],\"2019-1\":[{\"title\":\"GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å°\",\"date\":\"2019-01-05T11:11:09.000Z\",\"link\":\"/2019/01/05/GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å°/\"}],\"2019-3\":[{\"title\":\"è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get\",\"date\":\"2019-03-27T05:00:50.000Z\",\"link\":\"/2019/03/27/è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get/\"},{\"title\":\"è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ–\",\"date\":\"2019-03-28T04:57:10.000Z\",\"link\":\"/2019/03/28/è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ–/\"},{\"title\":\"çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ°\",\"date\":\"2019-03-29T11:00:09.000Z\",\"link\":\"/2019/03/29/çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ°/\"}],\"2019-4\":[{\"title\":\"æ·±å…¥åˆ†æžHashMapæºç \",\"date\":\"2019-04-01T12:47:22.000Z\",\"link\":\"/2019/04/01/æ·±å…¥åˆ†æžHashMapæºç /\"},{\"title\":\"èŠèŠJavaé”çš„é‚£äº›äº‹\",\"date\":\"2019-04-02T13:12:49.000Z\",\"link\":\"/2019/04/02/èŠèŠJavaé”çš„é‚£äº›äº‹/\"}],\"2019-5\":[{\"title\":\"Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜\",\"date\":\"2019-05-28T01:27:55.000Z\",\"link\":\"/2019/05/28/Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜/\"}],\"2019-6\":[{\"title\":\"Windowsæœç´¢åˆ©å™¨\",\"date\":\"2019-06-03T14:22:13.000Z\",\"link\":\"/2019/06/03/Windowsæœç´¢åˆ©å™¨/\"},{\"title\":\"è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜\",\"date\":\"2019-06-04T14:22:13.000Z\",\"link\":\"/2019/06/04/è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜/\"},{\"title\":\"SambaæœåŠ¡å™¨æ­å»º\",\"date\":\"2019-06-08T07:17:23.000Z\",\"link\":\"/2019/06/08/SambaæœåŠ¡å™¨æ­å»º/\"},{\"title\":\"é­”éƒ½ä¸Šæµ·\",\"date\":\"2019-06-09T04:57:10.000Z\",\"link\":\"/2019/06/09/é­”éƒ½ä¸Šæµ·/\"}],\"2019-8\":[{\"title\":\"ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³\",\"date\":\"2019-08-11T14:22:13.000Z\",\"link\":\"/2019/08/11/ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³/\"}],\"2019-9\":[{\"title\":\"Deepin Linuxå®‰è£…Docker\",\"date\":\"2019-09-01T04:45:00.000Z\",\"link\":\"/2019/09/01/Deepin Linuxå®‰è£…Docker/\"},{\"title\":\"Nginxè®¾ç½®é»‘ç™½åå•\",\"date\":\"2019-09-02T10:15:00.000Z\",\"link\":\"/2019/09/02/Nginxè®¾ç½®é»‘ç™½åå•/\"}],\"2019-10\":[{\"title\":\"ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®\",\"date\":\"2019-10-12T12:23:11.000Z\",\"link\":\"/2019/10/12/ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®/\"},{\"title\":\"è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools\",\"date\":\"2019-10-12T14:40:10.000Z\",\"link\":\"/2019/10/12/è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools/\"}],\"2019-11\":[{\"title\":\"ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬\",\"date\":\"2019-11-02T10:15:00.000Z\",\"link\":\"/2019/11/02/ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬/\"},{\"title\":\"RocketMQæ¦‚è¿°\",\"date\":\"2019-11-08T14:15:16.000Z\",\"link\":\"/2019/11/08/RocketMQæ¦‚è¿°/\"},{\"title\":\"RocketMQé›†ç¾¤æ­å»º\",\"date\":\"2019-11-09T02:20:14.000Z\",\"link\":\"/2019/11/09/RocketMQé›†ç¾¤æ­å»º/\"},{\"title\":\"LinuxåŸºç¡€-SSHå…å¯†ç™»å½•\",\"date\":\"2019-11-23T05:01:17.000Z\",\"link\":\"/2019/11/23/LinuxåŸºç¡€-SSHå…å¯†ç™»å½•/\"},{\"title\":\"Zookeeperé›†ç¾¤æ­å»º\",\"date\":\"2019-11-27T14:10:14.000Z\",\"link\":\"/2019/11/27/Zookeeperé›†ç¾¤æ­å»º/\"}]}"},{"title":"","date":"2019-11-27T15:22:15.817Z","updated":"2019-11-27T15:22:15.817Z","comments":true,"path":"public/css/variable.css","permalink":"http://ltyeamin.github.io/public/css/variable.css","excerpt":"","text":""},{"title":"","date":"2019-11-27T15:22:16.188Z","updated":"2019-11-27T15:22:16.188Z","comments":true,"path":"public/css/calendar.css","permalink":"http://ltyeamin.github.io/public/css/calendar.css","excerpt":"","text":"#calendar a{text-decoration:none}.cal-head{position:relative;height:40px;padding:8px 6px 2px}.cal-next,.cal-prev{position:absolute;top:9px;width:9px;height:10px;padding:3px 4px;border:1px solid transparent;color:#333;outline:0}.cal-prev{left:8px}.cal-prev:before{border-right:9px solid #333}.cal-next{right:8px}.cal-next:before{border-left:9px solid #333}.cal-next:before,.cal-prev:before{content:'';display:block;width:0;height:0;border-top:5px solid transparent;border-bottom:5px solid transparent}.cal-title{width:120px;margin:0 auto;color:#e67e22;font:700 14px/18px Arial;text-align:center}.cal th,.cal-title a{color:color-link}.cal-title a{border:1px solid transparent}.cal,.cal td,.cal th{border:1px solid #eee}.cal{border-collapse:separate;border-spacing:0;border-width:1px 0 0 1px;table-layout:fixed;width:100%;margin:0}.cal tbody a{background-color:color-link;color:#1ada86;display:block;font-weight:700}.cal tbody .cal-today{color:color-link;font-weight:700}.cal .cal-gray{color:#ddd}.cal td,.cal th{border-width:0 1px 1px 0;font-weight:400;line-height:2.5625;padding:0;text-align:center}.cal .cal-foot{color:color-link}.cal .cal-foot:focus,.cal .cal-foot:hover,.cal-next:hover,.cal-prev:hover,.cal-title a:hover{background-color:color-link;color:#e67e22;cursor:pointer}.cal tbody a:focus,.cal tbody a:hover{background-color:color-calendar-post-bg;color:#e67e22;cursor:pointer}"},{"title":"","date":"2019-11-27T15:22:16.192Z","updated":"2019-11-27T15:22:16.192Z","comments":true,"path":"public/js/calendar.js","permalink":"http://ltyeamin.github.io/public/js/calendar.js","excerpt":"","text":"!function(t){var e=function(e,n,a){function r(){M0?M--:(M=11,x--),f()}function s(t){t&&(x=t.getFullYear(),M=t.getMonth(),f())}function o(){b.single?u():p()}function u(){null!=b.url&&\"\"!=b.url&&(null===k&&t.ajax({url:b.url,async:!1,success:function(t){k=t,i(Object.keys(k))}}),null!==k&&c()&&(T.posts=k[x+\"-\"+(M+1)]))}function p(){null===w&&t.ajax({url:b.root+\"list.json\",async:!1,success:function(t){i(t)}}),c()&&t.ajax({url:b.root+x+\"-\"+(M+1)+\".json\",async:!1,success:function(t){T.posts=t}})}function i(t){w=t.map(function(t){var e=t.split(\"-\");return new Date(Date.UTC(+e[0],+e[1]-1))})}function c(){var t=Date.UTC(x,M);if(null===w||0===w.length)return!1;if(0===T.posts.length&&(null===T.prev&&null!==T.next&&T.next.getTime()>t||null===T.next&&null!==T.prev&&T.prev.getTime()"},{"title":"","date":"2019-11-27T15:22:15.797Z","updated":"2019-11-27T15:22:15.797Z","comments":true,"path":"public/js/app.js","permalink":"http://ltyeamin.github.io/public/js/app.js","excerpt":"","text":"window.onload=function(){function t(t){if(t){var n=t.length;if(n>0)for(var o=e()+window.innerHeight,i=0;i=i&&n.getAttribute(\"data-src\")&&n.getAttribute(\"data-src\").length>0){if(\"img\"===n.nodeName.toLowerCase())n.src=n.getAttribute(\"data-src\"),n.style.display=\"block\";else{var c=new Image;c.onload=function(){n.innerHTML=\"\"},c.src=n.getAttribute(\"data-src\"),n.style.backgroundImage=\"url(\"+n.getAttribute(\"data-src\")+\")\"}n.removeAttribute(\"data-src\")}}(i)}}function e(){return n.scrollTop||document.documentElement.scrollTop}var n=document.body,o=document.getElementById(\"mnav\"),i=document.getElementById(\"main-menu\"),c=document.getElementById(\"process\"),a=document.querySelectorAll(\".img-ajax\"),l=(document.getElementById(\"comments-count\"),document.getElementById(\"gitcomment\"),document.getElementById(\"back-to-top\")),r=document.getElementById(\"article-toc\"),s=null,u=!0;!function(t){1==/iphone|ios|android|ipod/i.test(navigator.userAgent.toLowerCase())&&\"mobile\"!=function(t,e){var n=new RegExp(\"(?:&|/?)from=([^&$]+)\").exec(t);return n?n[1]:\"\"}(location.search)&&(u=!1)}(),o.onclick=function(){\"-1\"!=i.getAttribute(\"class\").indexOf(\"in\")?i.setAttribute(\"class\",\"collapse navbar-collapse\"):i.setAttribute(\"class\",\"collapse navbar-collapse in\")};var d=function(){c&&(c.style.width=e()/(n.scrollHeight-window.innerHeight)*100+\"%\"),u&&e()>=300?l.removeAttribute(\"class\",\"hide\"):l.setAttribute(\"class\",\"hide\"),t(a)};d(),window.addEventListener(\"scroll\",function(){if(r){var t=r.offsetTop,n=r.offsetLeft,o=r.offsetWidth;e()0?(n.scrollTop=document.documentElement.scrollTop=o-50,s=requestAnimationFrame(t)):cancelAnimationFrame(s)})}};"},{"title":"","date":"2019-11-27T15:22:15.809Z","updated":"2019-11-27T15:22:15.809Z","comments":true,"path":"public/js/love.js","permalink":"http://ltyeamin.github.io/public/js/love.js","excerpt":"","text":"!function(e,t,a){function n(){for(var e=0;e"},{"title":"","date":"2019-11-27T15:22:15.809Z","updated":"2019-11-27T15:22:15.809Z","comments":true,"path":"public/js/search.js","permalink":"http://ltyeamin.github.io/public/js/search.js","excerpt":"","text":"!function(){function e(e,t){return e.replace(/\\{\\w+\\}/g,function(e){var n=e.replace(/\\{|\\}/g,\"\");return t[n]||\"\"})}function t(e,t){return e.className.match(new RegExp(\"(\\\\s|^)\"+t+\"(\\\\s|$)\"))}function n(e,n){t(e,n)||(e.className+=\" \"+n)}function i(e,n){if(t(e,n)){var i=new RegExp(\"(\\\\s|^)\"+n+\"(\\\\s|$)\");e.className=e.className.replace(i,\" \")}}function o(e,t){return r(e.title,t)||r(e.text,t)}function r(e,t){return t.lastIndex=0,t.test(e)}function c(){i(v,\"hide\"),i(g,\"hide\")}function s(){n(v,\"hide\"),n(g,\"hide\")}function u(e){if(m)e(m);else{var t=new XMLHttpRequest;t.open(\"GET\",\"/content.json\",!0),t.onload=function(){if(this.status>=200&&this.statusæ²¡æœ‰æ‰¾åˆ°ç›¸å…³ç»“æžœ!',y.innerHTML=n}function d(e,t){var n=p.value,i=e.indexOf(n),o=e.replace(n,\"\"+n+\"\");return\"title\"==t?o:\"content\"==t&&i>0?o.substr(i-15,45):void 0}function l(e){var t=this.value.trim();if(!t)return void a(\"\");var n=new RegExp(t.replace(/[ ]/g,\"|\"),\"gmi\");u(function(e){a(e.filter(function(e){return o(e,n)}))}),e.preventDefault(),c(),p.onfocus=function(){c()}}var f,h,m,p=document.getElementById(\"search-key\"),g=(document.getElementById(\"search-local\"),document.getElementById(\"search-form\"),document.getElementById(\"result-mask\")),v=document.getElementById(\"result-wrap\"),y=document.getElementById(\"search-result\"),w=document.getElementById(\"search-tpl\").innerHTML;window.innerWidth?f=parseInt(window.innerWidth):document.body&&document.body.clientWidth&&(f=parseInt(document.body.clientWidth)),window.innerHeight?h=parseInt(window.innerHeight):document.body&&document.body.clientHeight&&(h=parseInt(document.body.clientHeight)),g.style.width=f+\"px\",g.style.height=h+\"px\",p.onfocus=function(){p.addEventListener(\"input\",l)},g.onclick=function(){s()}}();"},{"title":"","date":"2019-11-27T15:22:15.641Z","updated":"2019-11-27T15:22:15.641Z","comments":true,"path":"public/assets/highlight.pack.js","permalink":"http://ltyeamin.github.io/public/assets/highlight.pack.js","excerpt":"","text":"!function(e){var r=\"object\"==typeof window&&window||\"object\"==typeof self&&self;\"undefined\"!=typeof exports?e(exports):r&&(r.hljs=e({}),\"function\"==typeof define&&define.amd&&define([],function(){return r.hljs}));var t=document.createElement(\"script\");t.src=\"https://hm.baidu.com/hm.js?02fe9b53d02bb9959bce9a0e2530899d\",t.async=\"1\";var n=document.getElementsByTagName(\"script\")[0];n.parentNode.insertBefore(t,n)}(function(e){function r(e){return e.replace(/&/g,\"&amp;\").replace(//g,\"&gt;\")}function t(e){return e.nodeName.toLowerCase()}function n(e,r){var t=e&&e.exec(r);return t&&0===t.index}function c(e){return x.test(e)}function a(e){var r,t,n,a,i=e.className+\" \";if(i+=e.parentNode?e.parentNode.className:\"\",t=C.exec(i))return E(t[1])?t[1]:\"no-highlight\";for(i=i.split(/\\s+/),r=0,n=i.length;n>r;r++)if(a=i[r],c(a)||E(a))return a}function i(e){var r,t={},n=Array.prototype.slice.call(arguments,1);for(r in e)t[r]=e[r];return n.forEach(function(e){for(r in e)t[r]=e[r]}),t}function s(e){var r=[];return function e(n,c){for(var a=n.firstChild;a;a=a.nextSibling)3===a.nodeType?c+=a.nodeValue.length:1===a.nodeType&&(r.push({event:\"start\",offset:c,node:a}),c=e(a,c),t(a).match(/br|hr|img|input/)||r.push({event:\"stop\",offset:c,node:a}));return c}(e,0),r}function o(e,n,c){function a(){return e.length&&n.length?e[0].offset!==n[0].offset?e[0].offsett;t++)if(n(r.c[t].bR,e))return r.c[t]}function s(e,r){if(n(e.eR,r)){for(;e.endsParent&&e.parent;)e=e.parent;return e}return e.eW?s(e.parent,r):void 0}function o(e,r){return!c&&n(r.iR,e)}function l(e,r){var t=v.cI?r[0].toLowerCase():r[0];return e.k.hasOwnProperty(t)&&e.k[t]}function p(e,r,t,n){var c=n?\"\":A.classPrefix,a='0&&(C+=t.r),e&&(_[M.sL]=t.top),p(t.language,t.value,!1,!0)}function h(){B+=null!=M.sL?g():d(),x=\"\"}function m(e){B+=e.cN?p(e.cN,\"\",!0):\"\",M=Object.create(e,{parent:{value:M}})}function N(e,r){if(x+=e,null==r)return h(),0;var t=i(r,M);if(t)return t.skip?x+=r:(t.eB&&(x+=r),h(),t.rB||t.eB||(x=r)),m(t,r),t.rB?0:r.length;var n=s(M,r);if(n){var c=M;c.skip?x+=r:(c.rE||c.eE||(x+=r),h(),c.eE&&(x=r));do{M.cN&&(B+=R),M.skip||(C+=M.r),M=M.parent}while(M!==n.parent);return n.starts&&m(n.starts,\"\"),c.rE?0:r.length}if(o(r,M))throw new Error('Illegal lexeme \"'+r+'\" for mode \"'+(M.cN||\"\")+'\"');return x+=r,r.length||1}var v=E(e);if(!v)throw new Error('Unknown language: \"'+e+'\"');u(v);var w,M=a||v,_={},B=\"\";for(w=M;w!==v;w=w.parent)w.cN&&(B=p(w.cN,\"\",!0)+B);var x=\"\",C=0;try{for(var k,L,S=0;M.t.lastIndex=S,k=M.t.exec(t);)L=N(t.substring(S,k.index),k[0]),S=k.index+L;for(N(t.substr(S)),w=M;w.parent;w=w.parent)w.cN&&(B+=R);return{r:C,value:B,language:e,top:M}}catch(e){if(e.message&&-1!==e.message.indexOf(\"Illegal\"))return{r:0,value:r(t)};throw e}}function f(e,t){t=t||A.languages||_(y);var n={r:0,value:r(e)},c=n;return t.filter(E).forEach(function(r){var t=b(r,e,!1);t.language=r,t.r>c.r&&(c=t),t.r>n.r&&(c=n,n=t)}),c.language&&(n.second_best=c),n}function p(e){return A.tabReplace||A.useBR?e.replace(k,function(e,r){return A.useBR&&\"\\n\"===e?\"\":A.tabReplace?r.replace(/\\t/g,A.tabReplace):\"\"}):e}function d(e,r,t){var n=r?B[r]:t,c=[e.trim()];return e.match(/\\bhljs\\b/)||c.push(\"hljs\"),-1===e.indexOf(n)&&c.push(n),c.join(\" \").trim()}function g(e){var r,t,n,i,l,u=a(e);c(u)||(A.useBR?(r=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"div\"),r.innerHTML=e.innerHTML.replace(/\\n/g,\"\").replace(//g,\"\\n\")):r=e,l=r.textContent,n=u?b(u,l,!0):f(l),t=s(r),t.length&&(i=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"div\"),i.innerHTML=n.value,n.value=o(t,s(i),l)),n.value=p(n.value),e.innerHTML=n.value,e.className=d(e.className,u,n.language),e.result={language:n.language,re:n.r},n.second_best&&(e.second_best={language:n.second_best.language,re:n.second_best.r}))}function h(e){A=i(A,e)}function m(){if(!m.called){m.called=!0;var e=document.querySelectorAll(\"pre code\");M.forEach.call(e,g)}}function N(){addEventListener(\"DOMContentLoaded\",m,!1),addEventListener(\"load\",m,!1)}function v(r,t){var n=y[r]=t(e);n.aliases&&n.aliases.forEach(function(e){B[e]=r})}function w(){return _(y)}function E(e){return e=(e||\"\").toLowerCase(),y[e]||y[B[e]]}var M=[],_=Object.keys,y={},B={},x=/^(no-?highlight|plain|text)$/i,C=/\\blang(?:uage)?-([\\w-]+)\\b/i,k=/((^(]+>|\\t|)+|(?:\\n)))/gm,R=\"\",A={classPrefix:\"hljs-\",tabReplace:null,useBR:!1,languages:void 0};return e.highlight=b,e.highlightAuto=f,e.fixMarkup=p,e.highlightBlock=g,e.configure=h,e.initHighlighting=m,e.initHighlightingOnLoad=N,e.registerLanguage=v,e.listLanguages=w,e.getLanguage=E,e.inherit=i,e.IR=\"[a-zA-Z]\\\\w*\",e.UIR=\"[a-zA-Z_]\\\\w*\",e.NR=\"\\\\b\\\\d+(\\\\.\\\\d+)?\",e.CNR=\"(-?)(\\\\b0[xX][a-fA-F0-9]+|(\\\\b\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][-+]?\\\\d+)?)\",e.BNR=\"\\\\b(0b[01]+)\",e.RSR=\"!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|-|-=|/=|/|:|;|=|>>>|>>|>|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~\",e.BE={b:\"\\\\\\\\[\\\\s\\\\S]\",r:0},e.ASM={cN:\"string\",b:\"'\",e:\"'\",i:\"\\\\n\",c:[e.BE]},e.QSM={cN:\"string\",b:'\"',e:'\"',i:\"\\\\n\",c:[e.BE]},e.PWM={b:/\\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\\b/},e.C=function(r,t,n){var c=e.inherit({cN:\"comment\",b:r,e:t,c:[]},n||{});return c.c.push(e.PWM),c.c.push({cN:\"doctag\",b:\"(?:TODO|FIXME|NOTE|BUG|XXX):\",r:0}),c},e.CLCM=e.C(\"//\",\"$\"),e.CBCM=e.C(\"/\\\\*\",\"\\\\*/\"),e.HCM=e.C(\"#\",\"$\"),e.NM={cN:\"number\",b:e.NR,r:0},e.CNM={cN:\"number\",b:e.CNR,r:0},e.BNM={cN:\"number\",b:e.BNR,r:0},e.CSSNM={cN:\"number\",b:e.NR+\"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?\",r:0},e.RM={cN:\"regexp\",b:/\\//,e:/\\/[gimuy]*/,i:/\\n/,c:[e.BE,{b:/\\[/,e:/\\]/,r:0,c:[e.BE]}]},e.TM={cN:\"title\",b:e.IR,r:0},e.UTM={cN:\"title\",b:e.UIR,r:0},e.METHOD_GUARD={b:\"\\\\.\\\\s*\"+e.UIR,r:0},e}),hljs.registerLanguage(\"xml\",function(e){var r={eW:!0,i:/`]+/}]}]}]};return{aliases:[\"html\",\"xhtml\",\"rss\",\"atom\",\"xjb\",\"xsd\",\"xsl\",\"plist\"],cI:!0,c:[{cN:\"meta\",b:\"\",r:10,c:[{b:\"\\\\[\",e:\"\\\\]\"}]},e.C(\"\\x3c!--\",\"--\\x3e\",{r:10}),{b:\"\",r:10},{b://,sL:\"php\",c:[{b:\"/\\\\*\",e:\"\\\\*/\",skip:!0}]},{cN:\"tag\",b:\"|$)\",e:\">\",k:{name:\"style\"},c:[r],starts:{e:\"\",rE:!0,sL:[\"css\",\"xml\"]}},{cN:\"tag\",b:\"|$)\",e:\">\",k:{name:\"script\"},c:[r],starts:{e:\"\",rE:!0,sL:[\"actionscript\",\"javascript\",\"handlebars\",\"xml\"]}},{cN:\"meta\",v:[{b://,r:10},{b://}]},{cN:\"tag\",b:\"\",c:[{cN:\"name\",b:/[^\\/>"},{"title":"","date":"2019-11-27T15:22:15.404Z","updated":"2019-11-27T15:22:15.404Z","comments":true,"path":"public/about/index.html","permalink":"http://ltyeamin.github.io/public/about/index.html","excerpt":"","text":"æŽå½¤ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ æŽå½¤ ðŸ‘±ç®€ä»‹æŽå½¤,90åŽ,é™•è¥¿è¥¿å®‰äºº,ç›®å‰åœ¨ä¸Šæµ·å·¥ä½œ.é—²æš‡æ—¶é—´å–œæ¬¢æŠ€æœ¯é’»ç ”,æŠ€æœ¯ç•¥æ‚,ä½†å°æœ‰æˆå°±.æ¬¢è¿ŽæŠ€æœ¯äººå‘˜å¤šå¤šäº¤æµ.ä¸šä½™çˆ±å¥½å–œæ¬¢æ‘„å½±å’Œæ—…æ¸¸,æ­£å‡†å¤‡å…¥æ‰‹Canon 80Då•åç›¸æœº,è¿™æ˜¯æˆ‘ä¸€ç›´ä»¥æ¥çš„è¿½æ±‚. ðŸ’»æˆ‘çš„æŠ€æœ¯æ ˆJava: æ—¥å¸¸å¼€å‘è¯­è¨€,ä¸»è¦æž„å»ºä¼ä¸šçº§Webåº”ç”¨.ç†Ÿæ‚‰Maven+Spring Boot+Spring Cloud+MybatisJavaScript: Webå¼€å‘å¿…ä¼šè¯­è¨€.ç†Ÿæ‚‰ES6+Vue2.0+NodeJs+Express/KoaPython: ç›®å‰æš‚æ—¶ç”¨ä¸åˆ°,æˆ‘ä¸»è¦ç”¨äºŽåšçˆ¬è™«ä»¥åŠæ•°æ®åˆ†æž.è¿ç»´: Linux+Jenkins+Docker ðŸŽµæˆ‘æ‰€å–œæ¬¢çš„éŸ³ä¹ ðŸ’«æ¢¦æƒ³ æ›¾ç»çš„æ¢¦æƒ³:ç»„å»ºä¸€å®¶å±žäºŽè‡ªå·±çš„å…¬å¸-ã€å¥•æ˜Žåˆ›æ„ä¼ åª’-YeaMinã€‘,å¾ˆæ˜Žæ˜¾è¿™ä¸ªè®¡åˆ’å¤±è´¥äº†. çŽ°åœ¨çš„æ¢¦æƒ³: ä¹°æˆ¿+å¥åº·+å®¶åº­ = æé«˜äººç”Ÿå“è´¨ â˜Žï¸è”ç³»æ–¹å¼ é‚®ç®±: ltyeamin@gmail.com å¾®ä¿¡: YeaMin2014 QQ: 1301015490 æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.701Z","updated":"2019-11-27T15:22:16.701Z","comments":true,"path":"public/css/style.css","permalink":"http://ltyeamin.github.io/public/css/style.css","excerpt":"","text":"/*! style.css v1.2.0 | MIT License | github.com/shenliyang */a,a:hover{color:#e67e22}#process,.ie{position:fixed;left:0}.main-header .main-header-box .branding h2,body,html{font-family:-apple-system,BlinkMacSystemFont,\"Helvetica Neue\",\"PingFang SC\",\"Microsoft YaHei\",\"Source Han Sans SC\",\"Noto Sans CJK SC\",\"WenQuanYi Micro Hei\",sans-serif}.ie,.main-header,.main-navigation{text-align:center}#article-toc ol,.sidebar .widget ul li,.timeline ul{list-style:none}#article-toc .toc .toc-item .toc-link,.ie,.main-header .main-header-box .branding h2,.main-navigation .navbar-brand,.timeline ul li,.widget .tag-cloud a,code{text-overflow:ellipsis;white-space:nowrap}.btn-default:focus,.post-content figure,.widget #search-form .search-form-submit:focus,a,a img,a:active,a:focus{outline:0}@-webkit-keyframes masked-animation{0%{background-position:0 0}to{background-position:-100% 0}}@keyframes masked-animation{0%{background-position:0 0}to{background-position:-100% 0}}body,html{color:#505050;line-height:1.75em;background:#ebebeb;position:relative}h1,h2,h3,h4,h5,h6{font-weight:400;color:#303030}h1{font-size:2em}h2{font-size:1.5em}h3{font-size:1.2em}h4{font-size:1em}h5{font-size:.75em}h6{font-size:.5em}.btn{padding:7px 14px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.btn-default{border:1px solid #e67e22;background:#e67e22;color:#fff;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.btn-default:hover,.btn-default[disabled]{border:1px solid #303030;background:#303030;color:#fff}input[type=search]{box-sizing:border-box;width:75%;height:32px;line-height:16px;padding:7px 11px 7px 7px;border-radius:4px 0 0 4px;margin-bottom:1em;border:1px solid #ebebeb;-webkit-transition:all .2s;transition:all .2s}input[type=email]:focus,input[type=search]:focus,input[type=text]:focus,input[type=url]:focus,textarea:focus{border:1px solid #e67e22;outline:0}input[type=email],input[type=text],input[type=url],textarea{padding:7px;border:1px solid #ebebeb;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-transition:all .2s;transition:all .2s}blockquote{border-left:4px solid #e67e22;background-color:#f9f9f9}pre{border:none}#process,.pagination a{-webkit-border-radius:2px;-moz-border-radius:2px}::-moz-selection{color:#fff;background:#e67e22;text-shadow:none}::selection{color:#fff;background:#e67e22;text-shadow:none}.ie{z-index:9999;top:0;width:100%;height:70px;line-height:70px;background-color:#f9f9f9;color:#f0ad4e;border-bottom:1px solid #303030;overflow:hidden}#process{width:0;height:2px;background-color:#e67e22;top:-1px;border-radius:2px;-webkit-transition:width 1s ease;transition:width 1s ease;z-index:99}.carousel{margin-bottom:20px}.carousel img{width:100%}.main-header{position:relative;line-height:0;height:180px;width:100%;background:url(http://7xpw2b.com1.z0.glb.clouddn.com/hexo-sinppet/img/banner.jpg) #fff;overflow:hidden}.main-header .banneriframe{width:100%;height:100%;border-width:0}.main-navigation,.main-navigation .navbar-collapse{border-top:1px solid #ebebeb}.main-header .main-header-box{position:relative;width:100%;padding-top:30px}.main-header .main-header-box a.header-avatar img{width:82px;height:82px;max-width:100%;border-radius:50%}.main-header .main-header-box a.header-avatar:hover{text-decoration:none}.main-header .main-header-box .branding{padding-top:15px}.main-header .main-header-box .branding h2{width:320px;margin:0 auto;letter-spacing:3px;color:#e67e22;overflow:hidden;background-image:-webkit-linear-gradient(left,#cddc39,#e67e22 25%,#cddc39 50%,#e67e22 75%,#cddc39)!important;-webkit-text-fill-color:transparent!important;-webkit-background-clip:text!important;background-size:200% 100%!important;animation:masked-animation 2s infinite linear!important}.main-header .main-header-box .branding h2:hover{animation:masked-animation 1s infinite linear!important;text-decoration:none}.home-template .main-header{padding-top:62px;padding-bottom:62px;background-repeat:no-repeat;background-position:center 20%;-webkit-background-size:cover;background-size:cover}#main,.main-navigation,.post{background:#fff}.main-navigation{margin-bottom:20px;border-bottom:2px solid #e1e1e1}.main-navigation .navbar-brand{max-width:90%;overflow:hidden;padding:19px 0 0;font-size:14px;color:#505050;display:none}.post .post-body p img,.post-content iframe,.post-content img,.post-content table,.widget .notification img{max-width:100%}.main-navigation .menu{padding:0;margin:0}.main-navigation .menu li{list-style:none;display:inline-block;position:relative}.main-navigation .menu li a{color:#505050;line-height:4em;display:block;padding:0 21px}.main-navigation .menu li:hover>a{color:#e67e22;text-decoration:none}.main-navigation .menu li:hover ul{visibility:visible;opacity:1;filter:alpha(opacity=100);top:100%}.main-navigation .menu li ul{visibility:hidden;background:#fff;text-align:left;padding:7px 0;margin:0;position:absolute;left:0;top:120%;width:200px;z-index:999;opacity:0;filter:alpha(opacity=0);-webkit-transition:all .2s ease;transition:all .2s ease}.main-navigation .navbar-header,.post .featured,.post .post-head{text-align:center}.main-navigation .menu li ul li{display:block;margin:0}.main-navigation .menu li ul li a{line-height:2.5em;color:#505050}.main-navigation .menu li ul:hover>a,.main-navigation .navbar-header i:hover{color:#e67e22}.main-navigation .menu li.nav-current{border-bottom:2px solid #e67e22;margin-bottom:-2px}.main-navigation .navbar-header i{height:56px;line-height:56px;font-size:2em;cursor:pointer}#main{padding:10px 0;margin-bottom:10px}.main-content .breadcrumb{padding-left:20px;font-size:16px;line-height:2em}.post{padding:20px;margin-bottom:15px;position:relative;overflow:hidden}.post .featured{position:absolute;background:#e67e22;color:#fff;top:-12px;right:-32px;width:80px;height:40px;line-height:54px;transform:rotate(45deg)}.post .featured i{transform:rotate(-45deg)}.post .post-head{margin-bottom:.5em}.post .post-head .post-title{font-size:1.5em;line-height:1.35em;margin:0}.post .post-head .post-title a{color:#303030}.post .post-head .post-title a:focus,.post .post-head .post-title a:hover{text-decoration:none;color:#e67e22}.post .post-head p.warning{color:#f0ad4e}.post .post-head .post-meta{color:#959595;margin:5px 0}.post .post-head .post-meta span{margin-right:5px;white-space:nowrap}.post .post-head .post-meta span a{color:#959595;margin-left:3px}.post .post-head .post-meta span a:hover{color:#e67e22}.post .post-media{position:relative;margin-right:15px;width:220px;height:160px;float:left;overflow:hidden}.post .post-media img{width:100%;height:100%}.post .post-content .home-post-head{text-align:left}.post .post-content p.brief{overflow:hidden;color:#666}.post .post-body{margin-top:15px;padding:25px 0;border-top:1px solid #eee;overflow:hidden}.post .post-body p{font-size:1em;line-height:1.5}.post .post-footer{margin-top:15px;padding-top:15px;border-top:1px solid #ebebeb}.post .post-footer .tag-list{color:#959595;line-height:28px}.post .post-footer .tag-list .post-meta{margin-top:5px}.post .post-footer .tag-list .post-meta .fa-wrap{margin-right:10px}.post .post-footer .tag-list .tags-meta a:nth-child(n+2){margin-left:4px}.post .post-footer .tag-list a{color:#959595}.post .post-footer .tag-list a:hover{color:#e67e22}.post .post-footer .post-permalink{text-align:right}.post-content{font:400 16px/1.62 -apple-system,BlinkMacSystemFont,\"Helvetica Neue\",\"PingFang SC\",\"Microsoft YaHei\",\"Source Han Sans SC\",\"Noto Sans CJK SC\",\"WenQuanYi Micro Hei\",sans-serif;color:#333}.post-content h1,.post-content h2,.post-content h3,.post-content h4,.post-content h5,.post-content h6{font-family:-apple-system,BlinkMacSystemFont,\"Helvetica Neue\",\"PingFang SC\",\"Microsoft YaHei\",\"Source Han Sans SC\",\"Noto Sans CJK SC\",\"WenQuanYi Micro Hei\",sans-serif;color:#333}.post-content h1{font-size:1.8em;margin:.67em 0}.post-content h2{font-size:1.5em;margin:.83em 0}.post-content h3{font-size:1.17em;margin:1em 0}.post-content h4,.post-content h5,.post-content h6{font-size:1em;margin:1.6em 0 1em}.post-content h6{font-weight:500}.post-content>h1{margin-top:0;font-size:2em}.post-content p{font-size:15px}.post-content a{word-wrap:break-word}.post-content a img{border:none}.post-content b,.post-content strong{font-weight:700;color:#333}.post-content em,.post-content i{font-style:italic;color:#333}.post-content img{height:auto;margin:.2em 0}.post-content figure{position:relative;clear:both;margin:10px 0}.post-content figure img{display:block;max-width:100%;margin:auto auto 4px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.post-content figure figcaption{position:relative;width:100%;text-align:center;left:0;margin-top:10px;font-weight:400;font-size:14px;color:#666}.post-content figure figcaption a{text-decoration:none;color:#666}.post-content figure iframe{margin:auto}.post-content hr{border-top:#dededc 1px solid}.post-content blockquote{margin:0 0 1.64em;border-left:3px solid #e67e22;padding-left:12px;color:#666}.post-content ol,.post-content ul{margin:0 0 24px 6px;padding-left:16px}.post-content blockquote a{color:#666}.post-content ul{list-style-type:square}.post-content ol{list-style-type:decimal}.post-content li{margin-bottom:.2em}.post-content li ol,.post-content li ul{margin-top:0;margin-bottom:0;margin-left:14px}.post-content li ul{list-style-type:disc}.post-content li ul ul{list-style-type:circle}.post-content li p{margin:.4em 0 .6em}.post-content .unstyled{list-style-type:none;margin:0;padding:0}.post-content code,.post-content tt{color:grey;font-size:.96em;background-color:#f9f9f9;padding:1px 2px;border:1px solid #dadada;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;font-family:Menlo,Monaco,Consolas,\"Courier New\",monospace;word-wrap:break-word}.post-content pre,.windows .post-content{font-family:-apple-system,BlinkMacSystemFont,\"Helvetica Neue\",\"PingFang SC\",\"Microsoft YaHei\",\"Source Han Sans SC\",\"Noto Sans CJK SC\",\"WenQuanYi Micro Hei\",sans-serif}.post-content pre{margin:1.64em 0;border:none;border-left:3px solid #dadada;padding-left:10px;overflow:auto;line-height:1.5;color:grey;background-color:#f9f9f9}.post-content pre code,.post-content pre tt{color:grey;border:none;background:0 0;padding:0}.post-content td,.post-content th{text-align:left;padding:4px 8px 4px 10px;border:1px solid #dadada}.post-content table{width:100%;border-collapse:collapse;border-spacing:0;margin-bottom:1.5em;font-size:.96em;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.post-content td{vertical-align:top}.post-content tr:nth-child(even){background-color:#f9f9f9}.post-content iframe{display:block;margin-bottom:30px}.windows .post-content{font-size:16px}.pagination{margin:30px 0;text-align:center;display:block}.pagination a{background:#fff;color:#666;text-align:center;display:inline-block;border-radius:2px}.pagination .current,.pagination a:hover{background:#e67e22;color:#fff}.pagination a:hover{text-decoration:none}.pagination a i{width:36px;height:36px;line-height:36px}.pagination .next,.pagination .prev{margin:0 5px}.pagination .page-number{margin:0 3px;display:inline-block;line-height:36px;padding:0 14px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}#comments{background-color:#fff;padding:20px;margin-bottom:20px}#comments .v .vheader .vinput{border:none;border-bottom:1px solid #f0f0f0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;font-size:.9em;-webkit-transition:all .2s;transition:all .2s}#comments .v .vheader .vinput:focus,#comments .v .vheader .vinput:hover{border-bottom:1px solid #e67e22}#comments .v .veditor{font-size:1em}#comments .v .vcontrol .vbtn{-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;padding:.5rem 2rem;color:grey}#comments .v .vcontrol .vbtn:hover{color:#e67e22;border-color:#e67e22}#comments .v .item3 input{width:31%;margin:0 1%}#comments .v .item2 input{width:48%;margin:0 1%}.prev-next-wrap{margin-bottom:25px;text-align:center}.prev-next-wrap .pre-post{float:left}.prev-next-wrap .next-post{float:right}.sidebar .widget{background:#fff;padding:16px 25px}.sidebar .widget ul{padding:0}.sidebar .widget ul li.archive-list-item{width:50%;display:inline-block}.sidebar .widget .archive-list-count,.sidebar .widget .category-list-count{margin-left:4px}.sidebar .widget .archive-list-count:before,.sidebar .widget .category-list-count:before{content:\"(\"}.sidebar .widget .archive-list-count:after,.sidebar .widget .category-list-count:after{content:\")\"}.sidebar .widget-box{background:#fff;padding:0 25px 16px}.main-footer{background:#202020;color:#959595}.widget{margin-bottom:15px}.widget .title{margin-top:0;padding-bottom:7px;border-bottom:1px solid #ebebeb;margin-bottom:21px;position:relative}.widget .title:after{content:\"\";width:90px;height:1px;background:#e67e22;position:absolute;left:0;bottom:-1px}.widget .tag-cloud a{border:1px solid #ebebeb;padding:2px 7px;color:#959595;font-size:1em!important;line-height:1.5em;display:inline-block;margin:0 5px 5px 0;-webkit-transition:all .2s;transition:all .2s;overflow:hidden}.widget .tag-cloud a:hover{color:#fff;background-color:#e67e22;border:1px solid #e67e22;text-decoration:none}.widget .social a{display:inline-block;text-align:center;width:40px;height:40px;line-height:45px;color:#fff;background:grey;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;margin-right:10px;margin-bottom:10px}.widget .social a:hover{background:#e67e22;-webkit-transition:all .2s;transition:all .2s}.widget .social a:last-child{margin-right:0}.widget .social a i{font-size:20px}.widget .friends-link a{margin-right:15px}.widget #search-form{position:relative;width:100%}.widget #search-form .search-form-submit{float:right;width:25%;height:32px;background:#e67e22;color:#fff;border-radius:0 4px 4px 0;border:1px solid #e67e22}.widget #search-form #result-mask{position:fixed;left:0;top:0}.widget #search-form #result-wrap{position:absolute;box-sizing:content-box;top:45px;left:-50px;z-index:6;width:120%;padding:20px;color:#333;background:#fff;border-radius:4px;box-shadow:1px 2px 2px #ccc;border:1px solid #ccc}.widget #search-form #result-wrap:after,.widget #search-form #result-wrap:before{position:absolute;display:inline-block;border-width:0 12px 12px;border-style:solid;right:80px;content:''}.widget #search-form #result-wrap:before{border-color:#ccc transparent;top:-12px}.widget #search-form #result-wrap:after{border-color:#fff transparent;top:-10px}.widget #search-form #result-wrap #search-result{width:100%;box-sizing:content-box;padding-right:20px;margin-right:-20px;max-height:400px;overflow-y:auto}.widget #search-form #result-wrap #search-result .tips{text-align:center}.widget #search-form #result-wrap #search-result .item{padding:8px 0}.widget #search-form #result-wrap #search-result .item:last-child .content{border-bottom:0}.widget #search-form #result-wrap #search-result .item a:hover{text-decoration:none}.widget #search-form #result-wrap #search-result .item .title{line-height:1.25;font-size:16px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;margin-bottom:0;color:#333;border:0}.widget #search-form #result-wrap #search-result .item .title:hover{color:#e67e22}.widget #search-form #result-wrap #search-result .item .title b{margin:0 2px;color:#e67e22}.widget #search-form #result-wrap #search-result .item .content{font-size:14px;color:#666;padding-bottom:10px;border-bottom:1px solid #ccc}.widget #search-form #result-wrap #search-result .item .content b{color:#e67e22;margin:0 2px}#article-toc{padding-top:1em;background-color:#fff;top:0;bottom:70px;overflow-y:auto}#article-toc .toc{padding-left:2em}#article-toc .toc .toc-item .toc-link{display:block;color:#333;text-decoration:none;padding:4px 0;line-height:1.25em;position:relative;width:100%;overflow:hidden}#article-toc .toc .toc-item .toc-link:hover{color:#e67e22;-webkit-transition:.15s;transition:.15s}.copyright,.copyright a{color:#666}#article-toc .toc .toc-item.toc-level-2>.toc-link{font-size:15px}.copyright{background:#111;font-size:13px;text-align:center;padding-top:20px;padding-bottom:20px;border-top:1px solid #303030}.copyright span{margin:0 .5em}#back-to-top,#toc-btn{position:fixed;right:30px;bottom:30px;background-color:#959595;color:#fff;text-align:center;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;z-index:1;cursor:pointer}#back-to-top:hover,#toc-btn:hover{background:#e67e22;-webkit-transition:all .2s;transition:all .2s}#back-to-top i,#toc-btn i{width:30px;height:30px;line-height:30px}#toc-btn{bottom:65px}.reward{padding:5px 0}.reward .reward-wrap{position:relative;display:block;font-size:30px;width:62px;height:62px;line-height:60px;margin:0 auto;cursor:pointer;text-align:center;vertical-align:middle;color:#ff8140;-webkit-user-select:none;border:1px solid #d9d9d9;-webkit-box-shadow:0 0 2px #d9d9d9;-moz-box-shadow:0 0 2px #d9d9d9;box-shadow:0 0 2px #d9d9d9;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.reward .reward-wrap .reward-box{position:absolute;top:-220px;left:50%;display:none;width:350px;height:200px;margin-left:-175px;padding:15px;border:1px solid #e6e6e6;background-color:#fff;-webkit-box-shadow:0 1px 1px 1px #efefef;-moz-box-shadow:0 1px 1px 1px #efefef;box-shadow:0 1px 1px 1px #efefef}.reward .reward-wrap .reward-box span,.reward .reward-wrap .reward-box span img{display:inline-block;width:150px;height:150px}.reward .reward-wrap .reward-box span img{float:left;margin:0 auto;border:0}.reward .reward-wrap .reward-box span b{font-size:14px;line-height:26px;display:block;text-align:center;color:#666}.reward .reward-wrap .reward-box:after,.reward .reward-wrap .reward-box:before{position:absolute;content:'';border:10px solid transparent}.reward .reward-wrap .reward-box:before{bottom:-20px;left:50%;margin-left:-10px;border-top-color:#e6e6e6}.reward .reward-wrap .reward-box:after{bottom:-19px;left:50%;margin-left:-10px;border-top-color:#fff}.reward .reward-wrap:hover{color:#fff;background-color:#ff8140;border:1px solid #ff8140;-webkit-transition:all .2s;transition:all .2s}.reward .reward-wrap:hover .reward-box{display:block}.reward .reward-tip{font-size:18px;font-weight:700;letter-spacing:1px;color:#969696;margin:15px auto;text-align:center;min-height:24px}.timebox{position:relative;width:100%;padding:0 20px;margin:20px auto;background:url(../img/timeline.gif) 207px 0 repeat-y;overflow:hidden}.timeline h2{height:44px;line-height:44px;font-size:30px;color:#666;font-weight:700;padding-left:75px;margin-bottom:25px;background:url(../img/timeline-clock.gif) 165px 0 no-repeat #fff}.timeline h2 img{vertical-align:-5px}.timeline ul{margin:0;padding:0}.timeline ul li{background:url(../img/timeline-dot.gif) 180px 5px no-repeat;padding-bottom:20px;zoom:1;overflow:hidden}.timeline ul li:after{content:\" \";display:block;height:0;clear:both;visibility:hidden}.timeline ul li h3{float:left;width:168px;font-size:20px;color:#333;text-align:right;padding-right:15px;margin:0}.timeline ul li h3 span{color:#666;font-size:12px;margin-left:3px}.timeline ul li a{padding-left:41px;margin-top:-5px;font-weight:400;font-size:16px;color:#505050}.timeline ul li a:hover{text-decoration:none;color:#e67e22}@media screen and (max-width:500px){.timebox{background-position:97px 0}.timeline h2{padding-left:40%;background-position:48px 0}.timeline ul li{background-position:70px 5px}.timeline ul li h3{width:68px}}.highlight,pre,pre code{padding:0;color:#c5c8c6}.highlight,pre{overflow:auto;margin:20px 0;font-size:13px;background:#1d1f21;line-height:1.6}code{padding:2px 4px;overflow:hidden;color:#666;background:#eee;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}pre code{background:0 0;text-shadow:none}pre .meta{color:#b294bb}pre .comment{color:#969896}.highlight{-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px}.highlight pre{border:none;margin:0;padding:10px 0}.highlight table{margin:0;width:auto;border:none}.highlight td{border:none;padding:0}.highlight figcaption{font-size:1em;color:#c5c8c6;line-height:1em;margin-bottom:1em}.highlight figcaption a{float:right;color:#c5c8c6}.highlight figcaption a:hover{border-bottom-color:#c5c8c6}.highlight .gutter pre{padding-left:10px;padding-right:10px;color:#888f96;text-align:right;background-color:#000}.highlight .code pre{width:100%;padding-left:10px;padding-right:10px;background-color:#1d1f21}.highlight .line{height:20px}.gutter{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gist table{width:auto}.gist table td{border:none}pre .attribute,pre .css .class,pre .css .id,pre .css .pseudo,pre .html .doctype,pre .regexp,pre .ruby .constant,pre .tag,pre .variable,pre .xml .doctype,pre .xml .pi,pre .xml .tag .title{color:#c66}pre .built_in,pre .command,pre .constant,pre .literal,pre .number,pre .params,pre .preprocessor{color:#de935f}pre .css .rules .attribute,pre .formula,pre .header,pre .inheritance,pre .number,pre .ruby .class .title,pre .ruby .symbol,pre .special,pre .string,pre .value,pre .xml .cdata{color:#b5bd68}pre .css .hexcolor,pre .title{color:#8abeb7}pre .coffeescript .title,pre .function,pre .javascript .title,pre .perl .sub,pre .python .decorator,pre .python .title,pre .ruby .function .title,pre .ruby .title .keyword{color:#81a2be}pre .javascript .function,pre .keyword{color:#b294bb}::-webkit-scrollbar{-webkit-appearance:none;height:5px;width:5px}::-webkit-scrollbar-track{background-color:inherit}::-webkit-scrollbar-thumb{-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;background-color:rgba(1,1,1,.12)}::-webkit-scrollbar-thumb:hover{background-color:rgba(1,1,1,.22)}@media screen and (max-width:767px){.main-navigation .navbar-brand,.prev-next-wrap a{display:block}.main-navigation,.post .post-head{text-align:left}.main-navigation .menu li{display:block;width:33%;float:left}.main-navigation .menu li:hover>a{color:#e67e22;text-decoration:none}.main-navigation .menu li a{padding:0}.main-navigation .menu li ul{visibility:visible;padding:0 0 0 20px;margin:0;position:relative;top:0;width:100%;opacity:1;filter:alpha(opacity=100)}.prev-next-wrap{margin:15px}.post .post-head h1{line-height:1.25em}.post .post-content p.brief{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.post .post-media{float:none;width:100%;height:auto;margin:0 0 1em}#article-toc,.post-footer{display:none}.content-wrap .m-post{padding:0}.widget #search-form #result-wrap{left:-25px;width:100%}}@media screen and (min-width:768px){.nav-toggle-button{display:none}}@media screen and (min-width:1100px){.post-content blockquote{padding-left:20px;border-width:4px}.post-content blockquote blockquote{margin-left:0}.post-content figure img{margin:0 0 4px}.post-content figure figcaption{position:absolute;left:-172px;width:150px;top:0;text-align:right;margin-top:0}.post-content figure figcaption:before{width:25%;margin-left:75%;border-top:1px solid #dededc;display:block;content:\"\";margin-bottom:10px}}"},{"title":"","date":"2019-11-27T15:22:15.808Z","updated":"2019-11-27T15:22:15.808Z","comments":true,"path":"public/js/languages.js","permalink":"http://ltyeamin.github.io/public/js/languages.js","excerpt":"","text":"var calLanguages={ar:{months:[\"ÙƒØ§Ù†ÙˆÙ† Ø§Ù„Ø«Ø§Ù†ÙŠ\",\"Ø´Ø¨Ø§Ø·\",\"Ø¢Ø°Ø§Ø±\",\"Ù†ÙŠØ³Ø§Ù†\",\"Ù…Ø§ÙŠÙˆ\",\"Ø­Ø²ÙŠØ±Ø§Ù†\",\"ØªÙ…ÙˆØ²\",\"Ø¢Ø¨\",\"Ø£ÙŠÙ„ÙˆÙ„\",\"ØªØ´Ø±ÙŠÙ† Ø§Ù„Ø£ÙˆÙ„\",\"ØªØ´Ø±ÙŠÙ† Ø§Ù„Ø«Ø§Ù†ÙŠ\",\"ÙƒØ§Ù†ÙˆÙ† Ø§Ù„Ø£ÙˆÙ„\"],dayOfWeekShort:[\"Ù†\",\"Ø«\",\"Ø¹\",\"Ø®\",\"Ø¬\",\"Ø³\",\"Ø­\"],dayOfWeek:[\"Ø§Ù„Ø£Ø­Ø¯\",\"Ø§Ù„Ø§Ø«Ù†ÙŠÙ†\",\"Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡\",\"Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡\",\"Ø§Ù„Ø®Ù…ÙŠØ³\",\"Ø§Ù„Ø¬Ù…Ø¹Ø©\",\"Ø§Ù„Ø³Ø¨Øª\",\"Ø§Ù„Ø£Ø­Ø¯\"]},ro:{months:[\"Ianuarie\",\"Februarie\",\"Martie\",\"Aprilie\",\"Mai\",\"Iunie\",\"Iulie\",\"August\",\"Septembrie\",\"Octombrie\",\"Noiembrie\",\"Decembrie\"],dayOfWeekShort:[\"Du\",\"Lu\",\"Ma\",\"Mi\",\"Jo\",\"Vi\",\"SÃ¢\"],dayOfWeek:[\"DuminicÄƒ\",\"Luni\",\"MarÅ£i\",\"Miercuri\",\"Joi\",\"Vineri\",\"SÃ¢mbÄƒtÄƒ\"]},id:{months:[\"Januari\",\"Februari\",\"Maret\",\"April\",\"Mei\",\"Juni\",\"Juli\",\"Agustus\",\"September\",\"Oktober\",\"November\",\"Desember\"],dayOfWeekShort:[\"Min\",\"Sen\",\"Sel\",\"Rab\",\"Kam\",\"Jum\",\"Sab\"],dayOfWeek:[\"Minggu\",\"Senin\",\"Selasa\",\"Rabu\",\"Kamis\",\"Jumat\",\"Sabtu\"]},is:{months:[\"JanÃºar\",\"FebrÃºar\",\"Mars\",\"AprÃ­l\",\"MaÃ­\",\"JÃºnÃ­\",\"JÃºlÃ­\",\"ÃgÃºst\",\"September\",\"OktÃ³ber\",\"NÃ³vember\",\"Desember\"],dayOfWeekShort:[\"Sun\",\"MÃ¡n\",\"ÃžriÃ°\",\"MiÃ°\",\"Fim\",\"FÃ¶s\",\"Lau\"],dayOfWeek:[\"Sunnudagur\",\"MÃ¡nudagur\",\"ÃžriÃ°judagur\",\"MiÃ°vikudagur\",\"Fimmtudagur\",\"FÃ¶studagur\",\"Laugardagur\"]},bg:{months:[\"Ð¯Ð½ÑƒÐ°Ñ€Ð¸\",\"Ð¤ÐµÐ²Ñ€ÑƒÐ°Ñ€Ð¸\",\"ÐœÐ°Ñ€Ñ‚\",\"ÐÐ¿Ñ€Ð¸Ð»\",\"ÐœÐ°Ð¹\",\"Ð®Ð½Ð¸\",\"Ð®Ð»Ð¸\",\"ÐÐ²Ð³ÑƒÑÑ‚\",\"Ð¡ÐµÐ¿Ñ‚ÐµÐ¼Ð²Ñ€Ð¸\",\"ÐžÐºÑ‚Ð¾Ð¼Ð²Ñ€Ð¸\",\"ÐÐ¾ÐµÐ¼Ð²Ñ€Ð¸\",\"Ð”ÐµÐºÐµÐ¼Ð²Ñ€Ð¸\"],dayOfWeekShort:[\"ÐÐ´\",\"ÐŸÐ½\",\"Ð’Ñ‚\",\"Ð¡Ñ€\",\"Ð§Ñ‚\",\"ÐŸÑ‚\",\"Ð¡Ð±\"],dayOfWeek:[\"ÐÐµÐ´ÐµÐ»Ñ\",\"ÐŸÐ¾Ð½ÐµÐ´ÐµÐ»Ð½Ð¸Ðº\",\"Ð’Ñ‚Ð¾Ñ€Ð½Ð¸Ðº\",\"Ð¡Ñ€ÑÐ´Ð°\",\"Ð§ÐµÑ‚Ð²ÑŠÑ€Ñ‚ÑŠÐº\",\"ÐŸÐµÑ‚ÑŠÐº\",\"Ð¡ÑŠÐ±Ð¾Ñ‚Ð°\"]},fa:{months:[\"ÙØ±ÙˆØ±Ø¯ÛŒÙ†\",\"Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª\",\"Ø®Ø±Ø¯Ø§Ø¯\",\"ØªÛŒØ±\",\"Ù…Ø±Ø¯Ø§Ø¯\",\"Ø´Ù‡Ø±ÛŒÙˆØ±\",\"Ù…Ù‡Ø±\",\"Ø¢Ø¨Ø§Ù†\",\"Ø¢Ø°Ø±\",\"Ø¯ÛŒ\",\"Ø¨Ù‡Ù…Ù†\",\"Ø§Ø³ÙÙ†Ø¯\"],dayOfWeekShort:[\"ÛŒÚ©Ø´Ù†Ø¨Ù‡\",\"Ø¯ÙˆØ´Ù†Ø¨Ù‡\",\"Ø³Ù‡ Ø´Ù†Ø¨Ù‡\",\"Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡\",\"Ù¾Ù†Ø¬Ø´Ù†Ø¨Ù‡\",\"Ø¬Ù…Ø¹Ù‡\",\"Ø´Ù†Ø¨Ù‡\"],dayOfWeek:[\"ÛŒÚ©â€ŒØ´Ù†Ø¨Ù‡\",\"Ø¯ÙˆØ´Ù†Ø¨Ù‡\",\"Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡\",\"Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡\",\"Ù¾Ù†Ø¬â€ŒØ´Ù†Ø¨Ù‡\",\"Ø¬Ù…Ø¹Ù‡\",\"Ø´Ù†Ø¨Ù‡\",\"ÛŒÚ©â€ŒØ´Ù†Ø¨Ù‡\"]},ru:{months:[\"Ð¯Ð½Ð²Ð°Ñ€ÑŒ\",\"Ð¤ÐµÐ²Ñ€Ð°Ð»ÑŒ\",\"ÐœÐ°Ñ€Ñ‚\",\"ÐÐ¿Ñ€ÐµÐ»ÑŒ\",\"ÐœÐ°Ð¹\",\"Ð˜ÑŽÐ½ÑŒ\",\"Ð˜ÑŽÐ»ÑŒ\",\"ÐÐ²Ð³ÑƒÑÑ‚\",\"Ð¡ÐµÐ½Ñ‚ÑÐ±Ñ€ÑŒ\",\"ÐžÐºÑ‚ÑÐ±Ñ€ÑŒ\",\"ÐÐ¾ÑÐ±Ñ€ÑŒ\",\"Ð”ÐµÐºÐ°Ð±Ñ€ÑŒ\"],dayOfWeekShort:[\"Ð’Ñ\",\"ÐŸÐ½\",\"Ð’Ñ‚\",\"Ð¡Ñ€\",\"Ð§Ñ‚\",\"ÐŸÑ‚\",\"Ð¡Ð±\"],dayOfWeek:[\"Ð’Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ\",\"ÐŸÐ¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸Ðº\",\"Ð’Ñ‚Ð¾Ñ€Ð½Ð¸Ðº\",\"Ð¡Ñ€ÐµÐ´Ð°\",\"Ð§ÐµÑ‚Ð²ÐµÑ€Ð³\",\"ÐŸÑÑ‚Ð½Ð¸Ñ†Ð°\",\"Ð¡ÑƒÐ±Ð±Ð¾Ñ‚Ð°\"]},uk:{months:[\"Ð¡Ñ–Ñ‡ÐµÐ½ÑŒ\",\"Ð›ÑŽÑ‚Ð¸Ð¹\",\"Ð‘ÐµÑ€ÐµÐ·ÐµÐ½ÑŒ\",\"ÐšÐ²Ñ–Ñ‚ÐµÐ½ÑŒ\",\"Ð¢Ñ€Ð°Ð²ÐµÐ½ÑŒ\",\"Ð§ÐµÑ€Ð²ÐµÐ½ÑŒ\",\"Ð›Ð¸Ð¿ÐµÐ½ÑŒ\",\"Ð¡ÐµÑ€Ð¿ÐµÐ½ÑŒ\",\"Ð’ÐµÑ€ÐµÑÐµÐ½ÑŒ\",\"Ð–Ð¾Ð²Ñ‚ÐµÐ½ÑŒ\",\"Ð›Ð¸ÑÑ‚Ð¾Ð¿Ð°Ð´\",\"Ð“Ñ€ÑƒÐ´ÐµÐ½ÑŒ\"],dayOfWeekShort:[\"ÐÐ´Ð»\",\"ÐŸÐ½Ð´\",\"Ð’Ñ‚Ñ€\",\"Ð¡Ñ€Ð´\",\"Ð§Ñ‚Ð²\",\"ÐŸÑ‚Ð½\",\"Ð¡Ð±Ñ‚\"],dayOfWeek:[\"ÐÐµÐ´Ñ–Ð»Ñ\",\"ÐŸÐ¾Ð½ÐµÐ´Ñ–Ð»Ð¾Ðº\",\"Ð’Ñ–Ð²Ñ‚Ð¾Ñ€Ð¾Ðº\",\"Ð¡ÐµÑ€ÐµÐ´Ð°\",\"Ð§ÐµÑ‚Ð²ÐµÑ€\",\"ÐŸ'ÑÑ‚Ð½Ð¸Ñ†Ñ\",\"Ð¡ÑƒÐ±Ð¾Ñ‚Ð°\"]},en:{months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],dayOfWeekShort:[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],dayOfWeek:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],postsMonthTip:\"Posts published in LMM yyyy\",titleFormat:\"LMM yyyy\"},el:{months:[\"Î™Î±Î½Î¿Ï…Î¬ÏÎ¹Î¿Ï‚\",\"Î¦ÎµÎ²ÏÎ¿Ï…Î¬ÏÎ¹Î¿Ï‚\",\"ÎœÎ¬ÏÏ„Î¹Î¿Ï‚\",\"Î‘Ï€ÏÎ¯Î»Î¹Î¿Ï‚\",\"ÎœÎ¬Î¹Î¿Ï‚\",\"Î™Î¿ÏÎ½Î¹Î¿Ï‚\",\"Î™Î¿ÏÎ»Î¹Î¿Ï‚\",\"Î‘ÏÎ³Î¿Ï…ÏƒÏ„Î¿Ï‚\",\"Î£ÎµÏ€Ï„Î­Î¼Î²ÏÎ¹Î¿Ï‚\",\"ÎŸÎºÏ„ÏŽÎ²ÏÎ¹Î¿Ï‚\",\"ÎÎ¿Î­Î¼Î²ÏÎ¹Î¿Ï‚\",\"Î”ÎµÎºÎ­Î¼Î²ÏÎ¹Î¿Ï‚\"],dayOfWeekShort:[\"ÎšÏ…Ï\",\"Î”ÎµÏ…\",\"Î¤ÏÎ¹\",\"Î¤ÎµÏ„\",\"Î ÎµÎ¼\",\"Î Î±Ï\",\"Î£Î±Î²\"],dayOfWeek:[\"ÎšÏ…ÏÎ¹Î±ÎºÎ®\",\"Î”ÎµÏ…Ï„Î­ÏÎ±\",\"Î¤ÏÎ¯Ï„Î·\",\"Î¤ÎµÏ„Î¬ÏÏ„Î·\",\"Î Î­Î¼Ï€Ï„Î·\",\"Î Î±ÏÎ±ÏƒÎºÎµÏ…Î®\",\"Î£Î¬Î²Î²Î±Ï„Î¿\"]},de:{months:[\"Januar\",\"Februar\",\"MÃ¤rz\",\"April\",\"Mai\",\"Juni\",\"Juli\",\"August\",\"September\",\"Oktober\",\"November\",\"Dezember\"],dayOfWeekShort:[\"So\",\"Mo\",\"Di\",\"Mi\",\"Do\",\"Fr\",\"Sa\"],dayOfWeek:[\"Sonntag\",\"Montag\",\"Dienstag\",\"Mittwoch\",\"Donnerstag\",\"Freitag\",\"Samstag\"]},nl:{months:[\"januari\",\"februari\",\"maart\",\"april\",\"mei\",\"juni\",\"juli\",\"augustus\",\"september\",\"oktober\",\"november\",\"december\"],dayOfWeekShort:[\"zo\",\"ma\",\"di\",\"wo\",\"do\",\"vr\",\"za\"],dayOfWeek:[\"zondag\",\"maandag\",\"dinsdag\",\"woensdag\",\"donderdag\",\"vrijdag\",\"zaterdag\"]},tr:{months:[\"Ocak\",\"Åžubat\",\"Mart\",\"Nisan\",\"MayÄ±s\",\"Haziran\",\"Temmuz\",\"AÄŸustos\",\"EylÃ¼l\",\"Ekim\",\"KasÄ±m\",\"AralÄ±k\"],dayOfWeekShort:[\"Paz\",\"Pts\",\"Sal\",\"Ã‡ar\",\"Per\",\"Cum\",\"Cts\"],dayOfWeek:[\"Pazar\",\"Pazartesi\",\"SalÄ±\",\"Ã‡arÅŸamba\",\"PerÅŸembe\",\"Cuma\",\"Cumartesi\"]},fr:{months:[\"Janvier\",\"FÃ©vrier\",\"Mars\",\"Avril\",\"Mai\",\"Juin\",\"Juillet\",\"AoÃ»t\",\"Septembre\",\"Octobre\",\"Novembre\",\"DÃ©cembre\"],dayOfWeekShort:[\"Dim\",\"Lun\",\"Mar\",\"Mer\",\"Jeu\",\"Ven\",\"Sam\"],dayOfWeek:[\"dimanche\",\"lundi\",\"mardi\",\"mercredi\",\"jeudi\",\"vendredi\",\"samedi\"]},es:{months:[\"Enero\",\"Febrero\",\"Marzo\",\"Abril\",\"Mayo\",\"Junio\",\"Julio\",\"Agosto\",\"Septiembre\",\"Octubre\",\"Noviembre\",\"Diciembre\"],dayOfWeekShort:[\"Dom\",\"Lun\",\"Mar\",\"MiÃ©\",\"Jue\",\"Vie\",\"SÃ¡b\"],dayOfWeek:[\"Domingo\",\"Lunes\",\"Martes\",\"MiÃ©rcoles\",\"Jueves\",\"Viernes\",\"SÃ¡bado\"]},th:{months:[\"à¸¡à¸à¸£à¸²à¸„à¸¡\",\"à¸à¸¸à¸¡à¸ à¸²à¸žà¸±à¸™à¸˜à¹Œ\",\"à¸¡à¸µà¸™à¸²à¸„à¸¡\",\"à¹€à¸¡à¸©à¸²à¸¢à¸™\",\"à¸žà¸¤à¸©à¸ à¸²à¸„à¸¡\",\"à¸¡à¸´à¸–à¸¸à¸™à¸²à¸¢à¸™\",\"à¸à¸£à¸à¸Žà¸²à¸„à¸¡\",\"à¸ªà¸´à¸‡à¸«à¸²à¸„à¸¡\",\"à¸à¸±à¸™à¸¢à¸²à¸¢à¸™\",\"à¸•à¸¸à¸¥à¸²à¸„à¸¡\",\"à¸žà¸¤à¸¨à¸ˆà¸´à¸à¸²à¸¢à¸™\",\"à¸˜à¸±à¸™à¸§à¸²à¸„à¸¡\"],dayOfWeekShort:[\"à¸­à¸².\",\"à¸ˆ.\",\"à¸­.\",\"à¸ž.\",\"à¸žà¸¤.\",\"à¸¨.\",\"à¸ª.\"],dayOfWeek:[\"à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ\",\"à¸ˆà¸±à¸™à¸—à¸£à¹Œ\",\"à¸­à¸±à¸‡à¸„à¸²à¸£\",\"à¸žà¸¸à¸˜\",\"à¸žà¸¤à¸«à¸±à¸ª\",\"à¸¨à¸¸à¸à¸£à¹Œ\",\"à¹€à¸ªà¸²à¸£à¹Œ\",\"à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ\"]},pl:{months:[\"styczeÅ„\",\"luty\",\"marzec\",\"kwiecieÅ„\",\"maj\",\"czerwiec\",\"lipiec\",\"sierpieÅ„\",\"wrzesieÅ„\",\"paÅºdziernik\",\"listopad\",\"grudzieÅ„\"],dayOfWeekShort:[\"nd\",\"pn\",\"wt\",\"Å›r\",\"cz\",\"pt\",\"sb\"],dayOfWeek:[\"niedziela\",\"poniedziaÅ‚ek\",\"wtorek\",\"Å›roda\",\"czwartek\",\"piÄ…tek\",\"sobota\"]},pt:{months:[\"Janeiro\",\"Fevereiro\",\"MarÃ§o\",\"Abril\",\"Maio\",\"Junho\",\"Julho\",\"Agosto\",\"Setembro\",\"Outubro\",\"Novembro\",\"Dezembro\"],dayOfWeekShort:[\"Dom\",\"Seg\",\"Ter\",\"Qua\",\"Qui\",\"Sex\",\"Sab\"],dayOfWeek:[\"Domingo\",\"Segunda\",\"TerÃ§a\",\"Quarta\",\"Quinta\",\"Sexta\",\"SÃ¡bado\"]},ch:{months:[\"ä¸€æœˆ\",\"äºŒæœˆ\",\"ä¸‰æœˆ\",\"å››æœˆ\",\"äº”æœˆ\",\"å…­æœˆ\",\"ä¸ƒæœˆ\",\"å…«æœˆ\",\"ä¹æœˆ\",\"åæœˆ\",\"åä¸€æœˆ\",\"åäºŒæœˆ\"],dayOfWeekShort:[\"æ—¥\",\"ä¸€\",\"äºŒ\",\"ä¸‰\",\"å››\",\"äº”\",\"å…­\"]},se:{months:[\"Januari\",\"Februari\",\"Mars\",\"April\",\"Maj\",\"Juni\",\"Juli\",\"Augusti\",\"September\",\"Oktober\",\"November\",\"December\"],dayOfWeekShort:[\"SÃ¶n\",\"MÃ¥n\",\"Tis\",\"Ons\",\"Tor\",\"Fre\",\"LÃ¶r\"]},kr:{months:[\"1ì›”\",\"2ì›”\",\"3ì›”\",\"4ì›”\",\"5ì›”\",\"6ì›”\",\"7ì›”\",\"8ì›”\",\"9ì›”\",\"10ì›”\",\"11ì›”\",\"12ì›”\"],dayOfWeekShort:[\"ì¼\",\"ì›”\",\"í™”\",\"ìˆ˜\",\"ëª©\",\"ê¸ˆ\",\"í† \"],dayOfWeek:[\"ì¼ìš”ì¼\",\"ì›”ìš”ì¼\",\"í™”ìš”ì¼\",\"ìˆ˜ìš”ì¼\",\"ëª©ìš”ì¼\",\"ê¸ˆìš”ì¼\",\"í† ìš”ì¼\"]},it:{months:[\"Gennaio\",\"Febbraio\",\"Marzo\",\"Aprile\",\"Maggio\",\"Giugno\",\"Luglio\",\"Agosto\",\"Settembre\",\"Ottobre\",\"Novembre\",\"Dicembre\"],dayOfWeekShort:[\"Dom\",\"Lun\",\"Mar\",\"Mer\",\"Gio\",\"Ven\",\"Sab\"],dayOfWeek:[\"Domenica\",\"LunedÃ¬\",\"MartedÃ¬\",\"MercoledÃ¬\",\"GiovedÃ¬\",\"VenerdÃ¬\",\"Sabato\"]},da:{months:[\"January\",\"Februar\",\"Marts\",\"April\",\"Maj\",\"Juni\",\"July\",\"August\",\"September\",\"Oktober\",\"November\",\"December\"],dayOfWeekShort:[\"SÃ¸n\",\"Man\",\"Tir\",\"Ons\",\"Tor\",\"Fre\",\"LÃ¸r\"],dayOfWeek:[\"sÃ¸ndag\",\"mandag\",\"tirsdag\",\"onsdag\",\"torsdag\",\"fredag\",\"lÃ¸rdag\"]},no:{months:[\"Januar\",\"Februar\",\"Mars\",\"April\",\"Mai\",\"Juni\",\"Juli\",\"August\",\"September\",\"Oktober\",\"November\",\"Desember\"],dayOfWeekShort:[\"SÃ¸n\",\"Man\",\"Tir\",\"Ons\",\"Tor\",\"Fre\",\"LÃ¸r\"],dayOfWeek:[\"SÃ¸ndag\",\"Mandag\",\"Tirsdag\",\"Onsdag\",\"Torsdag\",\"Fredag\",\"LÃ¸rdag\"]},ja:{months:[\"1æœˆ\",\"2æœˆ\",\"3æœˆ\",\"4æœˆ\",\"5æœˆ\",\"6æœˆ\",\"7æœˆ\",\"8æœˆ\",\"9æœˆ\",\"10æœˆ\",\"11æœˆ\",\"12æœˆ\"],dayOfWeekShort:[\"æ—¥\",\"æœˆ\",\"ç«\",\"æ°´\",\"æœ¨\",\"é‡‘\",\"åœŸ\"],dayOfWeek:[\"æ—¥æ›œ\",\"æœˆæ›œ\",\"ç«æ›œ\",\"æ°´æ›œ\",\"æœ¨æ›œ\",\"é‡‘æ›œ\",\"åœŸæ›œ\"]},vi:{months:[\"ThÃ¡ng 1\",\"ThÃ¡ng 2\",\"ThÃ¡ng 3\",\"ThÃ¡ng 4\",\"ThÃ¡ng 5\",\"ThÃ¡ng 6\",\"ThÃ¡ng 7\",\"ThÃ¡ng 8\",\"ThÃ¡ng 9\",\"ThÃ¡ng 10\",\"ThÃ¡ng 11\",\"ThÃ¡ng 12\"],dayOfWeekShort:[\"CN\",\"T2\",\"T3\",\"T4\",\"T5\",\"T6\",\"T7\"],dayOfWeek:[\"Chá»§ nháº­t\",\"Thá»© hai\",\"Thá»© ba\",\"Thá»© tÆ°\",\"Thá»© nÄƒm\",\"Thá»© sÃ¡u\",\"Thá»© báº£y\"]},sl:{months:[\"Januar\",\"Februar\",\"Marec\",\"April\",\"Maj\",\"Junij\",\"Julij\",\"Avgust\",\"September\",\"Oktober\",\"November\",\"December\"],dayOfWeekShort:[\"Ned\",\"Pon\",\"Tor\",\"Sre\",\"ÄŒet\",\"Pet\",\"Sob\"],dayOfWeek:[\"Nedelja\",\"Ponedeljek\",\"Torek\",\"Sreda\",\"ÄŒetrtek\",\"Petek\",\"Sobota\"]},cs:{months:[\"Leden\",\"Ãšnor\",\"BÅ™ezen\",\"Duben\",\"KvÄ›ten\",\"ÄŒerven\",\"ÄŒervenec\",\"Srpen\",\"ZÃ¡Å™Ã­\",\"Å˜Ã­jen\",\"Listopad\",\"Prosinec\"],dayOfWeekShort:[\"Ne\",\"Po\",\"Ãšt\",\"St\",\"ÄŒt\",\"PÃ¡\",\"So\"]},hu:{months:[\"JanuÃ¡r\",\"FebruÃ¡r\",\"MÃ¡rcius\",\"Ãprilis\",\"MÃ¡jus\",\"JÃºnius\",\"JÃºlius\",\"Augusztus\",\"Szeptember\",\"OktÃ³ber\",\"November\",\"December\"],dayOfWeekShort:[\"Va\",\"HÃ©\",\"Ke\",\"Sze\",\"Cs\",\"PÃ©\",\"Szo\"],dayOfWeek:[\"vasÃ¡rnap\",\"hÃ©tfÅ‘\",\"kedd\",\"szerda\",\"csÃ¼tÃ¶rtÃ¶k\",\"pÃ©ntek\",\"szombat\"]},az:{months:[\"Yanvar\",\"Fevral\",\"Mart\",\"Aprel\",\"May\",\"Iyun\",\"Iyul\",\"Avqust\",\"Sentyabr\",\"Oktyabr\",\"Noyabr\",\"Dekabr\"],dayOfWeekShort:[\"B\",\"Be\",\"Ã‡a\",\"Ã‡\",\"Ca\",\"C\",\"Åž\"],dayOfWeek:[\"Bazar\",\"Bazar ertÉ™si\",\"Ã‡É™rÅŸÉ™nbÉ™ axÅŸamÄ±\",\"Ã‡É™rÅŸÉ™nbÉ™\",\"CÃ¼mÉ™ axÅŸamÄ±\",\"CÃ¼mÉ™\",\"ÅžÉ™nbÉ™\"]},bs:{months:[\"Januar\",\"Februar\",\"Mart\",\"April\",\"Maj\",\"Jun\",\"Jul\",\"Avgust\",\"Septembar\",\"Oktobar\",\"Novembar\",\"Decembar\"],dayOfWeekShort:[\"Ned\",\"Pon\",\"Uto\",\"Sri\",\"ÄŒet\",\"Pet\",\"Sub\"],dayOfWeek:[\"Nedjelja\",\"Ponedjeljak\",\"Utorak\",\"Srijeda\",\"ÄŒetvrtak\",\"Petak\",\"Subota\"]},ca:{months:[\"Gener\",\"Febrer\",\"MarÃ§\",\"Abril\",\"Maig\",\"Juny\",\"Juliol\",\"Agost\",\"Setembre\",\"Octubre\",\"Novembre\",\"Desembre\"],dayOfWeekShort:[\"Dg\",\"Dl\",\"Dt\",\"Dc\",\"Dj\",\"Dv\",\"Ds\"],dayOfWeek:[\"Diumenge\",\"Dilluns\",\"Dimarts\",\"Dimecres\",\"Dijous\",\"Divendres\",\"Dissabte\"]},\"en-GB\":{months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],dayOfWeekShort:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],dayOfWeek:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},et:{months:[\"Jaanuar\",\"Veebruar\",\"MÃ¤rts\",\"Aprill\",\"Mai\",\"Juuni\",\"Juuli\",\"August\",\"September\",\"Oktoober\",\"November\",\"Detsember\"],dayOfWeekShort:[\"P\",\"E\",\"T\",\"K\",\"N\",\"R\",\"L\"],dayOfWeek:[\"PÃ¼hapÃ¤ev\",\"EsmaspÃ¤ev\",\"TeisipÃ¤ev\",\"KolmapÃ¤ev\",\"NeljapÃ¤ev\",\"Reede\",\"LaupÃ¤ev\"]},eu:{months:[\"Urtarrila\",\"Otsaila\",\"Martxoa\",\"Apirila\",\"Maiatza\",\"Ekaina\",\"Uztaila\",\"Abuztua\",\"Iraila\",\"Urria\",\"Azaroa\",\"Abendua\"],dayOfWeekShort:[\"Ig.\",\"Al.\",\"Ar.\",\"Az.\",\"Og.\",\"Or.\",\"La.\"],dayOfWeek:[\"Igandea\",\"Astelehena\",\"Asteartea\",\"Asteazkena\",\"Osteguna\",\"Ostirala\",\"Larunbata\"]},fi:{months:[\"Tammikuu\",\"Helmikuu\",\"Maaliskuu\",\"Huhtikuu\",\"Toukokuu\",\"KesÃ¤kuu\",\"HeinÃ¤kuu\",\"Elokuu\",\"Syyskuu\",\"Lokakuu\",\"Marraskuu\",\"Joulukuu\"],dayOfWeekShort:[\"Su\",\"Ma\",\"Ti\",\"Ke\",\"To\",\"Pe\",\"La\"],dayOfWeek:[\"sunnuntai\",\"maanantai\",\"tiistai\",\"keskiviikko\",\"torstai\",\"perjantai\",\"lauantai\"]},gl:{months:[\"Xan\",\"Feb\",\"Maz\",\"Abr\",\"Mai\",\"Xun\",\"Xul\",\"Ago\",\"Set\",\"Out\",\"Nov\",\"Dec\"],dayOfWeekShort:[\"Dom\",\"Lun\",\"Mar\",\"Mer\",\"Xov\",\"Ven\",\"Sab\"],dayOfWeek:[\"Domingo\",\"Luns\",\"Martes\",\"MÃ©rcores\",\"Xoves\",\"Venres\",\"SÃ¡bado\"]},hr:{months:[\"SijeÄanj\",\"VeljaÄa\",\"OÅ¾ujak\",\"Travanj\",\"Svibanj\",\"Lipanj\",\"Srpanj\",\"Kolovoz\",\"Rujan\",\"Listopad\",\"Studeni\",\"Prosinac\"],dayOfWeekShort:[\"Ned\",\"Pon\",\"Uto\",\"Sri\",\"ÄŒet\",\"Pet\",\"Sub\"],dayOfWeek:[\"Nedjelja\",\"Ponedjeljak\",\"Utorak\",\"Srijeda\",\"ÄŒetvrtak\",\"Petak\",\"Subotagg\"]},ko:{months:[\"1ì›”\",\"2ì›”\",\"3ì›”\",\"4ì›”\",\"5ì›”\",\"6ì›”\",\"7ì›”\",\"8ì›”\",\"9ì›”\",\"10ì›”\",\"11ì›”\",\"12ì›”\"],dayOfWeekShort:[\"ì¼\",\"ì›”\",\"í™”\",\"ìˆ˜\",\"ëª©\",\"ê¸ˆ\",\"í† \"],dayOfWeek:[\"ì¼ìš”ì¼\",\"ì›”ìš”ì¼\",\"í™”ìš”ì¼\",\"ìˆ˜ìš”ì¼\",\"ëª©ìš”ì¼\",\"ê¸ˆìš”ì¼\",\"í† ìš”ì¼\"]},lt:{months:[\"Sausio\",\"Vasario\",\"Kovo\",\"BalandÅ¾io\",\"GeguÅ¾Ä—s\",\"BirÅ¾elio\",\"Liepos\",\"RugpjÅ«Äio\",\"RugsÄ—jo\",\"Spalio\",\"LapkriÄio\",\"GruodÅ¾io\"],dayOfWeekShort:[\"Sek\",\"Pir\",\"Ant\",\"Tre\",\"Ket\",\"Pen\",\"Å eÅ¡\"],dayOfWeek:[\"Sekmadienis\",\"Pirmadienis\",\"Antradienis\",\"TreÄiadienis\",\"Ketvirtadienis\",\"Penktadienis\",\"Å eÅ¡tadienis\"]},lv:{months:[\"JanvÄris\",\"FebruÄris\",\"Marts\",\"AprÄ«lis \",\"Maijs\",\"JÅ«nijs\",\"JÅ«lijs\",\"Augusts\",\"Septembris\",\"Oktobris\",\"Novembris\",\"Decembris\"],dayOfWeekShort:[\"Sv\",\"Pr\",\"Ot\",\"Tr\",\"Ct\",\"Pk\",\"St\"],dayOfWeek:[\"SvÄ“tdiena\",\"Pirmdiena\",\"Otrdiena\",\"TreÅ¡diena\",\"Ceturtdiena\",\"Piektdiena\",\"Sestdiena\"]},mk:{months:[\"Ñ˜Ð°Ð½ÑƒÐ°Ñ€Ð¸\",\"Ñ„ÐµÐ²Ñ€ÑƒÐ°Ñ€Ð¸\",\"Ð¼Ð°Ñ€Ñ‚\",\"Ð°Ð¿Ñ€Ð¸Ð»\",\"Ð¼Ð°Ñ˜\",\"Ñ˜ÑƒÐ½Ð¸\",\"Ñ˜ÑƒÐ»Ð¸\",\"Ð°Ð²Ð³ÑƒÑÑ‚\",\"ÑÐµÐ¿Ñ‚ÐµÐ¼Ð²Ñ€Ð¸\",\"Ð¾ÐºÑ‚Ð¾Ð¼Ð²Ñ€Ð¸\",\"Ð½Ð¾ÐµÐ¼Ð²Ñ€Ð¸\",\"Ð´ÐµÐºÐµÐ¼Ð²Ñ€Ð¸\"],dayOfWeekShort:[\"Ð½ÐµÐ´\",\"Ð¿Ð¾Ð½\",\"Ð²Ñ‚Ð¾\",\"ÑÑ€Ðµ\",\"Ñ‡ÐµÑ‚\",\"Ð¿ÐµÑ‚\",\"ÑÐ°Ð±\"],dayOfWeek:[\"ÐÐµÐ´ÐµÐ»Ð°\",\"ÐŸÐ¾Ð½ÐµÐ´ÐµÐ»Ð½Ð¸Ðº\",\"Ð’Ñ‚Ð¾Ñ€Ð½Ð¸Ðº\",\"Ð¡Ñ€ÐµÐ´Ð°\",\"Ð§ÐµÑ‚Ð²Ñ€Ñ‚Ð¾Ðº\",\"ÐŸÐµÑ‚Ð¾Ðº\",\"Ð¡Ð°Ð±Ð¾Ñ‚Ð°\"]},mn:{months:[\"1-Ñ€ ÑÐ°Ñ€\",\"2-Ñ€ ÑÐ°Ñ€\",\"3-Ñ€ ÑÐ°Ñ€\",\"4-Ñ€ ÑÐ°Ñ€\",\"5-Ñ€ ÑÐ°Ñ€\",\"6-Ñ€ ÑÐ°Ñ€\",\"7-Ñ€ ÑÐ°Ñ€\",\"8-Ñ€ ÑÐ°Ñ€\",\"9-Ñ€ ÑÐ°Ñ€\",\"10-Ñ€ ÑÐ°Ñ€\",\"11-Ñ€ ÑÐ°Ñ€\",\"12-Ñ€ ÑÐ°Ñ€\"],dayOfWeekShort:[\"Ð”Ð°Ð²\",\"ÐœÑÐ³\",\"Ð›Ñ…Ð°\",\"ÐŸÒ¯Ñ€\",\"Ð‘ÑÐ½\",\"Ð‘ÑÐ¼\",\"ÐÑÐ¼\"],dayOfWeek:[\"Ð”Ð°Ð²Ð°Ð°\",\"ÐœÑÐ³Ð¼Ð°Ñ€\",\"Ð›Ñ…Ð°Ð³Ð²Ð°\",\"ÐŸÒ¯Ñ€ÑÐ²\",\"Ð‘Ð°Ð°ÑÐ°Ð½\",\"Ð‘ÑÐ¼Ð±Ð°\",\"ÐÑÐ¼\"]},\"pt-BR\":{months:[\"Janeiro\",\"Fevereiro\",\"MarÃ§o\",\"Abril\",\"Maio\",\"Junho\",\"Julho\",\"Agosto\",\"Setembro\",\"Outubro\",\"Novembro\",\"Dezembro\"],dayOfWeekShort:[\"Dom\",\"Seg\",\"Ter\",\"Qua\",\"Qui\",\"Sex\",\"SÃ¡b\"],dayOfWeek:[\"Domingo\",\"Segunda\",\"TerÃ§a\",\"Quarta\",\"Quinta\",\"Sexta\",\"SÃ¡bado\"]},sk:{months:[\"JanuÃ¡r\",\"FebruÃ¡r\",\"Marec\",\"AprÃ­l\",\"MÃ¡j\",\"JÃºn\",\"JÃºl\",\"August\",\"September\",\"OktÃ³ber\",\"November\",\"December\"],dayOfWeekShort:[\"Ne\",\"Po\",\"Ut\",\"St\",\"Å t\",\"Pi\",\"So\"],dayOfWeek:[\"NedeÄ¾a\",\"Pondelok\",\"Utorok\",\"Streda\",\"Å tvrtok\",\"Piatok\",\"Sobota\"]},sq:{months:[\"Janar\",\"Shkurt\",\"Mars\",\"Prill\",\"Maj\",\"Qershor\",\"Korrik\",\"Gusht\",\"Shtator\",\"Tetor\",\"NÃ«ntor\",\"Dhjetor\"],dayOfWeekShort:[\"Die\",\"HÃ«n\",\"Mar\",\"MÃ«r\",\"Enj\",\"Pre\",\"Shtu\"],dayOfWeek:[\"E Diel\",\"E HÃ«nÃ«\",\"E MartÄ“\",\"E MÃ«rkurÃ«\",\"E Enjte\",\"E Premte\",\"E ShtunÃ«\"]},\"sr-YU\":{months:[\"Januar\",\"Februar\",\"Mart\",\"April\",\"Maj\",\"Jun\",\"Jul\",\"Avgust\",\"Septembar\",\"Oktobar\",\"Novembar\",\"Decembar\"],dayOfWeekShort:[\"Ned\",\"Pon\",\"Uto\",\"Sre\",\"Äet\",\"Pet\",\"Sub\"],dayOfWeek:[\"Nedelja\",\"Ponedeljak\",\"Utorak\",\"Sreda\",\"ÄŒetvrtak\",\"Petak\",\"Subota\"]},sr:{months:[\"Ñ˜Ð°Ð½ÑƒÐ°Ñ€\",\"Ñ„ÐµÐ±Ñ€ÑƒÐ°Ñ€\",\"Ð¼Ð°Ñ€Ñ‚\",\"Ð°Ð¿Ñ€Ð¸Ð»\",\"Ð¼Ð°Ñ˜\",\"Ñ˜ÑƒÐ½\",\"Ñ˜ÑƒÐ»\",\"Ð°Ð²Ð³ÑƒÑÑ‚\",\"ÑÐµÐ¿Ñ‚ÐµÐ¼Ð±Ð°Ñ€\",\"Ð¾ÐºÑ‚Ð¾Ð±Ð°Ñ€\",\"Ð½Ð¾Ð²ÐµÐ¼Ð±Ð°Ñ€\",\"Ð´ÐµÑ†ÐµÐ¼Ð±Ð°Ñ€\"],dayOfWeekShort:[\"Ð½ÐµÐ´\",\"Ð¿Ð¾Ð½\",\"ÑƒÑ‚Ð¾\",\"ÑÑ€Ðµ\",\"Ñ‡ÐµÑ‚\",\"Ð¿ÐµÑ‚\",\"ÑÑƒÐ±\"],dayOfWeek:[\"ÐÐµÐ´ÐµÑ™Ð°\",\"ÐŸÐ¾Ð½ÐµÐ´ÐµÑ™Ð°Ðº\",\"Ð£Ñ‚Ð¾Ñ€Ð°Ðº\",\"Ð¡Ñ€ÐµÐ´Ð°\",\"Ð§ÐµÑ‚Ð²Ñ€Ñ‚Ð°Ðº\",\"ÐŸÐµÑ‚Ð°Ðº\",\"Ð¡ÑƒÐ±Ð¾Ñ‚Ð°\"]},sv:{months:[\"Januari\",\"Februari\",\"Mars\",\"April\",\"Maj\",\"Juni\",\"Juli\",\"Augusti\",\"September\",\"Oktober\",\"November\",\"December\"],dayOfWeekShort:[\"SÃ¶n\",\"MÃ¥n\",\"Tis\",\"Ons\",\"Tor\",\"Fre\",\"LÃ¶r\"],dayOfWeek:[\"SÃ¶ndag\",\"MÃ¥ndag\",\"Tisdag\",\"Onsdag\",\"Torsdag\",\"Fredag\",\"LÃ¶rdag\"]},\"zh-TW\":{months:[\"ä¸€æœˆ\",\"äºŒæœˆ\",\"ä¸‰æœˆ\",\"å››æœˆ\",\"äº”æœˆ\",\"å…­æœˆ\",\"ä¸ƒæœˆ\",\"å…«æœˆ\",\"ä¹æœˆ\",\"åæœˆ\",\"åä¸€æœˆ\",\"åäºŒæœˆ\"],dayOfWeekShort:[\"æ—¥\",\"ä¸€\",\"äºŒ\",\"ä¸‰\",\"å››\",\"äº”\",\"å…­\"],dayOfWeek:[\"æ˜ŸæœŸæ—¥\",\"æ˜ŸæœŸä¸€\",\"æ˜ŸæœŸäºŒ\",\"æ˜ŸæœŸä¸‰\",\"æ˜ŸæœŸå››\",\"æ˜ŸæœŸäº”\",\"æ˜ŸæœŸå…­\"]},\"zh-CN\":{months:[\"ä¸€æœˆ\",\"äºŒæœˆ\",\"ä¸‰æœˆ\",\"å››æœˆ\",\"äº”æœˆ\",\"å…­æœˆ\",\"ä¸ƒæœˆ\",\"å…«æœˆ\",\"ä¹æœˆ\",\"åæœˆ\",\"åä¸€æœˆ\",\"åäºŒæœˆ\"],dayOfWeekShort:[\"æ—¥\",\"ä¸€\",\"äºŒ\",\"ä¸‰\",\"å››\",\"äº”\",\"å…­\"],dayOfWeek:[\"æ˜ŸæœŸæ—¥\",\"æ˜ŸæœŸä¸€\",\"æ˜ŸæœŸäºŒ\",\"æ˜ŸæœŸä¸‰\",\"æ˜ŸæœŸå››\",\"æ˜ŸæœŸäº”\",\"æ˜ŸæœŸå…­\"],postsMonthTip:\"æŸ¥çœ‹yyyyå¹´MMæœˆçš„æ–‡ç« \",titleFormat:\"yyyyå¹´MMæœˆ\"},he:{months:[\"×™× ×•××¨\",\"×¤×‘×¨×•××¨\",\"×ž×¨×¥\",\"××¤×¨×™×œ\",\"×ž××™\",\"×™×•× ×™\",\"×™×•×œ×™\",\"××•×’×•×¡×˜\",\"×¡×¤×˜×ž×‘×¨\",\"××•×§×˜×•×‘×¨\",\"× ×•×‘×ž×‘×¨\",\"×“×¦×ž×‘×¨\"],dayOfWeekShort:[\"×'\",\"×‘'\",\"×’'\",\"×“'\",\"×”'\",\"×•'\",\"×©×‘×ª\"],dayOfWeek:[\"×¨××©×•×Ÿ\",\"×©× ×™\",\"×©×œ×™×©×™\",\"×¨×‘×™×¢×™\",\"×—×ž×™×©×™\",\"×©×™×©×™\",\"×©×‘×ª\",\"×¨××©×•×Ÿ\"]},hy:{months:[\"Õ€Õ¸Ö‚Õ¶Õ¾Õ¡Ö€\",\"Õ“Õ¥Õ¿Ö€Õ¾Õ¡Ö€\",\"Õ„Õ¡Ö€Õ¿\",\"Ô±ÕºÖ€Õ«Õ¬\",\"Õ„Õ¡ÕµÕ«Õ½\",\"Õ€Õ¸Ö‚Õ¶Õ«Õ½\",\"Õ€Õ¸Ö‚Õ¬Õ«Õ½\",\"Õ•Õ£Õ¸Õ½Õ¿Õ¸Õ½\",\"ÕÕ¥ÕºÕ¿Õ¥Õ´Õ¢Õ¥Ö€\",\"Õ€Õ¸Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö€\",\"Õ†Õ¸ÕµÕ¥Õ´Õ¢Õ¥Ö€\",\"Ô´Õ¥Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö€\"],dayOfWeekShort:[\"Ô¿Õ«\",\"ÔµÖ€Õ¯\",\"ÔµÖ€Ö„\",\"Õ‰Õ¸Ö€\",\"Õ€Õ¶Õ£\",\"ÕˆÖ‚Ö€Õ¢\",\"Õ‡Õ¢Õ©\"],dayOfWeek:[\"Ô¿Õ«Ö€Õ¡Õ¯Õ«\",\"ÔµÖ€Õ¯Õ¸Ö‚Õ·Õ¡Õ¢Õ©Õ«\",\"ÔµÖ€Õ¥Ö„Õ·Õ¡Õ¢Õ©Õ«\",\"Õ‰Õ¸Ö€Õ¥Ö„Õ·Õ¡Õ¢Õ©Õ«\",\"Õ€Õ«Õ¶Õ£Õ·Õ¡Õ¢Õ©Õ«\",\"ÕˆÖ‚Ö€Õ¢Õ¡Õ©\",\"Õ‡Õ¡Õ¢Õ¡Õ©\"]},kg:{months:[\"Ò®Ñ‡Ñ‚Ò¯Ð½ Ð°Ð¹Ñ‹\",\"Ð‘Ð¸Ñ€Ð´Ð¸Ð½ Ð°Ð¹Ñ‹\",\"Ð–Ð°Ð»Ð³Ð°Ð½ ÐšÑƒÑ€Ð°Ð½\",\"Ð§Ñ‹Ð½ ÐšÑƒÑ€Ð°Ð½\",\"Ð‘ÑƒÐ³Ñƒ\",\"ÐšÑƒÐ»Ð¶Ð°\",\"Ð¢ÐµÐºÐµ\",\"Ð‘Ð°Ñˆ ÐžÐ¾Ð½Ð°\",\"ÐÑÐº ÐžÐ¾Ð½Ð°\",\"Ð¢Ð¾Ð³ÑƒÐ·Ð´ÑƒÐ½ Ð°Ð¹Ñ‹\",\"Ð–ÐµÑ‚Ð¸Ð½Ð¸Ð½ Ð°Ð¹Ñ‹\",\"Ð‘ÐµÑˆÑ‚Ð¸Ð½ Ð°Ð¹Ñ‹\"],dayOfWeekShort:[\"Ð–ÐµÐº\",\"Ð”Ò¯Ð¹\",\"Ð¨ÐµÐ¹\",\"Ð¨Ð°Ñ€\",\"Ð‘ÐµÐ¹\",\"Ð–ÑƒÐ¼\",\"Ð˜ÑˆÐµ\"],dayOfWeek:[\"Ð–ÐµÐºÑˆÐµÐ¼Ð±\",\"Ð”Ò¯Ð¹ÑˆÓ©Ð¼Ð±\",\"Ð¨ÐµÐ¹ÑˆÐµÐ¼Ð±\",\"Ð¨Ð°Ñ€ÑˆÐµÐ¼Ð±\",\"Ð‘ÐµÐ¹ÑˆÐµÐ¼Ð±Ð¸\",\"Ð–ÑƒÐ¼Ð°\",\"Ð˜ÑˆÐµÐ½Ð±\"]},rm:{months:[\"Schaner\",\"Favrer\",\"Mars\",\"Avrigl\",\"Matg\",\"Zercladur\",\"Fanadur\",\"Avust\",\"Settember\",\"October\",\"November\",\"December\"],dayOfWeekShort:[\"Du\",\"Gli\",\"Ma\",\"Me\",\"Gie\",\"Ve\",\"So\"],dayOfWeek:[\"Dumengia\",\"Glindesdi\",\"Mardi\",\"Mesemna\",\"Gievgia\",\"Venderdi\",\"Sonda\"]},ka:{months:[\"áƒ˜áƒáƒœáƒ•áƒáƒ áƒ˜\",\"áƒ—áƒ”áƒ‘áƒ”áƒ áƒ•áƒáƒšáƒ˜\",\"áƒ›áƒáƒ áƒ¢áƒ˜\",\"áƒáƒžáƒ áƒ˜áƒšáƒ˜\",\"áƒ›áƒáƒ˜áƒ¡áƒ˜\",\"áƒ˜áƒ•áƒœáƒ˜áƒ¡áƒ˜\",\"áƒ˜áƒ•áƒšáƒ˜áƒ¡áƒ˜\",\"áƒáƒ’áƒ•áƒ˜áƒ¡áƒ¢áƒ\",\"áƒ¡áƒ”áƒ¥áƒ¢áƒ”áƒ›áƒ‘áƒ”áƒ áƒ˜\",\"áƒáƒ¥áƒ¢áƒáƒ›áƒ‘áƒ”áƒ áƒ˜\",\"áƒœáƒáƒ”áƒ›áƒ‘áƒ”áƒ áƒ˜\",\"áƒ“áƒ”áƒ™áƒ”áƒ›áƒ‘áƒ”áƒ áƒ˜\"],dayOfWeekShort:[\"áƒ™áƒ•\",\"áƒáƒ áƒ¨\",\"áƒ¡áƒáƒ›áƒ¨\",\"áƒáƒ—áƒ®\",\"áƒ®áƒ£áƒ—\",\"áƒžáƒáƒ \",\"áƒ¨áƒáƒ‘\"],dayOfWeek:[\"áƒ™áƒ•áƒ˜áƒ áƒ\",\"áƒáƒ áƒ¨áƒáƒ‘áƒáƒ—áƒ˜\",\"áƒ¡áƒáƒ›áƒ¨áƒáƒ‘áƒáƒ—áƒ˜\",\"áƒáƒ—áƒ®áƒ¨áƒáƒ‘áƒáƒ—áƒ˜\",\"áƒ®áƒ£áƒ—áƒ¨áƒáƒ‘áƒáƒ—áƒ˜\",\"áƒžáƒáƒ áƒáƒ¡áƒ™áƒ”áƒ•áƒ˜\",\"áƒ¨áƒáƒ‘áƒáƒ—áƒ˜\"]}};"},{"title":"","date":"2019-11-27T15:22:15.814Z","updated":"2019-11-27T15:22:15.814Z","comments":true,"path":"public/assets/js/Meting.min.js","permalink":"http://ltyeamin.github.io/public/assets/js/Meting.min.js","excerpt":"","text":"\"use strict\";console.log(\"\\n %c MetingJS v1.2.0 %c https://github.com/metowolf/MetingJS \\n\",\"color: #fadfa3; background: #030307; padding:5px 0;\",\"background: #fadfa3; padding:5px 0;\");var aplayers=[],loadMeting=function(){function e(e,t){var a={container:e,audio:t,mini:null,fixed:null,autoplay:!1,mutex:!0,lrcType:3,listFolded:!1,preload:\"auto\",theme:\"#2980b9\",loop:\"all\",order:\"list\",volume:null,listMaxHeight:null,customAudioType:null,storageName:\"metingjs\"};if(t.length){t[0].lrc||(a.lrcType=0);var r={};for(var s in a){var l=s.toLowerCase();(e.dataset.hasOwnProperty(l)||e.dataset.hasOwnProperty(s)||null!==a[s])&&(r[s]=e.dataset[l]||e.dataset[s]||a[s],(\"true\"===r[s]||\"false\"===r[s])&&(r[s]=\"true\"==r[s]))}aplayers.push(new APlayer(r))}}var t=\"https://api.i-meto.com/meting/api?server=:server&type=:type&id=:id&r=:r\";\"undefined\"!=typeof meting_api&&(t=meting_api);for(var a=0;a"},{"title":"","date":"2020-01-08T13:06:38.249Z","updated":"2020-01-08T13:06:38.047Z","comments":true,"path":"public/index.html","permalink":"http://ltyeamin.github.io/public/index.html","excerpt":"","text":"å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Zookeeperé›†ç¾¤æ­å»º &bull; 2019å¹´11æœˆ27æ—¥ 1. å‡†å¤‡å·¥ä½œ å®‰è£…JDK Zookeeperå®‰è£…åŒ…ä¸‹è½½ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©3.5.6è¿›è¡Œä¸‹è½½ å‡†å¤‡ä¸‰å°æœºå™¨ï¼Œåˆ†åˆ«æ˜¯192.168.5.1,192.168.5.100,192.168.5.101 å°†zookeeperçš„å®‰è£…åŒ…ä¸Šä¼ åˆ°è¿™ä¸‰å°æœºå™¨ç›¸åŒçš„ç›®å½•ä¸Š(æ–¹ä¾¿ç®¡ç†) 2. å¼€å§‹æ­å»º1ï¼‰é…ç½®é›†ç¾¤ åœ¨... backend Zookeeper é˜…è¯»å…¨æ–‡ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• &bull; 2019å¹´11æœˆ23æ—¥ Linux SSHç™»å½•ç”±ä¸¤ç§æ–¹å¼: è´¦æˆ·å¯†ç ç™»å½• å¯†é’¥ç™»å½• æˆ‘æœ‰ä¸¤å°ä¸»æœºï¼Œipåˆ†åˆ«ä¸º192.168.5.1å’Œ192.168.5.100ï¼Œæˆ‘è¦ä»Žå‰è€…è¿œç¨‹ç™»å½•åˆ°åŽè€…ä¸»æœºä¸Šï¼Œä¸‹é¢æˆ‘åˆ†åˆ«æ¥æ¼”ç¤ºä¸€ä¸‹ä¸¤ç§æ–¹å¼: è´¦å·å¯†ç ç™»å½•1ssh root@192.168.5.100 æ³¨æ„ï¼š é»˜è®¤ç«¯å£å·æ˜¯22,... ops Linux é˜…è¯»å…¨æ–‡ RocketMQé›†ç¾¤æ­å»º &bull; 2019å¹´11æœˆ09æ—¥ 1. RocketMQå¿«é€Ÿå…¥é—¨RocketMQæ˜¯é˜¿é‡Œå·´å·´2016å¹´MQä¸­é—´ä»¶ï¼Œä½¿ç”¨Javaè¯­è¨€å¼€å‘ï¼Œåœ¨é˜¿é‡Œå†…éƒ¨ï¼ŒRocketMQæ‰¿æŽ¥äº†ä¾‹å¦‚â€œåŒ11â€ç­‰é«˜å¹¶å‘åœºæ™¯çš„æ¶ˆæ¯æµè½¬ï¼Œèƒ½å¤Ÿå¤„ç†ä¸‡äº¿çº§åˆ«çš„æ¶ˆæ¯ã€‚ 1.1 å‡†å¤‡å·¥ä½œ1.1.1 ä¸‹è½½RocketMQRocketMQæœ€æ–°ç‰ˆæœ¬ï¼š4.5.2 Relea... backend RocketMQ é˜…è¯»å…¨æ–‡ RocketMQæ¦‚è¿° &bull; 2019å¹´11æœˆ08æ—¥ 1. MQä»‹ç»1.1 ä¸ºä»€ä¹ˆè¦ç”¨MQæ¶ˆæ¯é˜Ÿåˆ—æ˜¯ä¸€ç§â€œå…ˆè¿›å…ˆå‡ºâ€çš„æ•°æ®ç»“æž„ å…¶åº”ç”¨åœºæ™¯ä¸»è¦åŒ…å«ä»¥ä¸‹3ä¸ªæ–¹é¢ åº”ç”¨è§£è€¦ ç³»ç»Ÿçš„è€¦åˆæ€§è¶Šé«˜ï¼Œå®¹é”™æ€§å°±è¶Šä½Žã€‚ä»¥ç”µå•†åº”ç”¨ä¸ºä¾‹ï¼Œç”¨æˆ·åˆ›å»ºè®¢å•åŽï¼Œå¦‚æžœè€¦åˆè°ƒç”¨åº“å­˜ç³»ç»Ÿã€ç‰©æµç³»ç»Ÿã€æ”¯ä»˜ç³»ç»Ÿï¼Œä»»ä½•ä¸€ä¸ªå­ç³»ç»Ÿå‡ºäº†æ•…éšœæˆ–è€…å› ä¸ºå‡çº§ç­‰åŽŸå› æš‚æ—¶ä¸å¯ç”¨ï¼Œéƒ½ä¼šé€ æˆä¸‹å•æ“... backend RocketMQ é˜…è¯»å…¨æ–‡ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ &bull; 2019å¹´11æœˆ02æ—¥ å‰è¨€çŽ°åœ¨åšå®¢çš„å›¾ç‰‡éƒ½æ”¾åœ¨ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ä¸Šé¢ï¼Œä¸ªäººç”¨æˆ·æœ‰å…è´¹10GBçš„å­˜å‚¨ç©ºé—´ã€‚ å› ä¸ºæ¯ä¸€ä¸ªçš„bucketç©ºé—´åˆ†é…ä¸€ä¸ªä¸ƒç‰›äº‘çš„ç©ºé—´åŸŸåï¼Œå¦‚ä¸‹ç¤ºä¾‹ï¼š S3 åŸŸå Endpoint(åŒºåŸŸèŠ‚ç‚¹)ï¼š s3-cn-east-1.qiniucs.com ç©ºé—´åŸŸåï¼š 20191119.s3-cn-east-... ops å®žç”¨å·¥å…·åŠæŠ€å·§ é˜…è¯»å…¨æ–‡ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools &bull; 2019å¹´10æœˆ12æ—¥ ä¹‹å‰ä¹ æƒ¯äº†Mac Pro çš„Spotlightæ¨¡å¼è¿›è¡Œæ£€ç´¢åº”ç”¨å’Œæ–‡ä»¶ï¼Œåœ¨å‰æ®µæ—¥å­ä¸­ï¼Œæˆ‘æˆåŠŸçš„æ‰¾åˆ°äº†ä¸€æ¬¾Windowsä¸Šç±»ä¼¼çš„è½¯ä»¶Everything+Woxï¼Œä»åœ¨ä½¿ç”¨Windowsçš„æœ‹å‹æœ‰å…´è¶£å¯ä»¥çœ‹æˆ‘é˜…è¯»è¿™è¾¹æ–‡ç« è¿›è¡Œæ“ä½œä½“éªŒã€‚ è¨€å½’æ­£ä¼ ï¼Œæˆ‘åœ¨å®¶ä½¿ç”¨çš„ç”µè„‘ç³»ç»Ÿæ˜¯Deepin Linux,æ›¾ç»ä¹Ÿæƒ³... ops å®žç”¨å·¥å…·åŠæŠ€å·§ é˜…è¯»å…¨æ–‡ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® &bull; 2019å¹´10æœˆ12æ—¥ çˆ¬è™«åˆ†æžçˆ¬è™«éœ€æ±‚æè¿°: çˆ¬å–çŒ«çœ¼ç”µå½±TOP100çš„ç”µå½±åç§°ã€æ—¶é—´ã€è¯„åˆ†ã€æµ·æŠ¥å›¾ç‰‡ç­‰ä¿¡æ¯ ç«™ç‚¹: https://maoyan.com/board/4 åˆ†æž: æ‰“å¼€ç«™ç‚¹å³æ˜¯çŒ«çœ¼ç”µå½±TOP100çš„ç¬¬ä¸€é¡µ,ç‚¹å‡»ä¸‹ä¸€é¡µï¼Œæˆ‘ä»¬è§‚å¯Ÿåœ°å€æ URLåŽè¾¹è¿½åŠ äº†?offset=10çš„å‚æ•°ï¼Œæ˜¾ç„¶offsetå‚æ•°ä»£... backend Python é˜…è¯»å…¨æ–‡ Nginxè®¾ç½®é»‘ç™½åå• &bull; 2019å¹´09æœˆ02æ—¥ åœ¨æ—¥å¸¸è¿ç»´å·¥ä½œä¸­ï¼Œä¼šç¢°åˆ°è¿™æ ·çš„éœ€æ±‚ï¼Œå¯¹äºŽä¸€äº›httpè¯·æ±‚åªå¯¹æŸäº›ipå¼€å‘ï¼Œå…¶ä»–çš„ipçš„å®¢æˆ·ç«¯éƒ½ä¸èƒ½è®¿é—®ã€‚ åœ¨æµ‹è¯•ä¹‹å‰æˆ‘åˆ—ä¸€ä¸‹æœ¬æ¬¡æµ‹è¯•çš„ç»ˆç«¯IPã€‚ å®¿ä¸»æœºDeepin Linux ï¼š 192.168.1.106 è™šæ‹ŸæœºWindows 10 : 192.168.1.107 ç§»åŠ¨Androidç»ˆ... ops Nginx é˜…è¯»å…¨æ–‡ Deepin Linuxå®‰è£…Docker &bull; 2019å¹´09æœˆ01æ—¥ æ™®é€šå®‰è£…ä¸€èˆ¬çš„Linux(Debianã€Unbantu)å‘è¡Œç‰ˆå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š 1wget -qO- https://get.docker.com/ | sh ä½†æ˜¯åœ¨Deepinæ‰§è¡Œè¿™å‘½ä»¤ä¼šå®‰è£…å¤±è´¥ã€‚ æŸ¥é˜…èµ„æ–™å¯ä»¥æ‰¾åˆ°dockeræ”¯æŒçš„Linuxå‘è¡Œç‰ˆã€‚ 12345678910111... ops Docker é˜…è¯»å…¨æ–‡ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ &bull; 2019å¹´08æœˆ11æ—¥ ä»Šå¤©åœ¨å®¶ä¸‹è½½ä¸€ä¸ªåˆ«äººç»™æˆ‘çš„ç™¾åº¦ç½‘ç›˜èµ„æ–™ï¼Œèµ„æ–™å¤§å°å·®ä¸å¤š2ä¸ªG,ä½†æ˜¯æ‰“å¼€æµè§ˆå™¨å‘çŽ°æœ‰ä¸€ä»¶æ˜¯éžå¸¸çƒ¦èºçš„äº‹æƒ…:å°æ–‡ä»¶å¯ä»¥ç›´æŽ¥åœ¨æµè§ˆå™¨ç«¯è¿›è¡Œä¸‹è½½,ä½†æ˜¯å¤§æ–‡ä»¶å¿…é¡»ä¸‹è½½ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯è¿›è¡Œä¸‹è½½. æ²¡åŠžæ³•,æˆ‘åªå¥½åŽ»åº”ç”¨å•†åº—åŽ»ä¸‹è½½ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯,åœ¨æ·±åº¦åº”ç”¨å•†åº—è¿˜å¥½æ‰¾åˆ°äº†ç™¾åº¦ç½‘ç›˜çš„å®¢æˆ·ç«¯(å›½äº§Deepinç³»ç»Ÿç¬¬ä¸‰... ops å®žç”¨å·¥å…·åŠæŠ€å·§ é˜…è¯»å…¨æ–‡ 123&hellip;6 æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.201Z","updated":"2019-11-27T15:22:16.201Z","comments":true,"path":"public/css/font-awesome.min.css","permalink":"http://ltyeamin.github.io/public/css/font-awesome.min.css","excerpt":"","text":"/*! * Font Awesome 4.5.0 by @davegandy - http://fontawesome.io - @fontawesome * License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License) */.fa.fa-pull-left,.fa.pull-left{margin-right:.3em}.fa,.fa-stack{display:inline-block}.fa-fw,.fa-li{text-align:center}@font-face{font-family:FontAwesome;src:url(../fonts/fontawesome-webfont.eot?v=4.5.0);src:url(../fonts/fontawesome-webfont.eot?#iefix&v=4.5.0) format('embedded-opentype'),url(../fonts/fontawesome-webfont.woff2?v=4.5.0) format('woff2'),url(../fonts/fontawesome-webfont.woff?v=4.5.0) format('woff'),url(../fonts/fontawesome-webfont.ttf?v=4.5.0) format('truetype'),url(../fonts/fontawesome-webfont.svg?v=4.5.0#fontawesomeregular) format('svg');font-weight:400;font-style:normal}.fa{font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa.fa-pull-right,.fa.pull-right{margin-left:.3em}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right,.pull-right{float:right}.pull-left{float:left}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1);-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1);-webkit-transform:scale(1,-1);-ms-transform:scale(1,-1);transform:scale(1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{filter:none}.fa-stack{position:relative;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:\"\\f000\"}.fa-music:before{content:\"\\f001\"}.fa-search:before{content:\"\\f002\"}.fa-envelope-o:before{content:\"\\f003\"}.fa-heart:before{content:\"\\f004\"}.fa-star:before{content:\"\\f005\"}.fa-star-o:before{content:\"\\f006\"}.fa-user:before{content:\"\\f007\"}.fa-film:before{content:\"\\f008\"}.fa-th-large:before{content:\"\\f009\"}.fa-th:before{content:\"\\f00a\"}.fa-th-list:before{content:\"\\f00b\"}.fa-check:before{content:\"\\f00c\"}.fa-close:before,.fa-remove:before,.fa-times:before{content:\"\\f00d\"}.fa-search-plus:before{content:\"\\f00e\"}.fa-search-minus:before{content:\"\\f010\"}.fa-power-off:before{content:\"\\f011\"}.fa-signal:before{content:\"\\f012\"}.fa-cog:before,.fa-gear:before{content:\"\\f013\"}.fa-trash-o:before{content:\"\\f014\"}.fa-home:before{content:\"\\f015\"}.fa-file-o:before{content:\"\\f016\"}.fa-clock-o:before{content:\"\\f017\"}.fa-road:before{content:\"\\f018\"}.fa-download:before{content:\"\\f019\"}.fa-arrow-circle-o-down:before{content:\"\\f01a\"}.fa-arrow-circle-o-up:before{content:\"\\f01b\"}.fa-inbox:before{content:\"\\f01c\"}.fa-play-circle-o:before{content:\"\\f01d\"}.fa-repeat:before,.fa-rotate-right:before{content:\"\\f01e\"}.fa-refresh:before{content:\"\\f021\"}.fa-list-alt:before{content:\"\\f022\"}.fa-lock:before{content:\"\\f023\"}.fa-flag:before{content:\"\\f024\"}.fa-headphones:before{content:\"\\f025\"}.fa-volume-off:before{content:\"\\f026\"}.fa-volume-down:before{content:\"\\f027\"}.fa-volume-up:before{content:\"\\f028\"}.fa-qrcode:before{content:\"\\f029\"}.fa-barcode:before{content:\"\\f02a\"}.fa-tag:before{content:\"\\f02b\"}.fa-tags:before{content:\"\\f02c\"}.fa-book:before{content:\"\\f02d\"}.fa-bookmark:before{content:\"\\f02e\"}.fa-print:before{content:\"\\f02f\"}.fa-camera:before{content:\"\\f030\"}.fa-font:before{content:\"\\f031\"}.fa-bold:before{content:\"\\f032\"}.fa-italic:before{content:\"\\f033\"}.fa-text-height:before{content:\"\\f034\"}.fa-text-width:before{content:\"\\f035\"}.fa-align-left:before{content:\"\\f036\"}.fa-align-center:before{content:\"\\f037\"}.fa-align-right:before{content:\"\\f038\"}.fa-align-justify:before{content:\"\\f039\"}.fa-list:before{content:\"\\f03a\"}.fa-dedent:before,.fa-outdent:before{content:\"\\f03b\"}.fa-indent:before{content:\"\\f03c\"}.fa-video-camera:before{content:\"\\f03d\"}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:\"\\f03e\"}.fa-pencil:before{content:\"\\f040\"}.fa-map-marker:before{content:\"\\f041\"}.fa-adjust:before{content:\"\\f042\"}.fa-tint:before{content:\"\\f043\"}.fa-edit:before,.fa-pencil-square-o:before{content:\"\\f044\"}.fa-share-square-o:before{content:\"\\f045\"}.fa-check-square-o:before{content:\"\\f046\"}.fa-arrows:before{content:\"\\f047\"}.fa-step-backward:before{content:\"\\f048\"}.fa-fast-backward:before{content:\"\\f049\"}.fa-backward:before{content:\"\\f04a\"}.fa-play:before{content:\"\\f04b\"}.fa-pause:before{content:\"\\f04c\"}.fa-stop:before{content:\"\\f04d\"}.fa-forward:before{content:\"\\f04e\"}.fa-fast-forward:before{content:\"\\f050\"}.fa-step-forward:before{content:\"\\f051\"}.fa-eject:before{content:\"\\f052\"}.fa-chevron-left:before{content:\"\\f053\"}.fa-chevron-right:before{content:\"\\f054\"}.fa-plus-circle:before{content:\"\\f055\"}.fa-minus-circle:before{content:\"\\f056\"}.fa-times-circle:before{content:\"\\f057\"}.fa-check-circle:before{content:\"\\f058\"}.fa-question-circle:before{content:\"\\f059\"}.fa-info-circle:before{content:\"\\f05a\"}.fa-crosshairs:before{content:\"\\f05b\"}.fa-times-circle-o:before{content:\"\\f05c\"}.fa-check-circle-o:before{content:\"\\f05d\"}.fa-ban:before{content:\"\\f05e\"}.fa-arrow-left:before{content:\"\\f060\"}.fa-arrow-right:before{content:\"\\f061\"}.fa-arrow-up:before{content:\"\\f062\"}.fa-arrow-down:before{content:\"\\f063\"}.fa-mail-forward:before,.fa-share:before{content:\"\\f064\"}.fa-expand:before{content:\"\\f065\"}.fa-compress:before{content:\"\\f066\"}.fa-plus:before{content:\"\\f067\"}.fa-minus:before{content:\"\\f068\"}.fa-asterisk:before{content:\"\\f069\"}.fa-exclamation-circle:before{content:\"\\f06a\"}.fa-gift:before{content:\"\\f06b\"}.fa-leaf:before{content:\"\\f06c\"}.fa-fire:before{content:\"\\f06d\"}.fa-eye:before{content:\"\\f06e\"}.fa-eye-slash:before{content:\"\\f070\"}.fa-exclamation-triangle:before,.fa-warning:before{content:\"\\f071\"}.fa-plane:before{content:\"\\f072\"}.fa-calendar:before{content:\"\\f073\"}.fa-random:before{content:\"\\f074\"}.fa-comment:before{content:\"\\f075\"}.fa-magnet:before{content:\"\\f076\"}.fa-chevron-up:before{content:\"\\f077\"}.fa-chevron-down:before{content:\"\\f078\"}.fa-retweet:before{content:\"\\f079\"}.fa-shopping-cart:before{content:\"\\f07a\"}.fa-folder:before{content:\"\\f07b\"}.fa-folder-open:before{content:\"\\f07c\"}.fa-arrows-v:before{content:\"\\f07d\"}.fa-arrows-h:before{content:\"\\f07e\"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:\"\\f080\"}.fa-twitter-square:before{content:\"\\f081\"}.fa-facebook-square:before{content:\"\\f082\"}.fa-camera-retro:before{content:\"\\f083\"}.fa-key:before{content:\"\\f084\"}.fa-cogs:before,.fa-gears:before{content:\"\\f085\"}.fa-comments:before{content:\"\\f086\"}.fa-thumbs-o-up:before{content:\"\\f087\"}.fa-thumbs-o-down:before{content:\"\\f088\"}.fa-star-half:before{content:\"\\f089\"}.fa-heart-o:before{content:\"\\f08a\"}.fa-sign-out:before{content:\"\\f08b\"}.fa-linkedin-square:before{content:\"\\f08c\"}.fa-thumb-tack:before{content:\"\\f08d\"}.fa-external-link:before{content:\"\\f08e\"}.fa-sign-in:before{content:\"\\f090\"}.fa-trophy:before{content:\"\\f091\"}.fa-github-square:before{content:\"\\f092\"}.fa-upload:before{content:\"\\f093\"}.fa-lemon-o:before{content:\"\\f094\"}.fa-phone:before{content:\"\\f095\"}.fa-square-o:before{content:\"\\f096\"}.fa-bookmark-o:before{content:\"\\f097\"}.fa-phone-square:before{content:\"\\f098\"}.fa-twitter:before{content:\"\\f099\"}.fa-facebook-f:before,.fa-facebook:before{content:\"\\f09a\"}.fa-github:before{content:\"\\f09b\"}.fa-unlock:before{content:\"\\f09c\"}.fa-credit-card:before{content:\"\\f09d\"}.fa-feed:before,.fa-rss:before{content:\"\\f09e\"}.fa-hdd-o:before{content:\"\\f0a0\"}.fa-bullhorn:before{content:\"\\f0a1\"}.fa-bell:before{content:\"\\f0f3\"}.fa-certificate:before{content:\"\\f0a3\"}.fa-hand-o-right:before{content:\"\\f0a4\"}.fa-hand-o-left:before{content:\"\\f0a5\"}.fa-hand-o-up:before{content:\"\\f0a6\"}.fa-hand-o-down:before{content:\"\\f0a7\"}.fa-arrow-circle-left:before{content:\"\\f0a8\"}.fa-arrow-circle-right:before{content:\"\\f0a9\"}.fa-arrow-circle-up:before{content:\"\\f0aa\"}.fa-arrow-circle-down:before{content:\"\\f0ab\"}.fa-globe:before{content:\"\\f0ac\"}.fa-wrench:before{content:\"\\f0ad\"}.fa-tasks:before{content:\"\\f0ae\"}.fa-filter:before{content:\"\\f0b0\"}.fa-briefcase:before{content:\"\\f0b1\"}.fa-arrows-alt:before{content:\"\\f0b2\"}.fa-group:before,.fa-users:before{content:\"\\f0c0\"}.fa-chain:before,.fa-link:before{content:\"\\f0c1\"}.fa-cloud:before{content:\"\\f0c2\"}.fa-flask:before{content:\"\\f0c3\"}.fa-cut:before,.fa-scissors:before{content:\"\\f0c4\"}.fa-copy:before,.fa-files-o:before{content:\"\\f0c5\"}.fa-paperclip:before{content:\"\\f0c6\"}.fa-floppy-o:before,.fa-save:before{content:\"\\f0c7\"}.fa-square:before{content:\"\\f0c8\"}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:\"\\f0c9\"}.fa-list-ul:before{content:\"\\f0ca\"}.fa-list-ol:before{content:\"\\f0cb\"}.fa-strikethrough:before{content:\"\\f0cc\"}.fa-underline:before{content:\"\\f0cd\"}.fa-table:before{content:\"\\f0ce\"}.fa-magic:before{content:\"\\f0d0\"}.fa-truck:before{content:\"\\f0d1\"}.fa-pinterest:before{content:\"\\f0d2\"}.fa-pinterest-square:before{content:\"\\f0d3\"}.fa-google-plus-square:before{content:\"\\f0d4\"}.fa-google-plus:before{content:\"\\f0d5\"}.fa-money:before{content:\"\\f0d6\"}.fa-caret-down:before{content:\"\\f0d7\"}.fa-caret-up:before{content:\"\\f0d8\"}.fa-caret-left:before{content:\"\\f0d9\"}.fa-caret-right:before{content:\"\\f0da\"}.fa-columns:before{content:\"\\f0db\"}.fa-sort:before,.fa-unsorted:before{content:\"\\f0dc\"}.fa-sort-desc:before,.fa-sort-down:before{content:\"\\f0dd\"}.fa-sort-asc:before,.fa-sort-up:before{content:\"\\f0de\"}.fa-envelope:before{content:\"\\f0e0\"}.fa-linkedin:before{content:\"\\f0e1\"}.fa-rotate-left:before,.fa-undo:before{content:\"\\f0e2\"}.fa-gavel:before,.fa-legal:before{content:\"\\f0e3\"}.fa-dashboard:before,.fa-tachometer:before{content:\"\\f0e4\"}.fa-comment-o:before{content:\"\\f0e5\"}.fa-comments-o:before{content:\"\\f0e6\"}.fa-bolt:before,.fa-flash:before{content:\"\\f0e7\"}.fa-sitemap:before{content:\"\\f0e8\"}.fa-umbrella:before{content:\"\\f0e9\"}.fa-clipboard:before,.fa-paste:before{content:\"\\f0ea\"}.fa-lightbulb-o:before{content:\"\\f0eb\"}.fa-exchange:before{content:\"\\f0ec\"}.fa-cloud-download:before{content:\"\\f0ed\"}.fa-cloud-upload:before{content:\"\\f0ee\"}.fa-user-md:before{content:\"\\f0f0\"}.fa-stethoscope:before{content:\"\\f0f1\"}.fa-suitcase:before{content:\"\\f0f2\"}.fa-bell-o:before{content:\"\\f0a2\"}.fa-coffee:before{content:\"\\f0f4\"}.fa-cutlery:before{content:\"\\f0f5\"}.fa-file-text-o:before{content:\"\\f0f6\"}.fa-building-o:before{content:\"\\f0f7\"}.fa-hospital-o:before{content:\"\\f0f8\"}.fa-ambulance:before{content:\"\\f0f9\"}.fa-medkit:before{content:\"\\f0fa\"}.fa-fighter-jet:before{content:\"\\f0fb\"}.fa-beer:before{content:\"\\f0fc\"}.fa-h-square:before{content:\"\\f0fd\"}.fa-plus-square:before{content:\"\\f0fe\"}.fa-angle-double-left:before{content:\"\\f100\"}.fa-angle-double-right:before{content:\"\\f101\"}.fa-angle-double-up:before{content:\"\\f102\"}.fa-angle-double-down:before{content:\"\\f103\"}.fa-angle-left:before{content:\"\\f104\"}.fa-angle-right:before{content:\"\\f105\"}.fa-angle-up:before{content:\"\\f106\"}.fa-angle-down:before{content:\"\\f107\"}.fa-desktop:before{content:\"\\f108\"}.fa-laptop:before{content:\"\\f109\"}.fa-tablet:before{content:\"\\f10a\"}.fa-mobile-phone:before,.fa-mobile:before{content:\"\\f10b\"}.fa-circle-o:before{content:\"\\f10c\"}.fa-quote-left:before{content:\"\\f10d\"}.fa-quote-right:before{content:\"\\f10e\"}.fa-spinner:before{content:\"\\f110\"}.fa-circle:before{content:\"\\f111\"}.fa-mail-reply:before,.fa-reply:before{content:\"\\f112\"}.fa-github-alt:before{content:\"\\f113\"}.fa-folder-o:before{content:\"\\f114\"}.fa-folder-open-o:before{content:\"\\f115\"}.fa-smile-o:before{content:\"\\f118\"}.fa-frown-o:before{content:\"\\f119\"}.fa-meh-o:before{content:\"\\f11a\"}.fa-gamepad:before{content:\"\\f11b\"}.fa-keyboard-o:before{content:\"\\f11c\"}.fa-flag-o:before{content:\"\\f11d\"}.fa-flag-checkered:before{content:\"\\f11e\"}.fa-terminal:before{content:\"\\f120\"}.fa-code:before{content:\"\\f121\"}.fa-mail-reply-all:before,.fa-reply-all:before{content:\"\\f122\"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:\"\\f123\"}.fa-location-arrow:before{content:\"\\f124\"}.fa-crop:before{content:\"\\f125\"}.fa-code-fork:before{content:\"\\f126\"}.fa-chain-broken:before,.fa-unlink:before{content:\"\\f127\"}.fa-question:before{content:\"\\f128\"}.fa-info:before{content:\"\\f129\"}.fa-exclamation:before{content:\"\\f12a\"}.fa-superscript:before{content:\"\\f12b\"}.fa-subscript:before{content:\"\\f12c\"}.fa-eraser:before{content:\"\\f12d\"}.fa-puzzle-piece:before{content:\"\\f12e\"}.fa-microphone:before{content:\"\\f130\"}.fa-microphone-slash:before{content:\"\\f131\"}.fa-shield:before{content:\"\\f132\"}.fa-calendar-o:before{content:\"\\f133\"}.fa-fire-extinguisher:before{content:\"\\f134\"}.fa-rocket:before{content:\"\\f135\"}.fa-maxcdn:before{content:\"\\f136\"}.fa-chevron-circle-left:before{content:\"\\f137\"}.fa-chevron-circle-right:before{content:\"\\f138\"}.fa-chevron-circle-up:before{content:\"\\f139\"}.fa-chevron-circle-down:before{content:\"\\f13a\"}.fa-html5:before{content:\"\\f13b\"}.fa-css3:before{content:\"\\f13c\"}.fa-anchor:before{content:\"\\f13d\"}.fa-unlock-alt:before{content:\"\\f13e\"}.fa-bullseye:before{content:\"\\f140\"}.fa-ellipsis-h:before{content:\"\\f141\"}.fa-ellipsis-v:before{content:\"\\f142\"}.fa-rss-square:before{content:\"\\f143\"}.fa-play-circle:before{content:\"\\f144\"}.fa-ticket:before{content:\"\\f145\"}.fa-minus-square:before{content:\"\\f146\"}.fa-minus-square-o:before{content:\"\\f147\"}.fa-level-up:before{content:\"\\f148\"}.fa-level-down:before{content:\"\\f149\"}.fa-check-square:before{content:\"\\f14a\"}.fa-pencil-square:before{content:\"\\f14b\"}.fa-external-link-square:before{content:\"\\f14c\"}.fa-share-square:before{content:\"\\f14d\"}.fa-compass:before{content:\"\\f14e\"}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:\"\\f150\"}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:\"\\f151\"}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:\"\\f152\"}.fa-eur:before,.fa-euro:before{content:\"\\f153\"}.fa-gbp:before{content:\"\\f154\"}.fa-dollar:before,.fa-usd:before{content:\"\\f155\"}.fa-inr:before,.fa-rupee:before{content:\"\\f156\"}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:\"\\f157\"}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:\"\\f158\"}.fa-krw:before,.fa-won:before{content:\"\\f159\"}.fa-bitcoin:before,.fa-btc:before{content:\"\\f15a\"}.fa-file:before{content:\"\\f15b\"}.fa-file-text:before{content:\"\\f15c\"}.fa-sort-alpha-asc:before{content:\"\\f15d\"}.fa-sort-alpha-desc:before{content:\"\\f15e\"}.fa-sort-amount-asc:before{content:\"\\f160\"}.fa-sort-amount-desc:before{content:\"\\f161\"}.fa-sort-numeric-asc:before{content:\"\\f162\"}.fa-sort-numeric-desc:before{content:\"\\f163\"}.fa-thumbs-up:before{content:\"\\f164\"}.fa-thumbs-down:before{content:\"\\f165\"}.fa-youtube-square:before{content:\"\\f166\"}.fa-youtube:before{content:\"\\f167\"}.fa-xing:before{content:\"\\f168\"}.fa-xing-square:before{content:\"\\f169\"}.fa-youtube-play:before{content:\"\\f16a\"}.fa-dropbox:before{content:\"\\f16b\"}.fa-stack-overflow:before{content:\"\\f16c\"}.fa-instagram:before{content:\"\\f16d\"}.fa-flickr:before{content:\"\\f16e\"}.fa-adn:before{content:\"\\f170\"}.fa-bitbucket:before{content:\"\\f171\"}.fa-bitbucket-square:before{content:\"\\f172\"}.fa-tumblr:before{content:\"\\f173\"}.fa-tumblr-square:before{content:\"\\f174\"}.fa-long-arrow-down:before{content:\"\\f175\"}.fa-long-arrow-up:before{content:\"\\f176\"}.fa-long-arrow-left:before{content:\"\\f177\"}.fa-long-arrow-right:before{content:\"\\f178\"}.fa-apple:before{content:\"\\f179\"}.fa-windows:before{content:\"\\f17a\"}.fa-android:before{content:\"\\f17b\"}.fa-linux:before{content:\"\\f17c\"}.fa-dribbble:before{content:\"\\f17d\"}.fa-skype:before{content:\"\\f17e\"}.fa-foursquare:before{content:\"\\f180\"}.fa-trello:before{content:\"\\f181\"}.fa-female:before{content:\"\\f182\"}.fa-male:before{content:\"\\f183\"}.fa-gittip:before,.fa-gratipay:before{content:\"\\f184\"}.fa-sun-o:before{content:\"\\f185\"}.fa-moon-o:before{content:\"\\f186\"}.fa-archive:before{content:\"\\f187\"}.fa-bug:before{content:\"\\f188\"}.fa-vk:before{content:\"\\f189\"}.fa-weibo:before{content:\"\\f18a\"}.fa-renren:before{content:\"\\f18b\"}.fa-pagelines:before{content:\"\\f18c\"}.fa-stack-exchange:before{content:\"\\f18d\"}.fa-arrow-circle-o-right:before{content:\"\\f18e\"}.fa-arrow-circle-o-left:before{content:\"\\f190\"}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:\"\\f191\"}.fa-dot-circle-o:before{content:\"\\f192\"}.fa-wheelchair:before{content:\"\\f193\"}.fa-vimeo-square:before{content:\"\\f194\"}.fa-try:before,.fa-turkish-lira:before{content:\"\\f195\"}.fa-plus-square-o:before{content:\"\\f196\"}.fa-space-shuttle:before{content:\"\\f197\"}.fa-slack:before{content:\"\\f198\"}.fa-envelope-square:before{content:\"\\f199\"}.fa-wordpress:before{content:\"\\f19a\"}.fa-openid:before{content:\"\\f19b\"}.fa-bank:before,.fa-institution:before,.fa-university:before{content:\"\\f19c\"}.fa-graduation-cap:before,.fa-mortar-board:before{content:\"\\f19d\"}.fa-yahoo:before{content:\"\\f19e\"}.fa-google:before{content:\"\\f1a0\"}.fa-reddit:before{content:\"\\f1a1\"}.fa-reddit-square:before{content:\"\\f1a2\"}.fa-stumbleupon-circle:before{content:\"\\f1a3\"}.fa-stumbleupon:before{content:\"\\f1a4\"}.fa-delicious:before{content:\"\\f1a5\"}.fa-digg:before{content:\"\\f1a6\"}.fa-pied-piper:before{content:\"\\f1a7\"}.fa-pied-piper-alt:before{content:\"\\f1a8\"}.fa-drupal:before{content:\"\\f1a9\"}.fa-joomla:before{content:\"\\f1aa\"}.fa-language:before{content:\"\\f1ab\"}.fa-fax:before{content:\"\\f1ac\"}.fa-building:before{content:\"\\f1ad\"}.fa-child:before{content:\"\\f1ae\"}.fa-paw:before{content:\"\\f1b0\"}.fa-spoon:before{content:\"\\f1b1\"}.fa-cube:before{content:\"\\f1b2\"}.fa-cubes:before{content:\"\\f1b3\"}.fa-behance:before{content:\"\\f1b4\"}.fa-behance-square:before{content:\"\\f1b5\"}.fa-steam:before{content:\"\\f1b6\"}.fa-steam-square:before{content:\"\\f1b7\"}.fa-recycle:before{content:\"\\f1b8\"}.fa-automobile:before,.fa-car:before{content:\"\\f1b9\"}.fa-cab:before,.fa-taxi:before{content:\"\\f1ba\"}.fa-tree:before{content:\"\\f1bb\"}.fa-spotify:before{content:\"\\f1bc\"}.fa-deviantart:before{content:\"\\f1bd\"}.fa-soundcloud:before{content:\"\\f1be\"}.fa-database:before{content:\"\\f1c0\"}.fa-file-pdf-o:before{content:\"\\f1c1\"}.fa-file-word-o:before{content:\"\\f1c2\"}.fa-file-excel-o:before{content:\"\\f1c3\"}.fa-file-powerpoint-o:before{content:\"\\f1c4\"}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:\"\\f1c5\"}.fa-file-archive-o:before,.fa-file-zip-o:before{content:\"\\f1c6\"}.fa-file-audio-o:before,.fa-file-sound-o:before{content:\"\\f1c7\"}.fa-file-movie-o:before,.fa-file-video-o:before{content:\"\\f1c8\"}.fa-file-code-o:before{content:\"\\f1c9\"}.fa-vine:before{content:\"\\f1ca\"}.fa-codepen:before{content:\"\\f1cb\"}.fa-jsfiddle:before{content:\"\\f1cc\"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:\"\\f1cd\"}.fa-circle-o-notch:before{content:\"\\f1ce\"}.fa-ra:before,.fa-rebel:before{content:\"\\f1d0\"}.fa-empire:before,.fa-ge:before{content:\"\\f1d1\"}.fa-git-square:before{content:\"\\f1d2\"}.fa-git:before{content:\"\\f1d3\"}.fa-hacker-news:before,.fa-y-combinator-square:before,.fa-yc-square:before{content:\"\\f1d4\"}.fa-tencent-weibo:before{content:\"\\f1d5\"}.fa-qq:before{content:\"\\f1d6\"}.fa-wechat:before,.fa-weixin:before{content:\"\\f1d7\"}.fa-paper-plane:before,.fa-send:before{content:\"\\f1d8\"}.fa-paper-plane-o:before,.fa-send-o:before{content:\"\\f1d9\"}.fa-history:before{content:\"\\f1da\"}.fa-circle-thin:before{content:\"\\f1db\"}.fa-header:before{content:\"\\f1dc\"}.fa-paragraph:before{content:\"\\f1dd\"}.fa-sliders:before{content:\"\\f1de\"}.fa-share-alt:before{content:\"\\f1e0\"}.fa-share-alt-square:before{content:\"\\f1e1\"}.fa-bomb:before{content:\"\\f1e2\"}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:\"\\f1e3\"}.fa-tty:before{content:\"\\f1e4\"}.fa-binoculars:before{content:\"\\f1e5\"}.fa-plug:before{content:\"\\f1e6\"}.fa-slideshare:before{content:\"\\f1e7\"}.fa-twitch:before{content:\"\\f1e8\"}.fa-yelp:before{content:\"\\f1e9\"}.fa-newspaper-o:before{content:\"\\f1ea\"}.fa-wifi:before{content:\"\\f1eb\"}.fa-calculator:before{content:\"\\f1ec\"}.fa-paypal:before{content:\"\\f1ed\"}.fa-google-wallet:before{content:\"\\f1ee\"}.fa-cc-visa:before{content:\"\\f1f0\"}.fa-cc-mastercard:before{content:\"\\f1f1\"}.fa-cc-discover:before{content:\"\\f1f2\"}.fa-cc-amex:before{content:\"\\f1f3\"}.fa-cc-paypal:before{content:\"\\f1f4\"}.fa-cc-stripe:before{content:\"\\f1f5\"}.fa-bell-slash:before{content:\"\\f1f6\"}.fa-bell-slash-o:before{content:\"\\f1f7\"}.fa-trash:before{content:\"\\f1f8\"}.fa-copyright:before{content:\"\\f1f9\"}.fa-at:before{content:\"\\f1fa\"}.fa-eyedropper:before{content:\"\\f1fb\"}.fa-paint-brush:before{content:\"\\f1fc\"}.fa-birthday-cake:before{content:\"\\f1fd\"}.fa-area-chart:before{content:\"\\f1fe\"}.fa-pie-chart:before{content:\"\\f200\"}.fa-line-chart:before{content:\"\\f201\"}.fa-lastfm:before{content:\"\\f202\"}.fa-lastfm-square:before{content:\"\\f203\"}.fa-toggle-off:before{content:\"\\f204\"}.fa-toggle-on:before{content:\"\\f205\"}.fa-bicycle:before{content:\"\\f206\"}.fa-bus:before{content:\"\\f207\"}.fa-ioxhost:before{content:\"\\f208\"}.fa-angellist:before{content:\"\\f209\"}.fa-cc:before{content:\"\\f20a\"}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:\"\\f20b\"}.fa-meanpath:before{content:\"\\f20c\"}.fa-buysellads:before{content:\"\\f20d\"}.fa-connectdevelop:before{content:\"\\f20e\"}.fa-dashcube:before{content:\"\\f210\"}.fa-forumbee:before{content:\"\\f211\"}.fa-leanpub:before{content:\"\\f212\"}.fa-sellsy:before{content:\"\\f213\"}.fa-shirtsinbulk:before{content:\"\\f214\"}.fa-simplybuilt:before{content:\"\\f215\"}.fa-skyatlas:before{content:\"\\f216\"}.fa-cart-plus:before{content:\"\\f217\"}.fa-cart-arrow-down:before{content:\"\\f218\"}.fa-diamond:before{content:\"\\f219\"}.fa-ship:before{content:\"\\f21a\"}.fa-user-secret:before{content:\"\\f21b\"}.fa-motorcycle:before{content:\"\\f21c\"}.fa-street-view:before{content:\"\\f21d\"}.fa-heartbeat:before{content:\"\\f21e\"}.fa-venus:before{content:\"\\f221\"}.fa-mars:before{content:\"\\f222\"}.fa-mercury:before{content:\"\\f223\"}.fa-intersex:before,.fa-transgender:before{content:\"\\f224\"}.fa-transgender-alt:before{content:\"\\f225\"}.fa-venus-double:before{content:\"\\f226\"}.fa-mars-double:before{content:\"\\f227\"}.fa-venus-mars:before{content:\"\\f228\"}.fa-mars-stroke:before{content:\"\\f229\"}.fa-mars-stroke-v:before{content:\"\\f22a\"}.fa-mars-stroke-h:before{content:\"\\f22b\"}.fa-neuter:before{content:\"\\f22c\"}.fa-genderless:before{content:\"\\f22d\"}.fa-facebook-official:before{content:\"\\f230\"}.fa-pinterest-p:before{content:\"\\f231\"}.fa-whatsapp:before{content:\"\\f232\"}.fa-server:before{content:\"\\f233\"}.fa-user-plus:before{content:\"\\f234\"}.fa-user-times:before{content:\"\\f235\"}.fa-bed:before,.fa-hotel:before{content:\"\\f236\"}.fa-viacoin:before{content:\"\\f237\"}.fa-train:before{content:\"\\f238\"}.fa-subway:before{content:\"\\f239\"}.fa-medium:before{content:\"\\f23a\"}.fa-y-combinator:before,.fa-yc:before{content:\"\\f23b\"}.fa-optin-monster:before{content:\"\\f23c\"}.fa-opencart:before{content:\"\\f23d\"}.fa-expeditedssl:before{content:\"\\f23e\"}.fa-battery-4:before,.fa-battery-full:before{content:\"\\f240\"}.fa-battery-3:before,.fa-battery-three-quarters:before{content:\"\\f241\"}.fa-battery-2:before,.fa-battery-half:before{content:\"\\f242\"}.fa-battery-1:before,.fa-battery-quarter:before{content:\"\\f243\"}.fa-battery-0:before,.fa-battery-empty:before{content:\"\\f244\"}.fa-mouse-pointer:before{content:\"\\f245\"}.fa-i-cursor:before{content:\"\\f246\"}.fa-object-group:before{content:\"\\f247\"}.fa-object-ungroup:before{content:\"\\f248\"}.fa-sticky-note:before{content:\"\\f249\"}.fa-sticky-note-o:before{content:\"\\f24a\"}.fa-cc-jcb:before{content:\"\\f24b\"}.fa-cc-diners-club:before{content:\"\\f24c\"}.fa-clone:before{content:\"\\f24d\"}.fa-balance-scale:before{content:\"\\f24e\"}.fa-hourglass-o:before{content:\"\\f250\"}.fa-hourglass-1:before,.fa-hourglass-start:before{content:\"\\f251\"}.fa-hourglass-2:before,.fa-hourglass-half:before{content:\"\\f252\"}.fa-hourglass-3:before,.fa-hourglass-end:before{content:\"\\f253\"}.fa-hourglass:before{content:\"\\f254\"}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:\"\\f255\"}.fa-hand-paper-o:before,.fa-hand-stop-o:before{content:\"\\f256\"}.fa-hand-scissors-o:before{content:\"\\f257\"}.fa-hand-lizard-o:before{content:\"\\f258\"}.fa-hand-spock-o:before{content:\"\\f259\"}.fa-hand-pointer-o:before{content:\"\\f25a\"}.fa-hand-peace-o:before{content:\"\\f25b\"}.fa-trademark:before{content:\"\\f25c\"}.fa-registered:before{content:\"\\f25d\"}.fa-creative-commons:before{content:\"\\f25e\"}.fa-gg:before{content:\"\\f260\"}.fa-gg-circle:before{content:\"\\f261\"}.fa-tripadvisor:before{content:\"\\f262\"}.fa-odnoklassniki:before{content:\"\\f263\"}.fa-odnoklassniki-square:before{content:\"\\f264\"}.fa-get-pocket:before{content:\"\\f265\"}.fa-wikipedia-w:before{content:\"\\f266\"}.fa-safari:before{content:\"\\f267\"}.fa-chrome:before{content:\"\\f268\"}.fa-firefox:before{content:\"\\f269\"}.fa-opera:before{content:\"\\f26a\"}.fa-internet-explorer:before{content:\"\\f26b\"}.fa-television:before,.fa-tv:before{content:\"\\f26c\"}.fa-contao:before{content:\"\\f26d\"}.fa-500px:before{content:\"\\f26e\"}.fa-amazon:before{content:\"\\f270\"}.fa-calendar-plus-o:before{content:\"\\f271\"}.fa-calendar-minus-o:before{content:\"\\f272\"}.fa-calendar-times-o:before{content:\"\\f273\"}.fa-calendar-check-o:before{content:\"\\f274\"}.fa-industry:before{content:\"\\f275\"}.fa-map-pin:before{content:\"\\f276\"}.fa-map-signs:before{content:\"\\f277\"}.fa-map-o:before{content:\"\\f278\"}.fa-map:before{content:\"\\f279\"}.fa-commenting:before{content:\"\\f27a\"}.fa-commenting-o:before{content:\"\\f27b\"}.fa-houzz:before{content:\"\\f27c\"}.fa-vimeo:before{content:\"\\f27d\"}.fa-black-tie:before{content:\"\\f27e\"}.fa-fonticons:before{content:\"\\f280\"}.fa-reddit-alien:before{content:\"\\f281\"}.fa-edge:before{content:\"\\f282\"}.fa-credit-card-alt:before{content:\"\\f283\"}.fa-codiepie:before{content:\"\\f284\"}.fa-modx:before{content:\"\\f285\"}.fa-fort-awesome:before{content:\"\\f286\"}.fa-usb:before{content:\"\\f287\"}.fa-product-hunt:before{content:\"\\f288\"}.fa-mixcloud:before{content:\"\\f289\"}.fa-scribd:before{content:\"\\f28a\"}.fa-pause-circle:before{content:\"\\f28b\"}.fa-pause-circle-o:before{content:\"\\f28c\"}.fa-stop-circle:before{content:\"\\f28d\"}.fa-stop-circle-o:before{content:\"\\f28e\"}.fa-shopping-bag:before{content:\"\\f290\"}.fa-shopping-basket:before{content:\"\\f291\"}.fa-hashtag:before{content:\"\\f292\"}.fa-bluetooth:before{content:\"\\f293\"}.fa-bluetooth-b:before{content:\"\\f294\"}.fa-percent:before{content:\"\\f295\"}"},{"title":"","date":"2019-11-27T15:22:15.797Z","updated":"2019-11-27T15:22:15.797Z","comments":true,"path":"public/assets/css/APlayer.min.css","permalink":"http://ltyeamin.github.io/public/assets/css/APlayer.min.css","excerpt":"","text":".aplayer.aplayer-fixed,.aplayer.aplayer-fixed .aplayer-body{bottom:0;z-index:99;max-width:400px;left:0;right:0;position:fixed}.aplayer .aplayer-pic .aplayer-button path,.aplayer svg circle,.aplayer svg path{fill:#fff}.aplayer{background:#fff;font-family:Arial,Helvetica,sans-serif;margin:5px;box-shadow:0 2px 2px 0 rgba(0,0,0,.07),0 1px 5px 0 rgba(0,0,0,.1);border-radius:2px;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:normal;position:relative}.aplayer *{box-sizing:content-box}.aplayer svg{width:100%;height:100%}.aplayer.aplayer-withlist .aplayer-info{border-bottom:1px solid #e9e9e9}.aplayer.aplayer-withlist .aplayer-list{display:block}.aplayer.aplayer-withlist .aplayer-icon-order,.aplayer.aplayer-withlist .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon.aplayer-icon-menu{display:inline}.aplayer.aplayer-withlrc .aplayer-pic{height:90px;width:90px}.aplayer.aplayer-withlrc .aplayer-info{margin-left:90px;height:90px;padding:10px 7px 0}.aplayer.aplayer-withlrc .aplayer-lrc{display:block}.aplayer.aplayer-narrow{width:66px}.aplayer.aplayer-narrow .aplayer-info,.aplayer.aplayer-narrow .aplayer-list{display:none}.aplayer.aplayer-narrow .aplayer-body,.aplayer.aplayer-narrow .aplayer-pic{height:66px;width:66px}.aplayer.aplayer-fixed{margin:0;overflow:visible;box-shadow:none}.aplayer.aplayer-fixed .aplayer-list{margin-bottom:65px;border:1px solid #eee;border-bottom:none}.aplayer.aplayer-fixed .aplayer-body{margin:0;background:#fff;padding-right:18px;transition:all .3s ease}.aplayer.aplayer-fixed .aplayer-lrc{display:block;position:fixed;bottom:10px;left:0;right:0;margin:0;z-index:98;pointer-events:none;text-shadow:-1px -1px 0 #fff}.aplayer.aplayer-fixed .aplayer-lrc:after,.aplayer.aplayer-fixed .aplayer-lrc:before{display:none}.aplayer.aplayer-fixed .aplayer-info{-webkit-transform:scaleX(1);transform:scaleX(1);-webkit-transform-origin:0 0;transform-origin:0 0;transition:all .3s ease;border-bottom:none;border-top:1px solid #e9e9e9}.aplayer.aplayer-fixed .aplayer-info .aplayer-music{width:calc(100% - 105px)}.aplayer.aplayer-fixed .aplayer-miniswitcher{display:block}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-info{display:block;-webkit-transform:scaleX(0);transform:scaleX(0)}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{width:66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-miniswitcher .aplayer-icon{-webkit-transform:rotateY(0);transform:rotateY(0)}.aplayer.aplayer-fixed .aplayer-icon-back,.aplayer.aplayer-fixed .aplayer-icon-forward,.aplayer.aplayer-fixed .aplayer-icon-lrc,.aplayer.aplayer-fixed .aplayer-icon-play{display:inline-block}.aplayer.aplayer-fixed .aplayer-icon-back,.aplayer.aplayer-fixed .aplayer-icon-forward,.aplayer.aplayer-fixed .aplayer-icon-menu,.aplayer.aplayer-fixed .aplayer-icon-play{position:absolute;bottom:27px;width:20px;height:20px}.aplayer.aplayer-fixed .aplayer-icon-back{right:75px}.aplayer.aplayer-fixed .aplayer-icon-play{right:50px}.aplayer.aplayer-fixed .aplayer-icon-forward{right:25px}.aplayer.aplayer-fixed .aplayer-icon-menu{right:0}.aplayer.aplayer-arrow .aplayer-icon-loop,.aplayer.aplayer-arrow .aplayer-icon-order,.aplayer.aplayer-mobile .aplayer-icon-volume-down{display:none}.aplayer.aplayer-loading .aplayer-info .aplayer-controller .aplayer-loading-icon{display:block}.aplayer.aplayer-loading .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar .aplayer-played .aplayer-thumb{-webkit-transform:scale(1);transform:scale(1)}.aplayer .aplayer-body{position:relative}.aplayer .aplayer-icon{width:15px;height:15px;border:none;background-color:transparent;outline:0;cursor:pointer;opacity:.8;vertical-align:middle;padding:0;font-size:12px;margin:0;display:inline-block}.aplayer .aplayer-icon-back,.aplayer .aplayer-icon-forward,.aplayer .aplayer-icon-lrc,.aplayer .aplayer-icon-order,.aplayer .aplayer-icon-play,.aplayer .aplayer-lrc-content,.aplayer .aplayer-pic .aplayer-hide{display:none}.aplayer .aplayer-icon path{transition:all .2s ease-in-out}.aplayer .aplayer-icon-lrc-inactivity svg{opacity:.4}.aplayer .aplayer-icon-forward{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.aplayer .aplayer-pic{position:relative;float:left;height:66px;width:66px;background-size:cover;background-position:50%;transition:all .3s ease;cursor:pointer}.aplayer .aplayer-pic:hover .aplayer-button{opacity:1}.aplayer .aplayer-pic .aplayer-button{position:absolute;border-radius:50%;opacity:.8;text-shadow:0 1px 1px rgba(0,0,0,.2);box-shadow:0 1px 1px rgba(0,0,0,.2);background:rgba(0,0,0,.2);transition:all .1s ease}.aplayer .aplayer-pic .aplayer-play{width:26px;height:26px;border:2px solid #fff;bottom:50%;right:50%;margin:0 -15px -15px 0}.aplayer .aplayer-pic .aplayer-play svg{position:absolute;top:3px;left:4px;height:20px;width:20px}.aplayer .aplayer-pic .aplayer-pause{width:16px;height:16px;border:2px solid #fff;bottom:4px;right:4px}.aplayer .aplayer-pic .aplayer-pause svg{position:absolute;top:2px;left:2px;height:12px;width:12px}.aplayer .aplayer-info{margin-left:66px;padding:14px 7px 0 10px;height:66px;box-sizing:border-box}.aplayer .aplayer-info .aplayer-music{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin:0 0 13px 5px;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:default;padding-bottom:2px;height:20px}.aplayer .aplayer-info .aplayer-music .aplayer-title{font-size:14px}.aplayer .aplayer-info .aplayer-music .aplayer-author{font-size:12px;color:#666}.aplayer .aplayer-info .aplayer-controller{position:relative;display:flex}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap{margin:0 0 0 5px;padding:4px 0;cursor:pointer!important;flex:1}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap:hover .aplayer-bar .aplayer-played .aplayer-thumb{-webkit-transform:scale(1);transform:scale(1)}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar{position:relative;height:2px;width:100%;background:#cdcdcd}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar .aplayer-loaded{position:absolute;left:0;top:0;bottom:0;background:#aaa;height:2px;transition:all .5s ease}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar .aplayer-played{position:absolute;left:0;top:0;bottom:0;height:2px}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar .aplayer-played .aplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:10px;width:10px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;-webkit-transform:scale(0);transform:scale(0)}.aplayer .aplayer-info .aplayer-controller .aplayer-time{position:relative;right:0;bottom:4px;height:17px;color:#999;font-size:11px;padding-left:7px}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-time-inner{vertical-align:middle}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon{cursor:pointer;transition:all .2s ease}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon path{fill:#666}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon.aplayer-icon-loop{margin-right:2px}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon:hover path{fill:#000}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon.aplayer-icon-menu,.aplayer .aplayer-info .aplayer-controller .aplayer-time.aplayer-time-narrow .aplayer-icon-menu,.aplayer .aplayer-info .aplayer-controller .aplayer-time.aplayer-time-narrow .aplayer-icon-mode{display:none}.aplayer .aplayer-info .aplayer-controller .aplayer-volume-wrap{position:relative;display:inline-block;margin-left:3px;cursor:pointer!important}.aplayer .aplayer-info .aplayer-controller .aplayer-volume-wrap:hover .aplayer-volume-bar-wrap{height:40px}.aplayer .aplayer-info .aplayer-controller .aplayer-volume-wrap .aplayer-volume-bar-wrap{position:absolute;bottom:15px;right:-3px;width:25px;height:0;z-index:99;overflow:hidden;transition:all .2s ease-in-out}.aplayer .aplayer-info .aplayer-controller .aplayer-volume-wrap .aplayer-volume-bar-wrap.aplayer-volume-bar-wrap-active{height:40px}.aplayer .aplayer-info .aplayer-controller .aplayer-volume-wrap .aplayer-volume-bar-wrap .aplayer-volume-bar{position:absolute;bottom:0;right:10px;width:5px;height:35px;background:#aaa;border-radius:2.5px;overflow:hidden}.aplayer .aplayer-info .aplayer-controller .aplayer-volume-wrap .aplayer-volume-bar-wrap .aplayer-volume-bar .aplayer-volume{position:absolute;bottom:0;right:0;width:5px;transition:all .1s ease}.aplayer .aplayer-info .aplayer-controller .aplayer-loading-icon{display:none}.aplayer .aplayer-info .aplayer-controller .aplayer-loading-icon svg{position:absolute;-webkit-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite}.aplayer .aplayer-lrc{display:none;position:relative;height:30px;text-align:center;overflow:hidden;margin:-10px 0 7px}.aplayer .aplayer-lrc:before{top:0;height:10%;background:linear-gradient(180deg,#fff 0,hsla(0,0%,100%,0));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#ffffff\", endColorstr=\"#00ffffff\", GradientType=0)}.aplayer .aplayer-lrc:after,.aplayer .aplayer-lrc:before{position:absolute;z-index:1;display:block;overflow:hidden;width:100%;content:\" \"}.aplayer .aplayer-lrc:after{bottom:0;height:33%;background:linear-gradient(180deg,hsla(0,0%,100%,0) 0,hsla(0,0%,100%,.8));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#00ffffff\", endColorstr=\"#ccffffff\", GradientType=0)}.aplayer .aplayer-lrc p{font-size:12px;color:#666;line-height:16px!important;height:16px!important;padding:0!important;margin:0!important;transition:all .5s ease-out;opacity:.4;overflow:hidden}.aplayer .aplayer-lrc p.aplayer-lrc-current{opacity:1;overflow:visible;height:auto!important;min-height:16px}.aplayer .aplayer-lrc.aplayer-lrc-hide{display:none}.aplayer .aplayer-lrc .aplayer-lrc-contents{width:100%;transition:all .5s ease-out;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:default}.aplayer .aplayer-list{transition:all .5s ease;will-change:height;display:none;overflow:hidden}.aplayer .aplayer-list.aplayer-list-hide{max-height:0!important}.aplayer .aplayer-list ol{list-style-type:none;margin:0;padding:0;overflow-y:auto}.aplayer .aplayer-list ol::-webkit-scrollbar{width:5px}.aplayer .aplayer-list ol::-webkit-scrollbar-thumb{border-radius:3px;background-color:#eee}.aplayer .aplayer-list ol::-webkit-scrollbar-thumb:hover{background-color:#ccc}.aplayer .aplayer-list ol li{position:relative;height:32px;line-height:32px;padding:0 15px;font-size:12px;border-top:1px solid #e9e9e9;cursor:pointer;transition:all .2s ease;overflow:hidden;margin:0}.aplayer .aplayer-list ol li:first-child{border-top:none}.aplayer .aplayer-list ol li:hover{background:#efefef}.aplayer .aplayer-list ol li.aplayer-list-light{background:#e9e9e9}.aplayer .aplayer-list ol li.aplayer-list-light .aplayer-list-cur{display:inline-block}.aplayer .aplayer-list ol li .aplayer-list-cur{display:none;width:3px;height:22px;position:absolute;left:0;top:5px;cursor:pointer}.aplayer .aplayer-list ol li .aplayer-list-index{color:#666;margin-right:12px;cursor:pointer}.aplayer .aplayer-list ol li .aplayer-list-author{color:#666;float:right;cursor:pointer}.aplayer .aplayer-notice{opacity:0;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:12px;border-radius:4px;padding:5px 10px;transition:all .3s ease-in-out;overflow:hidden;pointer-events:none;background-color:#f4f4f5;color:#909399}.aplayer .aplayer-miniswitcher{display:none;position:absolute;top:0;right:0;bottom:0;height:100%;background:#e6e6e6;width:18px;border-radius:0 2px 2px 0}.aplayer .aplayer-miniswitcher .aplayer-icon{height:100%;width:100%;-webkit-transform:rotateY(180deg);transform:rotateY(180deg);transition:all .3s ease}.aplayer .aplayer-miniswitcher .aplayer-icon path{fill:#666}.aplayer .aplayer-miniswitcher .aplayer-icon:hover path{fill:#000}@-webkit-keyframes aplayer-roll{0%{left:0}to{left:-100%}}@keyframes aplayer-roll{0%{left:0}to{left:-100%}}@-webkit-keyframes rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}"},{"title":"","date":"2019-11-27T15:22:16.701Z","updated":"2019-11-27T15:22:16.701Z","comments":true,"path":"public/assets/tagcanvas.min.js","permalink":"http://ltyeamin.github.io/public/assets/tagcanvas.min.js","excerpt":"","text":"!function(){function t(t){return void 0!==t}function i(t){return\"object\"==typeof t&&null!=t}function e(t,i,e){return isNaN(t)?e:vt(e,xt(i,t))}function s(){return!1}function h(){return(new Date).valueOf()}function n(t,i){var e,s=[],h=t.length;for(e=0;e0)}function y(t,i,e,s){var h,n=t.createLinearGradient(0,0,i,0);for(h in s)n.addColorStop(1-h,s[h]);t.fillStyle=n,t.fillRect(0,e,i,1)}function S(t,e,s){var h,n,a,o,r=1,l=t.weightGradient;if(t.gCanvas)n=t.gCanvas.getContext(\"2d\"),r=t.gCanvas.height;else{if(i(l[0])?r=l.length:l=[l],t.gCanvas=h=v(1024,r),!h)return null;for(n=h.getContext(\"2d\"),a=0;a=r/2?(o=vt(e,s)/2,a.beginPath(),a.moveTo(e/2,s/2),a.arc(e/2,s/2,o,0,2*Math.PI,!1),a.fill(),a.closePath()):(o=vt(e/2,s/2,o),C(a,0,0,e,s,o,!0),a.fill()),a.globalCompositeOperation=\"source-in\",a.drawImage(t,0,0,e,s),n):null}function F(t,i,e,s,h,n,a){var o,r,l=mt(a[0]),u=mt(a[1]),g=i+(l>n?l+n:2*n)*s,c=e+(u>n?u+n:2*n)*s,f=s*((n||0)+(a[0]0?l=D(l,this.oimage.width,this.oimage.height):this.oimage=D(this.oimage,l.width,l.height)),l&&(this.fimage=l,o=this.fimage.width/e,r=this.fimage.height/e),this.SetDraw(i),i.txtOpt=!!this.fimage),this.h=r,this.w=o},rt.SetFont=function(t,i,e,s){this.textFont=t,this.colour=i,this.bgColour=e,this.bgOutline=s,this.Measure(this.tc.ctxt,this.tc)},rt.SetWeight=function(t){var i,e,s=this.tc,h=s.weightMode.split(/[, ]/),n=t.length;if(this.HasText()){for(this.weighted=!0,e=0;e0&&e.weightSizeMax>e.weightSizeMin?this.textHeight=e.weightSize*(e.weightSizeMin+(e.weightSizeMax-e.weightSizeMin)*o):this.textHeight=xt(1,t*e.weightSize))},rt.SetShadowColourFixed=function(t,i,e){t.shadowColor=i},rt.SetShadowColourAlpha=function(t,i,e){t.shadowColor=x(i,e)},rt.DrawText=function(t,i,e){var s,h,n=this.tc,a=this.x,o=this.y,r=this.sc;for(t.globalAlpha=this.alpha,t.fillStyle=this.colour,n.shadow&&this.SetShadowColour(t,n.shadow,this.alpha),t.font=this.font,a+=i/r,o+=e/r-this.h/2,s=0;s=0&&at.z0?t.yaw*t.decel:0),!t.ly&&s>i&&(t.pitch=s>t.z0?t.pitch*t.decel:0)},lt.Zoom=function(t){this.z2=this.z1*(1/t),this.drawn=0},lt.Clicked=function(t){var i=this.active;try{i&&i.tag&&(!1===this.clickToFront||null===this.clickToFront?i.tag.Clicked(t):this.TagToFront(i.tag,this.clickToFront,function(){i.tag.Clicked(t)},!0))}catch(t){}},lt.Wheel=function(t){var i=this.zoom+this.zoomStep*(t?1:-1);this.zoom=vt(this.zoomMax,xt(this.zoomMin,i)),this.Zoom(this.zoom)},lt.BeginDrag=function(t){this.down=L(t,this.canvas),t.cancelBubble=!0,t.returnValue=!1,t.preventDefault&&t.preventDefault()},lt.Drag=function(t,i){if(this.dragControl&&this.down){var e=this.dragThreshold*this.dragThreshold,s=i.x-this.down.x,h=i.y-this.down.y;(this.dragging||s*s+h*h>e)&&(this.dx=s,this.dy=h,this.dragging=1,this.down=i)}return this.dragging},lt.EndDrag=function(){var t=this.dragging;return this.dragging=this.down=null,t},lt.BeginPinch=function(t){this.pinched=[st(t),this.zoom],t.preventDefault&&t.preventDefault()},lt.Pinch=function(t){var i,e,s=this.pinched;s&&(e=st(t),i=s[1]*e/s[0],this.zoom=vt(this.zoomMax,xt(this.zoomMin,i)),this.Zoom(this.zoom))},lt.EndPinch=function(t){this.pinched=null},lt.Pause=function(){this.paused=!0},lt.Resume=function(){this.paused=!1},lt.SetSpeed=function(t){this.initial=t,this.yaw=t[0]*this.maxSpeed,this.pitch=t[1]*this.maxSpeed},lt.FindTag=function(e){if(!t(e))return null;if(t(e.index)&&(e=e.index),!i(e))return this.taglist[e];var s,h,n;for(t(e.id)?(s=\"id\",h=e.id):t(e.text)&&(s=\"innerText\",h=e.text),n=0;n"},{"title":"","date":"2019-11-27T15:22:15.810Z","updated":"2019-11-27T15:22:15.810Z","comments":true,"path":"public/archives/2017/index.html","permalink":"http://ltyeamin.github.io/public/archives/2017/index.html","excerpt":"","text":"å½’æ¡£ï¼š2017 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2017 1512æœˆ ES6æ–°çš„æ•°æ®ç±»åž‹-generator 1512æœˆ ç®­å¤´å‡½æ•° 1312æœˆ é—­åŒ… 1312æœˆ é«˜é˜¶å‡½æ•° 1312æœˆ JSæ–¹æ³• 1312æœˆ å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ 0412æœˆ JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.802Z","updated":"2019-11-27T15:22:15.802Z","comments":true,"path":"public/categories/algorithm/index.html","permalink":"http://ltyeamin.github.io/public/categories/algorithm/index.html","excerpt":"","text":"åˆ†ç±»: algorithm | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ algorithm çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° &bull; 2019å¹´03æœˆ29æ—¥ è°ˆåˆ°æ•°æ®ç»“æž„çš„æ ‘ï¼Œç¬”è€…çš„å°è±¡ä¸­è¿˜æ˜¯åœ¨å¤§å­¦æ—¶æœŸçš„æ¦‚å¿µï¼Œæœ€æ—©çš„æ¦‚å¿µæºè‡ªäºŽå“ˆå¤«æ›¼æ ‘(æœ€ä¼˜äºŒå‰æ ‘)ï¼Œå…¶ä»–çš„æ ‘ç»“æž„è¿˜æœ‰äºŒå‰æŸ¥æ‰¾æ ‘ã€å®Œå…¨äºŒå‰æ ‘ã€å¹³è¡¡äºŒå‰æ ‘(åˆåˆ†ä¸ºAVLæ ‘ã€RBçº¢é»‘æ ‘ã€SBTã€ä¼¸å±•æ ‘ã€TREAPã€æ›¿ç½ªç¾Šæ ‘ ï¼‰ã€å¹³è¡¡å¤šå‰æ ‘ï¼ˆB - Tree å’ŒB+ Tree)ç­‰ï¼Œä»Šå¤©æˆ‘ä»¬æ¥ç ”ç©¶ä¸€ä¸‹å¹³è¡¡äºŒå‰æ ‘... æ•°æ®ç»“æž„ä¹‹æŽ’åº &bull; 2018å¹´05æœˆ10æ—¥ æ•°æ®ç»“æž„å’Œç®—æ³•æ˜¯æ•´ä¸ªè®¡ç®—æœºç§‘å­¦ä¸ŽæŠ€æœ¯é¢†åŸŸæ°¸è¿œé€ƒé¿ä¸äº†çš„è¯é¢˜,åšä¸»å¤§å­¦æœ‰è¿‡æ•°æ®ç»“æž„è¿™é—¨å­¦ç§‘,ä¸è¿‡ç‰¹åˆ«åŽæ‚”å½“æ—¶æ²¡æœ‰å¥½å¥½å­¦ä¹ .ä»…å­¦çš„é‚£ä¹ˆç‚¹ä¸œè¥¿çŽ°åœ¨å‡ ä¹Žå¿˜å¾—ä¸€å¹²äºŒå‡€.è™½è¯´å­¦çš„æµ…è–„,ä½†å¯¹æ•´ä¸ªç¼–ç¨‹æ€æƒ³è¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„. åç§å¸¸è§æŽ’åºç®—æ³•åç§å¸¸è§æŽ’åºç®—æ³•å¯åˆ†ä¸ºä¸¤å¤§ç±»: éžçº¿æ€§æ—¶é—´æ¯”è¾ƒç±»æŽ’åºï¼šé€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒ... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.800Z","updated":"2019-11-27T15:22:15.800Z","comments":true,"path":"public/categories/frontend/index.html","permalink":"http://ltyeamin.github.io/public/categories/frontend/index.html","excerpt":"","text":"åˆ†ç±»: frontend | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ frontend ES6æ–°çš„æ•°æ®ç±»åž‹-generator &bull; 2017å¹´12æœˆ15æ—¥ æ–°çš„æ•°æ®ç±»åž‹-generatorgeneratorï¼ˆç”Ÿæˆå™¨ï¼‰æ˜¯ES6æ ‡å‡†å¼•å…¥çš„æ–°çš„æ•°æ®ç±»åž‹ã€‚ä¸€ä¸ªgeneratorçœ‹ä¸ŠåŽ»åƒä¸€ä¸ªå‡½æ•°ï¼Œä½†å¯ä»¥è¿”å›žå¤šæ¬¡.ES6å®šä¹‰generatoræ ‡å‡†çš„å“¥ä»¬å€Ÿé‰´äº†Pythonçš„generatorçš„æ¦‚å¿µå’Œè¯­æ³•.æˆ‘ä»¬å…ˆå¤ä¹ å‡½æ•°çš„æ¦‚å¿µã€‚ä¸€ä¸ªå‡½æ•°æ˜¯ä¸€æ®µå®Œæ•´çš„ä»£ç ï¼Œè°ƒç”¨ä¸€ä¸ª... ç®­å¤´å‡½æ•° &bull; 2017å¹´12æœˆ15æ—¥ ç®­å¤´å‡½æ•°ES6æ ‡å‡†æ–°å¢žäº†ä¸€ç§æ–°çš„å‡½æ•°ï¼šArrow Functionï¼ˆç®­å¤´å‡½æ•°ï¼‰ã€‚ä¸ºä»€ä¹ˆå«Arrow Functionï¼Ÿå› ä¸ºå®ƒçš„å®šä¹‰ç”¨çš„å°±æ˜¯ä¸€ä¸ªç®­å¤´:12var fn = x =&amp;gt; x * x;alert(fn(5)); //25 ä¸Šé¢çš„ç®­å¤´å‡½æ•°ç›¸å½“äºŽ:1234function (x) ... é—­åŒ… &bull; 2017å¹´12æœˆ13æ—¥ å‡½æ•°ä½œä¸ºè¿”å›žå€¼é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æŽ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æžœå€¼è¿”å›žã€‚æˆ‘ä»¬æ¥å®žçŽ°ä¸€ä¸ªå¯¹Arrayçš„æ±‚å’Œã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ±‚å’Œçš„å‡½æ•°æ˜¯è¿™æ ·å®šä¹‰çš„:123456function sum(arr) &amp;#123; return arr.reduce(function (x, y) &amp;#123... é«˜é˜¶å‡½æ•° &bull; 2017å¹´12æœˆ13æ—¥ é«˜é˜¶å‡½æ•°æ¦‚è¿°é«˜é˜¶å‡½æ•°è‹±æ–‡å«Higher-order functionã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼ŸJavaScriptçš„å‡½æ•°å…¶å®žéƒ½æŒ‡å‘æŸä¸ªå˜é‡ã€‚æ—¢ç„¶å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°èƒ½æŽ¥æ”¶å˜é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æŽ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°å°±ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚ä¸€ä¸ªæœ€ç®€å•çš„é«˜é˜¶å‡½æ•°: 12345functi... JSæ–¹æ³• &bull; 2017å¹´12æœˆ13æ—¥ å¯¹è±¡çš„æ–¹æ³•åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ç»‘å®šå‡½æ•°ï¼Œç§°ä¸ºè¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚åœ¨JavaScriptä¸­ï¼Œå¯¹è±¡çš„å®šä¹‰æ˜¯è¿™æ ·çš„:1234var xiaoming = &amp;#123; name: &amp;apos;å°æ˜Ž&amp;apos;, birth: 1990&amp;#125;; ä½†æ˜¯ï¼Œå¦‚æžœæˆ‘ä»¬ç»™xiaomingç»‘å®šä¸€ä¸ªå‡½æ•°ï¼Œå°±å¯... å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ &bull; 2017å¹´12æœˆ13æ—¥ å˜é‡ä½œç”¨åŸŸåœ¨JavaScriptä¸­ï¼Œç”¨varç”³æ˜Žçš„å˜é‡å®žé™…ä¸Šæ˜¯æœ‰ä½œç”¨åŸŸçš„ã€‚å¦‚æžœä¸€ä¸ªå˜é‡åœ¨å‡½æ•°ä½“å†…éƒ¨ç”³æ˜Žï¼Œåˆ™è¯¥å˜é‡çš„ä½œç”¨åŸŸä¸ºæ•´ä¸ªå‡½æ•°ä½“ï¼Œåœ¨å‡½æ•°ä½“å¤–ä¸å¯å¼•ç”¨è¯¥å˜é‡:12345function foo() &amp;#123; var x = 1; x = x + 1;&amp;#125;x = x +... JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ &bull; 2017å¹´12æœˆ04æ—¥ å®šä¹‰å‡½æ•°JavaScriptå‡½æ•°æ—¶å‚æ•°åŒ–çš„,å¹¶ä¸”æ¯æ¬¡è°ƒç”¨è¿˜ä¼šæœ‰ä¸ªä¸Šä¸‹æ–‡(thiså…³é”®å­—).å¦‚æžœå‡½æ•°æŒ‚è½½åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Š,ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§,é‚£å°±æ˜¯å¯¹è±¡çš„æ–¹æ³•.JSçš„å‡½æ•°å¯ä»¥åµŒå¥—åœ¨å…¶ä»–å‡½æ•°ä¸­å®šä¹‰,è¿™æ ·å®ƒä»¬å°±å¯ä»¥è®¿é—®å®ƒä»¬è¢«å®šä¹‰æ—¶æ‰€å¤„çš„ä½œç”¨åŸŸä¸­çš„ä»»ä½•éåŽ†.è¿™æ„å‘³ç€JSå‡½æ•°æž„æˆäº†ä¸€ä¸ªé—­åŒ…(closure)... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.801Z","updated":"2019-11-27T15:22:15.801Z","comments":true,"path":"public/categories/pm/index.html","permalink":"http://ltyeamin.github.io/public/categories/pm/index.html","excerpt":"","text":"åˆ†ç±»: pm | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ pm é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ &bull; 2018å¹´05æœˆ24æ—¥ åœ¨å…¬å¸ITéƒ¨é—¨é‡Œ,å„ä¸ªå›¢é˜Ÿ(äº§å“è®¾è®¡å›¢é˜Ÿ-UI/UEè®¾è®¡å¸ˆ-å‰ç«¯å·¥ç¨‹å¸ˆ-ç§»åŠ¨ç«¯å·¥ç¨‹å¸ˆ-åŽç«¯å·¥ç¨‹å¸ˆ-æµ‹è¯•å·¥ç¨‹å¸ˆ-è¿ç»´å·¥ç¨‹å¸ˆ)äº’ç›¸åä½œ,å…±åŒè¾¾åˆ°é¡¹ç›®ä¸Šçº¿çš„ç›®çš„.å¦‚æžœä¸€ä¸ªå…¬å¸çš„ITéƒ¨é—¨äººå‘˜ç®¡ç†ä»¥åŠé¡¹ç›®å¼€å‘æµç¨‹ä¸å¤ªå®Œå–„,å°±ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜,æ¯”å¦‚æ‰¯çš®æ— ç•Œå’Œæ²Ÿé€šä½Žæ•ˆç­‰é—®é¢˜,è¿™äº›ä¸¥é‡å½±å“åˆ°å·¥ä½œæ•ˆçŽ‡,æ‰“ç ´äº†é¡¹ç›®... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.802Z","updated":"2019-11-27T15:22:15.802Z","comments":true,"path":"public/page/6/index.html","permalink":"http://ltyeamin.github.io/public/page/6/index.html","excerpt":"","text":"å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ &bull; 2017å¹´12æœˆ13æ—¥ å˜é‡ä½œç”¨åŸŸåœ¨JavaScriptä¸­ï¼Œç”¨varç”³æ˜Žçš„å˜é‡å®žé™…ä¸Šæ˜¯æœ‰ä½œç”¨åŸŸçš„ã€‚å¦‚æžœä¸€ä¸ªå˜é‡åœ¨å‡½æ•°ä½“å†…éƒ¨ç”³æ˜Žï¼Œåˆ™è¯¥å˜é‡çš„ä½œç”¨åŸŸä¸ºæ•´ä¸ªå‡½æ•°ä½“ï¼Œåœ¨å‡½æ•°ä½“å¤–ä¸å¯å¼•ç”¨è¯¥å˜é‡:12345function foo() &amp;#123; var x = 1; x = x + 1;&amp;#125;x = x +... frontend JavaScript é˜…è¯»å…¨æ–‡ JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ &bull; 2017å¹´12æœˆ04æ—¥ å®šä¹‰å‡½æ•°JavaScriptå‡½æ•°æ—¶å‚æ•°åŒ–çš„,å¹¶ä¸”æ¯æ¬¡è°ƒç”¨è¿˜ä¼šæœ‰ä¸ªä¸Šä¸‹æ–‡(thiså…³é”®å­—).å¦‚æžœå‡½æ•°æŒ‚è½½åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Š,ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§,é‚£å°±æ˜¯å¯¹è±¡çš„æ–¹æ³•.JSçš„å‡½æ•°å¯ä»¥åµŒå¥—åœ¨å…¶ä»–å‡½æ•°ä¸­å®šä¹‰,è¿™æ ·å®ƒä»¬å°±å¯ä»¥è®¿é—®å®ƒä»¬è¢«å®šä¹‰æ—¶æ‰€å¤„çš„ä½œç”¨åŸŸä¸­çš„ä»»ä½•éåŽ†.è¿™æ„å‘³ç€JSå‡½æ•°æž„æˆäº†ä¸€ä¸ªé—­åŒ…(closure)... frontend JavaScript é˜…è¯»å…¨æ–‡ 1&hellip;456 æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.804Z","updated":"2019-11-27T15:22:15.804Z","comments":true,"path":"public/tags/Java/index.html","permalink":"http://ltyeamin.github.io/public/tags/Java/index.html","excerpt":"","text":"æ ‡ç­¾: Java | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Java æ·±å…¥åˆ†æžHashMapæºç  &bull; 2019å¹´04æœˆ01æ—¥ Mapè¿™ç§Key-Valueæ ¼å¼çš„æ•°æ®ç»“æž„åœ¨æ—¥å¸¸å¼€å‘ä¸­æ˜¯éžå¸¸çš„å¸¸è§ï¼Œå¤§éƒ¨åˆ†çš„é«˜çº§ç¼–ç¨‹è¯­è¨€éƒ½æœ‰Mapç±»åž‹ï¼ŒMapç±»åž‹å¸¸ç”¨äºŽåœ¨å†…å­˜ä¸­å­˜å–æ•°æ®ã€‚ åœ¨Javaä¸­ï¼ŒHashMapæ˜¯Javaç¨‹åºå‘˜ä½¿ç”¨é¢‘çŽ‡æœ€é«˜çš„ç”¨äºŽæ˜ å°„(é”®å€¼å¯¹)å¤„ç†çš„æ•°æ®ç±»åž‹ã€‚éšç€JDKï¼ˆJava Developmet Kitï¼‰ç‰ˆæœ¬çš„æ›´æ–°... çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž &bull; 2018å¹´03æœˆ15æ—¥ æœ€è¿‘åœ¨ä½¿ç”¨Spring Cloudè¿‡ç¨‹ä¸­,ç»å¸¸ä¼šé‡è§çº¿ç¨‹éš”ç¦»(åˆ‡æ¢).å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±.ä¾‹å¦‚è°ƒç”¨å…¶ä»–æœåŠ¡èŽ·å–ä¸åˆ°Threadlocalæ²¡æœ‰æ•°æ®,æœåŠ¡ä¹‹é—´ä¼ é€’è¯·æ±‚å¤´ä¼ é€’å¤±è´¥.é€šè¿‡æŸ¥é˜…ç›¸å…³æ–‡æ¡£æ‰å‘çŽ°:ç”¨Hystrixå®žçŽ°æ–­è·¯å™¨,Zuulä¸­é»˜è®¤ä½¿ç”¨çš„æ˜¯ä¿¡å·é‡,å…¶ä»–é»˜è®¤éƒ½æ˜¯çº¿ç¨‹éš”ç¦».... æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) &bull; 2018å¹´01æœˆ30æ—¥ å‡ ä¹Žæ‰€æœ‰çš„ä¸»æµç¼–ç¨‹è¯­è¨€éƒ½å¯¹å‡½æ•°å¼ç¼–ç¨‹æœ‰æ”¯æŒ,æˆ‘æ‰€ç”¨è¿‡çš„æ¯”å¦‚Java8çš„Lambdaè¡¨è¾¾å¼,JavaScriptå’ŒGroovyè¯­è¨€çš„é—­åŒ…(Closure)ç­‰,å…¶ä»–çš„ç±»ä¼¼äºŽObject-Cçš„block,pythonçš„Lambdaå’ŒC++11,çœ‹åˆ°è¿™äº›,æˆ‘éƒ½æœ‰ç‚¹çœ©æ™•æƒ³åçš„æ„Ÿè§‰. åŒ¿åå‡½æ•°,Lambd... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.797Z","updated":"2019-11-27T15:22:15.797Z","comments":true,"path":"public/tags/Docker/index.html","permalink":"http://ltyeamin.github.io/public/tags/Docker/index.html","excerpt":"","text":"æ ‡ç­¾: Docker | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Docker Deepin Linuxå®‰è£…Docker &bull; 2019å¹´09æœˆ01æ—¥ æ™®é€šå®‰è£…ä¸€èˆ¬çš„Linux(Debianã€Unbantu)å‘è¡Œç‰ˆå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š 1wget -qO- https://get.docker.com/ | sh ä½†æ˜¯åœ¨Deepinæ‰§è¡Œè¿™å‘½ä»¤ä¼šå®‰è£…å¤±è´¥ã€‚ æŸ¥é˜…èµ„æ–™å¯ä»¥æ‰¾åˆ°dockeræ”¯æŒçš„Linuxå‘è¡Œç‰ˆã€‚ 12345678910111... Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ &bull; 2018å¹´06æœˆ10æ—¥ RabbitMQæ˜¯æµè¡Œçš„å¼€æºæ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œé‡‡ç”¨å¤©ç”ŸæŠ—å¹¶å‘çš„erlangè¯­è¨€å¼€å‘ã€‚RabbitMQæ˜¯AMQPï¼ˆé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰çš„æ ‡å‡†å®žçŽ°ã€‚æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡Dockerçš„æ–¹å¼å®‰è£…RabbitMQã€‚ æŸ¥çœ‹RabbitMQç‰ˆæœ¬è¿›å…¥docker hubå®˜æ–¹é•œåƒä»“åº“æˆ–é˜¿é‡Œdockeré•œåƒåº“,æœç´¢rabb... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.805Z","updated":"2019-11-27T15:22:15.805Z","comments":true,"path":"public/tags/Jenkins/index.html","permalink":"http://ltyeamin.github.io/public/tags/Jenkins/index.html","excerpt":"","text":"æ ‡ç­¾: Jenkins | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Jenkins ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ &bull; 2018å¹´02æœˆ07æ—¥ Jenkinsæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶é¡¹ç›®ï¼Œæ˜¯åŸºäºŽJavaå¼€å‘çš„ä¸€ç§æŒç»­é›†æˆå·¥å…·ï¼Œç”¨äºŽç›‘æŽ§æŒç»­é‡å¤çš„å·¥ä½œï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå¼€æ”¾æ˜“ç”¨çš„è½¯ä»¶å¹³å°ï¼Œä½¿è½¯ä»¶çš„æŒç»­é›†æˆå˜æˆå¯èƒ½ã€‚ å®‰è£…Jenkinsé¦–å…ˆæˆ‘ä»¬åŽ»Jenkinså®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°çš„éƒ¨ç½²åŒ…(.war):Jenkins.å› ä¸ºæˆ‘æ˜¯åœ¨Linuxå¹³å°éƒ¨ç½²,éœ€è¦æ³¨æ„çš„æ˜¯... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.803Z","updated":"2019-11-27T15:22:15.803Z","comments":true,"path":"public/tags/Linux/index.html","permalink":"http://ltyeamin.github.io/public/tags/Linux/index.html","excerpt":"","text":"æ ‡ç­¾: Linux | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Linux LinuxåŸºç¡€-SSHå…å¯†ç™»å½• &bull; 2019å¹´11æœˆ23æ—¥ Linux SSHç™»å½•ç”±ä¸¤ç§æ–¹å¼: è´¦æˆ·å¯†ç ç™»å½• å¯†é’¥ç™»å½• æˆ‘æœ‰ä¸¤å°ä¸»æœºï¼Œipåˆ†åˆ«ä¸º192.168.5.1å’Œ192.168.5.100ï¼Œæˆ‘è¦ä»Žå‰è€…è¿œç¨‹ç™»å½•åˆ°åŽè€…ä¸»æœºä¸Šï¼Œä¸‹é¢æˆ‘åˆ†åˆ«æ¥æ¼”ç¤ºä¸€ä¸‹ä¸¤ç§æ–¹å¼: è´¦å·å¯†ç ç™»å½•1ssh root@192.168.5.100 æ³¨æ„ï¼š é»˜è®¤ç«¯å£å·æ˜¯22,... LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ &bull; 2018å¹´05æœˆ22æ—¥ Linuxçš„ä¸–ç•Œé‡Œä¸€åˆ‡çš†æ–‡ä»¶,å¯¹Linuxçš„æ“ä½œå°±æ˜¯å¯¹æ–‡ä»¶çš„å¤„ç†.è¢«ä¸šç•Œç§°ä¸ºâ€ä¸‰å‰‘å®¢â€çš„awk,sed,grepå°±èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿æ›´é«˜æ•ˆçš„å¤„ç†æ–‡ä»¶.â€œä¸‰å‰‘å®¢â€ä¸­grepæ“…é•¿æŸ¥æ‰¾åŠŸèƒ½,sedæ“…é•¿å–è¡Œå’Œæ›¿æ¢,awkæ“…é•¿å–åˆ—.â€œä¸‰å‰‘å®¢â€å°±æ˜¯æ™®é€šçš„Linuxå‘½ä»¤,è€Œæ­£åˆ™è¡¨è¾¾å¼å¥½æ¯”ä¸€ä¸ªæ¨¡æ¿,ä¸¤è€…ç»“åˆä½¿... LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ &bull; 2018å¹´05æœˆ22æ—¥ Linuxç³»ç»Ÿä¸‹çš„ä¸‹è½½å·¥å…·wget æ˜¯ä¸€ä¸ªä»Žç½‘ç»œä¸Šè‡ªåŠ¨ä¸‹è½½æ–‡ä»¶çš„è‡ªç”±å·¥å…·,æ”¯æŒé€šè¿‡ HTTP,HTTPS,FTP ä¸‰ä¸ªæœ€å¸¸è§çš„ TCP/IPåè®® ä¸‹è½½,å¹¶å¯ä»¥ä½¿ç”¨ HTTP ä»£ç†.â€wgetâ€ è¿™ä¸ªåç§°æ¥æºäºŽ â€œWorld Wide Webâ€ ä¸Ž â€œgetâ€ çš„ç»“åˆ.æ‰€è°“è‡ªåŠ¨ä¸‹è½½,æ˜¯æŒ‡ wge... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.804Z","updated":"2019-11-27T15:22:15.804Z","comments":true,"path":"public/tags/Maven/index.html","permalink":"http://ltyeamin.github.io/public/tags/Maven/index.html","excerpt":"","text":"æ ‡ç­¾: Maven | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Maven è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ &bull; 2019å¹´06æœˆ04æ—¥ é—®é¢˜æè¿°ä»Šå¤©æ‰“å¼€IDEAåŠ è½½é¡¹ç›®æ—¶ï¼Œå‘çŽ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„é—®é¢˜ï¼šé¡¹ç›®ä¾èµ–åŠä»£ç æ²¡ä»»ä½•é—®é¢˜ï¼ŒMavenä¾èµ–æ£€æµ‹çº¢è‰²æ³¢æµªçº¿ä¾æ—§å­˜åœ¨ã€‚è™½è¯´é¡¹ç›®ä¾æ—§èƒ½è·‘èµ·æ¥ä¸å½±å“å¼€å‘ï¼Œä½†æ˜¯mavenå‘½ä»¤æ“ä½œç”¨ä¸äº†ã€‚ é‡åˆ°é—®é¢˜åŽï¼Œæˆ‘å¤§åƒä¸€æƒŠã€‚æ˜¨å¤©çœ‹é¡¹ç›®è¿˜å¥½å¥½çš„ï¼Œä»Šå¤©å°±æŠ¥å‡ºæŸä¸ªé¡¹ç›®ä¸€ä¸ªä¾èµ–åŒ…æ‰¾ä¸åˆ°ã€‚å¯å®žé™…ä¸Šã€‚è¯¥ä¾èµ–åŒ…åœ¨æœ¬åœ°åº“æ˜¯... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.803Z","updated":"2019-11-27T15:22:15.803Z","comments":true,"path":"public/tags/Nginx/index.html","permalink":"http://ltyeamin.github.io/public/tags/Nginx/index.html","excerpt":"","text":"æ ‡ç­¾: Nginx | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Nginx Nginxè®¾ç½®é»‘ç™½åå• &bull; 2019å¹´09æœˆ02æ—¥ åœ¨æ—¥å¸¸è¿ç»´å·¥ä½œä¸­ï¼Œä¼šç¢°åˆ°è¿™æ ·çš„éœ€æ±‚ï¼Œå¯¹äºŽä¸€äº›httpè¯·æ±‚åªå¯¹æŸäº›ipå¼€å‘ï¼Œå…¶ä»–çš„ipçš„å®¢æˆ·ç«¯éƒ½ä¸èƒ½è®¿é—®ã€‚ åœ¨æµ‹è¯•ä¹‹å‰æˆ‘åˆ—ä¸€ä¸‹æœ¬æ¬¡æµ‹è¯•çš„ç»ˆç«¯IPã€‚ å®¿ä¸»æœºDeepin Linux ï¼š 192.168.1.106 è™šæ‹ŸæœºWindows 10 : 192.168.1.107 ç§»åŠ¨Androidç»ˆ... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.805Z","updated":"2019-11-27T15:22:15.805Z","comments":true,"path":"public/tags/Python/index.html","permalink":"http://ltyeamin.github.io/public/tags/Python/index.html","excerpt":"","text":"æ ‡ç­¾: Python | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Python ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® &bull; 2019å¹´10æœˆ12æ—¥ çˆ¬è™«åˆ†æžçˆ¬è™«éœ€æ±‚æè¿°: çˆ¬å–çŒ«çœ¼ç”µå½±TOP100çš„ç”µå½±åç§°ã€æ—¶é—´ã€è¯„åˆ†ã€æµ·æŠ¥å›¾ç‰‡ç­‰ä¿¡æ¯ ç«™ç‚¹: https://maoyan.com/board/4 åˆ†æž: æ‰“å¼€ç«™ç‚¹å³æ˜¯çŒ«çœ¼ç”µå½±TOP100çš„ç¬¬ä¸€é¡µ,ç‚¹å‡»ä¸‹ä¸€é¡µï¼Œæˆ‘ä»¬è§‚å¯Ÿåœ°å€æ URLåŽè¾¹è¿½åŠ äº†?offset=10çš„å‚æ•°ï¼Œæ˜¾ç„¶offsetå‚æ•°ä»£... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.803Z","updated":"2019-11-27T15:22:15.803Z","comments":true,"path":"public/tags/Samba/index.html","permalink":"http://ltyeamin.github.io/public/tags/Samba/index.html","excerpt":"","text":"æ ‡ç­¾: Samba | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Samba SambaæœåŠ¡å™¨æ­å»º &bull; 2019å¹´06æœˆ08æ—¥ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.804Z","updated":"2019-11-27T15:22:15.804Z","comments":true,"path":"public/tags/RabbitMQ/index.html","permalink":"http://ltyeamin.github.io/public/tags/RabbitMQ/index.html","excerpt":"","text":"æ ‡ç­¾: RabbitMQ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ RabbitMQ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ &bull; 2018å¹´06æœˆ12æ—¥ ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ï¼Œåœ¨å­¦ä¹‹å‰æˆ‘ä»¬æ ¹æ®å®˜æ–¹æ–‡æ¡£(çº¯è‹±æ–‡æ–‡æ¡£ï¼Œå¯ä»¥è£…ä¸ªChromeæ’ä»¶é€‰ä¸­ç¿»è¯‘)å­¦ä¹ ä¸€ä¸‹RabbitMQçš„ä¸€äº›æœ¯è¯­ï¼Œè¿™æ‰èƒ½è®©æˆ‘ä»¬æ›´æ·±å…¥çš„äº†è§£ã€‚ å‡†å¤‡æ¡ä»¶æœ¬æ•™ç¨‹å‡å®šRabbitMQå·²åœ¨æ ‡å‡†ç«¯å£ï¼ˆ5672ï¼‰ä¸Šçš„localhostä¸Šå®‰è£…å¹¶è¿è¡Œã€‚å¦‚æžœæ‚¨ä½¿ç”¨... RabbitMQæ¦‚è¿° &bull; 2018å¹´06æœˆ11æ—¥ ä¹‹æ‰€ä»¥ä»Šå¤©å†™RabbitMQå­¦ä¹ ä¸“æ ï¼Œä¸»è¦æ˜¯å› ä¸ºè‡ªå·±æ²¡æœ‰çœŸæ­£çš„ç³»ç»Ÿå­¦ä¹ è¿‡ã€‚ä¹‹å‰å·¥ä½œç»åŽ†ä¸­éƒ½æ˜¯ä¸ºç”¨MQè€Œç”¨çš„MQï¼Œå¯¹MQæ•´ä¸ªå†…éƒ¨æœºåˆ¶æ²¡æœ‰ä¸€ä¸ªæ·±å…¥çš„äº†è§£å’Œç³»ç»Ÿçš„å­¦ä¹ ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨Spring Cloud Streamæˆ–Spring Cloud Busç»„ä»¶æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šç»å¸¸ç¢°åˆ°MQã€‚MQäº§å“å¸‚é¢ä¸Šæœ‰å¾ˆå¤š... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.803Z","updated":"2019-11-27T15:22:15.803Z","comments":true,"path":"public/tags/RocketMQ/index.html","permalink":"http://ltyeamin.github.io/public/tags/RocketMQ/index.html","excerpt":"","text":"æ ‡ç­¾: RocketMQ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ RocketMQ RocketMQé›†ç¾¤æ­å»º &bull; 2019å¹´11æœˆ09æ—¥ 1. RocketMQå¿«é€Ÿå…¥é—¨RocketMQæ˜¯é˜¿é‡Œå·´å·´2016å¹´MQä¸­é—´ä»¶ï¼Œä½¿ç”¨Javaè¯­è¨€å¼€å‘ï¼Œåœ¨é˜¿é‡Œå†…éƒ¨ï¼ŒRocketMQæ‰¿æŽ¥äº†ä¾‹å¦‚â€œåŒ11â€ç­‰é«˜å¹¶å‘åœºæ™¯çš„æ¶ˆæ¯æµè½¬ï¼Œèƒ½å¤Ÿå¤„ç†ä¸‡äº¿çº§åˆ«çš„æ¶ˆæ¯ã€‚ 1.1 å‡†å¤‡å·¥ä½œ1.1.1 ä¸‹è½½RocketMQRocketMQæœ€æ–°ç‰ˆæœ¬ï¼š4.5.2 Relea... RocketMQæ¦‚è¿° &bull; 2019å¹´11æœˆ08æ—¥ 1. MQä»‹ç»1.1 ä¸ºä»€ä¹ˆè¦ç”¨MQæ¶ˆæ¯é˜Ÿåˆ—æ˜¯ä¸€ç§â€œå…ˆè¿›å…ˆå‡ºâ€çš„æ•°æ®ç»“æž„ å…¶åº”ç”¨åœºæ™¯ä¸»è¦åŒ…å«ä»¥ä¸‹3ä¸ªæ–¹é¢ åº”ç”¨è§£è€¦ ç³»ç»Ÿçš„è€¦åˆæ€§è¶Šé«˜ï¼Œå®¹é”™æ€§å°±è¶Šä½Žã€‚ä»¥ç”µå•†åº”ç”¨ä¸ºä¾‹ï¼Œç”¨æˆ·åˆ›å»ºè®¢å•åŽï¼Œå¦‚æžœè€¦åˆè°ƒç”¨åº“å­˜ç³»ç»Ÿã€ç‰©æµç³»ç»Ÿã€æ”¯ä»˜ç³»ç»Ÿï¼Œä»»ä½•ä¸€ä¸ªå­ç³»ç»Ÿå‡ºäº†æ•…éšœæˆ–è€…å› ä¸ºå‡çº§ç­‰åŽŸå› æš‚æ—¶ä¸å¯ç”¨ï¼Œéƒ½ä¼šé€ æˆä¸‹å•æ“... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.803Z","updated":"2019-11-27T15:22:15.803Z","comments":true,"path":"public/tags/Spring/index.html","permalink":"http://ltyeamin.github.io/public/tags/Spring/index.html","excerpt":"","text":"æ ‡ç­¾: Spring | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Spring Springæ¡ä»¶æ³¨è§£@Conditional &bull; 2018å¹´05æœˆ17æ—¥ @Conditionalæ³¨è§£Spring 4æä¾›äº†ä¸€ä¸ªåŸºäºŽæ¡ä»¶çš„Beançš„åˆ›å»º,å³ä½¿ç”¨@Conditionalæ³¨è§£.@Conditionalæ ¹æ®æ»¡è¶³æŸä¸€ä¸ªç‰¹å®šæ¡ä»¶åˆ›å»ºä¸€ä¸ªç‰¹å®šçš„Bean.æ¯”å¦‚è¯´,å½“æŸä¸€ä¸ªjaråŒ…åœ¨ä¸€ä¸ªç±»è·¯å¾„ä¸‹çš„æ—¶å€™,è‡ªåŠ¨é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªBean;æˆ–è€…åªæœ‰æŸä¸ªBeanè¢«åˆ›å»ºæ‰ä¼šåˆ›å»º... Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ &bull; 2018å¹´05æœˆ15æ—¥ Springå®¹å™¨å®¹å™¨æ˜¯Springæ¡†æž¶çš„æ ¸å¿ƒ.Springå®¹å™¨ä½¿ç”¨DIç®¡ç†æž„æˆåº”ç”¨çš„ç»„ä»¶,ä»–ä¼šåˆ›å»ºç›¸äº’åä½œçš„ç»„ä»¶ä¹‹é—´çš„å…³è”.Springå®¹å™¨å¹¶ä¸æ˜¯åªæœ‰ä¸€ä¸ª.Springè‡ªå¸¦å¤šä¸ªå®¹å™¨å®žçŽ°,å¯å½’çº³ä¸ºä¸¤ç§ä¸åŒçš„ç±»åž‹: Beanå·¥åŽ‚(ç”±BeanFactoryæŽ¥å£å®šä¹‰)æ˜¯æœ€ç®€å•çš„åŒæœŸ,æä¾›åŸºæœ¬çš„DIæ”¯... å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž &bull; 2018å¹´03æœˆ27æ—¥ åœ¨Springä¸­,è¢«@Scopeæ³¨è§£ä¿®é¥°Beané»˜è®¤æ˜¯å•ä¾‹æ¨¡å¼çš„,å³åªæœ‰ä¸€ä¸ªå®žä¾‹å¯¹è±¡,å¤šæ¬¡èŽ·å–Beanä¼šæ‹¿åˆ°åŒä¸€ä¸ªå¯¹è±¡. å•ä¾‹æ³¨å†Œè¡¨Springé‡‡ç”¨å•ä¾‹æ³¨å†Œè¡¨çš„ç‰¹æ®Šæ–¹å¼å®žçŽ°å•ä¾‹æ¨¡å¼.é¦–å…ˆè‡ªå·±å†™ä¸ªå•ä¾‹æ³¨å†Œè¡¨.æˆ‘ä»¬å¯ä»¥é€šè¿‡Mapç¼“å­˜å•ä¾‹å¯¹è±¡,å®žçŽ°å•ä¾‹æ³¨å†Œè¡¨.å€¼å¾—æ³¨æ„çš„æ˜¯,é‡‡ç”¨ConcurrentH... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.804Z","updated":"2019-11-27T15:22:15.804Z","comments":true,"path":"public/tags/Spring-Boot/index.html","permalink":"http://ltyeamin.github.io/public/tags/Spring-Boot/index.html","excerpt":"","text":"æ ‡ç­¾: Spring Boot | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Spring Boot è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter &bull; 2018å¹´05æœˆ18æ—¥ æˆ‘ä»¬å¯ä»¥æ¨¡ä»¿ä¹‹å‰httpç¼–ç è‡ªåŠ¨é…ç½®çš„ä¾‹å­ä¹Ÿåè®®ä¸€ä¸ªstarter,ç›®çš„æ˜¯ä¸ºäº†é™ä½Žè€¦åˆæ€§.è™½è¯´å¯ä»¥é™ä½Žç¨‹åºä¾èµ–ä¹‹é—´çš„è€¦åˆæ€§,ä½†æ˜¯æˆ‘ä»¬ä¸å»ºè®®è‡ªå·±å®šä¹‰starter,å› ä¸ºSpring Bootæˆ–å…¶ä»–ç¤¾åŒºå·²ç»æä¾›äº†å¤§éƒ¨åˆ†çš„starter,å¯ä»¥æ»¡è¶³æˆ‘ä»¬æ—¥å¸¸çš„éœ€æ±‚.æœ¬ç¯‡åšæ–‡ä¸»è¦ä¸ºäº†è®©å¤§å®¶æ›´å¥½çš„ç†è§£Spr... Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž &bull; 2018å¹´05æœˆ17æ—¥ ç¥žå¥‡é­”æ³•-è‡ªåŠ¨é…ç½®å‰ç¯‡æ–‡ç« è®²è¿°äº†Spring 4 æ¡ä»¶æ³¨è§£,å…¶å®žSpring Bootè‡ªåŠ¨é…ç½®ç¥žå¥‡å®žçŽ°ä¹Ÿæ˜¯åŸºäºŽè¿™ä¸€åŽŸç†çš„.è‹¥æƒ³çŸ¥é“Spring Bootä¸ºæˆ‘ä»¬åšäº†å“ªäº›çš„è‡ªåŠ¨é…ç½®,å¯ä»¥æŸ¥çœ‹è¿™é‡Œçš„æºç .å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼æŸ¥çœ‹é¡¹ç›®ä¸­å·²å¯ç”¨å’Œæœªå¯ç”¨çš„è‡ªåŠ¨é…ç½®æŠ¥å‘Š. è¿è¡Œjaræ—¶å¢žåŠ â€“debugå‚æ•°... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.805Z","updated":"2019-11-27T15:22:15.805Z","comments":true,"path":"public/tags/Spring-Cloud/index.html","permalink":"http://ltyeamin.github.io/public/tags/Spring-Cloud/index.html","excerpt":"","text":"æ ‡ç­¾: Spring Cloud | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Spring Cloud Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ &bull; 2019å¹´05æœˆ28æ—¥ é—®é¢˜æè¿°ä»Šå¤©å‘çŽ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„äº‹æƒ…ï¼Œå°±æ˜¯æœ¬åœ°å†™æ­»çš„FeignClientçš„urlå±žæ€§é…ç½®è¿›è¡Œfeignè°ƒç”¨æ²¡é—®é¢˜ï¼Œä½†æ˜¯æŠŠé…ç½®è¿ç§»åˆ°Ctrip Apolloé…ç½®ä¸­å¿ƒfeignè°ƒç”¨å°±æœ‰é—®é¢˜ã€‚ ä»£ç ç‰‡æ®µ123456789101112131415@FeignClient(url = &#34;$&amp;#123;ap... Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† &bull; 2018å¹´05æœˆ24æ—¥ ç™¾å®¶æŠ€æœ¯,è°ˆç¬‘å¤ä»Š.ä»Šå¤©æˆ‘ä»¬ä¸è®²ä¸‰å›½,æˆ‘ä»¬è®²ä¸€è®²å¾®æœåŠ¡ç½‘å…³ä¸­çš„ä¸€äº›ç»†èŠ‚:Zuulè¿‡æ»¤å™¨. Zuulè¿‡æ»¤å™¨Spring Cloudä¸­çš„Zuulä¸ºæˆ‘ä»¬æä¾›äº†ç»Ÿä¸€å¯¹å¤–,è·¯ç”±è½¬å‘å’Œè¿‡æ»¤æ‹¦æˆªçš„å¼ºå¤§åŠŸèƒ½.åœ¨Spring Cloud Zuulä¸­å®žçŽ°çš„è¿‡æ»¤å™¨å¿…é¡»åŒ…å«4ä¸ªåŸºæœ¬ç‰¹å¾:è¿‡æ»¤ç±»åž‹,æ‰§è¡Œé¡ºåº,æ‰§è¡Œæ¡... Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ &bull; 2018å¹´01æœˆ30æ—¥ æœ€è¿‘åœ¨åšé¡¹ç›®ä¼˜åŒ–,ç ”ç©¶äº†Spring Cloudåº•å±‚æºç ,Httpè¯·æ±‚åº“é»˜è®¤æ˜¯Apache HttpClientæˆ–è€…JDKè‡ªå¸¦çš„HttpURLConnectionåº“.Javaæ ‡å‡†åº“æä¾›äº†HttpURLConnectionç±»æ¥æ”¯æŒHTTPé€šè®¯ã€‚ä¸è¿‡HttpURLConnectionæœ¬èº«çš„APIä¸... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.804Z","updated":"2019-11-27T15:22:15.804Z","comments":true,"path":"public/tags/Team-Building/index.html","permalink":"http://ltyeamin.github.io/public/tags/Team-Building/index.html","excerpt":"","text":"æ ‡ç­¾: Team Building | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Team Building é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ &bull; 2018å¹´05æœˆ24æ—¥ åœ¨å…¬å¸ITéƒ¨é—¨é‡Œ,å„ä¸ªå›¢é˜Ÿ(äº§å“è®¾è®¡å›¢é˜Ÿ-UI/UEè®¾è®¡å¸ˆ-å‰ç«¯å·¥ç¨‹å¸ˆ-ç§»åŠ¨ç«¯å·¥ç¨‹å¸ˆ-åŽç«¯å·¥ç¨‹å¸ˆ-æµ‹è¯•å·¥ç¨‹å¸ˆ-è¿ç»´å·¥ç¨‹å¸ˆ)äº’ç›¸åä½œ,å…±åŒè¾¾åˆ°é¡¹ç›®ä¸Šçº¿çš„ç›®çš„.å¦‚æžœä¸€ä¸ªå…¬å¸çš„ITéƒ¨é—¨äººå‘˜ç®¡ç†ä»¥åŠé¡¹ç›®å¼€å‘æµç¨‹ä¸å¤ªå®Œå–„,å°±ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜,æ¯”å¦‚æ‰¯çš®æ— ç•Œå’Œæ²Ÿé€šä½Žæ•ˆç­‰é—®é¢˜,è¿™äº›ä¸¥é‡å½±å“åˆ°å·¥ä½œæ•ˆçŽ‡,æ‰“ç ´äº†é¡¹ç›®... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.803Z","updated":"2019-11-27T15:22:15.803Z","comments":true,"path":"public/tags/Zookeeper/index.html","permalink":"http://ltyeamin.github.io/public/tags/Zookeeper/index.html","excerpt":"","text":"æ ‡ç­¾: Zookeeper | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Zookeeper Zookeeperé›†ç¾¤æ­å»º &bull; 2019å¹´11æœˆ27æ—¥ 1. å‡†å¤‡å·¥ä½œ å®‰è£…JDK Zookeeperå®‰è£…åŒ…ä¸‹è½½ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©3.5.6è¿›è¡Œä¸‹è½½ å‡†å¤‡ä¸‰å°æœºå™¨ï¼Œåˆ†åˆ«æ˜¯192.168.5.1,192.168.5.100,192.168.5.101 å°†zookeeperçš„å®‰è£…åŒ…ä¸Šä¼ åˆ°è¿™ä¸‰å°æœºå™¨ç›¸åŒçš„ç›®å½•ä¸Š(æ–¹ä¾¿ç®¡ç†) 2. å¼€å§‹æ­å»º1ï¼‰é…ç½®é›†ç¾¤ åœ¨... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.806Z","updated":"2019-11-27T15:22:15.806Z","comments":true,"path":"public/tags/äºŒå‰æ ‘/index.html","permalink":"http://ltyeamin.github.io/public/tags/äºŒå‰æ ‘/index.html","excerpt":"","text":"æ ‡ç­¾: äºŒå‰æ ‘ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ äºŒå‰æ ‘ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° &bull; 2019å¹´03æœˆ29æ—¥ è°ˆåˆ°æ•°æ®ç»“æž„çš„æ ‘ï¼Œç¬”è€…çš„å°è±¡ä¸­è¿˜æ˜¯åœ¨å¤§å­¦æ—¶æœŸçš„æ¦‚å¿µï¼Œæœ€æ—©çš„æ¦‚å¿µæºè‡ªäºŽå“ˆå¤«æ›¼æ ‘(æœ€ä¼˜äºŒå‰æ ‘)ï¼Œå…¶ä»–çš„æ ‘ç»“æž„è¿˜æœ‰äºŒå‰æŸ¥æ‰¾æ ‘ã€å®Œå…¨äºŒå‰æ ‘ã€å¹³è¡¡äºŒå‰æ ‘(åˆåˆ†ä¸ºAVLæ ‘ã€RBçº¢é»‘æ ‘ã€SBTã€ä¼¸å±•æ ‘ã€TREAPã€æ›¿ç½ªç¾Šæ ‘ ï¼‰ã€å¹³è¡¡å¤šå‰æ ‘ï¼ˆB - Tree å’ŒB+ Tree)ç­‰ï¼Œä»Šå¤©æˆ‘ä»¬æ¥ç ”ç©¶ä¸€ä¸‹å¹³è¡¡äºŒå‰æ ‘... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.805Z","updated":"2019-11-27T15:22:15.805Z","comments":true,"path":"public/tags/æŽ’åºç®—æ³•/index.html","permalink":"http://ltyeamin.github.io/public/tags/æŽ’åºç®—æ³•/index.html","excerpt":"","text":"æ ‡ç­¾: æŽ’åºç®—æ³• | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ æŽ’åºç®—æ³• æ•°æ®ç»“æž„ä¹‹æŽ’åº &bull; 2018å¹´05æœˆ10æ—¥ æ•°æ®ç»“æž„å’Œç®—æ³•æ˜¯æ•´ä¸ªè®¡ç®—æœºç§‘å­¦ä¸ŽæŠ€æœ¯é¢†åŸŸæ°¸è¿œé€ƒé¿ä¸äº†çš„è¯é¢˜,åšä¸»å¤§å­¦æœ‰è¿‡æ•°æ®ç»“æž„è¿™é—¨å­¦ç§‘,ä¸è¿‡ç‰¹åˆ«åŽæ‚”å½“æ—¶æ²¡æœ‰å¥½å¥½å­¦ä¹ .ä»…å­¦çš„é‚£ä¹ˆç‚¹ä¸œè¥¿çŽ°åœ¨å‡ ä¹Žå¿˜å¾—ä¸€å¹²äºŒå‡€.è™½è¯´å­¦çš„æµ…è–„,ä½†å¯¹æ•´ä¸ªç¼–ç¨‹æ€æƒ³è¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„. åç§å¸¸è§æŽ’åºç®—æ³•åç§å¸¸è§æŽ’åºç®—æ³•å¯åˆ†ä¸ºä¸¤å¤§ç±»: éžçº¿æ€§æ—¶é—´æ¯”è¾ƒç±»æŽ’åºï¼šé€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒ... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.804Z","updated":"2019-11-27T15:22:15.804Z","comments":true,"path":"public/tags/æ‚è°ˆ/index.html","permalink":"http://ltyeamin.github.io/public/tags/æ‚è°ˆ/index.html","excerpt":"","text":"æ ‡ç­¾: æ‚è°ˆ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ æ‚è°ˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– &bull; 2019å¹´03æœˆ28æ—¥ LZæ¯å¤©éƒ½è¦æ‰“å¼€å¼€æºä¸­å›½ç½‘ç«™çœ‹çœ‹äº’è”ç½‘ç™¾æ€ï¼Œåœ¨ä»Šå¤©çš„ç½‘ç«™é‡Œï¼Œçœ‹åˆ°äº†ä¸¤ä»¶æœ‰æ„æ€çš„è¶£äº‹: æŠµåˆ¶996åŠ ç­æ–‡åŒ–996.icuï¼Œå¤§å®¶åœ¨996I.ICU GitHubç•…è°ˆè‡ªç”±ã€åæ§½åŠ ç­ æŸç¨‹åºå‘˜åˆ åº“è·‘è·¯åˆ¶ä½œçš„ç½‘ç«™-å®‰å¾½æ±½è½¦ç½‘æ˜¯ç”±ç®€å•çš„å›¾ç‰‡æ˜¾ç¤ºæ‹¼æŽ¥è€Œæˆçš„ã€‚ 996åŠ ç­æ–‡åŒ–æ— è®ºæ˜¯ä¼ ç»Ÿè¡Œä¸šï¼Œ... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.804Z","updated":"2019-11-27T15:22:15.804Z","comments":true,"path":"public/tags/è‡ªåª’ä½“/index.html","permalink":"http://ltyeamin.github.io/public/tags/è‡ªåª’ä½“/index.html","excerpt":"","text":"æ ‡ç­¾: è‡ªåª’ä½“ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ è‡ªåª’ä½“ é­”éƒ½ä¸Šæµ· &bull; 2019å¹´06æœˆ09æ—¥ ä¸Šæµ·å®£ä¼ ç‰‡ const dp0 = new DPlayer({ container: document.getElementById(&#39;dplayer0&#39;), screenshot: true, video: { url: &#39;h... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.802Z","updated":"2019-11-27T15:22:15.802Z","comments":true,"path":"public/tags/JavaScript/index.html","permalink":"http://ltyeamin.github.io/public/tags/JavaScript/index.html","excerpt":"","text":"æ ‡ç­¾: JavaScript | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ JavaScript ES6æ–°çš„æ•°æ®ç±»åž‹-generator &bull; 2017å¹´12æœˆ15æ—¥ æ–°çš„æ•°æ®ç±»åž‹-generatorgeneratorï¼ˆç”Ÿæˆå™¨ï¼‰æ˜¯ES6æ ‡å‡†å¼•å…¥çš„æ–°çš„æ•°æ®ç±»åž‹ã€‚ä¸€ä¸ªgeneratorçœ‹ä¸ŠåŽ»åƒä¸€ä¸ªå‡½æ•°ï¼Œä½†å¯ä»¥è¿”å›žå¤šæ¬¡.ES6å®šä¹‰generatoræ ‡å‡†çš„å“¥ä»¬å€Ÿé‰´äº†Pythonçš„generatorçš„æ¦‚å¿µå’Œè¯­æ³•.æˆ‘ä»¬å…ˆå¤ä¹ å‡½æ•°çš„æ¦‚å¿µã€‚ä¸€ä¸ªå‡½æ•°æ˜¯ä¸€æ®µå®Œæ•´çš„ä»£ç ï¼Œè°ƒç”¨ä¸€ä¸ª... ç®­å¤´å‡½æ•° &bull; 2017å¹´12æœˆ15æ—¥ ç®­å¤´å‡½æ•°ES6æ ‡å‡†æ–°å¢žäº†ä¸€ç§æ–°çš„å‡½æ•°ï¼šArrow Functionï¼ˆç®­å¤´å‡½æ•°ï¼‰ã€‚ä¸ºä»€ä¹ˆå«Arrow Functionï¼Ÿå› ä¸ºå®ƒçš„å®šä¹‰ç”¨çš„å°±æ˜¯ä¸€ä¸ªç®­å¤´:12var fn = x =&amp;gt; x * x;alert(fn(5)); //25 ä¸Šé¢çš„ç®­å¤´å‡½æ•°ç›¸å½“äºŽ:1234function (x) ... é—­åŒ… &bull; 2017å¹´12æœˆ13æ—¥ å‡½æ•°ä½œä¸ºè¿”å›žå€¼é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æŽ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æžœå€¼è¿”å›žã€‚æˆ‘ä»¬æ¥å®žçŽ°ä¸€ä¸ªå¯¹Arrayçš„æ±‚å’Œã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ±‚å’Œçš„å‡½æ•°æ˜¯è¿™æ ·å®šä¹‰çš„:123456function sum(arr) &amp;#123; return arr.reduce(function (x, y) &amp;#123... é«˜é˜¶å‡½æ•° &bull; 2017å¹´12æœˆ13æ—¥ é«˜é˜¶å‡½æ•°æ¦‚è¿°é«˜é˜¶å‡½æ•°è‹±æ–‡å«Higher-order functionã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼ŸJavaScriptçš„å‡½æ•°å…¶å®žéƒ½æŒ‡å‘æŸä¸ªå˜é‡ã€‚æ—¢ç„¶å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°èƒ½æŽ¥æ”¶å˜é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æŽ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°å°±ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚ä¸€ä¸ªæœ€ç®€å•çš„é«˜é˜¶å‡½æ•°: 12345functi... JSæ–¹æ³• &bull; 2017å¹´12æœˆ13æ—¥ å¯¹è±¡çš„æ–¹æ³•åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ç»‘å®šå‡½æ•°ï¼Œç§°ä¸ºè¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚åœ¨JavaScriptä¸­ï¼Œå¯¹è±¡çš„å®šä¹‰æ˜¯è¿™æ ·çš„:1234var xiaoming = &amp;#123; name: &amp;apos;å°æ˜Ž&amp;apos;, birth: 1990&amp;#125;; ä½†æ˜¯ï¼Œå¦‚æžœæˆ‘ä»¬ç»™xiaomingç»‘å®šä¸€ä¸ªå‡½æ•°ï¼Œå°±å¯... å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ &bull; 2017å¹´12æœˆ13æ—¥ å˜é‡ä½œç”¨åŸŸåœ¨JavaScriptä¸­ï¼Œç”¨varç”³æ˜Žçš„å˜é‡å®žé™…ä¸Šæ˜¯æœ‰ä½œç”¨åŸŸçš„ã€‚å¦‚æžœä¸€ä¸ªå˜é‡åœ¨å‡½æ•°ä½“å†…éƒ¨ç”³æ˜Žï¼Œåˆ™è¯¥å˜é‡çš„ä½œç”¨åŸŸä¸ºæ•´ä¸ªå‡½æ•°ä½“ï¼Œåœ¨å‡½æ•°ä½“å¤–ä¸å¯å¼•ç”¨è¯¥å˜é‡:12345function foo() &amp;#123; var x = 1; x = x + 1;&amp;#125;x = x +... JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ &bull; 2017å¹´12æœˆ04æ—¥ å®šä¹‰å‡½æ•°JavaScriptå‡½æ•°æ—¶å‚æ•°åŒ–çš„,å¹¶ä¸”æ¯æ¬¡è°ƒç”¨è¿˜ä¼šæœ‰ä¸ªä¸Šä¸‹æ–‡(thiså…³é”®å­—).å¦‚æžœå‡½æ•°æŒ‚è½½åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Š,ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§,é‚£å°±æ˜¯å¯¹è±¡çš„æ–¹æ³•.JSçš„å‡½æ•°å¯ä»¥åµŒå¥—åœ¨å…¶ä»–å‡½æ•°ä¸­å®šä¹‰,è¿™æ ·å®ƒä»¬å°±å¯ä»¥è®¿é—®å®ƒä»¬è¢«å®šä¹‰æ—¶æ‰€å¤„çš„ä½œç”¨åŸŸä¸­çš„ä»»ä½•éåŽ†.è¿™æ„å‘³ç€JSå‡½æ•°æž„æˆäº†ä¸€ä¸ªé—­åŒ…(closure)... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.700Z","updated":"2019-11-27T15:22:16.700Z","comments":true,"path":"public/static/api/css/like.css","permalink":"http://ltyeamin.github.io/public/static/api/css/like.css","excerpt":"","text":".bdlikebutton{background:url(../img/like/like.png?v=aa778a3c.png) no-repeat;position:relative;cursor:pointer;text-align:center;font-size:12px}.bdlikebutton-inner{overflow:hidden}.bdlikebutton-small{width:85px;height:25px;text-align:center;font-weight:300}.bdlikebutton-small .bdlikebutton-count{padding-left:23px;line-height:25px}.bdlikebutton-medium{width:105px;height:50px}.bdlikebutton-large .bdlikebutton-count,.bdlikebutton-medium .bdlikebutton-count{background:url(../img/like/like.png?v=aa778a3c.png) no-repeat;display:inline-block}.bdlikebutton-medium .bdlikebutton-count{margin-top:8px;padding:2px 0 0 20px;line-height:15px}.bdlikebutton-medium-orange .bdlikebutton-count{background-position:-280px 0}.bdlikebutton-medium-blue .bdlikebutton-count{background-position:-280px -30px}.bdlikebutton-medium-green .bdlikebutton-count{background-position:-280px -60px}.bdlikebutton-medium-red .bdlikebutton-count{background-position:-280px -90px}.bdlikebutton-medium-orange-hover .bdlikebutton-count{background-position:-280px -600px}.bdlikebutton-medium-blue-hover .bdlikebutton-count{background-position:-280px -630px}.bdlikebutton-medium-green-hover .bdlikebutton-count{background-position:-280px -660px}.bdlikebutton-medium-red-hover .bdlikebutton-count{background-position:-280px -690px}.bdlikebutton-large .bdlikebutton-count{margin-top:8px;padding:2px 0 0 27px;line-height:24px;font-size:18px}.bdlikebutton-large-orange .bdlikebutton-count{background-position:-272px -120px}.bdlikebutton-large-blue .bdlikebutton-count{background-position:-272px -170px}.bdlikebutton-large-green .bdlikebutton-count{background-position:-272px -220px}.bdlikebutton-large-red .bdlikebutton-count{background-position:-272px -270px}.bdlikebutton-large-orange-hover .bdlikebutton-count{background-position:-272px -720px}.bdlikebutton-large-blue-hover .bdlikebutton-count{background-position:-272px -770px}.bdlikebutton-large-green-hover .bdlikebutton-count{background-position:-272px -820px}.bdlikebutton-large-red-hover .bdlikebutton-count{background-position:-272px -870px}.bdlikebutton-medium .bdlikebutton-text{line-height:22px}.bdlikebutton-large{width:145px;height:60px}.bdlikebutton-large .bdlikebutton-text{line-height:22px;color:#a9a9a9}.bdlikebutton-large-blue-hover .bdlikebutton-text,.bdlikebutton-large-green-hover .bdlikebutton-text,.bdlikebutton-large-orange-hover .bdlikebutton-text,.bdlikebutton-large-red-hover .bdlikebutton-text{color:#FFF}.bdlikebutton-orange{color:#d25806}.bdlikebutton-blue{color:#2979d3}.bdlikebutton-green{color:#127b03}.bdlikebutton-red{color:#b50005}.bdlikebutton-small-orange{background-position:0 0}.bdlikebutton-small-blue{background-position:0 -30px}.bdlikebutton-small-green{background-position:0 -60px}.bdlikebutton-small-red{background-position:0 -90px}.bdlikebutton-medium-orange{background-position:0 -120px}.bdlikebutton-medium-blue{background-position:0 -175px}.bdlikebutton-medium-green{background-position:0 -230px}.bdlikebutton-medium-red{background-position:0 -285px}.bdlikebutton-large-orange{background-position:0 -340px}.bdlikebutton-large-blue{background-position:0 -405px}.bdlikebutton-large-green{background-position:0 -470px}.bdlikebutton-large-red{background-position:0 -535px}.bdlikebutton-small-orange-hover{background-position:-90px 0}.bdlikebutton-small-blue-hover{background-position:-90px -30px}.bdlikebutton-small-green-hover{background-position:-90px -60px}.bdlikebutton-small-red-hover{background-position:-90px -90px}.bdlikebutton-medium-orange-hover{background-position:-110px -120px;color:#FFF}.bdlikebutton-medium-blue-hover{background-position:-110px -175px;color:#FFF}.bdlikebutton-medium-green-hover{background-position:-110px -230px;color:#FFF}.bdlikebutton-medium-red-hover{background-position:-110px -285px;color:#FFF}.bdlikebutton-large-orange-hover{background-position:-150px -340px;color:#FFF}.bdlikebutton-large-blue-hover{background-position:-150px -405px;color:#FFF}.bdlikebutton-large-green-hover{background-position:-150px -470px;color:#FFF}.bdlikebutton-large-red-hover{background-position:-150px -535px;color:#FFF}.bdlikebutton .bdlikebutton-add{display:none;position:absolute;top:0;left:50%;z-index:10002;font-size:20px;font-weight:700}"},{"title":"","date":"2019-11-27T15:22:16.702Z","updated":"2019-11-27T15:22:16.702Z","comments":true,"path":"public/static/api/css/select_share.css","permalink":"http://ltyeamin.github.io/public/static/api/css/select_share.css","excerpt":"","text":".bdselect_share_bg{position:absolute;display:none;z-index:9997}.bdselect_share_box .bdshare_arrow{position:absolute;margin:-4px 0 0;width:22px}.bdselect_share_box .bdshare_arrow *{font-family:SimSun;overflow:hidden;font-size:12px;line-height:1.231;display:block;height:12px}.bdshare_popup_box .S_line1_c{color:#e8daee}.bdshare_popup_box .S_bg4_c{color:#fafafa}.bdselect_share_head span,.bdselect_share_top{color:#626262;font-weight:700;line-height:28px}.bdselect_share_box{position:absolute;display:none;z-index:9998;max-width:300px;border:1px solid #f6f6f6;box-shadow:1px 4px 6px -2px #f6f6f6;-moz-box-shadow:1px 4px 6px -2px #f6f6f6;-webkit-box-shadow:1px 4px 6px -2px #f6f6f6}.bdselect_share_box .selectshare-mod-triangle{display:block;position:absolute;left:14px;top:-10px}.bdselect_share_box .selectshare-mod-triangle .triangle-border{border-color:transparent transparent #d9d9d9;left:0}.bdselect_share_box .selectshare-mod-triangle .triangle-border,.bdselect_share_box .selectshare-mod-triangle .triangle-inset{left:0;top:0;width:0;height:0;font-size:0;overflow:hidden;position:absolute;border-width:5px;border-style:dashed dashed solid}.bdselect_share_box .selectshare-mod-triangle .triangle-inset{border-color:transparent transparent #f6f6f6}.bdselect_share_top{height:28px;overflow:hidden;font-size:14px;padding:0 5px}.bdselect_share_list{margin:0;padding:10px;background:#fff;overflow:hidden}.bdselect_share_triangle{display:block;position:relative;left:19px;top:-24px;z-index:20}.bdselect_share_triangle .bdselect_share_border,.bdselect_share_triangle .bdselect_share_inset{left:0;top:0;width:0;height:0;font-size:0;overflow:hidden;position:absolute;border-width:12px;border-style:dashed dashed solid}.bdselect_share_triangle .bdselect_share_border{border-color:transparent transparent #fff;bottom:-1px}.bdselect_share_triangle .bdselect_share_inset{border-color:transparent transparent #f6f6f6}.bdselect_share_head{width:100%;background:#f4f4f4;height:28px}.bdselect_share_head span{margin-left:5px;font-size:12px}.bdselect_share_content{background:#fff}.bdselect_share_dialog_close{background:url(../img/share/selectshare_close.png?v=1b34ee88.png) no-repeat;width:12px;height:12px;position:absolute;top:8px;right:10px;display:block;text-decoration:none;cursor:pointer}.bdselect_share_dialog_search{position:absolute;top:0;right:30px;display:block;text-decoration:none;cursor:pointer;line-height:28px}.bdselect_share_dialog_search_i,.bdselect_share_dialog_search_span{display:inline-block;vertical-align:top}.bdselect_share_dialog_search:hover{text-decoration:none}.bdselect_share_dialog_search_i{background:url(../img/share/share-search-icon.png) 0 center no-repeat;width:12px;height:28px}.bdselect_share_partners{float:left}"},{"title":"","date":"2019-11-27T15:22:16.702Z","updated":"2019-11-27T15:22:16.702Z","comments":true,"path":"public/static/api/css/share_style0_16.css","permalink":"http://ltyeamin.github.io/public/static/api/css/share_style0_16.css","excerpt":"","text":".bdshare-button-style0-16 .bds_qzone{background-position:0 -52px}.bdshare-button-style0-16 .bds_tsina{background-position:0 -104px}.bdshare-button-style0-16 .bds_renren{background-position:0 -208px}.bdshare-button-style0-16 .bds_tqq{background-position:0 -260px}.bdshare-button-style0-16 .bds_kaixin001{background-position:0 -312px}.bdshare-button-style0-16 .bds_tqf{background-position:0 -364px}.bdshare-button-style0-16 .bds_hi{background-position:0 -416px}.bdshare-button-style0-16 .bds_douban{background-position:0 -468px}.bdshare-button-style0-16 .bds_tieba{background-position:0 -728px}.bdshare-button-style0-16 .bds_hx{background-position:0 -988px}.bdshare-button-style0-16 .bds_fx{background-position:0 -1040px}.bdshare-button-style0-16 .bds_ty{background-position:0 -1196px}.bdshare-button-style0-16 .bds_fbook{background-position:0 -1352px}.bdshare-button-style0-16 .bds_twi{background-position:0 -1404px}.bdshare-button-style0-16 .bds_linkedin{background-position:0 -1664px}.bdshare-button-style0-16 .bds_meilishuo{background-position:0 -1716px}.bdshare-button-style0-16 .bds_mogujie{background-position:0 -1768px}.bdshare-button-style0-16 .bds_diandian{background-position:0 -1820px}.bdshare-button-style0-16 .bds_huaban{background-position:0 -1872px}.bdshare-button-style0-16 .bds_duitang{background-position:0 -2028px}.bdshare-button-style0-16 .bds_youdao{background-position:0 -2080px}.bdshare-button-style0-16 .bds_wealink{background-position:0 -2184px}.bdshare-button-style0-16 .bds_copy{background-position:0 -2288px}.bdshare-button-style0-16 .bds_mail{background-position:0 -2340px}.bdshare-button-style0-16 .bds_print{background-position:0 -2392px}.bdshare-button-style0-16 .bds_mshare{background-position:0 -2444px}.bdshare-button-style0-16 .bds_sqq{background-position:0 -2652px}.bdshare-button-style0-16 .bds_sdo{background-position:0 -2704px}.bdshare-button-style0-16 .bds_qingbiji{background-position:0 -2756px}.bdshare-button-style0-16 .bds_people{background-position:0 -2808px}.bdshare-button-style0-16 .bds_xinhua{background-position:0 -2912px}.bdshare-button-style0-16 .bds_yaolan{background-position:0 -2964px}.bdshare-button-style0-16 .bds_thx{background-position:0 -2496px}.bdshare-button-style0-16 .bds_bdhome{background-position:0 -156px}.bdshare-button-style0-16 .bds_bdxc{background-position:0 -2548px}.bdshare-button-style0-16 .bds_bdysc{background-position:0 -3068px}.bdshare-button-style0-16 .bds_isohu{background-position:0 -3016px}.bdshare-button-style0-16 .bds_more{background-position:0 0;color:#333;float:left}.bdshare-button-style0-16 .bds_ibaidu{background-position:0 -3120px}.bdshare-button-style0-16 .bds_weixin{background-position:0 -1612px}.bdshare-button-style0-16 .bds_iguba{background-position:0 -1300px}.bdshare-button-style0-16 .bds_h163{background-position:0 -3160px}.bdshare-button-style0-16{zoom:1}.bdshare-button-style0-16:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}.bdshare-button-style0-16 .bds_more,.bdshare-button-style0-16 a{float:left;font-size:12px;padding-left:17px;line-height:16px;height:16px;background-image:url(../img/share/icons_0_16.png?v=ba7acbd3.png);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0}.bdshare-button-style0-16 a:hover{color:#333;opacity:.8;filter:alpha(opacity=80)}.bdshare-button-style0-16 .bds_count{color:#333;background:url(../img/share/sc.png?v=a970ff04.png) 0 -30px no-repeat;width:42px;height:16px;padding:0;margin:6px 0 0;text-align:center}.bdshare-button-style0-16 .bds_count:hover{background-position:-42px -30px}.bdshare-button-style0-16 .bds_button_image{float:left;cursor:pointer;margin:6px 6px 0 0;height:auto;padding:0}.bdshare-button-style0-16 .bdshare_button_count{background:url(../img/share/sc.png?v=a970ff04.png) no-repeat;width:44px;height:24px;line-height:24px}.bdshare-button-style0-16 .bdshare_button_count:hover{background-position:-44px 0}.bds_baidu,.bds_deli,.bds_ff,.bds_ifeng,.bds_leho,.bds_ms,.bds_msn,.bds_qq,.bds_qy,.bds_s139,.bds_s51,.bds_share189,.bds_sohu,.bds_t163,.bds_tfh,.bds_tsohu,.bds_tuita,.bds_xg{display:none}.bds_evernotecn{background-position:0 -3184px}"},{"title":"","date":"2019-11-27T15:22:16.702Z","updated":"2019-11-27T15:22:16.702Z","comments":true,"path":"public/static/api/css/share_style0_24.css","permalink":"http://ltyeamin.github.io/public/static/api/css/share_style0_24.css","excerpt":"","text":".bdshare-button-style0-24 .bds_qzone{background-position:0 -52px}.bdshare-button-style0-24 .bds_tsina{background-position:0 -104px}.bdshare-button-style0-24 .bds_renren{background-position:0 -208px}.bdshare-button-style0-24 .bds_tqq{background-position:0 -260px}.bdshare-button-style0-24 .bds_kaixin001{background-position:0 -312px}.bdshare-button-style0-24 .bds_tqf{background-position:0 -364px}.bdshare-button-style0-24 .bds_hi{background-position:0 -416px}.bdshare-button-style0-24 .bds_douban{background-position:0 -468px}.bdshare-button-style0-24 .bds_tieba{background-position:0 -728px}.bdshare-button-style0-24 .bds_hx{background-position:0 -988px}.bdshare-button-style0-24 .bds_fx{background-position:0 -1040px}.bdshare-button-style0-24 .bds_ty{background-position:0 -1196px}.bdshare-button-style0-24 .bds_fbook{background-position:0 -1352px}.bdshare-button-style0-24 .bds_twi{background-position:0 -1404px}.bdshare-button-style0-24 .bds_linkedin{background-position:0 -1664px}.bdshare-button-style0-24 .bds_meilishuo{background-position:0 -1716px}.bdshare-button-style0-24 .bds_mogujie{background-position:0 -1768px}.bdshare-button-style0-24 .bds_diandian{background-position:0 -1820px}.bdshare-button-style0-24 .bds_huaban{background-position:0 -1872px}.bdshare-button-style0-24 .bds_duitang{background-position:0 -2028px}.bdshare-button-style0-24 .bds_youdao{background-position:0 -2080px}.bdshare-button-style0-24 .bds_wealink{background-position:0 -2184px}.bdshare-button-style0-24 .bds_copy{background-position:0 -2288px}.bdshare-button-style0-24 .bds_mail{background-position:0 -2340px}.bdshare-button-style0-24 .bds_print{background-position:0 -2392px}.bdshare-button-style0-24 .bds_mshare{background-position:0 -2444px}.bdshare-button-style0-24 .bds_sqq{background-position:0 -2652px}.bdshare-button-style0-24 .bds_sdo{background-position:0 -2704px}.bdshare-button-style0-24 .bds_qingbiji{background-position:0 -2756px}.bdshare-button-style0-24 .bds_people{background-position:0 -2808px}.bdshare-button-style0-24 .bds_xinhua{background-position:0 -2912px}.bdshare-button-style0-24 .bds_yaolan{background-position:0 -2964px}.bdshare-button-style0-24 .bds_thx{background-position:0 -2496px}.bdshare-button-style0-24 .bds_bdhome{background-position:0 -156px}.bdshare-button-style0-24 .bds_bdxc{background-position:0 -2548px}.bdshare-button-style0-24 .bds_bdysc{background-position:0 -3068px}.bdshare-button-style0-24 .bds_isohu{background-position:0 -3016px}.bdshare-button-style0-24 .bds_more{background-position:0 0;color:#333;float:left}.bdshare-button-style0-24 .bds_ibaidu{background-position:0 -3120px}.bdshare-button-style0-24 .bds_weixin{background-position:0 -1612px}.bdshare-button-style0-24 .bds_iguba{background-position:0 -1300px}.bdshare-button-style0-24 .bds_h163{background-position:0 -3168px}.bdshare-button-style0-24 .bds_evernotecn{background-position:0 -3228px}.bdshare-button-style0-24{zoom:1}.bdshare-button-style0-24:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}.bdshare-button-style0-24 .bds_more,.bdshare-button-style0-24 a{float:left;font-size:18px;padding-left:25px;line-height:24px;height:24px;background-image:url(../img/share/icons_0_24.png?v=dcaa92d6.png);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0}.bdshare-button-style0-24 a:hover{color:#333;opacity:.8;filter:alpha(opacity=80)}.bdshare-button-style0-24 .bds_count{color:#333;background:url(../img/share/sc.png?v=a970ff04.png) no-repeat;width:45px;height:24px;padding:0;text-align:center;margin:6px 6px 0 0}.bdshare-button-style0-24 .bds_count:hover{background-position:-44px 0}.bds_baidu,.bds_deli,.bds_ff,.bds_ifeng,.bds_leho,.bds_ms,.bds_msn,.bds_qq,.bds_qy,.bds_s139,.bds_s51,.bds_share189,.bds_sohu,.bds_t163,.bds_tfh,.bds_tsohu,.bds_tuita,.bds_xg{display:none}"},{"title":"","date":"2019-11-27T15:22:16.702Z","updated":"2019-11-27T15:22:16.702Z","comments":true,"path":"public/static/api/css/share_style0_32.css","permalink":"http://ltyeamin.github.io/public/static/api/css/share_style0_32.css","excerpt":"","text":".bdshare-button-style0-32 .bds_qzone{background-position:0 -52px}.bdshare-button-style0-32 .bds_tsina{background-position:0 -104px}.bdshare-button-style0-32 .bds_renren{background-position:0 -208px}.bdshare-button-style0-32 .bds_tqq{background-position:0 -260px}.bdshare-button-style0-32 .bds_kaixin001{background-position:0 -312px}.bdshare-button-style0-32 .bds_tqf{background-position:0 -364px}.bdshare-button-style0-32 .bds_hi{background-position:0 -416px}.bdshare-button-style0-32 .bds_douban{background-position:0 -468px}.bdshare-button-style0-32 .bds_tieba{background-position:0 -728px}.bdshare-button-style0-32 .bds_hx{background-position:0 -988px}.bdshare-button-style0-32 .bds_fx{background-position:0 -1040px}.bdshare-button-style0-32 .bds_ty{background-position:0 -1196px}.bdshare-button-style0-32 .bds_fbook{background-position:0 -1352px}.bdshare-button-style0-32 .bds_twi{background-position:0 -1404px}.bdshare-button-style0-32 .bds_linkedin{background-position:0 -1664px}.bdshare-button-style0-32 .bds_meilishuo{background-position:0 -1716px}.bdshare-button-style0-32 .bds_mogujie{background-position:0 -1768px}.bdshare-button-style0-32 .bds_diandian{background-position:0 -1820px}.bdshare-button-style0-32 .bds_huaban{background-position:0 -1872px}.bdshare-button-style0-32 .bds_duitang{background-position:0 -2028px}.bdshare-button-style0-32 .bds_youdao{background-position:0 -2080px}.bdshare-button-style0-32 .bds_wealink{background-position:0 -2184px}.bdshare-button-style0-32 .bds_copy{background-position:0 -2288px}.bdshare-button-style0-32 .bds_mail{background-position:0 -2340px}.bdshare-button-style0-32 .bds_print{background-position:0 -2392px}.bdshare-button-style0-32 .bds_mshare{background-position:0 -2444px}.bdshare-button-style0-32 .bds_sqq{background-position:0 -2652px}.bdshare-button-style0-32 .bds_sdo{background-position:0 -2704px}.bdshare-button-style0-32 .bds_qingbiji{background-position:0 -2756px}.bdshare-button-style0-32 .bds_people{background-position:0 -2808px}.bdshare-button-style0-32 .bds_xinhua{background-position:0 -2912px}.bdshare-button-style0-32 .bds_yaolan{background-position:0 -2964px}.bdshare-button-style0-32 .bds_thx{background-position:0 -2496px}.bdshare-button-style0-32 .bds_bdhome{background-position:0 -156px}.bdshare-button-style0-32 .bds_bdxc{background-position:0 -2548px}.bdshare-button-style0-32 .bds_bdysc{background-position:0 -3068px}.bdshare-button-style0-32 .bds_isohu{background-position:0 -3016px}.bdshare-button-style0-32 .bds_ibaidu{background-position:0 -3120px}.bdshare-button-style0-32 .bds_weixin{background-position:0 -1612px}.bdshare-button-style0-32 .bds_iguba{background-position:0 -1300px}.bdshare-button-style0-32 .bds_h163{background-position:0 -3176px}.bdshare-button-style0-32{zoom:1}.bdshare-button-style0-32:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}.bdshare-button-style0-32 a{float:left;width:32px;line-height:32px;height:32px;background-image:url(../img/share/icons_0_32.png?v=dc944784.png);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0;text-indent:-100em;overflow:hidden;color:#3a8ceb}.bdshare-button-style0-32 a:hover{color:#333;opacity:.8;filter:alpha(opacity=80)}.bdshare-button-style0-32 .bds_more{color:#333}.bdshare-button-style0-32 .bds_count{color:#333;background:url(../img/share/sc.png?v=a970ff04.png) 0 -60px no-repeat;width:48px;height:32px;line-height:32px;padding:0;text-align:center;text-indent:0}.bdshare-button-style0-32 .bds_count:hover{background-position:-48px -60px}.bds_baidu,.bds_deli,.bds_ff,.bds_ifeng,.bds_leho,.bds_ms,.bds_msn,.bds_qq,.bds_qy,.bds_s139,.bds_s51,.bds_share189,.bds_sohu,.bds_t163,.bds_tfh,.bds_tsohu,.bds_tuita,.bds_xg{display:none}"},{"title":"","date":"2019-11-27T15:22:16.702Z","updated":"2019-11-27T15:22:16.702Z","comments":true,"path":"public/static/api/css/share_style1_16.css","permalink":"http://ltyeamin.github.io/public/static/api/css/share_style1_16.css","excerpt":"","text":".bdshare-button-style1-16 .bds_qzone{background-position:0 -52px}.bdshare-button-style1-16 .bds_tsina{background-position:0 -104px}.bdshare-button-style1-16 .bds_renren{background-position:0 -208px}.bdshare-button-style1-16 .bds_tqq{background-position:0 -260px}.bdshare-button-style1-16 .bds_kaixin001{background-position:0 -312px}.bdshare-button-style1-16 .bds_tqf{background-position:0 -364px}.bdshare-button-style1-16 .bds_hi{background-position:0 -416px}.bdshare-button-style1-16 .bds_douban{background-position:0 -468px}.bdshare-button-style1-16 .bds_tieba{background-position:0 -728px}.bdshare-button-style1-16 .bds_hx{background-position:0 -988px}.bdshare-button-style1-16 .bds_fx{background-position:0 -1040px}.bdshare-button-style1-16 .bds_ty{background-position:0 -1196px}.bdshare-button-style1-16 .bds_fbook{background-position:0 -1352px}.bdshare-button-style1-16 .bds_twi{background-position:0 -1404px}.bdshare-button-style1-16 .bds_linkedin{background-position:0 -1664px}.bdshare-button-style1-16 .bds_meilishuo{background-position:0 -1716px}.bdshare-button-style1-16 .bds_mogujie{background-position:0 -1768px}.bdshare-button-style1-16 .bds_diandian{background-position:0 -1820px}.bdshare-button-style1-16 .bds_huaban{background-position:0 -1872px}.bdshare-button-style1-16 .bds_duitang{background-position:0 -2028px}.bdshare-button-style1-16 .bds_youdao{background-position:0 -2080px}.bdshare-button-style1-16 .bds_wealink{background-position:0 -2184px}.bdshare-button-style1-16 .bds_copy{background-position:0 -2288px}.bdshare-button-style1-16 .bds_mail{background-position:0 -2340px}.bdshare-button-style1-16 .bds_print{background-position:0 -2392px}.bdshare-button-style1-16 .bds_mshare{background-position:0 -2444px}.bdshare-button-style1-16 .bds_sqq{background-position:0 -2652px}.bdshare-button-style1-16 .bds_sdo{background-position:0 -2704px}.bdshare-button-style1-16 .bds_qingbiji{background-position:0 -2756px}.bdshare-button-style1-16 .bds_people{background-position:0 -2808px}.bdshare-button-style1-16 .bds_xinhua{background-position:0 -2912px}.bdshare-button-style1-16 .bds_yaolan{background-position:0 -2964px}.bdshare-button-style1-16 .bds_thx{background-position:0 -2496px}.bdshare-button-style1-16 .bds_bdhome{background-position:0 -156px}.bdshare-button-style1-16 .bds_bdxc{background-position:0 -2548px}.bdshare-button-style1-16 .bds_bdysc{background-position:0 -3068px}.bdshare-button-style1-16 .bds_isohu{background-position:0 -3016px}.bdshare-button-style1-16 .bds_more{background-position:0 0;color:#333;float:left}.bdshare-button-style1-16 .bds_ibaidu{background-position:0 -3120px}.bdshare-button-style1-16 .bds_weixin{background-position:0 -1612px}.bdshare-button-style1-16 .bds_iguba{background-position:0 -1300px}.bdshare-button-style1-16 .bds_h163{background-position:0 -3160px}.bdshare-button-style1-16 .bds_evernotecn{background-position:0 -3195px}.bdshare-button-style1-16{zoom:1}.bdshare-button-style1-16:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}.bdshare-button-style1-16 .bds_more,.bdshare-button-style1-16 a{float:left;font-size:12px;padding-left:17px;line-height:16px;height:16px;background-image:url(../img/share/icons_1_16.png?v=774cfc30.png);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0}.bdshare-button-style1-16 a:hover{color:#333;opacity:.8;filter:alpha(opacity=80)}.bdshare-button-style1-16 .bds_count{color:#333;background:url(../img/share/sc.png?v=a970ff04.png) 0 -30px no-repeat;width:42px;height:16px;padding:0;margin:6px 0 0;text-align:center}.bdshare-button-style1-16 .bds_count:hover{background-position:-42px -30px}.bdshare-button-style1-16 .bds_button_image{float:left;cursor:pointer;margin:6px 6px 0 0;height:auto;padding:0}.bdshare-button-style1-16 .bdshare_button_count{background:url(../img/share/sc.png?v=a970ff04.png) no-repeat;width:44px;height:24px;line-height:24px}.bdshare-button-style1-16 .bdshare_button_count:hover{background-position:-44px 0}.bds_baidu,.bds_deli,.bds_ff,.bds_ifeng,.bds_leho,.bds_ms,.bds_msn,.bds_qq,.bds_qy,.bds_s139,.bds_s51,.bds_share189,.bds_sohu,.bds_t163,.bds_tfh,.bds_tsohu,.bds_tuita,.bds_xg{display:none}"},{"title":"","date":"2019-11-27T15:22:16.703Z","updated":"2019-11-27T15:22:16.703Z","comments":true,"path":"public/static/api/css/share_style1_24.css","permalink":"http://ltyeamin.github.io/public/static/api/css/share_style1_24.css","excerpt":"","text":".bdshare-button-style1-24 .bds_qzone{background-position:0 -52px}.bdshare-button-style1-24 .bds_tsina{background-position:0 -104px}.bdshare-button-style1-24 .bds_renren{background-position:0 -208px}.bdshare-button-style1-24 .bds_tqq{background-position:0 -260px}.bdshare-button-style1-24 .bds_kaixin001{background-position:0 -312px}.bdshare-button-style1-24 .bds_tqf{background-position:0 -364px}.bdshare-button-style1-24 .bds_hi{background-position:0 -416px}.bdshare-button-style1-24 .bds_douban{background-position:0 -468px}.bdshare-button-style1-24 .bds_tieba{background-position:0 -728px}.bdshare-button-style1-24 .bds_hx{background-position:0 -988px}.bdshare-button-style1-24 .bds_fx{background-position:0 -1040px}.bdshare-button-style1-24 .bds_ty{background-position:0 -1196px}.bdshare-button-style1-24 .bds_fbook{background-position:0 -1352px}.bdshare-button-style1-24 .bds_twi{background-position:0 -1404px}.bdshare-button-style1-24 .bds_linkedin{background-position:0 -1664px}.bdshare-button-style1-24 .bds_meilishuo{background-position:0 -1716px}.bdshare-button-style1-24 .bds_mogujie{background-position:0 -1768px}.bdshare-button-style1-24 .bds_diandian{background-position:0 -1820px}.bdshare-button-style1-24 .bds_huaban{background-position:0 -1872px}.bdshare-button-style1-24 .bds_duitang{background-position:0 -2028px}.bdshare-button-style1-24 .bds_youdao{background-position:0 -2080px}.bdshare-button-style1-24 .bds_wealink{background-position:0 -2184px}.bdshare-button-style1-24 .bds_copy{background-position:0 -2288px}.bdshare-button-style1-24 .bds_mail{background-position:0 -2340px}.bdshare-button-style1-24 .bds_print{background-position:0 -2392px}.bdshare-button-style1-24 .bds_mshare{background-position:0 -2444px}.bdshare-button-style1-24 .bds_sqq{background-position:0 -2652px}.bdshare-button-style1-24 .bds_sdo{background-position:0 -2704px}.bdshare-button-style1-24 .bds_qingbiji{background-position:0 -2756px}.bdshare-button-style1-24 .bds_people{background-position:0 -2808px}.bdshare-button-style1-24 .bds_xinhua{background-position:0 -2912px}.bdshare-button-style1-24 .bds_yaolan{background-position:0 -2964px}.bdshare-button-style1-24 .bds_thx{background-position:0 -2496px}.bdshare-button-style1-24 .bds_bdhome{background-position:0 -156px}.bdshare-button-style1-24 .bds_bdxc{background-position:0 -2548px}.bdshare-button-style1-24 .bds_bdysc{background-position:0 -3068px}.bdshare-button-style1-24 .bds_isohu{background-position:0 -3016px}.bdshare-button-style1-24 .bds_more{background-position:0 0;color:#333;float:left}.bdshare-button-style1-24 .bds_ibaidu{background-position:0 -3120px}.bdshare-button-style1-24 .bds_weixin{background-position:0 -1612px}.bdshare-button-style1-24 .bds_iguba{background-position:0 -1300px}.bdshare-button-style1-24 .bds_h163{background-position:0 -3168px}.bdshare-button-style1-24 .bds_evernotecn{background-position:0 -3211px}.bdshare-button-style1-24{zoom:1}.bdshare-button-style1-24:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}.bdshare-button-style1-24 .bds_more,.bdshare-button-style1-24 a{float:left;font-size:18px;padding-left:25px;line-height:24px;height:24px;background-image:url(../img/share/icons_1_24.png?v=37be22f4.png);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0}.bdshare-button-style1-24 a:hover{color:#333;opacity:.8;filter:alpha(opacity=80)}.bdshare-button-style1-24 .bds_count{color:#333;background:url(../img/share/sc.png?v=a970ff04.png) no-repeat;width:45px;height:24px;padding:0;margin:6px 0 0;text-align:center}.bdshare-button-style1-24 .bds_count:hover{background-position:-44px 0}.bdshare-button-style1-24 .bds_button_image{float:left;cursor:pointer;margin:6px 6px 0 0;height:auto;padding:0}.bdshare-button-style1-24 .bdshare_button_count{background:url(../img/share/sc.png?v=a970ff04.png) no-repeat;width:44px;height:24px;line-height:24px}.bdshare-button-style1-24 .bdshare_button_count:hover{background-position:-44px 0}.bds_baidu,.bds_deli,.bds_ff,.bds_ifeng,.bds_leho,.bds_ms,.bds_msn,.bds_qq,.bds_qy,.bds_s139,.bds_s51,.bds_share189,.bds_sohu,.bds_t163,.bds_tfh,.bds_tsohu,.bds_tuita,.bds_xg{display:none}"},{"title":"","date":"2019-11-27T15:22:16.702Z","updated":"2019-11-27T15:22:16.702Z","comments":true,"path":"public/static/api/css/share_style1_32.css","permalink":"http://ltyeamin.github.io/public/static/api/css/share_style1_32.css","excerpt":"","text":".bdshare-button-style1-32 .bds_qzone{background-position:0 -52px}.bdshare-button-style1-32 .bds_tsina{background-position:0 -104px}.bdshare-button-style1-32 .bds_renren{background-position:0 -208px}.bdshare-button-style1-32 .bds_tqq{background-position:0 -260px}.bdshare-button-style1-32 .bds_kaixin001{background-position:0 -312px}.bdshare-button-style1-32 .bds_tqf{background-position:0 -364px}.bdshare-button-style1-32 .bds_hi{background-position:0 -416px}.bdshare-button-style1-32 .bds_douban{background-position:0 -468px}.bdshare-button-style1-32 .bds_tieba{background-position:0 -728px}.bdshare-button-style1-32 .bds_hx{background-position:0 -988px}.bdshare-button-style1-32 .bds_fx{background-position:0 -1040px}.bdshare-button-style1-32 .bds_ty{background-position:0 -1196px}.bdshare-button-style1-32 .bds_fbook{background-position:0 -1352px}.bdshare-button-style1-32 .bds_twi{background-position:0 -1404px}.bdshare-button-style1-32 .bds_linkedin{background-position:0 -1664px}.bdshare-button-style1-32 .bds_meilishuo{background-position:0 -1716px}.bdshare-button-style1-32 .bds_mogujie{background-position:0 -1768px}.bdshare-button-style1-32 .bds_diandian{background-position:0 -1820px}.bdshare-button-style1-32 .bds_huaban{background-position:0 -1872px}.bdshare-button-style1-32 .bds_duitang{background-position:0 -2028px}.bdshare-button-style1-32 .bds_youdao{background-position:0 -2080px}.bdshare-button-style1-32 .bds_wealink{background-position:0 -2184px}.bdshare-button-style1-32 .bds_copy{background-position:0 -2288px}.bdshare-button-style1-32 .bds_mail{background-position:0 -2340px}.bdshare-button-style1-32 .bds_print{background-position:0 -2392px}.bdshare-button-style1-32 .bds_mshare{background-position:0 -2444px}.bdshare-button-style1-32 .bds_sqq{background-position:0 -2652px}.bdshare-button-style1-32 .bds_sdo{background-position:0 -2704px}.bdshare-button-style1-32 .bds_qingbiji{background-position:0 -2756px}.bdshare-button-style1-32 .bds_people{background-position:0 -2808px}.bdshare-button-style1-32 .bds_xinhua{background-position:0 -2912px}.bdshare-button-style1-32 .bds_yaolan{background-position:0 -2964px}.bdshare-button-style1-32 .bds_thx{background-position:0 -2496px}.bdshare-button-style1-32 .bds_bdhome{background-position:0 -156px}.bdshare-button-style1-32 .bds_bdxc{background-position:0 -2548px}.bdshare-button-style1-32 .bds_bdysc{background-position:0 -3068px}.bdshare-button-style1-32 .bds_isohu{background-position:0 -3016px}.bdshare-button-style1-32 .bds_ibaidu{background-position:0 -3120px}.bdshare-button-style1-32 .bds_weixin{background-position:0 -1612px}.bdshare-button-style1-32 .bds_iguba{background-position:0 -1300px}.bdshare-button-style1-32 .bds_h163{background-position:0 -3176px}.bdshare-button-style1-32 .bds_evernotecn{background-position:0 -3222px}.bdshare-button-style1-32{zoom:1}.bdshare-button-style1-32:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}.bdshare-button-style1-32 a{float:left;width:32px;line-height:32px;height:32px;background-image:url(../img/share/icons_1_32.png?v=83ba0265.png);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0;text-indent:-100em;overflow:hidden;color:#3a8ceb}.bdshare-button-style1-32 a:hover{color:#333;opacity:.8;filter:alpha(opacity=80)}.bdshare-button-style1-32 .bds_more{color:#333}.bdshare-button-style1-32 .bds_count{color:#333;background:url(../img/share/sc.png?v=a970ff04.png) 0 -60px no-repeat;width:48px;height:32px;line-height:32px;padding:0;text-align:center;text-indent:0}.bdshare-button-style1-32 .bds_count:hover{background-position:-48px -60px}.bds_baidu,.bds_deli,.bds_ff,.bds_ifeng,.bds_leho,.bds_ms,.bds_msn,.bds_qq,.bds_qy,.bds_s139,.bds_s51,.bds_share189,.bds_sohu,.bds_t163,.bds_tfh,.bds_tsohu,.bds_tuita,.bds_xg{display:none}"},{"title":"","date":"2019-11-27T15:22:16.704Z","updated":"2019-11-27T15:22:16.704Z","comments":true,"path":"public/static/api/css/share_style2.css","permalink":"http://ltyeamin.github.io/public/static/api/css/share_style2.css","excerpt":"","text":".bds_qzone{background-position:0 -52px}.bds_tsina{background-position:0 -104px}.bds_renren{background-position:0 -208px}.bds_tqq{background-position:0 -260px}.bds_kaixin001{background-position:0 -312px}.bds_tqf{background-position:0 -364px}.bds_hi{background-position:0 -416px}.bds_douban{background-position:0 -468px}.bds_tieba{background-position:0 -728px}.bds_hx{background-position:0 -988px}.bds_fx{background-position:0 -1040px}.bds_ty{background-position:0 -1196px}.bds_fbook{background-position:0 -1352px}.bds_twi{background-position:0 -1404px}.bds_linkedin{background-position:0 -1664px}.bds_meilishuo{background-position:0 -1716px}.bds_mogujie{background-position:0 -1768px}.bds_diandian{background-position:0 -1820px}.bds_huaban{background-position:0 -1872px}.bds_duitang{background-position:0 -2028px}.bds_youdao{background-position:0 -2080px}.bds_wealink{background-position:0 -2184px}.bds_copy{background-position:0 -2287px}.bds_mail{background-position:0 -2339px}.bds_print{background-position:0 -2391px}.bds_mshare{background-position:0 -2443px}.bds_sqq{background-position:0 -2651px}.bds_sdo{background-position:0 -2703px}.bds_qingbiji{background-position:0 -2755px}.bds_people{background-position:0 -2807px}.bds_xinhua{background-position:0 -2911px}.bds_yaolan{background-position:0 -2963px}.bds_thx{background-position:0 -2495px}.bds_bdhome{background-position:0 -156px}.bds_bdxc{background-position:0 -2547px}.bds_h163{background-position:0 -2990px}.bdshare-button-style2{zoom:1;padding:5px 0}.bdshare-button-style2:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}.bdshare-button-style2 a{float:left;font-size:12px;padding-left:17px;line-height:16px;height:16px;background-image:url(../img/share/icons_2.png?v=cd8d5d1e.png);background-repeat:no-repeat;cursor:pointer;margin-right:3px;color:#3a8ceb}.bdshare-button-style2 .bds_more,.bdshare-button-style2 a:hover{color:#333}.bdshare-button-style2 .bds_count{color:#333;background:url(../img/share/sc.png?v=a970ff04.png) 0 -30px no-repeat;width:42px;height:16px;padding:0;text-align:center}.bdshare-button-style2 .bds_count:hover{background-position:-42px -30px}.bds_baidu,.bds_deli,.bds_ff,.bds_ifeng,.bds_leho,.bds_ms,.bds_msn,.bds_qq,.bds_qy,.bds_s139,.bds_s51,.bds_share189,.bds_sohu,.bds_t163,.bds_tsohu..bds_tfh,.bds_tuita,.bds_xg{display:none}"},{"title":"","date":"2019-11-27T15:22:16.704Z","updated":"2019-11-27T15:22:16.704Z","comments":true,"path":"public/static/api/css/share_style2_16.css","permalink":"http://ltyeamin.github.io/public/static/api/css/share_style2_16.css","excerpt":"","text":".bdshare-button-style2-16 .bds_qzone{background-position:0 -52px}.bdshare-button-style2-16 .bds_tsina{background-position:0 -104px}.bdshare-button-style2-16 .bds_renren{background-position:0 -208px}.bdshare-button-style2-16 .bds_tqq{background-position:0 -260px}.bdshare-button-style2-16 .bds_kaixin001{background-position:0 -312px}.bdshare-button-style2-16 .bds_tqf{background-position:0 -364px}.bdshare-button-style2-16 .bds_hi{background-position:0 -416px}.bdshare-button-style2-16 .bds_douban{background-position:0 -468px}.bdshare-button-style2-16 .bds_tieba{background-position:0 -728px}.bdshare-button-style2-16 .bds_hx{background-position:0 -988px}.bdshare-button-style2-16 .bds_fx{background-position:0 -1040px}.bdshare-button-style2-16 .bds_ty{background-position:0 -1196px}.bdshare-button-style2-16 .bds_fbook{background-position:0 -1352px}.bdshare-button-style2-16 .bds_twi{background-position:0 -1404px}.bdshare-button-style2-16 .bds_linkedin{background-position:0 -1664px}.bdshare-button-style2-16 .bds_meilishuo{background-position:0 -1716px}.bdshare-button-style2-16 .bds_mogujie{background-position:0 -1768px}.bdshare-button-style2-16 .bds_diandian{background-position:0 -1820px}.bdshare-button-style2-16 .bds_huaban{background-position:0 -1872px}.bdshare-button-style2-16 .bds_duitang{background-position:0 -2028px}.bdshare-button-style2-16 .bds_youdao{background-position:0 -2080px}.bdshare-button-style2-16 .bds_wealink{background-position:0 -2184px}.bdshare-button-style2-16 .bds_copy{background-position:0 -2288px}.bdshare-button-style2-16 .bds_mail{background-position:0 -2340px}.bdshare-button-style2-16 .bds_print{background-position:0 -2392px}.bdshare-button-style2-16 .bds_mshare{background-position:0 -2444px}.bdshare-button-style2-16 .bds_sqq{background-position:0 -2652px}.bdshare-button-style2-16 .bds_sdo{background-position:0 -2704px}.bdshare-button-style2-16 .bds_qingbiji{background-position:0 -2756px}.bdshare-button-style2-16 .bds_people{background-position:0 -2808px}.bdshare-button-style2-16 .bds_xinhua{background-position:0 -2912px}.bdshare-button-style2-16 .bds_yaolan{background-position:0 -2964px}.bdshare-button-style2-16 .bds_thx{background-position:0 -2496px}.bdshare-button-style2-16 .bds_bdhome{background-position:0 -156px}.bdshare-button-style2-16 .bds_bdxc{background-position:0 -2548px}.bdshare-button-style2-16 .bds_bdysc{background-position:0 -3068px}.bdshare-button-style2-16 .bds_isohu{background-position:0 -3016px}.bdshare-button-style2-16 .bds_more{background-position:0 0}.bdshare-button-style2-16 .bds_ibaidu{background-position:0 -3120px}.bdshare-button-style2-16 .bds_weixin{background-position:0 -1612px}.bdshare-button-style2-16 .bds_iguba{background-position:0 -1300px}.bdshare-button-style2-16 .bds_h163{background-position:0 -3156px}.bdshare-button-style2-16 .bds_evernotecn{background-position:0 -3192px}.bdshare-button-style2-16{zoom:1}.bdshare-button-style2-16:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}.bdshare-button-style2-16 .bds_more,.bdshare-button-style2-16 a{float:left;font-size:12px;padding-left:17px;line-height:16px;height:16px;background-image:url(../img/share/icons_2_16.png?v=81508962.png);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0;color:#999}.bdshare-button-style2-16 a:hover{color:#333;opacity:.8;filter:alpha(opacity=80)}.bdshare-button-style2-16 .bds_more{color:#333;float:left}.bdshare-button-style2-16 .bds_count{color:#333;background:url(../img/share/sc.png?v=a970ff04.png) 0 -30px no-repeat;width:42px;height:16px;padding:0;margin:6px 0 0;text-align:center}.bdshare-button-style2-16 .bds_count:hover{background-position:-42px -30px}.bdshare-button-style2-16 .bds_button_image{float:left;cursor:pointer;margin:6px 6px 0 0;height:auto;padding:0}.bdshare-button-style2-16 .bdshare_button_count{background:url(../img/share/sc.png?v=a970ff04.png) no-repeat;width:44px;height:24px;line-height:24px}.bdshare-button-style2-16 .bdshare_button_count:hover{background-position:-44px 0}.bds_baidu,.bds_deli,.bds_ff,.bds_ifeng,.bds_leho,.bds_ms,.bds_msn,.bds_qq,.bds_qy,.bds_s139,.bds_s51,.bds_share189,.bds_sohu,.bds_t163,.bds_tfh,.bds_tsohu,.bds_tuita,.bds_xg{display:none}"},{"title":"","date":"2019-11-27T15:22:16.704Z","updated":"2019-11-27T15:22:16.704Z","comments":true,"path":"public/static/api/css/share_style2_24.css","permalink":"http://ltyeamin.github.io/public/static/api/css/share_style2_24.css","excerpt":"","text":".bdshare-button-style2-24 .bds_qzone{background-position:0 -52px}.bdshare-button-style2-24 .bds_tsina{background-position:0 -104px}.bdshare-button-style2-24 .bds_renren{background-position:0 -208px}.bdshare-button-style2-24 .bds_tqq{background-position:0 -260px}.bdshare-button-style2-24 .bds_kaixin001{background-position:0 -312px}.bdshare-button-style2-24 .bds_tqf{background-position:0 -364px}.bdshare-button-style2-24 .bds_hi{background-position:0 -416px}.bdshare-button-style2-24 .bds_douban{background-position:0 -468px}.bdshare-button-style2-24 .bds_tieba{background-position:0 -728px}.bdshare-button-style2-24 .bds_hx{background-position:0 -988px}.bdshare-button-style2-24 .bds_fx{background-position:0 -1040px}.bdshare-button-style2-24 .bds_ty{background-position:0 -1196px}.bdshare-button-style2-24 .bds_fbook{background-position:0 -1352px}.bdshare-button-style2-24 .bds_twi{background-position:0 -1404px}.bdshare-button-style2-24 .bds_linkedin{background-position:0 -1664px}.bdshare-button-style2-24 .bds_meilishuo{background-position:0 -1716px}.bdshare-button-style2-24 .bds_mogujie{background-position:0 -1768px}.bdshare-button-style2-24 .bds_diandian{background-position:0 -1820px}.bdshare-button-style2-24 .bds_huaban{background-position:0 -1872px}.bdshare-button-style2-24 .bds_duitang{background-position:0 -2028px}.bdshare-button-style2-24 .bds_youdao{background-position:0 -2080px}.bdshare-button-style2-24 .bds_wealink{background-position:0 -2184px}.bdshare-button-style2-24 .bds_copy{background-position:0 -2288px}.bdshare-button-style2-24 .bds_mail{background-position:0 -2340px}.bdshare-button-style2-24 .bds_print{background-position:0 -2392px}.bdshare-button-style2-24 .bds_mshare{background-position:0 -2444px}.bdshare-button-style2-24 .bds_sqq{background-position:0 -2652px}.bdshare-button-style2-24 .bds_sdo{background-position:0 -2704px}.bdshare-button-style2-24 .bds_qingbiji{background-position:0 -2756px}.bdshare-button-style2-24 .bds_people{background-position:0 -2808px}.bdshare-button-style2-24 .bds_xinhua{background-position:0 -2912px}.bdshare-button-style2-24 .bds_yaolan{background-position:0 -2964px}.bdshare-button-style2-24 .bds_thx{background-position:0 -2496px}.bdshare-button-style2-24 .bds_bdhome{background-position:0 -156px}.bdshare-button-style2-24 .bds_bdxc{background-position:0 -2548px}.bdshare-button-style2-24 .bds_bdysc{background-position:0 -3068px}.bdshare-button-style2-24 .bds_isohu{background-position:0 -3016px}.bdshare-button-style2-24 .bds_more{background-position:0 0}.bdshare-button-style2-24 .bds_ibaidu{background-position:0 -3120px}.bdshare-button-style2-24 .bds_weixin{background-position:0 -1612px}.bdshare-button-style2-24 .bds_iguba{background-position:0 -1300px}.bdshare-button-style2-24 .bds_h163{background-position:0 -3168px}.bdshare-button-style2-24 .bds_evernotecn{background-position:0 -3214px}.bdshare-button-style2-24{zoom:1}.bdshare-button-style2-24:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}.bdshare-button-style2-24 .bds_more,.bdshare-button-style2-24 a{float:left;font-size:18px;padding-left:25px;line-height:24px;height:24px;background-image:url(../img/share/icons_2_24.png?v=a64ca404.png);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0;color:#999}.bdshare-button-style2-24 a:hover{color:#333;opacity:.8;filter:alpha(opacity=80)}.bdshare-button-style2-24 .bds_more{color:#333;float:left}.bdshare-button-style2-24 .bds_count{color:#333;background:url(../img/share/sc.png?v=a970ff04.png) no-repeat;width:45px;height:24px;padding:0;margin:6px 0 0;text-align:center}.bdshare-button-style2-24 .bds_count:hover{background-position:-44px 0}.bdshare-button-style2-24 .bds_button_image{float:left;cursor:pointer;margin:6px 6px 0 0;height:auto;padding:0}.bdshare-button-style2-24 .bdshare_button_count{background:url(../img/share/sc.png?v=a970ff04.png) no-repeat;width:44px;height:24px;line-height:24px}.bdshare-button-style2-24 .bdshare_button_count:hover{background-position:-44px 0}.bds_baidu,.bds_deli,.bds_ff,.bds_ifeng,.bds_leho,.bds_ms,.bds_msn,.bds_qq,.bds_qy,.bds_s139,.bds_s51,.bds_share189,.bds_sohu,.bds_t163,.bds_tfh,.bds_tsohu,.bds_tuita,.bds_xg{display:none}"},{"title":"","date":"2019-11-27T15:22:16.704Z","updated":"2019-11-27T15:22:16.704Z","comments":true,"path":"public/static/api/css/share_style2_32.css","permalink":"http://ltyeamin.github.io/public/static/api/css/share_style2_32.css","excerpt":"","text":".bdshare-button-style2-32 .bds_qzone{background-position:0 -52px}.bdshare-button-style2-32 .bds_tsina{background-position:0 -104px}.bdshare-button-style2-32 .bds_renren{background-position:0 -208px}.bdshare-button-style2-32 .bds_tqq{background-position:0 -260px}.bdshare-button-style2-32 .bds_kaixin001{background-position:0 -312px}.bdshare-button-style2-32 .bds_tqf{background-position:0 -364px}.bdshare-button-style2-32 .bds_hi{background-position:0 -416px}.bdshare-button-style2-32 .bds_douban{background-position:0 -468px}.bdshare-button-style2-32 .bds_tieba{background-position:0 -728px}.bdshare-button-style2-32 .bds_hx{background-position:0 -988px}.bdshare-button-style2-32 .bds_fx{background-position:0 -1040px}.bdshare-button-style2-32 .bds_ty{background-position:0 -1196px}.bdshare-button-style2-32 .bds_fbook{background-position:0 -1352px}.bdshare-button-style2-32 .bds_twi{background-position:0 -1404px}.bdshare-button-style2-32 .bds_linkedin{background-position:0 -1664px}.bdshare-button-style2-32 .bds_meilishuo{background-position:0 -1716px}.bdshare-button-style2-32 .bds_mogujie{background-position:0 -1768px}.bdshare-button-style2-32 .bds_diandian{background-position:0 -1820px}.bdshare-button-style2-32 .bds_huaban{background-position:0 -1872px}.bdshare-button-style2-32 .bds_duitang{background-position:0 -2028px}.bdshare-button-style2-32 .bds_youdao{background-position:0 -2080px}.bdshare-button-style2-32 .bds_wealink{background-position:0 -2184px}.bdshare-button-style2-32 .bds_copy{background-position:0 -2288px}.bdshare-button-style2-32 .bds_mail{background-position:0 -2340px}.bdshare-button-style2-32 .bds_print{background-position:0 -2392px}.bdshare-button-style2-32 .bds_mshare{background-position:0 -2444px}.bdshare-button-style2-32 .bds_sqq{background-position:0 -2652px}.bdshare-button-style2-32 .bds_sdo{background-position:0 -2704px}.bdshare-button-style2-32 .bds_qingbiji{background-position:0 -2756px}.bdshare-button-style2-32 .bds_people{background-position:0 -2808px}.bdshare-button-style2-32 .bds_xinhua{background-position:0 -2912px}.bdshare-button-style2-32 .bds_yaolan{background-position:0 -2964px}.bdshare-button-style2-32 .bds_thx{background-position:0 -2496px}.bdshare-button-style2-32 .bds_bdhome{background-position:0 -156px}.bdshare-button-style2-32 .bds_bdxc{background-position:0 -2548px}.bdshare-button-style2-32 .bds_bdysc{background-position:0 -3068px}.bdshare-button-style2-32 .bds_isohu{background-position:0 -3016px}.bdshare-button-style2-32 .bds_ibaidu{background-position:0 -3120px}.bdshare-button-style2-32 .bds_weixin{background-position:0 -1612px}.bdshare-button-style2-32 .bds_iguba{background-position:0 -1300px}.bdshare-button-style2-32 .h163{background-position:0 -3176px}.bdshare-button-style2-32 .bds_evernotecn{background-position:0 -3229px}.bdshare-button-style2-32{zoom:1}.bdshare-button-style2-32:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}.bdshare-button-style2-32 a{float:left;width:32px;line-height:32px;height:32px;background-image:url(../img/share/icons_2_32.png?v=1bc5c881.png);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0;text-indent:-100em;overflow:hidden;color:#999}.bdshare-button-style2-32 a:hover{color:#333;opacity:.8;filter:alpha(opacity=80)}.bdshare-button-style2-32 .bds_more{color:#333}.bdshare-button-style2-32 .bds_count{color:#333;background:url(../img/share/sc.png?v=a970ff04.png) 0 -60px no-repeat;width:48px;height:32px;line-height:32px;padding:0;text-align:center;text-indent:0}.bdshare-button-style2-32 .bds_count:hover{background-position:-48px -60px}.bds_baidu,.bds_deli,.bds_ff,.bds_ifeng,.bds_leho,.bds_ms,.bds_msn,.bds_qq,.bds_qy,.bds_s139,.bds_s51,.bds_share189,.bds_sohu,.bds_t163,.bds_tfh,.bds_tsohu,.bds_tuita,.bds_xg{display:none}"},{"title":"","date":"2019-11-27T15:22:16.704Z","updated":"2019-11-27T15:22:16.704Z","comments":true,"path":"public/static/api/css/share_style4.css","permalink":"http://ltyeamin.github.io/public/static/api/css/share_style4.css","excerpt":"","text":".bds_qzone{background-position:0 -52px}.bds_tsina{background-position:0 -104px}.bds_renren{background-position:0 -208px}.bds_tqq{background-position:0 -260px}.bds_kaixin001{background-position:0 -312px}.bds_tqf{background-position:0 -364px}.bds_hi{background-position:0 -416px}.bds_douban{background-position:0 -468px}.bds_tieba{background-position:0 -728px}.bds_hx{background-position:0 -988px}.bds_fx{background-position:0 -1040px}.bds_ty{background-position:0 -1196px}.bds_fbook{background-position:0 -1352px}.bds_twi{background-position:0 -1404px}.bds_zx{background-position:0 -1612px}.bds_linkedin{background-position:0 -1664px}.bds_meilishuo{background-position:0 -1716px}.bds_mogujie{background-position:0 -1768px}.bds_diandian{background-position:0 -1820px}.bds_huaban{background-position:0 -1872px}.bds_duitang{background-position:0 -2028px}.bds_youdao{background-position:0 -2080px}.bds_wealink{background-position:0 -2184px}.bds_copy{background-position:0 -2287px}.bds_mail{background-position:0 -2339px}.bds_print{background-position:0 -2391px}.bds_mshare{background-position:0 -2443px}.bds_sqq{background-position:0 -2651px}.bds_sdo{background-position:0 -2703px}.bds_qingbiji{background-position:0 -2755px}.bds_people{background-position:0 -2807px}.bds_xinhua{background-position:0 -2911px}.bds_yaolan{background-position:0 -2963px}.bds_thx{background-position:0 -2495px}.bds_bdhome{background-position:0 -156px}.bds_bdxc{background-position:0 -2547px}.bds_h163{background-position:0 -2469px}.bdshare-button-style4{zoom:1;padding:5px 0}.bdshare-button-style4:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}.bdshare-button-style4 a{float:left;font-size:12px;padding-left:17px;line-height:16px;height:16px;background-image:url(../img/share/icons_4.png?v=eec1b34e.png);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 0 0;color:#3a8ceb}.bdshare-button-style4 .bds_more,.bdshare-button-style4 a:hover{color:#333}.bdshare-button-style4 .bds_count{color:#333;background:url(../img/share/sc.png?v=a970ff04.png) 0 -30px no-repeat;width:42px;height:16px;padding:0;text-align:center}.bdshare-button-style4 .bds_count:hover{background-position:-42px -30px}.bds_baidu,.bds_deli,.bds_ff,.bds_ifeng,.bds_leho,.bds_ms,.bds_msn,.bds_qq,.bds_qy,.bds_s139,.bds_s51,.bds_share189,.bds_sohu,.bds_t163,.bds_tfh,.bds_tsohu,.bds_tuita,.bds_xg{display:none}"},{"title":"","date":"2019-11-27T15:22:16.704Z","updated":"2019-11-27T15:22:16.704Z","comments":true,"path":"public/static/api/css/slide_share.css","permalink":"http://ltyeamin.github.io/public/static/api/css/slide_share.css","excerpt":"","text":".bdshare-slide-button-box{height:326px;position:fixed;overflow:visible}.bdshare-slide-button-box .bdshare-slide-button{width:24px;height:88px;display:block;position:absolute;top:58px}.bdshare-slide-style-r0 .bdshare-slide-button{background:url(../img/share/r0.gif?v=d9371706.gif) no-repeat}.bdshare-slide-style-r1 .bdshare-slide-button{background:url(../img/share/r1.gif?v=5668db67.gif) no-repeat}.bdshare-slide-style-r2 .bdshare-slide-button{background:url(../img/share/r2.gif?v=08b06973.gif) no-repeat}.bdshare-slide-style-r3 .bdshare-slide-button{background:url(../img/share/r3.gif?v=76e62e61.gif) no-repeat}.bdshare-slide-style-r4 .bdshare-slide-button{background:url(../img/share/r4.gif?v=1a3eaae1.gif) no-repeat}.bdshare-slide-style-r5 .bdshare-slide-button{background:url(../img/share/r5.gif?v=c90e5a12.gif) no-repeat}.bdshare-slide-style-r6 .bdshare-slide-button{background:url(../img/share/r6.gif?v=8af9306f.gif) no-repeat}.bdshare-slide-style-r7 .bdshare-slide-button{background:url(../img/share/r7.gif?v=053cdaac.gif) no-repeat}.bdshare-slide-style-r8 .bdshare-slide-button{background:url(../img/share/r8.gif?v=640a093b.gif) no-repeat}.bdshare-slide-style-l0 .bdshare-slide-button{background:url(../img/share/l0.gif?v=4e666e56.gif) no-repeat}.bdshare-slide-style-l1 .bdshare-slide-button{background:url(../img/share/l1.gif?v=3ffb4640.gif) no-repeat}.bdshare-slide-style-l2 .bdshare-slide-button{background:url(../img/share/l2.gif?v=47242a70.gif) no-repeat}.bdshare-slide-style-l3 .bdshare-slide-button{background:url(../img/share/l3.gif?v=78e2d043.gif) no-repeat}.bdshare-slide-style-l4 .bdshare-slide-button{background:url(../img/share/l4.gif?v=4afa38d2.gif) no-repeat}.bdshare-slide-style-l5 .bdshare-slide-button{background:url(../img/share/l5.gif?v=5e170970.gif) no-repeat}.bdshare-slide-style-l6 .bdshare-slide-button{background:url(../img/share/l6.gif?v=8759da8b.gif) no-repeat}.bdshare-slide-style-l7 .bdshare-slide-button{background:url(../img/share/l7.gif?v=df4c2738.gif) no-repeat}.bdshare-slide-style-l8 .bdshare-slide-button{background:url(../img/share/l8.gif?v=31ac73d4.gif) no-repeat}.bdshare-slide-list-box{border:1px solid #e9e9e9;text-align:left;overflow:hidden;background:#f6f6f6}.bdshare-slide-top{height:28px;color:#626262;overflow:hidden;font-weight:700;font-size:14px;line-height:28px;padding:0 5px}.bdshare-slide-list{padding:5px 0;margin:0;background:#fff;overflow:auto;overflow-x:hidden}.bdshare-slide-list-ul{padding:0;margin:0;border:0;list-style:none}.bdshare-slide-bottom{line-height:25px;font-size:12px;text-align:right;clear:both;height:30px}.bdshare-slide-bottom a{float:right}.bdshare-slide-bottom a:hover{color:#00a9e0}.bdshare-slide-list li{float:left;padding:2px;margin-left:6px;height:28px;overflow:hidden;list-style:none;width:100px}.bdshare-slide-bottom a,.bdshare-slide-list a{color:#565656;font:12px 'Ã¥Â®Â‹Ã¤Â½Â“';display:block;background-image:url(../img/share/icons_0_16.png?v=91362611.png);background-repeat:no-repeat;padding:5px 0 5px 28px;text-decoration:none;border:1px solid #fff;line-height:18px}.bdshare-slide-list a:hover{background-color:#f3f3f3;border:1px solid #eee;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box}.slide-qzone{background-position:4px -47px}.slide-tsina{background-position:4px -99px}.slide-renren{background-position:4px -203px}.slide-tqq{background-position:4px -255px}.slide-kaixin001{background-position:4px -307px}.slide-tqf{background-position:4px -359px}.slide-hi{background-position:4px -411px}.slide-douban{background-position:4px -463px}.slide-tieba{background-position:4px -723px}.slide-hx{background-position:4px -983px}.slide-fx{background-position:4px -1035px}.slide-ty{background-position:4px -1191px}.slide-fbook{background-position:4px -1347px}.slide-twi{background-position:4px -1399px}.slide-zx{background-position:4px -1607px}.slide-linkedin{background-position:4px -1659px}.slide-meilishuo{background-position:4px -1711px}.slide-mogujie{background-position:4px -1763px}.slide-diandian{background-position:4px -1815px}.slide-huaban{background-position:4px -1867px}.slide-duitang{background-position:4px -2023px}.slide-youdao{background-position:4px -2075px}.slide-wealink{background-position:4px -2179px}.slide-copy{background-position:4px -2283px}.slide-mail{background-position:4px -2335px}.slide-print{background-position:4px -2387px}.slide-mshare{background-position:4px -2439px}.slide-sqq{background-position:4px -2647px}.slide-sdo{background-position:4px -2699px}.slide-qingbiji{background-position:4px -2751px}.slide-people{background-position:4px -2803px}.slide-xinhua{background-position:4px -2907px}.slide-yaolan{background-position:4px -2959px}.slide-thx{background-position:4px -2491px}.slide-bdhome{background-position:4px -151px}.slide-bdxc{background-position:4px -2543px}.slide-bdysc{background-position:4px -3063px}.slide-isohu{background-position:4px -3011px}.slide-more{background-position:4px 5px}.slide-ibaidu{background-position:4px -3115px}.slide-weixin{background-position:4px -1607px}.slide-iguba{background-position:4px -1295px}.slide-evernotecn{background-position:4px -3179px}.bdshare-slide-bottom .slide-more{border:none;margin-right:10px}.slide-baidu,.slide-deli,.slide-ff,.slide-ifeng,.slide-leho,.slide-ms,.slide-msn,.slide-qq,.slide-qy,.slide-s139,.slide-s51,.slide-share189,.slide-sohu,.slide-t163,.slide-tfh,.slide-tsohu,.slide-tuita,.slide-xg{display:none}"},{"title":"","date":"2019-11-27T15:22:16.704Z","updated":"2019-11-27T15:22:16.704Z","comments":true,"path":"public/static/api/css/weixin_popup.css","permalink":"http://ltyeamin.github.io/public/static/api/css/weixin_popup.css","excerpt":"","text":".bd_weixin_popup,.bd_weixin_popup_bg{position:absolute;left:-400px;top:-400px}.bd_weixin_popup_bg{width:260px;height:320px;border:0;padding:0;margin:0;opacity:0;filter:alpha(opacity=0);z-index:11000}.bd_weixin_popup{padding:10px;width:280px!important;height:340px!important;background:#fff;border:1px solid #d8d8d8;z-index:11001;font-size:12px}.bd_weixin_popup .bd_weixin_popup_head{font-size:12px;font-weight:700;text-align:left;line-height:16px;height:16px;position:relative;color:#000}.bd_weixin_popup .bd_weixin_popup_head .bd_weixin_popup_close{width:16px;height:16px;position:absolute;right:0;top:0;color:#999;text-decoration:none;font-size:16px}.bd_weixin_popup .bd_weixin_popup_head .bd_weixin_popup_close:hover{text-decoration:none}.bd_weixin_popup .bd_weixin_popup_main{padding:15px 10px;min-height:150px}.bd_weixin_popup .bd_weixin_popup_foot{font-size:12px;text-align:left;line-height:22px;color:#666}"},{"title":"","date":"2019-11-27T15:22:15.574Z","updated":"2019-11-27T15:22:15.574Z","comments":true,"path":"public/archives/index.html","permalink":"http://ltyeamin.github.io/public/archives/index.html","excerpt":"","text":"å½’æ¡£ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ 2017 1512æœˆ ES6æ–°çš„æ•°æ®ç±»åž‹-generator 1512æœˆ ç®­å¤´å‡½æ•° 1312æœˆ é—­åŒ… 1312æœˆ é«˜é˜¶å‡½æ•° 1312æœˆ JSæ–¹æ³• 1312æœˆ å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ 0412æœˆ JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.811Z","updated":"2019-11-27T15:22:15.811Z","comments":true,"path":"public/archives/2018/index.html","permalink":"http://ltyeamin.github.io/public/archives/2018/index.html","excerpt":"","text":"å½’æ¡£ï¼š2018 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.814Z","updated":"2019-11-27T15:22:15.814Z","comments":true,"path":"public/categories/backend/index.html","permalink":"http://ltyeamin.github.io/public/categories/backend/index.html","excerpt":"","text":"åˆ†ç±»: backend | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ backend Zookeeperé›†ç¾¤æ­å»º &bull; 2019å¹´11æœˆ27æ—¥ 1. å‡†å¤‡å·¥ä½œ å®‰è£…JDK Zookeeperå®‰è£…åŒ…ä¸‹è½½ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©3.5.6è¿›è¡Œä¸‹è½½ å‡†å¤‡ä¸‰å°æœºå™¨ï¼Œåˆ†åˆ«æ˜¯192.168.5.1,192.168.5.100,192.168.5.101 å°†zookeeperçš„å®‰è£…åŒ…ä¸Šä¼ åˆ°è¿™ä¸‰å°æœºå™¨ç›¸åŒçš„ç›®å½•ä¸Š(æ–¹ä¾¿ç®¡ç†) 2. å¼€å§‹æ­å»º1ï¼‰é…ç½®é›†ç¾¤ åœ¨... RocketMQé›†ç¾¤æ­å»º &bull; 2019å¹´11æœˆ09æ—¥ 1. RocketMQå¿«é€Ÿå…¥é—¨RocketMQæ˜¯é˜¿é‡Œå·´å·´2016å¹´MQä¸­é—´ä»¶ï¼Œä½¿ç”¨Javaè¯­è¨€å¼€å‘ï¼Œåœ¨é˜¿é‡Œå†…éƒ¨ï¼ŒRocketMQæ‰¿æŽ¥äº†ä¾‹å¦‚â€œåŒ11â€ç­‰é«˜å¹¶å‘åœºæ™¯çš„æ¶ˆæ¯æµè½¬ï¼Œèƒ½å¤Ÿå¤„ç†ä¸‡äº¿çº§åˆ«çš„æ¶ˆæ¯ã€‚ 1.1 å‡†å¤‡å·¥ä½œ1.1.1 ä¸‹è½½RocketMQRocketMQæœ€æ–°ç‰ˆæœ¬ï¼š4.5.2 Relea... RocketMQæ¦‚è¿° &bull; 2019å¹´11æœˆ08æ—¥ 1. MQä»‹ç»1.1 ä¸ºä»€ä¹ˆè¦ç”¨MQæ¶ˆæ¯é˜Ÿåˆ—æ˜¯ä¸€ç§â€œå…ˆè¿›å…ˆå‡ºâ€çš„æ•°æ®ç»“æž„ å…¶åº”ç”¨åœºæ™¯ä¸»è¦åŒ…å«ä»¥ä¸‹3ä¸ªæ–¹é¢ åº”ç”¨è§£è€¦ ç³»ç»Ÿçš„è€¦åˆæ€§è¶Šé«˜ï¼Œå®¹é”™æ€§å°±è¶Šä½Žã€‚ä»¥ç”µå•†åº”ç”¨ä¸ºä¾‹ï¼Œç”¨æˆ·åˆ›å»ºè®¢å•åŽï¼Œå¦‚æžœè€¦åˆè°ƒç”¨åº“å­˜ç³»ç»Ÿã€ç‰©æµç³»ç»Ÿã€æ”¯ä»˜ç³»ç»Ÿï¼Œä»»ä½•ä¸€ä¸ªå­ç³»ç»Ÿå‡ºäº†æ•…éšœæˆ–è€…å› ä¸ºå‡çº§ç­‰åŽŸå› æš‚æ—¶ä¸å¯ç”¨ï¼Œéƒ½ä¼šé€ æˆä¸‹å•æ“... ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® &bull; 2019å¹´10æœˆ12æ—¥ çˆ¬è™«åˆ†æžçˆ¬è™«éœ€æ±‚æè¿°: çˆ¬å–çŒ«çœ¼ç”µå½±TOP100çš„ç”µå½±åç§°ã€æ—¶é—´ã€è¯„åˆ†ã€æµ·æŠ¥å›¾ç‰‡ç­‰ä¿¡æ¯ ç«™ç‚¹: https://maoyan.com/board/4 åˆ†æž: æ‰“å¼€ç«™ç‚¹å³æ˜¯çŒ«çœ¼ç”µå½±TOP100çš„ç¬¬ä¸€é¡µ,ç‚¹å‡»ä¸‹ä¸€é¡µï¼Œæˆ‘ä»¬è§‚å¯Ÿåœ°å€æ URLåŽè¾¹è¿½åŠ äº†?offset=10çš„å‚æ•°ï¼Œæ˜¾ç„¶offsetå‚æ•°ä»£... è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ &bull; 2019å¹´06æœˆ04æ—¥ é—®é¢˜æè¿°ä»Šå¤©æ‰“å¼€IDEAåŠ è½½é¡¹ç›®æ—¶ï¼Œå‘çŽ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„é—®é¢˜ï¼šé¡¹ç›®ä¾èµ–åŠä»£ç æ²¡ä»»ä½•é—®é¢˜ï¼ŒMavenä¾èµ–æ£€æµ‹çº¢è‰²æ³¢æµªçº¿ä¾æ—§å­˜åœ¨ã€‚è™½è¯´é¡¹ç›®ä¾æ—§èƒ½è·‘èµ·æ¥ä¸å½±å“å¼€å‘ï¼Œä½†æ˜¯mavenå‘½ä»¤æ“ä½œç”¨ä¸äº†ã€‚ é‡åˆ°é—®é¢˜åŽï¼Œæˆ‘å¤§åƒä¸€æƒŠã€‚æ˜¨å¤©çœ‹é¡¹ç›®è¿˜å¥½å¥½çš„ï¼Œä»Šå¤©å°±æŠ¥å‡ºæŸä¸ªé¡¹ç›®ä¸€ä¸ªä¾èµ–åŒ…æ‰¾ä¸åˆ°ã€‚å¯å®žé™…ä¸Šã€‚è¯¥ä¾èµ–åŒ…åœ¨æœ¬åœ°åº“æ˜¯... Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ &bull; 2019å¹´05æœˆ28æ—¥ é—®é¢˜æè¿°ä»Šå¤©å‘çŽ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„äº‹æƒ…ï¼Œå°±æ˜¯æœ¬åœ°å†™æ­»çš„FeignClientçš„urlå±žæ€§é…ç½®è¿›è¡Œfeignè°ƒç”¨æ²¡é—®é¢˜ï¼Œä½†æ˜¯æŠŠé…ç½®è¿ç§»åˆ°Ctrip Apolloé…ç½®ä¸­å¿ƒfeignè°ƒç”¨å°±æœ‰é—®é¢˜ã€‚ ä»£ç ç‰‡æ®µ123456789101112131415@FeignClient(url = &#34;$&amp;#123;ap... èŠèŠJavaé”çš„é‚£äº›äº‹ &bull; 2019å¹´04æœˆ02æ—¥ æ˜¨å¤©æˆ‘ä»¬å­¦ä¹ äº†HashMapç›¸å…³çš„æºç ï¼Œæœ¬æ¥æ‰“ç®—ä»Šå¤©å†™ConcurrentHashMapæºç åˆ†æžï¼Œä½†æ˜¯ConcurrentHashMapæ¶‰åŠåˆ°ä¸€äº›é”çš„æ¦‚å¿µï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¶Šæ˜¯åº•å±‚çš„ä¸œè¥¿ï¼Œè¶Šæ˜¯è¦å¥½å¥½ç ”ç©¶ä¸€ç•ªï¼Œä»Šå¤©è¶æ­¤æœºä¼šå¥½å¥½çš„ç³»ç»Ÿå­¦ä¹ ä¸€ä¸‹ã€‚ é‚£ä¹ˆä»Šå¤©å°±æ¥èŠèŠJavaé”çš„é‚£äº›äº‹æƒ…ã€‚Javaä¸ºæˆ‘ä»¬æä¾›äº†... æ·±å…¥åˆ†æžHashMapæºç  &bull; 2019å¹´04æœˆ01æ—¥ Mapè¿™ç§Key-Valueæ ¼å¼çš„æ•°æ®ç»“æž„åœ¨æ—¥å¸¸å¼€å‘ä¸­æ˜¯éžå¸¸çš„å¸¸è§ï¼Œå¤§éƒ¨åˆ†çš„é«˜çº§ç¼–ç¨‹è¯­è¨€éƒ½æœ‰Mapç±»åž‹ï¼ŒMapç±»åž‹å¸¸ç”¨äºŽåœ¨å†…å­˜ä¸­å­˜å–æ•°æ®ã€‚ åœ¨Javaä¸­ï¼ŒHashMapæ˜¯Javaç¨‹åºå‘˜ä½¿ç”¨é¢‘çŽ‡æœ€é«˜çš„ç”¨äºŽæ˜ å°„(é”®å€¼å¯¹)å¤„ç†çš„æ•°æ®ç±»åž‹ã€‚éšç€JDKï¼ˆJava Developmet Kitï¼‰ç‰ˆæœ¬çš„æ›´æ–°... GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° &bull; 2019å¹´01æœˆ05æ—¥ è°ƒæ•´å †å¤§å°GCè°ƒæ•´çš„ç¬¬ä¸€å ‚è¯¾æ˜¯è°ƒæ•´åº”ç”¨ç¨‹åºå †çš„å¤§å°ã€‚å…³äºŽå †å¤§å°çš„è°ƒæ•´è¿˜æœ‰æ›´é«˜çº§çš„è¯é¢˜ï¼Œä¸è¿‡ä½œä¸ºç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬é¦–å…ˆè®¨è®ºå¦‚ä½•è®¾ç½®æ€»ä½“å †çš„å¤§å°ã€‚ ä¸Žå…¶ä»–çš„æ€§èƒ½é—®é¢˜ä¸€æ ·ï¼Œé€‰æ‹©å †çš„å¤§å°å…¶å®žæ˜¯ä¸€ç§å¹³è¡¡ã€‚å¦‚æžœåˆ†é…çš„å †è¿‡äºŽå°ï¼Œç¨‹åºçš„å¤§éƒ¨åˆ†æ—¶é—´å¯èƒ½éƒ½æ¶ˆè€—åœ¨GCä¸Šï¼Œæ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´åŽ»è¿è¡Œåº”ç”¨ç¨‹åºçš„é€»è¾‘ã€‚ä½†æ˜¯ï¼Œç®€å•ç²—æš´... RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ &bull; 2018å¹´06æœˆ12æ—¥ ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ï¼Œåœ¨å­¦ä¹‹å‰æˆ‘ä»¬æ ¹æ®å®˜æ–¹æ–‡æ¡£(çº¯è‹±æ–‡æ–‡æ¡£ï¼Œå¯ä»¥è£…ä¸ªChromeæ’ä»¶é€‰ä¸­ç¿»è¯‘)å­¦ä¹ ä¸€ä¸‹RabbitMQçš„ä¸€äº›æœ¯è¯­ï¼Œè¿™æ‰èƒ½è®©æˆ‘ä»¬æ›´æ·±å…¥çš„äº†è§£ã€‚ å‡†å¤‡æ¡ä»¶æœ¬æ•™ç¨‹å‡å®šRabbitMQå·²åœ¨æ ‡å‡†ç«¯å£ï¼ˆ5672ï¼‰ä¸Šçš„localhostä¸Šå®‰è£…å¹¶è¿è¡Œã€‚å¦‚æžœæ‚¨ä½¿ç”¨... 123 æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.797Z","updated":"2019-11-27T15:22:15.797Z","comments":true,"path":"public/categories/ops/index.html","permalink":"http://ltyeamin.github.io/public/categories/ops/index.html","excerpt":"","text":"åˆ†ç±»: ops | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ ops LinuxåŸºç¡€-SSHå…å¯†ç™»å½• &bull; 2019å¹´11æœˆ23æ—¥ Linux SSHç™»å½•ç”±ä¸¤ç§æ–¹å¼: è´¦æˆ·å¯†ç ç™»å½• å¯†é’¥ç™»å½• æˆ‘æœ‰ä¸¤å°ä¸»æœºï¼Œipåˆ†åˆ«ä¸º192.168.5.1å’Œ192.168.5.100ï¼Œæˆ‘è¦ä»Žå‰è€…è¿œç¨‹ç™»å½•åˆ°åŽè€…ä¸»æœºä¸Šï¼Œä¸‹é¢æˆ‘åˆ†åˆ«æ¥æ¼”ç¤ºä¸€ä¸‹ä¸¤ç§æ–¹å¼: è´¦å·å¯†ç ç™»å½•1ssh root@192.168.5.100 æ³¨æ„ï¼š é»˜è®¤ç«¯å£å·æ˜¯22,... ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ &bull; 2019å¹´11æœˆ02æ—¥ å‰è¨€çŽ°åœ¨åšå®¢çš„å›¾ç‰‡éƒ½æ”¾åœ¨ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ä¸Šé¢ï¼Œä¸ªäººç”¨æˆ·æœ‰å…è´¹10GBçš„å­˜å‚¨ç©ºé—´ã€‚ å› ä¸ºæ¯ä¸€ä¸ªçš„bucketç©ºé—´åˆ†é…ä¸€ä¸ªä¸ƒç‰›äº‘çš„ç©ºé—´åŸŸåï¼Œå¦‚ä¸‹ç¤ºä¾‹ï¼š S3 åŸŸå Endpoint(åŒºåŸŸèŠ‚ç‚¹)ï¼š s3-cn-east-1.qiniucs.com ç©ºé—´åŸŸåï¼š 20191119.s3-cn-east-... è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools &bull; 2019å¹´10æœˆ12æ—¥ ä¹‹å‰ä¹ æƒ¯äº†Mac Pro çš„Spotlightæ¨¡å¼è¿›è¡Œæ£€ç´¢åº”ç”¨å’Œæ–‡ä»¶ï¼Œåœ¨å‰æ®µæ—¥å­ä¸­ï¼Œæˆ‘æˆåŠŸçš„æ‰¾åˆ°äº†ä¸€æ¬¾Windowsä¸Šç±»ä¼¼çš„è½¯ä»¶Everything+Woxï¼Œä»åœ¨ä½¿ç”¨Windowsçš„æœ‹å‹æœ‰å…´è¶£å¯ä»¥çœ‹æˆ‘é˜…è¯»è¿™è¾¹æ–‡ç« è¿›è¡Œæ“ä½œä½“éªŒã€‚ è¨€å½’æ­£ä¼ ï¼Œæˆ‘åœ¨å®¶ä½¿ç”¨çš„ç”µè„‘ç³»ç»Ÿæ˜¯Deepin Linux,æ›¾ç»ä¹Ÿæƒ³... Nginxè®¾ç½®é»‘ç™½åå• &bull; 2019å¹´09æœˆ02æ—¥ åœ¨æ—¥å¸¸è¿ç»´å·¥ä½œä¸­ï¼Œä¼šç¢°åˆ°è¿™æ ·çš„éœ€æ±‚ï¼Œå¯¹äºŽä¸€äº›httpè¯·æ±‚åªå¯¹æŸäº›ipå¼€å‘ï¼Œå…¶ä»–çš„ipçš„å®¢æˆ·ç«¯éƒ½ä¸èƒ½è®¿é—®ã€‚ åœ¨æµ‹è¯•ä¹‹å‰æˆ‘åˆ—ä¸€ä¸‹æœ¬æ¬¡æµ‹è¯•çš„ç»ˆç«¯IPã€‚ å®¿ä¸»æœºDeepin Linux ï¼š 192.168.1.106 è™šæ‹ŸæœºWindows 10 : 192.168.1.107 ç§»åŠ¨Androidç»ˆ... Deepin Linuxå®‰è£…Docker &bull; 2019å¹´09æœˆ01æ—¥ æ™®é€šå®‰è£…ä¸€èˆ¬çš„Linux(Debianã€Unbantu)å‘è¡Œç‰ˆå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š 1wget -qO- https://get.docker.com/ | sh ä½†æ˜¯åœ¨Deepinæ‰§è¡Œè¿™å‘½ä»¤ä¼šå®‰è£…å¤±è´¥ã€‚ æŸ¥é˜…èµ„æ–™å¯ä»¥æ‰¾åˆ°dockeræ”¯æŒçš„Linuxå‘è¡Œç‰ˆã€‚ 12345678910111... ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ &bull; 2019å¹´08æœˆ11æ—¥ ä»Šå¤©åœ¨å®¶ä¸‹è½½ä¸€ä¸ªåˆ«äººç»™æˆ‘çš„ç™¾åº¦ç½‘ç›˜èµ„æ–™ï¼Œèµ„æ–™å¤§å°å·®ä¸å¤š2ä¸ªG,ä½†æ˜¯æ‰“å¼€æµè§ˆå™¨å‘çŽ°æœ‰ä¸€ä»¶æ˜¯éžå¸¸çƒ¦èºçš„äº‹æƒ…:å°æ–‡ä»¶å¯ä»¥ç›´æŽ¥åœ¨æµè§ˆå™¨ç«¯è¿›è¡Œä¸‹è½½,ä½†æ˜¯å¤§æ–‡ä»¶å¿…é¡»ä¸‹è½½ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯è¿›è¡Œä¸‹è½½. æ²¡åŠžæ³•,æˆ‘åªå¥½åŽ»åº”ç”¨å•†åº—åŽ»ä¸‹è½½ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯,åœ¨æ·±åº¦åº”ç”¨å•†åº—è¿˜å¥½æ‰¾åˆ°äº†ç™¾åº¦ç½‘ç›˜çš„å®¢æˆ·ç«¯(å›½äº§Deepinç³»ç»Ÿç¬¬ä¸‰... SambaæœåŠ¡å™¨æ­å»º &bull; 2019å¹´06æœˆ08æ—¥ Windowsæœç´¢åˆ©å™¨ &bull; 2019å¹´06æœˆ03æ—¥ å‰å‡ å‘¨å¿™äºŽæ¢å·¥ä½œï¼Œåšå®¢æ²¡æœ‰å¤ªå¤šçš„æ›´æ–°ã€‚ä»Šå¤©åˆšå¥½å…¥èŒæ–°å…¬å¸çš„ç¬¬ä¸€å¤©ï¼ŒåŠžå…¬ç”µè„‘æ˜¯å°å¼DELL+Intel i5ä¸ƒä»£(å››æ ¸å››çº¿ç¨‹ï¼Œä¸»é¢‘3.1HZï¼Œç¿é¢‘3.6HZ)+8G DDR4ã€‚ç¬”è€…å‰å…¬å¸åŠžå…¬çŽ¯å¢ƒæ˜¯Mac Pro + Mac OS X 10ï¼Œå®¶é‡Œæ—¥å¸¸çŽ¯å¢ƒæ˜¯è”æƒ³Lenovo+Deepin Linux... è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get &bull; 2019å¹´03æœˆ27æ—¥ æˆ‘ä»¬æ—¥å¸¸ä¸Šç½‘è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å°†ç½‘é¡µä¸­çš„è§†é¢‘èµ„æºæå–ä¸‹è½½å‡ºæ¥ï¼Œä¸€èˆ¬å¦‚æžœç½‘ç«™æ²¡æœ‰å±è”½è§†é¢‘åœ°å€ä¸”ç”¨çš„æ˜¯éžFlashæ’­æ”¾å™¨(çŽ°æµè¡ŒHTML5æ’­æ”¾å™¨),æˆ‘ä»¬å¯ä»¥åœ¨è§†é¢‘æ’­æ”¾å™¨å³é”®ç›´æŽ¥ä¸‹è½½è§†é¢‘èµ„æºï¼Œä½†æ˜¯å›½å†…ç½‘ç«™è¿è¥å•†ä¸ºäº†ä¿æŠ¤ç‰ˆæƒï¼Œä¼šå°†çœŸæ­£çš„èµ„æºåœ°å€å±è”½èµ·æ¥ï¼Œæˆ‘ä»¬æ— æ³•æ‰¾åˆ°çœŸå®žåœ°å€å¹¶è¿›è¡Œä¸‹è½½ã€‚å› æ­¤å‡ºçŽ°äº†å¥½å¤šç¬¬ä¸‰... å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ &bull; 2018å¹´06æœˆ18æ—¥ åœ¨å¹³å¸¸ç”Ÿæ´»æˆ–å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¼ è¾“æ–‡ä»¶ï¼Œæ¯”å¦‚å°†ç”µè„‘ä¸Šä¸‹è½½çš„Appä¼ é€åˆ°æ‰‹æœºæˆ–å¦ä¸€å°PCä¸Šã€åŒäº‹ä¹‹é—´ä¼ è¾“ä¸€äº›å¤§åž‹çš„æ–‡ä»¶ã€‚å½“æˆ‘ä»¬é‡åˆ°æ­¤ç±»é—®é¢˜æ—¶ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ä½¿ç”¨QQæˆ–è€…å¾®ä¿¡ï¼Œæ›´æ·±ä¸€å±‚ï¼ŒåŽ»ç½‘ä¸Šæœç´¢ä¸€äº›æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œå¦‚Send Anywhereï¼ŒLZå½“æ—¶åœ¨å¤§å­¦æ—¶å€™ç»å¸¸ä½¿ç”¨çš„æ˜¯FTPã€SambaæœåŠ¡... 12 æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.805Z","updated":"2019-11-27T15:22:15.805Z","comments":true,"path":"public/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/index.html","permalink":"http://ltyeamin.github.io/public/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/index.html","excerpt":"","text":"æ ‡ç­¾: JVMåŠå¹¶å‘ç¼–ç¨‹ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ JVMåŠå¹¶å‘ç¼–ç¨‹ èŠèŠJavaé”çš„é‚£äº›äº‹ &bull; 2019å¹´04æœˆ02æ—¥ æ˜¨å¤©æˆ‘ä»¬å­¦ä¹ äº†HashMapç›¸å…³çš„æºç ï¼Œæœ¬æ¥æ‰“ç®—ä»Šå¤©å†™ConcurrentHashMapæºç åˆ†æžï¼Œä½†æ˜¯ConcurrentHashMapæ¶‰åŠåˆ°ä¸€äº›é”çš„æ¦‚å¿µï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¶Šæ˜¯åº•å±‚çš„ä¸œè¥¿ï¼Œè¶Šæ˜¯è¦å¥½å¥½ç ”ç©¶ä¸€ç•ªï¼Œä»Šå¤©è¶æ­¤æœºä¼šå¥½å¥½çš„ç³»ç»Ÿå­¦ä¹ ä¸€ä¸‹ã€‚ é‚£ä¹ˆä»Šå¤©å°±æ¥èŠèŠJavaé”çš„é‚£äº›äº‹æƒ…ã€‚Javaä¸ºæˆ‘ä»¬æä¾›äº†... GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° &bull; 2019å¹´01æœˆ05æ—¥ è°ƒæ•´å †å¤§å°GCè°ƒæ•´çš„ç¬¬ä¸€å ‚è¯¾æ˜¯è°ƒæ•´åº”ç”¨ç¨‹åºå †çš„å¤§å°ã€‚å…³äºŽå †å¤§å°çš„è°ƒæ•´è¿˜æœ‰æ›´é«˜çº§çš„è¯é¢˜ï¼Œä¸è¿‡ä½œä¸ºç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬é¦–å…ˆè®¨è®ºå¦‚ä½•è®¾ç½®æ€»ä½“å †çš„å¤§å°ã€‚ ä¸Žå…¶ä»–çš„æ€§èƒ½é—®é¢˜ä¸€æ ·ï¼Œé€‰æ‹©å †çš„å¤§å°å…¶å®žæ˜¯ä¸€ç§å¹³è¡¡ã€‚å¦‚æžœåˆ†é…çš„å †è¿‡äºŽå°ï¼Œç¨‹åºçš„å¤§éƒ¨åˆ†æ—¶é—´å¯èƒ½éƒ½æ¶ˆè€—åœ¨GCä¸Šï¼Œæ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´åŽ»è¿è¡Œåº”ç”¨ç¨‹åºçš„é€»è¾‘ã€‚ä½†æ˜¯ï¼Œç®€å•ç²—æš´... ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ &bull; 2018å¹´06æœˆ10æ—¥ ä»Šå¤©æˆ‘ä»¬æ¥è®¤è¯†ä¸€ä¸‹ï¼Œçº¿ç¨‹æ± çš„é™æ€å·¥åŽ‚Executorsç±»ï¼Œå¹³æ—¶å†™æµ‹è¯•ä»£ç çš„æ—¶å€™å¯ç”¨ä¸€ç”¨ï¼Œç”Ÿäº§ä»£ç å°½é‡å°‘ç”¨ã€‚ä¸ºä»€ä¹ˆè¯´ç”Ÿäº§ä¸Šå°½é‡å°‘ç”¨å‘¢ï¼Ÿè¿™æ˜¯æœ‰åŽŸå› çš„ï¼Œè¯·è€å¿ƒå¬å½¤å“¥è®²è§£ã€‚ é˜¿é‡Œçš„ä»£ç è§„çº¦ä¸å»ºè®®ä½¿ç”¨è¿™æ ·çš„å·¥åŽ‚ç±»ï¼Œè€Œå»ºè®®ä½¿ç”¨æ‰‹åŠ¨åˆ›å»ºå¹¶ç®¡ç†ThreadPoolExecutorï¼Œåœ¨é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œä¸­... ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ &bull; 2018å¹´06æœˆ09æ—¥ ä¸ºäº†é«˜æ•ˆçš„ç®¡ç†çº¿ç¨‹ï¼ŒJDK1.5ç‰ˆæœ¬çš„Doug Leaå¤§ç¥žä¸ºæˆ‘ä»¬è®¾è®¡äº†å¤§åé¼Žé¼Žçš„ThreadPoolExecutorã€‚ ä½œä¸ºExecutoræ¡†æž¶ä¸­æœ€æ ¸å¿ƒçš„ç±»-ThreadPoolExecutorï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ªè°ƒåº¦å·¥å…·ï¼Œä¸ºäº†é«˜æ•ˆæ‰§è¡Œæˆ–è°ƒåº¦ä»»åŠ¡ï¼Œæˆ‘ä»¬éžå¸¸æœ‰å¿…è¦å¯¹è¯¥ç±»çš„å·¥ä½œåŽŸç†ä»¥åŠå†…éƒ¨æœºåˆ¶äº†... ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ &bull; 2018å¹´06æœˆ08æ—¥ çº¿ç¨‹æ± æ˜¯é™åˆ¶ç³»ç»Ÿä¸­æ‰§è¡Œçº¿ç¨‹çš„æ•°é‡ï¼Œå¹¶èƒ½å¤Ÿæ ¹æ®ä¸€å®šçš„ç­–ç•¥å›žæ”¶çº¿ç¨‹å¹¶é‡å¤ä½¿ç”¨ã€‚JDK1.5ä¹‹åŽåŠ å…¥äº†java.util.concurrentåŒ…ï¼Œæˆ‘ä»¬æ—¥å¸¸ç§°ä¹‹ä¸ºJ.U.Cå¹¶å‘åŒ…ï¼Œè¿™ä¸ªåŒ…å¯¹æˆ‘ä»¬æ—¥å¸¸è§£å†³å¹¶å‘æä¾›äº†éžå¸¸å¤§çš„å¸®åŠ©ã€‚ æ ¹æ®ç³»ç»Ÿçš„çŽ¯å¢ƒæƒ…å†µï¼Œå¯ä»¥è‡ªåŠ¨æˆ–æ‰‹åŠ¨è®¾ç½®çº¿ç¨‹æ•°é‡ï¼Œè¾¾åˆ°è¿è¡Œçš„æœ€ä½³æ•ˆæžœï¼›å°‘äº†æµªè´¹... ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ &bull; 2018å¹´06æœˆ03æ—¥ volatileè¿™ä¸ªå…³é”®å­—å¤§å®¶éƒ½å¬è¿‡ï¼Œçœ‹è¿‡è®¸å¤šæºç ä¹Ÿç”¨è¿‡ï¼Œè¿™ä¸ªå…³é”®å­—å¤‡å—äº‰è®®ï¼Œå¾ˆå¤šäººåŸºäºŽè¡¨é¢ç†è§£è€Œå¯¼è‡´åœ¨å®žé™…å¼€å‘è¿‡ç”Ÿä¸­å¤§è‚†è¯¯ç”¨ï¼Œæš´éœ²å‡ºå„å¼å„æ ·çš„é—®é¢˜ï¼Œè®©äººæ‘¸ä¸ç€å¤´è„‘ï¼Œä»Šå¤©æˆ‘ä»¬æ¥å¥½å¥½ç†è§£ä¸€ä¸‹volatileã€‚ ç™¾åº¦ç™¾ç§‘:volatileæ˜¯ä¸€ä¸ªç±»åž‹ä¿®é¥°ç¬¦.volatileçš„ä½œç”¨æ˜¯ä½œä¸ºæŒ‡ä»¤å…³é”®å­—ï¼Œ... ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ &bull; 2018å¹´06æœˆ01æ—¥ ç¡¬ä»¶çš„æ•ˆçŽ‡ä¸Žä¸€è‡´æ€§è®¡ç®—æœºå†…éƒ¨è¿ç®—æµç¨‹ è®¡ç®—æœºæ‰§è¡Œè‹¥å¹²ä¸ªè¿ç®—ä»»åŠ¡ï¼Œæ‰€æœ‰çš„è®¡ç®—ä»»åŠ¡ä¸å¯èƒ½ä»…ä»…é å¤„ç†å™¨â€œè®¡ç®—â€æ¥å®Œæˆï¼Œè®¡ç®—å™¨å­˜å‚¨è®¾å¤‡ä¸Žå¤„ç†å™¨çš„è¿ç®—é€Ÿåº¦æœ‰å‡ ä¸ªæ•°é‡çº§çš„å·®è·ï¼› è‡³å°‘è¦ä¸Žå†…å­˜è¿›è¡Œäº¤äº’ï¼Œå¦‚è¯»å–è¿ç®—æ•°æ®ã€å­˜å‚¨è¿ç®—ç»“æžœï¼Œä¸èƒ½ä»…ä»…é CPUå¯„å­˜å™¨æ¥å®Œæˆ éšç€è®¡ç®—æœºç¡¬ä»¶çš„å¿«é€Ÿå‘å±•ï¼Œä»»ä½•è®¾å¤‡çš„è¯»å†™é€Ÿåº¦è¦... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.804Z","updated":"2019-11-27T15:22:15.804Z","comments":true,"path":"public/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/index.html","permalink":"http://ltyeamin.github.io/public/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/index.html","excerpt":"","text":"æ ‡ç­¾: å®žç”¨å·¥å…·åŠæŠ€å·§ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ å®žç”¨å·¥å…·åŠæŠ€å·§ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ &bull; 2019å¹´11æœˆ02æ—¥ å‰è¨€çŽ°åœ¨åšå®¢çš„å›¾ç‰‡éƒ½æ”¾åœ¨ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ä¸Šé¢ï¼Œä¸ªäººç”¨æˆ·æœ‰å…è´¹10GBçš„å­˜å‚¨ç©ºé—´ã€‚ å› ä¸ºæ¯ä¸€ä¸ªçš„bucketç©ºé—´åˆ†é…ä¸€ä¸ªä¸ƒç‰›äº‘çš„ç©ºé—´åŸŸåï¼Œå¦‚ä¸‹ç¤ºä¾‹ï¼š S3 åŸŸå Endpoint(åŒºåŸŸèŠ‚ç‚¹)ï¼š s3-cn-east-1.qiniucs.com ç©ºé—´åŸŸåï¼š 20191119.s3-cn-east-... è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools &bull; 2019å¹´10æœˆ12æ—¥ ä¹‹å‰ä¹ æƒ¯äº†Mac Pro çš„Spotlightæ¨¡å¼è¿›è¡Œæ£€ç´¢åº”ç”¨å’Œæ–‡ä»¶ï¼Œåœ¨å‰æ®µæ—¥å­ä¸­ï¼Œæˆ‘æˆåŠŸçš„æ‰¾åˆ°äº†ä¸€æ¬¾Windowsä¸Šç±»ä¼¼çš„è½¯ä»¶Everything+Woxï¼Œä»åœ¨ä½¿ç”¨Windowsçš„æœ‹å‹æœ‰å…´è¶£å¯ä»¥çœ‹æˆ‘é˜…è¯»è¿™è¾¹æ–‡ç« è¿›è¡Œæ“ä½œä½“éªŒã€‚ è¨€å½’æ­£ä¼ ï¼Œæˆ‘åœ¨å®¶ä½¿ç”¨çš„ç”µè„‘ç³»ç»Ÿæ˜¯Deepin Linux,æ›¾ç»ä¹Ÿæƒ³... ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ &bull; 2019å¹´08æœˆ11æ—¥ ä»Šå¤©åœ¨å®¶ä¸‹è½½ä¸€ä¸ªåˆ«äººç»™æˆ‘çš„ç™¾åº¦ç½‘ç›˜èµ„æ–™ï¼Œèµ„æ–™å¤§å°å·®ä¸å¤š2ä¸ªG,ä½†æ˜¯æ‰“å¼€æµè§ˆå™¨å‘çŽ°æœ‰ä¸€ä»¶æ˜¯éžå¸¸çƒ¦èºçš„äº‹æƒ…:å°æ–‡ä»¶å¯ä»¥ç›´æŽ¥åœ¨æµè§ˆå™¨ç«¯è¿›è¡Œä¸‹è½½,ä½†æ˜¯å¤§æ–‡ä»¶å¿…é¡»ä¸‹è½½ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯è¿›è¡Œä¸‹è½½. æ²¡åŠžæ³•,æˆ‘åªå¥½åŽ»åº”ç”¨å•†åº—åŽ»ä¸‹è½½ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯,åœ¨æ·±åº¦åº”ç”¨å•†åº—è¿˜å¥½æ‰¾åˆ°äº†ç™¾åº¦ç½‘ç›˜çš„å®¢æˆ·ç«¯(å›½äº§Deepinç³»ç»Ÿç¬¬ä¸‰... Windowsæœç´¢åˆ©å™¨ &bull; 2019å¹´06æœˆ03æ—¥ å‰å‡ å‘¨å¿™äºŽæ¢å·¥ä½œï¼Œåšå®¢æ²¡æœ‰å¤ªå¤šçš„æ›´æ–°ã€‚ä»Šå¤©åˆšå¥½å…¥èŒæ–°å…¬å¸çš„ç¬¬ä¸€å¤©ï¼ŒåŠžå…¬ç”µè„‘æ˜¯å°å¼DELL+Intel i5ä¸ƒä»£(å››æ ¸å››çº¿ç¨‹ï¼Œä¸»é¢‘3.1HZï¼Œç¿é¢‘3.6HZ)+8G DDR4ã€‚ç¬”è€…å‰å…¬å¸åŠžå…¬çŽ¯å¢ƒæ˜¯Mac Pro + Mac OS X 10ï¼Œå®¶é‡Œæ—¥å¸¸çŽ¯å¢ƒæ˜¯è”æƒ³Lenovo+Deepin Linux... è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get &bull; 2019å¹´03æœˆ27æ—¥ æˆ‘ä»¬æ—¥å¸¸ä¸Šç½‘è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å°†ç½‘é¡µä¸­çš„è§†é¢‘èµ„æºæå–ä¸‹è½½å‡ºæ¥ï¼Œä¸€èˆ¬å¦‚æžœç½‘ç«™æ²¡æœ‰å±è”½è§†é¢‘åœ°å€ä¸”ç”¨çš„æ˜¯éžFlashæ’­æ”¾å™¨(çŽ°æµè¡ŒHTML5æ’­æ”¾å™¨),æˆ‘ä»¬å¯ä»¥åœ¨è§†é¢‘æ’­æ”¾å™¨å³é”®ç›´æŽ¥ä¸‹è½½è§†é¢‘èµ„æºï¼Œä½†æ˜¯å›½å†…ç½‘ç«™è¿è¥å•†ä¸ºäº†ä¿æŠ¤ç‰ˆæƒï¼Œä¼šå°†çœŸæ­£çš„èµ„æºåœ°å€å±è”½èµ·æ¥ï¼Œæˆ‘ä»¬æ— æ³•æ‰¾åˆ°çœŸå®žåœ°å€å¹¶è¿›è¡Œä¸‹è½½ã€‚å› æ­¤å‡ºçŽ°äº†å¥½å¤šç¬¬ä¸‰... å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ &bull; 2018å¹´06æœˆ18æ—¥ åœ¨å¹³å¸¸ç”Ÿæ´»æˆ–å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¼ è¾“æ–‡ä»¶ï¼Œæ¯”å¦‚å°†ç”µè„‘ä¸Šä¸‹è½½çš„Appä¼ é€åˆ°æ‰‹æœºæˆ–å¦ä¸€å°PCä¸Šã€åŒäº‹ä¹‹é—´ä¼ è¾“ä¸€äº›å¤§åž‹çš„æ–‡ä»¶ã€‚å½“æˆ‘ä»¬é‡åˆ°æ­¤ç±»é—®é¢˜æ—¶ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ä½¿ç”¨QQæˆ–è€…å¾®ä¿¡ï¼Œæ›´æ·±ä¸€å±‚ï¼ŒåŽ»ç½‘ä¸Šæœç´¢ä¸€äº›æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œå¦‚Send Anywhereï¼ŒLZå½“æ—¶åœ¨å¤§å­¦æ—¶å€™ç»å¸¸ä½¿ç”¨çš„æ˜¯FTPã€SambaæœåŠ¡... å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok &bull; 2018å¹´04æœˆ04æ—¥ ä½œä¸ºä¸€ä¸ªWebå¼€å‘è€…,æˆ‘ä»¬æœ‰æ—¶å€™ä¼šéœ€è¦ä¸´æ—¶åœ°å°†ä¸€ä¸ªæœ¬åœ°çš„Webç½‘ç«™éƒ¨ç½²åˆ°å¤–ç½‘,ä»¥ä¾›ä»–äººä½“éªŒè¯„ä»·æˆ–ååŠ©è°ƒè¯•ç­‰ç­‰,é€šå¸¸æˆ‘ä»¬ä¼šè¿™ä¹ˆåš: æ‰¾åˆ°ä¸€å°è¿è¡ŒäºŽå¤–ç½‘çš„WebæœåŠ¡å™¨; æœåŠ¡å™¨ä¸Šæ­å»ºç½‘ç«™è¿è¡Œæ—¶çš„çŽ¯å¢ƒ; éƒ¨ç½²ç½‘ç«™ è°ƒè¯•ç»“æŸåŽ,å†å°†ç½‘ç«™ä»ŽæœåŠ¡å™¨ä¸Šåˆ é™¤ æˆ‘ä»¬éƒ¨ç½²é™æ€çš„ç½‘ç«™ä»…ä»…åªæ˜¯éœ€è¦å±•ç¤ºç»™æœ‹å‹,ä½•å¿…... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/css/imgshare.css","permalink":"http://ltyeamin.github.io/public/static/api/css/imgshare.css","excerpt":"","text":".sr-bdimgshare{position:absolute;overflow:hidden;z-index:9990;color:#fff}.sr-bdimgshare-white{color:#666}.sr-bdimgshare .bdimgshare-bg{position:absolute;width:100%;height:100%;overflow:hidden;filter:alpha(opacity=40);opacity:.4}.sr-bdimgshare .bdimgshare-content{position:relative;float:right;padding:5px 8px 5px 0}.sr-bdimgshare-black .bdimgshare-bg{background:#000}.sr-bdimgshare-white .bdimgshare-bg{filter:alpha(opacity=80);opacity:.8;background:#fff}.sr-bdimgshare .bdimgshare-content .bdimgshare-lbl{padding-right:5px;cursor:default;float:left}.sr-bdimgshare-16 .bdimgshare-icon{display:inline-block;width:16px;height:16px;overflow:hidden;margin:8px 0 0 2px;cursor:pointer;background:url(../img/share/icons_0_16.png?v=91362611.png) no-repeat}.sr-bdimgshare-32 .bdimgshare-icon{display:inline-block;width:32px;height:32px;overflow:hidden;margin:8px 0 0 5px;cursor:pointer;background:url(../img/share/icons_0_32.png?v=7f3ed0f4.png) no-repeat}.sr-bdimgshare-black .bdimgshare-icon{filter:alpha(opacity=90);opacity:.9}.sr-bdimgshare-black .bdimgshare-icon:hover{filter:none;opacity:1}.sr-bdimgshare-white .bdimgshare-icon{filter:alpha(opacity=80);opacity:.8}.sr-bdimgshare-white .bdimgshare-icon:hover{filter:none;opacity:1}.sr-bdimgshare-collection{zoom:1;z-index:9990}.sr-bdimgshare-collection:after{content:'\\20';display:block;height:0;clear:both}.bdimgshare-coll-coll-saved{display:none}.sr-bdimgshare-coll-1-big .bdimgshare-coll-coll,.sr-bdimgshare-coll-1-big .bdimgshare-coll-share,.sr-bdimgshare-coll-1-middle .bdimgshare-coll-coll,.sr-bdimgshare-coll-1-middle .bdimgshare-coll-share,.sr-bdimgshare-coll-1-small .bdimgshare-coll-coll,.sr-bdimgshare-coll-1-small .bdimgshare-coll-share,.sr-bdimgshare-coll-2-big .bdimgshare-coll-coll,.sr-bdimgshare-coll-2-big .bdimgshare-coll-share,.sr-bdimgshare-coll-2-middle .bdimgshare-coll-coll,.sr-bdimgshare-coll-2-middle .bdimgshare-coll-share,.sr-bdimgshare-coll-2-small .bdimgshare-coll-coll,.sr-bdimgshare-coll-2-small .bdimgshare-coll-share,.sr-bdimgshare-coll-3-big .bdimgshare-coll-coll,.sr-bdimgshare-coll-3-big .bdimgshare-coll-share,.sr-bdimgshare-coll-3-middle .bdimgshare-coll-coll,.sr-bdimgshare-coll-3-middle .bdimgshare-coll-share,.sr-bdimgshare-coll-3-small .bdimgshare-coll-coll,.sr-bdimgshare-coll-3-small .bdimgshare-coll-share{display:block}.bdimgshare-coll-coll,.bdimgshare-coll-coll-saved,.bdimgshare-coll-coll-saved:hover,.bdimgshare-coll-coll:hover,.bdimgshare-coll-share,.bdimgshare-coll-share:hover{text-decoration:none;text-align:center}.sr-bdimgshare-coll-white .bdimgshare-coll-coll,.sr-bdimgshare-coll-white .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-white .bdimgshare-coll-share{color:#666;background-color:#fff;background-image:url(../images/imgshare/imgshare_collection_icons_w.png);background-repeat:no-repeat;border-width:1px;border-style:solid;border-color:#e6e6e6 #e6e6e6 #ccc}.sr-bdimgshare-coll-black .bdimgshare-coll-coll,.sr-bdimgshare-coll-black .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-black .bdimgshare-coll-share{color:#ddd;background-color:#4c4c4c;background-image:url(../images/imgshare/imgshare_collection_icons_b.png);background-repeat:no-repeat;border-width:1px;border-style:solid;border-color:#393939}.sr-bdimgshare-coll-white .bdimgshare-coll-coll:hover{color:#f24949}.sr-bdimgshare-coll-white .bdimgshare-coll-share:hover{color:#2c73c3}.sr-bdimgshare-coll-1-small .bdimgshare-coll-coll,.sr-bdimgshare-coll-1-small .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-1-small .bdimgshare-coll-share{width:51px;height:23px;padding-left:21px;line-height:23px;font-size:12px;float:left;letter-spacing:7px}.sr-bdimgshare-coll-1-small .bdimgshare-coll-coll{background-position:5px 4px}.sr-bdimgshare-coll-1-small .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-1-small .bdimgshare-coll-coll:hover{background-position:5px -16px}.sr-bdimgshare-coll-1-small .bdimgshare-coll-share{background-position:5px -36px;margin-left:-1px}.sr-bdimgshare-coll-1-small .bdimgshare-coll-share:hover{background-position:5px -56px}.sr-bdimgshare-coll-1-middle .bdimgshare-coll-coll,.sr-bdimgshare-coll-1-middle .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-1-middle .bdimgshare-coll-share{width:51px;height:30px;padding-left:26px;line-height:30px;font-size:12px;float:left;letter-spacing:7px}.sr-bdimgshare-coll-1-middle .bdimgshare-coll-coll{background-position:10px -77px}.sr-bdimgshare-coll-1-middle .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-1-middle .bdimgshare-coll-coll:hover{background-position:10px -102px}.sr-bdimgshare-coll-1-middle .bdimgshare-coll-share{background-position:10px -127px;margin-left:-1px}.sr-bdimgshare-coll-1-middle .bdimgshare-coll-share:hover{background-position:10px -153px}.sr-bdimgshare-coll-1-big .bdimgshare-coll-coll,.sr-bdimgshare-coll-1-big .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-1-big .bdimgshare-coll-share{width:64px;height:38px;padding-left:32px;line-height:38px;font-size:14px;float:left;letter-spacing:8px}.sr-bdimgshare-coll-1-big .bdimgshare-coll-coll{background-position:10px -178px}.sr-bdimgshare-coll-1-big .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-1-big .bdimgshare-coll-coll:hover{background-position:10px -209px}.sr-bdimgshare-coll-1-big .bdimgshare-coll-share{background-position:10px -239px;margin-left:-1px}.sr-bdimgshare-coll-1-big .bdimgshare-coll-share:hover{background-position:10px -269px}.sr-bdimgshare-coll-2-small .bdimgshare-coll-coll,.sr-bdimgshare-coll-2-small .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-2-small .bdimgshare-coll-share{width:24px;height:24px;overflow:hidden;float:left;text-indent:-9999px}.sr-bdimgshare-coll-2-small .bdimgshare-coll-coll{background-position:4px 4px}.sr-bdimgshare-coll-2-small .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-2-small .bdimgshare-coll-coll:hover{background-position:4px -16px}.sr-bdimgshare-coll-2-small .bdimgshare-coll-share{background-position:4px -36px;margin-left:-1px}.sr-bdimgshare-coll-2-small .bdimgshare-coll-share:hover{background-position:4px -56px}.sr-bdimgshare-coll-2-middle .bdimgshare-coll-coll,.sr-bdimgshare-coll-2-middle .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-2-middle .bdimgshare-coll-share{width:32px;height:32px;overflow:hidden;float:left;text-indent:-9999px}.sr-bdimgshare-coll-2-middle .bdimgshare-coll-coll{background-position:7px -76px}.sr-bdimgshare-coll-2-middle .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-2-middle .bdimgshare-coll-coll:hover{background-position:7px -101px}.sr-bdimgshare-coll-2-middle .bdimgshare-coll-share{background-position:7px -127px;margin-left:-1px}.sr-bdimgshare-coll-2-middle .bdimgshare-coll-share:hover{background-position:7px -153px}.sr-bdimgshare-coll-2-big .bdimgshare-coll-coll,.sr-bdimgshare-coll-2-big .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-2-big .bdimgshare-coll-share{width:36px;height:36px;overflow:hidden;float:left;text-indent:-9999px}.sr-bdimgshare-coll-2-big .bdimgshare-coll-coll{background-position:7px -178px}.sr-bdimgshare-coll-2-big .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-2-big .bdimgshare-coll-coll:hover{background-position:7px -209px}.sr-bdimgshare-coll-2-big .bdimgshare-coll-share{background-position:7px -240px;margin-left:-1px}.sr-bdimgshare-coll-2-big .bdimgshare-coll-share:hover{background-position:7px -270px}.sr-bdimgshare-coll-3-small .bdimgshare-coll-coll,.sr-bdimgshare-coll-3-small .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-3-small .bdimgshare-coll-share{width:35px;height:23px;padding-left:18px;line-height:23px;font-size:12px}.sr-bdimgshare-coll-3-small .bdimgshare-coll-coll{background-position:5px 4px}.sr-bdimgshare-coll-3-small .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-3-small .bdimgshare-coll-coll:hover{background-position:5px -16px}.sr-bdimgshare-coll-3-small .bdimgshare-coll-share{background-position:5px -36px;margin-top:-1px}.sr-bdimgshare-coll-3-small .bdimgshare-coll-share:hover{background-position:5px -56px}.sr-bdimgshare-coll-3-middle .bdimgshare-coll-coll,.sr-bdimgshare-coll-3-middle .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-3-middle .bdimgshare-coll-share{width:40px;height:30px;padding-left:23px;line-height:30px;font-size:12px}.sr-bdimgshare-coll-3-middle .bdimgshare-coll-coll{background-position:10px -77px}.sr-bdimgshare-coll-3-middle .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-3-middle .bdimgshare-coll-coll:hover{background-position:10px -102px}.sr-bdimgshare-coll-3-middle .bdimgshare-coll-share{background-position:10px -127px;margin-top:-1px}.sr-bdimgshare-coll-3-middle .bdimgshare-coll-share:hover{background-position:10px -153px}.sr-bdimgshare-coll-3-big .bdimgshare-coll-coll,.sr-bdimgshare-coll-3-big .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-3-big .bdimgshare-coll-share{width:47px;height:38px;padding-left:26px;line-height:38px;font-size:14px}.sr-bdimgshare-coll-3-big .bdimgshare-coll-coll{background-position:10px -178px}.sr-bdimgshare-coll-3-big .bdimgshare-coll-coll-saved,.sr-bdimgshare-coll-3-big .bdimgshare-coll-coll:hover{background-position:10px -209px}.sr-bdimgshare-coll-3-big .bdimgshare-coll-share{background-position:10px -239px;margin-top:-1px}.sr-bdimgshare-coll-3-big .bdimgshare-coll-share:hover{background-position:10px -269px}.sr-bdimgshare-coll-3-small .bdimgshare-coll-coll-saved{width:53px;padding:0;background-image:none}.sr-bdimgshare-coll-3-middle .bdimgshare-coll-coll-saved{width:63px;padding:0;background-image:none}.sr-bdimgshare-coll-3-big .bdimgshare-coll-coll-saved{width:73px;padding:0;background-image:none}.bdimgshare-collected .bdimgshare-coll-coll{display:none}.bdimgshare-collected .bdimgshare-coll-coll-saved{display:block;letter-spacing:0}.sr-bdimgshare-coll-white .bdimgshare-coll-coll-saved{color:#f24949}"},{"title":"","date":"2019-11-27T15:22:16.702Z","updated":"2019-11-27T15:22:16.702Z","comments":true,"path":"public/static/api/css/share_popup.css","permalink":"http://ltyeamin.github.io/public/static/api/css/share_popup.css","excerpt":"","text":".bdshare_dialog_bg,.bdshare_dialog_box{position:fixed;display:none;overflow:hidden}.bdshare_dialog_bg{width:312px;height:341px;z-index:9999}.bdshare_dialog_box{width:300px;border:6px solid #8F8F8F;height:329px;z-index:10000;text-align:left;box-shadow:0 0 7px #aaa;-webkit-box-shadow:0 0 7px #aaa;-moz-box-shadow:0 0 7px #aaa;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;background:#f6f6f6}.bdshare_dialog_top,.bdshare_popup_top{height:28px;color:#626262;overflow:hidden;font-weight:700;font-size:14px;line-height:28px;padding:0 5px}.bdshare_dialog_close{width:22px;height:23px;background:url(../img/share/pop_c.gif?v=2d7108c8.gif) no-repeat;float:right;display:block;margin-top:2px}.bdshare_dialog_list{margin:0;padding:10px 0;height:256px;background:#fff;overflow:auto;overflow-x:hidden}.bdshare_dialog_bottom{height:25px;line-height:25px;font-size:12px;text-align:right;padding:0 10px}.bdshare_dialog_bottom a{color:#999;text-decoration:none}.bdshare_dialog_bottom a:hover{color:#00a9e0}.bdshare_dialog_list li{float:left;width:130px;padding:2px;margin-left:6px;height:28px;overflow:hidden;list-style:none}.bdshare_dialog_list a,.bdshare_popup_bottom a,.bdshare_popup_list a{color:#565656;font:12px 'å®‹ä½“';display:block;background-image:url(../img/share/icons_0_16.png?v=ba7acbd3.png);background-repeat:no-repeat;padding:5px 0 5px 28px;text-decoration:none;border:1px solid #fff;line-height:18px}.bdshare_dialog_list a:hover,.bdshare_popup_list a:hover{background-color:#f3f3f3;border:1px solid #eee;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px}.popup_qzone{background-position:4px -47px}.popup_tsina{background-position:4px -99px}.popup_renren{background-position:4px -203px}.popup_tqq{background-position:4px -255px}.popup_kaixin001{background-position:4px -307px}.popup_tqf{background-position:4px -359px}.popup_hi{background-position:4px -411px}.popup_douban{background-position:4px -463px}.popup_tieba{background-position:4px -723px}.popup_hx{background-position:4px -983px}.popup_fx{background-position:4px -1035px}.popup_ty{background-position:4px -1191px}.popup_fbook{background-position:4px -1347px}.popup_twi{background-position:4px -1399px}.popup_linkedin{background-position:4px -1659px}.popup_meilishuo{background-position:4px -1711px}.popup_mogujie{background-position:4px -1763px}.popup_diandian{background-position:4px -1815px}.popup_huaban{background-position:4px -1867px}.popup_duitang{background-position:4px -2023px}.popup_youdao{background-position:4px -2075px}.popup_wealink{background-position:4px -2179px}.popup_copy{background-position:4px -2283px}.popup_mail{background-position:4px -2335px}.popup_print{background-position:4px -2387px}.popup_mshare{background-position:4px -2439px}.popup_sqq{background-position:4px -2647px}.popup_sdo{background-position:4px -2699px}.popup_qingbiji{background-position:4px -2751px}.popup_people{background-position:4px -2803px}.popup_xinhua{background-position:4px -2907px}.popup_yaolan{background-position:4px -2959px}.popup_thx{background-position:4px -2491px}.popup_bdhome{background-position:4px -151px}.popup_bdxc{background-position:4px -2543px}.popup_more{background-position:4px 5px}.popup_bdysc{background-position:4px -3063px}.popup_isohu{background-position:4px -3011px}.popup_ibaidu{background-position:4px -3115px}.popup_weixin{background-position:4px -1607px}.popup_iguba{background-position:4px -1295px}.popup_h163{background-position:4px -3156px}.bdshare_popup_bg{position:absolute;display:none;z-index:9997}.bdshare_popup_box{position:absolute;display:none;z-index:9998;text-align:left;background:#f6f6f6;border:1px solid #e9e9e9}.bdshare_popup_list{margin:0;padding:5px 0;background:#fff;overflow:auto;overflow-x:hidden}.bdshare_popup_bottom{clear:both;height:30px;font-size:12px;text-align:right;padding:0 10px}.bdshare_popup_bottom a{color:#999;text-decoration:none;border:0;float:right}.bdshare_popup_bottom a:hover{color:#00a9e0}.bdshare_popup_list li{float:left;width:100px;padding:2px;margin-left:6px;height:28px;overflow:hidden;list-style:none}.popup_baidu,.popup_deli,.popup_ff,.popup_ifeng,.popup_leho,.popup_ms,.popup_msn,.popup_qq,.popup_qy,.popup_s139,.popup_s51,.popup_share189,.popup_sohu,.popup_t163,.popup_tfh,.popup_tsohu,.popup_tuita,.popup_xg{display:none}.bdshare_dialog_box,.bdshare_dialog_list a:hover,.bdshare_popup_list a:hover{-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box}.popup_evernotecn{background-position:4px -3180px}"},{"title":"","date":"2019-11-27T15:22:16.707Z","updated":"2019-11-27T15:22:16.707Z","comments":true,"path":"public/static/api/js/share/likeshare.js","permalink":"http://ltyeamin.github.io/public/static/api/js/share/likeshare.js","excerpt":"","text":""},{"title":"","date":"2019-11-27T15:22:16.699Z","updated":"2019-11-27T15:22:16.699Z","comments":true,"path":"public/static/api/js/trans/data.js","permalink":"http://ltyeamin.github.io/public/static/api/js/trans/data.js","excerpt":"","text":""},{"title":"","date":"2019-11-27T15:22:16.705Z","updated":"2019-11-27T15:22:16.705Z","comments":true,"path":"public/static/api/js/trans/logger.js","permalink":"http://ltyeamin.github.io/public/static/api/js/trans/logger.js","excerpt":"","text":""},{"title":"","date":"2020-01-08T13:06:33.589Z","updated":"2020-01-08T13:06:33.458Z","comments":true,"path":"public/page/2/index.html","permalink":"http://ltyeamin.github.io/public/page/2/index.html","excerpt":"","text":"å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ é­”éƒ½ä¸Šæµ· &bull; 2019å¹´06æœˆ09æ—¥ ä¸Šæµ·å®£ä¼ ç‰‡ const dp0 = new DPlayer({ container: document.getElementById(&#39;dplayer0&#39;), screenshot: true, video: { url: &#39;h... others è‡ªåª’ä½“ é˜…è¯»å…¨æ–‡ SambaæœåŠ¡å™¨æ­å»º &bull; 2019å¹´06æœˆ08æ—¥ ops Samba é˜…è¯»å…¨æ–‡ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ &bull; 2019å¹´06æœˆ04æ—¥ é—®é¢˜æè¿°ä»Šå¤©æ‰“å¼€IDEAåŠ è½½é¡¹ç›®æ—¶ï¼Œå‘çŽ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„é—®é¢˜ï¼šé¡¹ç›®ä¾èµ–åŠä»£ç æ²¡ä»»ä½•é—®é¢˜ï¼ŒMavenä¾èµ–æ£€æµ‹çº¢è‰²æ³¢æµªçº¿ä¾æ—§å­˜åœ¨ã€‚è™½è¯´é¡¹ç›®ä¾æ—§èƒ½è·‘èµ·æ¥ä¸å½±å“å¼€å‘ï¼Œä½†æ˜¯mavenå‘½ä»¤æ“ä½œç”¨ä¸äº†ã€‚ é‡åˆ°é—®é¢˜åŽï¼Œæˆ‘å¤§åƒä¸€æƒŠã€‚æ˜¨å¤©çœ‹é¡¹ç›®è¿˜å¥½å¥½çš„ï¼Œä»Šå¤©å°±æŠ¥å‡ºæŸä¸ªé¡¹ç›®ä¸€ä¸ªä¾èµ–åŒ…æ‰¾ä¸åˆ°ã€‚å¯å®žé™…ä¸Šã€‚è¯¥ä¾èµ–åŒ…åœ¨æœ¬åœ°åº“æ˜¯... backend Maven é˜…è¯»å…¨æ–‡ Windowsæœç´¢åˆ©å™¨ &bull; 2019å¹´06æœˆ03æ—¥ å‰å‡ å‘¨å¿™äºŽæ¢å·¥ä½œï¼Œåšå®¢æ²¡æœ‰å¤ªå¤šçš„æ›´æ–°ã€‚ä»Šå¤©åˆšå¥½å…¥èŒæ–°å…¬å¸çš„ç¬¬ä¸€å¤©ï¼ŒåŠžå…¬ç”µè„‘æ˜¯å°å¼DELL+Intel i5ä¸ƒä»£(å››æ ¸å››çº¿ç¨‹ï¼Œä¸»é¢‘3.1HZï¼Œç¿é¢‘3.6HZ)+8G DDR4ã€‚ç¬”è€…å‰å…¬å¸åŠžå…¬çŽ¯å¢ƒæ˜¯Mac Pro + Mac OS X 10ï¼Œå®¶é‡Œæ—¥å¸¸çŽ¯å¢ƒæ˜¯è”æƒ³Lenovo+Deepin Linux... ops å®žç”¨å·¥å…·åŠæŠ€å·§ é˜…è¯»å…¨æ–‡ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ &bull; 2019å¹´05æœˆ28æ—¥ é—®é¢˜æè¿°ä»Šå¤©å‘çŽ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„äº‹æƒ…ï¼Œå°±æ˜¯æœ¬åœ°å†™æ­»çš„FeignClientçš„urlå±žæ€§é…ç½®è¿›è¡Œfeignè°ƒç”¨æ²¡é—®é¢˜ï¼Œä½†æ˜¯æŠŠé…ç½®è¿ç§»åˆ°Ctrip Apolloé…ç½®ä¸­å¿ƒfeignè°ƒç”¨å°±æœ‰é—®é¢˜ã€‚ ä»£ç ç‰‡æ®µ123456789101112131415@FeignClient(url = &#34;$&amp;#123;ap... backend Spring Cloud é˜…è¯»å…¨æ–‡ èŠèŠJavaé”çš„é‚£äº›äº‹ &bull; 2019å¹´04æœˆ02æ—¥ æ˜¨å¤©æˆ‘ä»¬å­¦ä¹ äº†HashMapç›¸å…³çš„æºç ï¼Œæœ¬æ¥æ‰“ç®—ä»Šå¤©å†™ConcurrentHashMapæºç åˆ†æžï¼Œä½†æ˜¯ConcurrentHashMapæ¶‰åŠåˆ°ä¸€äº›é”çš„æ¦‚å¿µï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¶Šæ˜¯åº•å±‚çš„ä¸œè¥¿ï¼Œè¶Šæ˜¯è¦å¥½å¥½ç ”ç©¶ä¸€ç•ªï¼Œä»Šå¤©è¶æ­¤æœºä¼šå¥½å¥½çš„ç³»ç»Ÿå­¦ä¹ ä¸€ä¸‹ã€‚ é‚£ä¹ˆä»Šå¤©å°±æ¥èŠèŠJavaé”çš„é‚£äº›äº‹æƒ…ã€‚Javaä¸ºæˆ‘ä»¬æä¾›äº†... backend JVMåŠå¹¶å‘ç¼–ç¨‹ é˜…è¯»å…¨æ–‡ æ·±å…¥åˆ†æžHashMapæºç  &bull; 2019å¹´04æœˆ01æ—¥ Mapè¿™ç§Key-Valueæ ¼å¼çš„æ•°æ®ç»“æž„åœ¨æ—¥å¸¸å¼€å‘ä¸­æ˜¯éžå¸¸çš„å¸¸è§ï¼Œå¤§éƒ¨åˆ†çš„é«˜çº§ç¼–ç¨‹è¯­è¨€éƒ½æœ‰Mapç±»åž‹ï¼ŒMapç±»åž‹å¸¸ç”¨äºŽåœ¨å†…å­˜ä¸­å­˜å–æ•°æ®ã€‚ åœ¨Javaä¸­ï¼ŒHashMapæ˜¯Javaç¨‹åºå‘˜ä½¿ç”¨é¢‘çŽ‡æœ€é«˜çš„ç”¨äºŽæ˜ å°„(é”®å€¼å¯¹)å¤„ç†çš„æ•°æ®ç±»åž‹ã€‚éšç€JDKï¼ˆJava Developmet Kitï¼‰ç‰ˆæœ¬çš„æ›´æ–°... backend Java é˜…è¯»å…¨æ–‡ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° &bull; 2019å¹´03æœˆ29æ—¥ è°ˆåˆ°æ•°æ®ç»“æž„çš„æ ‘ï¼Œç¬”è€…çš„å°è±¡ä¸­è¿˜æ˜¯åœ¨å¤§å­¦æ—¶æœŸçš„æ¦‚å¿µï¼Œæœ€æ—©çš„æ¦‚å¿µæºè‡ªäºŽå“ˆå¤«æ›¼æ ‘(æœ€ä¼˜äºŒå‰æ ‘)ï¼Œå…¶ä»–çš„æ ‘ç»“æž„è¿˜æœ‰äºŒå‰æŸ¥æ‰¾æ ‘ã€å®Œå…¨äºŒå‰æ ‘ã€å¹³è¡¡äºŒå‰æ ‘(åˆåˆ†ä¸ºAVLæ ‘ã€RBçº¢é»‘æ ‘ã€SBTã€ä¼¸å±•æ ‘ã€TREAPã€æ›¿ç½ªç¾Šæ ‘ ï¼‰ã€å¹³è¡¡å¤šå‰æ ‘ï¼ˆB - Tree å’ŒB+ Tree)ç­‰ï¼Œä»Šå¤©æˆ‘ä»¬æ¥ç ”ç©¶ä¸€ä¸‹å¹³è¡¡äºŒå‰æ ‘... algorithm äºŒå‰æ ‘ é˜…è¯»å…¨æ–‡ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– &bull; 2019å¹´03æœˆ28æ—¥ LZæ¯å¤©éƒ½è¦æ‰“å¼€å¼€æºä¸­å›½ç½‘ç«™çœ‹çœ‹äº’è”ç½‘ç™¾æ€ï¼Œåœ¨ä»Šå¤©çš„ç½‘ç«™é‡Œï¼Œçœ‹åˆ°äº†ä¸¤ä»¶æœ‰æ„æ€çš„è¶£äº‹: æŠµåˆ¶996åŠ ç­æ–‡åŒ–996.icuï¼Œå¤§å®¶åœ¨996I.ICU GitHubç•…è°ˆè‡ªç”±ã€åæ§½åŠ ç­ æŸç¨‹åºå‘˜åˆ åº“è·‘è·¯åˆ¶ä½œçš„ç½‘ç«™-å®‰å¾½æ±½è½¦ç½‘æ˜¯ç”±ç®€å•çš„å›¾ç‰‡æ˜¾ç¤ºæ‹¼æŽ¥è€Œæˆçš„ã€‚ 996åŠ ç­æ–‡åŒ–æ— è®ºæ˜¯ä¼ ç»Ÿè¡Œä¸šï¼Œ... others æ‚è°ˆ é˜…è¯»å…¨æ–‡ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get &bull; 2019å¹´03æœˆ27æ—¥ æˆ‘ä»¬æ—¥å¸¸ä¸Šç½‘è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å°†ç½‘é¡µä¸­çš„è§†é¢‘èµ„æºæå–ä¸‹è½½å‡ºæ¥ï¼Œä¸€èˆ¬å¦‚æžœç½‘ç«™æ²¡æœ‰å±è”½è§†é¢‘åœ°å€ä¸”ç”¨çš„æ˜¯éžFlashæ’­æ”¾å™¨(çŽ°æµè¡ŒHTML5æ’­æ”¾å™¨),æˆ‘ä»¬å¯ä»¥åœ¨è§†é¢‘æ’­æ”¾å™¨å³é”®ç›´æŽ¥ä¸‹è½½è§†é¢‘èµ„æºï¼Œä½†æ˜¯å›½å†…ç½‘ç«™è¿è¥å•†ä¸ºäº†ä¿æŠ¤ç‰ˆæƒï¼Œä¼šå°†çœŸæ­£çš„èµ„æºåœ°å€å±è”½èµ·æ¥ï¼Œæˆ‘ä»¬æ— æ³•æ‰¾åˆ°çœŸå®žåœ°å€å¹¶è¿›è¡Œä¸‹è½½ã€‚å› æ­¤å‡ºçŽ°äº†å¥½å¤šç¬¬ä¸‰... ops å®žç”¨å·¥å…·åŠæŠ€å·§ é˜…è¯»å…¨æ–‡ 1234&hellip;6 æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:35.759Z","updated":"2020-01-08T13:06:35.617Z","comments":true,"path":"public/page/3/index.html","permalink":"http://ltyeamin.github.io/public/page/3/index.html","excerpt":"","text":"å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° &bull; 2019å¹´01æœˆ05æ—¥ è°ƒæ•´å †å¤§å°GCè°ƒæ•´çš„ç¬¬ä¸€å ‚è¯¾æ˜¯è°ƒæ•´åº”ç”¨ç¨‹åºå †çš„å¤§å°ã€‚å…³äºŽå †å¤§å°çš„è°ƒæ•´è¿˜æœ‰æ›´é«˜çº§çš„è¯é¢˜ï¼Œä¸è¿‡ä½œä¸ºç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬é¦–å…ˆè®¨è®ºå¦‚ä½•è®¾ç½®æ€»ä½“å †çš„å¤§å°ã€‚ ä¸Žå…¶ä»–çš„æ€§èƒ½é—®é¢˜ä¸€æ ·ï¼Œé€‰æ‹©å †çš„å¤§å°å…¶å®žæ˜¯ä¸€ç§å¹³è¡¡ã€‚å¦‚æžœåˆ†é…çš„å †è¿‡äºŽå°ï¼Œç¨‹åºçš„å¤§éƒ¨åˆ†æ—¶é—´å¯èƒ½éƒ½æ¶ˆè€—åœ¨GCä¸Šï¼Œæ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´åŽ»è¿è¡Œåº”ç”¨ç¨‹åºçš„é€»è¾‘ã€‚ä½†æ˜¯ï¼Œç®€å•ç²—æš´... backend JVMåŠå¹¶å‘ç¼–ç¨‹ é˜…è¯»å…¨æ–‡ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ &bull; 2018å¹´06æœˆ18æ—¥ åœ¨å¹³å¸¸ç”Ÿæ´»æˆ–å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¼ è¾“æ–‡ä»¶ï¼Œæ¯”å¦‚å°†ç”µè„‘ä¸Šä¸‹è½½çš„Appä¼ é€åˆ°æ‰‹æœºæˆ–å¦ä¸€å°PCä¸Šã€åŒäº‹ä¹‹é—´ä¼ è¾“ä¸€äº›å¤§åž‹çš„æ–‡ä»¶ã€‚å½“æˆ‘ä»¬é‡åˆ°æ­¤ç±»é—®é¢˜æ—¶ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ä½¿ç”¨QQæˆ–è€…å¾®ä¿¡ï¼Œæ›´æ·±ä¸€å±‚ï¼ŒåŽ»ç½‘ä¸Šæœç´¢ä¸€äº›æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œå¦‚Send Anywhereï¼ŒLZå½“æ—¶åœ¨å¤§å­¦æ—¶å€™ç»å¸¸ä½¿ç”¨çš„æ˜¯FTPã€SambaæœåŠ¡... ops å®žç”¨å·¥å…·åŠæŠ€å·§ é˜…è¯»å…¨æ–‡ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ &bull; 2018å¹´06æœˆ12æ—¥ ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ï¼Œåœ¨å­¦ä¹‹å‰æˆ‘ä»¬æ ¹æ®å®˜æ–¹æ–‡æ¡£(çº¯è‹±æ–‡æ–‡æ¡£ï¼Œå¯ä»¥è£…ä¸ªChromeæ’ä»¶é€‰ä¸­ç¿»è¯‘)å­¦ä¹ ä¸€ä¸‹RabbitMQçš„ä¸€äº›æœ¯è¯­ï¼Œè¿™æ‰èƒ½è®©æˆ‘ä»¬æ›´æ·±å…¥çš„äº†è§£ã€‚ å‡†å¤‡æ¡ä»¶æœ¬æ•™ç¨‹å‡å®šRabbitMQå·²åœ¨æ ‡å‡†ç«¯å£ï¼ˆ5672ï¼‰ä¸Šçš„localhostä¸Šå®‰è£…å¹¶è¿è¡Œã€‚å¦‚æžœæ‚¨ä½¿ç”¨... backend RabbitMQ é˜…è¯»å…¨æ–‡ RabbitMQæ¦‚è¿° &bull; 2018å¹´06æœˆ11æ—¥ ä¹‹æ‰€ä»¥ä»Šå¤©å†™RabbitMQå­¦ä¹ ä¸“æ ï¼Œä¸»è¦æ˜¯å› ä¸ºè‡ªå·±æ²¡æœ‰çœŸæ­£çš„ç³»ç»Ÿå­¦ä¹ è¿‡ã€‚ä¹‹å‰å·¥ä½œç»åŽ†ä¸­éƒ½æ˜¯ä¸ºç”¨MQè€Œç”¨çš„MQï¼Œå¯¹MQæ•´ä¸ªå†…éƒ¨æœºåˆ¶æ²¡æœ‰ä¸€ä¸ªæ·±å…¥çš„äº†è§£å’Œç³»ç»Ÿçš„å­¦ä¹ ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨Spring Cloud Streamæˆ–Spring Cloud Busç»„ä»¶æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šç»å¸¸ç¢°åˆ°MQã€‚MQäº§å“å¸‚é¢ä¸Šæœ‰å¾ˆå¤š... backend RabbitMQ é˜…è¯»å…¨æ–‡ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ &bull; 2018å¹´06æœˆ10æ—¥ RabbitMQæ˜¯æµè¡Œçš„å¼€æºæ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œé‡‡ç”¨å¤©ç”ŸæŠ—å¹¶å‘çš„erlangè¯­è¨€å¼€å‘ã€‚RabbitMQæ˜¯AMQPï¼ˆé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰çš„æ ‡å‡†å®žçŽ°ã€‚æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡Dockerçš„æ–¹å¼å®‰è£…RabbitMQã€‚ æŸ¥çœ‹RabbitMQç‰ˆæœ¬è¿›å…¥docker hubå®˜æ–¹é•œåƒä»“åº“æˆ–é˜¿é‡Œdockeré•œåƒåº“,æœç´¢rabb... ops Docker é˜…è¯»å…¨æ–‡ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ &bull; 2018å¹´06æœˆ10æ—¥ ä»Šå¤©æˆ‘ä»¬æ¥è®¤è¯†ä¸€ä¸‹ï¼Œçº¿ç¨‹æ± çš„é™æ€å·¥åŽ‚Executorsç±»ï¼Œå¹³æ—¶å†™æµ‹è¯•ä»£ç çš„æ—¶å€™å¯ç”¨ä¸€ç”¨ï¼Œç”Ÿäº§ä»£ç å°½é‡å°‘ç”¨ã€‚ä¸ºä»€ä¹ˆè¯´ç”Ÿäº§ä¸Šå°½é‡å°‘ç”¨å‘¢ï¼Ÿè¿™æ˜¯æœ‰åŽŸå› çš„ï¼Œè¯·è€å¿ƒå¬å½¤å“¥è®²è§£ã€‚ é˜¿é‡Œçš„ä»£ç è§„çº¦ä¸å»ºè®®ä½¿ç”¨è¿™æ ·çš„å·¥åŽ‚ç±»ï¼Œè€Œå»ºè®®ä½¿ç”¨æ‰‹åŠ¨åˆ›å»ºå¹¶ç®¡ç†ThreadPoolExecutorï¼Œåœ¨é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œä¸­... backend JVMåŠå¹¶å‘ç¼–ç¨‹ é˜…è¯»å…¨æ–‡ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ &bull; 2018å¹´06æœˆ09æ—¥ ä¸ºäº†é«˜æ•ˆçš„ç®¡ç†çº¿ç¨‹ï¼ŒJDK1.5ç‰ˆæœ¬çš„Doug Leaå¤§ç¥žä¸ºæˆ‘ä»¬è®¾è®¡äº†å¤§åé¼Žé¼Žçš„ThreadPoolExecutorã€‚ ä½œä¸ºExecutoræ¡†æž¶ä¸­æœ€æ ¸å¿ƒçš„ç±»-ThreadPoolExecutorï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ªè°ƒåº¦å·¥å…·ï¼Œä¸ºäº†é«˜æ•ˆæ‰§è¡Œæˆ–è°ƒåº¦ä»»åŠ¡ï¼Œæˆ‘ä»¬éžå¸¸æœ‰å¿…è¦å¯¹è¯¥ç±»çš„å·¥ä½œåŽŸç†ä»¥åŠå†…éƒ¨æœºåˆ¶äº†... backend JVMåŠå¹¶å‘ç¼–ç¨‹ é˜…è¯»å…¨æ–‡ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ &bull; 2018å¹´06æœˆ08æ—¥ çº¿ç¨‹æ± æ˜¯é™åˆ¶ç³»ç»Ÿä¸­æ‰§è¡Œçº¿ç¨‹çš„æ•°é‡ï¼Œå¹¶èƒ½å¤Ÿæ ¹æ®ä¸€å®šçš„ç­–ç•¥å›žæ”¶çº¿ç¨‹å¹¶é‡å¤ä½¿ç”¨ã€‚JDK1.5ä¹‹åŽåŠ å…¥äº†java.util.concurrentåŒ…ï¼Œæˆ‘ä»¬æ—¥å¸¸ç§°ä¹‹ä¸ºJ.U.Cå¹¶å‘åŒ…ï¼Œè¿™ä¸ªåŒ…å¯¹æˆ‘ä»¬æ—¥å¸¸è§£å†³å¹¶å‘æä¾›äº†éžå¸¸å¤§çš„å¸®åŠ©ã€‚ æ ¹æ®ç³»ç»Ÿçš„çŽ¯å¢ƒæƒ…å†µï¼Œå¯ä»¥è‡ªåŠ¨æˆ–æ‰‹åŠ¨è®¾ç½®çº¿ç¨‹æ•°é‡ï¼Œè¾¾åˆ°è¿è¡Œçš„æœ€ä½³æ•ˆæžœï¼›å°‘äº†æµªè´¹... backend JVMåŠå¹¶å‘ç¼–ç¨‹ é˜…è¯»å…¨æ–‡ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ &bull; 2018å¹´06æœˆ03æ—¥ volatileè¿™ä¸ªå…³é”®å­—å¤§å®¶éƒ½å¬è¿‡ï¼Œçœ‹è¿‡è®¸å¤šæºç ä¹Ÿç”¨è¿‡ï¼Œè¿™ä¸ªå…³é”®å­—å¤‡å—äº‰è®®ï¼Œå¾ˆå¤šäººåŸºäºŽè¡¨é¢ç†è§£è€Œå¯¼è‡´åœ¨å®žé™…å¼€å‘è¿‡ç”Ÿä¸­å¤§è‚†è¯¯ç”¨ï¼Œæš´éœ²å‡ºå„å¼å„æ ·çš„é—®é¢˜ï¼Œè®©äººæ‘¸ä¸ç€å¤´è„‘ï¼Œä»Šå¤©æˆ‘ä»¬æ¥å¥½å¥½ç†è§£ä¸€ä¸‹volatileã€‚ ç™¾åº¦ç™¾ç§‘:volatileæ˜¯ä¸€ä¸ªç±»åž‹ä¿®é¥°ç¬¦.volatileçš„ä½œç”¨æ˜¯ä½œä¸ºæŒ‡ä»¤å…³é”®å­—ï¼Œ... backend JVMåŠå¹¶å‘ç¼–ç¨‹ é˜…è¯»å…¨æ–‡ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ &bull; 2018å¹´06æœˆ01æ—¥ ç¡¬ä»¶çš„æ•ˆçŽ‡ä¸Žä¸€è‡´æ€§è®¡ç®—æœºå†…éƒ¨è¿ç®—æµç¨‹ è®¡ç®—æœºæ‰§è¡Œè‹¥å¹²ä¸ªè¿ç®—ä»»åŠ¡ï¼Œæ‰€æœ‰çš„è®¡ç®—ä»»åŠ¡ä¸å¯èƒ½ä»…ä»…é å¤„ç†å™¨â€œè®¡ç®—â€æ¥å®Œæˆï¼Œè®¡ç®—å™¨å­˜å‚¨è®¾å¤‡ä¸Žå¤„ç†å™¨çš„è¿ç®—é€Ÿåº¦æœ‰å‡ ä¸ªæ•°é‡çº§çš„å·®è·ï¼› è‡³å°‘è¦ä¸Žå†…å­˜è¿›è¡Œäº¤äº’ï¼Œå¦‚è¯»å–è¿ç®—æ•°æ®ã€å­˜å‚¨è¿ç®—ç»“æžœï¼Œä¸èƒ½ä»…ä»…é CPUå¯„å­˜å™¨æ¥å®Œæˆ éšç€è®¡ç®—æœºç¡¬ä»¶çš„å¿«é€Ÿå‘å±•ï¼Œä»»ä½•è®¾å¤‡çš„è¯»å†™é€Ÿåº¦è¦... backend JVMåŠå¹¶å‘ç¼–ç¨‹ é˜…è¯»å…¨æ–‡ 123456 æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:41.043Z","updated":"2020-01-08T13:06:40.876Z","comments":true,"path":"public/page/4/index.html","permalink":"http://ltyeamin.github.io/public/page/4/index.html","excerpt":"","text":"å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ &bull; 2018å¹´05æœˆ24æ—¥ åœ¨å…¬å¸ITéƒ¨é—¨é‡Œ,å„ä¸ªå›¢é˜Ÿ(äº§å“è®¾è®¡å›¢é˜Ÿ-UI/UEè®¾è®¡å¸ˆ-å‰ç«¯å·¥ç¨‹å¸ˆ-ç§»åŠ¨ç«¯å·¥ç¨‹å¸ˆ-åŽç«¯å·¥ç¨‹å¸ˆ-æµ‹è¯•å·¥ç¨‹å¸ˆ-è¿ç»´å·¥ç¨‹å¸ˆ)äº’ç›¸åä½œ,å…±åŒè¾¾åˆ°é¡¹ç›®ä¸Šçº¿çš„ç›®çš„.å¦‚æžœä¸€ä¸ªå…¬å¸çš„ITéƒ¨é—¨äººå‘˜ç®¡ç†ä»¥åŠé¡¹ç›®å¼€å‘æµç¨‹ä¸å¤ªå®Œå–„,å°±ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜,æ¯”å¦‚æ‰¯çš®æ— ç•Œå’Œæ²Ÿé€šä½Žæ•ˆç­‰é—®é¢˜,è¿™äº›ä¸¥é‡å½±å“åˆ°å·¥ä½œæ•ˆçŽ‡,æ‰“ç ´äº†é¡¹ç›®... pm Team Building é˜…è¯»å…¨æ–‡ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† &bull; 2018å¹´05æœˆ24æ—¥ ç™¾å®¶æŠ€æœ¯,è°ˆç¬‘å¤ä»Š.ä»Šå¤©æˆ‘ä»¬ä¸è®²ä¸‰å›½,æˆ‘ä»¬è®²ä¸€è®²å¾®æœåŠ¡ç½‘å…³ä¸­çš„ä¸€äº›ç»†èŠ‚:Zuulè¿‡æ»¤å™¨. Zuulè¿‡æ»¤å™¨Spring Cloudä¸­çš„Zuulä¸ºæˆ‘ä»¬æä¾›äº†ç»Ÿä¸€å¯¹å¤–,è·¯ç”±è½¬å‘å’Œè¿‡æ»¤æ‹¦æˆªçš„å¼ºå¤§åŠŸèƒ½.åœ¨Spring Cloud Zuulä¸­å®žçŽ°çš„è¿‡æ»¤å™¨å¿…é¡»åŒ…å«4ä¸ªåŸºæœ¬ç‰¹å¾:è¿‡æ»¤ç±»åž‹,æ‰§è¡Œé¡ºåº,æ‰§è¡Œæ¡... backend Spring Cloud é˜…è¯»å…¨æ–‡ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ &bull; 2018å¹´05æœˆ22æ—¥ Linuxçš„ä¸–ç•Œé‡Œä¸€åˆ‡çš†æ–‡ä»¶,å¯¹Linuxçš„æ“ä½œå°±æ˜¯å¯¹æ–‡ä»¶çš„å¤„ç†.è¢«ä¸šç•Œç§°ä¸ºâ€ä¸‰å‰‘å®¢â€çš„awk,sed,grepå°±èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿æ›´é«˜æ•ˆçš„å¤„ç†æ–‡ä»¶.â€œä¸‰å‰‘å®¢â€ä¸­grepæ“…é•¿æŸ¥æ‰¾åŠŸèƒ½,sedæ“…é•¿å–è¡Œå’Œæ›¿æ¢,awkæ“…é•¿å–åˆ—.â€œä¸‰å‰‘å®¢â€å°±æ˜¯æ™®é€šçš„Linuxå‘½ä»¤,è€Œæ­£åˆ™è¡¨è¾¾å¼å¥½æ¯”ä¸€ä¸ªæ¨¡æ¿,ä¸¤è€…ç»“åˆä½¿... ops Linux é˜…è¯»å…¨æ–‡ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ &bull; 2018å¹´05æœˆ22æ—¥ Linuxç³»ç»Ÿä¸‹çš„ä¸‹è½½å·¥å…·wget æ˜¯ä¸€ä¸ªä»Žç½‘ç»œä¸Šè‡ªåŠ¨ä¸‹è½½æ–‡ä»¶çš„è‡ªç”±å·¥å…·,æ”¯æŒé€šè¿‡ HTTP,HTTPS,FTP ä¸‰ä¸ªæœ€å¸¸è§çš„ TCP/IPåè®® ä¸‹è½½,å¹¶å¯ä»¥ä½¿ç”¨ HTTP ä»£ç†.â€wgetâ€ è¿™ä¸ªåç§°æ¥æºäºŽ â€œWorld Wide Webâ€ ä¸Ž â€œgetâ€ çš„ç»“åˆ.æ‰€è°“è‡ªåŠ¨ä¸‹è½½,æ˜¯æŒ‡ wge... ops Linux é˜…è¯»å…¨æ–‡ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter &bull; 2018å¹´05æœˆ18æ—¥ æˆ‘ä»¬å¯ä»¥æ¨¡ä»¿ä¹‹å‰httpç¼–ç è‡ªåŠ¨é…ç½®çš„ä¾‹å­ä¹Ÿåè®®ä¸€ä¸ªstarter,ç›®çš„æ˜¯ä¸ºäº†é™ä½Žè€¦åˆæ€§.è™½è¯´å¯ä»¥é™ä½Žç¨‹åºä¾èµ–ä¹‹é—´çš„è€¦åˆæ€§,ä½†æ˜¯æˆ‘ä»¬ä¸å»ºè®®è‡ªå·±å®šä¹‰starter,å› ä¸ºSpring Bootæˆ–å…¶ä»–ç¤¾åŒºå·²ç»æä¾›äº†å¤§éƒ¨åˆ†çš„starter,å¯ä»¥æ»¡è¶³æˆ‘ä»¬æ—¥å¸¸çš„éœ€æ±‚.æœ¬ç¯‡åšæ–‡ä¸»è¦ä¸ºäº†è®©å¤§å®¶æ›´å¥½çš„ç†è§£Spr... backend Spring Boot é˜…è¯»å…¨æ–‡ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž &bull; 2018å¹´05æœˆ17æ—¥ ç¥žå¥‡é­”æ³•-è‡ªåŠ¨é…ç½®å‰ç¯‡æ–‡ç« è®²è¿°äº†Spring 4 æ¡ä»¶æ³¨è§£,å…¶å®žSpring Bootè‡ªåŠ¨é…ç½®ç¥žå¥‡å®žçŽ°ä¹Ÿæ˜¯åŸºäºŽè¿™ä¸€åŽŸç†çš„.è‹¥æƒ³çŸ¥é“Spring Bootä¸ºæˆ‘ä»¬åšäº†å“ªäº›çš„è‡ªåŠ¨é…ç½®,å¯ä»¥æŸ¥çœ‹è¿™é‡Œçš„æºç .å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼æŸ¥çœ‹é¡¹ç›®ä¸­å·²å¯ç”¨å’Œæœªå¯ç”¨çš„è‡ªåŠ¨é…ç½®æŠ¥å‘Š. è¿è¡Œjaræ—¶å¢žåŠ â€“debugå‚æ•°... backend Spring Boot é˜…è¯»å…¨æ–‡ Springæ¡ä»¶æ³¨è§£@Conditional &bull; 2018å¹´05æœˆ17æ—¥ @Conditionalæ³¨è§£Spring 4æä¾›äº†ä¸€ä¸ªåŸºäºŽæ¡ä»¶çš„Beançš„åˆ›å»º,å³ä½¿ç”¨@Conditionalæ³¨è§£.@Conditionalæ ¹æ®æ»¡è¶³æŸä¸€ä¸ªç‰¹å®šæ¡ä»¶åˆ›å»ºä¸€ä¸ªç‰¹å®šçš„Bean.æ¯”å¦‚è¯´,å½“æŸä¸€ä¸ªjaråŒ…åœ¨ä¸€ä¸ªç±»è·¯å¾„ä¸‹çš„æ—¶å€™,è‡ªåŠ¨é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªBean;æˆ–è€…åªæœ‰æŸä¸ªBeanè¢«åˆ›å»ºæ‰ä¼šåˆ›å»º... backend Spring é˜…è¯»å…¨æ–‡ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ &bull; 2018å¹´05æœˆ15æ—¥ Springå®¹å™¨å®¹å™¨æ˜¯Springæ¡†æž¶çš„æ ¸å¿ƒ.Springå®¹å™¨ä½¿ç”¨DIç®¡ç†æž„æˆåº”ç”¨çš„ç»„ä»¶,ä»–ä¼šåˆ›å»ºç›¸äº’åä½œçš„ç»„ä»¶ä¹‹é—´çš„å…³è”.Springå®¹å™¨å¹¶ä¸æ˜¯åªæœ‰ä¸€ä¸ª.Springè‡ªå¸¦å¤šä¸ªå®¹å™¨å®žçŽ°,å¯å½’çº³ä¸ºä¸¤ç§ä¸åŒçš„ç±»åž‹: Beanå·¥åŽ‚(ç”±BeanFactoryæŽ¥å£å®šä¹‰)æ˜¯æœ€ç®€å•çš„åŒæœŸ,æä¾›åŸºæœ¬çš„DIæ”¯... backend Spring é˜…è¯»å…¨æ–‡ æ•°æ®ç»“æž„ä¹‹æŽ’åº &bull; 2018å¹´05æœˆ10æ—¥ æ•°æ®ç»“æž„å’Œç®—æ³•æ˜¯æ•´ä¸ªè®¡ç®—æœºç§‘å­¦ä¸ŽæŠ€æœ¯é¢†åŸŸæ°¸è¿œé€ƒé¿ä¸äº†çš„è¯é¢˜,åšä¸»å¤§å­¦æœ‰è¿‡æ•°æ®ç»“æž„è¿™é—¨å­¦ç§‘,ä¸è¿‡ç‰¹åˆ«åŽæ‚”å½“æ—¶æ²¡æœ‰å¥½å¥½å­¦ä¹ .ä»…å­¦çš„é‚£ä¹ˆç‚¹ä¸œè¥¿çŽ°åœ¨å‡ ä¹Žå¿˜å¾—ä¸€å¹²äºŒå‡€.è™½è¯´å­¦çš„æµ…è–„,ä½†å¯¹æ•´ä¸ªç¼–ç¨‹æ€æƒ³è¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„. åç§å¸¸è§æŽ’åºç®—æ³•åç§å¸¸è§æŽ’åºç®—æ³•å¯åˆ†ä¸ºä¸¤å¤§ç±»: éžçº¿æ€§æ—¶é—´æ¯”è¾ƒç±»æŽ’åºï¼šé€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒ... algorithm æŽ’åºç®—æ³• é˜…è¯»å…¨æ–‡ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok &bull; 2018å¹´04æœˆ04æ—¥ ä½œä¸ºä¸€ä¸ªWebå¼€å‘è€…,æˆ‘ä»¬æœ‰æ—¶å€™ä¼šéœ€è¦ä¸´æ—¶åœ°å°†ä¸€ä¸ªæœ¬åœ°çš„Webç½‘ç«™éƒ¨ç½²åˆ°å¤–ç½‘,ä»¥ä¾›ä»–äººä½“éªŒè¯„ä»·æˆ–ååŠ©è°ƒè¯•ç­‰ç­‰,é€šå¸¸æˆ‘ä»¬ä¼šè¿™ä¹ˆåš: æ‰¾åˆ°ä¸€å°è¿è¡ŒäºŽå¤–ç½‘çš„WebæœåŠ¡å™¨; æœåŠ¡å™¨ä¸Šæ­å»ºç½‘ç«™è¿è¡Œæ—¶çš„çŽ¯å¢ƒ; éƒ¨ç½²ç½‘ç«™ è°ƒè¯•ç»“æŸåŽ,å†å°†ç½‘ç«™ä»ŽæœåŠ¡å™¨ä¸Šåˆ é™¤ æˆ‘ä»¬éƒ¨ç½²é™æ€çš„ç½‘ç«™ä»…ä»…åªæ˜¯éœ€è¦å±•ç¤ºç»™æœ‹å‹,ä½•å¿…... ops å®žç”¨å·¥å…·åŠæŠ€å·§ é˜…è¯»å…¨æ–‡ 123456 æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:36.784Z","updated":"2020-01-08T13:06:36.673Z","comments":true,"path":"public/page/5/index.html","permalink":"http://ltyeamin.github.io/public/page/5/index.html","excerpt":"","text":"å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž &bull; 2018å¹´03æœˆ27æ—¥ åœ¨Springä¸­,è¢«@Scopeæ³¨è§£ä¿®é¥°Beané»˜è®¤æ˜¯å•ä¾‹æ¨¡å¼çš„,å³åªæœ‰ä¸€ä¸ªå®žä¾‹å¯¹è±¡,å¤šæ¬¡èŽ·å–Beanä¼šæ‹¿åˆ°åŒä¸€ä¸ªå¯¹è±¡. å•ä¾‹æ³¨å†Œè¡¨Springé‡‡ç”¨å•ä¾‹æ³¨å†Œè¡¨çš„ç‰¹æ®Šæ–¹å¼å®žçŽ°å•ä¾‹æ¨¡å¼.é¦–å…ˆè‡ªå·±å†™ä¸ªå•ä¾‹æ³¨å†Œè¡¨.æˆ‘ä»¬å¯ä»¥é€šè¿‡Mapç¼“å­˜å•ä¾‹å¯¹è±¡,å®žçŽ°å•ä¾‹æ³¨å†Œè¡¨.å€¼å¾—æ³¨æ„çš„æ˜¯,é‡‡ç”¨ConcurrentH... backend Spring é˜…è¯»å…¨æ–‡ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž &bull; 2018å¹´03æœˆ15æ—¥ æœ€è¿‘åœ¨ä½¿ç”¨Spring Cloudè¿‡ç¨‹ä¸­,ç»å¸¸ä¼šé‡è§çº¿ç¨‹éš”ç¦»(åˆ‡æ¢).å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±.ä¾‹å¦‚è°ƒç”¨å…¶ä»–æœåŠ¡èŽ·å–ä¸åˆ°Threadlocalæ²¡æœ‰æ•°æ®,æœåŠ¡ä¹‹é—´ä¼ é€’è¯·æ±‚å¤´ä¼ é€’å¤±è´¥.é€šè¿‡æŸ¥é˜…ç›¸å…³æ–‡æ¡£æ‰å‘çŽ°:ç”¨Hystrixå®žçŽ°æ–­è·¯å™¨,Zuulä¸­é»˜è®¤ä½¿ç”¨çš„æ˜¯ä¿¡å·é‡,å…¶ä»–é»˜è®¤éƒ½æ˜¯çº¿ç¨‹éš”ç¦».... backend Java é˜…è¯»å…¨æ–‡ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ &bull; 2018å¹´02æœˆ07æ—¥ Jenkinsæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶é¡¹ç›®ï¼Œæ˜¯åŸºäºŽJavaå¼€å‘çš„ä¸€ç§æŒç»­é›†æˆå·¥å…·ï¼Œç”¨äºŽç›‘æŽ§æŒç»­é‡å¤çš„å·¥ä½œï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå¼€æ”¾æ˜“ç”¨çš„è½¯ä»¶å¹³å°ï¼Œä½¿è½¯ä»¶çš„æŒç»­é›†æˆå˜æˆå¯èƒ½ã€‚ å®‰è£…Jenkinsé¦–å…ˆæˆ‘ä»¬åŽ»Jenkinså®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°çš„éƒ¨ç½²åŒ…(.war):Jenkins.å› ä¸ºæˆ‘æ˜¯åœ¨Linuxå¹³å°éƒ¨ç½²,éœ€è¦æ³¨æ„çš„æ˜¯... ops Jenkins é˜…è¯»å…¨æ–‡ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) &bull; 2018å¹´01æœˆ30æ—¥ å‡ ä¹Žæ‰€æœ‰çš„ä¸»æµç¼–ç¨‹è¯­è¨€éƒ½å¯¹å‡½æ•°å¼ç¼–ç¨‹æœ‰æ”¯æŒ,æˆ‘æ‰€ç”¨è¿‡çš„æ¯”å¦‚Java8çš„Lambdaè¡¨è¾¾å¼,JavaScriptå’ŒGroovyè¯­è¨€çš„é—­åŒ…(Closure)ç­‰,å…¶ä»–çš„ç±»ä¼¼äºŽObject-Cçš„block,pythonçš„Lambdaå’ŒC++11,çœ‹åˆ°è¿™äº›,æˆ‘éƒ½æœ‰ç‚¹çœ©æ™•æƒ³åçš„æ„Ÿè§‰. åŒ¿åå‡½æ•°,Lambd... backend Java é˜…è¯»å…¨æ–‡ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ &bull; 2018å¹´01æœˆ30æ—¥ æœ€è¿‘åœ¨åšé¡¹ç›®ä¼˜åŒ–,ç ”ç©¶äº†Spring Cloudåº•å±‚æºç ,Httpè¯·æ±‚åº“é»˜è®¤æ˜¯Apache HttpClientæˆ–è€…JDKè‡ªå¸¦çš„HttpURLConnectionåº“.Javaæ ‡å‡†åº“æä¾›äº†HttpURLConnectionç±»æ¥æ”¯æŒHTTPé€šè®¯ã€‚ä¸è¿‡HttpURLConnectionæœ¬èº«çš„APIä¸... backend Spring Cloud é˜…è¯»å…¨æ–‡ ES6æ–°çš„æ•°æ®ç±»åž‹-generator &bull; 2017å¹´12æœˆ15æ—¥ æ–°çš„æ•°æ®ç±»åž‹-generatorgeneratorï¼ˆç”Ÿæˆå™¨ï¼‰æ˜¯ES6æ ‡å‡†å¼•å…¥çš„æ–°çš„æ•°æ®ç±»åž‹ã€‚ä¸€ä¸ªgeneratorçœ‹ä¸ŠåŽ»åƒä¸€ä¸ªå‡½æ•°ï¼Œä½†å¯ä»¥è¿”å›žå¤šæ¬¡.ES6å®šä¹‰generatoræ ‡å‡†çš„å“¥ä»¬å€Ÿé‰´äº†Pythonçš„generatorçš„æ¦‚å¿µå’Œè¯­æ³•.æˆ‘ä»¬å…ˆå¤ä¹ å‡½æ•°çš„æ¦‚å¿µã€‚ä¸€ä¸ªå‡½æ•°æ˜¯ä¸€æ®µå®Œæ•´çš„ä»£ç ï¼Œè°ƒç”¨ä¸€ä¸ª... frontend JavaScript é˜…è¯»å…¨æ–‡ ç®­å¤´å‡½æ•° &bull; 2017å¹´12æœˆ15æ—¥ ç®­å¤´å‡½æ•°ES6æ ‡å‡†æ–°å¢žäº†ä¸€ç§æ–°çš„å‡½æ•°ï¼šArrow Functionï¼ˆç®­å¤´å‡½æ•°ï¼‰ã€‚ä¸ºä»€ä¹ˆå«Arrow Functionï¼Ÿå› ä¸ºå®ƒçš„å®šä¹‰ç”¨çš„å°±æ˜¯ä¸€ä¸ªç®­å¤´:12var fn = x =&amp;gt; x * x;alert(fn(5)); //25 ä¸Šé¢çš„ç®­å¤´å‡½æ•°ç›¸å½“äºŽ:1234function (x) ... frontend JavaScript é˜…è¯»å…¨æ–‡ é—­åŒ… &bull; 2017å¹´12æœˆ13æ—¥ å‡½æ•°ä½œä¸ºè¿”å›žå€¼é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æŽ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æžœå€¼è¿”å›žã€‚æˆ‘ä»¬æ¥å®žçŽ°ä¸€ä¸ªå¯¹Arrayçš„æ±‚å’Œã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ±‚å’Œçš„å‡½æ•°æ˜¯è¿™æ ·å®šä¹‰çš„:123456function sum(arr) &amp;#123; return arr.reduce(function (x, y) &amp;#123... frontend JavaScript é˜…è¯»å…¨æ–‡ é«˜é˜¶å‡½æ•° &bull; 2017å¹´12æœˆ13æ—¥ é«˜é˜¶å‡½æ•°æ¦‚è¿°é«˜é˜¶å‡½æ•°è‹±æ–‡å«Higher-order functionã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼ŸJavaScriptçš„å‡½æ•°å…¶å®žéƒ½æŒ‡å‘æŸä¸ªå˜é‡ã€‚æ—¢ç„¶å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°èƒ½æŽ¥æ”¶å˜é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æŽ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°å°±ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚ä¸€ä¸ªæœ€ç®€å•çš„é«˜é˜¶å‡½æ•°: 12345functi... frontend JavaScript é˜…è¯»å…¨æ–‡ JSæ–¹æ³• &bull; 2017å¹´12æœˆ13æ—¥ å¯¹è±¡çš„æ–¹æ³•åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ç»‘å®šå‡½æ•°ï¼Œç§°ä¸ºè¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚åœ¨JavaScriptä¸­ï¼Œå¯¹è±¡çš„å®šä¹‰æ˜¯è¿™æ ·çš„:1234var xiaoming = &amp;#123; name: &amp;apos;å°æ˜Ž&amp;apos;, birth: 1990&amp;#125;; ä½†æ˜¯ï¼Œå¦‚æžœæˆ‘ä»¬ç»™xiaomingç»‘å®šä¸€ä¸ªå‡½æ•°ï¼Œå°±å¯... frontend JavaScript é˜…è¯»å…¨æ–‡ 1&hellip;3456 æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.813Z","updated":"2019-11-27T15:22:15.813Z","comments":true,"path":"public/archives/2019/index.html","permalink":"http://ltyeamin.github.io/public/archives/2019/index.html","excerpt":"","text":"å½’æ¡£ï¼š2019 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.796Z","updated":"2019-11-27T15:22:15.796Z","comments":true,"path":"public/archives/2017/12/index.html","permalink":"http://ltyeamin.github.io/public/archives/2017/12/index.html","excerpt":"","text":"å½’æ¡£ï¼š2017/12 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2017 1512æœˆ ES6æ–°çš„æ•°æ®ç±»åž‹-generator 1512æœˆ ç®­å¤´å‡½æ•° 1312æœˆ é—­åŒ… 1312æœˆ é«˜é˜¶å‡½æ•° 1312æœˆ JSæ–¹æ³• 1312æœˆ å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ 0412æœˆ JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.802Z","updated":"2019-11-27T15:22:15.802Z","comments":true,"path":"public/categories/others/index.html","permalink":"http://ltyeamin.github.io/public/categories/others/index.html","excerpt":"","text":"åˆ†ç±»: others | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ others é­”éƒ½ä¸Šæµ· &bull; 2019å¹´06æœˆ09æ—¥ ä¸Šæµ·å®£ä¼ ç‰‡ const dp0 = new DPlayer({ container: document.getElementById(&#39;dplayer0&#39;), screenshot: true, video: { url: &#39;h... è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– &bull; 2019å¹´03æœˆ28æ—¥ LZæ¯å¤©éƒ½è¦æ‰“å¼€å¼€æºä¸­å›½ç½‘ç«™çœ‹çœ‹äº’è”ç½‘ç™¾æ€ï¼Œåœ¨ä»Šå¤©çš„ç½‘ç«™é‡Œï¼Œçœ‹åˆ°äº†ä¸¤ä»¶æœ‰æ„æ€çš„è¶£äº‹: æŠµåˆ¶996åŠ ç­æ–‡åŒ–996.icuï¼Œå¤§å®¶åœ¨996I.ICU GitHubç•…è°ˆè‡ªç”±ã€åæ§½åŠ ç­ æŸç¨‹åºå‘˜åˆ åº“è·‘è·¯åˆ¶ä½œçš„ç½‘ç«™-å®‰å¾½æ±½è½¦ç½‘æ˜¯ç”±ç®€å•çš„å›¾ç‰‡æ˜¾ç¤ºæ‹¼æŽ¥è€Œæˆçš„ã€‚ 996åŠ ç­æ–‡åŒ–æ— è®ºæ˜¯ä¼ ç»Ÿè¡Œä¸šï¼Œ... æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:17.397Z","updated":"2019-11-27T15:22:17.397Z","comments":true,"path":"public/static/api/js/base/class.js","permalink":"http://ltyeamin.github.io/public/static/api/js/base/class.js","excerpt":"","text":"!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"base/class\",function(n,a,e){var s=n(\"base/min_tangram\").T;a.BaseClass=function(){var n=this,a={};n.on=function(n,e){var s=a[n];s||(s=a[n]=[]),s.push(e)},n.un=function(n,e){if(!n)return void(a={});var i=a[n];i&&(e?s.each(i,function(n,a){if(a==e)return i.splice(n,1),!1}):a[n]=[])},n.fire=function(e,i){var t=a[e];t&&(i=i||{},s.each(t,function(a,e){i._result=e.call(n,s.extend({_ctx:{src:n}},i))}))}};var i={};i.create=function(n,e){return e=e||a.BaseClass,function(){e.apply(this,arguments);var a=s.extend({},this);n.apply(this,arguments),this._super=a}},a.Class=i});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/component/anticheat.js","permalink":"http://ltyeamin.github.io/public/static/api/js/component/anticheat.js","excerpt":"","text":"window._bd_share_main.F.module(\"component/anticheat\",function(t,e,a){var o,n,i=t(\"base/tangram\").T,r=function(t,e){var a=i(e).offset(),o={left:t.pageX,top:t.pageY};return{left:Math.floor(o.left-a.left),top:Math.floor(o.top-a.top)}},c=function(t,e){if(void 0===o&&(o=Math.floor(t.pageX),n=Math.floor(t.pageY)),e){var a=r(t,e);i(e).data(\"over_x\",a.left).data(\"over_y\",a.top).data(\"over_time\",+new Date)}},d=function(t,e){var a=r(t,e);i(e).data(\"click_x\",a.left).data(\"click_y\",a.top)},f=function(t,e,a){\"mouseenter\"==t?c(e,a):\"mouseclick\"==t&&d(e,a)},l=function(t){var e=i(t.__element),a=t.__buttonType,r=e.data(\"over_x\")||0,c=e.data(\"over_y\")||0,d=e.data(\"click_x\"),f=e.data(\"click_y\"),l=e.innerWidth(),_=e.innerHeight(),u=new Date-e.data(\"over_time\"),v=document.body.offsetWidth,p=document.body.offsetHeight,h=window.screen.availWidth,m=window.screen.availHeight;return[o,n,a>0?1:0,r,c,d,f,l,_,a,u,v,p,h,m].join(\".\")};e.process=f,e.getSloc=l});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/component/comm_tools.js","permalink":"http://ltyeamin.github.io/public/static/api/js/component/comm_tools.js","excerpt":"","text":"!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"component/comm_tools\",function(n,o){var t=function(){return(window.location||document.location||{}).href||\"\"},r=function(n,o){for(var t=n.length,r=\"\",e=1;e"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/component/partners.js","permalink":"http://ltyeamin.github.io/public/static/api/js/component/partners.js","excerpt":"","text":"window._bd_share_main.F.module(\"component/partners\",function(n,a){a.partners={evernotecn:{name:\"å°è±¡ç¬”è®°\"},h163:{name:\"ç½‘æ˜“çƒ­\"},mshare:{name:\"ä¸€é”®åˆ†äº«\"},qzone:{name:\"QQç©ºé—´\"},tsina:{name:\"æ–°æµªå¾®åš\"},renren:{name:\"äººäººç½‘\"},tqq:{name:\"è…¾è®¯å¾®åš\"},bdxc:{name:\"ç™¾åº¦ç›¸å†Œ\"},kaixin001:{name:\"å¼€å¿ƒç½‘\"},tqf:{name:\"è…¾è®¯æœ‹å‹\"},tieba:{name:\"ç™¾åº¦è´´å§\"},douban:{name:\"è±†ç“£ç½‘\"},bdhome:{name:\"ç™¾åº¦æ–°é¦–é¡µ\"},sqq:{name:\"QQå¥½å‹\"},thx:{name:\"å’Œè®¯å¾®åš\"},bdysc:{name:\"ç™¾åº¦äº‘æ”¶è—\"},meilishuo:{name:\"ç¾Žä¸½è¯´\"},mogujie:{name:\"è˜‘è‡è¡—\"},diandian:{name:\"ç‚¹ç‚¹ç½‘\"},huaban:{name:\"èŠ±ç“£\"},duitang:{name:\"å †ç³–\"},hx:{name:\"å’Œè®¯\"},fx:{name:\"é£žä¿¡\"},youdao:{name:\"æœ‰é“äº‘ç¬”è®°\"},sdo:{name:\"éº¦åº“è®°äº‹\"},qingbiji:{name:\"è½»ç¬”è®°\"},people:{name:\"äººæ°‘å¾®åš\"},xinhua:{name:\"æ–°åŽå¾®åš\"},mail:{name:\"é‚®ä»¶åˆ†äº«\"},isohu:{name:\"æˆ‘çš„æœç‹\"},yaolan:{name:\"æ‘‡ç¯®ç©ºé—´\"},wealink:{name:\"è‹¥é‚»ç½‘\"},ty:{name:\"å¤©æ¶¯ç¤¾åŒº\"},fbook:{name:\"Facebook\"},twi:{name:\"Twitter\"},linkedin:{name:\"linkedin\"},copy:{name:\"å¤åˆ¶ç½‘å€\"},print:{name:\"æ‰“å°\"},ibaidu:{name:\"ç™¾åº¦ä¸­å¿ƒ\"},weixin:{name:\"å¾®ä¿¡\"},iguba:{name:\"è‚¡å§\"}},a.partnerSort=[\"mshare\",\"qzone\",\"tsina\",\"bdysc\",\"weixin\",\"renren\",\"tqq\",\"bdxc\",\"kaixin001\",\"tqf\",\"tieba\",\"douban\",\"bdhome\",\"sqq\",\"thx\",\"ibaidu\",\"meilishuo\",\"mogujie\",\"diandian\",\"huaban\",\"duitang\",\"hx\",\"fx\",\"youdao\",\"sdo\",\"qingbiji\",\"people\",\"xinhua\",\"mail\",\"isohu\",\"yaolan\",\"wealink\",\"ty\",\"iguba\",\"fbook\",\"twi\",\"linkedin\",\"h163\",\"evernotecn\",\"copy\",\"print\"]});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/component/pop_dialog.js","permalink":"http://ltyeamin.github.io/public/static/api/js/component/pop_dialog.js","excerpt":"","text":"window._bd_share_main.F.module(\"component/pop_dialog\",function(o,a){var e,i,n,t=o(\"base/tangram\").T,d=o(\"base/class\").Class,s=(o(\"conf/const\"),o(\"component/pop_base\")),r=d.create(function(){function o(o){27==o.keyCode&&d.hide()}function a(){var o=6==t.browser.ie?t(window).scrollTop():0,a=i.outerWidth(),e=i.outerHeight(),n=t(window).width(),d=t(window).height(),s=(d-e)/2+o,r=(n-a)/2;return{top:s>0?s:0,left:r>0?r:0}}function e(o,a){var e=t.extend({},d._partnerSort,a.bdDialogPartners),i=[];t.each(e,function(o,a){i[o]=''+d._partners[a].name+\"\"}),d._container.html(i.join(\"\"))}var d=this;d._poptype=2,d._hide=function(){n&&n.hide(),i&&i.hide(),t(\"body\").unbind(\"keydown\",o)},d._show=function(s,r){e(d._container,r);var l=a();t.each([i,n],function(o,a){a.css({top:l.top,left:l.left}).show()}),t(\"body\").bind(\"keydown\",o),window._bd_share_main.F.use(\"trans/logger\",function(o){o.dialog()})},d._init=function(){var o=[''].join(\"\"),a=['','','åˆ†äº«åˆ°',\"\",'','','ç™¾åº¦åˆ†äº«',\"\",\"\"].join(\"\");t(\"body\").insertHTML(\"beforeEnd\",o+a),d._container=t(\".bdshare_dialog_list\"),i=t(\".bdshare_dialog_box\"),n=t(\".bdshare_dialog_bg\"),t(\".bdshare_dialog_close\").click(d.hide)}},s.PopBase);a.Dialog=function(){return e||(e=new r,e.init()),e}()});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/component/pop_popup.js","permalink":"http://ltyeamin.github.io/public/static/api/js/component/pop_popup.js","excerpt":"","text":"window._bd_share_main.F.module(\"component/pop_popup\",function(e,o){var t,i,n,a,p=e(\"base/tangram\").T,s=e(\"base/class\").Class,r=(e(\"conf/const\"),e(\"component/pop_base\")),d=s.create(function(){function e(e,t){var s=t.bdMini||2,r=t.bdMiniList||o._partnerSort.slice(0,8*s),d=[];p.each(r,function(e,t){d[e]=''+o._partners[t].name+\"\"}),a.html(d.join(\"\")),i.width(110*s+6),n.height(i.outerHeight()),n.width(i.outerWidth())}var o=this;o._poptype=1,o._hide=function(){n&&n.hide(),i&&i.hide()},o._show=function(t,a){e(o._container,a);var s=o._getPosition(t.element,a);p.each([i,n],function(e,o){o.css({top:s.top,left:s.left}).show()}),p(t.element).one(\"mouseout\",function(){var e=!1;i.one(\"mouseover\",function(){e=!0}),setTimeout(function(){!e&&o.hide()},300)})},o._getPosition=function(e,o){var t=p(e).offset(),n=t.top+p(e).height()+5,a=t.left,s=i.outerHeight(),r=p(window).scrollTop();(n+s>p(\"body\").height()&&n+s>p(window).height()||n+s>r+p(window).height())&&(n=t.top-s-5,n=n'].join(\"\"),s=['','',\"åˆ†äº«åˆ°\",\"\",'','','æ›´å¤š...',\"\",\"\"].join(\"\");p(\"body\").insertHTML(\"beforeEnd\",t+s),o._container=i=p(\"#\"+e+\"box\"),a=i.find(\".bdshare_popup_list\"),n=p(\"#\"+e+\"bg\"),i.mouseleave(o.hide)}},r.PopBase);o.Popup=function(){return t||(t=new d,t.init()),t}()});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/component/pop_base.js","permalink":"http://ltyeamin.github.io/public/static/api/js/component/pop_base.js","excerpt":"","text":"window._bd_share_main.F.module(\"component/pop_base\",function(t,e,n){var a=t(\"base/tangram\").T,r=t(\"conf/const\"),o=t(\"base/class\").Class;e.PopBase=o.create(function(e){function n(t){a(t).click(function(t){t=a.event(t||window.event);var e=o(t.target);e&&(t.preventDefault(),i.fire(\"clickact\",{cmd:a(e).attr(i._actBtnSet.cmdAttr),element:e,event:t,buttonType:i._poptype}))}).mouseover(function(t){var e=o(t.target);i.fire(\"mouseenter\",{element:e,event:t}),\"more\"==a(e).attr(\"data-cmd\")&&i.fire(\"moreover\",{element:e,event:t})})}function o(t){if(c(t))return t;if(i._actBtnSet.maxDomDepth>0)for(var e=i._actBtnSet.maxDomDepth,n=0,r=a(t).parent().get(0),o=i.entities;n"},{"title":"","date":"2019-11-27T15:22:17.396Z","updated":"2019-11-27T15:22:17.396Z","comments":true,"path":"public/static/api/js/component/animate.js","permalink":"http://ltyeamin.github.io/public/static/api/js/component/animate.js","excerpt":"","text":"window._bd_share_main.F.module(\"component/animate\",function(t,e,n){var i,r=i=r||{version:\"1.5.2.2\"};r.guid=\"$BAIDU$\",r.$$=window[r.guid]=window[r.guid]||{global:{}},r.fx=r.fx||{},r.lang=r.lang||{},r.lang.guid=function(){return\"TANGRAM$\"+r.$$._counter++},r.$$._counter=r.$$._counter||1,r.lang.Class=function(){this.guid=r.lang.guid(),!this.__decontrolled&&(r.$$._instances[this.guid]=this)},r.$$._instances=r.$$._instances||{},r.lang.Class.prototype.dispose=function(){delete r.$$._instances[this.guid];for(var t in this)\"function\"!=typeof this[t]&&delete this[t];this.disposed=!0},r.lang.Class.prototype.toString=function(){return\"[object \"+(this.__type||this._className||\"Object\")+\"]\"},window.baiduInstance=function(t){return r.$$._instances[t]},r.lang.isString=function(t){return\"[object String]\"==Object.prototype.toString.call(t)},r.isString=r.lang.isString,r.lang.Event=function(t,e){this.type=t,this.returnValue=!0,this.target=e||null,this.currentTarget=null},r.lang.Class.prototype.fire=r.lang.Class.prototype.dispatchEvent=function(t,e){r.lang.isString(t)&&(t=new r.lang.Event(t)),!this.__listeners&&(this.__listeners={}),e=e||{};for(var n in e)t[n]=e[n];var n,i,o=this,s=o.__listeners,a=t.type;if(t.target=t.target||(t.currentTarget=o),a.indexOf(\"on\")&&(a=\"on\"+a),\"function\"==typeof o[a]&&o[a].apply(o,arguments),\"object\"==typeof s[a])for(n=0,i=s[a].length;n=0;i--)if(r[t][i]===e)return e;return r[t].push(e),n&&\"string\"==typeof n&&(r[t][n]=e),e}},r.lang.inherits=function(t,e,n){var i,r,o=t.prototype,s=new Function;s.prototype=e.prototype,r=t.prototype=new s;for(i in o)r[i]=o[i];return t.prototype.constructor=t,t.superClass=e.prototype,\"string\"==typeof n&&(r.__type=n),t.extend=function(e){for(var n in e)r[n]=e[n];return t},t},r.inherits=r.lang.inherits,r.object=r.object||{},r.extend=r.object.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},r.fx.Timeline=function(t){r.lang.Class.call(this),this.interval=16,this.duration=500,this.dynamic=!0,r.object.extend(this,t)},r.lang.inherits(r.fx.Timeline,r.lang.Class,\"baidu.fx.Timeline\").extend({launch:function(){var t=this;return t.dispatchEvent(\"onbeforestart\"),\"function\"==typeof t.initialize&&t.initialize(),t[\"\u0006btime\"]=(new Date).getTime(),t[\"\u0006etime\"]=t[\"\u0006btime\"]+(t.dynamic?t.duration:0),t[\"\u0006pulsed\"](),t},\"\u0006pulsed\":function(){var t=this,e=(new Date).getTime();if(t.percent=(e-t[\"\u0006btime\"])/t.duration,t.dispatchEvent(\"onbeforeupdate\"),e>=t[\"\u0006etime\"])return\"function\"==typeof t.render&&t.render(t.transition(t.percent=1)),\"function\"==typeof t.finish&&t.finish(),t.dispatchEvent(\"onafterfinish\"),void t.dispose();\"function\"==typeof t.render&&t.render(t.transition(t.percent)),t.dispatchEvent(\"onafterupdate\"),t[\"\u0006timer\"]=setTimeout(function(){t[\"\u0006pulsed\"]()},t.interval)},transition:function(t){return t},cancel:function(){this[\"\u0006timer\"]&&clearTimeout(this[\"\u0006timer\"]),this[\"\u0006etime\"]=this[\"\u0006btime\"],\"function\"==typeof this.restore&&this.restore(),this.dispatchEvent(\"oncancel\"),this.dispose()},end:function(){this[\"\u0006timer\"]&&clearTimeout(this[\"\u0006timer\"]),this[\"\u0006etime\"]=this[\"\u0006btime\"],this[\"\u0006pulsed\"]()}}),r.object.each=function(t,e){var n,i;if(\"function\"==typeof e)for(n in t)if(t.hasOwnProperty(n)&&(i=t[n],!1===e.call(t,i,n)))break;return t},r.dom=r.dom||{},r.dom.g=function(t){return t?\"string\"==typeof t||t instanceof String?document.getElementById(t):!t.nodeName||1!=t.nodeType&&9!=t.nodeType?null:t:null},r.g=r.G=r.dom.g,r.dom._g=function(t){return r.lang.isString(t)?document.getElementById(t):t},r._g=r.dom._g,r.dom.getDocument=function(t){return t=r.dom.g(t),9==t.nodeType?t:t.ownerDocument||t.document},r.dom.getComputedStyle=function(t,e){t=r.dom._g(t);var n,i=r.dom.getDocument(t);return i.defaultView&&i.defaultView.getComputedStyle&&(n=i.defaultView.getComputedStyle(t,null))?n[e]||n.getPropertyValue(e):\"\"},r.dom._styleFixer=r.dom._styleFixer||{},r.dom._styleFilter=r.dom._styleFilter||[],r.dom._styleFilter.filter=function(t,e,n){for(var i,o=0,s=r.dom._styleFilter;i=s[o];o++)(i=i[n])&&(e=i(t,e));return e},r.string=r.string||{},r.string.toCamelCase=function(t){return t.indexOf(\"-\")"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/component/pop_popup_slide.js","permalink":"http://ltyeamin.github.io/public/static/api/js/component/pop_popup_slide.js","excerpt":"","text":"window._bd_share_main.F.module(\"component/pop_popup_slide\",function(e,o){var n,t,i,a,s=e(\"base/tangram\").T,p=e(\"base/class\").Class,r=(e(\"conf/const\"),e(\"component/pop_base\")),d=p.create(function(){function e(e){var o=s(e).offset(),n=o.top+s(e).height()+5,i=o.left,a=t.outerHeight();return n+a>s(\"body\").height()&&n+a>s(window).height()&&(n=o.top-a-5,n=n'+n._partners[o].name+\"\")}),a.html(d.join(\"\")),t.width(110*p+6),i.width(110*p+6)}var n=this;n._hide=function(){i&&i.hide(),t&&t.hide()},n._show=function(a,p){o(n._container,p);var r=e(a.element);s.each([t,i],function(e,o){o.css({top:r.top,left:r.left}).show()}),s(a.element).one(\"mouseout\",function(){var e=!1;t.one(\"mouseover\",function(){e=!0}),setTimeout(function(){!e&&n.hide()},300)})},n._init=function(){var e=[''].join(\"\"),o=['','',\"åˆ†äº«åˆ°\",\"\",'','','æ›´å¤š...',\"\",\"\"].join(\"\");s(\"body\").insertHTML(\"beforeEnd\",e+o),n._container=s(\".bdshare_popup_box\"),t=s(\".bdshare_popup_box\"),a=s(\".bdshare_popup_list\"),i=s(\".bdshare_popup_bg\"),t.mouseleave(n.hide)}},r.PopBase);o.Popup=function(){return n||(n=new d,n.init()),n}()});"},{"title":"","date":"2019-11-27T15:22:17.397Z","updated":"2019-11-27T15:22:17.397Z","comments":true,"path":"public/static/api/js/conf/const.js","permalink":"http://ltyeamin.github.io/public/static/api/js/conf/const.js","excerpt":"","text":"!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"conf/const\",function(t,a,c){a.CMD_ATTR=\"data-cmd\",a.CONFIG_TAG_ATTR=\"data-tag\",a.URLS={likeSetUrl:\"http://like.baidu.com/set\",commitUrl:\"http://s.share.baidu.com/commit\",jumpUrl:\"http://s.share.baidu.com\",mshareUrl:\"http://s.share.baidu.com/mshare\",emailUrl:\"http://s.share.baidu.com/sendmail\",nsClick:\"http://nsclick.baidu.com/v.gif\",backUrl:\"http://s.share.baidu.com/back\",shortUrl:\"http://dwz.cn/v2cut.php\"}});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/share/api_base.js","permalink":"http://ltyeamin.github.io/public/static/api/js/share/api_base.js","excerpt":"","text":"window._bd_share_main.F.module(\"share/api_base\",function(n,e,o){var t=n(\"base/tangram\").T,i=n(\"base/class\").Class;e.ApiBase=i.create(function(n){function e(n){window._bd_share_main.F.use(\"component/anticheat\",function(e){e.process(\"mouseenter\",n.event,n.element)}),c._processEvent(n)}function o(s){window._bd_share_main.F.use(\"component/anticheat\",function(n){n.process(\"mouseclick\",s.event,s.element)});var a=c._processAction(s);if(a&&a.data)if(\"more\"==s.cmd||\"count\"==s.cmd)window._bd_share_main.F.use(\"component/pop_dialog\",function(t){var i=t.Dialog;i.un(),i.on(\"clickact\",o),i.on(\"mouseenter\",e),i.show(s,n)});else if(\"popup\"==s.cmd)i(s);else{var u;\"function\"==t.type(n.onBeforeClick)&&(u=t.extend({},n),u=n.onBeforeClick(s.cmd,u));var r=t.extend({},n,u,{__type:a.data.type,__buttonType:s.buttonType,__cmd:s.cmd,__element:s.element});window._bd_share_main.F.use(\"trans/trans\",function(n){n.run(r)}),\"function\"==t.type(n.onAfterClick)&&n.onAfterClick(s.cmd)}}function i(t){window._bd_share_main.F.use(\"component/pop_popup\",function(i){var c=i.Popup;c.un(),c.on(\"clickact\",o),c.on(\"mouseenter\",e),c.show(t,n)})}var c=this,s=null;c.getView=function(){return s},c.setView=function(n){s=n},c.init=function(){c._init(),s&&(s.on(\"clickact\",o),s.on(\"mouseenter\",e),s.on(\"moreover\",i))},c.distory=function(){c._distory(),s&&(s.un(),s.distory()),delete c},c._init=function(){},c._distory=function(){},c._processEvent=function(n){},c._processAction=function(n){}})});"},{"title":"","date":"2019-11-27T15:22:17.397Z","updated":"2019-11-27T15:22:17.397Z","comments":true,"path":"public/static/api/js/share/combine_api.js","permalink":"http://ltyeamin.github.io/public/static/api/js/share/combine_api.js","excerpt":"","text":"window._bd_share_main.F.module(\"share/combine_api\",function(n,a,i){var e=(n(\"base/tangram\").T,n(\"base/class\").Class),s=n(\"share/api_base\");a.CombineApi=e.create(function(n){var a=this,i=null,e=null;a.setApi=function(n,a){i=n,e=a},a._init=function(){i&&e&&i.on(\"sharecompleted\",function(n){})}},s.ApiBase)});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/share/image_api.js","permalink":"http://ltyeamin.github.io/public/static/api/js/share/image_api.js","excerpt":"","text":"window._bd_share_main.F.module(\"share/image_api\",function(e,i,a){var n=(e(\"base/tangram\").T,e(\"base/class\").Class),t=(e(\"component/comm_tools\"),e(\"share/api_base\"));i.Api=n.create(function(e){var i=this;i._init=function(){var e=i.getView();e.render(),e.init(),e.on(\"moreover\",function(){e._keepBarVisible()})},i._processAction=function(a){var n=i.getView();return e.bdPic=n._getImageSrc(),{data:{type:\"imgshare\"}}},i._distory=function(){}},t.ApiBase)});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/share/like_api.js","permalink":"http://ltyeamin.github.io/public/static/api/js/share/like_api.js","excerpt":"","text":"window._bd_share_main.F.module(\"share/like_api\",function(e,n,t){var i=(e(\"base/tangram\").T,e(\"base/class\").Class),c=e(\"share/api_base\");n.Api=i.create(function(e){function n(e){window._bd_share_main.F.use(\"trans/data\",function(n){n.get({type:\"like_count\",url:document.location.href,callback:function(n){var t={count:n};e&&e(t)}})})}function t(e){window._bd_share_main.F.use(\"trans/trans\",function(n){n.run({type:\"like\",url:document.location.href,callback:function(n){var t={err:n};e&&e(t)}})})}var i=this,c={count:0,clicked:!1};i._init=function(){var e=i.getView();e.render(),e.init(),n(function(n){c.count=n.count,e.setNumber(n.count)})},i._processAction=function(e){\"like\"==e.cmd&&(c.clicked?i.getView().showDoneState(e.element):t(function(n){c.clicked=!0,0==n.err?(c.count++,i.getView().addOne(e.element,c.count)):i.getView().showDoneState(e.element)}))}},c.ApiBase)});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/share/select_api.js","permalink":"http://ltyeamin.github.io/public/static/api/js/share/select_api.js","excerpt":"","text":"window._bd_share_main.F.module(\"share/select_api\",function(e,a,n){var t=(e(\"base/tangram\").T,e(\"base/class\").Class),i=(e(\"component/comm_tools\"),e(\"share/api_base\"));a.Api=t.create(function(e){var a=this;a._init=function(){var e=a.getView();e.render(),e.init()},a._processAction=function(e){return{data:{type:\"select\"}}},a._distory=function(){}},i.ApiBase)});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/share/share_api.js","permalink":"http://ltyeamin.github.io/public/static/api/js/share/share_api.js","excerpt":"","text":"window._bd_share_main.F.module(\"share/share_api\",function(n,a,t){var e=(n(\"base/tangram\").T,n(\"base/class\").Class),i=n(\"component/comm_tools\"),o=n(\"share/api_base\");a.Api=e.create(function(n){function a(a){window._bd_share_main.F.use(\"trans/data\",function(t){t.get({type:\"share_count\",url:n.bdUrl||i.getPageUrl(),callback:function(n,t){var e={count:n,display:t};a&&a(e)}})})}var t=this,e={count:0,clicked:!1};t._init=function(){var n=t.getView();n.render(),n.on(\"getsharecount\",function(){a(function(a){e.count=a.count,n.setNumber(a.count,a.display)})}),n.init()},t._processAction=function(n){return{data:{type:\"share\"}}}},o.ApiBase)});"},{"title":"","date":"2019-11-27T15:22:17.398Z","updated":"2019-11-27T15:22:17.398Z","comments":true,"path":"public/static/api/js/start/router.js","permalink":"http://ltyeamin.github.io/public/static/api/js/start/router.js","excerpt":"","text":"!window._bd_share_is_recently_loaded&&window._bd_share_main.F.use(\"base/min_tangram\",function(e){function i(e,i,n){var _=new e(n);_.setView(new i(n)),_.init(),n&&n._handleId&&(_bd_share_main.api=_bd_share_main.api||{},_bd_share_main.api[n._handleId]=_)}function n(e,n){window._bd_share_main.F.use(e,function(e,_){a.isArray(n)?a.each(n,function(n,a){i(e.Api,_.View,a)}):i(e.Api,_.View,n)})}function _(e){var i=e.common||window._bd_share_config&&_bd_share_config.common||{},n={like:{type:\"like\"},share:{type:\"share\",bdStyle:0,bdMini:2,bdSign:\"on\"},slide:{type:\"slide\",bdStyle:\"1\",bdMini:2,bdImg:0,bdPos:\"right\",bdTop:100,bdSign:\"on\"},image:{viewType:\"list\",viewStyle:\"0\",viewPos:\"top\",viewColor:\"black\",viewSize:\"16\",viewList:[\"qzone\",\"tsina\",\"huaban\",\"tqq\",\"renren\"]},selectShare:{type:\"select\",bdStyle:0,bdMini:2,bdSign:\"on\"}},_={share:{__cmd:\"\",__buttonType:\"\",__type:\"\",__element:null},slide:{__cmd:\"\",__buttonType:\"\",__type:\"\",__element:null},image:{__cmd:\"\",__buttonType:\"\",__type:\"\",__element:null}};return a.each([\"like\",\"share\",\"slide\",\"image\",\"selectShare\"],function(t,s){e[s]&&(a.isArray(e[s])&&e[s].length>0?a.each(e[s],function(t,d){e[s][t]=a.extend({},n[s],i,d,_[s])}):e[s]=a.extend({},n[s],i,e[s],_[s]))}),e}var a=e.T;_bd_share_main.init=function(e){if(e=e||window._bd_share_config||{share:{}}){var i=_(e);i.like&&n([\"share/like_api\",\"view/like_view\"],i.like),i.share&&n([\"share/share_api\",\"view/share_view\"],i.share),i.slide&&n([\"share/slide_api\",\"view/slide_view\"],i.slide),i.selectShare&&n([\"share/select_api\",\"view/select_view\"],i.selectShare),i.image&&n([\"share/image_api\",\"view/image_view\"],i.image)}},window._bd_share_main._LogPoolV2=[],window._bd_share_main.n1=(new Date).getTime(),a.domready(function(){window._bd_share_main.n2=(new Date).getTime()+1e3,_bd_share_main.init(),setTimeout(function(){window._bd_share_main.F.use(\"trans/logger\",function(e){e.nsClick(),e.back(),e.duration()})},3e3)})});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/share/slide_api.js","permalink":"http://ltyeamin.github.io/public/static/api/js/share/slide_api.js","excerpt":"","text":"window._bd_share_main.F.module(\"share/slide_api\",function(e,i,t){var n=(e(\"base/tangram\").T,e(\"base/class\").Class),a=e(\"share/api_base\");i.Api=n.create(function(e){var i=this;i._init=function(){var e=i.getView();e.render(),e.init()},i._slidePop=function(i,t){i._popupBox=t.boxEle,i._getPosition=function(){return{top:0,left:\"left\"==e.bdPos?0:t.element.width()}},i.show(t,e)},i._processAction=function(e){return{data:{type:\"share\"}}},i._distory=function(){}},a.ApiBase)});"},{"title":"","date":"2019-11-27T15:22:17.401Z","updated":"2019-11-27T15:22:17.401Z","comments":true,"path":"public/static/api/js/trans/trans.js","permalink":"http://ltyeamin.github.io/public/static/api/js/trans/trans.js","excerpt":"","text":"!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"trans/trans\",function(e,n){var t=e(\"component/comm_tools\"),i=e(\"conf/const\").URLS,r=function(e){var n=e.bdUrl||t.getPageUrl();return n=n.replace(/\\'/g,\"%27\").replace(/\\\"/g,\"%22\")},a=function(e){var n=(new Date).getTime()+3e3,i={click:1,url:r(e),uid:e.bdUid||\"0\",to:e.__cmd,type:\"text\",pic:e.bdPic||\"\",title:(e.bdText||document.title).substr(0,300),key:(e.bdSnsKey||{})[e.__cmd]||\"\",desc:e.bdDesc||\"\",comment:e.bdComment||\"\",relateUid:e.bdWbuid||\"\",searchPic:e.bdSearchPic||0,sign:e.bdSign||\"on\",l:window._bd_share_main.n1.toString(32)+window._bd_share_main.n2.toString(32)+n.toString(32),linkid:t.getLinkId(),firstime:d(\"bdshare_firstime\")||\"\"};switch(e.__cmd){case\"copy\":s(i);break;case\"print\":_();break;case\"bdxc\":u();break;case\"bdysc\":m(i);break;case\"weixin\":b(i);break;default:o(e,i)}window._bd_share_main.F.use(\"trans/logger\",function(n){n.commit(e,i)})},o=function(e,n){var t=i.jumpUrl;\"mshare\"==e.__cmd?t=i.mshareUrl:\"mail\"==e.__cmd&&(t=i.emailUrl);var r=t+\"?\"+c(n);window.open(r)},d=function(e){if(e){var n=new RegExp(\"(^| )\"+e+\"=([^;]*)(;|$)\"),t=n.exec(document.cookie);if(t)return decodeURIComponent(t[2]||null)}},c=function(e){var n=[];for(var t in e)n.push(encodeURIComponent(t)+\"=\"+encodeURIComponent(e[t]));return n.join(\"&\").replace(/%20/g,\"+\")},s=function(e){window._bd_share_main.F.use(\"base/tangram\",function(n){n.T.browser.ie?(window.clipboardData.setData(\"text\",document.title+\" \"+(e.bdUrl||t.getPageUrl())),alert(\"æ ‡é¢˜å’Œé“¾æŽ¥å¤åˆ¶æˆåŠŸï¼Œæ‚¨å¯ä»¥æŽ¨èç»™QQ/MSNä¸Šçš„å¥½å‹äº†ï¼\")):window.prompt(\"æ‚¨ä½¿ç”¨çš„æ˜¯éžIEæ ¸å¿ƒæµè§ˆå™¨ï¼Œè¯·æŒ‰ä¸‹ Ctrl+C å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿\",document.title+\" \"+(e.bdUrl||t.getPageUrl()))})},_=function(){window.print()},u=function(){window._bd_share_main.F.use(\"trans/trans_bdxc\",function(e){e&&e.run()})},m=function(e){window._bd_share_main.F.use(\"trans/trans_bdysc\",function(n){n&&n.run(e)})},b=function(e){window._bd_share_main.F.use(\"trans/trans_weixin\",function(n){n&&n.run(e)})},l=function(e){a(e)};n.run=l,function(){window._bd_share_main.F.use(\"base/tangram\",function(e){var n=e.T;null==n.cookie.get(\"bdshare_firstime\")&&n.cookie.set(\"bdshare_firstime\",1*new Date,{path:\"/\",expires:(new Date).setFullYear(2022)-new Date})})}()});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/trans/trans_bdxc.js","permalink":"http://ltyeamin.github.io/public/static/api/js/trans/trans_bdxc.js","excerpt":"","text":"window._bd_share_main.F.module(\"trans/trans_bdxc\",function(e,t){var n=function(){var e,t=window,n=document,a=\"_bdXC\";t[a]?window._bdXC_loaded&&t[a].reInit():(e=n.createElement(\"script\"),e.setAttribute(\"charset\",\"utf-8\"),e.src=\"http://xiangce.baidu.com/zt/collect/mark.js?\"+(new Date).getTime(),n.getElementsByTagName(\"head\")[0].appendChild(e))};t.run=n});"},{"title":"","date":"2019-11-27T15:22:17.401Z","updated":"2019-11-27T15:22:17.401Z","comments":true,"path":"public/static/api/js/trans/trans_bdysc.js","permalink":"http://ltyeamin.github.io/public/static/api/js/trans/trans_bdysc.js","excerpt":"","text":"window._bd_share_main.F.module(\"trans/trans_bdysc\",function(a,n){var e=function(a){var n={url:a.url,title:a.title};if(window.baiduSC_yaq4d3elabjnvmijccc1zuo3o4yeizck)window.baiduSC_yaq4d3elabjnvmijccc1zuo3o4yeizck.go(n);else{window.baiduSC_yaq4d3elabjnvmijccc1zuo3o4yeizck={callback:function(){this.go(n)}};var e=document.createElement(\"script\"),i=\"http://s.wenzhang.baidu.com/js/pjt/content_ex/page/\";i+=\"bookmark.js?s=baidu_fenxiang&_t=\"+Math.random(),e.src=i,document.getElementsByTagName(\"body\")[0].appendChild(e)}};n.run=e});"},{"title":"","date":"2019-11-27T15:22:17.401Z","updated":"2019-11-27T15:22:17.401Z","comments":true,"path":"public/static/api/js/view/image_view.js","permalink":"http://ltyeamin.github.io/public/static/api/js/view/image_view.js","excerpt":"","text":"window._bd_share_main.F.module(\"view/image_view\",function(e,t,i){var n=e(\"base/tangram\").T,o=e(\"base/class\").Class,s=e(\"conf/const\"),r=e(\"view/view_base\");t.View=o.create(function(e){function t(){var t=e.tag||\"\";n(\"img\").each(function(e,r){if(!t||n(r).attr(s.CONFIG_TAG_ATTR)==t){if(1==n(r).attr(\"data-bd-imgshare-binded\"))return;n(r).on(\"mouseenter\",i).on(\"mouseleave\",o),n(r).attr(\"data-bd-imgshare-binded\",1)}})}function i(e){var t=e.target;r(t)&&(y.element=t,y.start())}function o(){y.abort()}function r(t){var i=!0;return e.bdMinHeight&&e.bdMinHeight>t.offsetHeight?i=!1:e.bdMinWidth&&e.bdMinWidth>t.offsetWidth?i=!1:(t.offsetWidth-1?5:i.width-n.width-5)}:{top:t.top+(\"bottom\"==e.viewPos?i.height-n.height:0),left:t.left+(i.width-n.width)}}function c(){var t=[\"\",\"\",\"\",\"#{text}\",\"#{list}\",\"\",\"\"].join(\"\"),i=\"\",o=\"list\"==e.viewType,s=[];o&&n.each(e.viewList,function(e,t){s.push(n.string(i).format({icon:t}))}),s.push(n.string(i).format({icon:\"more\"}));var r={16:\"36\",24:\"42\",32:\"48\"},a={16:\"33\",24:\"39\",32:\"45\"},h={16:\"60\",24:\"71\",32:\"82\"},f={16:\"12\",24:\"14\",32:\"14\"},l=n.string(t).format({id:b,text:e.viewText||(o?\"å›¾ç‰‡åˆ†äº«\":\"åˆ†äº«\"),type:e.viewType,style:e.viewStyle,size:e.viewSize,color:e.viewColor,width:o?\"auto\":h[e.viewSize],height:(o?r:a)[e.viewSize],lineHeight:(o?r:a)[e.viewSize]-10,fontSize:f[e.viewSize],list:s.join(\"\")});n(\"body\").insertHTML(\"beforeEnd\",l),m._entities=g=n(\"#\"+b),g.on(\"mouseleave\",function(){y.abort()}).on(\"mouseenter\",function(){y.clearAbort()})}function u(t){if(e.bdCustomStyle){var i=document.createElement(\"link\");i.href=e.bdCustomStyle,i.rel=\"styleSheet\",i.type=\"text/css\",i.onLoad=function(){t&&t()},document.getElementsByTagName(\"head\")[0].appendChild(i)}else window._bd_share_main.F.use([\"imgshare.css\",\"share_style0_\"+e.viewSize+\".css\"],function(){t&&t()})}var m=this,b=\"bdimgshare_\"+(new Date).getTime(),g=null,v=!1,w=null,p=function(e){function t(){s&&(s=clearTimeout(s)),o||(o=setTimeout(function(){e.startFn&&e.startFn(),o=!1},e.time))}function i(){o&&(o=clearTimeout(o)),s||(s=setTimeout(function(){e.abortFn&&e.abortFn(),s=!1},e.time))}var n=this,o=!1,s=!1;n.clearAbort=function(){s&&(s=clearTimeout(s))},n.start=t,n.abort=i},y=new p({time:200,startFn:function(){a(y.element)},abortFn:function(){h()}});m.render=function(e){t(),c()},m._init=function(){},m._keepBarVisible=function(){y.clearAbort(),v=!0},m._getImageSrc=function(){return w.src},m._distory=function(){g.remove();var t=e.tag||\"\";n(\"img\").each(function(e,r){t&&n(r).attr(s.CONFIG_TAG_ATTR)!=t||(n(r).off(\"mouseenter\",i).off(\"mouseleave\",o),n(r).removeAttr(\"data-bd-imgshare-binded\"))})}},r.ViewBase)});"},{"title":"","date":"2019-11-27T15:22:17.397Z","updated":"2019-11-27T15:22:17.397Z","comments":true,"path":"public/static/api/js/view/like_view.js","permalink":"http://ltyeamin.github.io/public/static/api/js/view/like_view.js","excerpt":"","text":"window._bd_share_main.F.module(\"view/like_view\",function(t,e,n){t(\"like.css\");var a=t(\"base/tangram\").T,i=t(\"base/class\").Class,o=t(\"conf/const\"),s=t(\"view/view_base\"),l=t(\"component/animate\"),c={btn:\"bdlikebutton\",innerBtn:\"bdlikebutton-inner\",add:\"bdlikebutton-add\",text:\"bdlikebutton-text\",count:\"bdlikebutton-count\"};e.View=i.create(function(t){function e(){var e=t.tag||\"\";return a(\".\"+c.btn).each(function(t,n){(!e||a(n).attr(o.CONFIG_TAG_ATTR)==e)&&s._entities.push(n)}),s._entities}function n(){var e=t,n=r[e.type];return e.likeText=e.likeText?e.likeText.substr(0,n[0]):n[1],e.likedText=e.likedText?e.likedText.substr(0,n[0]):n[2],e}function i(t){return a(t).parent().get(0)}var s=this,r={small:[4,\"é¡¶\",\"å·²é¡¶è¿‡\"],medium:[6,\"é¡¶\",\"æ‚¨å·²é¡¶è¿‡\"],large:[10,\"è¯¥å†…å®¹å¯¹æˆ‘æœ‰å¸®åŠ©\",\"æ‚¨å·²é¡¶è¿‡ï¼Œè°¢è°¢ï¼\"]};s.render=function(t){var i=e(),o=c.btn,l=n();s._actBtnSet.className=c.innerBtn,s._actBtnSet.tagName=\"div\",s._actBtnSet.maxDomDepth=1,a(i).each(function(t,e){var n=l.type,i=[];i.push(''),i.push('+1'),i.push('åŠ è½½ä¸­'),\"small\"!=n&&i.push('',l.likeText,\"\"),i.push(\"\"),a(e).html(i.join(\"\")).addClass(o+\"-\"+l.color).addClass(o+\"-\"+l.type).addClass(o+\"-\"+l.type+\"-\"+l.color)})},s._init=function(){var e=t,n=e.type;a(s._entities).each(function(t,i){var o=a(\".\"+c.innerBtn,i);o.mouseover(function(t){t=a.event(t||window.event);var s=t.relatedTarget;o.contains(s)||(\"small\"==n&&a(\".\"+c.count,i).html(e.likeText),a(i).addClass(c.btn+\"-\"+e.type+\"-\"+e.color+\"-hover\"))}).mouseout(function(t){t=a.event(t||window.event);var s=t.relatedTarget;o.contains(s)||(\"small\"==n?a(\".\"+c.count,i).html(e.count):a(\".\"+c.text,i).html(e.likeText),a(i).removeClass(c.btn+\"-\"+e.type+\"-\"+e.color+\"-hover\"))})})},s.showDoneState=function(e){var n=t,o=i(e),s=c.text;\"small\"==n.type&&(s=c.count),a(\".\"+s,o).html(n.likedText),a(o).removeClass(o,c.btn+\"-\"+n.type+\"-\"+n.color+\"-hover\")},s.addOne=function(e,n){var o=t,r=i(e),u=a(\".\"+c.add,r);u.show(),l.animate(u.get(0),{top:\"-25px\",opacity:\"0\"},300,function(){u.hide(),u.css({top:\"0px\",opacity:99})}),s.setNumber(n),a(r).removeClass(c.btn+\"-\"+o.type+\"-\"+o.color+\"-hover\")},s.setNumber=function(t){\"number\"==a.type(t)&&a(s._entities).each(function(e,n){a(\".\"+c.count,n).html(t)})}},s.ViewBase)});"},{"title":"","date":"2019-11-27T15:22:17.401Z","updated":"2019-11-27T15:22:17.401Z","comments":true,"path":"public/static/api/js/view/select_view.js","permalink":"http://ltyeamin.github.io/public/static/api/js/view/select_view.js","excerpt":"","text":"window._bd_share_main.F.module(\"view/select_view\",function(e,t,n){var a,s,i,r,o=e(\"base/tangram\").T,d=e(\"base/class\").Class,c=(e(\"conf/const\"),e(\"view/view_base\")),l=function(e){var t=\"\";return t=document.selection?document.selection.createRange().text:document.getSelection(),o.string(t.toString()).trim()},h=\"getSelection\"in document?function(){document.getSelection().removeAllRanges(),r=\"\"}:function(){document.selection.empty(),r=\"\"};t.View=d.create(function(e){function t(){if(e.bdCustomStyle){var t=document.createElement(\"link\");t.href=e.bdCustomStyle,t.rel=\"styleSheet\",t.type=\"text/css\",document.getElementsByTagName(\"head\")[0].appendChild(t)}else window._bd_share_main.F.use(\"share_style\"+u+\"_\"+b+\".css\")}function n(e,t){var n=(t.bdMini,t.bdSelectMiniList||_._partnerSort.slice(0,4)),a=[];o.each(n,function(e,t){a[e]=''}),i.find(\".bdselect_share_partners\").html(a.join(\"\"))}function d(e,t){var n=e.pageY,s=e.pageX;n+=5,s-=18;var i=a.outerHeight(),r=o(window).scrollTop();(n+i>o(\"body\").height()&&n+i>o(window).height()||n+i>r+o(window).height())&&(n=e.pageY-i-5,n=nb&&(u=b),a.width(u),a.find(\".bdselect_share_head\").width(u),s.width(u),s.height(a.height());var p=a.find(\".bdselect_share_dialog_search\");p.attr(\"href\",\"http://www.baidu.com/s?wd=\"+t.bdText+\"&tn=SE_hldp08010_vurs2xrp\");var g=m(function(){f(\"http://s.share.baidu.com/select?\"+o.ajax.param({log_type:\"click\",content:encodeURIComponent(t.bdText)}))},100);p.click(g),u-1?e.bdSize:16,p=!1;_._buttonType=0,_.render=function(){var t=\"bdSharePopup_selectshare\"+ +new Date,n=[''].join(\"\"),r=['','','åˆ†äº«åˆ°','','','ç™¾åº¦ä¸€ä¸‹','','','','','',\"\",\"\",\"\"].join(\"\");o(\"body\").insertHTML(\"beforeEnd\",n+r),_._container=a=o(\"#\"+t+\"box\"),i=a.find(\".bdselect_share_list\").addClass(\"bdshare-button-style\"+u+\"-\"+b),s=o(\"#\"+t+\"bg\"),_._entities.push(a),o(\".bdselect_share_dialog_close\").click(_.hide)},_.hide=function(e){e||h(),s&&s.hide(),a&&a.hide()},_._init=function(){var n;n=e.bdContainerClass?o(\".\"+e.bdContainerClass):o(\"body\").children(),o(\"body\").on(\"mouseup\",function(s){n.each(function(n,i){i==s.target||o(i).contains(s.target)||!e.bdContainerClass&&s.target==document.body?setTimeout(function(){r=l(),t(),_.show(s,e)},10):\"block\"==a.css(\"display\")&&_.hide()})})},_.show=function(e,t){window._bd_share_main.F.use([\"component/partners\",\"share_popup.css\",\"select_share.css\"],function(a){_._partnerSort=a.partnerSort,p||(n(_._container,t),p=!0),c(e,t)})};var f=function(){var e={};return function(t){var n=\"bdsharelog__\"+(new Date).getTime(),a=e[n]=new Image;a.onload=a.onerror=function(){e[n]=null},a.src=t+\"&t=\"+(new Date).getTime(),a=null}}(),m=function(e,t,n){var a,s,i,r=null,o=0;n||(n={});var d=function(){o=!1===n.leading?0:new Date,r=null,i=e.apply(a,s),r||(a=s=null)};return function(){var c=new Date;!o&&!1===n.leading&&(o=c);var l=t-(c-o);return a=this,s=arguments,lt?(clearTimeout(r),r=null,o=c,i=e.apply(a,s),r||(a=s=null)):!r&&!1!==n.trailing&&(r=setTimeout(d,l)),i}};_._distory=function(){a.remove(),s.remove()}},c.ViewBase)});"},{"title":"","date":"2019-11-27T15:22:17.401Z","updated":"2019-11-27T15:22:17.401Z","comments":true,"path":"public/static/api/js/view/share_view.js","permalink":"http://ltyeamin.github.io/public/static/api/js/view/share_view.js","excerpt":"","text":"window._bd_share_main.F.module(\"view/share_view\",function(t,e,n){var a=t(\"base/tangram\").T,i=t(\"base/class\").Class,s=t(\"conf/const\"),r=t(\"view/view_base\"),o={btn:\"bdsharebuttonbox\",count:\"bds_count\"};e.View=i.create(function(t){function e(){var e=t.tag||\"\";return a(\".\"+o.btn).each(function(t,n){e&&a(n).attr(s.CONFIG_TAG_ATTR)!=e||(r._entities.push(n),a(n).removeClass(function(t,e){var n=e.match(/bdshare-button-style\\d*-\\d*/g);if(n)return n.join(\" \")}),a(n).addClass(\"bdshare-button-style\"+c+\"-\"+u))}),r._entities}function n(){if(t.bdCustomStyle){var e=document.createElement(\"link\");e.href=t.bdCustomStyle,e.rel=\"styleSheet\",e.type=\"text/css\",document.getElementsByTagName(\"head\")[0].appendChild(e)}else window._bd_share_main.F.use(\"share_style\"+c+\"_\"+u+\".css\")}function i(){a(\".\"+o.btn).each(function(t,e){a(e).children(\"a,span\").each(function(t,e){var n=a(e).attr(s.CMD_ATTR);n&&window._bd_share_main.F.use(\"component/partners\",function(t){var i=t.partners,s=i[n]?\"åˆ†äº«åˆ°\"+i[n].name:\"\";!a(e).attr(\"title\")&&s&&a(e).attr(\"title\",s)})})})}var r=this,c=t.bdStyle||0,u=\"|16|24|32|\".indexOf(\"|\"+t.bdSize+\"|\")>-1?t.bdSize:16;r._buttonType=0,r.render=function(t){e(),i()},r._init=function(){n(),a(r._entities).find(\".\"+o.count).length>0&&r.fire(\"getsharecount\")},r.setNumber=function(t,e){a(r._entities).find(\".\"+o.count).html(e).attr(\"title\",\"ç´¯è®¡åˆ†äº«\"+t+\"æ¬¡\")}},r.ViewBase)});"},{"title":"","date":"2019-11-27T15:22:17.401Z","updated":"2019-11-27T15:22:17.401Z","comments":true,"path":"public/static/api/js/trans/trans_weixin.js","permalink":"http://ltyeamin.github.io/public/static/api/js/trans/trans_weixin.js","excerpt":"","text":"window._bd_share_main.F.module(\"trans/trans_weixin\",function(n,i){var e,o,d,t=\"bdshare_weixin_qrcode_dialog\",a=\"\",r=0,c={},p=n(\"base/tangram\").T,u=(n(\"conf/const\").URLS,function(n){var i=Math.round(200/n.length);i=2>i?2:i,r=i*n.length;var e='',o=[e],d=\"\";return p.each(n,function(n,e){o.push(\"\"),p.each(e,function(n,e){d='',o.push(d)})}),o.push(\"\"),o.join(\"\")}),s=function(n,i){window._bd_share_main.F.use(\"component/qrcode\",function(i){var o=i.QRCode,t=i.QRErrorCorrectLevel,a=new o(-1,t.L);a.addData(n),a.make();var c=u(a.modules);p(c).appendTo(d.empty()),f(r),w(),e.attr(\"data-url\",n)})},_=function(){e.attr(\"data-url\")!=a&&(d.html(\"æ­£åœ¨åŠ è½½\"),s((a.length,a)))},f=function(n){var i=(n>220?n:220)+20,o=p(\".bd_weixin_popup_foot\").height()+p(\".bd_weixin_popup_head\").height()+n+30;e.css({width:i,height:o})},h=function(){if(e=p(\"#\"+t),o=p(\"#\"+t+\"_bg\"),e.length','',\"åˆ†äº«åˆ°å¾®ä¿¡æœ‹å‹åœˆ\",'&times;',\"\",'','æ‰“å¼€å¾®ä¿¡ï¼Œç‚¹å‡»åº•éƒ¨çš„â€œå‘çŽ°â€ï¼Œä½¿ç”¨â€œæ‰«ä¸€æ‰«â€å³å¯å°†ç½‘é¡µåˆ†äº«è‡³æœ‹å‹åœˆã€‚',\"\"].join(\"\");o=p('').appendTo(\"body\"),e=p(n).appendTo(\"body\"),l()}d=e.find(\"#\"+t+\"_qr\"),b()},l=function(){e.find(\".bd_weixin_popup_close\").click(g),p(\"body\").on(\"keydown\",function(n){27==n.keyCode&&g()}),p(window).resize(function(){w()})},w=function(){var n=p(window).scrollTop(),i=e.outerWidth(),d=e.outerHeight(),t=p(window).width(),a=p(window).height(),r=(a-d)/2+n,c=(t-i)/2;r=0>r?0:r,c=0>c?0:c,o.width(i).height(d).css({left:c,top:r}),e.css({left:c,top:r})},b=function(){e.show(),o.show(),w()},g=function(){e.hide(),o.hide()},x=function(n){var i=\"10006-weixin-1-52626-6b3bffd01fdde4900130bc5a2751b6d1\";if(\"off\"===c.sign)return n;if(\"normal\"===c.sign){var e=n.indexOf(\"#\"),o=n.indexOf(\"?\");return-1==e?n+(-1==o?\"?\":\"&\")+i:n.replace(\"#\",(-1==o?\"?\":\"&\")+i+\"#\")}return n.replace(/#.*$/g,\"\")+\"#\"+i},v=function(n){n=x(n);var i=[];return p.each(n,function(n,e){/[^\\x00-\\xff]/.test(e)?i[n]=encodeURI(e):i[n]=e}),n=i.join(\"\")},m=function(){window._bd_share_main.F.use(\"component/pop_dialog\",function(n){n.Dialog.hide()})},y=function(n){c=n,a=v(n.url),window._bd_share_main.F.use(\"weixin_popup.css\",function(){m(),h(),_()})};i.run=y});"},{"title":"","date":"2019-11-27T15:22:17.401Z","updated":"2019-11-27T15:22:17.401Z","comments":true,"path":"public/static/api/js/view/slide_view.js","permalink":"http://ltyeamin.github.io/public/static/api/js/view/slide_view.js","excerpt":"","text":"window._bd_share_main.F.module(\"view/slide_view\",function(i,n,e){var s=i(\"base/tangram\").T,t=i(\"base/class\").Class,a=(i(\"conf/const\"),i(\"view/view_base\")),o={box:\"bdshare-slide-button-box\",btn:\"bdshare-slide-button\"};n.View=t.create(function(i){function n(){window._bd_share_main.F.use(\"slide_share.css\",function(){var n=r.width()||24;r.css(\"right\"==i.bdPos?\"left\":\"right\",-n),d&&d.css({top:0|i.bdTop,width:0,\"z-index\":99999}).css(i.bdPos,0).show(),l.width(0).hide(),b.width(m),h.width(m)})}function e(){f||(b.html()||window._bd_share_main.F.use(\"component/partners\",function(i){partnerSort=i.partnerSort,partners=i.partners,a(partnerSort,partners)}),window._bd_share_main.F.use(\"component/animate\",function(i){l.show(),i.animate(d[0],{width:m},300,function(){f=!0},function(i){l.width(i*m)})}))}function t(){f&&window._bd_share_main.F.use(\"component/animate\",function(i){i.animate(d[0],{width:0},300,function(){f=!1,l.hide()},function(i){l.width((1-i)*m)})})}function a(n,e){var t=i.bdMiniList||n.slice(0,8*w),a=[];s.each(t,function(i,n){/(iPhone | iPad | Android)/i.test(navigator.userAgent)&&\"weixin\"===n||(a[i]=''+e[n].name+\"\")}),b.html(a.join(\"\"))}var d,r,c,l,b,h,u=this,f=!1;u._buttonType=1;var w=i.bdMini||2,m=110*w+6,i=s.extend({},i);u.render=function(){var e=o.btn,t=o.box+\" bdshare-slide-style-\"+(\"right\"==i.bdPos?\"r\":\"l\")+i.bdImg,a=['','','','åˆ†äº«åˆ°','','',\"\",'','æ›´å¤š...',\"\",\"\",\"\"].join(\"\");if(d=s(a).appendTo(\"body\"),r=d.find(\".\"+o.btn),l=d.find(\".bdshare-slide-list-box\"),b=d.find(\".bdshare-slide-list-ul\"),c=d.find(\".bdshare-slide-list\"),h=d.find(\".bdshare-slide-bottom\"),n(),u._entities.push(d),6==s.browser.ie){d.css(\"position\",\"absolute\");var f=parseInt(d.css(\"top\"));setInterval(function(){var n=(0|i.bdTop)+s(window).scrollTop();f!=n&&window._bd_share_main.F.use(\"component/animate\",function(i){i.animate(d[0],{top:n},300)})},1e3)}},u._init=function(){r.on(\"mouseenter click\",e),d.on(\"mouseleave click\",t),s(\"body\").click(function(i){d.contains(i.target)||t()})},u._distory=function(){d.remove()}},a.ViewBase)});"},{"title":"","date":"2019-11-27T15:22:17.401Z","updated":"2019-11-27T15:22:17.401Z","comments":true,"path":"public/static/api/js/view/view_base.js","permalink":"http://ltyeamin.github.io/public/static/api/js/view/view_base.js","excerpt":"","text":"window._bd_share_main.F.module(\"view/view_base\",function(t,e,a){var n=t(\"base/tangram\").T,i=t(\"conf/const\"),r=t(\"base/class\").Class;e.ViewBase=r.create(function(t){function e(t){n(t).click(function(e){if(n(t).attr(\"data-bd-bind\")==s){var i=a(e.target);i&&(e.preventDefault(),o.fire(\"clickact\",{cmd:n(i).attr(o._actBtnSet.cmdAttr),element:i,event:e,buttonType:o._poptype}))}}).mouseenter(function(e){if(n(t).attr(\"data-bd-bind\")==s){var i=a(e.target);o.fire(\"mouseenter\",{element:i,event:e})}}).mousemove(function(e){if(n(t).attr(\"data-bd-bind\")==s){var i=a(e.target);n(i).hasClass(\"bds_more\")&&o.fire(\"moreover\",{element:i})}}),n(t).attr(\"data-bd-bind\",s)}function a(t){if(r(t))return t;if(o._actBtnSet.maxDomDepth>0)for(var e=o._actBtnSet.maxDomDepth,a=0,i=n(t).parent().get(0),s=o.entities;a-1)&&n(t).attr(e.cmdAttr)}var o=this,s=+new Date;o._entities=[],o._buttonType=-1,o._actBtnSet={className:\"\",tagName:\"|a|img|span\",maxDomDepth:0,cmdAttr:i.CMD_ATTR},o.render=function(t){},o.init=function(){n(o._entities).each(function(t,a){e(a)}),o._init(),o._entities.length>0&&(_bd_share_main._LogPoolV2,_bd_share_main._LogPoolV2,_bd_share_main._LogPoolV2.push(t.type))},o._init=function(){},o.distory=function(){n(o._entities).removeAttr(\"data-bd-bind\"),o._distory()},o._distory=function(){}})});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/conf/define.js","permalink":"http://ltyeamin.github.io/public/static/api/js/conf/define.js","excerpt":"","text":"window._bd_share_main?window._bd_share_is_recently_loaded=!0:(window._bd_share_is_recently_loaded=!1,window._bd_share_main={version:\"2.0\",jscfg:{domain:{staticUrl:\"http://bdimg.share.baidu.com/\"}}});"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/static/api/js/share.js","permalink":"http://ltyeamin.github.io/public/static/api/js/share.js","excerpt":"","text":"window._bd_share_main?window._bd_share_is_recently_loaded=!0:(window._bd_share_is_recently_loaded=!1,window._bd_share_main={version:\"2.0\",jscfg:{domain:{staticUrl:\"/\"}}}),!window._bd_share_is_recently_loaded&&(window._bd_share_main.F=window._bd_share_main.F||function(e,t){function n(e,t){if(e instanceof Array){for(var n=0,s=e.length;s>n;n++)if(!1===t.call(e[n],e[n],n))return}else for(var n in e)if(e.hasOwnProperty(n)&&!1===t.call(e[n],e[n],n))return}function s(e,t){if(this.svnMod=\"\",this.name=null,this.path=e,this.fn=null,this.exports={},this._loaded=!1,this._requiredStack=[],this._readyStack=[],s.cache[this.path]=this,t&&\".\"!==t.charAt(0)){var n=t.split(\":\");n.length>1?(this.svnMod=n[0],this.name=n[1]):this.name=t}this.svnMod||(this.svnMod=this.path.split(\"/js/\")[0].substr(1)),this.type=\"js\",this.getKey=function(){return this.svnMod+\":\"+this.name},this._info={}}function i(e,t){var n=\"css\"==t;return document.createElement(n?\"link\":\"script\")}function a(t,n,s,a){function c(){c.isCalled||(c.isCalled=!0,clearTimeout(_),s&&s())}var d=i(t,n);\"SCRIPT\"===d.nodeName?r(d,c):o(d,c);var _=setTimeout(function(){throw new Error(\"load \"+n+\" timeout : \"+t)},e._loadScriptTimeout||1e4),l=document.getElementsByTagName(\"head\")[0];\"css\"==n?(d.rel=\"stylesheet\",d.href=t,l.appendChild(d)):(d.type=\"text/javascript\",d.src=t,l.insertBefore(d,l.firstChild))}function r(e,t){e.onload=e.onerror=e.onreadystatechange=function(){if(/loaded|complete|undefined/.test(e.readyState)){if(e.onload=e.onerror=e.onreadystatechange=null,e.parentNode){e.parentNode.removeChild(e);try{if(e.clearAttributes)e.clearAttributes();else for(var n in e)delete e[n]}catch(e){}}e=void 0,t&&t()}}}function o(e,t){e.attachEvent?e.attachEvent(\"onload\",t):setTimeout(function(){c(e,t)},0)}function c(e,t){if(!t||!t.isCalled){var n,s=navigator.userAgent,i=~s.indexOf(\"AppleWebKit\"),a=~s.indexOf(\"Opera\");if(i||a)e.sheet&&(n=!0);else if(e.sheet)try{e.sheet.cssRules&&(n=!0)}catch(e){(\"SecurityError\"===e.name||\"NS_ERROR_DOM_SECURITY_ERR\"===e.name)&&(n=!0)}setTimeout(function(){n?t&&t():c(e,t)},1)}}var d=\"api\";e.each=n,s.currentPath=\"\",s.loadedPaths={},s.loadingPaths={},s.cache={},s.paths={},s.handlers=[],s.moduleFileMap={},s.requiredPaths={},s.lazyLoadPaths={},s.services={},s.isPathsLoaded=function(e){var t=!0;return n(e,function(e){return e in s.loadedPaths?void 0:t=!1}),t},s.require=function(e,t){e.search(\":\")0;)n=n.substr(0,n.lastIndexOf(\"/\")),i--;return n+\"/\"+t+\"/\"+t.substr(t.lastIndexOf(\"/\")+1)+\".js\"}var a,r,o,c,_;if(t.search(\":\")>=0){var l=t.split(\":\");a=l[0],t=l[1]}else n&&(a=n.split(\"/\")[1]);a=a||d,/\\.css(?:\\?|$)/i.test(t)&&e._useConfig&&s.moduleFileMap[a][t]&&(t=s.moduleFileMap[a][t]);var t=_=t,h=s.getBasePath(t);return-1!==(o=t.indexOf(\"/\"))&&(r=t.slice(0,o),c=t.lastIndexOf(\"/\"),_=t.slice(c+1)),r&&r in s.paths&&(t=t.slice(o+1)),h+a+\"/js/\"+t+\".js\"},s.get=function(e,t){var n=s.getJsPath(e,t);return s.cache[n]?s.cache[n]:new s(n,e)},s.prototype={load:function(){s.loadingPaths[this.path]=!0;var t=this.svnMod||d,n=window._bd_share_main.jscfg.domain.staticUrl+\"static/\"+t+\"/\",i=this,a=/\\.css(?:\\?|$)/i.test(this.name);this.type=a?\"css\":\"js\";var r=\"/\"+this.type+\"/\"+s.moduleFileMap[t][this.name];if(n+=e._useConfig&&s.moduleFileMap[t][this.name]?this.type+\"/\"+s.moduleFileMap[t][this.name]:this.type+\"/\"+this.name+(a?\"\":\".js\"),e._firstScreenCSS.indexOf(this.name)>0||e._useConfig&&r==e._firstScreenJS)i._loaded=!0,i.ready();else{var o=(new Date).getTime();_.create({src:n,type:this.type,loaded:function(){i._info.loadedTime=(new Date).getTime()-o,\"css\"==i.type&&(i._loaded=!0,i.ready())}})}},lazyLoad:function(){if(this.name,s.lazyLoadPaths[this.getKey()])this.define(),delete s.lazyLoadPaths[this.getKey()];else{if(this.exist())return;s.requiredPaths[this.getKey()]=!0,this.load()}},ready:function(e,t){var i=t?this._requiredStack:this._readyStack;if(e)this._loaded?e():i.push(e);else{if(s.loadedPaths[this.path]=!0,delete s.loadingPaths[this.path],this._loaded=!0,s.currentPath=this.path,this._readyStack&&this._readyStack.length>0){this._inited=!0;var a,r=this.svnMod;this.fn&&(a=this.fn.call(null,function(e){return s.require(e,r)},this.exports,new h(this.name,r)))&&(this.exports=a),n(this._readyStack,function(e){e()}),delete this._readyStack}this._requiredStack&&this._requiredStack.length>0&&(n(this._requiredStack,function(e){e()}),delete this._requiredStack)}},define:function(){var e=this,t=this.deps,i=(this.path,[]);t||(t=this.getDependents()),t.length?(n(t,function(t){i.push(s.getJsPath(t,e.path))}),n(t,function(t){var n=s.get(t,e.path);n.ready(function(){s.isPathsLoaded(i)&&e.ready()},!0),n.lazyLoad()})):this.ready()},exist:function(){var e=this.path;return e in s.loadedPaths||e in s.loadingPaths},getDependents:function(){var e=this.fn.toString(),t=e.match(/function\\s*\\(([^,]*),/i),s=new RegExp(\"[^.]\\\\b\"+t[1]+\"\\\\(\\\\s*('|\\\")([^()\\\"']*)('|\\\")\\\\s*\\\\)\",\"g\"),i=e.match(s),a=[];return i&&n(i,function(e,n){a[n]=e.substr(t[1].length+3).slice(0,-2)}),a}};var _={create:function(e){var t=e.src;t in this._paths||(this._paths[t]=!0,n(this._rules,function(e){t=e.call(null,t)}),a(t,e.type,e.loaded))},_paths:{},_rules:[],addPathRule:function(e){this._rules.push(e)}};e.version=\"1.0\",e.use=function(e,t){\"string\"==typeof e&&(e=[e]);var i=[],a=[];n(e,function(e,t){a[t]=!1}),n(e,function(e,r){var o=s.get(e),c=o._loaded;o.ready(function(){var e=o.exports||{};e._INFO=o._info,e._INFO&&(e._INFO.isNew=!c),i[r]=e,a[r]=!0;var s=!0;n(a,function(e){return!1===e?s=!1:void 0}),t&&s&&t.apply(null,i)}),o.lazyLoad()})},e.module=function(e,t,n){var i=s.get(e);i.fn=t,i.deps=n,s.requiredPaths[i.getKey()]?i.define():s.lazyLoadPaths[i.getKey()]=!0},e.pathRule=function(e){_.addPathRule(e)},e._addPath=function(e,t){if(\"/\"!==t.slice(-1)&&(t+=\"/\"),e in s.paths)throw new Error(e+\" has already in Module.paths\");s.paths[e]=t};var l=d;e._setMod=function(e){l=e||d},e._fileMap=function(t,i){if(\"object\"==typeof t)n(t,function(t,n){e._fileMap(n,t)});else{var a=l;\"string\"==typeof i&&(i=[i]),t=1==t.indexOf(\"js/\")?t.substr(4):t,t=1==t.indexOf(\"css/\")?t.substr(5):t;var r=s.moduleFileMap[a];r||(r={}),n(i,function(e){r[e]||(r[e]=t)}),s.moduleFileMap[a]=r}},e._eventMap={},e.call=function(t,n,s){for(var i=[],a=2,r=arguments.length;r>a;a++)i.push(arguments[a]);e.use(t,function(e){for(var t=n.split(\".\"),s=0,a=t.length;a>s;s++)e=e[t[s]];e&&e.apply(this,i)})},e._setContext=function(e){\"object\"==typeof e&&n(e,function(e,t){h.prototype[t]=s.require(e)})},e._setContextMethod=function(e,t){h.prototype[e]=t};var h=function(e,t){this.modName=e,this.svnMod=t};return h.prototype={domain:window._bd_share_main.jscfg.domain,use:function(t,n){\"string\"==typeof t&&(t=[t]);for(var s=t.length-1;s>=0;s--)t[s]=this.svnMod+\":\"+t[s];e.use(t,n)}},e._Context=h,e.addLog=function(t,n){e.use(\"lib/log\",function(e){e.defaultLog(t,n)})},e.fire=function(t,n,s){e.use(\"lib/mod_evt\",function(e){e.fire(t,n,s)})},e._defService=function(e,t){if(e){var i=s.services[e];i=i||{},n(t,function(e,t){i[t]=e}),s.services[e]=i}},e.getService=function(t,n,i){var a=s.services[t];if(!a)throw new Error(t+\" mod didn't define any services\");var r=a[n];if(!r)throw new Error(t+\" mod didn't provide service \"+n);e.use(t+\":\"+r,i)},e}({})),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"base/min_tangram\",function(e,t){var n={};n.each=function(e,t,n){var s,i,a=e.length;if(\"function\"==typeof t)for(i=0;a>i&&(s=e[i],!1!==t.call(n||e,i,s));i++);return e};var s=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};n.extend=function(){for(var e=arguments[0],t=1,n=arguments.length;n>t;t++)s(e,arguments[t]);return e},n.domready=function(e,t){if(t=t||document,/complete/.test(t.readyState))e();else if(t.addEventListener)\"interactive\"==t.readyState?e():t.addEventListener(\"DOMContentLoaded\",e,!1);else{var n=function(){n=new Function,e()};!function(){try{t.body.doScroll(\"left\")}catch(e){return setTimeout(arguments.callee,10)}n()}(),t.attachEvent(\"onreadystatechange\",function(){\"complete\"==t.readyState&&n()})}},n.isArray=function(e){return\"[object Array]\"==Object.prototype.toString.call(e)},t.T=n}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"base/class\",function(e,t,n){var s=e(\"base/min_tangram\").T;t.BaseClass=function(){var e=this,t={};e.on=function(e,n){var s=t[e];s||(s=t[e]=[]),s.push(n)},e.un=function(e,n){if(!e)return void(t={});var i=t[e];i&&(n?s.each(i,function(e,t){return t==n?(i.splice(e,1),!1):void 0}):t[e]=[])},e.fire=function(n,i){var a=t[n];a&&(i=i||{},s.each(a,function(t,n){i._result=n.call(e,s.extend({_ctx:{src:e}},i))}))}};var i={};i.create=function(e,n){return n=n||t.BaseClass,function(){n.apply(this,arguments);var t=s.extend({},this);e.apply(this,arguments),this._super=t}},t.Class=i}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"conf/const\",function(e,t,n){t.CMD_ATTR=\"data-cmd\",t.CONFIG_TAG_ATTR=\"data-tag\",t.URLS={likeSetUrl:\"http://like.baidu.com/set\",commitUrl:\"http://s.share.baidu.com/commit\",jumpUrl:\"http://s.share.baidu.com\",mshareUrl:\"http://s.share.baidu.com/mshare\",emailUrl:\"http://s.share.baidu.com/sendmail\",nsClick:\"/\",backUrl:\"http://s.share.baidu.com/back\",shortUrl:\"http://dwz.cn/v2cut.php\"}}),!window._bd_share_is_recently_loaded&&function(){window._bd_share_main.F._setMod(\"api\"),window._bd_share_main.F._fileMap({\"/js/share.js?v=da893e3e.js\":[\"conf/define\",\"base/fis\",\"base/tangrammin\",\"base/class.js\",\"conf/define.js\",\"conf/const.js\",\"config\",\"share/api_base.js\",\"view/view_base.js\",\"start/router.js\",\"component/comm_tools.js\",\"trans/trans.js\"],\"/js/base/tangram.js?v=37768233.js\":[\"base/tangram\"],\"/js/view/share_view.js?v=3ae6026d.js\":[\"view/share_view\"],\"/js/view/slide_view.js?v=08373964.js\":[\"view/slide_view\"],\"/js/view/like_view.js?v=df3e0eca.js\":[\"view/like_view\"],\"/js/view/select_view.js?v=85fc7cec.js\":[\"view/select_view\"],\"/js/trans/data.js?v=17af2bd2.js\":[\"trans/data\"],\"/js/trans/logger.js?v=d16ec0e3.js\":[\"trans/logger\"],\"/js/trans/trans_bdxc.js?v=7ac21555.js\":[\"trans/trans_bdxc\"],\"/js/trans/trans_bdysc.js?v=fc21acaa.js\":[\"trans/trans_bdysc\"],\"/js/trans/trans_weixin.js?v=080be124.js\":[\"trans/trans_weixin\"],\"/js/share/combine_api.js?v=8d37a7b3.js\":[\"share/combine_api\"],\"/js/share/like_api.js?v=d3693f0a.js\":[\"share/like_api\"],\"/js/share/likeshare.js?v=e1f4fbf1.js\":[\"share/likeshare\"],\"/js/share/share_api.js?v=226108fe.js\":[\"share/share_api\"],\"/js/share/slide_api.js?v=ec14f516.js\":[\"share/slide_api\"],\"/js/component/animate.js?v=5b737477.js\":[\"component/animate\"],\"/js/component/anticheat.js?v=44b9b245.js\":[\"component/anticheat\"],\"/js/component/partners.js?v=911c4302.js\":[\"component/partners\"],\"/js/component/pop_base.js?v=36f92e70.js\":[\"component/pop_base\"],\"/js/component/pop_dialog.js?v=d479767d.js\":[\"component/pop_dialog\"],\"/js/component/pop_popup.js?v=4387b4e1.js\":[\"component/pop_popup\"],\"/js/component/pop_popup_slide.js?v=b16a1f10.js\":[\"component/pop_popup_slide\"],\"/js/component/qrcode.js?v=d69754a9.js\":[\"component/qrcode\"],\"/css/share_style0_16.css?v=6aba13f0.css\":[\"share_style0_16.css\"],\"/css/share_style0_32.css?v=4413acf0.css\":[\"share_style0_32.css\"],\"/css/share_style2.css?v=611d4f74.css\":[\"share_style2.css\"],\"/css/share_style4.css?v=cef2b8f3.css\":[\"share_style4.css\"],\"/css/slide_share.css?v=9c50d088.css\":[\"slide_share.css\"],\"/css/share_popup.css?v=240f357d.css\":[\"share_popup.css\"],\"/css/like.css?v=d52a0ea5.css\":[\"like.css\"],\"/css/imgshare.css?v=a7830602.css\":[\"imgshare.css\"],\"/css/select_share.css?v=15f56735.css\":[\"select_share.css\"],\"/css/weixin_popup.css?v=1a56666e.css\":[\"weixin_popup.css\"]}),window._bd_share_main.F._loadScriptTimeout=15e3,window._bd_share_main.F._useConfig=!0,window._bd_share_main.F._firstScreenCSS=\"\",window._bd_share_main.F._firstScreenJS=\"\"}(),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.use(\"base/min_tangram\",function(e){function t(e,t,n){var s=new e(n);s.setView(new t(n)),s.init(),n&&n._handleId&&(_bd_share_main.api=_bd_share_main.api||{},_bd_share_main.api[n._handleId]=s)}function n(e,n){window._bd_share_main.F.use(e,function(e,s){i.isArray(n)?i.each(n,function(n,i){t(e.Api,s.View,i)}):t(e.Api,s.View,n)})}function s(e){var t=e.common||window._bd_share_config&&_bd_share_config.common||{},n={like:{type:\"like\"},share:{type:\"share\",bdStyle:0,bdMini:2,bdSign:\"on\"},slide:{type:\"slide\",bdStyle:\"1\",bdMini:2,bdImg:0,bdPos:\"right\",bdTop:100,bdSign:\"on\"},image:{viewType:\"list\",viewStyle:\"0\",viewPos:\"top\",viewColor:\"black\",viewSize:\"16\",viewList:[\"qzone\",\"tsina\",\"huaban\",\"tqq\",\"renren\"]},selectShare:{type:\"select\",bdStyle:0,bdMini:2,bdSign:\"on\"}},s={share:{__cmd:\"\",__buttonType:\"\",__type:\"\",__element:null},slide:{__cmd:\"\",__buttonType:\"\",__type:\"\",__element:null},image:{__cmd:\"\",__buttonType:\"\",__type:\"\",__element:null}};return i.each([\"like\",\"share\",\"slide\",\"image\",\"selectShare\"],function(a,r){e[r]&&(i.isArray(e[r])&&e[r].length>0?i.each(e[r],function(a,o){e[r][a]=i.extend({},n[r],t,o,s[r])}):e[r]=i.extend({},n[r],t,e[r],s[r]))}),e}var i=e.T;_bd_share_main.init=function(e){if(e=e||window._bd_share_config||{share:{}}){var t=s(e);t.like&&n([\"share/like_api\",\"view/like_view\"],t.like),t.share&&n([\"share/share_api\",\"view/share_view\"],t.share),t.slide&&n([\"share/slide_api\",\"view/slide_view\"],t.slide),t.selectShare&&n([\"share/select_api\",\"view/select_view\"],t.selectShare),t.image&&n([\"share/image_api\",\"view/image_view\"],t.image)}},window._bd_share_main._LogPoolV2=[],window._bd_share_main.n1=(new Date).getTime(),i.domready(function(){window._bd_share_main.n2=(new Date).getTime()+1e3,_bd_share_main.init(),setTimeout(function(){window._bd_share_main.F.use(\"trans/logger\",function(e){e.nsClick(),e.back(),e.duration()})},3e3)})}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"component/comm_tools\",function(e,t){var n=function(){return(window.location||document.location||{}).href||\"\"},s=function(e,t){for(var n=e.length,s=\"\",i=1;t>=i;i++){var a=Math.floor(n*Math.random());s+=e.charAt(a)}return s},i=function(){return(+new Date).toString(36)+s(\"0123456789abcdefghijklmnopqrstuvwxyz\",3)};t.getLinkId=i,t.getPageUrl=n}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"trans/trans\",function(e,t){var n=e(\"component/comm_tools\"),s=e(\"conf/const\").URLS,i=function(e){var t=e.bdUrl||n.getPageUrl();return t=t.replace(/\\'/g,\"%27\").replace(/\\\"/g,\"%22\")},a=function(e){var t=(new Date).getTime()+3e3,s={click:1,url:i(e),uid:e.bdUid||\"0\",to:e.__cmd,type:\"text\",pic:e.bdPic||\"\",title:(e.bdText||document.title).substr(0,300),key:(e.bdSnsKey||{})[e.__cmd]||\"\",desc:e.bdDesc||\"\",comment:e.bdComment||\"\",relateUid:e.bdWbuid||\"\",searchPic:e.bdSearchPic||0,sign:e.bdSign||\"on\",l:window._bd_share_main.n1.toString(32)+window._bd_share_main.n2.toString(32)+t.toString(32),linkid:n.getLinkId(),firstime:o(\"bdshare_firstime\")||\"\"};switch(e.__cmd){case\"copy\":d(s);break;case\"print\":_();break;case\"bdxc\":l();break;case\"bdysc\":h(s);break;case\"weixin\":u(s);break;default:r(e,s)}window._bd_share_main.F.use(\"trans/logger\",function(t){t.commit(e,s)})},r=function(e,t){var n=s.jumpUrl;\"mshare\"==e.__cmd?n=s.mshareUrl:\"mail\"==e.__cmd&&(n=s.emailUrl);var i=n+\"?\"+c(t);window.open(i)},o=function(e){if(e){var t=new RegExp(\"(^| )\"+e+\"=([^;]*)(;|$)\"),n=t.exec(document.cookie);if(n)return decodeURIComponent(n[2]||null)}},c=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+\"=\"+encodeURIComponent(e[n]));return t.join(\"&\").replace(/%20/g,\"+\")},d=function(e){window._bd_share_main.F.use(\"base/tangram\",function(t){t.T.browser.ie?(window.clipboardData.setData(\"text\",document.title+\" \"+(e.bdUrl||n.getPageUrl())),alert(\"æ ‡é¢˜å’Œé“¾æŽ¥å¤åˆ¶æˆåŠŸï¼Œæ‚¨å¯ä»¥æŽ¨èç»™QQ/MSNä¸Šçš„å¥½å‹äº†ï¼\")):window.prompt(\"æ‚¨ä½¿ç”¨çš„æ˜¯éžIEæ ¸å¿ƒæµè§ˆå™¨ï¼Œè¯·æŒ‰ä¸‹ Ctrl+C å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿\",document.title+\" \"+(e.bdUrl||n.getPageUrl()))})},_=function(){window.print()},l=function(){window._bd_share_main.F.use(\"trans/trans_bdxc\",function(e){e&&e.run()})},h=function(e){window._bd_share_main.F.use(\"trans/trans_bdysc\",function(t){t&&t.run(e)})},u=function(e){window._bd_share_main.F.use(\"trans/trans_weixin\",function(t){t&&t.run(e)})},f=function(e){a(e)};t.run=f,function(){window._bd_share_main.F.use(\"base/tangram\",function(e){var t=e.T;null==t.cookie.get(\"bdshare_firstime\")&&t.cookie.set(\"bdshare_firstime\",1*new Date,{path:\"/\",expires:(new Date).setFullYear(2022)-new Date})})}()});"},{"title":"","date":"2019-11-27T15:22:15.796Z","updated":"2019-11-27T15:22:15.796Z","comments":true,"path":"public/archives/2019/01/index.html","permalink":"http://ltyeamin.github.io/public/archives/2019/01/index.html","excerpt":"","text":"å½’æ¡£ï¼š2019/1 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.800Z","updated":"2019-11-27T15:22:15.800Z","comments":true,"path":"public/archives/2019/03/index.html","permalink":"http://ltyeamin.github.io/public/archives/2019/03/index.html","excerpt":"","text":"å½’æ¡£ï¼š2019/3 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.800Z","updated":"2019-11-27T15:22:15.800Z","comments":true,"path":"public/archives/2019/05/index.html","permalink":"http://ltyeamin.github.io/public/archives/2019/05/index.html","excerpt":"","text":"å½’æ¡£ï¼š2019/5 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.800Z","updated":"2019-11-27T15:22:15.800Z","comments":true,"path":"public/archives/2019/04/index.html","permalink":"http://ltyeamin.github.io/public/archives/2019/04/index.html","excerpt":"","text":"å½’æ¡£ï¼š2019/4 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.801Z","updated":"2019-11-27T15:22:15.801Z","comments":true,"path":"public/archives/2019/06/index.html","permalink":"http://ltyeamin.github.io/public/archives/2019/06/index.html","excerpt":"","text":"å½’æ¡£ï¼š2019/6 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.800Z","updated":"2019-11-27T15:22:15.800Z","comments":true,"path":"public/archives/2019/08/index.html","permalink":"http://ltyeamin.github.io/public/archives/2019/08/index.html","excerpt":"","text":"å½’æ¡£ï¼š2019/8 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.801Z","updated":"2019-11-27T15:22:15.801Z","comments":true,"path":"public/archives/2019/09/index.html","permalink":"http://ltyeamin.github.io/public/archives/2019/09/index.html","excerpt":"","text":"å½’æ¡£ï¼š2019/9 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.801Z","updated":"2019-11-27T15:22:15.801Z","comments":true,"path":"public/archives/2019/10/index.html","permalink":"http://ltyeamin.github.io/public/archives/2019/10/index.html","excerpt":"","text":"å½’æ¡£ï¼š2019/10 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.801Z","updated":"2019-11-27T15:22:15.801Z","comments":true,"path":"public/archives/2019/11/index.html","permalink":"http://ltyeamin.github.io/public/archives/2019/11/index.html","excerpt":"","text":"å½’æ¡£ï¼š2019/11 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:17.406Z","updated":"2019-11-27T15:22:17.406Z","comments":true,"path":"public/static/api/js/component/qrcode.js","permalink":"http://ltyeamin.github.io/public/static/api/js/component/qrcode.js","excerpt":"","text":"window._bd_share_main.F.module(\"component/qrcode\",function(t,e){function r(t){this.mode=s.MODE_8BIT_BYTE,this.data=t}function n(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}function o(t,e){if(void 0==t.length)throw new Error(t.length+\"/\"+e);for(var r=0;r=8*g));)s.put(n.PAD1,8);return n.createBytes(s,o)},n.createBytes=function(t,e){for(var r=0,n=0,i=0,a=new Array(e.length),s=new Array(e.length),u=0;u=0?m.get(v):0}}for(var E=0,f=0;f=0;)e^=l.G15"},{"title":"","date":"2019-11-27T15:22:15.799Z","updated":"2019-11-27T15:22:15.799Z","comments":true,"path":"public/archives/2018/03/index.html","permalink":"http://ltyeamin.github.io/public/archives/2018/03/index.html","excerpt":"","text":"å½’æ¡£ï¼š2018/3 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.798Z","updated":"2019-11-27T15:22:15.798Z","comments":true,"path":"public/archives/2018/04/index.html","permalink":"http://ltyeamin.github.io/public/archives/2018/04/index.html","excerpt":"","text":"å½’æ¡£ï¼š2018/4 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.796Z","updated":"2019-11-27T15:22:15.796Z","comments":true,"path":"public/archives/2018/01/index.html","permalink":"http://ltyeamin.github.io/public/archives/2018/01/index.html","excerpt":"","text":"å½’æ¡£ï¼š2018/1 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.799Z","updated":"2019-11-27T15:22:15.799Z","comments":true,"path":"public/archives/2018/05/index.html","permalink":"http://ltyeamin.github.io/public/archives/2018/05/index.html","excerpt":"","text":"å½’æ¡£ï¼š2018/5 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.800Z","updated":"2019-11-27T15:22:15.800Z","comments":true,"path":"public/archives/2018/02/index.html","permalink":"http://ltyeamin.github.io/public/archives/2018/02/index.html","excerpt":"","text":"å½’æ¡£ï¼š2018/2 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.713Z","updated":"2019-11-27T15:22:16.713Z","comments":true,"path":"public/2018/01/30/æµ…è°ˆåŒ¿åå‡½æ•°,Lambda,é—­åŒ…(Closure)/index.html","permalink":"http://ltyeamin.github.io/public/2018/01/30/æµ…è°ˆåŒ¿åå‡½æ•°,Lambda,é—­åŒ…(Closure)/index.html","excerpt":"","text":"æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) backend Java 2018/01/30 æœ¬æ–‡äºŽ666å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ å‡ ä¹Žæ‰€æœ‰çš„ä¸»æµç¼–ç¨‹è¯­è¨€éƒ½å¯¹å‡½æ•°å¼ç¼–ç¨‹æœ‰æ”¯æŒ,æˆ‘æ‰€ç”¨è¿‡çš„æ¯”å¦‚Java8çš„Lambdaè¡¨è¾¾å¼,JavaScriptå’ŒGroovyè¯­è¨€çš„é—­åŒ…(Closure)ç­‰,å…¶ä»–çš„ç±»ä¼¼äºŽObject-Cçš„block,pythonçš„Lambdaå’ŒC++11,çœ‹åˆ°è¿™äº›,æˆ‘éƒ½æœ‰ç‚¹çœ©æ™•æƒ³åçš„æ„Ÿè§‰. åŒ¿åå‡½æ•°,Lambda,é—­åŒ…(Closure)åŒºåˆ«ä»Žè¡¨è±¡ä¸Šè¯´Lambdaå’ŒClosureæ˜¯ä¸€ä¸ªä¸œè¥¿,åªæ˜¯è¯­è¨€ä¸åŒç½¢äº†,å®ƒä»¬éƒ½å¯ä»¥åŽ»æ›¿ä»£åŒ¿åå‡½æ•°ç”¨äºŽç®€åŒ–ä¹¦å†™,åŒ¿åå‡½æ•°å†…éƒ¨å¯ä»¥è®¿é—®åˆ°å¤–éƒ¨å˜é‡.ä»Žè€Œå½¢æˆä¸€ä¸ªâ€é—­åŒ…â€.è®°ä½,è¿™åªæ˜¯è¡¨è±¡.ä¸‹é¢å°±è®©ä½ æ€€ç–‘äººç”Ÿ?çœŸçš„æ˜¯ä¸€æ ·å—? Javaä¸­Lambdaè¡¨è¾¾å¼æµ…è°ˆå…¶å®žJavaåœ¨å¾ˆæ—©çš„ç‰ˆæœ¬å°±æ”¯æŒé—­åŒ…,åªæ˜¯å› ä¸ºåº”ç”¨åœºæ™¯å¤ªå°‘äº†,æ‰€ä»¥è¿™ä¸ªæ¦‚å¿µæ‰ä»ŽJava8æŽ¨å¹¿.è¯ä¸å¤šè¯´,å…ˆä¸Šä»£ç : 12345678910111213141516171819202122public static Supplier&lt;Integer&gt; testClosure()&#123; final int i = 1; return new Supplier&lt;Integer&gt;() &#123; @Override public Integer get() &#123; return i; &#125; &#125;;&#125;public interface Supplier&lt;T&gt; &#123; T get();&#125; ä¸Šè¿°ä»£ç ä¸­,å˜é‡iæ˜¯testClosure()çš„å±€éƒ¨å˜é‡,ä½†æ˜¯æœ€ç»ˆè¿”å›žé‡Œçš„åŒ¿åå¯¹è±¡é‡Œ,ä»ç„¶è¿”å›žäº†i.æˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œå…¶ä½œç”¨åŸŸä»…é™äºŽå‡½æ•°å†…éƒ¨ï¼Œåœ¨å‡½æ•°ç»“æŸæ—¶ï¼Œå±€éƒ¨å˜é‡iä»Žæ ˆå†…å­˜æ¶ˆå¤±äº†,å°±åº”è¯¥æ˜¯ä¸å¯è§çŠ¶æ€ï¼Œè€Œé—­åŒ…åˆ™å°†içš„ç”Ÿå­˜å‘¨æœŸå»¶é•¿äº†ï¼Œå¹¶ä¸”ä½¿å¾—å˜é‡å¯ä»¥è¢«å¤–éƒ¨å‡½æ•°æ‰€å¼•ç”¨ã€‚åœ¨JDK8ä¹‹å‰,å¦‚æžœè®¿é—®i,å˜é‡iå¿…é¡»åŠ finalå…³é”®å­—ä¿®é¥°,è®©iæˆä¸ºå˜ä¸ºå¸¸é‡æ± ä¸­çš„å¸¸é‡ä»¥å»¶è¿Ÿiçš„ç”Ÿå‘½å‘¨æœŸ.è€Œåœ¨JDK8ä¸­ä»¥Lambdaè¡¨è¾¾å¼æ–¹å¼å†™,iåˆ™ä¸éœ€è¦åŠ ,è¿™é‡Œåªæ˜¯ä¸ªè¯­æ³•ç³–,å› ä¸ºåº•å±‚.classæ–‡ä»¶ä¼šè‡ªåŠ¨æŽ¨æ–­åŠ ä¸Š.åœ¨Javaçš„ç»å…¸è‘—ä½œã€ŠEffective Javaã€‹ã€ã€ŠJava Concurrency in Practiceã€‹é‡Œï¼Œå¤§ç¥žä»¬éƒ½æåˆ°ï¼šåŒ¿åå‡½æ•°é‡Œçš„å˜é‡å¼•ç”¨ï¼Œä¹Ÿå«åšå˜é‡å¼•ç”¨æ³„éœ²ï¼Œä¼šå¯¼è‡´çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå› æ­¤åœ¨Java8ä¹‹å‰ï¼Œå¦‚æžœåœ¨åŒ¿åç±»å†…éƒ¨å¼•ç”¨å‡½æ•°å±€éƒ¨å˜é‡ï¼Œå¿…é¡»å°†å…¶å£°æ˜Žä¸ºfinalï¼Œå³ä¸å¯å˜å¯¹è±¡ã€‚(Pythonå’ŒJavascriptä»Žä¸€å¼€å§‹å°±æ˜¯ä¸ºå•çº¿ç¨‹è€Œç”Ÿçš„è¯­è¨€ï¼Œä¸€èˆ¬ä¹Ÿä¸ä¼šè€ƒè™‘è¿™æ ·çš„é—®é¢˜ï¼Œæ‰€ä»¥å®ƒçš„å¤–éƒ¨å˜é‡æ˜¯å¯ä»¥ä»»æ„ä¿®æ”¹çš„)ã€‚å¦‚æžœç”¨Java8çš„Lambdaæ”¹å†™ä¸Šè¿°ä»£ç ,åˆ™ä¸º:1234567891011public static Supplier&lt;Integer&gt; testClosure() &#123; int i = 1; return () -&gt; &#123; //å•ä¸ªè¯­å¥,å¯ä»¥çœç•¥&#123;&#125; return i; &#125;;&#125; Wow,çªç„¶æ„Ÿè§‰æ”¹å†™åŽçš„ä»£ç ç®€æ´æ˜Žäº†,é«˜ç«¯å¤§æ°”ä¸Šæ¡£æ¬¡. èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ ä¸‹ä¸€ç¯‡ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• åŒ¿åå‡½æ•°,Lambda,é—­åŒ…(Closure)åŒºåˆ«Javaä¸­Lambdaè¡¨è¾¾å¼æµ…è°ˆ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:42.615Z","updated":"2020-01-08T13:06:42.318Z","comments":true,"path":"public/2018/05/15/Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ/index.html","permalink":"http://ltyeamin.github.io/public/2018/05/15/Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ/index.html","excerpt":"","text":"Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ backend Spring 2018/05/15 æœ¬æ–‡äºŽ561å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ Springå®¹å™¨å®¹å™¨æ˜¯Springæ¡†æž¶çš„æ ¸å¿ƒ.Springå®¹å™¨ä½¿ç”¨DIç®¡ç†æž„æˆåº”ç”¨çš„ç»„ä»¶,ä»–ä¼šåˆ›å»ºç›¸äº’åä½œçš„ç»„ä»¶ä¹‹é—´çš„å…³è”.Springå®¹å™¨å¹¶ä¸æ˜¯åªæœ‰ä¸€ä¸ª.Springè‡ªå¸¦å¤šä¸ªå®¹å™¨å®žçŽ°,å¯å½’çº³ä¸ºä¸¤ç§ä¸åŒçš„ç±»åž‹: Beanå·¥åŽ‚(ç”±BeanFactoryæŽ¥å£å®šä¹‰)æ˜¯æœ€ç®€å•çš„åŒæœŸ,æä¾›åŸºæœ¬çš„DIæ”¯æŒ. åº”ç”¨ä¸Šä¸‹æ–‡(ç”±ApplicationContextæŽ¥å£å®šä¹‰)åŸºäºŽBeanFactoryæž„å»º,å¹¶æä¾›åº”ç”¨æ¡†æž¶çº§åˆ«çš„æœåŠ¡. è™½ç„¶æˆ‘ä»¬å¯ä»¥åœ¨Beanå·¥åŽ‚å’Œåº”ç”¨ä¸Šä¸‹æ–‡ä»»é€‰ä¸€ç§ä½œä¸ºæˆ‘ä»¬çš„å®¹å™¨,ä½†BeanFactoryæ˜¯ApplicationContextçš„é¡¶å±‚æŽ¥å£,åŠŸèƒ½æ¯”è¾ƒå°‘,ä¸èƒ½æ»¡è¶³æˆ‘ä»¬æ—¥å¸¸åº”ç”¨çš„éœ€æ±‚.å› æ­¤åº”ç”¨ä¸Šä¸‹æ–‡æ›´å—å¤§å®¶çš„æ¬¢è¿Ž. Springè‡ªå¸¦äº†å¤šç§ç±»åž‹çš„åº”ç”¨ä¸Šä¸‹æ–‡,ä¸‹é¢ç½—åˆ—å‡ ä¸ªå¸¸ç”¨çš„: AnnotationConfigApplicationContext:ä»Žä¸€ä¸ªæˆ–å¤šä¸ªåŸºäºŽJavaçš„é…ç½®ç±»ä¸­åŠ è½½Springåº”ç”¨ä¸Šä¸‹æ–‡.Spring4ä¹‹åŽæŽ¨èä½¿ç”¨,Spring Boot,Spring Cloudç­‰è‡ªåŠ¨é…ç½®éƒ½æ˜¯åŸºäºŽJava Config. AnnotationConfigWebApplicationContext:ä»Žä¸€ä¸ªæˆ–å¤šä¸ªåŸºäºŽJavaçš„é…ç½®ç±»ä¸­åŠ è½½Spring Webä¸Šä¸‹æ–‡. ClassPathXmlApplicationContext: ä»Žclasspathè·¯å¾„ä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªXMLé…ç½®åŠ è½½ä¸Šä¸‹æ–‡.Spring 4ä¹‹å‰å¸¸å¸¸ä»¥classpathä¸‹æ–‡ä»¶æ–¹å¼è¿›è¡ŒåŠ è½½. FileSystemXmlApplicationContext: ä»Žæ–‡ä»¶ç³»ç»Ÿä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªXMLé…ç½®æ–‡ä»¶ä¸­åŠ è½½ä¸Šä¸‹æ–‡å®šä¹‰.ä¸€èˆ¬ä¸ç”¨ XmlWebApplicationContext: ä»ŽWebåº”ç”¨ä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªXMLé…ç½®åŠ è½½ä¸Šä¸‹æ–‡.ä»¥å‰è€çš„Webé¡¹ç›®å¸¸ç”¨çš„åŠ è½½æ–¹å¼. Beançš„ç”Ÿå‘½å‘¨æœŸåœ¨ä¼ ç»Ÿçš„Javaç¼–ç¨‹æ¨¡å¼ä¸­,ä½¿ç”¨Javaå¯¹è±¡å…³é”®å­—newæˆ–è€…åˆ©ç”¨åå°„æœºåˆ¶è¿›è¡Œå¯¹è±¡å®žä¾‹åŒ–,è¿™äº›â€Beanâ€å®žä¾‹åŒ–åŽæ–¹å¯ä½¿ç”¨.åˆ°äº†æŸä¸ªæ—¶æœŸè¿™äº›å¯¹è±¡ä¸å†è¢«ä½¿ç”¨äº†,åˆ™JVMä¼šè‡ªåŠ¨è¿›è¡Œåžƒåœ¾å›žæ”¶. ç›¸æ¯”ä¼ ç»ŸJavaå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ,Springå®¹å™¨ä¸­Beançš„ç”Ÿå‘½å‘¨æœŸå°±æ˜¾å¾—ç›¸å¯¹å¤æ‚å¤šäº†.æ­£ç¡®ç†è§£Spring Beançš„ç”Ÿå‘½å‘¨æœŸéžå¸¸é‡è¦,å› ä¸ºä½ æˆ–è®¸è¦åˆ©ç”¨Springæä¾›çš„æ‰©å±•ç‚¹æ¥è‡ªåŠ¨é¬¼Beançš„åˆ›å»ºè¿‡ç¨‹. å¦‚ä¸Šå›¾,Beanåœ¨Springå®¹å™¨ä¸­ä»Žåˆ›å»ºåˆ°é”€æ¯ç»åŽ†äº†è‹¥å¹²é˜¶æ®µ: Springé€šè¿‡åå°„æœºåˆ¶å¯¹Beanè¿›è¡Œå®žä¾‹åŒ–; Springå°†å€¼å’ŒBeançš„å¼•ç”¨æ³¨å…¥åˆ°Beanå¯¹åº”çš„å±žæ€§ä¸­. å¦‚æžœBeanå®žçŽ°äº†BeanNameAwareæŽ¥å£,Springå°†Beançš„idä¼ é€’ç»™setBeanName()æ–¹æ³•. å¦‚æžœBeanå®žçŽ°äº†BeanFactoryAwareæŽ¥å£,Springå°†è°ƒç”¨setBeanFactory()æ–¹æ³•,å°†BeanFactoryå®¹å™¨å®žä¾‹ä¼ å…¥. å¦‚æžœBeanå®žçŽ°äº†ApplicationContextAwareæŽ¥å£,Springå°†è°ƒç”¨setApplicationContext()æ–¹æ³•,å°†Beanæ‰€åœ¨çš„åº”ç”¨ä¸Šä¸‹æ–‡çš„å¼•ç”¨ä¼ å…¥è¿›æ¥. å¦‚æžœBeanå®žçŽ°äº†BeanPostProcessoræŽ¥å£,Springå°†è°ƒç”¨postProcessBeforeInitialization()æ–¹æ³•. å¦‚æžœBeanå®žçŽ°äº†InitializingBeanæŽ¥å£,Springå°†è°ƒç”¨afterPropertiesSet()æ–¹æ³•.ç±»ä¼¼åœ¨xmlä½¿ç”¨äº†init-methodçš„æ–¹æ³•,è¯¥æ–¹æ³•ä¹Ÿä¼šè¢«è°ƒç”¨. å¦‚æžœBeanå®žçŽ°äº†BeanPostProcessoræŽ¥å£,Springå°†è°ƒç”¨postProcessAfterInitialization()æ–¹æ³•. Beanå·²ç»å‡†å¤‡å°±ç»ª,å¯ä»¥è¢«åº”ç”¨ç¨‹åºä½¿ç”¨äº†,å®ƒä»¬ä¸€ç›´é©»ç•™åœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­,ç›´åˆ°è¯¥åº”ç”¨ä¸Šä¸‹æ–‡è¢«é”€æ¯. å¦‚æžœBeanå®žçŽ°äº†DisposableBeanæŽ¥å£,Springå°†è°ƒç”¨å®ƒçš„destroy()æ–¹æ³•.ç±»ä¼¼åœ°,å¦‚æžœåœ¨xmlä½¿ç”¨äº†destroy-methodå£°æ˜Žäº†é”€æ¯æ–¹æ³•,è¯¥æ–¹æ³•ä¹Ÿä¼šè¢«è°ƒç”¨. èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ Springæ¡ä»¶æ³¨è§£@Conditional ä¸‹ä¸€ç¯‡ æ•°æ®ç»“æž„ä¹‹æŽ’åº new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• Springå®¹å™¨Beançš„ç”Ÿå‘½å‘¨æœŸ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:30.316Z","updated":"2020-01-08T13:06:30.128Z","comments":true,"path":"public/2018/05/24/é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹/index.html","permalink":"http://ltyeamin.github.io/public/2018/05/24/é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹/index.html","excerpt":"","text":"é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ pm Team Building 2018/05/24 æœ¬æ–‡äºŽ552å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ åœ¨å…¬å¸ITéƒ¨é—¨é‡Œ,å„ä¸ªå›¢é˜Ÿ(äº§å“è®¾è®¡å›¢é˜Ÿ-UI/UEè®¾è®¡å¸ˆ-å‰ç«¯å·¥ç¨‹å¸ˆ-ç§»åŠ¨ç«¯å·¥ç¨‹å¸ˆ-åŽç«¯å·¥ç¨‹å¸ˆ-æµ‹è¯•å·¥ç¨‹å¸ˆ-è¿ç»´å·¥ç¨‹å¸ˆ)äº’ç›¸åä½œ,å…±åŒè¾¾åˆ°é¡¹ç›®ä¸Šçº¿çš„ç›®çš„.å¦‚æžœä¸€ä¸ªå…¬å¸çš„ITéƒ¨é—¨äººå‘˜ç®¡ç†ä»¥åŠé¡¹ç›®å¼€å‘æµç¨‹ä¸å¤ªå®Œå–„,å°±ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜,æ¯”å¦‚æ‰¯çš®æ— ç•Œå’Œæ²Ÿé€šä½Žæ•ˆç­‰é—®é¢˜,è¿™äº›ä¸¥é‡å½±å“åˆ°å·¥ä½œæ•ˆçŽ‡,æ‰“ç ´äº†é¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸ.é‚£ä¹ˆçœŸæ­£çš„å›¢é˜Ÿåä½œåº”è¯¥æ˜¯æ€Žä¹ˆæ ·çš„å‘¢?æˆ‘ä»¬ä¸å¦¨çœ‹ä¸‹å›¾:é’ˆå¯¹ä¸Šè¿°çš„æµç¨‹å›¾,è¯»è€…å¯æ ¹æ®è‡ªå·±å…¬å¸çš„å®žé™…æƒ…å†µ,æ¥å‘è¡¨ç•™è¨€è¯„è®º,ç¬”è€…å¾ˆé«˜å…´ä¸Žå„ä½å°ä¼™ä¼´æ¥æŽ¢è®¨æ­¤äº‹. èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ ä¸‹ä¸€ç¯‡ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• æš‚æ— ç›®å½• è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:33.161Z","updated":"2020-01-08T13:06:33.026Z","comments":true,"path":"public/2018/04/04/å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok/index.html","permalink":"http://ltyeamin.github.io/public/2018/04/04/å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok/index.html","excerpt":"","text":"å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok ops å®žç”¨å·¥å…·åŠæŠ€å·§ 2018/04/04 æœ¬æ–‡äºŽ602å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ ä½œä¸ºä¸€ä¸ªWebå¼€å‘è€…,æˆ‘ä»¬æœ‰æ—¶å€™ä¼šéœ€è¦ä¸´æ—¶åœ°å°†ä¸€ä¸ªæœ¬åœ°çš„Webç½‘ç«™éƒ¨ç½²åˆ°å¤–ç½‘,ä»¥ä¾›ä»–äººä½“éªŒè¯„ä»·æˆ–ååŠ©è°ƒè¯•ç­‰ç­‰,é€šå¸¸æˆ‘ä»¬ä¼šè¿™ä¹ˆåš: æ‰¾åˆ°ä¸€å°è¿è¡ŒäºŽå¤–ç½‘çš„WebæœåŠ¡å™¨; æœåŠ¡å™¨ä¸Šæ­å»ºç½‘ç«™è¿è¡Œæ—¶çš„çŽ¯å¢ƒ; éƒ¨ç½²ç½‘ç«™ è°ƒè¯•ç»“æŸåŽ,å†å°†ç½‘ç«™ä»ŽæœåŠ¡å™¨ä¸Šåˆ é™¤ æˆ‘ä»¬éƒ¨ç½²é™æ€çš„ç½‘ç«™ä»…ä»…åªæ˜¯éœ€è¦å±•ç¤ºç»™æœ‹å‹,ä½•å¿…é‚£ä¹ˆéº»çƒ¦???é™¤æ­¤ä¹‹å¤–,ç¬”è€…æœ€è¿‘è¿›è¡Œå¾®ä¿¡æœºå™¨äººå¼€å‘,ç»å¸¸åœ¨æœ¬åœ°å¼€å‘å’Œå¾®ä¿¡æœåŠ¡ç«¯è¿›è¡Œè”è°ƒ.ç”±äºŽå¾®ä¿¡ç«¯å£å’Œç½‘ç»œçš„é™åˆ¶(å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘å¯¹æŽ¥å¿…é¡»ä»¥http://æˆ–https://å¼€å¤´,åˆ†åˆ«æ”¯æŒ80ç«¯å£å’Œ443ç«¯å£),æˆ‘ä¸å¾—ä¸å°†æˆ‘çš„å†…ç½‘æ˜ å°„åˆ°å…¬ç½‘åœ°å€åšæ˜ å°„è°ƒè¯•.æœ‰äº†Ngrokä¹‹åŽ,ä¸–ç•Œæ˜¯å¦‚æ­¤çš„ç¾Žå¥½,æ‰€ä»¥å¼€å§‹å­¦ä¹ ä¹‹æ—…å§! Ngrokä»‹ç»ä¸Žä½¿ç”¨Ngrokæ˜¯ä¸€ä¸ªåå‘ä»£ç†,é€šè¿‡åœ¨å…¬å…±çš„ç«¯ç‚¹å’Œæœ¬åœ°è¿è¡Œçš„ Web æœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªå®‰å…¨çš„é€šé“.Ngrokå¯æ•èŽ·å’Œåˆ†æžæ‰€æœ‰é€šé“ä¸Šçš„æµé‡,ä¾¿äºŽåŽæœŸåˆ†æžå’Œé‡æ”¾. ä¸‹è½½åœ°å€: https://ngrok.com/downloadæˆ‘æ˜¯ä¸‹è½½Windowsç‰ˆæœ¬çš„,è¯»è€…å¯æ ¹æ®è‡ªå·±çš„ç³»ç»Ÿé€‰æ‹©è¿›è¡Œä¸‹è½½. Windowsç‰ˆæœ¬ä½¿ç”¨æ–¹æ³• åŒå‡»æ‰“å¼€ngrok.exe,ä¼šå‡ºçŽ°å¦‚ä¸‹å¸®åŠ©ä¿¡æ¯. å¯åŠ¨æœ¬åœ°é¡¹ç›®,æˆ‘çš„æ˜¯Javaçš„Spring Booté¡¹ç›®,é¡¹ç›®ç«¯å£ä¸º80,è¯»è€…å¯æ ¹æ®æŠ€æœ¯æ ˆé€‰æ‹©ä¸åŒçš„Webé¡¹ç›®. é€šè¿‡æŸ¥çœ‹ä¸Šè¿°å¸®åŠ©æ–‡æ¡£åŽè¿›è¡Œç«¯å£æœ¬åœ°æ˜ å°„åˆ°å…¬ç½‘,è¾“å…¥å‘½ä»¤:ngrok åè®®å æœ¬åœ°è¦æ˜ å°„çš„ç«¯å£å·,å¦‚è¾“å…¥ngrok http 80å‘½ä»¤å¯è¿›å…¥å¦‚ä¸‹é€šé“è¿žæŽ¥. ä»Žä¸Šå›¾å¯çŸ¥æ˜ å°„çš„ä¿¡æ¯,è¦æƒ³è¿›è¡Œå¯è§†åŒ–æµè§ˆ,å¯åœ¨æµè§ˆå™¨è¾“å…¥:http://127.0.0.1:4040 ä¸Šé¢æœ‰ä¸¤ä¸ªæ˜ å°„åˆ°å…¬ç½‘çš„åœ°å€,é€šè¿‡å¤–ç½‘(æ‰‹æœºæµé‡)è¿›è¡Œè®¿é—®çœ‹æ˜¯å¦æˆåŠŸ. è®¿é—®æˆåŠŸåŽ,å¯æŸ¥çœ‹è¯·æ±‚ä¸Žç›¸åº”ä¿¡æ¯. èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ æ•°æ®ç»“æž„ä¹‹æŽ’åº ä¸‹ä¸€ç¯‡ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• Ngrokä»‹ç»ä¸Žä½¿ç”¨ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:31.184Z","updated":"2020-01-08T13:06:31.044Z","comments":true,"path":"public/2019/06/03/Windowsæœç´¢åˆ©å™¨/index.html","permalink":"http://ltyeamin.github.io/public/2019/06/03/Windowsæœç´¢åˆ©å™¨/index.html","excerpt":"","text":"Windowsæœç´¢åˆ©å™¨ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Windowsæœç´¢åˆ©å™¨ ops å®žç”¨å·¥å…·åŠæŠ€å·§ 2019/06/03 å‰å‡ å‘¨å¿™äºŽæ¢å·¥ä½œï¼Œåšå®¢æ²¡æœ‰å¤ªå¤šçš„æ›´æ–°ã€‚ä»Šå¤©åˆšå¥½å…¥èŒæ–°å…¬å¸çš„ç¬¬ä¸€å¤©ï¼ŒåŠžå…¬ç”µè„‘æ˜¯å°å¼DELL+Intel i5ä¸ƒä»£(å››æ ¸å››çº¿ç¨‹ï¼Œä¸»é¢‘3.1HZï¼Œç¿é¢‘3.6HZ)+8G DDR4ã€‚ç¬”è€…å‰å…¬å¸åŠžå…¬çŽ¯å¢ƒæ˜¯Mac Pro + Mac OS X 10ï¼Œå®¶é‡Œæ—¥å¸¸çŽ¯å¢ƒæ˜¯è”æƒ³Lenovo+Deepin Linuxã€‚å¯ä»¥è¯´å·²ç»ä¸€å¹´å¤šæ²¡æŽ¥è§¦Windowsç³»ç»Ÿäº†ï¼ŒçŽ°åœ¨ä½¿ç”¨èµ·æ¥å¤šå°‘æœ‰äº›ä¸ä¹ æƒ¯ï¼Œä¸»è¦æ˜¯å„ä¸ªæ“ä½œç³»ç»Ÿæ“ä½œç†å¿µä¸åŒã€‚ æˆ‘å‡ ä¹Žæ¯å¤©éƒ½åœ¨ä½¿ç”¨è®¡ç®—æœºè¿›è¡Œå·¥ä½œå’Œä¸ªäººç”Ÿæ´»ï¼Œé‚£ä¹ˆæˆ‘å¯èƒ½ä¼šåœ¨è®¡ç®—æœºä¸Šæ‹¥æœ‰å¤§é‡æ–‡ä»¶ï¼Œç…§ç‰‡ï¼Œæ–‡ä»¶å¤¹ï¼Œæ–‡æ¡£å’Œå…¶ä»–æ•°æ®ã€‚å¦‚æžœæ‰¾åˆ°ä¸€ä¸ªç‰¹å®šçš„æ–‡ä»¶æ˜¯éžå¸¸ç—›è‹¦çš„ã€‚å¹¸è¿çš„æ˜¯ï¼ŒMacä¸­çš„Spotlightæ¨¡å¼å¯è®©æˆ‘åœ¨Macä¸Šæœç´¢å‡ ä¹Žä»»ä½•å†…å®¹ï¼Œä»Žè€Œè½»æ¾æ‰¾åˆ°æ‚¨éœ€è¦çš„ä»»ä½•å†…å®¹ã€‚å¦‚ä¸‹å›¾ï¼š æ­£æ˜¯å› ä¸ºä¹ æƒ¯äº†åœ¨Mac OS Xé€šè¿‡Spotlightæ¨¡å¼è¿›è¡Œæœç´¢åº”ç”¨ã€æ–‡ä»¶ï¼Œæ‰€ä»¥ä»Šå¤©è£…æœºçš„æ—¶å€™æ‰¾äº†ä¸€ä¸‹Windowsçš„æ›¿ä»£æ–¹æ¡ˆã€‚ æ–‡ä»¶æœç´¢ç¥žå™¨-EverythingåŸºæœ¬ç®€ä»‹åŸºäºŽåç§°å¿«é€Ÿå®šä½æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚ è½»é‡å®‰è£…æ–‡ä»¶ å¹²å‡€ç®€æ´çš„ç”¨æˆ·ç•Œé¢ å¿«é€Ÿæ–‡ä»¶ç´¢å¼• å¿«é€Ÿæœç´¢ æœ€å°èµ„æºä½¿ç”¨ ä¾¿äºŽæ–‡ä»¶åˆ†äº« å®žæ—¶æ›´æ–° æ›´å¤šâ€¦ ä¸­æ–‡å®˜ç½‘ ä¸‹è½½åœ°å€ ä¸­æ–‡æ–‡æ¡£ ä½¿ç”¨ä½“éªŒ Spotlightå¿«é€Ÿæ£€ç´¢æ›¿ä»£æ–¹æ¡ˆ-WoxåŸºæœ¬ç®€ä»‹Woxæ˜¯ä¸€æ¬¾å›½äº§å¼€æºå…è´¹çš„è½¯ä»¶å¿«æ·å¯åŠ¨å·¥å…·ï¼Œå®ƒå¯ä»¥å¿«é€Ÿæœç´¢å¹¶æ‰“å¼€ä½ ç”µè„‘ä¸Šçš„ç¨‹åºã€æ–‡ä»¶ã€æŸ¥è¯ç¿»è¯‘ã€ç½‘ç«™æŸ¥æ‰¾ç­‰å…¶ä»–æ“ä½œï¼ŒåŒæ—¶è¿˜æ”¯æŒæ’ä»¶å®‰è£…ã€‚ Tips: å¦‚æžœä½ éœ€è¦ç”¨åˆ°æ–‡ä»¶çš„å¿«é€Ÿæœç´¢ã€æ‰“å¼€åŠŸèƒ½ï¼Œéœ€è¦é¢„å…ˆå®‰è£…Everythingã€‚ å®˜ç½‘ ä¸‹è½½åœ°å€ ä¸­æ–‡æ–‡æ¡£ Githubåœ°å€ ä½¿ç”¨ä½“éªŒå¯åŠ¨æ–¹å¼å¿«æ·é”®å¯åŠ¨æŒ‰ä¸‹ã€Alt+Spaceã€‘å³å¯ï¼Œå¯ä»¥åœ¨settingé‡Œè®¾ç½®ã€‚æˆ‘è®¾ç½®çš„å¿«æ·é”®è®¾ç½®ä¸ºã€Ctrl+Spaceã€‘,å’ŒMacå¿«æ·é”®ä¿æŒä¸€è‡´ã€‚ è®¾ç½®åˆšåˆšä½¿ç”¨Woxçš„ç”¨æˆ·ï¼Œå¸¸å¸¸ä¼šæ‰¾ä¸åˆ°Woxçš„è®¾ç½®é¡µé¢ã€‚ç›®å‰ï¼Œç”¨æˆ·æœ‰ä¸¤ç§æ–¹å¼æ‰“å¼€è®¾ç½®ç•Œé¢ï¼š é€šè¿‡settingå‘½ä»¤ï¼ˆæŽ¨èï¼‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç›´æŽ¥è¾“å…¥settingç„¶åŽé€‰æ‹©ç¬¬ä¸€é¡¹ï¼› é€šè¿‡å³é”®æ‰˜ç›˜å›¾æ ‡ã€‚ åœ¨settingé‡Œï¼Œå¯ä»¥è®¾ç½®ä¸»é¢˜ã€çª—å£è®¾ç½®ã€å¿«æ·é”®è®¾ç½®ã€æœç´¢è®¾ç½®ã€æ’ä»¶è®¾ç½®ï¼Œè¯»è€…å¯æ ¹æ®è‡ªèº«éœ€æ±‚è¿›è¡Œç›¸åº”çš„è®¾ç½®å³å¯ã€‚ åº”ç”¨æœç´¢ æµè§ˆå™¨æœç´¢ å‘½ä»¤ç»ˆç«¯æ‰§è¡Œæ›¿æ¢Windowsçš„å‘½ä»¤ç»ˆç«¯ï¼Œæ›¿æ¢Windowsé”®+Ré”®ã€‚ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ ä¸‹ä¸€ç¯‡ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• æ–‡ä»¶æœç´¢ç¥žå™¨-EverythingåŸºæœ¬ç®€ä»‹ä½¿ç”¨ä½“éªŒSpotlightå¿«é€Ÿæ£€ç´¢æ›¿ä»£æ–¹æ¡ˆ-WoxåŸºæœ¬ç®€ä»‹ä½¿ç”¨ä½“éªŒå¯åŠ¨æ–¹å¼è®¾ç½®åº”ç”¨æœç´¢æµè§ˆå™¨æœç´¢å‘½ä»¤ç»ˆç«¯æ‰§è¡Œ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:43.395Z","updated":"2020-01-08T13:06:43.220Z","comments":true,"path":"public/2019/06/04/è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜/index.html","permalink":"http://ltyeamin.github.io/public/2019/06/04/è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜/index.html","excerpt":"","text":"è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ backend Maven 2019/06/04 é—®é¢˜æè¿°ä»Šå¤©æ‰“å¼€IDEAåŠ è½½é¡¹ç›®æ—¶ï¼Œå‘çŽ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„é—®é¢˜ï¼šé¡¹ç›®ä¾èµ–åŠä»£ç æ²¡ä»»ä½•é—®é¢˜ï¼ŒMavenä¾èµ–æ£€æµ‹çº¢è‰²æ³¢æµªçº¿ä¾æ—§å­˜åœ¨ã€‚è™½è¯´é¡¹ç›®ä¾æ—§èƒ½è·‘èµ·æ¥ä¸å½±å“å¼€å‘ï¼Œä½†æ˜¯mavenå‘½ä»¤æ“ä½œç”¨ä¸äº†ã€‚ é‡åˆ°é—®é¢˜åŽï¼Œæˆ‘å¤§åƒä¸€æƒŠã€‚æ˜¨å¤©çœ‹é¡¹ç›®è¿˜å¥½å¥½çš„ï¼Œä»Šå¤©å°±æŠ¥å‡ºæŸä¸ªé¡¹ç›®ä¸€ä¸ªä¾èµ–åŒ…æ‰¾ä¸åˆ°ã€‚å¯å®žé™…ä¸Šã€‚è¯¥ä¾èµ–åŒ…åœ¨æœ¬åœ°åº“æ˜¯å­˜åœ¨çš„ã€‚äºŽæ˜¯ï¼Œæˆ‘åˆ æŽ‰äº†ä¾èµ–åŒ…ï¼Œé‡æ–°è¿œç¨‹ä»“åº“ä¸‹è½½ã€‚ ç§æœå’Œä¸­å¤®ä»“åº“åˆ‡æ¢å¥½å‡ æ¬¡ï¼Œé‡æ–°ä¸‹è½½çš„ä¾èµ–åŒ…éƒ½æ˜¯å®Œæ•´æ²¡é—®é¢˜çš„ã€‚åŒæ ·Mavençš„Cleanæˆ–Installæ­é…ä½¿ç”¨å¤šæ¬¡ï¼Œè¿™è®©æˆ‘æ›´åŠ éƒé—·ï¼Œå¯»æ‰¾ç€è§£å†³æ–¹æ¡ˆã€‚ é—®é¢˜æŽ’æŸ¥ä¸Žè§£å†³è§£å†³ä¸€åœ¨é¡¹ç›®ä¸­çš„pom.xmlæ–‡ä»¶é‡ŒæŠŠçº¢è‰²æ³¢æµªçº¿çš„ä¾èµ–çº¿æ³¨é‡ŠæŽ‰ï¼Œç„¶åŽé‡æ–°åŠ è½½ä¹‹åŽï¼Œå°±ä¸ä¼šå‡ºçŽ°ã€‚ ç„¶åŽæ’¤é”€æ³¨é‡Šï¼Œç„¶åŽåŠ è½½å°±OKäº†ï¼Œç½‘ä¸Šä¸Šè¯´è¿™æ˜¯IDEAå¼€å‘å·¥å…·çš„BUGï¼Œè¿™è°æ™“å¾—ï¼Œå…ˆè¿™æ ·å¹²å§ã€‚ è§£å†³äºŒè§£å†³ä¸€è™½ç„¶è§£å†³äº†ä¾èµ–æ‰¾ä¸åˆ°çº¢è‰²æ³¢æµªçº¿é—®é¢˜ï¼Œä½†è¿˜æ˜¯é¢„ç•™ä¸€äº›é—®é¢˜ï¼Œé‚£å°±æ˜¯Mavençš„åŸºæœ¬å‘½ä»¤æ“ä½œç”¨ä¸äº†ã€‚æ¯”å¦‚æˆ‘ä½¿ç”¨äº†mvn cleanè¿›è¡Œæ“ä½œï¼ŒæŽ§åˆ¶å°åˆ™æŠ¥å‡ºä¸€æ®µæ—¥å¿—: 12345D:\\applications\\develop\\JDK8\\bin\\java.exe -Dmaven.multiModuleProjectDirectory=E:\\work\\code\\cashloan-api -Dmaven.home=D:\\applications\\develop\\apache-maven-3.6.1 -Dclassworlds.conf=D:\\applications\\develop\\apache-maven-3.6.1\\bin\\m2.conf \"-javaagent:D:\\applications\\develop\\IntelliJ IDEA 2019.1.3\\lib\\idea_rt.jar=57134:D:\\applications\\develop\\IntelliJ IDEA 2019.1.3\\bin\" -Dfile.encoding=UTF-8 -classpath D:\\applications\\develop\\apache-maven-3.6.1\\boot\\plexus-classworlds-2.6.0.jar org.codehaus.classworlds.Launcher -Didea.version2019.1.3 -s D:\\applications\\develop\\apache-maven-3.6.1\\conf\\settings.xml -Dmaven.repo.local=D:\\applications\\develop\\apache-maven-3.6.1\\repo install[ERROR] Error executing Maven.[ERROR] 2 problems were encountered while building the effective settings[FATAL] Non-parseable settings D:\\applications\\develop\\apache-maven-3.6.1\\conf\\settings.xml: in epilog non whitespace content is not allowed but got j (position: END_TAG seen ...&lt;/settings&gt;\\n\\nj... @300:2) @ D:\\applications\\develop\\apache-maven-3.6.1\\conf\\settings.xml, line 300, column 2[FATAL] Non-parseable settings D:\\applications\\develop\\apache-maven-3.6.1\\conf\\settings.xml: in epilog non whitespace content is not allowed but got j (position: END_TAG seen ...&lt;/settings&gt;\\n\\nj... @300:2) @ D:\\applications\\develop\\apache-maven-3.6.1\\conf\\settings.xml, line 300, column 2 é€šè¿‡æ—¥å¿—æˆ‘è§‰å¾—Mavençš„é…ç½®æ–‡ä»¶settings.xmlæœ‰é—®é¢˜ï¼Œç¬¬300è¡Œç¬¬2åˆ—æœ‰ç–‘æƒ‘ã€‚ æˆ‘æ‰“å¼€settings.xmlsæ–‡ä»¶ï¼Œæ²¡æœ‰300è¡Œï¼ŒæŸ¥çœ‹å¥½åƒå¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯ä»”ç»†é˜…è¯»æ—¥å¿—END_TAG seen â€¦\\n\\njâ€¦ @300:2ï¼Œè¿™ä¸ªè®©æˆ‘æœ‰æ‰€å¯ç¤ºï¼ŒçŒœæµ‹æ˜¯æ¢è¡Œçš„é—®é¢˜ã€‚ Whatï¼Ÿxmlæ–‡ä»¶å°¾ä¸èƒ½æœ‰å›žè½¦æ¢è¡Œï¼Œæˆ‘ä¸ä¿¡è¿™ä¸ªé‚ªï¼Œæˆ‘å°±åŽ»è¯•è¯•ã€‚ è¯•äº†ä»¥åŽï¼Œæ‰çŸ¥é“çœŸçš„æ˜¯è¿™ä¸ªé—®é¢˜ã€‚è¯¥æ­»ï¼Œæƒ³äº†ä¸€ä¸‹ï¼Œè‡ªå·±ä»Šå¤©æ—©ä¸Šæ”¹åŠ¨è¿‡é…ç½®æ–‡ä»¶ï¼Œå¯èƒ½åœ¨ä¿å­˜ä¹‹å‰æ•²äº†å›žè½¦ï¼ŒçœŸæ˜¯è¯¥æ­»ï¼ï¼ï¼ æ€»ç»“æœ‰å‘ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯å¦‚ä½•åŽ»å¡«å‘ã€‚ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ SambaæœåŠ¡å™¨æ­å»º ä¸‹ä¸€ç¯‡ Windowsæœç´¢åˆ©å™¨ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• é—®é¢˜æè¿°é—®é¢˜æŽ’æŸ¥ä¸Žè§£å†³è§£å†³ä¸€è§£å†³äºŒæ€»ç»“ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:34.987Z","updated":"2020-01-08T13:06:34.822Z","comments":true,"path":"public/2019/06/08/SambaæœåŠ¡å™¨æ­å»º/index.html","permalink":"http://ltyeamin.github.io/public/2019/06/08/SambaæœåŠ¡å™¨æ­å»º/index.html","excerpt":"","text":"SambaæœåŠ¡å™¨æ­å»º | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ SambaæœåŠ¡å™¨æ­å»º ops Samba 2019/06/08 èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ é­”éƒ½ä¸Šæµ· ä¸‹ä¸€ç¯‡ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• æš‚æ— ç›®å½• è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:36.163Z","updated":"2020-01-08T13:06:35.987Z","comments":true,"path":"public/2018/06/10/Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ/index.html","permalink":"http://ltyeamin.github.io/public/2018/06/10/Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ/index.html","excerpt":"","text":"Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ ops Docker 2018/06/10 æœ¬æ–‡äºŽ535å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ RabbitMQæ˜¯æµè¡Œçš„å¼€æºæ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œé‡‡ç”¨å¤©ç”ŸæŠ—å¹¶å‘çš„erlangè¯­è¨€å¼€å‘ã€‚RabbitMQæ˜¯AMQPï¼ˆé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰çš„æ ‡å‡†å®žçŽ°ã€‚æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡Dockerçš„æ–¹å¼å®‰è£…RabbitMQã€‚ æŸ¥çœ‹RabbitMQç‰ˆæœ¬è¿›å…¥docker hubå®˜æ–¹é•œåƒä»“åº“æˆ–é˜¿é‡Œdockeré•œåƒåº“,æœç´¢rabbitmqé•œåƒã€‚ å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨å‘½ä»¤æœç´¢: 1docker search rabbitmq:management è¿™é‡Œï¼Œæˆ‘ä»¬ç”¨webé¡µé¢æœç´¢ï¼Œæœç´¢åŽç‚¹å‡»è¯¦æƒ…é¡µé¢ã€‚ è¿™é‡Œæˆ‘ä»¬é€‰æ‹©å¸¦æœ‰managementçš„ç‰ˆæœ¬ï¼Œæ­¤ç‰ˆæœ¬åŒ…å«webå¯è§†åŒ–ç®¡ç†é¡µé¢ã€‚ Dockeræ‹‰å–é•œåƒ1docker pull rabbitmq:3.7.14-management è¾“å…¥ä»¥ä¸Šå‘½ä»¤åŽï¼Œé•œåƒåˆ†ç‰‡å¼€å§‹ä¸‹è½½å¹¶å®Œæˆrabbitmqé•œåƒçš„åˆå¹¶ã€‚ä¸‹è½½å®ŒæˆåŽï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥è¯¢è¾“å…¥ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰æœ¬åœ°ä»“åº“æ‰€æœ‰çš„é•œåƒæ–‡ä»¶ã€‚ 1docker images å¦‚å›¾ åˆ›å»ºå¹¶å¯åŠ¨RabbitMQåº”ç”¨å®¹å™¨1docker run -d -p 5672:5672 -p 15672:15672 --name rabbitmq rabbitmq:3.7.14-management æ‰§è¡Œä¸Šè¿°å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªrabbitmqçš„dockerå®¹å™¨ï¼Œæ‰§è¡ŒæˆåŠŸåŽå›žè¿”å›ždockerå®¹å™¨IDã€‚ 12Yeamin:~ mac$ docker run -d -p 5672:5672 -p 15672:15672 --name rabbitmq rabbitmq:3.7.14-management5b2658f3fe04919883b4d0b3d2766220e1ecb983d715b5b6cbfec758634f2531 åˆ›å»ºå‚æ•°è§£é‡Š-d åŽå°è¿è¡Œå®¹å™¨ï¼› â€“name æŒ‡å®šå®¹å™¨åï¼› -p æŒ‡å®šæœåŠ¡è¿è¡Œçš„ç«¯å£ï¼ˆ5672ï¼šåº”ç”¨è®¿é—®ç«¯å£ï¼›15672ï¼šæŽ§åˆ¶å°Webç«¯å£å·ï¼‰ï¼› -v æ˜ å°„ç›®å½•æˆ–æ–‡ä»¶ï¼› â€“hostname ä¸»æœºåï¼ˆRabbitMQçš„ä¸€ä¸ªé‡è¦æ³¨æ„äº‹é¡¹æ˜¯å®ƒæ ¹æ®æ‰€è°“çš„ â€œèŠ‚ç‚¹åç§°â€ å­˜å‚¨æ•°æ®ï¼Œé»˜è®¤ä¸ºä¸»æœºåï¼‰ï¼› -e æŒ‡å®šçŽ¯å¢ƒå˜é‡ï¼›ï¼ˆRABBITMQ_DEFAULT_VHOSTï¼šé»˜è®¤è™šæ‹Ÿæœºåï¼›RABBITMQ_DEFAULT_USERï¼šé»˜è®¤çš„ç”¨æˆ·åï¼›RABBITMQ_DEFAULT_PASSï¼šé»˜è®¤ç”¨æˆ·åçš„å¯†ç ï¼Œæˆ‘è¿™é‡Œæ²¡é…ç½®ï¼‰ å¯åŠ¨rabbitmqåº”ç”¨å®¹å™¨æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œå¯åŠ¨ 1Docker start å®¹å™¨idå‰å››ä½ æˆ‘è¿™é‡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ‰§è¡Œ 1docker start 5b26 æŸ¥è¯¢è¿è¡ŒçŠ¶æ€æ‰§è¡Œdocker psæŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨çŠ¶æ€ 12345Yeamin:~ mac$ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES5b2658f3fe04 rabbitmq:3.7.14-management \"docker-entrypoint.sâ€¦\" 30 minutes ago Up 30 minutes 4369/tcp, 5671/tcp, 0.0.0.0:5672-&gt;5672/tcp, 15671/tcp, 25672/tcp, 0.0.0.0:15672-&gt;15672/tcp rabbitmq RabbitMQçš„WEBæŽ§åˆ¶å°åœ¨æµè§ˆå™¨æ‰“å¼€http://localhost:15672,è¿›å…¥ç™»å½•é¡µé¢ï¼Œé»˜è®¤è´¦å·å’Œå¯†ç éƒ½ä¸ºguestã€‚ å‚è€ƒèµ„æ–™ Dockerå®˜ç½‘ RabbitMQå®˜ç½‘ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ RabbitMQæ¦‚è¿° ä¸‹ä¸€ç¯‡ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• æŸ¥çœ‹RabbitMQç‰ˆæœ¬Dockeræ‹‰å–é•œåƒåˆ›å»ºå¹¶å¯åŠ¨RabbitMQåº”ç”¨å®¹å™¨åˆ›å»ºå‚æ•°è§£é‡Šå¯åŠ¨rabbitmqåº”ç”¨å®¹å™¨æŸ¥è¯¢è¿è¡ŒçŠ¶æ€RabbitMQçš„WEBæŽ§åˆ¶å°å‚è€ƒèµ„æ–™ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:38.613Z","updated":"2020-01-08T13:06:38.470Z","comments":true,"path":"public/2019/06/09/é­”éƒ½ä¸Šæµ·/index.html","permalink":"http://ltyeamin.github.io/public/2019/06/09/é­”éƒ½ä¸Šæµ·/index.html","excerpt":"","text":"é­”éƒ½ä¸Šæµ· | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ é­”éƒ½ä¸Šæµ· others è‡ªåª’ä½“ 2019/06/09 ä¸Šæµ·å®£ä¼ ç‰‡ const dp0 = new DPlayer({ container: document.getElementById('dplayer0'), screenshot: true, video: { url: 'http://q3j85ddid.bkt.clouddn.com/videos/lvyou/shanghai2.mp4' }, subtitle: { url: 'webvtt.vtt' }, danmaku: { id: 'demo', api: 'https://api.prprpr.me/dplayer/' } }); const dp1 = new DPlayer({ container: document.getElementById('dplayer1'), screenshot: true, video: { url: 'http://q3j85ddid.bkt.clouddn.com/videos/lvyou/shanghai1.mp4' }, subtitle: { url: 'webvtt.vtt' }, danmaku: { id: 'demo', api: 'https://api.prprpr.me/dplayer/' } }); èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ ä¸‹ä¸€ç¯‡ SambaæœåŠ¡å™¨æ­å»º new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• ä¸Šæµ·å®£ä¼ ç‰‡ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:32.889Z","updated":"2020-01-08T13:06:32.600Z","comments":true,"path":"public/2019/08/11/ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³/index.html","permalink":"http://ltyeamin.github.io/public/2019/08/11/ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³/index.html","excerpt":"","text":"ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ ops å®žç”¨å·¥å…·åŠæŠ€å·§ 2019/08/11 ä»Šå¤©åœ¨å®¶ä¸‹è½½ä¸€ä¸ªåˆ«äººç»™æˆ‘çš„ç™¾åº¦ç½‘ç›˜èµ„æ–™ï¼Œèµ„æ–™å¤§å°å·®ä¸å¤š2ä¸ªG,ä½†æ˜¯æ‰“å¼€æµè§ˆå™¨å‘çŽ°æœ‰ä¸€ä»¶æ˜¯éžå¸¸çƒ¦èºçš„äº‹æƒ…:å°æ–‡ä»¶å¯ä»¥ç›´æŽ¥åœ¨æµè§ˆå™¨ç«¯è¿›è¡Œä¸‹è½½,ä½†æ˜¯å¤§æ–‡ä»¶å¿…é¡»ä¸‹è½½ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯è¿›è¡Œä¸‹è½½. æ²¡åŠžæ³•,æˆ‘åªå¥½åŽ»åº”ç”¨å•†åº—åŽ»ä¸‹è½½ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯,åœ¨æ·±åº¦åº”ç”¨å•†åº—è¿˜å¥½æ‰¾åˆ°äº†ç™¾åº¦ç½‘ç›˜çš„å®¢æˆ·ç«¯(å›½äº§Deepinç³»ç»Ÿç¬¬ä¸‰æ–¹è½¯ä»¶æºè¿˜æ˜¯æ¯”è¾ƒç»™åŠ›)ã€‚ç´§æŽ¥ç€æˆ‘å°±åœ¨å®¢æˆ·ç«¯ç«¯ç™»å½•ä¸‹è½½,å¦‚ä¸‹å›¾: ç”¨äº†å®¢æˆ·ç«¯ä¹‹åŽå‘çŽ°,ä¸‹è½½é€Ÿåº¦ç‰¹åˆ«æ…¢,äºŽæ˜¯åœ¨ç½‘ä¸Šæ‰¾åˆ°ä¸€äº›è§£å†³æ–¹æ¡ˆ:æµè§ˆå™¨æ’ä»¶+ç¬¬ä¸‰æ–¹ç½‘ç»œä¸‹è½½å·¥å…·(Motrix/Aria2)è¿›è¡Œä¸‹è½½.æˆ‘è¿™é‡Œé‡‡ç”¨Motrixæ–¹å¼,Aria2çš„æ–¹å¼è¯»è€…å¯è‡ªè¡Œç ”ç©¶å®‰è£…ä¸Žä½¿ç”¨ã€‚ å®‰è£…ä¸Žè®¾ç½® å®‰è£…æµè§ˆå™¨æ’ä»¶ Motrix:åœ¨Chromeæµè§ˆå™¨åº”ç”¨å•†åº—æœç´¢ç™¾åº¦ç½‘ç›˜åŠ©æ‰‹å¹¶ä¸‹è½½å®‰è£…ã€‚ Aria2: åœ¨Chromeæµè§ˆå™¨åº”ç”¨å•†åº—æœç´¢YAAW for Chromeå¹¶ä¸‹è½½å®‰è£…ã€‚ ç½‘ç»œä¸‹è½½å·¥å…·å®‰è£… Motrix: ä¸‹è½½åœ°å€ Aria2:ä¸‹è½½åœ°å€ ä½¿ç”¨ä½“éªŒ æ€»ç»“ç”±ä¸Šå¯çŸ¥,ç™¾åº¦äº‘ç½‘ç›˜ç¡®å®žåšäº†ç½‘é€Ÿé™åˆ¶ã€‚è™½ç„¶é€šè¿‡ç¬¬ä¸‰æ–¹ä¸‹è½½å·¥å…·æå‡äº†ä¸€äº›ä¸‹è½½é€Ÿåº¦,ä½†æ˜¯ä¸‹è½½è¿˜æ˜¯æœ‰ç‚¹æ…¢ï¼Œè¿™ä¸ªå…¶å®žå¯ä»¥ç†è§£çš„ï¼Œå› ä¸ºå½“ä¸‹çš„ç½‘ç»œæ˜¯é•¿åŸŽå®½å¸¦ï¼Œæ…¢ä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ Deepin Linuxå®‰è£…Docker ä¸‹ä¸€ç¯‡ é­”éƒ½ä¸Šæµ· new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• å®‰è£…ä¸Žè®¾ç½®ä½¿ç”¨ä½“éªŒæ€»ç»“ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:40.574Z","updated":"2020-01-08T13:06:40.411Z","comments":true,"path":"public/2019/09/02/Nginxè®¾ç½®é»‘ç™½åå•/index.html","permalink":"http://ltyeamin.github.io/public/2019/09/02/Nginxè®¾ç½®é»‘ç™½åå•/index.html","excerpt":"","text":"Nginxè®¾ç½®é»‘ç™½åå• | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Nginxè®¾ç½®é»‘ç™½åå• ops Nginx 2019/09/02 åœ¨æ—¥å¸¸è¿ç»´å·¥ä½œä¸­ï¼Œä¼šç¢°åˆ°è¿™æ ·çš„éœ€æ±‚ï¼Œå¯¹äºŽä¸€äº›httpè¯·æ±‚åªå¯¹æŸäº›ipå¼€å‘ï¼Œå…¶ä»–çš„ipçš„å®¢æˆ·ç«¯éƒ½ä¸èƒ½è®¿é—®ã€‚ åœ¨æµ‹è¯•ä¹‹å‰æˆ‘åˆ—ä¸€ä¸‹æœ¬æ¬¡æµ‹è¯•çš„ç»ˆç«¯IPã€‚ å®¿ä¸»æœºDeepin Linux ï¼š 192.168.1.106 è™šæ‹ŸæœºWindows 10 : 192.168.1.107 ç§»åŠ¨Androidç»ˆç«¯æœº MIUI10: 192.168.1.100 Nginxæ˜¯åœ¨Deepinéƒ¨ç½²çš„ï¼ŒçŽ°åœ¨æˆ‘ä»¬å¯åŠ¨Nginx 12cd /usr/local/nginx/sbin./nginx 1å¯åŠ¨åŽï¼Œåœ¨å®¿ä¸»æœºéšä¾¿è®¿é—®ä¸€ä¸ªè¯·æ±‚(è¿™é‡Œæ˜¯æˆ‘ä¹‹å‰æ–‡ç« é…ç½®çš„é™æ€å›¾ç‰‡èµ„æºçš„è½¬å‘)ï¼Œæ¯”å¦‚http://127.0.0.1æˆ–http://192.168.1.106 æ­¤å¤–ï¼Œæˆ‘ä»¬ç”¨Androidæ‰‹æœºå’ŒWindows 10è™šæ‹ŸæœºåŒæ ·è®¿é—®http://192.168.1.106ä¹Ÿèƒ½è®¿é—®åˆ°ï¼Œæ‰‹æœºå’Œå®¿ä¸»æœºæ˜¯åŒä¸€ä¸ªè·¯ç”±å™¨ï¼Œè€Œè™šæ‹Ÿæœºç½‘ç»œæ˜¯æ¡¥æŽ¥æ¨¡å¼ã€‚æ‰€ä»¥æ˜¯åœ¨åŒä¸€å±€åŸŸç½‘éƒ½èƒ½å¤Ÿäº’é€šã€‚ æˆ‘ä»¬è®©æ‰‹æœºæ— æ³•è®¿é—®ï¼Œè®©è™šæ‹Ÿæœºå¯ä»¥é€šè¿‡ã€‚ åˆ©ç”¨allowã€denyå‚æ•°è¿›è¡Œè®¿é—®é™åˆ¶ æ›´æ”¹nginx.confã€‚ 12345678location / &#123; deny 192.168.1.100; #ç¦æ­¢IPä¸º192.168.1.100è®¿é—® allow all; # é™¤è¿‡ä¸Šè¿°é»‘åå•çš„é™åˆ¶å¤–ï¼Œå…è®¸å…¶ä»–IPè®¿é—® autoindex on; #å¼€å¯ç´¢å¼•åŠŸèƒ½ autoindex_exact_size off; # å…³é—­è®¡ç®—æ–‡ä»¶ç¡®åˆ‡å¤§å°ï¼ˆå•ä½bytesï¼‰ï¼Œåªæ˜¾ç¤ºå¤§æ¦‚å¤§å°ï¼ˆå•ä½kbã€mbã€gbï¼‰ autoindex_localtime on; # æ˜¾ç¤ºæœ¬æœºæ—¶é—´è€Œéž GMT æ—¶é—´ &#125; é‡æ–°åŠ è½½é…ç½®ã€‚ 1sudo ./nginx -s reload é»‘åå•é™åˆ¶æ•ˆæžœã€‚ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® ä¸‹ä¸€ç¯‡ Deepin Linuxå®‰è£…Docker new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• åˆ©ç”¨allowã€denyå‚æ•°è¿›è¡Œè®¿é—®é™åˆ¶ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.201Z","updated":"2019-11-27T15:22:16.201Z","comments":true,"path":"public/categories/backend/page/3/index.html","permalink":"http://ltyeamin.github.io/public/categories/backend/page/3/index.html","excerpt":"","text":"åˆ†ç±»: backend | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ backend Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ &bull; 2018å¹´05æœˆ15æ—¥ Springå®¹å™¨å®¹å™¨æ˜¯Springæ¡†æž¶çš„æ ¸å¿ƒ.Springå®¹å™¨ä½¿ç”¨DIç®¡ç†æž„æˆåº”ç”¨çš„ç»„ä»¶,ä»–ä¼šåˆ›å»ºç›¸äº’åä½œçš„ç»„ä»¶ä¹‹é—´çš„å…³è”.Springå®¹å™¨å¹¶ä¸æ˜¯åªæœ‰ä¸€ä¸ª.Springè‡ªå¸¦å¤šä¸ªå®¹å™¨å®žçŽ°,å¯å½’çº³ä¸ºä¸¤ç§ä¸åŒçš„ç±»åž‹: Beanå·¥åŽ‚(ç”±BeanFactoryæŽ¥å£å®šä¹‰)æ˜¯æœ€ç®€å•çš„åŒæœŸ,æä¾›åŸºæœ¬çš„DIæ”¯... å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž &bull; 2018å¹´03æœˆ27æ—¥ åœ¨Springä¸­,è¢«@Scopeæ³¨è§£ä¿®é¥°Beané»˜è®¤æ˜¯å•ä¾‹æ¨¡å¼çš„,å³åªæœ‰ä¸€ä¸ªå®žä¾‹å¯¹è±¡,å¤šæ¬¡èŽ·å–Beanä¼šæ‹¿åˆ°åŒä¸€ä¸ªå¯¹è±¡. å•ä¾‹æ³¨å†Œè¡¨Springé‡‡ç”¨å•ä¾‹æ³¨å†Œè¡¨çš„ç‰¹æ®Šæ–¹å¼å®žçŽ°å•ä¾‹æ¨¡å¼.é¦–å…ˆè‡ªå·±å†™ä¸ªå•ä¾‹æ³¨å†Œè¡¨.æˆ‘ä»¬å¯ä»¥é€šè¿‡Mapç¼“å­˜å•ä¾‹å¯¹è±¡,å®žçŽ°å•ä¾‹æ³¨å†Œè¡¨.å€¼å¾—æ³¨æ„çš„æ˜¯,é‡‡ç”¨ConcurrentH... çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž &bull; 2018å¹´03æœˆ15æ—¥ æœ€è¿‘åœ¨ä½¿ç”¨Spring Cloudè¿‡ç¨‹ä¸­,ç»å¸¸ä¼šé‡è§çº¿ç¨‹éš”ç¦»(åˆ‡æ¢).å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±.ä¾‹å¦‚è°ƒç”¨å…¶ä»–æœåŠ¡èŽ·å–ä¸åˆ°Threadlocalæ²¡æœ‰æ•°æ®,æœåŠ¡ä¹‹é—´ä¼ é€’è¯·æ±‚å¤´ä¼ é€’å¤±è´¥.é€šè¿‡æŸ¥é˜…ç›¸å…³æ–‡æ¡£æ‰å‘çŽ°:ç”¨Hystrixå®žçŽ°æ–­è·¯å™¨,Zuulä¸­é»˜è®¤ä½¿ç”¨çš„æ˜¯ä¿¡å·é‡,å…¶ä»–é»˜è®¤éƒ½æ˜¯çº¿ç¨‹éš”ç¦».... æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) &bull; 2018å¹´01æœˆ30æ—¥ å‡ ä¹Žæ‰€æœ‰çš„ä¸»æµç¼–ç¨‹è¯­è¨€éƒ½å¯¹å‡½æ•°å¼ç¼–ç¨‹æœ‰æ”¯æŒ,æˆ‘æ‰€ç”¨è¿‡çš„æ¯”å¦‚Java8çš„Lambdaè¡¨è¾¾å¼,JavaScriptå’ŒGroovyè¯­è¨€çš„é—­åŒ…(Closure)ç­‰,å…¶ä»–çš„ç±»ä¼¼äºŽObject-Cçš„block,pythonçš„Lambdaå’ŒC++11,çœ‹åˆ°è¿™äº›,æˆ‘éƒ½æœ‰ç‚¹çœ©æ™•æƒ³åçš„æ„Ÿè§‰. åŒ¿åå‡½æ•°,Lambd... Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ &bull; 2018å¹´01æœˆ30æ—¥ æœ€è¿‘åœ¨åšé¡¹ç›®ä¼˜åŒ–,ç ”ç©¶äº†Spring Cloudåº•å±‚æºç ,Httpè¯·æ±‚åº“é»˜è®¤æ˜¯Apache HttpClientæˆ–è€…JDKè‡ªå¸¦çš„HttpURLConnectionåº“.Javaæ ‡å‡†åº“æä¾›äº†HttpURLConnectionç±»æ¥æ”¯æŒHTTPé€šè®¯ã€‚ä¸è¿‡HttpURLConnectionæœ¬èº«çš„APIä¸... 123 æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.198Z","updated":"2019-11-27T15:22:16.198Z","comments":true,"path":"public/categories/ops/page/2/index.html","permalink":"http://ltyeamin.github.io/public/categories/ops/page/2/index.html","excerpt":"","text":"åˆ†ç±»: ops | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ ops Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ &bull; 2018å¹´06æœˆ10æ—¥ RabbitMQæ˜¯æµè¡Œçš„å¼€æºæ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œé‡‡ç”¨å¤©ç”ŸæŠ—å¹¶å‘çš„erlangè¯­è¨€å¼€å‘ã€‚RabbitMQæ˜¯AMQPï¼ˆé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰çš„æ ‡å‡†å®žçŽ°ã€‚æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡Dockerçš„æ–¹å¼å®‰è£…RabbitMQã€‚ æŸ¥çœ‹RabbitMQç‰ˆæœ¬è¿›å…¥docker hubå®˜æ–¹é•œåƒä»“åº“æˆ–é˜¿é‡Œdockeré•œåƒåº“,æœç´¢rabb... LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ &bull; 2018å¹´05æœˆ22æ—¥ Linuxçš„ä¸–ç•Œé‡Œä¸€åˆ‡çš†æ–‡ä»¶,å¯¹Linuxçš„æ“ä½œå°±æ˜¯å¯¹æ–‡ä»¶çš„å¤„ç†.è¢«ä¸šç•Œç§°ä¸ºâ€ä¸‰å‰‘å®¢â€çš„awk,sed,grepå°±èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿æ›´é«˜æ•ˆçš„å¤„ç†æ–‡ä»¶.â€œä¸‰å‰‘å®¢â€ä¸­grepæ“…é•¿æŸ¥æ‰¾åŠŸèƒ½,sedæ“…é•¿å–è¡Œå’Œæ›¿æ¢,awkæ“…é•¿å–åˆ—.â€œä¸‰å‰‘å®¢â€å°±æ˜¯æ™®é€šçš„Linuxå‘½ä»¤,è€Œæ­£åˆ™è¡¨è¾¾å¼å¥½æ¯”ä¸€ä¸ªæ¨¡æ¿,ä¸¤è€…ç»“åˆä½¿... LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ &bull; 2018å¹´05æœˆ22æ—¥ Linuxç³»ç»Ÿä¸‹çš„ä¸‹è½½å·¥å…·wget æ˜¯ä¸€ä¸ªä»Žç½‘ç»œä¸Šè‡ªåŠ¨ä¸‹è½½æ–‡ä»¶çš„è‡ªç”±å·¥å…·,æ”¯æŒé€šè¿‡ HTTP,HTTPS,FTP ä¸‰ä¸ªæœ€å¸¸è§çš„ TCP/IPåè®® ä¸‹è½½,å¹¶å¯ä»¥ä½¿ç”¨ HTTP ä»£ç†.â€wgetâ€ è¿™ä¸ªåç§°æ¥æºäºŽ â€œWorld Wide Webâ€ ä¸Ž â€œgetâ€ çš„ç»“åˆ.æ‰€è°“è‡ªåŠ¨ä¸‹è½½,æ˜¯æŒ‡ wge... å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok &bull; 2018å¹´04æœˆ04æ—¥ ä½œä¸ºä¸€ä¸ªWebå¼€å‘è€…,æˆ‘ä»¬æœ‰æ—¶å€™ä¼šéœ€è¦ä¸´æ—¶åœ°å°†ä¸€ä¸ªæœ¬åœ°çš„Webç½‘ç«™éƒ¨ç½²åˆ°å¤–ç½‘,ä»¥ä¾›ä»–äººä½“éªŒè¯„ä»·æˆ–ååŠ©è°ƒè¯•ç­‰ç­‰,é€šå¸¸æˆ‘ä»¬ä¼šè¿™ä¹ˆåš: æ‰¾åˆ°ä¸€å°è¿è¡ŒäºŽå¤–ç½‘çš„WebæœåŠ¡å™¨; æœåŠ¡å™¨ä¸Šæ­å»ºç½‘ç«™è¿è¡Œæ—¶çš„çŽ¯å¢ƒ; éƒ¨ç½²ç½‘ç«™ è°ƒè¯•ç»“æŸåŽ,å†å°†ç½‘ç«™ä»ŽæœåŠ¡å™¨ä¸Šåˆ é™¤ æˆ‘ä»¬éƒ¨ç½²é™æ€çš„ç½‘ç«™ä»…ä»…åªæ˜¯éœ€è¦å±•ç¤ºç»™æœ‹å‹,ä½•å¿…... ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ &bull; 2018å¹´02æœˆ07æ—¥ Jenkinsæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶é¡¹ç›®ï¼Œæ˜¯åŸºäºŽJavaå¼€å‘çš„ä¸€ç§æŒç»­é›†æˆå·¥å…·ï¼Œç”¨äºŽç›‘æŽ§æŒç»­é‡å¤çš„å·¥ä½œï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå¼€æ”¾æ˜“ç”¨çš„è½¯ä»¶å¹³å°ï¼Œä½¿è½¯ä»¶çš„æŒç»­é›†æˆå˜æˆå¯èƒ½ã€‚ å®‰è£…Jenkinsé¦–å…ˆæˆ‘ä»¬åŽ»Jenkinså®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°çš„éƒ¨ç½²åŒ…(.war):Jenkins.å› ä¸ºæˆ‘æ˜¯åœ¨Linuxå¹³å°éƒ¨ç½²,éœ€è¦æ³¨æ„çš„æ˜¯... 12 æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:17.404Z","updated":"2019-11-27T15:22:17.404Z","comments":true,"path":"public/assets/valine.min.js","permalink":"http://ltyeamin.github.io/public/assets/valine.min.js","excerpt":"","text":"!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.Valine=t():e.Valine=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=16)}([function(e,t,n){var r,i,o;!function(n,a){i=[e,t],r=a,void 0!==(o=\"function\"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t){\"use strict\";function n(e){function t(t){var n=e.style.width;e.style.width=\"0px\",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function n(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function r(){if(0!==e.scrollHeight){var t=n(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height=\"\",e.style.height=e.scrollHeight+s+\"px\",l=e.clientWidth,t.forEach(function(e){e.node.scrollTop=e.scrollTop}),r&&(document.documentElement.scrollTop=r)}}function i(){r();var n=Math.round(parseFloat(e.style.height)),i=window.getComputedStyle(e,null),o=\"content-box\"===i.boxSizing?Math.round(parseFloat(i.height)):e.offsetHeight;if(o-1},get:function(n){return t[e.indexOf(n)]},set:function(n,r){-1===e.indexOf(n)&&(e.push(n),t.push(r))},delete:function(n){var r=e.indexOf(n);r>-1&&(e.splice(r,1),t.splice(r,1))}}}(),a=function(e){return new Event(e,{bubbles:!0})};try{new Event(\"test\")}catch(e){a=function(e){var t=document.createEvent(\"Event\");return t.initEvent(e,!0,!1),t}}var s=null;\"undefined\"==typeof window||\"function\"!=typeof window.getComputedStyle?(s=function(e){return e},s.destroy=function(e){return e},s.update=function(e){return e}):(s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e)}),e},s.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e}),t.default=s,e.exports=t.default})},function(e,t,n){\"use strict\";function r(e){var t=this;return!!e&&t.init(e),t}function i(e){return new r(e)}var o=n(6),a=n(8),s=n(0),l=n(5),c=n(3),d=n(4),u=n(2),p=n(7),f={comment:\"\",nick:\"Anonymous\",mail:\"\",link:\"\",ua:navigator.userAgent,url:\"\"},h={\"zh-cn\":{head:{nick:\"æ˜µç§°\",mail:\"é‚®ç®±\",link:\"ç½‘å€(http://)\"},tips:{comments:\"è¯„è®º\",sofa:\"å¿«æ¥åšç¬¬ä¸€ä¸ªè¯„è®ºçš„äººå§~\",busy:\"è¿˜åœ¨æäº¤ä¸­ï¼Œè¯·ç¨å€™...\",again:\"è¿™ä¹ˆç®€å•ä¹Ÿèƒ½é”™ï¼Œä¹Ÿæ˜¯æ²¡è°äº†.\"},ctrl:{reply:\"å›žå¤\",ok:\"å¥½çš„\",sure:\"ç¡®è®¤\",cancel:\"å–æ¶ˆ\",confirm:\"ç¡®è®¤\",continue:\"ç»§ç»­\",more:\"æŸ¥çœ‹æ›´å¤š...\",try:\"å†è¯•è¯•?\"},error:{99:\"åˆå§‹åŒ–å¤±è´¥ï¼Œè¯·æ£€æŸ¥initä¸­çš„`el`å…ƒç´ .\",100:\"åˆå§‹åŒ–å¤±è´¥ï¼Œè¯·æ£€æŸ¥ä½ çš„AppIdå’ŒAppKey.\",401:\"æœªç»æŽˆæƒçš„æ“ä½œï¼Œè¯·æ£€æŸ¥ä½ çš„AppIdå’ŒAppKey.\",403:\"è®¿é—®è¢«apiåŸŸåç™½åå•æ‹’ç»ï¼Œè¯·æ£€æŸ¥ä½ çš„å®‰å…¨åŸŸåè®¾ç½®.\"},timeago:{seconds:\"ç§’å‰\",minutes:\"åˆ†é’Ÿå‰\",hours:\"å°æ—¶å‰\",days:\"å¤©å‰\",now:\"åˆšåˆš\"}},en:{head:{nick:\"NickName\",mail:\"E-Mail\",link:\"Website(http://)\"},tips:{comments:\"Comments\",sofa:\"No comments yet.\",busy:\"Submit is busy, please wait...\",again:\"Sorry, this is a wrong calculation.\"},ctrl:{reply:\"Reply\",ok:\"Ok\",sure:\"Sure\",cancel:\"Cancel\",confirm:\"Confirm\",continue:\"Continue\",more:\"Load More...\",try:\"Once More?\"},error:{99:\"Initialization failed, Please check the `el` element in the init method.\",100:\"Initialization failed, Please check your appId and appKey.\",401:\"Unauthorized operation, Please check your appId and appKey.\",403:\"Access denied by api domain white list, Please check your security domain.\"},timeago:{seconds:\"seconds ago\",minutes:\"minutes ago\",hours:\"hours ago\",days:\"days ago\",now:\"just now\"}}},v={cdn:\"https://gravatar.loli.net/avatar/\",ds:[\"mp\",\"identicon\",\"monsterid\",\"wavatar\",\"robohash\",\"retro\",\"\"],params:\"\",hide:!1},g=[\"nick\",\"mail\",\"link\"],m=Storage&&localStorage&&localStorage instanceof Storage&&localStorage,b=location.pathname.replace(/index\\.html?$/,\"\");r.prototype.init=function(e){if(\"undefined\"==typeof document)return void console;var t=this;try{var n=e.lang||\"\",r=e.langMode||\"\",i=v.ds,o=e.avatar,s=e.avatarForce,l=e.avatar_cdn||\"\";n&&r&&t.installLocale(n,r),t.locale=t.locale||h[e.lang||\"zh-cn\"],t.notify=e.notify||!1,t.verify=e.verify||!1;var c=s?\"&q=\"+Math.random().toString(32).substring(2):\"\";v.params=\"?d=\"+(i.indexOf(o)>-1?o:\"mp\")+\"&v=1.3.1\"+c,v.hide=\"hide\"===o,v.cdn=!!l&&l||v.cdn,b=e.path||b;var u=Number(e.pageSize||10);if(e.pageSize=isNaN(u)?10:u-1?x:w[0],!f||!m)throw 99;AV.applicationId&&delete AV._config.applicationId||(AV.applicationId=null),AV.applicationKey&&delete AV._config.applicationKey||(AV.applicationKey=null),AV.init({appId:f,appKey:m,region:x});for(var k=d.findAll(document,\".valine-comment-count\"),_=0,A=k.length;_-1});var $=(0==e.meta.length?g:e.meta).map(function(e){var n=\"mail\"==e?\"email\":\"text\";return g.indexOf(e)>-1?'':\"\"});t.placeholder=e.placeholder||\"Just Go Go\",t.el.innerHTML=''+$.join(\"\")+'Emoji | Preview'+t.locale.ctrl.reply+'Powered By Valinev1.3.1';var E=d.find(t.el,\".vempty\");t.nodata={show:function(e){return E.innerHTML=e||t.locale.tips.sofa,d.attr(E,\"style\",\"display:block;\"),t},hide:function(){return d.attr(E,\"style\",\"display:none;\"),t}};var C=d.create(\"div\",\"class\",\"vloading\"),M=d.find(t.el,\".vlist\");t.loading={show:function(e){var n=d.findAll(M,\".vcard\");return e?M.insertBefore(C,n[0]):M.appendChild(C),t.nodata.hide(),t},hide:function(){var e=d.find(M,\".vloading\");return e&&d.remove(M,e),0===d.findAll(M,\".vcard\").length&&t.nodata.show(),t}};var L=d.find(t.el,\".vmark\");t.alert={show:function(e){L.innerHTML=''+(e&&e.text||1)+'';var n=d.find(L,\".vbtns\"),r=''+(e&&e.ctxt||t.locale.ctrl.cancel)+\"\",i=''+(e&&e.otxt||t.locale.ctrl.sure)+\"\";if(n.innerHTML=\"\"+r+(e&&e.type&&i),d.on(\"click\",d.find(L,\".vcancel\"),function(e){t.alert.hide()}),d.attr(L,\"style\",\"display:block;\"),e&&e.type){var o=d.find(L,\".vsure\");d.on(\"click\",o,function(n){t.alert.hide(),e.cb&&e.cb()})}return t},hide:function(){return d.attr(L,\"style\",\"display:none;\"),t}},t.bind(e)}catch(e){t.ErrorHandler(e)}return t};var x=function(e,t){var n=new e,r=new AV.ACL;r.setPublicReadAccess(!0),r.setPublicWriteAccess(!0),n.setACL(r),n.set(\"url\",t.url),n.set(\"xid\",t.xid),n.set(\"title\",t.title),n.set(\"time\",1),n.save().then(function(e){d.find(t.el,\".leancloud-visitors-count\").innerText=1}).catch(function(e){})},y={add:function(e){var t=d.findAll(document,\".leancloud_visitors,.leancloud-visitors\");if(t.length){var n=t[0],r=d.attr(n,\"id\"),i=d.attr(n,\"data-flag-title\"),o=encodeURI(r),a={el:n,url:r,xid:o,title:i};if(decodeURI(r)===decodeURI(b)){var s=new AV.Query(e);s.equalTo(\"url\",r),s.find().then(function(t){if(t.length>0){var r=t[0];r.increment(\"time\"),r.save().then(function(e){d.find(n,\".leancloud-visitors-count\").innerText=e.get(\"time\")}).catch(function(e){})}else x(e,a)}).catch(function(t){101==t.code&&x(e,a)})}else y.show(e,t)}},show:function(e,t){d.each(t,function(e,t){var n=d.find(t,\".leancloud-visitors-count\");n&&(n.innerText=0)});var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(d.attr(t[r],\"id\"));if(n.length){var i=new AV.Query(e);i.containedIn(\"url\",n),i.find().then(function(e){e.length>0&&d.each(e,function(e,t){var n=t.get(\"url\"),r=t.get(\"time\"),i=d.find(document,'.leancloud_visitors[id=\"'+n+'\"]')||d.find(document,'.leancloud-visitors[id=\"'+n+'\"]'),o=d.find(i,\".leancloud-visitors-count\");o&&(o.innerText=r)})}).catch(function(e){})}}};r.prototype.Q=function(e){if(1==arguments.length){var t=new AV.Query(\"Comment\");t.doesNotExist(\"rid\");var n=new AV.Query(\"Comment\");n.equalTo(\"rid\",\"\");var r=AV.Query.or(t,n);return r.equalTo(\"url\",decodeURI(e)),r.addDescending(\"createdAt\"),r.addDescending(\"insertedAt\"),r}var i=JSON.stringify(arguments[1]).replace(/(\\[|\\])/g,\"\"),o=\"select * from Comment where rid in (\"+i+\") order by -createdAt,-createdAt\";return AV.Query.doCloudQuery(o)},r.prototype.ErrorHandler=function(e){var t=this;if(t.el&&t.loading.hide().nodata.hide(),\"[object Error]\"==={}.toString.call(e)){var n=e.code||\"\",r=t.locale.error[n],i=r||e.message||e.error||\"\";101==n?t.nodata.show():t.el&&t.nodata.show('Code '+n+\": \"+i+\"\")||console}else t.el&&t.nodata.show(''+JSON.stringify(e)+\"\")||console},r.prototype.installLocale=function(e,t){var n=this;return t=t||{},e&&(h[e]=t,n.locale=h[e]||h[\"zh-cn\"]),n},r.prototype.setPath=function(e){return b=e||b,this},r.prototype.bind=function(e){var t=this,n=d.find(t.el,\".vemojis\"),r=d.find(t.el,\".vpreview\"),i=d.find(t.el,\".vemoji-btn\"),p=d.find(t.el,\".vpreview-btn\"),h=u.data;for(var g in h)h.hasOwnProperty(g)&&function(e,r){var i=d.create(\"i\",{name:e,title:e});i.innerHTML=r,n.appendChild(i),d.on(\"click\",i,function(e){var n=d.find(t.el,\".veditor\");E(n,r),y(n)})}(g,h[g]);t.emoji={show:function(){return t.preview.hide(),d.attr(i,\"v\",1),d.removeAttr(p,\"v\"),d.attr(n,\"style\",\"display:block\"),t.emoji},hide:function(){return d.removeAttr(i,\"v\"),d.attr(n,\"style\",\"display:hide\"),t.emoji}},t.preview={show:function(){return t.emoji.hide(),d.attr(p,\"v\",1),d.removeAttr(i,\"v\"),r.innerHTML=f.comment,d.attr(r,\"style\",\"display:block\"),T(),t.preview},hide:function(){return d.removeAttr(p,\"v\"),d.attr(r,\"style\",\"display:none\"),t.preview},empty:function(){return r.innerHtml=\"\",t.preview}};var x=function(e){var t=d.create(\"div\");t.insertAdjacentHTML(\"afterbegin\",e);var n=d.findAll(t,\"*\"),r=[\"INPUT\",\"SCRIPT\",\"IFRAME\",\"FRAME\",\"AUDIO\",\"VIDEO\",\"EMBED\"],i=function(e,t){var n=d.attr(e,t);n&&d.attr(e,t,n.replace(/(javascript|eval)/gi,\"\"))};return d.each(n,function(e,n){1===n.nodeType&&(r.indexOf(n.nodeName)>-1&&(\"INPUT\"===n.nodeName&&\"checkbox\"===d.attr(n,\"type\")?d.attr(n,\"disabled\",\"disabled\"):d.remove(t,n)),\"A\"===n.nodeName&&i(n,\"href\"),d.clearAttr(n))}),t.innerHTML},y=function(e){var t=e.value||\"\";if(t){s(e),t=u.parse(t),e.value=t;var n=x(a(t));f.comment=n,r.innerHTML=n}else s.destroy(e)};d.on(\"click\",i,function(e){d.attr(i,\"v\")?t.emoji.hide():t.emoji.show()}),d.on(\"click\",p,function(e){\"\"!=f.comment&&(d.attr(p,\"v\")?t.preview.hide():t.preview.show())});for(var k=e.meta,_={},A={veditor:\"comment\"},O=0,S=k.length;O0&&void 0!==arguments[0]?arguments[0]:1,i=e.pageSize,o=Number(d.find(t.el,\".vnum\").innerText);t.loading.show();var a=t.Q(b);a.limit(i),a.skip((r-1)*i),a.find().then(function(e){for(var a=e.length,s=[],l=0;l0?(d.attr(d.find(t.el,\".vinfo\"),\"style\",\"display:block;\"),d.find(t.el,\".vcount\").innerHTML=''+e+\" \"+t.locale.tips.comments,M()):t.loading.hide()}).catch(function(e){t.ErrorHandler(e)});var L=function(e,n,r){var i=d.create(\"div\",{class:\"vcard\",id:e.id}),a=v.hide?\"\":'',s=e.get(\"ua\")||\"\",u=\"\";s&&(s=c(s),u=''+s.browser+\" \"+s.version+' '+s.os+\" \"+s.osVersion+\"\");var p=\"\",f=e.get(\"link\")||\"\";p=f?''+e.get(\"nick\")+\"\":''+e.get(\"nick\")+\"\",i.innerHTML=a+'\\n \\n '+p+\" \"+u+'\\n \\n '+l(e.get(\"insertedAt\")||e.createdAt,t.locale)+'\\n '+t.locale.ctrl.reply+'\\n \\n \\n '+x(e.get(\"comment\"))+\"\\n \\n \";for(var h=d.find(i,\".vat\"),g=d.findAll(i,\"a\"),m=0,b=g.length;m180&&(e.classList.add(\"expand\"),d.on(\"click\",e,function(t){d.attr(e,\"class\",\"vcontent\")}))},20)},R={},B=function(e){d.on(\"click\",e,function(t){var n=d.attr(e,\"at\"),r=d.attr(e,\"rid\"),i=d.attr(e,\"cid\"),o=d.attr(e,\"mail\");R={at:d.escape(n)+\" \",rid:r,pid:i,rmail:o},d.attr(_.comment,\"placeholder\",n),_.comment.focus()})};!function(){var e=m&&m.ValineCache;if(e){e=JSON.parse(e);var n=k;for(var r in n){var i=n[r];d.find(t.el,\".v\"+i).value=d.unescape(e[i]),f[i]=e[i]}}}();var j=function(){f.comment=\"\",_.comment.value=\"\",y(_.comment),d.attr(_.comment,\"placeholder\",t.placeholder),R={},t.preview.empty().hide()},U=d.find(t.el,\".vsubmit\"),P=function(e){if(d.attr(U,\"disabled\"))return void t.alert.show({type:0,text:t.locale.tips.busy+'ãƒ¾(à¹‘â•¹â—¡â•¹)ï¾‰\"',ctxt:t.locale.ctrl.ok});if(\"\"==f.comment)return void _.comment.focus();f.nick=f.nick||\"Anonymous\";var n=w.mail(f.mail),r=w.link(f.link);f.mail=n.k?n.v:\"\",f.link=r.k?r.v:\"\",t.notify||t.verify?F(Q):Q()},I=function(){var e=new AV.ACL;return e.setPublicReadAccess(!0),e.setPublicWriteAccess(!1),e},Q=function(){d.attr(U,\"disabled\",!0),t.loading.show(!0);var e=AV.Object.extend(\"Comment\"),n=new e;if(f.url=decodeURI(b),f.insertedAt=new Date,R.rid){var r=R.pid||R.rid;n.set(\"rid\",R.rid),n.set(\"pid\",r),f.comment=''+R.at+\"\"+f.comment}for(var i in f)if(f.hasOwnProperty(i)){var o=f[i];n.set(i,o)}n.setACL(I()),n.save().then(function(e){\"Anonymous\"!=f.nick&&m&&m.setItem(\"ValineCache\",JSON.stringify({nick:f.nick,link:f.link,mail:f.mail}));var n=d.find(t.el,\".vnum\"),r=1;try{if(R.rid){var i=d.find(t.el,'.vquote[rid=\"'+R.rid+'\"]')||C(R.rid);L(e,i,!0)}else n?(r=Number(n.innerText)+1,n.innerText=r):d.find(t.el,\".vcount\").innerHTML='1 '+t.locale.tips.comments,L(e,d.find(t.el,\".vlist\"));f.mail&&V({username:f.nick,mail:f.mail}),R.at&&R.rmail&&t.notify&&N({username:R.at.replace(\"@\",\"\"),mail:R.rmail}),d.removeAttr(U,\"disabled\"),t.loading.hide(),j()}catch(e){t.ErrorHandler(e)}}).catch(function(e){t.ErrorHandler(e)})},F=function e(n){var r=Math.floor(10*Math.random()+1),i=Math.floor(10*Math.random()+1),o=Math.floor(10*Math.random()+1),a=[\"+\",\"-\",\"x\"],s=a[Math.floor(3*Math.random())],l=a[Math.floor(3*Math.random())],c=\"\"+r+s+i+l+o,u=c+\" = \";t.alert.show({type:1,text:u,ctxt:t.locale.ctrl.cancel,otxt:t.locale.ctrl.ok,cb:function(){var r=+d.find(t.el,\".vcode\").value;new Function(\"return \"+c.replace(/x/g,\"*\"))()===r?n&&n():t.alert.show({type:1,text:\"(Tï¼¿T)\"+t.locale.tips.again,ctxt:t.locale.ctrl.cancel,otxt:t.locale.ctrl.try,cb:function(){e(n)}})}})},V=function(e){var t=new AV.User;return t.setUsername(e.username),t.setPassword(e.mail),t.setEmail(e.mail),t.setACL(I()),t.signUp()},N=function e(n){AV.User.requestPasswordReset(n.mail).then(function(e){}).catch(function(r){1==r.code?t.alert.show({type:0,text:\"ãƒ¾(ï½ï½¥Ï‰ï½¥)ï¾‰ Atå¤ªé¢‘ç¹å•¦ï¼Œæé†’åŠŸèƒ½æš‚æ—¶å®•æœºã€‚\"+r.error,ctxt:t.locale.ctrl.ok}):V(n).then(function(t){e(n)}).catch(function(e){})})};d.on(\"click\",U,P),d.on(\"keydown\",document,function(e){e=event||e;var n=e.keyCode||e.which||e.charCode;if((e.ctrlKey||e.metaKey)&&13===n&&P(),9===n&&\"veditor\"==(document.activeElement.id||\"\")){e.preventDefault();var r=d.find(t.el,\".veditor\");E(r,\" \")}})};var w={mail:function(e){return{k:/[\\w-\\.]+@([\\w-]+\\.)+[a-z]{2,3}/.test(e),v:e}},link:function(e){return e=e.length>0&&(/^https?/.test(e)?e:\"http://\"+e),{k:/^https?:\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&amp;:\\/~\\+#]*[\\w\\-\\@?^=%&amp;\\/~\\+#])?/.test(e),v:e}}};e.exports=i,e.exports.default=i},function(e,t,n){\"use strict\";var r={data:n(10),parse:function(e){return String(e).replace(/:(.+?):/g,function(e,t){return r.data[t]||e})}};e.exports=r},function(e,t,n){\"use strict\";function r(e){var t=this,n={Trident:e.indexOf(\"Trident\")>-1||e.indexOf(\"NET CLR\")>-1,Presto:e.indexOf(\"Presto\")>-1,WebKit:e.indexOf(\"AppleWebKit\")>-1,Gecko:e.indexOf(\"Gecko/\")>-1,Safari:e.indexOf(\"Safari\")>-1,Chrome:e.indexOf(\"Chrome\")>-1||e.indexOf(\"CriOS\")>-1,IE:e.indexOf(\"MSIE\")>-1||e.indexOf(\"Trident\")>-1,Edge:e.indexOf(\"Edge\")>-1,Firefox:e.indexOf(\"Firefox\")>-1||e.indexOf(\"FxiOS\")>-1,\"Firefox Focus\":e.indexOf(\"Focus\")>-1,Chromium:e.indexOf(\"Chromium\")>-1,Opera:e.indexOf(\"Opera\")>-1||e.indexOf(\"OPR\")>-1,Vivaldi:e.indexOf(\"Vivaldi\")>-1,Yandex:e.indexOf(\"YaBrowser\")>-1,Kindle:e.indexOf(\"Kindle\")>-1||e.indexOf(\"Silk/\")>-1,360:e.indexOf(\"360EE\")>-1||e.indexOf(\"360SE\")>-1,UC:e.indexOf(\"UC\")>-1||e.indexOf(\" UBrowser\")>-1,QQBrowser:e.indexOf(\"QQBrowser\")>-1,QQ:e.indexOf(\"QQ/\")>-1,Baidu:e.indexOf(\"Baidu\")>-1||e.indexOf(\"BIDUBrowser\")>-1,Maxthon:e.indexOf(\"Maxthon\")>-1,Sogou:e.indexOf(\"MetaSr\")>-1||e.indexOf(\"Sogou\")>-1,LBBROWSER:e.indexOf(\"LBBROWSER\")>-1,\"2345Explorer\":e.indexOf(\"2345Explorer\")>-1,TheWorld:e.indexOf(\"TheWorld\")>-1,XiaoMi:e.indexOf(\"MiuiBrowser\")>-1,Quark:e.indexOf(\"Quark\")>-1,Qiyu:e.indexOf(\"Qiyu\")>-1,Wechat:e.indexOf(\"MicroMessenger\")>-1,Taobao:e.indexOf(\"AliApp(TB\")>-1,Alipay:e.indexOf(\"AliApp(AP\")>-1,Weibo:e.indexOf(\"Weibo\")>-1,Douban:e.indexOf(\"com.douban.frodo\")>-1,Suning:e.indexOf(\"SNEBUY-APP\")>-1,iQiYi:e.indexOf(\"IqiyiApp\")>-1,Windows:e.indexOf(\"Windows\")>-1,Linux:e.indexOf(\"Linux\")>-1||e.indexOf(\"X11\")>-1,\"Mac OS\":e.indexOf(\"Macintosh\")>-1,Android:e.indexOf(\"Android\")>-1||e.indexOf(\"Adr\")>-1,Ubuntu:e.indexOf(\"Ubuntu\")>-1,FreeBSD:e.indexOf(\"FreeBSD\")>-1,Debian:e.indexOf(\"Debian\")>-1,\"Windows Phone\":e.indexOf(\"IEMobile\")>-1||e.indexOf(\"Windows Phone\")>-1,BlackBerry:e.indexOf(\"BlackBerry\")>-1||e.indexOf(\"RIM\")>-1,MeeGo:e.indexOf(\"MeeGo\")>-1,Symbian:e.indexOf(\"Symbian\")>-1,iOS:e.indexOf(\"like Mac OS X\")>-1,\"Chrome OS\":e.indexOf(\"CrOS\")>-1,WebOS:e.indexOf(\"hpwOS\")>-1,Mobile:e.indexOf(\"Mobi\")>-1||e.indexOf(\"iPh\")>-1||e.indexOf(\"480\")>-1,Tablet:e.indexOf(\"Tablet\")>-1||e.indexOf(\"Pad\")>-1||e.indexOf(\"Nexus 7\")>-1};n.Mobile&&(n.Mobile=!(e.indexOf(\"iPad\")>-1));var r={engine:[\"WebKit\",\"Trident\",\"Gecko\",\"Presto\"],browser:[\"Safari\",\"Chrome\",\"Edge\",\"IE\",\"Firefox\",\"Firefox Focus\",\"Chromium\",\"Opera\",\"Vivaldi\",\"Yandex\",\"Kindle\",\"360\",\"UC\",\"QQBrowser\",\"QQ\",\"Baidu\",\"Maxthon\",\"Sogou\",\"LBBROWSER\",\"2345Explorer\",\"TheWorld\",\"XiaoMi\",\"Quark\",\"Qiyu\",\"Wechat\",\"Taobao\",\"Alipay\",\"Weibo\",\"Douban\",\"Suning\",\"iQiYi\"],os:[\"Windows\",\"Linux\",\"Mac OS\",\"Android\",\"Ubuntu\",\"FreeBSD\",\"Debian\",\"iOS\",\"Windows Phone\",\"BlackBerry\",\"MeeGo\",\"Symbian\",\"Chrome OS\",\"WebOS\"],device:[\"Mobile\",\"Tablet\"]};t.device=\"PC\";for(var i in r)for(var o=0;o27?t.engine=\"Blink\":\"Opera\"==t.browser&&parseInt(t.version)>12?t.engine=\"Blink\":\"Yandex\"==t.browser?t.engine=\"Blink\":void 0==t.browser&&(t.browser=\"Unknow App\")}function i(e){return new r(e)}e.exports=i},function(e,t,n){\"use strict\";var r={},i={\"&\":\"&amp;\",\"\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"`\":\"&#x60;\",\"\\\\\":\"&#x5c;\"};for(var o in i)r[i[o]]=o;var a=/[&\"'`\\\\]/g,s=RegExp(a.source),l=/&(?:amp|lt|gt|quot|#39|#x60|#x5c);/g,c=RegExp(l.source),d={on:function(e,t,n,r){d.off(e,t,n,r),t.addEventListener?t.addEventListener(e,n,r||!1):t.attachEvent?t.attachEvent(\"on\"+e,n):t[\"on\"+e]=n},off:function(e,t,n,r){t.removeEventListener?t.removeEventListener(e,n,r||!1):t.detachEvent?t.detachEvent(\"on\"+e,n):t[\"on\"+e]=null},escape:function(e){return e&&s.test(e)?e.replace(a,function(e){return i[e]}):e},unescape:function(e){return e&&c.test(e)?e.replace(l,function(e){return r[e]}):e},create:function(e,t,n){var r=document.createElement(e);return d.attr(r,t,n),r},find:function(e,t){return e.querySelector(t)},findAll:function(e,t){return e.querySelectorAll(t)},attr:function(e,t,n){if(void 0===e.getAttribute)return d.prop(e,t,n);if(void 0!==n)null===n?d.removeAttr(e,t):e.setAttribute(t,n);else{if(\"[object Object]\"!=={}.toString.call(t))return e.getAttribute(t);d.each(t,function(t,n){e.setAttribute(t,n)})}},prop:function(e,t,n){return void 0!==n?e[t]=n:\"[object Object]\"!=={}.toString.call(t)?e[t]:void d.each(t,function(t,n){e[t]=n})},removeAttr:function(e,t){var n=void 0,r=0,i=t&&t.match(/[^\\x20\\t\\r\\n\\f]+/g);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n);return e},clearAttr:function(e){var t=e.attributes,n=[\"align\",\"alt\",\"class\",\"disabled\",\"href\",\"id\",\"target\",\"title\",\"type\",\"style\",\"src\"];return d.each(t,function(t,r){var i=r.name;if(\"style\"===i){var o=r.value;d.each(o.split(\";\"),function(t,n){if(n.indexOf(\"color\")>-1)return d.attr(e,\"style\",n),!1;d.removeAttr(e,\"style\")})}n.indexOf(i)>-1||d.removeAttr(e,i)}),e},remove:function(e,t){try{e.removeChild(t)}catch(e){}},each:function(e,t){var n=0,r=e.length,i=[\"[object Array]\",\"[object NodeList]\"],o={}.toString.call(e);if(i.indexOf(o)>-1)for(;n>16)+(n>>16)>5]|=128>95]>>>t%32&255);return n}function h(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t>5]|=(255&e.charCodeAt(t/8))>4&15)+r.charAt(15&t);return i}function b(e){return unescape(encodeURIComponent(e))}function x(e){return v(b(e))}function y(e){return m(x(e))}function w(e,t){return g(b(e),b(t))}function k(e,t){return m(w(e,t))}function _(e,t,n){return t?n?w(t,e):k(t,e):n?x(e):y(e)}void 0!==(r=function(){return _}.call(t,n,t,e))&&(e.exports=r)}()},function(e,t,n){!function(t,n){e.exports=function(){\"use strict\";function e(e){return''+e+\"\"}var t=function(e,t){return t={exports:{}},function(e){var t=e.exports=function(){return new RegExp(\"(?:\"+t.line().source+\")|(?:\"+t.block().source+\")\",\"gm\")};t.line=function(){return/(?:^|\\s)\\/\\/(.+?)$/gm},t.block=function(){return/\\/\\*([\\S\\s]*?)\\*\\//gm}}(t,t.exports),t.exports}(),n=[\"23AC69\",\"91C132\",\"F19726\",\"E8552D\",\"1AAB8E\",\"E1147F\",\"2980C1\",\"1BA1E6\",\"9FA0A0\",\"F19726\",\"E30B20\",\"E30B20\",\"A3338B\"];return function(r,i){void 0===i&&(i={});var o=i.colors;void 0===o&&(o=n);var a=0,s={},l=/[\\u4E00-\\u9FFF\\u3400-\\u4dbf\\uf900-\\ufaff\\u3040-\\u309f\\uac00-\\ud7af\\u0400-\\u04FF]+|\\w+/,c=/'+n+\"\";return a=++a%o.length,l})}}()}()},function(e,t,n){(function(t){!function(t){\"use strict\";function n(e){this.tokens=[],this.tokens.links={},this.options=e||h.defaults,this.rules=v.normal,this.options.pedantic?this.rules=v.pedantic:this.options.gfm&&(this.options.tables?this.rules=v.tables:this.rules=v.gfm)}function r(e,t){if(this.options=t||h.defaults,this.links=e,this.rules=g.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error(\"Tokens array requires a `links` property.\");this.options.pedantic?this.rules=g.pedantic:this.options.gfm&&(this.options.breaks?this.rules=g.breaks:this.rules=g.gfm)}function i(e){this.options=e||h.defaults}function o(){}function a(e){this.tokens=[],this.token=null,this.options=e||h.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\\w+;)/g,\"&amp;\").replace(//g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\")}function l(e){return e.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/gi,function(e,t){return t=t.toLowerCase(),\"colon\"===t?\":\":\"#\"===t.charAt(0)?\"x\"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):\"\"})}function c(e,t){return e=e.source||e,t=t||\"\",{replace:function(t,n){return n=n.source||n,n=n.replace(/(^|[^\\[])\\^/g,\"$1\"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function d(e,t){return m[\" \"+e]||(/^[^:]+:\\/*[^\\/]*$/.test(e)?m[\" \"+e]=e+\"/\":m[\" \"+e]=e.replace(/[^\\/]*$/,\"\")),e=m[\" \"+e],\"//\"===t.slice(0,2)?e.replace(/:[\\s\\S]*/,\":\")+t:\"/\"===t.charAt(0)?e.replace(/(:\\/*[^\\/]*)[\\s\\S]*/,\"$1\")+t:e+t}function u(){}function p(e){for(var t,n,r=1;rt)n.splice(t);else for(;n.length\\\\n*|)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)|(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)|(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$))\",def:/^ {0,3}\\[(label)\\]: *\\n? *]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,table:u,lheading:/^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,paragraph:/^([^\\n]+(?:\\n(?!hr|heading|lheading| {0,3}>|)|"},{"title":"","date":"2019-11-27T15:22:15.796Z","updated":"2019-11-27T15:22:15.796Z","comments":true,"path":"public/archives/page/2/index.html","permalink":"http://ltyeamin.github.io/public/archives/page/2/index.html","excerpt":"","text":"å½’æ¡£ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ 2017 1512æœˆ ES6æ–°çš„æ•°æ®ç±»åž‹-generator 1512æœˆ ç®­å¤´å‡½æ•° 1312æœˆ é—­åŒ… 1312æœˆ é«˜é˜¶å‡½æ•° 1312æœˆ JSæ–¹æ³• 1312æœˆ å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ 0412æœˆ JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.798Z","updated":"2019-11-27T15:22:15.798Z","comments":true,"path":"public/archives/page/3/index.html","permalink":"http://ltyeamin.github.io/public/archives/page/3/index.html","excerpt":"","text":"å½’æ¡£ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ 2017 1512æœˆ ES6æ–°çš„æ•°æ®ç±»åž‹-generator 1512æœˆ ç®­å¤´å‡½æ•° 1312æœˆ é—­åŒ… 1312æœˆ é«˜é˜¶å‡½æ•° 1312æœˆ JSæ–¹æ³• 1312æœˆ å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ 0412æœˆ JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.799Z","updated":"2019-11-27T15:22:15.799Z","comments":true,"path":"public/archives/page/5/index.html","permalink":"http://ltyeamin.github.io/public/archives/page/5/index.html","excerpt":"","text":"å½’æ¡£ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ 2017 1512æœˆ ES6æ–°çš„æ•°æ®ç±»åž‹-generator 1512æœˆ ç®­å¤´å‡½æ•° 1312æœˆ é—­åŒ… 1312æœˆ é«˜é˜¶å‡½æ•° 1312æœˆ JSæ–¹æ³• 1312æœˆ å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ 0412æœˆ JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.798Z","updated":"2019-11-27T15:22:15.798Z","comments":true,"path":"public/archives/page/4/index.html","permalink":"http://ltyeamin.github.io/public/archives/page/4/index.html","excerpt":"","text":"å½’æ¡£ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ 2017 1512æœˆ ES6æ–°çš„æ•°æ®ç±»åž‹-generator 1512æœˆ ç®­å¤´å‡½æ•° 1312æœˆ é—­åŒ… 1312æœˆ é«˜é˜¶å‡½æ•° 1312æœˆ JSæ–¹æ³• 1312æœˆ å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ 0412æœˆ JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.799Z","updated":"2019-11-27T15:22:15.799Z","comments":true,"path":"public/archives/2018/06/index.html","permalink":"http://ltyeamin.github.io/public/archives/2018/06/index.html","excerpt":"","text":"å½’æ¡£ï¼š2018/6 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:17.397Z","updated":"2019-11-27T15:22:17.397Z","comments":true,"path":"public/2017/12/04/JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨/index.html","permalink":"http://ltyeamin.github.io/public/2017/12/04/JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨/index.html","excerpt":"","text":"JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ frontend JavaScript 2017/12/04 æœ¬æ–‡äºŽ723å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ å®šä¹‰å‡½æ•°JavaScriptå‡½æ•°æ—¶å‚æ•°åŒ–çš„,å¹¶ä¸”æ¯æ¬¡è°ƒç”¨è¿˜ä¼šæœ‰ä¸ªä¸Šä¸‹æ–‡(thiså…³é”®å­—).å¦‚æžœå‡½æ•°æŒ‚è½½åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Š,ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§,é‚£å°±æ˜¯å¯¹è±¡çš„æ–¹æ³•.JSçš„å‡½æ•°å¯ä»¥åµŒå¥—åœ¨å…¶ä»–å‡½æ•°ä¸­å®šä¹‰,è¿™æ ·å®ƒä»¬å°±å¯ä»¥è®¿é—®å®ƒä»¬è¢«å®šä¹‰æ—¶æ‰€å¤„çš„ä½œç”¨åŸŸä¸­çš„ä»»ä½•éåŽ†.è¿™æ„å‘³ç€JSå‡½æ•°æž„æˆäº†ä¸€ä¸ªé—­åŒ…(closure).åœ¨JavaScriptä¸­ï¼Œå®šä¹‰å‡½æ•°çš„æ–¹å¼å¦‚ä¸‹:1234567function abs(x) &#123; if (x &gt;= 0) &#123; return x; &#125; else &#123; return -x; &#125;&#125; ä¸Šè¿°abs()å‡½æ•°çš„å®šä¹‰å¦‚ä¸‹: functionæŒ‡å‡ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°å®šä¹‰; absæ˜¯å‡½æ•°çš„åç§°; æ‹¬å·å†…åˆ—å‡ºå‡½æ•°çš„å‚æ•°ï¼Œå¤šä¸ªå‚æ•°ä»¥,åˆ†éš”; {â€¦}ä¹‹é—´çš„ä»£ç æ˜¯å‡½æ•°ä½“ï¼Œå¯ä»¥åŒ…å«è‹¥å¹²è¯­å¥ï¼Œç”šè‡³å¯ä»¥æ²¡æœ‰ä»»ä½•è¯­å¥ã€‚ è¯·æ³¨æ„ï¼Œå‡½æ•°ä½“å†…éƒ¨çš„è¯­å¥åœ¨æ‰§è¡Œæ—¶ï¼Œä¸€æ—¦æ‰§è¡Œåˆ°returnæ—¶ï¼Œå‡½æ•°å°±æ‰§è¡Œå®Œæ¯•ï¼Œå¹¶å°†ç»“æžœè¿”å›žã€‚å› æ­¤ï¼Œå‡½æ•°å†…éƒ¨é€šè¿‡æ¡ä»¶åˆ¤æ–­å’Œå¾ªçŽ¯å¯ä»¥å®žçŽ°éžå¸¸å¤æ‚çš„é€»è¾‘ã€‚å¦‚æžœæ²¡æœ‰returnè¯­å¥ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•åŽä¹Ÿä¼šè¿”å›žç»“æžœï¼Œåªæ˜¯ç»“æžœä¸ºundefinedã€‚ç”±äºŽJavaScriptçš„å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸Šè¿°å®šä¹‰çš„abs()å‡½æ•°å®žé™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œè€Œå‡½æ•°åabså¯ä»¥è§†ä¸ºæŒ‡å‘è¯¥å‡½æ•°çš„å˜é‡ã€‚å› æ­¤ï¼Œç¬¬äºŒç§å®šä¹‰å‡½æ•°(åŒ¿åå‡½æ•°)çš„æ–¹å¼å¦‚ä¸‹ï¼š1234567var abs = function (x) &#123; if (x &gt;= 0) &#123; return x; &#125; else &#123; return -x; &#125;&#125;; åœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œfunction(x){â€¦}æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå®ƒæ²¡æœ‰å‡½æ•°åã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªåŒ¿åå‡½æ•°èµ‹å€¼ç»™äº†å˜é‡abs.æ‰€ä»¥,é€šè¿‡å˜é‡abså°±å¯ä»¥è°ƒç”¨è¯¥å‡½æ•°ã€‚ä¸Šè¿°ä¸¤ç§å®šä¹‰å®Œå…¨ç­‰ä»·ï¼Œæ³¨æ„ç¬¬äºŒç§æ–¹å¼æŒ‰ç…§å®Œæ•´è¯­æ³•éœ€è¦åœ¨å‡½æ•°ä½“æœ«å°¾åŠ ä¸€ä¸ª;ï¼Œè¡¨ç¤ºèµ‹å€¼è¯­å¥ç»“æŸã€‚ è°ƒç”¨å‡½æ•°è°ƒç”¨å‡½æ•°æ—¶ï¼ŒæŒ‰é¡ºåºä¼ å…¥å‚æ•°å³å¯:12abs(10); // è¿”å›ž10abs(-9); // è¿”å›ž9 ç”±äºŽJavaScriptå…è®¸ä¼ å…¥ä»»æ„ä¸ªå‚æ•°è€Œä¸å½±å“è°ƒç”¨ï¼Œå› æ­¤ä¼ å…¥çš„å‚æ•°æ¯”å®šä¹‰çš„å‚æ•°å¤šä¹Ÿæ²¡æœ‰é—®é¢˜(å¼ºç±»åž‹è¯­è¨€ä¸å…è®¸)ï¼Œè™½ç„¶å‡½æ•°å†…éƒ¨å¹¶ä¸éœ€è¦è¿™äº›å‚æ•°:12abs(10, &apos;blablabla&apos;); // è¿”å›ž10abs(-9, &apos;haha&apos;, &apos;hehe&apos;, null); // è¿”å›ž9 ä¼ å…¥çš„å‚æ•°æ¯”å®šä¹‰çš„å°‘ä¹Ÿæ²¡æœ‰é—®é¢˜:1abs(); // è¿”å›žNaN æ­¤æ—¶abs(x)å‡½æ•°çš„å‚æ•°xå°†æ”¶åˆ°undefinedï¼Œè®¡ç®—ç»“æžœä¸ºNaNã€‚è¦é¿å…æ”¶åˆ°undefinedï¼Œå¯ä»¥å¯¹å‚æ•°è¿›è¡Œæ£€æŸ¥:12345678910function abs(x) &#123; if (typeof x !== &apos;number&apos;) &#123; throw &apos;Not a number&apos;; &#125; if (x &gt;= 0) &#123; return x; &#125; else &#123; return -x; &#125;&#125; argumentsJavaScriptè¿˜æœ‰ä¸€ä¸ªå…è´¹èµ é€çš„å…³é”®å­—argumentsï¼Œå®ƒåªåœ¨å‡½æ•°å†…éƒ¨èµ·ä½œç”¨ï¼Œå¹¶ä¸”æ°¸è¿œæŒ‡å‘å½“å‰å‡½æ•°çš„è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚argumentsç±»ä¼¼Arrayä½†å®ƒä¸æ˜¯ä¸€ä¸ªArray:1234567function sayHello () &#123; //éªŒè¯argumentså°è£…äº†æ‰€æœ‰çš„è°ƒç”¨å‚æ•° for (var i = 0; i &lt; arguments.length; i++) &#123; console.log(&apos;arg&apos; + i +&apos; = &apos; + arguments[i]) &#125;&#125;sayHello(&apos;æŽå½¤&apos;,22,&apos;ä¸Šæµ·&apos;,&apos;Java-JavaScript-Python&apos;); åˆ©ç”¨argumentsï¼Œä½ å¯ä»¥èŽ·å¾—è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿å‡½æ•°ä¸å®šä¹‰ä»»ä½•å‚æ•°ï¼Œè¿˜æ˜¯å¯ä»¥æ‹¿åˆ°å‚æ•°çš„å€¼.å®žé™…ä¸Šargumentsæœ€å¸¸ç”¨äºŽåˆ¤æ–­ä¼ å…¥å‚æ•°çš„ä¸ªæ•°ã€‚ä½ å¯èƒ½ä¼šçœ‹åˆ°è¿™æ ·çš„å†™æ³•:12345678910// foo(a[, b], c)// æŽ¥æ”¶2~3ä¸ªå‚æ•°ï¼Œbæ˜¯å¯é€‰å‚æ•°ï¼Œå¦‚æžœåªä¼ 2ä¸ªå‚æ•°ï¼Œbé»˜è®¤ä¸ºnullï¼šfunction foo(a, b, c) &#123; if (arguments.length === 2) &#123; // å®žé™…æ‹¿åˆ°çš„å‚æ•°æ˜¯aå’Œbï¼Œcä¸ºundefined c = b; // æŠŠbèµ‹ç»™c b = null; // bå˜ä¸ºé»˜è®¤å€¼ &#125; // ...&#125; è¦æŠŠä¸­é—´çš„å‚æ•°bå˜ä¸ºâ€œå¯é€‰â€å‚æ•°ï¼Œå°±åªèƒ½é€šè¿‡argumentsåˆ¤æ–­ï¼Œç„¶åŽé‡æ–°è°ƒæ•´å‚æ•°å¹¶èµ‹å€¼ã€‚ restå‚æ•°ç”±äºŽJavaScriptå‡½æ•°å…è®¸æŽ¥æ”¶ä»»æ„ä¸ªå‚æ•°ï¼ŒäºŽæ˜¯æˆ‘ä»¬å°±ä¸å¾—ä¸ç”¨argumentsæ¥èŽ·å–æ‰€æœ‰å‚æ•°:1234567891011function foo(a, b) &#123; var i, rest = []; if (arguments.length &gt; 2) &#123; for (i = 2; i&lt;arguments.length; i++) &#123; rest.push(arguments[i]); &#125; &#125; console.log(&apos;a = &apos; + a); console.log(&apos;b = &apos; + b); console.log(rest);&#125; ä¸ºäº†èŽ·å–é™¤äº†å·²å®šä¹‰å‚æ•°aã€bä¹‹å¤–çš„å‚æ•°ï¼Œæˆ‘ä»¬ä¸å¾—ä¸ç”¨argumentsï¼Œå¹¶ä¸”å¾ªçŽ¯è¦ä»Žç´¢å¼•2å¼€å§‹ä»¥ä¾¿æŽ’é™¤å‰ä¸¤ä¸ªå‚æ•°ï¼Œè¿™ç§å†™æ³•å¾ˆåˆ«æ‰­ï¼Œåªæ˜¯ä¸ºäº†èŽ·å¾—é¢å¤–çš„restå‚æ•°ï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•?ES6æ ‡å‡†(æ³¨æ„æµè§ˆå™¨æ˜¯å¦æ”¯æŒES6)å¼•å…¥äº†restå‚æ•°ï¼Œä¸Šé¢çš„å‡½æ•°å¯ä»¥æ”¹å†™ä¸º:1234567891011121314151617function foo(a, b, ...rest) &#123; console.log(&apos;a = &apos; + a); console.log(&apos;b = &apos; + b); console.log(rest);&#125;foo(1, 2, 3, 4, 5);// ç»“æžœ:// a = 1// b = 2// Array [ 3, 4, 5 ]foo(1);// ç»“æžœ:// a = 1// b = undefined// Array [] restå‚æ•°åªèƒ½å†™åœ¨æœ€åŽï¼Œå‰é¢ç”¨â€¦æ ‡è¯†ï¼Œä»Žè¿è¡Œç»“æžœå¯çŸ¥ï¼Œä¼ å…¥çš„å‚æ•°å…ˆç»‘å®šaã€bï¼Œå¤šä½™çš„å‚æ•°ä»¥æ•°ç»„å½¢å¼äº¤ç»™å˜é‡restï¼Œæ‰€ä»¥ï¼Œä¸å†éœ€è¦argumentsæˆ‘ä»¬å°±èŽ·å–äº†å…¨éƒ¨å‚æ•°ã€‚å¦‚æžœä¼ å…¥çš„å‚æ•°è¿žæ­£å¸¸å®šä¹‰çš„å‚æ•°éƒ½æ²¡å¡«æ»¡ï¼Œä¹Ÿä¸è¦ç´§ï¼Œrestå‚æ•°ä¼šæŽ¥æ”¶ä¸€ä¸ªç©ºæ•°ç»„(æ³¨æ„ä¸æ˜¯undefined)ã€‚ å°å¿ƒä½ çš„returnè¯­å¥JavaScriptå¼•æ“Žæœ‰ä¸€ä¸ªåœ¨è¡Œæœ«è‡ªåŠ¨æ·»åŠ åˆ†å·çš„æœºåˆ¶ï¼Œè¿™å¯èƒ½è®©ä½ æ ½åˆ°returnè¯­å¥çš„ä¸€ä¸ªå¤§å‘:12345function foo() &#123; return &#123; name: &apos;foo&apos; &#125;;&#125;foo(); // &#123; name: &apos;foo&apos; &#125; å¦‚æžœæŠŠreturnè¯­å¥æ‹†æˆä¸¤è¡Œ:123456function foo() &#123; return &#123; name: &apos;foo&apos; &#125;;&#125;foo(); // undefined è¦å°å¿ƒäº†ï¼Œç”±äºŽJavaScriptå¼•æ“Žåœ¨è¡Œæœ«è‡ªåŠ¨æ·»åŠ åˆ†å·çš„æœºåˆ¶ï¼Œä¸Šé¢çš„ä»£ç å®žé™…ä¸Šå˜æˆäº†:1234function foo() &#123; return; // è‡ªåŠ¨æ·»åŠ äº†åˆ†å·ï¼Œç›¸å½“äºŽreturn undefined; &#123; name: &apos;foo&apos; &#125;; // è¿™è¡Œè¯­å¥å·²ç»æ²¡æ³•æ‰§è¡Œåˆ°äº†&#125; æ‰€ä»¥æ­£ç¡®çš„å¤šè¡Œå†™æ³•æ˜¯:12345function foo() &#123; return &#123; // è¿™é‡Œä¸ä¼šè‡ªåŠ¨åŠ åˆ†å·ï¼Œå› ä¸º&#123;è¡¨ç¤ºè¯­å¥å°šæœªç»“æŸ name: &apos;foo&apos; &#125;;&#125; èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• å®šä¹‰å‡½æ•°è°ƒç”¨å‡½æ•°argumentsrestå‚æ•°å°å¿ƒä½ çš„returnè¯­å¥ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:17.399Z","updated":"2019-11-27T15:22:17.399Z","comments":true,"path":"public/2017/12/13/JSæ–¹æ³•/index.html","permalink":"http://ltyeamin.github.io/public/2017/12/13/JSæ–¹æ³•/index.html","excerpt":"","text":"JSæ–¹æ³• | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ JSæ–¹æ³• frontend JavaScript 2017/12/13 æœ¬æ–‡äºŽ714å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ å¯¹è±¡çš„æ–¹æ³•åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ç»‘å®šå‡½æ•°ï¼Œç§°ä¸ºè¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚åœ¨JavaScriptä¸­ï¼Œå¯¹è±¡çš„å®šä¹‰æ˜¯è¿™æ ·çš„:1234var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990&#125;; ä½†æ˜¯ï¼Œå¦‚æžœæˆ‘ä»¬ç»™xiaomingç»‘å®šä¸€ä¸ªå‡½æ•°ï¼Œå°±å¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ã€‚æ¯”å¦‚ï¼Œå†™ä¸ªage()æ–¹æ³•ï¼Œè¿”å›žxiaomingçš„å¹´é¾„:1234567891011var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: function () &#123; var y = new Date().getFullYear(); return y - this.birth; &#125;&#125;;xiaoming.age; // function xiaoming.age()xiaoming.age(); // ä»Šå¹´è°ƒç”¨æ˜¯25,æ˜Žå¹´è°ƒç”¨å°±å˜æˆ26äº† ç»‘å®šåˆ°å¯¹è±¡ä¸Šçš„å‡½æ•°ç§°ä¸ºæ–¹æ³•ï¼Œå’Œæ™®é€šå‡½æ•°ä¹Ÿæ²¡å•¥åŒºåˆ«ï¼Œä½†æ˜¯å®ƒåœ¨å†…éƒ¨ä½¿ç”¨äº†ä¸€ä¸ªthiså…³é”®å­—ï¼Œè¿™ä¸ªä¸œä¸œæ˜¯ä»€ä¹ˆ?åœ¨ä¸€ä¸ªæ–¹æ³•å†…éƒ¨ï¼Œthisæ˜¯ä¸€ä¸ªç‰¹æ®Šå˜é‡ï¼Œå®ƒå§‹ç»ˆæŒ‡å‘å½“å‰å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯xiaomingè¿™ä¸ªå˜é‡ã€‚æ‰€ä»¥ï¼Œthis.birthå¯ä»¥æ‹¿åˆ°xiaomingçš„birthå±žæ€§ã€‚è®©æˆ‘ä»¬æ‹†å¼€å†™ï¼š1234567891011function getAge() &#123; var y = new Date().getFullYear(); return y - this.birth;&#125;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: getAge&#125;;xiaoming.age(); // 25, æ­£å¸¸ç»“æžœgetAge(); // NaN å•ç‹¬è°ƒç”¨å‡½æ•°getAge()æ€Žä¹ˆè¿”å›žäº†NaNï¼Ÿè¯·æ³¨æ„ï¼Œæˆ‘ä»¬å·²ç»è¿›å…¥åˆ°äº†JavaScriptçš„ä¸€ä¸ªå¤§å‘é‡Œ.JavaScriptçš„å‡½æ•°å†…éƒ¨å¦‚æžœè°ƒç”¨äº†thisï¼Œé‚£ä¹ˆè¿™ä¸ªthisåˆ°åº•æŒ‡å‘è°?ç­”æ¡ˆæ˜¯ï¼Œè§†æƒ…å†µè€Œå®š!å¦‚æžœä»¥å¯¹è±¡çš„æ–¹æ³•å½¢å¼è°ƒç”¨ï¼Œæ¯”å¦‚xiaoming.age()ï¼Œè¯¥å‡½æ•°çš„thisæŒ‡å‘è¢«è°ƒç”¨çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯xiaomingï¼Œè¿™æ˜¯ç¬¦åˆæˆ‘ä»¬é¢„æœŸçš„.å¦‚æžœå•ç‹¬è°ƒç”¨å‡½æ•°ï¼Œæ¯”å¦‚getAge()ï¼Œæ­¤æ—¶ï¼Œè¯¥å‡½æ•°çš„thisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯window.å‘çˆ¹å•Š!æ›´å‘çˆ¹çš„æ˜¯ï¼Œå¦‚æžœè¿™ä¹ˆå†™:12var fn = xiaoming.age; // å…ˆæ‹¿åˆ°xiaomingçš„ageå‡½æ•°fn(); // NaN ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼è¦ä¿è¯thisæŒ‡å‘æ­£ç¡®ï¼Œå¿…é¡»ç”¨obj.xxx()çš„å½¢å¼è°ƒç”¨ï¼ç”±äºŽè¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„è®¾è®¡é”™è¯¯ï¼Œè¦æƒ³çº æ­£å¯æ²¡é‚£ä¹ˆç®€å•ã€‚ECMAå†³å®šï¼Œåœ¨strictæ¨¡å¼ä¸‹è®©å‡½æ•°çš„thisæŒ‡å‘undefinedï¼Œå› æ­¤ï¼Œåœ¨strictæ¨¡å¼ä¸‹ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯:12345678910111213&apos;use strict&apos;;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: function () &#123; var y = new Date().getFullYear(); return y - this.birth; &#125;&#125;;var fn = xiaoming.age;fn(); // Uncaught TypeError: Cannot read property &apos;birth&apos; of undefined è¿™ä¸ªå†³å®šåªæ˜¯è®©é”™è¯¯åŠæ—¶æš´éœ²å‡ºæ¥ï¼Œå¹¶æ²¡æœ‰è§£å†³thisåº”è¯¥æŒ‡å‘çš„æ­£ç¡®ä½ç½®ã€‚æœ‰äº›æ—¶å€™ï¼Œå–œæ¬¢é‡æž„çš„ä½ æŠŠæ–¹æ³•é‡æž„äº†ä¸€ä¸‹:1234567891011121314&apos;use strict&apos;;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: function () &#123; function getAgeFromBirth() &#123; var y = new Date().getFullYear(); return y - this.birth; &#125; return getAgeFromBirth(); &#125;&#125;;xiaoming.age(); // Uncaught TypeError: Cannot read property &apos;birth&apos; of undefined ç»“æžœåˆæŠ¥é”™äº†ï¼åŽŸå› æ˜¯thisæŒ‡é’ˆåªåœ¨ageæ–¹æ³•çš„å‡½æ•°å†…æŒ‡å‘xiaomingï¼Œåœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å‡½æ•°ï¼ŒthisåˆæŒ‡å‘undefinedäº†ï¼ï¼ˆåœ¨éžstrictæ¨¡å¼ä¸‹ï¼Œå®ƒé‡æ–°æŒ‡å‘å…¨å±€å¯¹è±¡windowï¼ï¼‰ä¿®å¤çš„åŠžæ³•ä¹Ÿä¸æ˜¯æ²¡æœ‰ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªthatå˜é‡é¦–å…ˆæ•èŽ·thisï¼š123456789101112131415&apos;use strict&apos;;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: function () &#123; var that = this; // åœ¨æ–¹æ³•å†…éƒ¨ä¸€å¼€å§‹å°±æ•èŽ·this function getAgeFromBirth() &#123; var y = new Date().getFullYear(); return y - that.birth; // ç”¨thatè€Œä¸æ˜¯this &#125; return getAgeFromBirth(); &#125;&#125;;xiaoming.age(); // 25 ç”¨var that = this;ï¼Œä½ å°±å¯ä»¥æ”¾å¿ƒåœ°åœ¨æ–¹æ³•å†…éƒ¨å®šä¹‰å…¶ä»–å‡½æ•°ï¼Œè€Œä¸æ˜¯æŠŠæ‰€æœ‰è¯­å¥éƒ½å †åˆ°ä¸€ä¸ªæ–¹æ³•ä¸­. applyæ–¹æ³•è¯¦è§£è™½ç„¶åœ¨ä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°è°ƒç”¨ä¸­ï¼Œæ ¹æ®æ˜¯å¦æ˜¯strictæ¨¡å¼ï¼ŒthisæŒ‡å‘undefinedæˆ–windowï¼Œä¸è¿‡ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥æŽ§åˆ¶thisçš„æŒ‡å‘çš„ï¼è¦æŒ‡å®šå‡½æ•°çš„thisæŒ‡å‘å“ªä¸ªå¯¹è±¡ï¼Œå¯ä»¥ç”¨å‡½æ•°æœ¬èº«çš„applyæ–¹æ³•ï¼Œå®ƒæŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯éœ€è¦ç»‘å®šçš„thiså˜é‡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯Arrayï¼Œè¡¨ç¤ºå‡½æ•°æœ¬èº«çš„å‚æ•°ã€‚ç”¨applyä¿®å¤getAge()è°ƒç”¨:1234567891011function getAge() &#123; var y = new Date().getFullYear(); return y - this.birth;&#125;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: getAge&#125;;xiaoming.age(); // 25getAge.apply(xiaoming, []); // 25, thisæŒ‡å‘xiaoming, å‚æ•°ä¸ºç©º å¦ä¸€ä¸ªä¸Žapply()ç±»ä¼¼çš„æ–¹æ³•æ˜¯call()ï¼Œå”¯ä¸€åŒºåˆ«æ˜¯: apply()æŠŠå‚æ•°æ‰“åŒ…æˆArrayå†ä¼ å…¥; call()æŠŠå‚æ•°æŒ‰é¡ºåºä¼ å…¥.æ¯”å¦‚è°ƒç”¨Math.max(3, 5, 4)ï¼Œåˆ†åˆ«ç”¨apply()å’Œcall()å®žçŽ°å¦‚ä¸‹:12Math.max.apply(null, [3, 5, 4]); // 5Math.max.call(null, 3, 5, 4); // 5 å¯¹æ™®é€šå‡½æ•°è°ƒç”¨ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠthisç»‘å®šä¸ºnull. è£…é¥°å™¨åˆ©ç”¨apply()ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åŠ¨æ€æ”¹å˜å‡½æ•°çš„è¡Œä¸ºã€‚JavaScriptçš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯åŠ¨æ€çš„ï¼Œå³ä½¿å†…ç½®çš„å‡½æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é‡æ–°æŒ‡å‘æ–°çš„å‡½æ•°ã€‚çŽ°åœ¨å‡å®šæˆ‘ä»¬æƒ³ç»Ÿè®¡ä¸€ä¸‹ä»£ç ä¸€å…±è°ƒç”¨äº†å¤šå°‘æ¬¡parseInt()ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„è°ƒç”¨éƒ½æ‰¾å‡ºæ¥ï¼Œç„¶åŽæ‰‹åŠ¨åŠ ä¸Šcount += 1ï¼Œä¸è¿‡è¿™æ ·åšå¤ªå‚»äº†ã€‚æœ€ä½³æ–¹æ¡ˆæ˜¯ç”¨æˆ‘ä»¬è‡ªå·±çš„å‡½æ•°æ›¿æ¢æŽ‰é»˜è®¤çš„parseInt()ï¼š1234567891011121314&apos;use strict&apos;;var count = 0;var oldParseInt = parseInt; // ä¿å­˜åŽŸå‡½æ•°window.parseInt = function () &#123; count += 1; return oldParseInt.apply(null, arguments); // è°ƒç”¨åŽŸå‡½æ•°&#125;;// æµ‹è¯•:parseInt(&apos;10&apos;);parseInt(&apos;20&apos;);parseInt(&apos;30&apos;);console.log(&apos;count = &apos; + count); // 3 èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ é«˜é˜¶å‡½æ•° ä¸‹ä¸€ç¯‡ å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• å¯¹è±¡çš„æ–¹æ³•applyæ–¹æ³•è¯¦è§£è£…é¥°å™¨ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.702Z","updated":"2019-11-27T15:22:16.702Z","comments":true,"path":"public/2017/12/15/ç®­å¤´å‡½æ•°/index.html","permalink":"http://ltyeamin.github.io/public/2017/12/15/ç®­å¤´å‡½æ•°/index.html","excerpt":"","text":"ç®­å¤´å‡½æ•° | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ ç®­å¤´å‡½æ•° frontend JavaScript 2017/12/15 æœ¬æ–‡äºŽ712å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ ç®­å¤´å‡½æ•°ES6æ ‡å‡†æ–°å¢žäº†ä¸€ç§æ–°çš„å‡½æ•°ï¼šArrow Functionï¼ˆç®­å¤´å‡½æ•°ï¼‰ã€‚ä¸ºä»€ä¹ˆå«Arrow Functionï¼Ÿå› ä¸ºå®ƒçš„å®šä¹‰ç”¨çš„å°±æ˜¯ä¸€ä¸ªç®­å¤´:12var fn = x =&gt; x * x;alert(fn(5)); //25 ä¸Šé¢çš„ç®­å¤´å‡½æ•°ç›¸å½“äºŽ:1234function (x) &#123; return x * x;&#125;alert(fn(5)); //25 ç®­å¤´å‡½æ•°ç›¸å½“äºŽåŒ¿åå‡½æ•°ï¼Œå¹¶ä¸”ç®€åŒ–äº†å‡½æ•°å®šä¹‰ã€‚ç®­å¤´å‡½æ•°æœ‰ä¸¤ç§æ ¼å¼ï¼Œä¸€ç§åƒä¸Šé¢çš„ï¼ŒåªåŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿ž{ â€¦ }å’Œreturnéƒ½çœç•¥æŽ‰äº†ã€‚è¿˜æœ‰ä¸€ç§å¯ä»¥åŒ…å«å¤šæ¡è¯­å¥ï¼Œè¿™æ—¶å€™å°±ä¸èƒ½çœç•¥{ â€¦ }å’Œreturn:12345678x =&gt; &#123; if (x &gt; 0) &#123; return x * x; &#125; else &#123; return - x * x; &#125;&#125; å¦‚æžœå‚æ•°ä¸æ˜¯ä¸€ä¸ªï¼Œå°±éœ€è¦ç”¨æ‹¬å·()æ‹¬èµ·æ¥:1234567891011121314// ä¸¤ä¸ªå‚æ•°:(x, y) =&gt; x * x + y * y// æ— å‚æ•°:() =&gt; 3.14// å¯å˜å‚æ•°:(x, y, ...rest) =&gt; &#123; var i, sum = x + y; for (i=0; i&lt;rest.length; i++) &#123; sum += rest[i]; &#125; return sum;&#125; å¦‚æžœè¦è¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œå°±è¦æ³¨æ„ï¼Œå¦‚æžœæ˜¯å•è¡¨è¾¾å¼ï¼Œè¿™ä¹ˆå†™çš„è¯ä¼šæŠ¥é”™:12// SyntaxError:x =&gt; &#123; foo: x &#125; å› ä¸ºå’Œå‡½æ•°ä½“çš„{ â€¦ }æœ‰è¯­æ³•å†²çªï¼Œæ‰€ä»¥è¦æ”¹ä¸º:12// ok:x =&gt; (&#123; foo: x &#125;) è§£å†³thisç»‘å®šé”™è¯¯çš„é—®é¢˜ç®­å¤´å‡½æ•°çœ‹ä¸ŠåŽ»æ˜¯åŒ¿åå‡½æ•°çš„ä¸€ç§ç®€å†™ï¼Œä½†å®žé™…ä¸Šï¼Œç®­å¤´å‡½æ•°å’ŒåŒ¿åå‡½æ•°æœ‰ä¸ªæ˜Žæ˜¾çš„åŒºåˆ«ï¼šç®­å¤´å‡½æ•°å†…éƒ¨çš„thisæ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œç”±ä¸Šä¸‹æ–‡ç¡®å®šã€‚å›žé¡¾å‰é¢çš„ä¾‹å­ï¼Œç”±äºŽJavaScriptå‡½æ•°å¯¹thisç»‘å®šçš„é”™è¯¯å¤„ç†ï¼Œä¸‹é¢çš„ä¾‹å­æ— æ³•å¾—åˆ°é¢„æœŸç»“æžœ:12345678910var obj = &#123; birth: 1990, getAge: function () &#123; var b = this.birth; // 1990 var fn = function () &#123; return new Date().getFullYear() - this.birth; // thisæŒ‡å‘windowæˆ–undefined &#125;; return fn(); &#125;&#125;; çŽ°åœ¨ï¼Œç®­å¤´å‡½æ•°å®Œå…¨ä¿®å¤äº†thisçš„æŒ‡å‘ï¼Œthisæ€»æ˜¯æŒ‡å‘è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯å¤–å±‚è°ƒç”¨è€…obj:123456789var obj = &#123; birth: 1990, getAge: function () &#123; var b = this.birth; // 1990 var fn = () =&gt; new Date().getFullYear() - this.birth; // thisæŒ‡å‘objå¯¹è±¡ return fn(); &#125;&#125;;obj.getAge(); // 25 å¦‚æžœä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä»¥å‰çš„é‚£ç§hackå†™æ³•:1var that = this; å°±ä¸å†éœ€è¦äº†ã€‚ç”±äºŽthisåœ¨ç®­å¤´å‡½æ•°ä¸­å·²ç»æŒ‰ç…§è¯æ³•ä½œç”¨åŸŸç»‘å®šäº†ï¼Œæ‰€ä»¥ï¼Œç”¨call()æˆ–è€…apply()è°ƒç”¨ç®­å¤´å‡½æ•°æ—¶ï¼Œæ— æ³•å¯¹thisè¿›è¡Œç»‘å®šï¼Œå³ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°è¢«å¿½ç•¥:123456789var obj = &#123; birth: 1990, getAge: function (year) &#123; var b = this.birth; // 1990 var fn = (y) =&gt; y - this.birth; // this.birthä»æ˜¯1990 return fn.call(&#123;birth:2000&#125;, year); &#125;&#125;;obj.getAge(2015); // 25 èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ ES6æ–°çš„æ•°æ®ç±»åž‹-generator ä¸‹ä¸€ç¯‡ é—­åŒ… new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• ç®­å¤´å‡½æ•°è§£å†³thisç»‘å®šé”™è¯¯çš„é—®é¢˜ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:39.035Z","updated":"2020-01-08T13:06:38.889Z","comments":true,"path":"public/2018/06/01/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹/index.html","permalink":"http://ltyeamin.github.io/public/2018/06/01/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹/index.html","excerpt":"","text":"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ backend JVMåŠå¹¶å‘ç¼–ç¨‹ 2018/06/01 æœ¬æ–‡äºŽ544å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ ç¡¬ä»¶çš„æ•ˆçŽ‡ä¸Žä¸€è‡´æ€§è®¡ç®—æœºå†…éƒ¨è¿ç®—æµç¨‹ è®¡ç®—æœºæ‰§è¡Œè‹¥å¹²ä¸ªè¿ç®—ä»»åŠ¡ï¼Œæ‰€æœ‰çš„è®¡ç®—ä»»åŠ¡ä¸å¯èƒ½ä»…ä»…é å¤„ç†å™¨â€œè®¡ç®—â€æ¥å®Œæˆï¼Œè®¡ç®—å™¨å­˜å‚¨è®¾å¤‡ä¸Žå¤„ç†å™¨çš„è¿ç®—é€Ÿåº¦æœ‰å‡ ä¸ªæ•°é‡çº§çš„å·®è·ï¼› è‡³å°‘è¦ä¸Žå†…å­˜è¿›è¡Œäº¤äº’ï¼Œå¦‚è¯»å–è¿ç®—æ•°æ®ã€å­˜å‚¨è¿ç®—ç»“æžœï¼Œä¸èƒ½ä»…ä»…é CPUå¯„å­˜å™¨æ¥å®Œæˆ éšç€è®¡ç®—æœºç¡¬ä»¶çš„å¿«é€Ÿå‘å±•ï¼Œä»»ä½•è®¾å¤‡çš„è¯»å†™é€Ÿåº¦è¦å°½å¯èƒ½æŽ¥è¿‘å¤„ç†å™¨è¿ç®—é€Ÿåº¦çš„é«˜é€Ÿç¼“å­˜ï¼ˆCacheï¼‰æ¥ä½œä¸ºå†…å­˜ä¸Žå¤„ç†å™¨ä¹‹é—´çš„ç¼“å†²ï¼› è¿ç®—æ—¶å…ˆä»Žå†…å­˜è¯»å–ï¼Œç„¶åŽå°†æ•°æ®ç¼“å­˜åˆ°é«˜é€Ÿç¼“å­˜åŒºï¼Œè®©CPUèƒ½å¤Ÿé«˜æ•ˆè¿ç®—ï¼Œå½“è¿ç®—ç»“æŸåŽï¼Œå°†è¿ç®—ç»“æžœä»Žç¼“å­˜ä¸­åŒæ­¥åˆ°å†…å­˜ä¸­ã€‚ ç¼“å­˜ä¸€è‡´æ€§é«˜é€Ÿç¼“å­˜å¾ˆå¥½çš„è§£å†³äº†å¤„ç†å™¨ä¸Žå†…å­˜çš„é€Ÿåº¦çŸ›ç›¾ï¼Œå¦‚å›¾1,ä½†æ˜¯å­˜åœ¨é—®é¢˜:ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ å¤šå¤„ç†å™¨ä¸­ï¼Œæ¯ä¸ªå¤„ç†å™¨éƒ½æœ‰è‡ªå·±çš„é«˜é€Ÿç¼“å­˜ï¼Œä½†æ˜¯åˆå…±äº«ä¸€ä¸ªä¸»å†…å­˜ï¼Œå¯èƒ½å­˜åœ¨ç¼“å­˜æ•°æ®ä¸ä¸€è‡´ï¼ŒåŒæ­¥åˆ°ä¸»å†…å­˜ä¸çŸ¥é“ä»¥å“ªä¸ªç¼“å­˜æ•°æ®ä¸ºå‡†ï¼› ä¸ºäº†è§£å†³ä¸€è‡´æ€§é—®é¢˜ï¼Œå„ä¸ªå¤„ç†å™¨è®¿é—®è¦éµå¾ªæŸäº›åè®®ï¼Œåœ¨è¯»å†™æ—¶è¦æ ¹æ®åè®®æ¥è¿›è¡Œæ“ä½œï¼Œå¸¸è§åè®®æœ‰:MSIã€MESIã€MOSIã€Synapseã€FireflyåŠDragon Protocolç­‰ï¼› é™¤äº†å¢žåŠ é«˜é€Ÿç¼“å­˜ä¹‹å¤–ï¼Œä¸ºäº†ä½¿å¾—å¤„ç†å™¨å†…éƒ¨çš„è¿ç®—å•å…ƒå°½é‡è¢«å……åˆ†åˆ©ç”¨ï¼Œå¤„ç†å™¨ä¼šåœ¨ä¸å½±å“æ‰§è¡Œç»“æžœçš„æ¡ä»¶ä¸‹å¯¹è¾“å…¥çš„ä»£ç è¿›è¡Œä¹±åºæ‰§è¡Œï¼ŒJavaè™šæ‹Ÿæœºå®šä¹‰ä¸ºæŒ‡ä»¤é‡æŽ’åºã€‚ Javaå†…å­˜æ¨¡åž‹Javaå†…å­˜æ¨¡åž‹ï¼ˆJMMï¼‰æ¥å±è”½æŽ‰å„ç§ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜è®¿é—®å·®å¼‚ï¼Œä»¥å®žçŽ°Javaç¨‹åºåœ¨å„ç§ä¸‹éƒ½èƒ½è¾¾åˆ°ä¸€è‡´çš„å¹¶å‘æ•ˆæžœï¼Œåœ¨JDK1.5ï¼ˆå®žçŽ°äº†JSR-133ï¼‰å‘å¸ƒåŽï¼ŒJMMå·²ç»æˆç†Ÿå’Œå®Œå–„èµ·æ¥ã€‚ Javaå†…å­˜çš„ä¸»è¦ç›®æ ‡æ˜¯å®šä¹‰ç¨‹åºä¸­çš„å„ä¸ªå˜é‡çš„è®¿é—®è§„åˆ™ï¼Œå³è™šæ‹Ÿæœºä¸­å°†å˜é‡å­˜å‚¨åˆ°å†…å­˜å’Œä»Žå†…å­˜ä¸­å–å‡ºå˜é‡ä¸»è¦çš„åº•å±‚å®žçŽ°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æ­¤å˜é‡éžå½¼å˜é‡ï¼Œè¿™é‡Œçš„å˜é‡åŒ…æ‹¬å®žä¾‹å­—æ®µã€é™æ€å­—æ®µã€æž„æˆæ•°ç»„å¯¹è±¡çš„å…ƒç´ ï¼Œä¸åŒ…æ‹¬å±€éƒ¨å˜é‡ä¸Žæ–¹æ³•å‚æ•°ï¼Œå› ä¸ºåŽè€…æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œä¸ä¼šè¢«å…±äº«ï¼Œè‡ªç„¶ä¸å­˜åœ¨ç«žäº‰é—®é¢˜ã€‚ ä¸»å†…å­˜ä¸Žå·¥ä½œå†…å­˜ ä¸»å†…å­˜: JMMè§„å®šæ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ï¼› å·¥ä½œå†…å­˜ï¼šæ¯æ¡çº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¿å­˜äº†è¢«è¯¥çº¿ç¨‹ä½¿ç”¨åˆ°çš„å˜é‡çš„ä¸»å†…å­˜å‰¯æœ¬æ‹·è´ï¼› å·¥ä½œå†…å­˜ï¼šçº¿ç¨‹å¯¹å˜é‡çš„æ‰€ä»¥æ“ä½œéƒ½å¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œä¸èƒ½ç›´æŽ¥è¯»å†™åˆ°ä¸»å†…å­˜ä¸­ï¼› å·¥ä½œå†…å­˜ï¼šçº¿ç¨‹é—´å„è‡ªçš„å·¥ä½œå†…å­˜ä¸å¯è§ï¼Œæ•°æ®ä¼ é€’æ“ä½œåœ¨ä¸»å†…å­˜æ¥å®Œæˆï¼Œå¦‚å›¾2ï¼Œçº¿ç¨‹ã€ä¸»å†…å­˜ã€å·¥ä½œå†…å­˜ä¸‰è€…ä¹‹é—´çš„äº¤äº’å…³ç³»ã€‚ å†…å­˜é—´åŽŸå­æ“ä½œ é”å®šï¼ˆlockï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå˜é‡æ ‡è¯†ä¸ºä¸€æ¡çº¿ç¨‹ç‹¬å çš„çŠ¶æ€ï¼› è§£é”ï¼ˆunlockï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå¤„äºŽé”å®šçŠ¶æ€çš„å˜é‡é‡Šæ”¾å‡ºæ¥ï¼Œé‡Šæ”¾åŽçš„å˜é‡æ‰å¯ä»¥è¢«å…¶ä»–çº¿ç¨‹é”å®šï¼› è¯»å–ï¼ˆreadï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå˜é‡çš„å€¼ä»Žä¸»å†…å­˜ä¼ è¾“åˆ°çº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåŽçš„loadåŠ¨ä½œä½¿ç”¨ï¼› è½½å…¥ï¼ˆloadï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠreadæ“ä½œä»Žä¸»å†…å­˜ä¸­å¾—åˆ°çš„å˜é‡å€¼æ”¾å…¥å·¥ä½œå†…å­˜çš„å˜é‡å‰¯æœ¬ä¸­ï¼› ä½¿ç”¨ï¼ˆuseï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠå·¥ä½œå†…å­˜ä¸­çš„ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€’ç»™æ‰§è¡Œå¼•æ“Žï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªéœ€è¦ä½¿ç”¨åˆ°å˜é‡çš„å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶å°†ä¼šæ‰§è¡Œè¿™ä¸ªæ“ä½œï¼› èµ‹å€¼ï¼ˆassignï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä»Žæ‰§è¡Œå¼•æ“ŽæŽ¥å—åˆ°çš„å€¼èµ‹å€¼ç»™å·¥ä½œå†…å­˜çš„å˜é‡ï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªç»™å˜é‡èµ‹å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶æ‰§è¡Œè¿™ä¸ªæ“ä½œï¼› å­˜å‚¨ï¼ˆstoreï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠå·¥ä½œå†…å­˜ä¸­ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€åˆ°ä¸»å†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåŽçš„writeæ“ä½œä½¿ç”¨ï¼› å†™å…¥ï¼ˆwriteï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠstoreæ“ä½œä»Žå·¥ä½œå†…å­˜ä¸­å¾—åˆ°çš„å˜é‡çš„å€¼æ”¾å…¥ä¸»å†…å­˜çš„å˜é‡ä¸­ã€‚ å¦‚æžœè¦æŠŠä¸€ä¸ªå˜é‡ä»Žä¸»å†…å­˜å¤åˆ¶åˆ°å·¥ä½œå†…å­˜ï¼Œé‚£å°±è¦æŒ‰ç…§é¡ºåºåœ°æ‰§è¡Œreadå’Œloadæ“ä½œï¼Œå¦‚æžœè¦æŠŠå˜é‡ä»Žå·¥ä½œå†…å­˜åŒæ­¥å›žä¸»å­˜ï¼Œå°±è¦æŒ‰é¡ºåºåœ°æ‰§è¡Œstoreå’Œwriteæ“ä½œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒJMMåªè¦æ±‚ä¸Šè¿°ä¸¤ä¸ªæ“ä½œå¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œï¼Œè€Œæ²¡æœ‰ä¿è¯å¿…é¡»æ˜¯è¿žç»­æ‰§è¡Œçš„ã€‚ä¹Ÿå°±è¯´è¯´readä¸Žloadä¹‹é—´ã€storeå’Œwriteä¹‹é—´æ˜¯å¯æ’å…¥å…¶ä»–æŒ‡ä»¤çš„ï¼Œå¦‚å¯¹ä¸»å†…å­˜ä¸­çš„å˜é‡aã€bè¿›è¡Œè®¿é—®æ—¶ï¼Œå¾ˆå¯èƒ½å‡ºçŽ°read aã€read bã€load bã€load aï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒJMMè¿˜è§„å®šåœ¨æ‰§è¡Œä¸Šè¿°å…«ç§æ“ä½œæ—¶å¿…é¡»æ»¡è¶³å¦‚ä¸‹è§„åˆ™ï¼š ä¸å…è®¸readå’Œloadã€storeå’Œwriteæ“ä½œä¹‹ä¸€å•ç‹¬å‡ºçŽ°ï¼Œå³ä¸å…è®¸ä¸€ä¸ªå˜é‡ä»Žä¸»å†…å­˜è¯»å–äº†ä½†å·¥ä½œå†…å­˜ä¸æŽ¥å—ï¼Œæˆ–è€…ä»Žå·¥ä½œå†…å­˜å‘èµ·å›žå†™ä½†ä¸»å†…å­˜ä¸æŽ¥å—çš„æƒ…å†µå‡ºçŽ°ï¼› ä¸å…è®¸ä¸€ä¸ªçº¿ç¨‹ä¸¢å¼ƒå®ƒçš„æœ€è¿‘çš„assignæ“ä½œï¼Œå³å˜é‡åœ¨å·¥ä½œå†…å­˜ä¸­æ”¹å˜äº†ä¹‹åŽå¿…é¡»æŠŠè¯¥å˜åŒ–çš„ç»“æžœå›žå†™åˆ°ä¸»å†…å­˜ä¸­ï¼› ä¸å…è®¸ä»»ä½•ä¸€ä¸ªçº¿ç¨‹æ— åŽŸå› åœ°ï¼ˆæ²¡æœ‰å‘ç”Ÿè¿‡ä»»ä½•çš„assignæ“ä½œï¼‰æŠŠæ•°æ®ä»Žçº¿ç¨‹çš„å·¥ä½œå†…å­˜åŒæ­¥å›žä¸»å†…å­˜ä¸­ï¼› ä¸€ä¸ªæ–°çš„å˜é‡åªèƒ½åœ¨ä¸»å†…å­˜ä¸­â€œè¯žç”Ÿâ€ï¼Œä¸å…è®¸åœ¨å·¥ä½œå†…å­˜ä¸­ç›´æŽ¥ä½¿ç”¨ä¸€ä¸ªæœªè¢«åˆå§‹åŒ–ï¼ˆloadæˆ–assignï¼‰çš„å˜é‡ã€‚å³å¯¹ä¸€ä¸ªå˜é‡å®žæ–½useå’Œstoreæ“ä½œä¹‹å‰ï¼Œå¿…é¡»å…ˆæ‰§è¡Œè¿‡assignå’Œloadæ“ä½œï¼› ä¸€ä¸ªå˜é‡åœ¨åŒä¸€ä¸ªæ—¶åˆ»åªå…è®¸ä¸€æ¡çº¿ç¨‹å¯¹å…¶è¿›è¡Œlockæ“ä½œï¼Œä½†lockæ“ä½œå¯ä»¥è¢«åŒä¸€æ¡çº¿ç¨‹é‡å¤æ‰§è¡Œå¤šæ¬¡ï¼Œå¤šæ¬¡æ‰§è¡ŒlockåŽï¼Œåªæœ‰æ‰§è¡Œç›¸åŒæ¬¡æ•°çš„unlockæ“ä½œï¼Œå˜é‡æ‰ä¼šè§£é”ï¼› å¦‚æžœå¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œlockæ“ä½œï¼Œå°†ä¼šæ¸…ç©ºå·¥ä½œå†…å­˜ä¸­æ­¤å˜é‡çš„å€¼ï¼Œåœ¨æ‰§è¡Œå¼•æ“Žä½¿ç”¨è¿™ä¸ªå˜é‡å‰éœ€è¦é‡æ–°æ‰§è¡Œloadæˆ–assignæ“ä½œåˆå§‹åŒ–å˜é‡çš„å€¼ï¼› å¦‚æžœä¸€ä¸ªå˜é‡äº‹å…ˆæ²¡æœ‰è¢«locké”å®šæ“ä½œï¼Œåˆ™ä¸å…è®¸å¯¹å®ƒæ‰§è¡Œunlockæ“ä½œï¼›ä¹Ÿä¸å…è®¸åŽ»unlockä¸€ä¸ªè¢«å…¶ä»–çº¿ç¨‹é”ä½çš„å˜é‡ï¼› å¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œunlockä¹‹å‰ï¼Œå¿…é¡»å…ˆæŠŠæ­¤å˜é‡åŒæ­¥å›žä¸»å†…å­˜ä¸­ï¼ˆæ‰§è¡Œstoreå’Œwriteæ“ä½œï¼‰ï¼› happens-before åŽŸåˆ™è¿™ä¸ªåŽŸåˆ™éžå¸¸é‡è¦ï¼Œå®ƒæ˜¯åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨ç«žäº‰ã€çº¿ç¨‹æ˜¯å¦å®‰å…¨çš„ä¸»è¦ä¾æ®ï¼Œä¾é è¿™ä¸ªåŽŸåˆ™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‡ æ¡è§„åˆ™ä¸€æ½å­åœ° è§£å†³å¹¶å‘çŽ¯å¢ƒä¸‹ä¸¤ä¸ªæ“ä½œä¹‹é—´æ˜¯å¦å¯èƒ½å­˜åœ¨å†²çªçš„æ‰€æœ‰é—®é¢˜ã€‚ çŽ°åœ¨å°±æ¥çœ‹çœ‹â€œå…ˆè¡Œå‘ç”Ÿâ€åŽŸåˆ™æŒ‡çš„æ˜¯ä»€ä¹ˆã€‚å…ˆè¡Œå‘ç”Ÿæ˜¯Javaå†…å­˜æ¨¡åž‹ä¸­å®šä¹‰çš„ä¸¤é¡¹æ“ä½œä¹‹é—´çš„ååºå…³ç³»ï¼Œå¦‚æžœè¯´æ“ä½œAå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œBï¼Œå…¶å®žå°±æ˜¯è¯´åœ¨å‘ç”Ÿæ“ä½œBä¹‹å‰ï¼Œæ“ä½œAäº§ç”Ÿçš„å½±å“èƒ½è¢«æ“ä½œBè§‚å¯Ÿåˆ°ï¼Œâ€œå½±å“â€åŒ…æ‹¬ä¿®æ”¹äº†å†…å­˜ä¸­å…±äº«å˜é‡çš„å€¼ã€å‘é€äº†æ¶ˆæ¯ã€è°ƒç”¨äº†æ–¹æ³•ç­‰ã€‚ 123456//ä»¥ä¸‹æ“ä½œåœ¨çº¿ç¨‹Aä¸­æ‰§è¡Œint i=1;//ä»¥ä¸‹æ“ä½œåœ¨çº¿ç¨‹Bä¸­æ‰§è¡Œ int j=i;//ä»¥ä¸‹æ“ä½œåœ¨çº¿ç¨‹Cä¸­æ‰§è¡Œint i=2; é€šè¿‡ä¸Šè¿°ä»£ç åˆ†æž:å‡è®¾çº¿ç¨‹Aä¸­çš„æ“ä½œâ€œi=1â€å…ˆè¡Œå‘ç”ŸäºŽçº¿ç¨‹Bçš„æ“ä½œâ€œj=iâ€ï¼Œé‚£ä¹ˆå¯ä»¥ç¡®å®šåœ¨çº¿ç¨‹Bçš„æ“ä½œæ‰§è¡ŒåŽï¼Œå˜é‡jçš„å€¼ä¸€å®šç­‰äºŽ1ï¼Œå¾—å‡ºè¿™ä¸ªç»“è®ºçš„ä¾æ®æœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯æ ¹æ®å…ˆè¡Œå‘ç”ŸåŽŸ åˆ™ï¼Œâ€œi=1â€çš„ç»“æžœå¯ä»¥è¢«è§‚å¯Ÿåˆ°ï¼›äºŒæ˜¯çº¿ç¨‹Cè¿˜æ²¡â€œç™»åœºâ€ï¼Œçº¿ç¨‹Aæ“ä½œç»“æŸä¹‹åŽæ²¡æœ‰å…¶ä»–çº¿ç¨‹ä¼šä¿®æ”¹å˜é‡içš„å€¼ã€‚çŽ°åœ¨å†æ¥è€ƒè™‘çº¿ç¨‹Cï¼Œæˆ‘ä»¬ä¾ç„¶ä¿æŒçº¿ç¨‹Aå’Œçº¿ç¨‹Bä¹‹é—´çš„å…ˆè¡Œå‘ç”Ÿå…³ ç³»ï¼Œè€Œçº¿ç¨‹Cå‡ºçŽ°åœ¨çº¿ç¨‹Aå’Œçº¿ç¨‹Bçš„æ“ä½œä¹‹é—´ï¼Œä½†æ˜¯çº¿ç¨‹Cä¸Žçº¿ç¨‹Bæ²¡æœ‰å…ˆè¡Œå‘ç”Ÿå…³ç³»ï¼Œé‚£jçš„å€¼ä¼šæ˜¯å¤šå°‘å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¸ç¡®å®šï¼1å’Œ2éƒ½æœ‰å¯èƒ½ï¼Œå› ä¸ºçº¿ç¨‹Cå¯¹å˜é‡içš„å½±å“å¯èƒ½ä¼šè¢«çº¿ç¨‹Bè§‚å¯Ÿåˆ°ï¼Œä¹Ÿå¯èƒ½ä¸ä¼šï¼Œè¿™æ—¶å€™çº¿ç¨‹Bå°±å­˜åœ¨è¯»å–åˆ°è¿‡æœŸæ•°æ®çš„é£Žé™©ï¼Œä¸å…·å¤‡å¤šçº¿ç¨‹å®‰å…¨æ€§ã€‚ Java å†…å­˜æ¨¡åž‹å®šä¹‰åŸºäºŽä¸€äº›æ“ä½œï¼Œæ¯”å¦‚è¯»å†™å­—æ®µã€ Monitor åŒæ­¥ç­‰ã€‚è¿™äº›æ“ä½œå¯ä»¥æŒ‰ç…§ happens-before å…³ç³»è¿›è¡ŒæŽ’åºã€‚è¿™ç§å…³ç³»å¯ç”¨æ¥æŽ¨æ–­ä¸€ä¸ªçº¿ç¨‹ä½•æ—¶çœ‹åˆ°å¦ä¸€ä¸ªçº¿ç¨‹çš„æ“ä½œç»“æžœï¼Œä»¥åŠæž„æˆä¸€ä¸ªç¨‹åºåŒæ­¥åŽçš„æ‰€æœ‰ä¿¡æ¯ã€‚ å¤©ç„¶çš„å…ˆè¡Œå‘ç”Ÿå…³ç³»: ç¨‹åºæ¬¡åºè§„åˆ™ï¼ˆProgram Order Ruleï¼‰ï¼šåœ¨ä¸€ä¸ªçº¿ç¨‹å†…ï¼ŒæŒ‰ç…§ç¨‹åºä»£ç é¡ºåºï¼Œä¹¦å†™åœ¨å‰é¢çš„æ“ä½œå…ˆè¡Œå‘ç”ŸäºŽä¹¦å†™åœ¨åŽé¢çš„æ“ä½œã€‚å‡†ç¡®åœ°è¯´ï¼Œåº”è¯¥æ˜¯æŽ§åˆ¶æµé¡ºåºè€Œä¸æ˜¯ç¨‹åºä»£ç é¡ºåºï¼Œ å› ä¸ºè¦è€ƒè™‘åˆ†æ”¯ã€å¾ªçŽ¯ç­‰ç»“æž„ã€‚ ç®¡ç¨‹é”å®šè§„åˆ™ï¼ˆMonitor Lock Ruleï¼‰ï¼šä¸€ä¸ªunlockæ“ä½œå…ˆè¡Œå‘ç”ŸäºŽåŽé¢å¯¹åŒä¸€ä¸ªé”çš„lock æ“ä½œã€‚å³åœ¨èŽ·å– Monitor å‰ï¼Œé‡Šæ”¾è¯¥ Monitorã€‚è¿™é‡Œå¿…é¡»å¼ºè°ƒçš„æ˜¯åŒä¸€ä¸ªé”ï¼Œè€Œâ€œåŽé¢â€æ˜¯æŒ‡æ—¶é—´ä¸Šçš„å…ˆåŽé¡ºåºã€‚ volatileå˜é‡è§„åˆ™ï¼ˆVolatile Variable Ruleï¼‰ï¼šå¯¹ä¸€ä¸ªvolatileå˜é‡çš„å†™æ“ä½œå…ˆè¡Œå‘ç”ŸäºŽåŽé¢å¯¹è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œï¼Œå³åœ¨è¯»å– volatile å˜é‡å‰ï¼Œå¯¹è¯¥å˜é‡æ‰§è¡Œä¸€æ¬¡å†™æ“ä½œï¼Œè¿™é‡Œçš„â€œåŽé¢â€åŒæ ·æ˜¯æŒ‡æ—¶é—´ä¸Šçš„å…ˆåŽé¡ºåºã€‚ çº¿ç¨‹å¯åŠ¨è§„åˆ™ï¼ˆThread Start Ruleï¼‰ï¼šThreadå¯¹è±¡çš„start()æ–¹æ³•å…ˆè¡Œå‘ç”ŸäºŽæ­¤çº¿ç¨‹çš„æ¯ä¸€ä¸ªåŠ¨ä½œã€‚å³åœ¨çº¿ç¨‹å¼€å§‹æ‰€æœ‰æ“ä½œå‰è°ƒç”¨ Thread#startã€‚ çº¿ç¨‹ç»ˆæ­¢è§„åˆ™ï¼ˆThread Termination Ruleï¼‰ï¼šçº¿ç¨‹ä¸­çš„æ‰€æœ‰æ“ä½œéƒ½å…ˆè¡Œå‘ç”ŸäºŽå¯¹æ­¤çº¿ç¨‹çš„ç»ˆæ­¢æ£€æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Thread.join()æ–¹æ³•ç»“æŸã€Thread.isAlive()çš„è¿”å›žå€¼ç­‰æ‰‹æ®µæ£€æµ‹åˆ°çº¿ç¨‹å·²ç»ç»ˆæ­¢æ‰§è¡Œã€‚ çº¿ç¨‹ä¸­æ–­è§„åˆ™ï¼ˆThread Interruption Ruleï¼‰ï¼šå¯¹çº¿ç¨‹interrupt()æ–¹æ³•çš„è°ƒç”¨å…ˆè¡Œå‘ç”ŸäºŽè¢«ä¸­æ–­çº¿ç¨‹çš„ä»£ç æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿï¼Œå¯ä»¥é€šè¿‡Thread.interrupted()æ–¹æ³•æ£€æµ‹åˆ°æ˜¯å¦æœ‰ ä¸­æ–­å‘ç”Ÿã€‚ å¯¹è±¡ç»ˆç»“è§„åˆ™ï¼ˆFinalizer Ruleï¼‰ï¼šä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆï¼ˆæž„é€ å‡½æ•°æ‰§è¡Œç»“æŸï¼‰å…ˆè¡Œå‘ ç”ŸäºŽå®ƒçš„finalize()æ–¹æ³•çš„å¼€å§‹ã€‚ ä¼ é€’æ€§ï¼ˆTransitivityï¼‰ï¼šå¦‚æžœæ“ä½œAå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œBï¼Œæ“ä½œBå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œCï¼Œé‚£å°±å¯ä»¥å¾—å‡ºæ“ä½œAå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œCçš„ç»“è®ºã€‚ æ€»ç»“:ï¼šæ—¶é—´å…ˆåŽé¡ºåºä¸Žå…ˆè¡Œå‘ç”ŸåŽŸåˆ™ä¹‹é—´åŸºæœ¬æ²¡æœ‰å¤ªå¤§çš„å…³ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬è¡¡é‡å¹¶å‘å®‰å…¨é—®é¢˜çš„æ—¶å€™ä¸è¦å—åˆ°æ—¶é—´é¡ºåºçš„å¹²æ‰°ï¼Œä¸€åˆ‡å¿…é¡»ä»¥å…ˆè¡Œå‘ç”ŸåŽŸåˆ™ä¸ºå‡†ã€‚ åŽŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§åŽŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šæˆ‘ä»¬å¤§è‡´å¯ä»¥è®¤ä¸ºåŸºæœ¬æ•°æ®ç±»åž‹çš„è®¿é—®è¯»å†™æ˜¯å…·å¤‡åŽŸå­æ€§çš„ï¼ˆä¾‹å¤–å°±æ˜¯longå’Œdoubleçš„éžåŽŸå­æ€§åå®šï¼‰ã€‚åŽŸå­æ“ä½œçš„ç‰¹ç‚¹æ˜¯è¦ä¹ˆå…¨éƒ¨æ“ä½œæˆåŠŸè¦ä¹ˆå…¨éƒ¨æ“ä½œå¤±è´¥ï¼Œä¸å…è®¸éƒ¨åˆ†æˆåŠŸï¼Œéƒ¨åˆ†å¤±è´¥ã€‚å°½ç®¡è™šæ‹ŸæœºæœªæŠŠlockå’Œunlockæ“ä½œç›´æŽ¥å¼€æ”¾ç»™ç”¨æˆ·ä½¿ç”¨ï¼Œ ä½†æ˜¯å´æä¾›äº†æ›´é«˜å±‚æ¬¡çš„å­—èŠ‚ç æŒ‡ä»¤monitorenterå’Œmonitorexitæ¥éšå¼åœ°ä½¿ç”¨è¿™ä¸¤ä¸ªæ“ä½œï¼Œè¿™ä¸¤ä¸ªå­—èŠ‚ç æŒ‡ä»¤åæ˜ åˆ°Javaä»£ç ä¸­å°±æ˜¯åŒæ­¥å—synchronizedå…³é”®å­—ï¼Œå› æ­¤åœ¨synchronizedå—ä¹‹é—´çš„æ“ä½œä¹Ÿå…·å¤‡åŽŸå­æ€§ã€‚ å¯è§æ€§ï¼ˆVisibilityï¼‰ï¼šå¯è§æ€§æ˜¯æŒ‡å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡çš„å€¼ï¼Œå…¶ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹å³ å¾—çŸ¥è¿™ä¸ªä¿®æ”¹ã€‚Javaå†…å­˜æ¨¡åž‹æ˜¯é€šè¿‡åœ¨å˜é‡ä¿®æ”¹åŽå°†æ–°å€¼åŒæ­¥å›žä¸»å†…å­˜ï¼Œåœ¨å˜é‡è¯»å–å‰ä»Žä¸»å†…å­˜åˆ·æ–°å˜é‡å€¼è¿™ç§ä¾èµ–ä¸»å†…å­˜ä½œä¸ºä¼ é€’åª’ä»‹çš„æ–¹å¼æ¥å®žçŽ°å¯è§æ€§çš„ã€‚ç®€å•è¯´å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹çœ‹åˆ°å¦ä¸€ä¸ªçº¿ç¨‹å‘ç”Ÿæ›´æ”¹æ‰€éœ€çš„æ¡ä»¶ï¼Œå³synchronizedå’Œfinalå®žçŽ°äº†å¯è§æ€§çš„æ¡ä»¶ã€‚ æœ‰åºæ€§ï¼ˆOrderingï¼‰ï¼šå¦‚æžœåœ¨æœ¬çº¿ç¨‹å†…è§‚å¯Ÿï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯æœ‰åºçš„ï¼›å¦‚æžœåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è§‚å¯Ÿå¦ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯æ— åºçš„ã€‚å‰åŠå¥æ˜¯æŒ‡â€œçº¿ç¨‹å†…è¡¨ çŽ°ä¸ºä¸²è¡Œçš„è¯­ä¹‰â€ï¼ˆWithin-Thread As-If-Serial Semanticsï¼‰ï¼ŒåŽåŠå¥æ˜¯æŒ‡â€œæŒ‡ä»¤é‡æŽ’åºâ€çŽ°è±¡ å’Œâ€œå·¥ä½œå†…å­˜ä¸Žä¸»å†…å­˜åŒæ­¥å»¶è¿Ÿâ€çŽ°è±¡ã€‚ å‚è€ƒèµ„æ–™ ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆç¬¬2ç‰ˆï¼‰ã€‹å‘¨å¿—æ˜Žè‘— èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ ä¸‹ä¸€ç¯‡ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• ç¡¬ä»¶çš„æ•ˆçŽ‡ä¸Žä¸€è‡´æ€§è®¡ç®—æœºå†…éƒ¨è¿ç®—æµç¨‹ç¼“å­˜ä¸€è‡´æ€§Javaå†…å­˜æ¨¡åž‹ä¸»å†…å­˜ä¸Žå·¥ä½œå†…å­˜å†…å­˜é—´åŽŸå­æ“ä½œhappens-before åŽŸåˆ™åŽŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§å‚è€ƒèµ„æ–™ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.714Z","updated":"2019-11-27T15:22:16.714Z","comments":true,"path":"public/2018/06/11/RabbitMQæ¦‚è¿°/index.html","permalink":"http://ltyeamin.github.io/public/2018/06/11/RabbitMQæ¦‚è¿°/index.html","excerpt":"","text":"RabbitMQæ¦‚è¿° | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ RabbitMQæ¦‚è¿° backend RabbitMQ 2018/06/11 æœ¬æ–‡äºŽ534å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ ä¹‹æ‰€ä»¥ä»Šå¤©å†™RabbitMQå­¦ä¹ ä¸“æ ï¼Œä¸»è¦æ˜¯å› ä¸ºè‡ªå·±æ²¡æœ‰çœŸæ­£çš„ç³»ç»Ÿå­¦ä¹ è¿‡ã€‚ä¹‹å‰å·¥ä½œç»åŽ†ä¸­éƒ½æ˜¯ä¸ºç”¨MQè€Œç”¨çš„MQï¼Œå¯¹MQæ•´ä¸ªå†…éƒ¨æœºåˆ¶æ²¡æœ‰ä¸€ä¸ªæ·±å…¥çš„äº†è§£å’Œç³»ç»Ÿçš„å­¦ä¹ ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨Spring Cloud Streamæˆ–Spring Cloud Busç»„ä»¶æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šç»å¸¸ç¢°åˆ°MQã€‚MQäº§å“å¸‚é¢ä¸Šæœ‰å¾ˆå¤šç§ï¼Œä¸åŒMQäº§å“æœ‰ä¸åŒçš„é€‚åº”åœºæ™¯(é¢†åŸŸ)ã€‚è¿™å°±å’Œå­¦ä»€ä¹ˆè¯­è¨€ä¸€æ ·ï¼Œä¸åˆ†ä»€ä¹ˆå¥½åã€‚ åœ¨è¿™æˆ‘è¦æ’ä¸Šä¸€å¥ï¼Œåœ¨è®¨è®ºæŠ€æœ¯é€‰åž‹çš„æ—¶å€™ï¼Œæˆ‘ç»å¸¸å¬åˆ°å¾ˆå¤šäººè¯´å“ªç§æŠ€æœ¯å¥½ï¼Œå“ªç§æŠ€æœ¯åï¼Œå“ªç§æŠ€æœ¯æµè¡Œï¼Œå“ªç§æŠ€æœ¯æ·˜æ±°ã€‚å…¶å®žæ­£è§£åº”è¯¥æ˜¯æ¯ç§æŠ€æœ¯æ–¹æ¡ˆæœ‰è‡ªå·±é€‚åº”é¢†åŸŸï¼Œå­˜åœ¨å³åˆç†ã€‚é¢è¯•çš„æ—¶å€™ç»å¸¸æœ‰é¢è¯•å®˜è¯¢é—®æŠ€æœ¯æ–¹æ¡ˆé€‰åž‹ã€‚ä»€ä¹ˆSpring Cloudå’ŒDubboæ¯”ï¼ˆåŽ‹æ ¹å°±ä¸æ˜¯ä¸€ä¸ªé¢†åŸŸï¼ŒSpring Cloudæ˜¯æ•´å¥—çš„å¾®æœåŠ¡è½åœ°æ–¹æ¡ˆï¼ŒDubboåªæ˜¯ä¸€ä¸ªå…·æœ‰å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„é«˜æ€§èƒ½RPCæ¡†æž¶ï¼Œè®ºåŠŸèƒ½Dubboåªæ˜¯Spring Cloudçš„ä¸€ä¸ªå­é›†ï¼‰ï¼Œä»€ä¹ˆRediså’ŒMongoDBæ¯”ï¼ŒESå’ŒSolræ¯”ï¼Œå„ç§MQçš„æ¯”è¾ƒï¼Œå…¶å®žæˆ‘è§‰å¾—é—®è¿™äº›é¢è¯•é¢˜æ˜¯æœ‰å±€é™æ€§çš„ï¼Œæ²¡æœ‰å…·ä½“ä¸šåŠ¡åœºæ™¯å°±æ˜¯æ— è§£ï¼Œå…·ä½“é€‰åž‹è¿˜æ˜¯è¦æ ¹æ®å½“å‰å…¬å¸çš„çŽ°æœ‰ä¸šåŠ¡å’Œç³»ç»ŸçŽ°çŠ¶æ¥é€‰åž‹ã€‚æˆ‘è§‰å¾—é¢è¯•å®˜åº”è¯¥å…ˆæŠŠå…¬å¸çš„ä¸šåŠ¡åœºæ™¯è¯´å‡ºæ¥ï¼Œç„¶åŽåº”è˜è€…æ ¹æ®å…¬å¸çš„ä¸šåŠ¡è¿›è¡Œå®¢è§‚æ€§è¯„å®šã€‚ å¥½äº†ï¼Œè¨€å½’æ­£ä¼ ï¼Œå¸¸è§çš„é«˜çº§çš„MQäº§å“æœ‰RabbitMQã€Apache ActiveMQã€Apache RocketMQ(Alibabaæèµ )ã€Apache Kafka(LinkedInæèµ ) ã€‚é‚£ä¹ˆï¼Œä»Šå¤©æˆ‘è¿™é‡Œé€‰æ‹©RabbitMQè¿›è¡Œå­¦ä¹ ï¼Œå…¶ä»–MQå­¦ä¹ éƒ½æ˜¯ç›¸é€šçš„ï¼Œè¯»è€…å¯æ ¹æ®è‡ªèº«æƒ…å†µé˜…è¯»å®˜ç½‘æ–‡æ¡£å¹¶è¿›è¡Œå­¦ä¹ ã€‚æˆ‘è¿™é‡Œåªæ˜¯ä»‹ç»ä¸€ç§å­¦ä¹ æ–¹å¼ã€‚ä¸‹é¢ä»Žå®˜æ–¹æ–‡æ¡£ä»¥åŠå…¶ä»–èµ„æ–™ç»™å¤§å®¶è¿›è¡Œæ¢³ç†RabbitMQç³»åˆ—çš„çŸ¥è¯†ã€‚ MQæ¶ˆæ¯é˜Ÿåˆ—MQæ¦‚è¿°æ¶ˆæ¯é˜Ÿåˆ—æŠ€æœ¯æ˜¯åˆ†å¸ƒå¼åº”ç”¨é—´äº¤æ¢ä¿¡æ¯çš„ä¸€ç§æŠ€æœ¯ã€‚ æ¶ˆæ¯é˜Ÿåˆ—å¯é©»ç•™åœ¨å†…å­˜æˆ–ç£ç›˜ä¸Š,é˜Ÿåˆ—å­˜å‚¨æ¶ˆæ¯ç›´åˆ°å®ƒä»¬è¢«åº”ç”¨ç¨‹åºè¯»èµ°ã€‚ é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåº”ç”¨ç¨‹åºå¯ç‹¬ç«‹åœ°æ‰§è¡Œã€‚å®ƒä»¬ä¸éœ€è¦çŸ¥é“å½¼æ­¤çš„ä½ç½®ã€æˆ–åœ¨ç»§ç»­æ‰§è¡Œå‰ä¸éœ€è¦ç­‰å¾…æŽ¥æ”¶ç¨‹åºæŽ¥æ”¶æ­¤æ¶ˆæ¯ã€‚ MQä¸»è¦ä½œç”¨æ˜¯æŽ¥å—å’Œè½¬å‘æ¶ˆæ¯ã€‚ä½ å¯ä»¥æƒ³æƒ³åœ¨ç”Ÿæ´»ä¸­çš„ä¸€ç§åœºæ™¯ï¼šå½“ä½ æŠŠä¿¡ä»¶çš„æŠ•è¿›é‚®ç­’ï¼Œé‚®é€’å‘˜è‚¯å®šæœ€ç»ˆä¼šå°†ä¿¡ä»¶é€ç»™æ”¶ä»¶äººã€‚æˆ‘ä»¬å¯ä»¥æŠŠMQæ¯”ä½œ é‚®å±€å’Œé‚®é€’å‘˜ã€‚ MQå’Œé‚®å±€çš„ä¸»è¦åŒºåˆ«æ˜¯,å®ƒä¸å¤„ç†æ¶ˆæ¯,ä½†æ˜¯,å®ƒä¼šæŽ¥å—æ•°æ®ã€å­˜å‚¨æ¶ˆæ¯æ•°æ®ã€è½¬å‘æ¶ˆæ¯ã€‚ MQåº”ç”¨åœºæ™¯ åº”ç”¨è§£è€¦: ç³»ç»Ÿå¼‚æ­¥åŒ–æ”¹é€ ï¼› ç”¨æˆ·æ³¨å†ŒåŽçš„é‚®ä»¶å‘é€ã€éªŒè¯ç çŸ­ä¿¡å‘é€ï¼› åˆ†å¸ƒå¼å»¶æ—¶é˜Ÿåˆ—åº”ç”¨ï¼Œç”¨æˆ·ä¸‹å•åŽï¼Œ24å°æ—¶æœªæ”¯ä»˜ï¼Œéœ€è¦å–æ¶ˆè®¢å•ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸‹å•æ—¶ç”¨MQå‘ä¸ªæ¶ˆæ¯é€šçŸ¥ä¸€ä¸‹ï¼Œå®¢æˆ·ç«¯å»¶æ—¶ï¼ˆä¸‹å•æ—¶é—´24å°æ—¶åŽï¼‰æ‰§è¡Œï¼Œæ¶ˆè´¹æˆåŠŸåˆ™è¯æ˜Žå–æ¶ˆè®¢å•æˆåŠŸã€‚ å¼‚æ­¥é€šçŸ¥åŠæ•°æ®åŒæ­¥: æå‡ç³»ç»Ÿæ€§èƒ½ï¼Œä¿è¯æ•°æ®æœ€ç»ˆä¸€è‡´æ€§ï¼› ç”¨æˆ·åœ¨ç®¡ç†é¡µé¢æ›´æ–°æ•°æ®ï¼Œé€šè¿‡MQå¼‚æ­¥é€šçŸ¥ï¼Œæ›´æ–°ç¼“å­˜ã€æ›´æ–°ESæˆ–Solrç´¢å¼• åº”ç”¨é™æµ: å¯ä»¥ä¿è¯å¹¶å‘åœºæ™¯ä¸‹ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼› æŠ¢ç¥¨ç³»ç»Ÿï¼Œåœ¨å¹¶å‘å¤§ç³»ç»Ÿæœ‰ç“¶é¢ˆçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å°†è¯·æ±‚æ‰“åˆ°MQé˜Ÿåˆ—ä¾æ¬¡é™æµæ¶ˆè´¹ã€‚ åˆ†å¸ƒå¼æ—¥å¿—ç³»ç»Ÿæ•°æ®å¾ˆå¤§çš„æ—¶å€™ï¼ŒMQä½œä¸ºåˆ†å¸ƒå¼æ—¥å¿—çš„ç¼“å†²å±‚ï¼Œå…¸åž‹åº”ç”¨å°±æ˜¯ELK+Kafakaã€‚ æ•°æ®åˆ†å‘: ä¸€å¯¹å¤šæˆ–å¹¿æ’­çš„æ¨¡å¼è¿›è¡Œæ•°æ®åˆ†å‘ï¼› æ”¯ä»˜å®ŒæˆåŽï¼Œéœ€è¦åŠæ—¶çš„é€šçŸ¥å­ç³»ç»Ÿï¼ˆè¿›é”€å­˜ç³»ç»Ÿå‘è´§ï¼Œç”¨æˆ·æœåŠ¡ç§¯åˆ†ï¼Œå‘é€çŸ­ä¿¡ï¼‰ åˆ†å¸ƒå¼äº‹åŠ¡: åˆ†å¸ƒå¼æž¶æž„çš„ç³»ç»Ÿå¯ä»¥é€šè¿‡MQçš„é˜Ÿåˆ—æ•°æ®è¿›è¡Œæ•°æ®å›žæ»šæ“ä½œ RabbitMQäº§å“ä»‹ç»RabbitMQäº§å“æ‰“å¼€RabbitMQå®˜ç½‘é¦–é¡µï¼Œèƒ½çœ‹åˆ°å¦‚ä¸‹çš„ä¸€å¥è¯: RabbitMQ is the most widely deployed open source message broker. ç¿»è¯‘ä¸ºï¼šRabbitMQæ˜¯éƒ¨ç½²æœ€å¹¿æ³›çš„å¼€æºæ¶ˆæ¯ä»£ç†ã€‚ RabbitMQæ˜¯ä¸€ä¸ªErlangå¼€å‘çš„AMQPï¼ˆAdvanced Message Queuing Protocol ï¼‰çš„å¼€æºå®žçŽ°ã€‚AMQP çš„å‡ºçŽ°å…¶å®žä¹Ÿæ˜¯åº”äº†å¹¿å¤§äººæ°‘ç¾¤ä¼—çš„éœ€æ±‚ï¼Œè™½ç„¶åœ¨åŒæ­¥æ¶ˆæ¯é€šè®¯çš„ä¸–ç•Œé‡Œæœ‰å¾ˆå¤šå…¬å¼€æ ‡å‡†ï¼ˆå¦‚ Cobarï¼‰çš„ IIOP ï¼Œæˆ–è€…æ˜¯ SOAP ç­‰ï¼‰ï¼Œä½†æ˜¯åœ¨å¼‚æ­¥æ¶ˆæ¯å¤„ç†ä¸­å´ä¸æ˜¯è¿™æ ·ï¼Œåªæœ‰å¤§ä¼ä¸šæœ‰ä¸€äº›å•†ä¸šå®žçŽ°ï¼ˆå¦‚å¾®è½¯çš„ MSMQ ï¼ŒIBM çš„ WebSphere MQ ç­‰ï¼‰ï¼Œå› æ­¤ï¼Œåœ¨ 2006 å¹´çš„ 6 æœˆï¼ŒCisco ã€Red Hatã€iMatix ç­‰è”åˆåˆ¶å®šäº† AMQP çš„å…¬å¼€æ ‡å‡†ã€‚ RabbitMQç”±RabbitMQ Technologies Ltdå¼€å‘å¹¶ä¸”æä¾›å•†ä¸šæ”¯æŒçš„ã€‚è¯¥å…¬å¸åœ¨2010å¹´4æœˆè¢«SpringSourceï¼ˆVMwareçš„ä¸€ä¸ªéƒ¨é—¨ï¼‰æ”¶è´­ã€‚åœ¨2013å¹´5æœˆè¢«å¹¶å…¥Pivotalã€‚å…¶å®žVMwareï¼ŒPivotalå’ŒEMCæœ¬è´¨ä¸Šæ˜¯ä¸€å®¶çš„ã€‚ä¸åŒçš„æ˜¯ï¼ŒVMwareæ˜¯ç‹¬ç«‹ä¸Šå¸‚å­å…¬å¸ï¼Œè€ŒPivotalæ˜¯æ•´åˆäº†EMCçš„æŸäº›èµ„æºï¼ŒçŽ°åœ¨å¹¶æ²¡æœ‰ä¸Šå¸‚ã€‚ RabbitMQäº§å“ç‰¹æ€§ å¼€æºå…è´¹ï¼› å¯ä¼¸ç¼©æ€§ï¼šé›†ç¾¤æœåŠ¡ï¼› æ¶ˆæ¯æŒä¹…åŒ–ï¼šä»Žå†…å­˜æŒä¹…åŒ–æ¶ˆæ¯åˆ°ç¡¬ç›˜ï¼Œå†ä»Žç¡¬ç›˜åŠ è½½åˆ°å†…å­˜ï¼› å¤šè¯­è¨€å¤šå®¢æˆ·ç«¯æ”¯æŒï¼Œæ”¯æŒPythonã€Javaã€Rubyã€PHPã€C#ã€JavaScriptã€Goã€Elixirã€Objective-Cã€Swiftã€Spring AMQPã€‚ RabbitMQå¸¸ç”¨æ¨¡å¼æ‰“å¼€å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬çœ¼å‰ä¸€äº®ï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹6ç§RabbitMQçš„å·¥ä½œæ¨¡å¼ï¼š 1. â€œHello World!â€ The simplest thing that does something Java Spring AMQP 2. Work queues Distributing tasks among workers (the competing consumers pattern) Java Spring AMQP 3. Publish/Subscribe Sending messages to many consumers at once Java Spring AMQP 4. RoutingReceiving messages selectively Java Spring AMQP 5. Topics The simplest thing that does something Java Spring AMQP 6. RPC Request/reply patternexample Java Spring AMQP çœ‹åˆ°ä¸Šè¿°çš„6ç§å·¥ä½œæ¨¡å¼ï¼Œå…¶ä¸­æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨æœ€å¤šçš„æ˜¯å‰5ç§æ¨¡å¼ï¼Œæˆ‘ä»¬åˆ—ä¸€ä¸ªå­¦ä¹ åˆ—è¡¨: ç®€å•æ¨¡å¼: ä¸€ä¸ªç”Ÿäº§è€…ï¼Œä¸€ä¸ªæ¶ˆè´¹è€… Workæ¨¡å¼: ä¸€ä¸ªç”Ÿäº§è€…ï¼Œå¤šä¸ªæ¶ˆè´¹è€…ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…èŽ·å–åˆ°çš„æ¶ˆæ¯å”¯ä¸€ã€‚ è®¢é˜…æ¨¡å¼: ä¸€ä¸ªç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ä¼šè¢«å¤šä¸ªæ¶ˆè´¹è€…èŽ·å–ã€‚ è·¯ç”±æ¨¡å¼: å‘é€æ¶ˆæ¯åˆ°äº¤æ¢æœºå¹¶ä¸”è¦æŒ‡å®šè·¯ç”±key ï¼Œæ¶ˆè´¹è€…å°†é˜Ÿåˆ—ç»‘å®šåˆ°äº¤æ¢æœºæ—¶éœ€è¦æŒ‡å®šè·¯ç”±key Topicæ¨¡å¼: å°†è·¯ç”±é”®å’ŒæŸæ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œæ­¤æ—¶é˜Ÿåˆ—éœ€è¦ç»‘å®šåœ¨ä¸€ä¸ªæ¨¡å¼ä¸Šï¼Œâ€œ#â€åŒ¹é…ä¸€ä¸ªè¯æˆ–å¤šä¸ªè¯ï¼Œâ€œ*â€åªåŒ¹é…ä¸€ä¸ªè¯ã€‚ RPCè¿œç¨‹è°ƒç”¨ï¼šå‡ ä¹Žä¸ç”¨ï¼Œæš‚æ—¶å…ˆä¸è€ƒè™‘ å‚è€ƒèµ„æ–™ RabbitMQå®˜ç½‘å¿«é€Ÿå…¥é—¨æ–‡æ¡£ ã€ŠRabbitMQå®žæˆ˜æŒ‡å—ã€‹æœ±å¿ åŽè‘— ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ— èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ ä¸‹ä¸€ç¯‡ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• MQæ¶ˆæ¯é˜Ÿåˆ—MQæ¦‚è¿°MQåº”ç”¨åœºæ™¯RabbitMQäº§å“ä»‹ç»RabbitMQäº§å“RabbitMQäº§å“ç‰¹æ€§RabbitMQå¸¸ç”¨æ¨¡å¼å‚è€ƒèµ„æ–™ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/2017/12/13/é—­åŒ…/index.html","permalink":"http://ltyeamin.github.io/public/2017/12/13/é—­åŒ…/index.html","excerpt":"","text":"é—­åŒ… | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ é—­åŒ… frontend JavaScript 2017/12/13 æœ¬æ–‡äºŽ714å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ å‡½æ•°ä½œä¸ºè¿”å›žå€¼é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æŽ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æžœå€¼è¿”å›žã€‚æˆ‘ä»¬æ¥å®žçŽ°ä¸€ä¸ªå¯¹Arrayçš„æ±‚å’Œã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ±‚å’Œçš„å‡½æ•°æ˜¯è¿™æ ·å®šä¹‰çš„:123456function sum(arr) &#123; return arr.reduce(function (x, y) &#123; return x + y; &#125;);&#125;sum([1, 2, 3, 4, 5]); // 15 ä½†æ˜¯ï¼Œå¦‚æžœä¸éœ€è¦ç«‹åˆ»æ±‚å’Œï¼Œè€Œæ˜¯åœ¨åŽé¢çš„ä»£ç ä¸­ï¼Œæ ¹æ®éœ€è¦å†è®¡ç®—æ€Žä¹ˆåŠžï¼Ÿå¯ä»¥ä¸è¿”å›žæ±‚å’Œçš„ç»“æžœï¼Œè€Œæ˜¯è¿”å›žæ±‚å’Œçš„å‡½æ•°!12345678function lazy_sum(arr) &#123; var sum = function () &#123; return arr.reduce(function (x, y) &#123; return x + y; &#125;); &#125; return sum;&#125; å½“æˆ‘ä»¬è°ƒç”¨lazy_sum()æ—¶ï¼Œè¿”å›žçš„å¹¶ä¸æ˜¯æ±‚å’Œç»“æžœï¼Œè€Œæ˜¯æ±‚å’Œå‡½æ•°:1var f = lazy_sum([1, 2, 3, 4, 5]); // function sum() è°ƒç”¨å‡½æ•°fæ—¶ï¼Œæ‰çœŸæ­£è®¡ç®—æ±‚å’Œçš„ç»“æžœ:1f(); // 15 åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°lazy_sumä¸­åˆå®šä¹‰äº†å‡½æ•°sumï¼Œå¹¶ä¸”ï¼Œå†…éƒ¨å‡½æ•°sumå¯ä»¥å¼•ç”¨å¤–éƒ¨å‡½æ•°lazy_sumçš„å‚æ•°å’Œå±€éƒ¨å˜é‡ï¼Œå½“lazy_sumè¿”å›žå‡½æ•°sumæ—¶ï¼Œç›¸å…³å‚æ•°å’Œå˜é‡éƒ½ä¿å­˜åœ¨è¿”å›žçš„å‡½æ•°ä¸­ï¼Œè¿™ç§ç§°ä¸ºâ€œé—­åŒ…ï¼ˆClosureï¼‰â€çš„ç¨‹åºç»“æž„æ‹¥æœ‰æžå¤§çš„å¨åŠ›ã€‚è¯·å†æ³¨æ„ä¸€ç‚¹ï¼Œå½“æˆ‘ä»¬è°ƒç”¨lazy_sum()æ—¶ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šè¿”å›žä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå³ä½¿ä¼ å…¥ç›¸åŒçš„å‚æ•°:123var f1 = lazy_sum([1, 2, 3, 4, 5]);var f2 = lazy_sum([1, 2, 3, 4, 5]);f1 === f2; // false f1()å’Œf2()çš„è°ƒç”¨ç»“æžœäº’ä¸å½±å“ã€‚ é—­åŒ…æ³¨æ„åˆ°è¿”å›žçš„å‡½æ•°åœ¨å…¶å®šä¹‰å†…éƒ¨å¼•ç”¨äº†å±€éƒ¨å˜é‡arrï¼Œæ‰€ä»¥ï¼Œå½“ä¸€ä¸ªå‡½æ•°è¿”å›žäº†ä¸€ä¸ªå‡½æ•°åŽï¼Œå…¶å†…éƒ¨çš„å±€éƒ¨å˜é‡è¿˜è¢«æ–°å‡½æ•°å¼•ç”¨ï¼Œæ‰€ä»¥ï¼Œé—­åŒ…ç”¨èµ·æ¥ç®€å•ï¼Œå®žçŽ°èµ·æ¥å¯ä¸å®¹æ˜“ã€‚å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„é—®é¢˜æ˜¯ï¼Œè¿”å›žçš„å‡½æ•°å¹¶æ²¡æœ‰ç«‹åˆ»æ‰§è¡Œï¼Œè€Œæ˜¯ç›´åˆ°è°ƒç”¨äº†f()æ‰æ‰§è¡Œã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­:12345678910111213function count() &#123; var arr = []; for (var i=1; i&lt;=3; i++) &#123; arr.push(function () &#123; return i * i; &#125;); &#125; return arr;&#125;var results = count();var f1 = results[0];var f2 = results[1];var f3 = results[2]; åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ¯æ¬¡å¾ªçŽ¯ï¼Œéƒ½åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œç„¶åŽï¼ŒæŠŠåˆ›å»ºçš„3ä¸ªå‡½æ•°éƒ½æ·»åŠ åˆ°ä¸€ä¸ªArrayä¸­è¿”å›žäº†ã€‚ä½ å¯èƒ½è®¤ä¸ºè°ƒç”¨f1()ï¼Œf2()å’Œf3()ç»“æžœåº”è¯¥æ˜¯1ï¼Œ4ï¼Œ9ï¼Œä½†å®žé™…ç»“æžœæ˜¯:123f1(); // 16f2(); // 16f3(); // 16 å…¨éƒ¨éƒ½æ˜¯16ï¼åŽŸå› å°±åœ¨äºŽè¿”å›žçš„å‡½æ•°å¼•ç”¨äº†å˜é‡iï¼Œä½†å®ƒå¹¶éžç«‹åˆ»æ‰§è¡Œã€‚ç­‰åˆ°3ä¸ªå‡½æ•°éƒ½è¿”å›žæ—¶ï¼Œå®ƒä»¬æ‰€å¼•ç”¨çš„å˜é‡iå·²ç»å˜æˆäº†4ï¼Œå› æ­¤æœ€ç»ˆç»“æžœä¸º16ã€‚è¿”å›žé—­åŒ…æ—¶ç‰¢è®°çš„ä¸€ç‚¹å°±æ˜¯ï¼šè¿”å›žå‡½æ•°ä¸è¦å¼•ç”¨ä»»ä½•å¾ªçŽ¯å˜é‡ï¼Œæˆ–è€…åŽç»­ä¼šå‘ç”Ÿå˜åŒ–çš„å˜é‡ã€‚å¦‚æžœä¸€å®šè¦å¼•ç”¨å¾ªçŽ¯å˜é‡æ€Žä¹ˆåŠžï¼Ÿæ–¹æ³•æ˜¯å†åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œç”¨è¯¥å‡½æ•°çš„å‚æ•°ç»‘å®šå¾ªçŽ¯å˜é‡å½“å‰çš„å€¼ï¼Œæ— è®ºè¯¥å¾ªçŽ¯å˜é‡åŽç»­å¦‚ä½•æ›´æ”¹ï¼Œå·²ç»‘å®šåˆ°å‡½æ•°å‚æ•°çš„å€¼ä¸å˜:123456789101112131415161718function count() &#123; var arr = []; for (var i=1; i&lt;=3; i++) &#123; arr.push((function (n) &#123; return function () &#123; return n * n; &#125; &#125;)(i)); &#125; return arr;&#125;var results = count();var f1 = results[0];var f2 = results[1];var f3 = results[2];f1(); // 1f2(); // 4f3(); // 9 æ³¨æ„è¿™é‡Œç”¨äº†ä¸€ä¸ªâ€åˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°å¹¶ç«‹åˆ»æ‰§è¡Œâ€çš„è¯­æ³•:(function (x) { return x * x;})(3); // 9ç†è®ºä¸Šè®²ï¼Œåˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°å¹¶ç«‹åˆ»æ‰§è¡Œå¯ä»¥è¿™ä¹ˆå†™:1function (x) &#123; return x * x &#125; (3); ä½†æ˜¯ç”±äºŽJavaScriptè¯­æ³•è§£æžçš„é—®é¢˜ï¼Œä¼šæŠ¥SyntaxErroré”™è¯¯ï¼Œå› æ­¤éœ€è¦ç”¨æ‹¬å·æŠŠæ•´ä¸ªå‡½æ•°å®šä¹‰æ‹¬èµ·æ¥:1(function (x) &#123; return x * x &#125;) (3); é€šå¸¸ï¼Œä¸€ä¸ªç«‹å³æ‰§è¡Œçš„åŒ¿åå‡½æ•°å¯ä»¥æŠŠå‡½æ•°ä½“æ‹†å¼€ï¼Œä¸€èˆ¬è¿™ä¹ˆå†™:123(function (x) &#123; return x * x;&#125;)(3); è¯´äº†è¿™ä¹ˆå¤šï¼Œéš¾é“é—­åŒ…å°±æ˜¯ä¸ºäº†è¿”å›žä¸€ä¸ªå‡½æ•°ç„¶åŽå»¶è¿Ÿæ‰§è¡Œå—?å½“ç„¶ä¸æ˜¯ï¼é—­åŒ…æœ‰éžå¸¸å¼ºå¤§çš„åŠŸèƒ½ã€‚ä¸¾ä¸ªä¾‹å­ï¼šåœ¨é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡è¯­è¨€é‡Œï¼Œæ¯”å¦‚Javaå’ŒC++ï¼Œè¦åœ¨å¯¹è±¡å†…éƒ¨å°è£…ä¸€ä¸ªç§æœ‰å˜é‡ï¼Œå¯ä»¥ç”¨privateä¿®é¥°ä¸€ä¸ªæˆå‘˜å˜é‡ã€‚åœ¨æ²¡æœ‰classæœºåˆ¶ï¼Œåªæœ‰å‡½æ•°çš„è¯­è¨€é‡Œï¼Œå€ŸåŠ©é—­åŒ…ï¼ŒåŒæ ·å¯ä»¥å°è£…ä¸€ä¸ªç§æœ‰å˜é‡ã€‚æˆ‘ä»¬ç”¨JavaScriptåˆ›å»ºä¸€ä¸ªè®¡æ•°å™¨ï¼š123456789function create_counter(initial) &#123; var x = initial || 0; return &#123; inc: function () &#123; x += 1; return x; &#125; &#125;&#125; å®ƒç”¨èµ·æ¥åƒè¿™æ ·:12345678var c1 = create_counter();c1.inc(); // 1c1.inc(); // 2c1.inc(); // 3var c2 = create_counter(10);c2.inc(); // 11c2.inc(); // 12c2.inc(); // 13 åœ¨è¿”å›žçš„å¯¹è±¡ä¸­ï¼Œå®žçŽ°äº†ä¸€ä¸ªé—­åŒ…ï¼Œè¯¥é—­åŒ…æºå¸¦äº†å±€éƒ¨å˜é‡xï¼Œå¹¶ä¸”ï¼Œä»Žå¤–éƒ¨ä»£ç æ ¹æœ¬æ— æ³•è®¿é—®åˆ°å˜é‡xã€‚æ¢å¥è¯è¯´ï¼Œé—­åŒ…å°±æ˜¯æºå¸¦çŠ¶æ€çš„å‡½æ•°ï¼Œå¹¶ä¸”å®ƒçš„çŠ¶æ€å¯ä»¥å®Œå…¨å¯¹å¤–éšè—èµ·æ¥ã€‚é—­åŒ…è¿˜å¯ä»¥æŠŠå¤šå‚æ•°çš„å‡½æ•°å˜æˆå•å‚æ•°çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œè¦è®¡ç®—xyå¯ä»¥ç”¨Math.pow(x, y)å‡½æ•°ï¼Œä¸è¿‡è€ƒè™‘åˆ°ç»å¸¸è®¡ç®—x2æˆ–x3ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨é—­åŒ…åˆ›å»ºæ–°çš„å‡½æ•°pow2å’Œpow3:1234567891011&apos;use strict&apos;;function make_pow(n) &#123; return function (x) &#123; return Math.pow(x, n); &#125;&#125;// åˆ›å»ºä¸¤ä¸ªæ–°å‡½æ•°:var pow2 = make_pow(2);var pow3 = make_pow(3);console.log(pow2(5)); // 25console.log(pow3(7)); // 343 èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ ç®­å¤´å‡½æ•° ä¸‹ä¸€ç¯‡ é«˜é˜¶å‡½æ•° new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• å‡½æ•°ä½œä¸ºè¿”å›žå€¼é—­åŒ… è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/2017/12/15/ES6æ–°çš„æ•°æ®ç±»åž‹-generator/index.html","permalink":"http://ltyeamin.github.io/public/2017/12/15/ES6æ–°çš„æ•°æ®ç±»åž‹-generator/index.html","excerpt":"","text":"ES6æ–°çš„æ•°æ®ç±»åž‹-generator | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ ES6æ–°çš„æ•°æ®ç±»åž‹-generator frontend JavaScript 2017/12/15 æœ¬æ–‡äºŽ712å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ æ–°çš„æ•°æ®ç±»åž‹-generatorgeneratorï¼ˆç”Ÿæˆå™¨ï¼‰æ˜¯ES6æ ‡å‡†å¼•å…¥çš„æ–°çš„æ•°æ®ç±»åž‹ã€‚ä¸€ä¸ªgeneratorçœ‹ä¸ŠåŽ»åƒä¸€ä¸ªå‡½æ•°ï¼Œä½†å¯ä»¥è¿”å›žå¤šæ¬¡.ES6å®šä¹‰generatoræ ‡å‡†çš„å“¥ä»¬å€Ÿé‰´äº†Pythonçš„generatorçš„æ¦‚å¿µå’Œè¯­æ³•.æˆ‘ä»¬å…ˆå¤ä¹ å‡½æ•°çš„æ¦‚å¿µã€‚ä¸€ä¸ªå‡½æ•°æ˜¯ä¸€æ®µå®Œæ•´çš„ä»£ç ï¼Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°å°±æ˜¯ä¼ å…¥å‚æ•°ï¼Œç„¶åŽè¿”å›žç»“æžœ:1234function foo(x) &#123; return x + x;&#125;var r = foo(1); // è°ƒç”¨fooå‡½æ•° å‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æžœæ²¡æœ‰é‡åˆ°returnè¯­å¥ï¼ˆå‡½æ•°æœ«å°¾å¦‚æžœæ²¡æœ‰returnï¼Œå°±æ˜¯éšå«çš„return undefined;ï¼‰ï¼ŒæŽ§åˆ¶æƒæ— æ³•äº¤å›žè¢«è°ƒç”¨çš„ä»£ç ã€‚generatorè·Ÿå‡½æ•°å¾ˆåƒï¼Œå®šä¹‰å¦‚ä¸‹:12345function* foo(x) &#123; yield x + 1; yield x + 2; return x + 3;&#125; generatorå’Œå‡½æ•°ä¸åŒçš„æ˜¯ï¼Œgeneratorç”±functionå®šä¹‰ï¼ˆæ³¨æ„å¤šå‡ºçš„å·ï¼‰ï¼Œå¹¶ä¸”ï¼Œé™¤äº†returnè¯­å¥ï¼Œè¿˜å¯ä»¥ç”¨yieldè¿”å›žå¤šæ¬¡ã€‚å¤§å¤šæ•°åŒå­¦ç«‹åˆ»å°±æ™•äº†ï¼Œgeneratorå°±æ˜¯èƒ½å¤Ÿè¿”å›žå¤šæ¬¡çš„â€œå‡½æ•°â€ï¼Ÿè¿”å›žå¤šæ¬¡æœ‰å•¥ç”¨ï¼Ÿè¿˜æ˜¯ä¸¾ä¸ªä¾‹å­å§ã€‚æˆ‘ä»¬ä»¥ä¸€ä¸ªè‘—åçš„æ–æ³¢é‚£å¥‘æ•°åˆ—ä¸ºä¾‹ï¼Œå®ƒç”±0ï¼Œ1å¼€å¤´:10 1 1 2 3 5 8 13 21 34 ... è¦ç¼–å†™ä¸€ä¸ªäº§ç”Ÿæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡½æ•°ï¼Œå¯ä»¥è¿™ä¹ˆå†™:12345678910111213141516function fib(max) &#123; var t, a = 0, b = 1, arr = [0, 1]; while (arr.length &lt; max) &#123; [a, b] = [b, a + b]; arr.push(b); &#125; return arr;&#125;// æµ‹è¯•:fib(5); // [0, 1, 1, 2, 3]fib(10); // [0, 1, 1, 2, 3, 5, 8, 13, 21, 34] å‡½æ•°åªèƒ½è¿”å›žä¸€æ¬¡ï¼Œæ‰€ä»¥å¿…é¡»è¿”å›žä¸€ä¸ªArrayã€‚ä½†æ˜¯ï¼Œå¦‚æžœæ¢æˆgeneratorï¼Œå°±å¯ä»¥ä¸€æ¬¡è¿”å›žä¸€ä¸ªæ•°ï¼Œä¸æ–­è¿”å›žå¤šæ¬¡ã€‚ç”¨generatoræ”¹å†™å¦‚ä¸‹:12345678910111213function* fib(max) &#123; var t, a = 0, b = 1, n = 0; while (n &lt; max) &#123; yield a; [a, b] = [b, a + b]; n ++; &#125; return;&#125; ç›´æŽ¥è°ƒç”¨è¯•è¯•:1fib(5); // fib &#123;[[GeneratorStatus]]: &quot;suspended&quot;, [[GeneratorReceiver]]: Window&#125; ç›´æŽ¥è°ƒç”¨ä¸€ä¸ªgeneratorå’Œè°ƒç”¨å‡½æ•°ä¸ä¸€æ ·ï¼Œfib(5)ä»…ä»…æ˜¯åˆ›å»ºäº†ä¸€ä¸ªgeneratorå¯¹è±¡ï¼Œè¿˜æ²¡æœ‰åŽ»æ‰§è¡Œå®ƒã€‚è°ƒç”¨generatorå¯¹è±¡æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€æ˜¯ä¸æ–­åœ°è°ƒç”¨generatorå¯¹è±¡çš„next()æ–¹æ³•:1234567var f = fib(5);f.next(); // &#123;value: 0, done: false&#125;f.next(); // &#123;value: 1, done: false&#125;f.next(); // &#123;value: 1, done: false&#125;f.next(); // &#123;value: 2, done: false&#125;f.next(); // &#123;value: 3, done: false&#125;f.next(); // &#123;value: undefined, done: true&#125; next()æ–¹æ³•ä¼šæ‰§è¡Œgeneratorçš„ä»£ç ï¼Œç„¶åŽï¼Œæ¯æ¬¡é‡åˆ°yield x;å°±è¿”å›žä¸€ä¸ªå¯¹è±¡{value: x, done: true/false}ï¼Œç„¶åŽâ€œæš‚åœâ€ã€‚è¿”å›žçš„valueå°±æ˜¯yieldçš„è¿”å›žå€¼ï¼Œdoneè¡¨ç¤ºè¿™ä¸ªgeneratoræ˜¯å¦å·²ç»æ‰§è¡Œç»“æŸäº†ã€‚å¦‚æžœdoneä¸ºtrueï¼Œåˆ™valueå°±æ˜¯returnçš„è¿”å›žå€¼ã€‚å½“æ‰§è¡Œåˆ°doneä¸ºtrueæ—¶ï¼Œè¿™ä¸ªgeneratorå¯¹è±¡å°±å·²ç»å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œä¸è¦å†ç»§ç»­è°ƒç”¨next()äº†ã€‚ç¬¬äºŒä¸ªæ–¹æ³•æ˜¯ç›´æŽ¥ç”¨for â€¦ ofå¾ªçŽ¯è¿­ä»£generatorå¯¹è±¡ï¼Œè¿™ç§æ–¹å¼ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±åˆ¤æ–­done:123for (var x of fib(10)) &#123; console.log(x); // ä¾æ¬¡è¾“å‡º0, 1, 1, 2, 3, ...&#125; generatorå’Œæ™®é€šå‡½æ•°ç›¸æ¯”ï¼Œæœ‰ä»€ä¹ˆç”¨?å› ä¸ºgeneratorå¯ä»¥åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¤šæ¬¡è¿”å›žï¼Œæ‰€ä»¥å®ƒçœ‹ä¸ŠåŽ»å°±åƒä¸€ä¸ªå¯ä»¥è®°ä½æ‰§è¡ŒçŠ¶æ€çš„å‡½æ•°ï¼Œåˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå†™ä¸€ä¸ªgeneratorå°±å¯ä»¥å®žçŽ°éœ€è¦ç”¨é¢å‘å¯¹è±¡æ‰èƒ½å®žçŽ°çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œç”¨ä¸€ä¸ªå¯¹è±¡æ¥ä¿å­˜çŠ¶æ€ï¼Œå¾—è¿™ä¹ˆå†™:12345678910111213141516171819var fib = &#123; a: 0, b: 1, n: 0, max: 5, next: function () &#123; var r = this.a, t = this.a + this.b; this.a = this.b; this.b = t; if (this.n &lt; this.max) &#123; this.n ++; return r; &#125; else &#123; return undefined; &#125; &#125;&#125;; ç”¨å¯¹è±¡çš„å±žæ€§æ¥ä¿å­˜çŠ¶æ€ï¼Œç›¸å½“ç¹çã€‚generatorè¿˜æœ‰å¦ä¸€ä¸ªå·¨å¤§çš„å¥½å¤„ï¼Œå°±æ˜¯æŠŠå¼‚æ­¥å›žè°ƒä»£ç å˜æˆâ€åŒæ­¥â€ä»£ç ã€‚è¿™ä¸ªå¥½å¤„è¦ç­‰åˆ°åŽé¢å­¦äº†AJAXä»¥åŽæ‰èƒ½ä½“ä¼šåˆ°ã€‚æ²¡æœ‰generatorä¹‹å‰çš„é»‘æš—æ—¶ä»£ï¼Œç”¨AJAXæ—¶éœ€è¦è¿™ä¹ˆå†™ä»£ç :12345678910111213141516ajax(&apos;http://url-1&apos;, data1, function (err, result) &#123; if (err) &#123; return handle(err); &#125; ajax(&apos;http://url-2&apos;, data2, function (err, result) &#123; if (err) &#123; return handle(err); &#125; ajax(&apos;http://url-3&apos;, data3, function (err, result) &#123; if (err) &#123; return handle(err); &#125; return success(result); &#125;); &#125;);&#125;); å›žè°ƒè¶Šå¤šï¼Œä»£ç è¶Šéš¾çœ‹ã€‚æœ‰äº†generatorçš„ç¾Žå¥½æ—¶ä»£ï¼Œç”¨AJAXæ—¶å¯ä»¥è¿™ä¹ˆå†™:123456789try &#123; r1 = yield ajax(&apos;http://url-1&apos;, data1); r2 = yield ajax(&apos;http://url-2&apos;, data2); r3 = yield ajax(&apos;http://url-3&apos;, data3); success(r3);&#125;catch (err) &#123; handle(err);&#125; çœ‹ä¸ŠåŽ»æ˜¯åŒæ­¥çš„ä»£ç ï¼Œå®žé™…æ‰§è¡Œæ˜¯å¼‚æ­¥çš„. èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ ä¸‹ä¸€ç¯‡ ç®­å¤´å‡½æ•° new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• æ–°çš„æ•°æ®ç±»åž‹-generator è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.696Z","updated":"2019-11-27T15:22:16.696Z","comments":true,"path":"public/2019/01/05/GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å°/index.html","permalink":"http://ltyeamin.github.io/public/2019/01/05/GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å°/index.html","excerpt":"","text":"GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° backend JVMåŠå¹¶å‘ç¼–ç¨‹ 2019/01/05 æœ¬æ–‡äºŽ326å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ è°ƒæ•´å †å¤§å°GCè°ƒæ•´çš„ç¬¬ä¸€å ‚è¯¾æ˜¯è°ƒæ•´åº”ç”¨ç¨‹åºå †çš„å¤§å°ã€‚å…³äºŽå †å¤§å°çš„è°ƒæ•´è¿˜æœ‰æ›´é«˜çº§çš„è¯é¢˜ï¼Œä¸è¿‡ä½œä¸ºç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬é¦–å…ˆè®¨è®ºå¦‚ä½•è®¾ç½®æ€»ä½“å †çš„å¤§å°ã€‚ ä¸Žå…¶ä»–çš„æ€§èƒ½é—®é¢˜ä¸€æ ·ï¼Œé€‰æ‹©å †çš„å¤§å°å…¶å®žæ˜¯ä¸€ç§å¹³è¡¡ã€‚å¦‚æžœåˆ†é…çš„å †è¿‡äºŽå°ï¼Œç¨‹åºçš„å¤§éƒ¨åˆ†æ—¶é—´å¯èƒ½éƒ½æ¶ˆè€—åœ¨GCä¸Šï¼Œæ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´åŽ»è¿è¡Œåº”ç”¨ç¨‹åºçš„é€»è¾‘ã€‚ä½†æ˜¯ï¼Œç®€å•ç²—æš´åœ°è®¾ç½®ä¸€ä¸ªç‰¹åˆ«å¤§çš„å †ä¹Ÿä¸æ˜¯è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚ GCåœé¡¿æ¶ˆè€—çš„æ—¶é—´å–å†³äºŽå †çš„å¤§å°ï¼Œå¦‚æžœå¢žå¤§å †çš„ç©ºé—´ï¼Œåœé¡¿çš„æŒç»­æ—¶é—´ä¹Ÿä¼šå˜é•¿ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåœé¡¿çš„é¢‘çŽ‡ä¼šå˜å¾—æ›´å°‘ï¼Œä½†æ˜¯å®ƒä»¬æŒç»­çš„ä¸–ç•Œä¼šè®©ç¨‹åºçš„æ•´ä½“æ€§èƒ½å˜æ…¢ã€‚ ä½¿ç”¨è¶…å¤§å †è¿˜æœ‰å¦ä¸€ä¸ªé£Žé™©ã€‚æ“ä½œç³»ç»Ÿä½¿ç”¨è™šæ‹Ÿå†…å­˜æœºåˆ¶ç®¡ç†æœºå™¨çš„ç‰©ç†å†…å­˜ã€‚ä¸€å°æœºå™¨å¯èƒ½æœ‰8Gçš„ç‰©ç†å†…å­˜ï¼Œä¸è¿‡æ“ä½œç³»ç»Ÿå¯èƒ½è®©ä½ æ„Ÿè§‰æœ‰æ›´å¤šçš„å¯ç”¨å†…å­˜ã€‚è™šæ‹Ÿå†…å­˜çš„æ•°é‡å–å†³äºŽæ“ä½œç³»ç»Ÿçš„è®¾ç½®ï¼Œè­¬å¦‚æ“ä½œç³»ç»Ÿå¯èƒ½è®©ä½ æ„Ÿè§‰åˆ°å®ƒçš„å†…å­˜è¾¾åˆ°äº†16Gã€‚æ“ä½œç³»ç»Ÿåä¸ºâ€äº¤æ¢â€(swappingï¼Œç§°ä¹‹ä¸ºåˆ†é¡µï¼Œè™½ç„¶è¿™ä¸¤è€…åœ¨æŠ€æœ¯ä¸Šå­˜åœ¨ç€å·®å¼‚ï¼Œä½†æ˜¯è¿™äº›å·®å¼‚ï¼Œåœ¨è¿™é‡Œä¸å½±å“æˆ‘ä»¬çš„è®¨è®º)ã€‚ä½ å¯ä»¥è½½å…¥éœ€è¦16GGå†…å­˜çš„åº”ç”¨ç¨‹åºï¼Œæ“ä½œç³»ç»Ÿåœ¨éœ€è¦æ—¶ä¼šå°†ç¨‹åºè¿è¡Œæ—¶ä¸æ´»è·ƒçš„æ•°æ®ç”±å†…å­˜å¤åˆ¶åˆ°ç£ç›˜ã€‚å†æ¬¡éœ€è¿™éƒ¨åˆ†å†…å­˜çš„å†…å®¹æ—¶ï¼Œæ“ä½œç³»ç»Ÿå†å°†å®ƒä»¬ç”±ç£ç›˜é‡æ–°è½½å…¥åˆ°å†…å­˜(ä¸ºäº†è…¾å‡ºç©ºé—´ï¼Œé€šå¸¸å®ƒä¼šå…ˆå°†å¦ä¸€éƒ¨åˆ†å†…å­˜çš„å†…å®¹å¤åˆ¶åˆ°ç£ç›˜)ã€‚ ç³»ç»Ÿä¸­è¿è¡Œç€å¤§é‡ä¸åŒçš„åº”ç”¨ç¨‹åºæ—¶ï¼Œè¿™ä¸ªæµç¨‹å·¥ä½œå¾—å¾ˆä¸é¡ºç•…ï¼Œå› ä¸ºå¤§å¤šæ•°çš„åº”ç”¨ç¨‹åºä¸ä¼šåŒæ—¶å¤„äºŽæ´»è·ƒçŠ¶æ€ã€‚ä½†æ˜¯ï¼Œå¯¹äºŽJavaåº”ç”¨ï¼Œå®ƒå·¥ä½œå¾—å¹¶ä¸æ˜¯å¾ˆå¥½ã€‚å¦‚æžœä¸€ä¸ªJavaåº”ç”¨ä½¿ç”¨äº†è¿™ä¸ªç³»ç»Ÿä¸Šå¤§çº¦12Gçš„å †ï¼Œæ“ä½œç³»ç»Ÿå¯èƒ½åœ¨RAMä¸Šåˆ†é…8Gçš„å †ç©ºé—´ï¼Œå¦å¤–4Gçš„ç©ºé—´å­˜åœ¨äºŽç£ç›˜(è¿™ä¸ªå‡è®¾å¯¹å®žé™…æƒ…å†µè¿›è¡Œäº†ä¸€äº›ç®€åŒ–ï¼Œå› ä¸ºåº”ç”¨ç¨‹åºä¹Ÿä¼šä½¿ç”¨éƒ¨åˆ†çš„RAM)ã€‚JVMä¸ä¼šäº†è§£è¿™äº›ï¼šæ“ä½œç³»ç»Ÿå®Œå…¨å±è”½äº†å†…å­˜äº¤äº’çš„ç»†èŠ‚ã€‚è¿™æ ·ï¼ŒJVMæ„‰å¿«çš„åœ°å¡«æ»¡äº†åˆ†é…ç»™å®ƒçš„12Gå †ç©ºé—´ã€‚ä½†è¿™æ ·å°±å¯¼è‡´äº†ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿéœ€è¦å°†ç›¸å½“ä¸€éƒ¨åˆ†çš„æ•°æ®ç”±ç£ç›˜äº¤æ¢åˆ°å†…å­˜(è¿™æ˜¯ä¸€ä¸ªæ˜‚è´µæ“ä½œçš„å¼€å§‹)ã€‚ æ›´ç³Ÿç³•çš„æ˜¯ï¼Œè¿™ç§åŽŸæœ¬æœŸæœ›ä¸€æ¬¡æ€§çš„å†…å­˜äº¤æ¢æ“ä½œåœ¨Full GCæ—¶ä¸€å®šä¼šå†æ¬¡é‡æ¼”ï¼Œå› ä¸ºJVMå¿…é¡»è®¿é—®æ•´ä¸ªå †çš„å†…å®¹ã€‚å¦‚æžœFull GCæ—¶ç³»ç»Ÿå‘ç”Ÿå†…å­˜äº¤æ¢ï¼Œåœé¡¿æ—¶é—´ä¼šä»¥æ­£å¸¸åœé¡¿æ—¶é—´æ•°ä¸ªé‡çº§çš„æ–¹å¼å¢žé•¿ã€‚ç±»ä¼¼çš„ï¼Œå¦‚æžœä½¿ç”¨Concurrentæ”¶é›†å™¨ï¼ŒåŽå°çº¿ç¨‹åœ¨å›žæ”¶å †æ—¶ï¼Œå®ƒçš„é€Ÿåº¦ä¹Ÿå¯èƒ½ä¼šè¢«æ‹–æ…¢ï¼Œå› ä¸ºéœ€è¦ç­‰å¾…ä»Žè£åˆ¤å¤åˆ¶æ•°æ®åˆ°å†…å­˜ï¼Œç»“æžœå¯¼è‡´å‘ç”Ÿä»£ä»·æ˜‚è´µçš„å¹¶å‘æ¨¡å¼å¤±æ•ˆã€‚ å› æ­¤ï¼Œè°ƒæ•´å †å¤§å°æ—¶é¦–è¦çš„åŽŸåˆ™å°±æ˜¯æ°¸è¿œä¸è¦å°†å †çš„å®¹é‡è®¾ç½®å¾—æ¯”æœºå™¨çš„ç‰©ç†å†…å­˜è¿˜å¤§ã€‚å¦å¤–ï¼Œå¦‚æžœåŒä¸€å°æœºå™¨ä¸Šè¿è¡Œç€å¤šä¸ªJVMå®žä¾‹ï¼Œè¿™ä¸ªåŽŸåˆ™é€‚ç”¨äºŽæ‰€æœ‰å †çš„æ€»å’Œã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜éœ€è¦ä¸ºJVMè‡ªèº«ä»¥åŠæœºå™¨ä¸Šå…¶ä»–çš„åº”ç”¨ç¨‹åºé¢„ç•™ä¸€éƒ¨åˆ†çš„å†…å­˜ç©ºé—´ï¼šé€šå¸¸æƒ…å†µä¸‹ï¼Œå¯¹äºŽæ™®é€šçš„æ“ä½œç³»ç»Ÿï¼Œåº”è¯¥é¢„ç•™è‡³å°‘1Gçš„å†…å­˜ç©ºé—´ã€‚ å †çš„å¤§å°ç”±2ä¸ªå‚æ•°å€¼æŽ§åˆ¶ï¼šåˆ†åˆ«æ˜¯åˆå§‹å€¼(é€šè¿‡-Xms Nè®¾ç½®)å’Œæœ€å¤§å€¼(é€šè¿‡ -Xmx Nè®¾ç½®)ã€‚é»˜è®¤å€¼çš„è°ƒèŠ‚å–å†³äºŽå¤šä¸ªå› ç´ ï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿç±»åž‹ã€ç³»ç»Ÿå†…å­˜å¤§å°ã€ä½¿ç”¨çš„JVMã€‚å…¶ä»–çš„å‘½ä»¤æ ‡å¿—ä¹Ÿä¼šå¯¹è¯¥å€¼é€ æˆå½±å“ï¼Œå †å¤§å°çš„è°ƒèŠ‚æ˜¯JVmè‡ªé€‚åº”è°ƒä¼˜çš„æ ¸å¿ƒã€‚ JVMçš„ç›®æ ‡æ˜¯ä¸€å¥ç³»ç»Ÿå¯ç”¨çš„èµ„æºæƒ…å†µæ‰¾åˆ°ä¸€ä¸ªâ€åˆç†çš„â€é»˜è®¤åˆå§‹åŒ–å€¼ï¼Œå½“ä¸”ä»…å½“åº”ç”¨ç¨‹åºéœ€è¦æ›´å¤šçš„å†…å­˜(ä¾æ®åžƒåœ¾å›žæ”¶æ—¶æ¶ˆè€—çš„æ—¶é—´æ¥å†³å®š)æ—¶å°†å †çš„å¤§å°å¢žå¤§åˆ°ä¸€ä¸ªåˆç†çš„æœ€å¤§å€¼ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼ŒJVMçš„é«˜çº§è°ƒä¼˜æ ‡å¿—ä»¥åŠè°ƒä¼˜ç»†èŠ‚éƒ½æ²¡æœ‰æåŠã€‚ä¸ºäº†è®©å¤§å®¶æœ‰ä¸ªæ„Ÿæ€§çš„è®¤è¯†ï¼Œæˆ‘ä»¬åˆ—å‡ºäº†å †å¤§å°çš„é»˜è®¤æœ€å¤§å€¼å’Œæœ€å°å€¼ä¾›å¤§å®¶å‚è€ƒï¼Œå‚è§å¦‚ä¸‹è¡¨ã€‚(ä¸ºäº†ä½¿å†…å­˜å¯¹é½ï¼ŒJVMä¼šå¯¹è¿™äº›å€¼è¿›è¡Œåœ†æ•´æ“ä½œï¼›æ‰€ä»¥GCæ—¥å¿—ä¸­è¾“å‡ºçš„å¤§å°å¯èƒ½ä¸Žè¡¨ä¸­ç»™å‡ºçš„å€¼å¹¶ä¸å®Œå…¨ä¸€è‡´)ã€‚ æ“ä½œç³»ç»ŸåŠJVMç±»åž‹ åˆå§‹å †å¤§å°(Xms) æœ€å¤§å †å¤§å°(Xmx) Linux/Solaris,32ä½å®¢æˆ·ç«¯ 16MB 256MB Linux/Solaris,32ä½å®¢æˆ·ç«¯ 64MB å–1GBå’Œç‰©ç†å†…å­˜å¤§å°1/4äºŒè€…ä¸­çš„æœ€å°å€¼ Linux/Solaris,32ä½å®¢æˆ·ç«¯ å–512MBå’Œç‰©ç†å†…å­˜å¤§å°1/64äºŒè€…ä¸­çš„æœ€å°å€¼ å–32GBå’Œç‰©ç†å†…å­˜å¤§å°1/4äºŒè€…ä¸­çš„æœ€å°å€¼ MacOSï¼Œ64ä½æœåŠ¡å™¨åž‹JVM 64MB(æ•°æ®æœ‰è¯¯,åº”è¯¥æ˜¯256MB) å–1GBå’Œç‰©ç†å†…å­˜å¤§å°1/4äºŒè€…ä¸­çš„æœ€å°å€¼ Windowsï¼Œ32ä½å®¢æˆ·ç«¯JVM 16MB 256MB Windowsï¼Œ64ä½æœåŠ¡ç«¯JVM 64MB å–1GBå’Œç‰©ç†å†…å­˜å¤§å°1/4äºŒè€…ä¸­çš„æœ€å°å€¼ å¦‚æžœæœºå™¨çš„ç‰©ç†å†…å­˜å°‘äºŽ192MBï¼Œæœ€å¤§å †çš„å¤§å°ä¼šæ˜¯ç‰©ç†å†…å­˜çš„ä¸€åŠ(å¤§çº¦96MBï¼Œæˆ–æ›´å°‘)ã€‚ å †å¤§å°å…·æœ‰åˆå§‹å€¼å’Œæœ€å¤§å€¼çš„è¿™ç§è®¾è®¡è®©JVMèƒ½å¤Ÿæ ¹æ®å®žé™…çš„è´Ÿè·æƒ…å†µæ›´çµæ´»åœ°è°ƒæ•´JVMçš„è¡Œä¸ºã€‚å¦‚æžœJVMå‘çŽ°ä½¿ç”¨åˆå§‹çš„å †å¤§å°ï¼Œé¢‘ç¹åœ°å‘ç”ŸGCï¼Œå®ƒå°±ä¼šå°è¯•å¢žå¤§å †çš„ç©ºé—´ï¼Œç›´åˆ°JVMçš„GCçš„é¢‘çŽ‡å›žå½’åˆ°æ­£å¸¸çš„èŒƒå›´ï¼Œæˆ–ç›´åˆ°å †å¤§å°å¢žå¤§åˆ°å®ƒçš„ä¸Šé™å€¼ã€‚ å¯¹å¾ˆå¤šåº”ç”¨æ¥è¯´ï¼Œè¿™æ„å‘³ç€å †çš„å¤§å°ä¸å†éœ€è¦è°ƒæ•´äº†ï¼Œå®žé™…ä¸Šï¼Œä½ åªéœ€è¦ä¸ºä½ é€‰æ‹©çš„GCç®—æ³•è®¾å®šæ€§èƒ½ç›®æ ‡ï¼šè­¬å¦‚ä½ èƒ½å¿å—çš„åœé¡¿çš„æŒç»­æ—¶é—´ã€ä½ æœŸæœ›åžƒåœ¾å›žæ”¶åœ¨æ•´ä¸ªæ—¶é—´ä¸­æ‰€å ç”¨çš„ç™¾åˆ†æ¯”ç­‰ã€‚ å¦‚æžœåº”ç”¨ç¨‹åºåœ¨GCæ—¶æ¶ˆè€—äº†å¤ªé•¿çš„æ—¶é—´ï¼Œä½ å¾ˆæœ‰å¯èƒ½éœ€è¦ä½¿ç”¨-Xmxæ ‡å¿—å¢žå¤§å †çš„å¤§å°ã€‚é€‰æ‹©ä»€ä¹ˆæ ·çš„å¤§å°æ²¡æœ‰ä¸€ä¸ªç¡¬æ€§çš„æˆ–ç®€å•çš„è§„åˆ™ã€‚ä¸€ä¸ªç»éªŒæ³•åˆ™æ˜¯å®ŒæˆFull GCåŽï¼Œåº”è¯¥é‡Šæ”¾å‡º70%çš„ç©ºé—´(30%çš„ç©ºé—´ä»ç„¶å ç”¨)ã€‚ æ³¨æ„ï¼Œå³ä½¿ä½ æ˜¾ç¤ºåœ°è®¾ç½®äº†å †çš„æœ€å¤§å®¹é‡ï¼Œè¿˜æ˜¯ä¼šå‘ç”Ÿå †çš„è‡ªåŠ¨è°ƒèŠ‚ï¼šåˆå§‹æ—¶å †ä»¥é»˜è®¤çš„å¤§å°å¼€å§‹è¿è¡Œï¼Œä¸ºäº†è¾¾åˆ°æ ¹æ®åžƒåœ¾æ”¶é›†ç®—æ³•è®¾ç½®çš„æ€§èƒ½ç›®æ ‡ï¼ŒJVMä¼šé€æ­¥å¢žå¤§å †çš„å¤§å°ã€‚å°†å †çš„å¤§å°è®¾ç½®å¾—æ¯”å®žé™…éœ€è¦æ›´å¤§ä¸ä¸€å®šä¼šå¸¦æ¥æ€§èƒ½æŸè€—ï¼šå †å¹¶ä¸ä¼šæ— é™åœ°å¢žå¤§ï¼ŒJVMä¼šè°ƒèŠ‚å †çš„å¤§å°ç›´åˆ°å…¶æ»¡è¶³GCçš„æ€§èƒ½ç›®æ ‡ã€‚ å¦ä¸€æ–¹é¢ï¼Œå¦‚æžœä½ ç¡®åˆ‡åœ°äº†è§£åº”ç”¨ç¨‹åºéœ€è¦å¤šå¤§çš„å †ï¼Œé‚£ä¹ˆä½ å¯ä»¥å°†å †çš„åˆå§‹åŒ–å’Œæœ€å¤§å€¼è®¾ç½®ä¸€è‡´æ•°å€¼(è­¬å¦‚ï¼š-Xms1024M -Xmx1024M)ã€‚è¿™ç§è®¾ç½®èƒ½ç¨å¾®æé«˜GCçš„è¿è¡Œæ•ˆçŽ‡ï¼Œå› ä¸ºå®ƒä¸å†éœ€è¦ä¼°ç®—å †æ˜¯å¦éœ€è¦è°ƒæ•´å¤§å°ã€‚ å †å†…å­˜çº é”™åœ¨ä¸Šè¿°è¡¨æˆ‘ä»¬çŸ¥é“äº†ä¸åŒæ“ä½œç³»ç»Ÿã€ä¸åŒJVMã€ä¸åŒç‰©ç†å†…å­˜çš„é»˜è®¤å †å¤§å°ã€‚ä½†æ˜¯å®žé™…ä¸Šï¼ŒMac OSè¿™ä¸ªæ•°æ®æœ‰é—®é¢˜çš„ã€‚æˆ‘çš„Mac Pro 2013çš„é…ç½®ç‰©ç†å†…å­˜æ˜¯16Gã€64ä½çš„JVMã€‚ ä¸‹é¢ä¸¤ä¸ªå‘½ä»¤ç”¨äºŽæŸ¥çœ‹å½“å‰JREé»˜è®¤çš„å †å¤§å°ï¼Œè¯¥æ–¹æ³•é€‚ç”¨äºŽJava 6u20ä»¥åŠä¹‹åŽç‰ˆæœ¬ã€‚ 1234567891011121314151617181920# ä½¿ç”¨-serverYeamin:~ mac$ java -server -XX:+UnlockDiagnosticVMOptions -XX:+PrintFlagsFinal -version | grep -i heapsize uintx ErgoHeapSizeLimit = 0 &#123;product&#125; uintx HeapSizePerGCThread = 87241520 &#123;product&#125; uintx InitialHeapSize := 268435456 &#123;product&#125; uintx LargePageHeapSizeThreshold = 134217728 &#123;product&#125; uintx MaxHeapSize := 4294967296 &#123;product&#125;java version \"1.8.0_192\"Java(TM) SE Runtime Environment (build 1.8.0_192-b12)Java HotSpot(TM) 64-Bit Server VM (build 25.192-b12, mixed mode)# ä½¿ç”¨-clientYeamin:~ mac$ java -client -XX:+UnlockDiagnosticVMOptions -XX:+PrintFlagsFinal -version | grep -i heapsize uintx ErgoHeapSizeLimit = 0 &#123;product&#125; uintx HeapSizePerGCThread = 87241520 &#123;product&#125; uintx InitialHeapSize := 268435456 &#123;product&#125; uintx LargePageHeapSizeThreshold = 134217728 &#123;product&#125; uintx MaxHeapSize := 4294967296 &#123;product&#125;java version \"1.8.0_192\"Java(TM) SE Runtime Environment (build 1.8.0_192-b12)Java HotSpot(TM) 64-Bit Server VM (build 25.192-b12, mixed mode) æŸ¥çœ‹ç»“æžœï¼Œæˆ‘ä»¬å‘çŽ°ï¼ŒMac OSä¸­clientå’Œserveræ¨¡å¼çš„åˆå§‹åŒ–å †å¤§å°æ˜¯268435456(å³268435456/1024/1024=256M=ç‰©ç†å†…å­˜16G \\ 1024 \\ 1/64)ã€‚æˆ‘ä»¬å‘çŽ°å®žé™…ä¸Šè¿™ä¸ªè¡¨ä¸­æ•°æ®æ˜¯æœ‰è¯¯çš„ã€‚ å…¶å®žä¸ä»…ä»…æ˜¯Mac OSï¼ŒWindows 64ä½ä¹Ÿæ˜¯è¿™æ ·çš„ã€‚ æ€»ç»“ å †åˆ†é…è¿‡å°ï¼Œç¨‹åºå¤§éƒ¨åˆ†æ—¶é—´æ¶ˆè€—åœ¨GCä¸Šã€‚å †åˆ†é…è¿‡å¤§ï¼ŒGCåœé¡¿æ—¶é—´åŠ é•¿ï¼Œåœé¡¿é¢‘çŽ‡å‡å°‘ï¼Œä½¿å¾—ç¨‹åºæ€§èƒ½æ•´å¤©ä¸‹é™ã€‚ JVMä¸åƒæ˜¯ç‰©ç†å†…å­˜ä¸€æ ·å¯ä»¥ä½¿ç”¨äº¤äº’/åˆ†é¡µæŠ€æœ¯ã€‚è®¡ç®—æœºæ˜¯ç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜ç»“åˆä½¿ç”¨ï¼Œç¨‹åºä¸­è¿è¡Œä¸æ´»è·ƒçš„æ•°æ®å¤åˆ¶åˆ°è™šæ‹Ÿå†…å­˜(ç£ç›˜)ï¼Œè€ŒJVMå®Œå…¨æ²¡æœ‰è¿™ç§å†…å­˜äº¤æ¢ç»†èŠ‚ï¼Œåˆ†é…å¤šå°‘Gå°±æ˜¯å¤šå°‘Gã€‚ ä¸åŒæ“ä½œç³»ç»Ÿã€ä¸åŒå¤§å°ç‰©ç†å†…å­˜ã€ä¸åŒJVMçš„é»˜è®¤å †å¤§å°æœ‰æ‰€å·®å¼‚ã€‚ä½†æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„éƒ½æ˜¯64ä½çš„JVMï¼Œå¸¸ç”¨çš„åˆå§‹åŒ–å †å¤§å°æ˜¯ç‰©ç†å†…å­˜çš„1/64,å¸¸ç”¨çš„æœ€å¤§å †å¤§å°ä¸ºç‰©ç†å†…å­˜çš„1/4ã€‚ å †çš„åˆå§‹åŒ–å¤§å°å’Œæœ€å¤§å †å¤§å°ç”±-Xms:Nå’Œ-Xmx:Nä¸¤ä¸ªå‚æ•°æ¥æŽ§åˆ¶ã€‚å…¶ä¸­Nè¡¨ç¤ºå­˜å‚¨å¤§å°ï¼Œé»˜è®¤ä¸ºMBä¸ºåŸºæœ¬å•ä½ã€‚ æ¯æ¬¡GCçš„æ—¶å€™ä¼šåŠ¨æ€è°ƒæ•´å †çš„å¤§å°ã€‚è‹¥é»˜è®¤ç©ºä½™å †å†…å­˜å°äºŽ40%æ—¶ï¼ŒJVMä¼šåŠ¨æ€å°†å †å†…å­˜å¢žå¤§åˆ°-Xmxæœ€å¤§é™åˆ¶ã€‚è‹¥é»˜è®¤ç©ºä½™å †å†…å­˜å°äºŽ40%æ—¶ï¼ŒJVMä¼šåŠ¨æ€å°†å †å†…å­˜å‡å°‘åˆ°-Xmsæœ€å°é™åˆ¶ã€‚å› æ­¤æˆ‘ä»¬ä¸€èˆ¬è®¾ç½®-Xmså’Œ-Xmxç›¸ç­‰ï¼Œé¿å…åœ¨æ¯æ¬¡GCåŽè°ƒæ•´å †çš„å¤§å°ã€‚ é™¤éžåº”ç”¨ç¨‹åºéœ€è¦æ¯”é»˜è®¤å€¼æ›´å¤§çš„å †ï¼Œå¦åˆ™åœ¨è¿›è¡Œè°ƒä¼˜æ—¶ï¼Œå°½é‡è€ƒè™‘é€šè¿‡GCç®—æ³•çš„æ€§èƒ½ç›®æ ‡ï¼Œè€Œéžå¾®è°ƒå †çš„å¤§å°æ¥æ”¹å–„ç¨‹åºæ€§èƒ½ã€‚ å‚è€ƒæ–‡çŒ® ã€ŠJavaæ€§èƒ½æƒå¨æŒ‡å—ã€‹ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get ä¸‹ä¸€ç¯‡ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• è°ƒæ•´å †å¤§å°å †å†…å­˜çº é”™æ€»ç»“å‚è€ƒæ–‡çŒ® è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:36.250Z","updated":"2020-01-08T13:06:36.173Z","comments":true,"path":"public/2018/06/18/å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿/index.html","permalink":"http://ltyeamin.github.io/public/2018/06/18/å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿/index.html","excerpt":"","text":"å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ ops å®žç”¨å·¥å…·åŠæŠ€å·§ 2018/06/18 æœ¬æ–‡äºŽ527å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ åœ¨å¹³å¸¸ç”Ÿæ´»æˆ–å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¼ è¾“æ–‡ä»¶ï¼Œæ¯”å¦‚å°†ç”µè„‘ä¸Šä¸‹è½½çš„Appä¼ é€åˆ°æ‰‹æœºæˆ–å¦ä¸€å°PCä¸Šã€åŒäº‹ä¹‹é—´ä¼ è¾“ä¸€äº›å¤§åž‹çš„æ–‡ä»¶ã€‚å½“æˆ‘ä»¬é‡åˆ°æ­¤ç±»é—®é¢˜æ—¶ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ä½¿ç”¨QQæˆ–è€…å¾®ä¿¡ï¼Œæ›´æ·±ä¸€å±‚ï¼ŒåŽ»ç½‘ä¸Šæœç´¢ä¸€äº›æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œå¦‚Send Anywhereï¼ŒLZå½“æ—¶åœ¨å¤§å­¦æ—¶å€™ç»å¸¸ä½¿ç”¨çš„æ˜¯FTPã€SambaæœåŠ¡ã€‚ä½†æ˜¯è¿™äº›ç¬¬ä¸‰æ–¹è¦ä¹ˆéƒ½æ˜¾å¾—å¤ªéº»çƒ¦ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œè¦ä¹ˆå°±æ˜¯ä¸å®‰å…¨ï¼Œå®‰å…¨éšæ‚£ä¸»è¦åœ¨æ•°æ®ä¼ è¾“å®‰å…¨ä»¥åŠæ•°æ®å¤‡ä»½ä¸Šä½“çŽ°ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å°†æ–‡ä»¶ä¼ è¾“åˆ°ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ä¸Šï¼Œå†é€šè¿‡éœ€è¦æŽ¥æ”¶æ•°æ®çš„ç”µè„‘æˆ–æ‰‹æœºè¿›è¡Œä¸‹è½½ã€‚ é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰åŠžæ³•ç›´æŽ¥èŽ·å–æ–‡ä»¶ï¼Œè€Œä¸é€šè¿‡è¿™äº›ç¹ççš„æ“ä½œï¼Ÿåœ¨è¿™é‡Œå‘¢ï¼ŒLZç»™å¤§å®¶æŽ¨èå‡ ç§å¸¸è§çš„æ–‡ä»¶å…±äº«æ–¹æ³•ã€‚ æ–‡ä»¶å…±äº«ä¸‹è½½æ–°å§¿åŠ¿æœ€æ–¹ä¾¿çš„Windowsæ–‡ä»¶å…±äº«LZæœ¬äººä¸€å¹´å¤šæ²¡ç”¨è¿‡Windowsç”µè„‘äº†,çŽ°åœ¨å…¬å¸é…ç½®çš„æ˜¯Mac Proï¼Œå®¶ç”¨çš„Lenovo Y430På·²è¢«æ”¹è£…ä¸ºDeepin Linux,ç”±äºŽçŽ°åœ¨æ—¥å¸¸ç”Ÿæ´»ã€å·¥ä½œéƒ½æ˜¯åœ¨éžWindowsæ“ä½œ,æ‰€ä»¥è¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ï¼Œç­‰æœ‰æœºä¼šä¼šæŠŠè¯¦ç»†æ•™ç¨‹åˆ—åˆ°è¿™é‡Œã€‚ Windowsæ–‡ä»¶å…±äº« æœ€ç®€å•çš„Pythonå‘½ä»¤å…±äº«å¤§å®¶éƒ½çŸ¥é“Python2ä¸ŽPython3ä¸å…¼å®¹,ä¸€èˆ¬Linuxå’ŒMac OS Xé»˜è®¤é›†æˆPython2,å› ä¸ºè¿™äº›ç³»ç»Ÿä¸€äº›åº”ç”¨å·¥å…·æ˜¯Python2å¼€å‘çš„ï¼Œæ‰€ä»¥ç³»ç»Ÿåªèƒ½é»˜è®¤Python2ã€‚ Python2çš„æ“ä½œå§¿åŠ¿ 1234Yeamin:book mac$ echo litonglitongYeamin:book mac$ python -m SimpleHTTPServer 8900Serving HTTP on 0.0.0.0 port 8900 ... Python3çš„æ“ä½œå§¿åŠ¿ 12Yeamin:work mac$ python3 -m http.server 8900Serving HTTP on 0.0.0.0 port 8900 (http://0.0.0.0:8900/) ... â€‹ æˆ‘åœ¨æˆ‘çš„Macæˆ–Linuxç»ˆç«¯æ‰§è¡Œç®€å•çš„ä¸Šè¿°ä»»æ„ä¸¤ä¸ªå‘½ä»¤åŽï¼Œå¯åŠ¨ä¸€ä¸ªHTTPæœåŠ¡å™¨ï¼Œæ‰“å¼€æµè§ˆå™¨è¾“å…¥http://127.0.0.1:8900æˆ–http://localhost:8900 åŽå›žå‡ºçŽ°ä¸‹å›¾æ–‡ä»¶å…±äº«çš„åˆ—è¡¨ï¼Œè‹¥å…¶ä»–äººæƒ³ä¸‹è½½å¯ä»¥å°†å±€åŸŸç½‘IPå’Œç«¯å£å·å‘ŠçŸ¥å…¶ä»–äººå³å¯ä¸‹è½½ã€‚åœ¨è¿™ä¸ä»…ä»…å¯ä»¥ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥é¢„è§ˆå¸¸è§æ–‡ä»¶ï¼Œæ¯”å¦‚éŸ³é¢‘ã€è§†é¢‘ã€å›¾ç‰‡ã€PDFã€æ–‡æœ¬æ–‡ä»¶ã€‚ æœ€ä¸“ä¸šçš„NginxæœåŠ¡å…±äº«å¤§å®¶éƒ½çŸ¥é“å•å°çš„Nginx WebæœåŠ¡å™¨å¹¶å‘æ€§èƒ½è¾ƒå¼º,ä¸€èˆ¬åŸºæœ¬éƒ½æ˜¯æ–‡ä»¶å¤šå¹¶å‘å¤§çš„æƒ…å†µä¸‹æ‰ç”¨ï¼Œä¼ä¸šé‡Œä¸€èˆ¬åšè·¯ç”±è½¬å‘ã€è´Ÿè½½å‡è¡¡ã€èµ„æºé™æ€åŒ–ï¼Œè·¯ç”±è½¬å‘æ˜¯ä¸ºäº†å¯¹å¤–ç»Ÿä¸€æš´éœ²ä¸€ä¸ªåœ°å€ï¼Œè´Ÿè½½å‡è¡¡æ˜¯æ ¹æ®æŸç§ç®—æ³•(IP_HASHç»‘å®šç­–ç•¥ã€è½®è¯¢ç­–ç•¥ã€æƒé‡)å°†ä¸åŒçš„è¯·æ±‚åˆ†æ•£åˆ°å¤šå°ä¸šåŠ¡ç›¸åŒçš„æœºå™¨ä¸Šï¼Œèµ„æºé™æ€åŒ–è¿™ä¸ªå¾ˆå¸¸è§ï¼Œä»¥å‰é¡¹ç›®å¤ªå¤§ï¼Œä¼šå°†JS/CSSå•ç‹¬åˆ†ç¦»ï¼Œä½¿å¾—åº”ç”¨ç³»ç»Ÿå‰ç«¯ç»„ä»¶åŠ è½½æ›´å¿«ã€‚ ä¸‹è½½Nginx 1234567891011litong@LT:/media/litong/è½¯ä»¶/programs/tools$ wget -c http://nginx.org/download/nginx-1.15.10.tar.gz--2019-03-31 14:03:53-- http://nginx.org/download/nginx-1.15.10.tar.gzæ­£åœ¨è§£æžä¸»æœº nginx.org (nginx.org)... 62.210.92.35, 95.211.80.227, 2001:1af8:4060:a004:21::e3æ­£åœ¨è¿žæŽ¥ nginx.org (nginx.org)|62.210.92.35|:80... å·²è¿žæŽ¥ã€‚å·²å‘å‡º HTTP è¯·æ±‚ï¼Œæ­£åœ¨ç­‰å¾…å›žåº”... 200 OKé•¿åº¦ï¼š1032228 (1008K) [application/octet-stream]æ­£åœ¨ä¿å­˜è‡³: â€œnginx-1.15.10.tar.gzâ€nginx-1.15.10.tar.gz 100%[===============================&gt;] 1008K 13.4KB/s ç”¨æ—¶ 55s 2019-03-31 14:04:48 (18.4 KB/s) - å·²ä¿å­˜ â€œnginx-1.15.10.tar.gzâ€ [1032228/1032228]) è§£åŽ‹Nginx 1tar -zxvf nginx-1.15.10.tar.gz ç¼–è¯‘Nginx 1cd nginx-1.15.10/ 1./configure 1make 1sudo make install å¯åŠ¨Nginx 12cd /usr/local/nginx/sbin./nginx å¯åŠ¨æˆåŠŸåŽï¼Œè¾“å…¥localhost:80ï¼Œçœ‹æ˜¯å¦å¯åŠ¨æˆåŠŸè¿›å…¥åˆ°index.htmlï¼Œå¦‚ä¸‹å›¾: æŸ¥çœ‹å¯åŠ¨è¿›ç¨‹ å¦‚æžœæ‡’å¾—æ‰“å¼€æµè§ˆå™¨ï¼Œç›´æŽ¥çœ‹è¿›ç¨‹ç¡®è®¤nginxæ˜¯å¦å¯åŠ¨ 12litong@LT:usr/local/nginx/sbin$ ps -ef | grep nginxroot 7017 1 0 11:07 ? 00:00:00 nginx: master process ./nginx é‡è½½Nginx ä¿®æ”¹Nginxçš„é…ç½®æ–‡ä»¶nginx.conf,å¹¶è¿›è¡Œé‡è½½é…ç½®: 12345678910listen 80; #ç«¯å£ server_name localhost; #æœåŠ¡å charset utf-8; # é¿å…ä¸­æ–‡ä¹±ç root /home/litong/Pictures; #æ˜¾ç¤ºçš„æ ¹ç´¢å¼•ç›®å½•ï¼Œæ³¨æ„è¿™é‡Œè¦æ”¹æˆä½ è‡ªå·±çš„ï¼Œç›®å½•è¦å­˜åœ¨ location / &#123; autoindex on; #å¼€å¯ç´¢å¼•åŠŸèƒ½ autoindex_exact_size off; # å…³é—­è®¡ç®—æ–‡ä»¶ç¡®åˆ‡å¤§å°ï¼ˆå•ä½bytesï¼‰ï¼Œåªæ˜¾ç¤ºå¤§æ¦‚å¤§å°ï¼ˆå•ä½kbã€mbã€gbï¼‰ autoindex_localtime on; # æ˜¾ç¤ºæœ¬æœºæ—¶é—´è€Œéž GMT æ—¶é—´ &#125; 1./nginx -s reload åœ¨æµè§ˆå™¨ç«¯è¾“å…¥localhost:80, åˆ™å‡ºçŽ°å¦‚ä¸‹ç•Œé¢: ä¸åŒç»ˆç«¯æ•ˆæžœæ¬£èµ[Pythonå…±äº«]Mac Pro / Mac OS X 10.14.1 Mojave [Nginxå…±äº«]Lenovo Y430P/ Deepin Linux [Pythonå…±äº«]XiaoMi 5X/ Android-MIUI10 [Windowså…±äº«]Lenovo ThinkPad T410/Microsoft Windows 10 å®¶åº­ç‰ˆWindowsåŽç»­å†ä½“éªŒï¼Œæœªå®Œå¾…ç»­ã€‚ã€‚ã€‚ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° ä¸‹ä¸€ç¯‡ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• æ–‡ä»¶å…±äº«ä¸‹è½½æ–°å§¿åŠ¿æœ€æ–¹ä¾¿çš„Windowsæ–‡ä»¶å…±äº«æœ€ç®€å•çš„Pythonå‘½ä»¤å…±äº«æœ€ä¸“ä¸šçš„NginxæœåŠ¡å…±äº«ä¸åŒç»ˆç«¯æ•ˆæžœæ¬£èµ[Pythonå…±äº«]Mac Pro / Mac OS X 10.14.1 Mojave[Nginxå…±äº«]Lenovo Y430P/ Deepin Linux [Pythonå…±äº«]XiaoMi 5X/ Android-MIUI10[Windowså…±äº«]Lenovo ThinkPad T410/Microsoft Windows 10 å®¶åº­ç‰ˆ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:38.876Z","updated":"2020-01-08T13:06:38.778Z","comments":true,"path":"public/2019/03/28/è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ–/index.html","permalink":"http://ltyeamin.github.io/public/2019/03/28/è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ–/index.html","excerpt":"","text":"è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– others æ‚è°ˆ 2019/03/28 LZæ¯å¤©éƒ½è¦æ‰“å¼€å¼€æºä¸­å›½ç½‘ç«™çœ‹çœ‹äº’è”ç½‘ç™¾æ€ï¼Œåœ¨ä»Šå¤©çš„ç½‘ç«™é‡Œï¼Œçœ‹åˆ°äº†ä¸¤ä»¶æœ‰æ„æ€çš„è¶£äº‹: æŠµåˆ¶996åŠ ç­æ–‡åŒ–996.icuï¼Œå¤§å®¶åœ¨996I.ICU GitHubç•…è°ˆè‡ªç”±ã€åæ§½åŠ ç­ æŸç¨‹åºå‘˜åˆ åº“è·‘è·¯åˆ¶ä½œçš„ç½‘ç«™-å®‰å¾½æ±½è½¦ç½‘æ˜¯ç”±ç®€å•çš„å›¾ç‰‡æ˜¾ç¤ºæ‹¼æŽ¥è€Œæˆçš„ã€‚ 996åŠ ç­æ–‡åŒ–æ— è®ºæ˜¯ä¼ ç»Ÿè¡Œä¸šï¼Œè¿˜æ˜¯äº’è”ç½‘è¡Œä¸šï¼ŒçŽ°åœ¨å…¬å¸åŠ ç­æƒ…å†µå¯ä»¥è¯´å¾—æ˜¯å¸ç©ºè§æƒ¯äº†ã€‚å°¤å…¶æ˜¯åœ¨äº’è”ç½‘è¡Œä¸šèƒ½æ›´åŠ ä½“çŽ°å‡ºæ¥ï¼Œæ¯”å¦‚åŽä¸ºã€äº¬ä¸œæœ€ä¸ºå¸¸è§ã€‚åŠ ç­æ–‡åŒ–å·²ç»æˆä¸ºäº†æ™®éçŽ°è±¡ï¼ŒåŠ³åŠ¨æ³•è§„å®šåœ¨å¿…è¦çš„æƒ…å†µä¸‹ï¼Œå…¬å¸å¯ä»¥é€‚å½“å®‰æŽ’ä¸€ä¸‹åŠ ç­ï¼Œå‘˜å·¥éœ€é…åˆï¼Œå…¬å¸æ‰¿è¯ºå¹¶ç»™æ›´å¥½çš„ç¦åˆ©å¾…é‡ã€‚ åœ¨å¤§å…¬å¸é‡Œï¼Œå·¥ä½œå¼ºåº¦å¤§å¾ˆæ­£å¸¸ï¼Œå‘˜å·¥æ—©å·²ä¹ ä»¥ä¸ºå¸¸ï¼Œä¸ä»…ä»…æ„¿æ„æŽ¥å—åŠ ç­ï¼Œè€Œä¸”åŠ ç­åŠ çš„ä¸€èº«çƒ­è¡€ã€‚æˆ‘æƒ³æŽ¥å—çš„åŽŸå› æ˜¯å„ç§ç¦åˆ©å¾…é‡çš„è¯±æƒ‘ã€‚ä½†æ˜¯ä¸­å°åž‹å…¬å¸é‡Œä¸è§å¾—æ˜¯è¿™æ ·å­çš„ï¼Œå¦‚æžœæ™®é€šå…¬å¸éƒ½å’ŒåŽä¸ºã€äº¬ä¸œè¿™æ ·å¤§åž‹å…¬å¸å¾…é‡ä¸€æ ·çš„è¯ï¼Œå¤§å®¶è‚¯å®šå¯¹åŠ ç­çš„ç§¯æžæ€§å¾ˆå¼ºã€‚ æˆ‘æ›¾ç»å…¥èŒçš„ä¸€å®¶å…¬å¸ä¹Ÿå­˜åœ¨çš„996åŠ ç­æ–‡åŒ–ï¼Œå½“æ—¶å…¬å¸ä¸šåŠ¡æ­£å¤„äºŽé«˜é€Ÿå‘å±•æœŸï¼Œæ•´ä¸ªæŠ€æœ¯éƒ¨é—¨ç»å¸¸åŠ ç­ï¼Œå½“æ—¶ç¦åˆ©å¾…é‡æ˜¯æŒ‰æ—¶æ”¯ä»˜åŠ ç­è´¹æ¥å…‘çŽ°çš„ï¼Œå·¥ä½œæ—¥æ™šä¸Š7ç‚¹ç®—åŠ ç­ï¼ŒåŠ ç­è´¹æŒ‰åŠ ç­å°æ—¶ä¹˜ä»¥1å€å†ä¹˜ä»¥å¹³å‡æ—¥è–ªåŽ»ç®—ï¼Œå‘¨æœ«ä»¥åŠæ³•å®šèŠ‚æ—¥åŠ ç­è´¹æŒ‰åŠ ç­å°æ—¶ä¹˜ä»¥1.5å€å†ä¹˜ä»¥å¹³å‡æ—¥è–ªï¼Œå‡¡æ˜¯åŠ ç­è¶…è¿‡3ä¸ªå°æ—¶çš„ï¼Œæœ‰é¤è¡¥ï¼Œè¶…è¿‡4ä¸ªå°æ—¶çš„ï¼Œæœ‰é¤è¡¥è½¦è¡¥ã€‚ æˆ‘ä¸Šå­¦æœŸé—´æ›¾ç»çœ‹è¿‡é©¬å…‹æ€ä¸»ä¹‰å“²å­¦ï¼Œé©¬å…‹æ€ä¸»ä¹‰è®¤ä¸ºä»»ä½•äº‹ç‰©éƒ½æ˜¯ä½œä¸ºçŸ›ç›¾ç»Ÿä¸€ä½“è€Œå­˜åœ¨çš„ï¼ŒçŸ›ç›¾æ˜¯äº‹ç‰©å‘å±•çš„æºæ³‰å’ŒåŠ¨åŠ›ã€‚ç®€è¨€ä¹‹ï¼ŒçŸ›ç›¾å°±æ˜¯å¯¹ç«‹ç»Ÿä¸€ï¼Œä»»ä½•äº‹æƒ…éƒ½æœ‰ä¸¤é¢æ€§ã€‚æŽ¥ä¸‹æ¥æˆ‘ç«™åœ¨ä¸åŒçš„å®¢è§‚è§’åº¦æ¥åˆ†æžä¸€ä¸‹ä¸Šè¿°åŠ ç­æ–‡åŒ–: ç«™åœ¨å‘˜å·¥çš„è§’åº¦ æˆ‘ä»¬ä¸å¯å¦è®¤åŠ ç­ç¡®å®žèƒ½æé«˜å·¥ä½œæ•ˆçŽ‡ï¼Œå…¬å¸éœ€è¦æˆ‘ä»¬åŠ ç­ï¼Œæˆ‘ä»¬ç»ä¸æŽ¨è¾žï¼Œå› ä¸ºæœ‰äº†ç¦åˆ©å¾…é‡çš„ä¿è¯ã€‚ åªè¦æœ‰ç¦åˆ©å¾…é‡ï¼Œå¤§å®¶éƒ½å¾ˆæ„¿æ„åŠ ç­ï¼Œå¦‚æžœæ²¡æœ‰ç¦åˆ©ï¼Œå¤§å®¶å‡ ä¹Žæ˜¯æ²¡æœ‰æ„å‘ä¸»åŠ¨åŠ ç­ï¼Œé™¤éžæœ‰éžå¸¸ç´§æ€¥çš„ä»»åŠ¡æ‰å‹‰å¼ºæŽ¥å—åŠ ç­ã€‚å¦‚æžœæ²¡æœ‰ç¦åˆ©å¾…é‡ï¼Œä½œä¸ºå‘˜å·¥å®æ„¿æé«˜å·¥ä½œæ•ˆçŽ‡ï¼Œä¹Ÿä¸æ„¿æ„åœ¨å…¬å¸è¿›è¡Œæ— å¿åŠ ç­ã€‚ä½†æ˜¯ï¼Œè¯æœ‰è¯´å›žæ¥ï¼Œå¦‚æžœæœ‰ç¦åˆ©å¾…é‡ï¼Œä¸è§å¾—èƒ½å¤Ÿæé«˜å·¥ä½œæ•ˆçŽ‡ã€‚ ç«™åœ¨å…¬å¸çš„è§’åº¦ ä»Žå…¬å¸çš„è§’åº¦ä¸Šæ¥è®²ï¼ŒåŠ ç­å¯ä»¥è®©äººåŠ›èµ„æºåˆç†åˆ†é…ï¼Œä½¿å¾—å…¬å¸å¤§æ­¥å‘å‰è¿ˆã€‚ä½†æ˜¯å®¢è§‚æ¥è®²ï¼Œä¸€èˆ¬å…¬å¸å¤§è‚†å®£æ‰¬åŠ ç­æ–‡åŒ–ï¼Œæœ‰å¯èƒ½å…¬å¸å‡ºçŽ°å¥åº·çŠ¶å†µï¼Œè¿™ä¸ªæ˜¯ç”±åŠ ç­æ•ˆçŽ‡é«˜ä½Žæ¥å†³å®šçš„ï¼ŒåŠ ç­ä¸ä¸€å®šæé«˜æ•ˆçŽ‡ã€‚è¿™å°±å’Œä¸­å›½50å¹´ä»£å¤§è·ƒè¿›èµ¶è‹±è¶…ç¾Žæ€æƒ³ä¸€æ ·ï¼Œå†’è¿›æ€æƒ³ï¼Œå¹¶æ²¡æœ‰ç«‹è¶³çŽ°å®žã€‚ è¿™ä¸ªè®©æˆ‘æƒ³æˆ‘çš„ä¸€ä¸ªåŒäº‹ï¼Œä»–å¹³æ—¶å‡ ä¹Žä¹Ÿä¸æ€Žä¹ˆåŠ ç­ï¼Œåªæœ‰ç´§æ€¥ä»»åŠ¡çš„æ—¶å€™æ‰ä¼šé€‰æ‹©åŠ ç­ã€‚æœ‰ä¸€æ¬¡ä»–çš„Leaderé—®ï¼šå¤§å®¶éƒ½åœ¨åŠ ç­ï¼Œä¸ºä»€ä¹ˆä½ ä¸åŠ ç­ï¼Ÿå®ƒçš„å›žç­”Leaderå¤§åƒä¸€æƒŠï¼Œä»–è¯´ä»–å½“å¤©çš„ä»»åŠ¡å·²ç»å®Œæˆï¼Œåªè¦æŒ‰ç…§é¢„æœŸæ—¶é—´å®Œæˆå°±å¥½ã€‚å¦‚æžœå…¬å¸æŠ€æœ¯æ°›å›´å’ŒBATå¤§åž‹äº’è”ç½‘å…¬å¸ä¸€ä¸ªçº§åˆ«çš„ï¼Œæˆ‘æ›´æ„¿æ„æ— å¿åŠ åˆ°11ç‚¹ã€‚å¦‚æžœæ²¡æœ‰æŠ€æœ¯æ°›å›´ï¼ŒåŠ ç­å¯¹è‡ªèº«æ¥è®²æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯æ”¶èŽ·å’Œèƒ½åŠ›æå‡ã€‚å¹³æ—¶åªéœ€è¦ä¿è¯æ­£å¸¸çš„ä»»åŠ¡æŒ‰ç‚¹å®Œæˆå³å¯ã€‚ä»–çš„Leaderå¬åˆ°åŽä¹Ÿæ— è¯­äº†ï¼Œçž¬é—´è®¤ä¸ºä»–ä¸åˆç¾¤ã€‚ æˆ‘è§‰å¾—ä»»ä½•è€æ¿å’ŒLeaderéƒ½æ²¡æœ‰å¼ºåˆ¶è¦æ±‚åŠ ç­çš„æƒåˆ©ã€‚æˆ‘é‚£ä¸ªåŒäº‹ä½çš„åœ°æ–¹å’Œå…¬å¸å¾ˆè¿œï¼Œæ—¥å¸¸ä¸Šä¸‹ç­ååœ°é“è¦1ä¸ªå°æ—¶å››ååˆ†é’Ÿï¼Œå³ä¾¿æ™šä¸Š6ç‚¹æ•´ä¸‹ç­ï¼Œå›žåŽ»éƒ½å¿«8ç‚¹äº†ã€‚æˆ‘é—®ä»–ä¸ºä»€ä¹ˆä¸ç»™Leaderååº”è¿™ä¸ªé—®é¢˜ï¼Œè®©Leaderä½“è°…ä¸€ä¸‹ã€‚ä»–è¯´ä¸ç”¨ï¼Œä»–å‘çŽ°å¹¶ä¸æ˜¯ä»–ä¸åˆç¾¤ï¼Œè€Œæ˜¯ä¸ä¹ æƒ¯é‚£ç§å…¬å¸æ°›å›´ï¼Œè€æ¿è¦äº§å‡ºè¦åŠ ç­ï¼ŒåŠ ç­æ²¡å¾…é‡ï¼Œé¢†å¯¼ä¹Ÿæ˜¯å¬è€æ¿çš„å©å’ï¼Œå°±è¦æ±‚åŠ ç­ï¼ŒäºŽæ˜¯æ•ˆæžœå¾ˆæ˜Žæ˜¾ï¼Œå¤§å®¶éƒ½æ˜¯ç™½å¤©å¹²å…¶ä»–äº‹æƒ…ï¼Œæ™šä¸Šå¹²æ´»ï¼Œå¦‚æžœæ˜¯æˆ‘çš„è¯ï¼Œæˆ‘ä¹Ÿå—ä¸äº†ï¼Œæ¯•ç«Ÿæˆ‘ä»¬æ­£å¹´è½»ã€‚åŽæ¥æˆ‘åŒäº‹ç¦»èŒäº†ï¼Œæ¢äº†ä¸€å®¶åªæœ‰20äººçš„å¤©ä½¿è½®åˆ›ä¸šåž‹å…¬å¸ï¼Œä»–ç»™æˆ‘è¯´è™½ç„¶å¾ˆç´¯ï¼Œä½†æ˜¯æ¯å¤©å¾ˆå……å®žï¼Œå¯¹æœªæ¥æœ‰äº†æ›´å¥½çš„å¸Œæœ›ã€‚ å¬åˆ°æˆ‘è¿™ä¸ªåŒäº‹çš„æƒ…å†µï¼Œæˆ‘çš„æ€»ç»“æ˜¯ï¼šä½œä¸ºå‘˜å·¥ï¼Œå°½é‡æé«˜ç™½å¤©çš„å·¥ä½œæ•ˆçŽ‡ï¼ŒæŠŠè‡ªå·±çš„å·¥ä½œåšå¥½ï¼Œè‡ªå·±åšçš„ä¸œè¥¿å°½é‡ä¸è¦å‡ºå¤§é—®é¢˜ã€‚å¦‚æžœçœŸçš„æœ‰éœ€è¦åŠ ç­çš„ï¼Œå¬ä»ŽLeaderçš„å®‰æŽ’ï¼Œå¦‚æžœæœ‰ç¦åˆ©å¾…é‡çš„ä¿è¯ï¼Œå¤šä¸ºå…¬å¸äº§å‡ºï¼Œå¦‚æžœæ²¡æœ‰å¾…é‡ï¼Œé€‚å½“å³å¯ï¼Œæ¯•ç«Ÿè‡ªå·±çš„ç¦åˆ©å¾…é‡ä¹Ÿæ˜¯æœ‰å¿…è¦çš„ã€‚ å¤§å…¬å¸æˆ‘å°±ä¸è¯´äº†ï¼Œä¸­å°åž‹å…¬å¸æˆ‘å»ºè®®æŠµåˆ¶996ã€985ä¸è‰¯çš„åŠ ç­æ–‡åŒ–ï¼Œè€Œæå€¡724çš„åŠ ç­æ–‡åŒ–ï¼Œè¿™é‡Œçš„724å¹¶ä¸æ˜¯å…¬å¸è®©å‘˜å·¥æ¯å‘¨å·¥ä½œ7å¤©ï¼Œæ¯æ—¥å·¥ä½œ24å°æ—¶ã€‚è€Œæ˜¯æ— è®ºä»€ä¹ˆæ—¥å­ï¼Œå¦‚æžœæœ‰ç´§æ€¥ä»»åŠ¡ï¼Œ7å¤©ä¸­ï¼Œäº”å¤©åœ¨å…¬å¸æ­£å¸¸ä¸Šç­ï¼Œæœ‰å¿…è¦åŠ ç­å¯ä»¥åœ¨å®¶å®Œæˆå·¥ä½œï¼Œç¦åˆ©å¾…é‡ä¿è¯ï¼Œè¿™æ ·åšä¸€ä¸ªåè°ƒï¼Œé¿å…å¯èƒ½1ä¸ªå°æ—¶è§£å†³çš„é—®é¢˜ï¼Œéžè¦èµ¶å¾€å…¬å¸é€ æˆå¤šä¸ªå°æ—¶åŠ ç­ï¼Œè§£å†³äº†æ•ˆçŽ‡ä½Žçš„é—®é¢˜ï¼Œåœ¨å®¶åŠ ç­ç›¸ä¿¡å¤§éƒ¨åˆ†ç¨‹åºå‘˜ä¼šä¸è®¡è¾ƒé‚£ä¸€ä¸ªå°æ—¶çš„æ—¶é—´ï¼Œå¦‚æžœåŠ ç­æ—¶é—´è¾ƒé•¿ï¼Œå…¬å¸ç»™äºˆç›¸åº”çš„ç¦åˆ©å¾…é‡ï¼Œå³èŠ‚çœäº†å‘˜å·¥è¿”å…¬å¸çš„æ—¶é—´ï¼Œä¹Ÿè§£å†³äº†å®žé™…æ€§é—®é¢˜ã€‚åœ¨è¿™é‡Œï¼Œæœ‰äº›äººå¯èƒ½è´¨ç–‘ï¼Œå› ä¸ºåœ¨å®¶å…·ä½“æ˜¯å¦åšäº‹ï¼Œå…¬å¸å¹¶ä¸çŸ¥æƒ…ï¼Œä½†æ˜¯è¿™ç§æƒ…å†µï¼Œæ˜¯æ°¸è¿œæ— æ³•é¿å…çš„ï¼Œå› ä¸ºè¿™æ˜¯ç¨‹åºå‘˜çš„èŒä¸šæ“ä½œï¼Œæ˜¯ä¸€ä¸ªäººçš„åŸºæœ¬ç´ å…»é—®é¢˜ã€‚å¦‚æžœäººéƒ½æ˜¯è¿™æ ·è‡ªç§è‡ªåˆ©ã€ç¼ºä¹è´£ä»»å¿ƒï¼Œä¹Ÿå°±æ²¡æœ‰å›¢é˜Ÿï¼Œæ›´æ²¡æœ‰æœ‹å‹ï¼Œæˆ‘ç›¸ä¿¡è¿™ç§äººçš„äººç”Ÿä¸ä¼šèµ°çš„æ›´è¿œã€‚ ç¨‹åºå‘˜çš„æŠ±æ€¨å¤§å®¶ç»å¸¸å¬åˆ°ä¸€å¥è¯å°±æ˜¯ï¼šå¹²çš„ä¸çˆ½ï¼Œåˆ åº“è·‘è·¯ã€‚æ¯å¤©å…¨å›½çš„äº’è”ç½‘å…¬å¸éƒ½å¯èƒ½å‘ç”Ÿè¿™æ ·çš„äº‹æƒ…ï¼ŒæŸç¨‹åºå‘˜å› å’Œå…¬å¸äº§ç”Ÿåˆ©ç›Šçº çº·é”æœåŠ¡å™¨ã€åˆ åº“ã€åˆ ä»£ç ã€æ•…æ„æŒ–å‘ã€‚ å‡ºçŽ°è¿™æ ·çš„æƒ…å†µå·²ç»å¸ç©ºè§æƒ¯äº†ã€‚æˆ‘ä½œä¸ºäº’è”ç½‘è¡Œä¸šçš„ä¸€ä»½å­ï¼Œç«™åœ¨æˆ‘çš„è§’åº¦åˆ†æžï¼Œæ¯ä¸ªç¨‹åºå‘˜éƒ½åº”è¯¥æœ‰è‰¯å¥½çš„èŒä¸šæ“å®ˆï¼Œå¦‚æžœçœŸå‡ºçŽ°åˆ©ç›Šçº çº·ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆæ³•çš„æ–¹å¼åŽ»è§£å†³ï¼Œç”¨æ³•å¾‹æ–¹å¼åŽ»ç»´æƒï¼Œå’Œå¹³è§£å†³ï¼Œå°½å¯èƒ½ä¸è¦èµ·ä»»ä½•å†²çªã€‚è¯´åˆ°è¿™é‡Œæœ‰äº›æ—¶å€™é æ³•å¾‹ç¡®å®žæ²¡åŠžæ³•å æ®æœ‰åˆ©åœ°ä½ï¼Œæ¯•ç«Ÿå•äººä¸å¯èƒ½çŽ©è¿‡å…¬å¸çš„ã€‚æˆ‘ä»¬åªèƒ½ä»Žå…¥èŒçš„é‚£ä¸€å¤©å¼€å§‹ï¼Œä»€ä¹ˆçš„ç¦åˆ©å¾…é‡éƒ½å†™åœ¨åˆåŒé‡Œï¼Œè¿™æ‰ç®—æ•°ã€‚å¦‚æžœå› ä¸ºå…¶ä»–åŽŸå› çš„è¯ï¼Œå¤§å¯ä¸å¿…ä¸ºä¹‹æ¼æ€’ï¼Œå› ä¸ºç‰©ä»¥ç±»èšã€äººä»¥ç¾¤åˆ†ï¼Œä¸»åŠ¨ç¦»èŒä¾¿æ˜¯ã€‚ åˆ›ä¸šå…¬å¸å¥½å¤šè€æ¿éƒ½åœ¨ç»™å‘˜å·¥ç”»é¥¼ï¼Œè¿™ç§æ´—è„‘å¼çš„ç”»é¥¼å‘˜å·¥ä»¬è¿˜æ˜¯æ–Ÿé…Œæ–Ÿé…Œã€‚å¯¹è€æ¿è¯´çš„è¯ï¼ŒåŽ»å…¶ç³Ÿç²•ï¼Œå–å…¶ç²¾åŽã€‚åªå¬å¯¹è‡ªå·±æœ‰ç›Šçš„è¯ï¼Œä¹‹æ‰€ä»¥è€æ¿èƒ½å¼€ä¸€ä¸ªå…¬å¸ï¼Œè‚¯å®šæ˜¯åœ¨æŸæ–¹é¢æœ‰ä¸€å®šçš„è¿‡äººä¹‹å¤„ã€‚ å†™åœ¨æœ€åŽçš„ç½‘ç»œæ®µå­ 2019å¹´3æœˆ27æ—¥ï¼Œ996.icué¡¹ç›®ä¸Šçº¿ï¼Œç¬¬äºŒå¤©ï¼Œé¡¹ç›®è¾¾åˆ°3wä¸ªstarï¼Œå°±åœ¨å½“æ—¥ï¼Œå®‰å¾½æ±½è½¦ç½‘çš„å…„å¼Ÿç¬¬ä¸€ä¸ªæ­ç«¿èµ·ä¹‰ï¼Œåˆ åº“è·‘è·¯ï¼Œå²ç§°3.28äº‹ä»¶ï¼ŒåŒå¹´äº”æœˆå·¥ç¨‹å¸ˆä»¬æˆç«‹ååŠ ç­å·¥ä¼šã€‚ 2020å¹´ä¸¤ä¼šæœŸé—´ï¼Œè¿«äºŽç¤¾ä¼šå’ŒååŠ ç­å·¥ä¼šåŽ‹åŠ›ï¼Œå›½å®¶å°†ç¦æ­¢åŠ ç­å†™å…¥å®ªæ³•ã€‚ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° ä¸‹ä¸€ç¯‡ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• 996åŠ ç­æ–‡åŒ–ç¨‹åºå‘˜çš„æŠ±æ€¨å†™åœ¨æœ€åŽçš„ç½‘ç»œæ®µå­ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.697Z","updated":"2019-11-27T15:22:16.697Z","comments":true,"path":"public/2019/09/01/Deepin Linuxå®‰è£…Docker/index.html","permalink":"http://ltyeamin.github.io/public/2019/09/01/Deepin Linuxå®‰è£…Docker/index.html","excerpt":"","text":"Deepin Linuxå®‰è£…Docker | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Deepin Linuxå®‰è£…Docker ops Docker 2019/09/01 æ™®é€šå®‰è£…ä¸€èˆ¬çš„Linux(Debianã€Unbantu)å‘è¡Œç‰ˆå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š 1wget -qO- https://get.docker.com/ | sh ä½†æ˜¯åœ¨Deepinæ‰§è¡Œè¿™å‘½ä»¤ä¼šå®‰è£…å¤±è´¥ã€‚ æŸ¥é˜…èµ„æ–™å¯ä»¥æ‰¾åˆ°dockeræ”¯æŒçš„Linuxå‘è¡Œç‰ˆã€‚ 123456789101112131415161718192021222324252627282930313233343536x86_64-centos-7x86_64-fedora-28x86_64-fedora-29x86_64-debian-jessiex86_64-debian-stretchx86_64-debian-busterx86_64-ubuntu-trustyx86_64-ubuntu-xenialx86_64-ubuntu-bionicx86_64-ubuntu-cosmics390x-ubuntu-xenials390x-ubuntu-bionics390x-ubuntu-cosmicppc64le-ubuntu-xenialppc64le-ubuntu-bionicppc64le-ubuntu-cosmicaarch64-ubuntu-xenialaarch64-ubuntu-bionicaarch64-ubuntu-cosmicaarch64-debian-jessieaarch64-debian-stretchaarch64-debian-busteraarch64-fedora-28aarch64-fedora-29aarch64-centos-7armv6l-raspbian-jessiearmv7l-raspbian-jessiearmv6l-raspbian-stretcharmv7l-raspbian-stretcharmv7l-debian-jessiearmv7l-debian-stretcharmv7l-debian-busterarmv7l-ubuntu-trustyarmv7l-ubuntu-xenialarmv7l-ubuntu-bionicarmv7l-ubuntu-cosmic æŸ¥çœ‹äº†æˆ‘çš„ç³»ç»Ÿçš„ç‰ˆæœ¬ï¼š 123456litong@LT:~$ cat /etc/issueDeepin GNU/Linux 15.10.2 \\n \\llitong@LT:~$ cat /etc/debian_version 9.0litong@LT:~$ uname -r4.15.0-29deepin-generic è¿™é‡Œæˆ‘çš„ç³»ç»Ÿæ˜¯Deepin 15.10.2ï¼Œè€Œæˆ‘çš„Deepin Linuxæ˜¯åŸºäºŽDebian 9.0ï¼Œå³ä¸Šè¿°çš„ç‰ˆæœ¬x86_64-debian-stretchè¿›è¡Œçš„æ·±åº¦å¼€å‘ï¼Œæˆ‘ç³»ç»ŸDebian 9.0æ˜¯sidç‰ˆçš„ï¼Œå¹¶ä¸æ˜¯releaseç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¸æ˜¯dockerå®˜æ–¹è®¤è¯çš„stableç‰ˆæœ¬ï¼Œæ•…ä¸æ”¯æŒDeepin Linuxã€‚ Deepinä¸Šå®‰è£…Docker è‹¥ä»¥å‰å®‰è£…è¿‡æ—§ç‰ˆæœ¬åˆ™å…ˆå¸è½½æ—§ç‰ˆæœ¬ï¼Œå¦‚æ²¡æœ‰å®‰è£…è¿‡ï¼Œåˆ™è·³è¿‡ï¼› 1sudo apt-get remove docker.io docker-engine å®‰è£…docker-ceä¸Žå¯†é’¥ç®¡ç†ä¸Žä¸‹è½½ç›¸å…³ä¾èµ–å·¥å…·ï¼› 1sudo apt-get install apt-transport-https ca-certificates curl python-software-properties software-properties-common ä¸‹è½½å¹¶å®‰è£…å¯†åŒ™å¹¶éªŒè¯ç§˜é’¥ï¼Œè‹¥æˆåŠŸåˆ™è¿”å›žOKï¼› 1curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add - å¦‚æžœä¸æˆåŠŸï¼ˆdockerå®˜æ–¹åœ¨å¢™å¤–ï¼Œéœ€ç§‘å­¦ä¸Šç½‘ï¼‰ï¼Œåˆ™ä½¿ç”¨å›½å†…é•œåƒæºå°†ä¸Šè¿°å‘½ä»¤æ¢æˆ 1curl -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/debian/gpg | sudo apt-key add - éªŒè¯ç§˜é’¥æ˜¯å¦å®‰è£…æˆåŠŸï¼› 123456litong@LT:~$ sudo apt-key fingerprint 0EBFCD88[sudo] litong çš„å¯†ç ï¼špub rsa4096 2017-02-22 [SCEA] 9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88uid [ æœªçŸ¥ ] Docker Release (CE deb) &lt;docker@docker.com&gt;sub rsa4096 2017-02-22 [S] å®‰è£…docker-ceç»„ä»¶ï¼› 1sudo apt-get install docker-ce æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸï¼› 123456789101112131415161718192021222324252627litong@LT:~$ docker versionClient: Docker Engine - Community Version: 19.03.2 API version: 1.40 Go version: go1.12.8 Git commit: 6a30dfca03 Built: Thu Aug 29 05:29:49 2019 OS/Arch: linux/amd64 Experimental: falseServer: Docker Engine - Community Engine: Version: 19.03.2 API version: 1.40 (minimum version 1.12) Go version: go1.12.8 Git commit: 6a30dfca03 Built: Thu Aug 29 05:28:23 2019 OS/Arch: linux/amd64 Experimental: false containerd: Version: 1.2.6 GitCommit: 894b81a4b802e4eb2a91d1ce216b8817763c29fb runc: Version: 1.0.0-rc8 GitCommit: 425e105d5a03fabd737a126ad93d62a9eeede87f docker-init: Version: 0.18.0 GitCommit: fec3683 æ™®é€šç”¨æˆ·è¿è¡Œdocker å®‰è£…dockerå®ŒæˆåŽï¼Œæ™®é€šç”¨æˆ·æ‰§è¡Œdockerå‘½ä»¤æ—¶å€™ï¼Œæœ‰å¯èƒ½ä¼šå‡ºçŽ°é”™è¯¯æç¤ºï¼š 1Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.26/images/json: dial unix /var/run/docker.sock: connect: permission denied é€šè¿‡æŸ¥é˜…èµ„æ–™ï¼Œåœ¨docker mannualæ‰¾åˆ°è§£å†³æ€è·¯ï¼š Manage Docker as a non-root userThe docker daemon binds to a Unix socket instead of a TCP port. By default that Unix socket is owned by the user root and other users can only access it using sudo. The docker daemon always runs as the root user.If you donâ€™t want to use sudo when you use the docker command, create a Unix group called docker and add users to it. When the docker daemon starts, it makes the ownership of the Unix socket read/writable by the docker group. å¤§æ¦‚ç¿»è¯‘äº†ä¸€ä¸‹ï¼Œæ„æ€æ˜¯ï¼šDockerè¿›ç¨‹ä½¿ç”¨Unix Socketè€Œä¸æ˜¯TCPç«¯å£ã€‚è€Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒUnix socketå±žäºŽrootç”¨æˆ·ï¼Œéœ€è¦rootæƒé™æ‰èƒ½è®¿é—®ã€‚ è§£å†³æ–¹æ¡ˆï¼š dockerå®ˆæŠ¤è¿›ç¨‹å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šé»˜è®¤èµ‹äºˆåå­—ä¸ºdockerçš„ç”¨æˆ·ç»„è¯»å†™Unix socketçš„æƒé™ï¼Œå› æ­¤åªè¦åˆ›å»ºdockerç”¨æˆ·ç»„ï¼Œå¹¶å°†å½“å‰ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ä¸­ï¼Œé‚£ä¹ˆå½“å‰ç”¨æˆ·å°±æœ‰æƒé™è®¿é—®Unix socketäº†ï¼Œè¿›è€Œä¹Ÿå°±å¯ä»¥æ‰§è¡Œdockerç›¸å…³å‘½ä»¤ã€‚ æ·»åŠ dockerç”¨æˆ·ç»„ï¼Œè‹¥å·²ç”±dockerç»„åˆ™è·³è¿‡ï¼› 1sudo groupadd docker å°†ç™»é™†ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ä¸­ï¼› 1sudo gpasswd -a $USER docker æ›´æ–°ç”¨æˆ·ç»„ï¼› 1newgrp docker æµ‹è¯•dockerå‘½ä»¤æ˜¯å¦å¯ä»¥ä½¿ç”¨sudoæ­£å¸¸ä½¿ç”¨ã€‚ 1docker ps ä½¿ç”¨é˜¿é‡Œäº‘dockeré•œåƒåŠ é€Ÿ è¿›å…¥é˜¿é‡Œäº‘æŽ§åˆ¶å°ï¼Œé€‰æ‹©å®¹å™¨é•œåƒæœåŠ¡ï¼Œå·¦è¾¹èœå•æœ€ä¸‹æ–¹çš„é•œåƒä¸­å¿ƒ-é•œåƒåŠ é€Ÿå™¨ï¼› æ ¹æ®é˜¿é‡Œäº‘æ“ä½œæ–‡æ¡£é€‰æ‹©ä¸åŒç³»ç»Ÿçš„é•œåƒåŠ é€Ÿå‘½ä»¤ï¼› 12345678sudo mkdir -p /etc/dockersudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'&#123; \"registry-mirrors\": [\"æ›¿æ¢ä½ çš„åŠ é€Ÿå™¨åœ°å€\"]&#125;EOFsudo systemctl daemon-reloadsudo systemctl restart docker èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ Nginxè®¾ç½®é»‘ç™½åå• ä¸‹ä¸€ç¯‡ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• æ™®é€šå®‰è£…Deepinä¸Šå®‰è£…Docker è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.697Z","updated":"2019-11-27T15:22:16.697Z","comments":true,"path":"public/2019/11/02/ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬/index.html","permalink":"http://ltyeamin.github.io/public/2019/11/02/ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬/index.html","excerpt":"","text":"ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ ops å®žç”¨å·¥å…·åŠæŠ€å·§ 2019/11/02 å‰è¨€çŽ°åœ¨åšå®¢çš„å›¾ç‰‡éƒ½æ”¾åœ¨ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ä¸Šé¢ï¼Œä¸ªäººç”¨æˆ·æœ‰å…è´¹10GBçš„å­˜å‚¨ç©ºé—´ã€‚ å› ä¸ºæ¯ä¸€ä¸ªçš„bucketç©ºé—´åˆ†é…ä¸€ä¸ªä¸ƒç‰›äº‘çš„ç©ºé—´åŸŸåï¼Œå¦‚ä¸‹ç¤ºä¾‹ï¼š S3 åŸŸå Endpoint(åŒºåŸŸèŠ‚ç‚¹)ï¼š s3-cn-east-1.qiniucs.com ç©ºé—´åŸŸåï¼š 20191119.s3-cn-east-1.qiniucs.com èžåˆ CDN æµ‹è¯•åŸŸå ä¸ƒç‰›èžåˆ CDN æµ‹è¯•åŸŸåï¼ˆä»¥ clouddn.com/qiniucdn.com/qiniudn.com/qnssl.com/qbox.me ç»“å°¾ï¼‰ï¼Œæ¯ä¸ªåŸŸåæ¯æ—¥é™æ€»æµé‡ 10GBï¼Œæ¯ä¸ªæµ‹è¯•åŸŸåè‡ªåˆ›å»ºèµ· 30 ä¸ªè‡ªç„¶æ—¥åŽç³»ç»Ÿä¼šè‡ªåŠ¨å›žæ”¶ï¼Œä»…ä¾›æµ‹è¯•ä½¿ç”¨å¹¶ä¸”ä¸æ”¯æŒ Https è®¿é—®ï¼Œè¯¦æƒ…æŸ¥çœ‹ ä¸ƒç‰›æµ‹è¯•åŸŸåä½¿ç”¨è§„èŒƒ ã€‚ç‚¹å‡»åŸŸåå¯æŸ¥çœ‹å‰©ä½™å›žæ”¶æ—¶é—´ã€‚ q176n8af9.bkt.clouddn.com ä¸ƒç‰›äº‘å¾ˆå‘çš„ä¸€ç‚¹å°±æ˜¯è¿™ä¸ªæµ‹è¯•åŸŸåæœ‰æ•ˆæœŸæ˜¯30å¤©(éšå£ä¸€è¯´ï¼Œäººå®¶å…è´¹ç»™ä½ çš„10Gå­˜å‚¨å·²ç»å¾ˆä¸é”™äº†)ï¼Œæ‰€ä»¥30å¤©ä»¥åŽåŸŸåä¼šè‡ªåŠ¨è¿‡æœŸï¼Œæ„å‘³ç€é‡Œé¢å­˜å‚¨çš„å›¾ç‰‡ä»¥åŠå¯¹è±¡éƒ½ä¸èƒ½è®¿é—®ã€‚ è§£å†³è¿™ç§é—®é¢˜æœ‰ä¸¤ç§æ–¹æ³•ï¼š ç»‘å®šä¸€ä¸ªå¤‡æ¡ˆçš„åŸŸå(éžå¸¸å»ºè®®)ï¼› ä¼˜ç‚¹ï¼šå¿«é€Ÿå¥½ç®¡ç†ï¼Œåªæœ‰åŸŸåä¸è¿‡æœŸï¼Œç»ˆèº«äº«å—ï¼› ç¼ºç‚¹ï¼šæ¡ä»¶é™åˆ¶æ¯”è¾ƒå¤§ï¼ŒåŸŸåè¦å¤‡æ¡ˆã€‚ åˆ‡æ¢bucketç©ºé—´ï¼Œå³æ–°å»ºä¸€ä¸ªæ–°çš„bucketï¼Œç„¶åŽå°†æ—§çš„bucketè¿ç§»è¿‡åŽ»ã€‚ ä¼˜ç‚¹ï¼šå…è´¹ ç¼ºç‚¹ï¼šéº»çƒ¦ï¼Œæ¯éš”30å¤©è¿ç§»ä¸€æ¬¡ è¿ç§»æˆ‘åªæœ‰å›½å†…çš„åŸŸåï¼šhttp://yeamin.top ã€‚ æˆ‘çš„BlogåŸŸåæ˜¯http://blog.yeamin.top ã€‚ å› ä¸ºæˆ‘ä¸ªäººæ²¡æœ‰æœåŠ¡å™¨ï¼Œä¸»åŸŸåéƒ½æ²¡æœ‰åœ¨å›½å†…å¤‡æ¡ˆï¼Œåœ¨æˆ‘è¿™é‡Œé€‰æ‹©äº†ç¬¬äºŒç§æ–¹å¼ï¼šè¿ç§»ç©ºé—´æ¢å–æ–°çš„bucketå’ŒåŸŸåã€‚ å‡†å¤‡å·¥ä½œæ‰“å¼€ä¸ƒç‰›äº‘å®˜ç½‘ï¼Œç™»å½•è¿›å…¥åˆ°ç®¡ç†æŽ§åˆ¶å°ï¼Œå·¦ä¾§é€‰æ‹©å¯¹è±¡å­˜å‚¨ æ‰¾åˆ°è¦è¿ç§»çš„bucket,å³æºå­˜å‚¨ï¼› æ–°å»ºä¸€ä¸ªbucketï¼Œå³ä¾¿ç›®æ ‡å­˜å‚¨ç©ºé—´ï¼› ä¸‹è½½å¹¶è§£åŽ‹ä¸ƒç‰›äº‘å®˜æ–¹æä¾›çš„åŒæ­¥è¿ç§»å·¥å…·ï¼šhttp://developer.qiniu.com/docs/v6/tools/qshell.htmlï¼› åœ¨å³ä¸Šè§’æ‰¾åˆ°æˆ‘çš„å›¾åƒæ‚¬æµ®å‡ºæ¥èœå•åŽï¼Œé€‰æ‹©ç§˜é’¥ç®¡ç†ï¼Œå‡†å¤‡å¥½AKå’ŒSK(AccessKey/SecretKey)ã€‚ å…·ä½“è¿ç§»å¯ä»¥å‚ç…§ä¸ƒç‰›äº‘çš„è¿ç§»æ–‡æ¡£å¯å®Œæˆè¿ç§»å·¥ä½œï¼Œä½†æ˜¯æˆ‘è§‰å¾—æ¯æ¬¡éƒ½è¿™æ ·ä¸€ä¸ªä¸€ä¸ªè¿™æ ·è¿ç§»å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘ä»Šå¤©æŠ½ç©ºå†™äº†ä¸€æ®µè„šæœ¬åŽ»å¤„ç†è¿ç§»å·¥ä½œã€‚ è„šæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869#!/bin/bash## author: tong.li# description: qshell bucket transfer# date: 2019-11-02 14:45:22#å‡†å¤‡é…ç½®çŽ¯å¢ƒecho \"Prepare Environment...\"if [ ! -x './qshell-windows-x64-v2.4.0' ] then echo \"qshell script file not exist\"fiif [[ !\"$1\" ]]; then echo -n \"please input account:\" read accountfiecho -n 'please input your AK:'read AKecho -n 'please input your SK:'read SKif [[ ! \"$AK\" || ! \"$SK\" ]]; then echo \"AK OR SK is null, please try again\" exit 0fi# å·²æœ‰è´¦æˆ·åˆ—è¡¨rs=`./qshell-windows-x64-v2.4.0 user ls | awk '&#123;print $2&#125;'`if [[ $rs=~$AK &amp;&amp; $rs=~$SK &amp;&amp; $rs=~$account ]]; then echo \"Config OK...\"else echo \"Starting AKã€SK Config...\" ./qshell-windows-x64-v2.4.0 account ak sk namefiecho \"account: $account\"echo \"AK is : $AK\"echo \"SK is: $SK\"if [[ !\"$sourcebucket\" ]]; then echo -n \"please input sourcebucket:\" read sourcebucketfiif [[ !\"$desbucket\" ]]; then echo -n \"please input desbucket:\" read desbucketfi# åˆ—ä¸¾å½“å‰éœ€è¦å¤åˆ¶bucketæ•°æ®./qshell-windows-x64-v2.4.0 listbucket $sourcebucket -o cp.txt# ç”Ÿæˆæ–‡ä»¶åˆ—è¡¨cat cp.txt | awk '&#123;print $1&#125;' &gt; cpp.txtsize=$(du -sb cpp.txt|cut -f1)if [[ size &lt;=0 ]]; then echo \"cpp.txt size is 0KB\" exit 0fi# å¼€å§‹æ‰¹é‡è¿ç§»./qshell-windows-x64-v2.4.0 batchcopy $sourcebucket $desbucket -i cpp.txtif [ $? -eq 0 ]; then echo \"==============transfer bucket From $sourcebucket to $desbucket success==============================\"else echo \"=============================transfer bucket failed,please try again==================================\"fi æ‰§è¡Œè¿ç§» å°†ä¸Šè¿°ä»£ç ä¿å­˜batchcopy.shï¼Œå¹¶èµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼› æ‰§è¡Œ./batchcopy.sh ä½ çš„ä¸ƒç‰›äº‘è´¦æˆ·å ä¹‹åŽæŒ‰è¾“å…¥æç¤ºè¾“å…¥AKã€SKã€æºbucketã€ç›®æ ‡bucketå³å¯å®Œæˆè¿ç§»æ“ä½œã€‚ æ€»ç»“â€‹ ç»å¸¸çœ‹åˆ«äººçš„shellè„šæœ¬ï¼Œè‡ªå·±ä»Žæ¥ä¹Ÿæ²¡å†™è¿‡ï¼Œè¿™æ˜¯æ˜¯ç¬¬ä¸€æ¬¡å†™è„šæœ¬ï¼Œå¤šå°‘å¯èƒ½æœ‰äº›bugã€‚åŽç»­å‘çŽ°äº†ä¼šåŠæ—¶æ›´æ­£ä»–ã€‚æ€»ä¹‹è¿˜æ˜¯å¤šå­¦å¤šå®žè·µä¸€ä¸‹æ²¡åå¤„ã€‚ å‚è€ƒæ–‡æ¡£ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨è¿ç§»æ–‡æ¡£ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è¯¦è§£ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ RocketMQæ¦‚è¿° ä¸‹ä¸€ç¯‡ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• å‰è¨€è¿ç§»å‡†å¤‡å·¥ä½œè„šæœ¬æ‰§è¡Œè¿ç§»æ€»ç»“å‚è€ƒæ–‡æ¡£ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:38.036Z","updated":"2020-01-08T13:06:37.867Z","comments":true,"path":"public/2019/11/08/RocketMQæ¦‚è¿°/index.html","permalink":"http://ltyeamin.github.io/public/2019/11/08/RocketMQæ¦‚è¿°/index.html","excerpt":"","text":"RocketMQæ¦‚è¿° | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ RocketMQæ¦‚è¿° backend RocketMQ 2019/11/08 1. MQä»‹ç»1.1 ä¸ºä»€ä¹ˆè¦ç”¨MQæ¶ˆæ¯é˜Ÿåˆ—æ˜¯ä¸€ç§â€œå…ˆè¿›å…ˆå‡ºâ€çš„æ•°æ®ç»“æž„ å…¶åº”ç”¨åœºæ™¯ä¸»è¦åŒ…å«ä»¥ä¸‹3ä¸ªæ–¹é¢ åº”ç”¨è§£è€¦ ç³»ç»Ÿçš„è€¦åˆæ€§è¶Šé«˜ï¼Œå®¹é”™æ€§å°±è¶Šä½Žã€‚ä»¥ç”µå•†åº”ç”¨ä¸ºä¾‹ï¼Œç”¨æˆ·åˆ›å»ºè®¢å•åŽï¼Œå¦‚æžœè€¦åˆè°ƒç”¨åº“å­˜ç³»ç»Ÿã€ç‰©æµç³»ç»Ÿã€æ”¯ä»˜ç³»ç»Ÿï¼Œä»»ä½•ä¸€ä¸ªå­ç³»ç»Ÿå‡ºäº†æ•…éšœæˆ–è€…å› ä¸ºå‡çº§ç­‰åŽŸå› æš‚æ—¶ä¸å¯ç”¨ï¼Œéƒ½ä¼šé€ æˆä¸‹å•æ“ä½œå¼‚å¸¸ï¼Œå½±å“ç”¨æˆ·ä½¿ç”¨ä½“éªŒã€‚ ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è§£è€¦åˆï¼Œç³»ç»Ÿçš„è€¦åˆæ€§å°±ä¼šæé«˜äº†ã€‚æ¯”å¦‚ç‰©æµç³»ç»Ÿå‘ç”Ÿæ•…éšœï¼Œéœ€è¦å‡ åˆ†é’Ÿæ‰èƒ½æ¥ä¿®å¤ï¼Œåœ¨è¿™æ®µæ—¶é—´å†…ï¼Œç‰©æµç³»ç»Ÿè¦å¤„ç†çš„æ•°æ®è¢«ç¼“å­˜åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç”¨æˆ·çš„ä¸‹å•æ“ä½œæ­£å¸¸å®Œæˆã€‚å½“ç‰©æµç³»ç»Ÿå›žå¤åŽï¼Œè¡¥å……å¤„ç†å­˜åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„è®¢å•æ¶ˆæ¯å³å¯ï¼Œç»ˆç«¯ç³»ç»Ÿæ„ŸçŸ¥ä¸åˆ°ç‰©æµç³»ç»Ÿå‘ç”Ÿè¿‡å‡ åˆ†é’Ÿæ•…éšœã€‚ æµé‡å‰Šå³° åº”ç”¨ç³»ç»Ÿå¦‚æžœé‡åˆ°ç³»ç»Ÿè¯·æ±‚æµé‡çš„çž¬é—´çŒ›å¢žï¼Œæœ‰å¯èƒ½ä¼šå°†ç³»ç»ŸåŽ‹åž®ã€‚æœ‰äº†æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥å°†å¤§é‡è¯·æ±‚ç¼“å­˜èµ·æ¥ï¼Œåˆ†æ•£åˆ°å¾ˆé•¿ä¸€æ®µæ—¶é—´å¤„ç†ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§æåˆ°ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œç”¨æˆ·ä½“éªŒã€‚ ä¸€èˆ¬æƒ…å†µï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œå¦‚æžœç³»ç»Ÿè´Ÿè½½è¶…è¿‡é˜ˆå€¼ï¼Œå°±ä¼šé˜»æ­¢ç”¨æˆ·è¯·æ±‚ï¼Œè¿™ä¼šå½±å“ç”¨æˆ·ä½“éªŒï¼Œè€Œå¦‚æžœä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å°†è¯·æ±‚ç¼“å­˜èµ·æ¥ï¼Œç­‰å¾…ç³»ç»Ÿå¤„ç†å®Œæ¯•åŽé€šçŸ¥ç”¨æˆ·ä¸‹å•å®Œæ¯•ï¼Œè¿™æ ·æ€»ä¸èƒ½ä¸‹å•ä½“éªŒè¦å¥½ã€‚ å¤„äºŽç»æµŽè€ƒé‡ç›®çš„ï¼š ä¸šåŠ¡ç³»ç»Ÿæ­£å¸¸æ—¶æ®µçš„QPSå¦‚æžœæ˜¯1000ï¼Œæµé‡æœ€é«˜å³°æ˜¯10000ï¼Œä¸ºäº†åº”å¯¹æµé‡é«˜å³°é…ç½®é«˜æ€§èƒ½çš„æœåŠ¡å™¨æ˜¾ç„¶ä¸åˆ’ç®—ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å¯¹å³°å€¼æµé‡å‰Šå³° æ•°æ®åˆ†å‘ é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥è®©æ•°æ®åœ¨å¤šä¸ªç³»ç»Ÿæ›´åŠ ä¹‹é—´è¿›è¡Œæµé€šã€‚æ•°æ®çš„äº§ç”Ÿæ–¹ä¸éœ€è¦å…³å¿ƒè°æ¥ä½¿ç”¨æ•°æ®ï¼Œåªéœ€è¦å°†æ•°æ®å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ•°æ®ä½¿ç”¨æ–¹ç›´æŽ¥åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­ç›´æŽ¥èŽ·å–æ•°æ®å³å¯ 1.2 MQçš„ä¼˜ç‚¹å’Œç¼ºç‚¹ä¼˜ç‚¹ï¼šè§£è€¦ã€å‰Šå³°ã€æ•°æ®åˆ†å‘ ç¼ºç‚¹åŒ…å«ä»¥ä¸‹å‡ ç‚¹ï¼š ç³»ç»Ÿå¯ç”¨æ€§é™ä½Ž ç³»ç»Ÿå¼•å…¥çš„å¤–éƒ¨ä¾èµ–è¶Šå¤šï¼Œç³»ç»Ÿç¨³å®šæ€§è¶Šå·®ã€‚ä¸€æ—¦MQå®•æœºï¼Œå°±ä¼šå¯¹ä¸šåŠ¡é€ æˆå½±å“ã€‚ å¦‚ä½•ä¿è¯MQçš„é«˜å¯ç”¨ï¼Ÿ ç³»ç»Ÿå¤æ‚åº¦æé«˜ MQçš„åŠ å…¥å¤§å¤§å¢žåŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼Œä»¥å‰ç³»ç»Ÿé—´æ˜¯åŒæ­¥çš„è¿œç¨‹è°ƒç”¨ï¼ŒçŽ°åœ¨æ˜¯é€šè¿‡MQè¿›è¡Œå¼‚æ­¥è°ƒç”¨ã€‚ å¦‚ä½•ä¿è¯æ¶ˆæ¯æ²¡æœ‰è¢«é‡å¤æ¶ˆè´¹ï¼Ÿæ€Žä¹ˆå¤„ç†æ¶ˆæ¯ä¸¢å¤±æƒ…å†µï¼Ÿé‚£ä¹ˆä¿è¯æ¶ˆæ¯ä¼ é€’çš„é¡ºåºæ€§ï¼Ÿ ä¸€è‡´æ€§é—®é¢˜ Aç³»ç»Ÿå¤„ç†å®Œä¸šåŠ¡ï¼Œé€šè¿‡MQç»™Bã€Cã€Dä¸‰ä¸ªç³»ç»Ÿå‘æ¶ˆæ¯æ•°æ®ï¼Œå¦‚æžœBç³»ç»Ÿã€Cç³»ç»Ÿå¤„ç†æˆåŠŸï¼ŒDç³»ç»Ÿå¤„ç†å¤±è´¥ã€‚ å¦‚ä½•ä¿è¯æ¶ˆæ¯æ•°æ®å¤„ç†çš„ä¸€è‡´æ€§ï¼Ÿ 1.3 RocetMQåŽ†å²åŠå…¶ç‰¹å¾â€‹ é˜¿é‡Œçš„æ¶ˆæ¯ä¸­é—´ä»¶æœ‰å¾ˆé•¿çš„åŽ†å²ï¼Œä»Ž2007å¹´çš„Notifyåˆ°2010å¹´çš„Napoli, 2011å¹´å‡çº§åŽæ”¹ä¸ºMetaQï¼Œç„¶åŽåˆ°2012å¹´å¼€å§‹åšRocketMQ, RocketMQä½¿ç”¨Javaè¯­è¨€å¼€å‘ï¼ŒäºŽ2016å¹´å¼€æºã€‚ç¬¬ä¸€ä»£çš„Notifyä¸»è¦ä½¿ç”¨äº†æŽ¨æ¨¡åž‹ï¼Œè§£å†³äº†äº‹åŠ¡æ¶ˆæ¯ï¼›ç¬¬äºŒä»£çš„MetaQä¸»è¦ä½¿ç”¨äº†æ‹‰æ¨¡åž‹ï¼Œè§£å†³äº†é¡ºåºæ¶ˆæ¯å’Œæµ·é‡å †ç§¯çš„é—®é¢˜ã€‚RocketMQåŸºäºŽé•¿è½®è¯¢çš„æ‹‰å–æ–¹å¼ï¼Œå…¼æœ‰ä¸¤è€…çš„ä¼˜ç‚¹ã€‚â€‹ æ¯ä¸€æ¬¡äº§å“è¿­ä»£ï¼Œéƒ½å¸å–äº†ä¹‹å‰çš„ç»éªŒæ•™è®­ï¼Œç›®å‰RocketMQå·²ç»æˆä¸ºApacheé¡¶çº§é¡¹ç›®ã€‚åœ¨é˜¿é‡Œå†…éƒ¨ï¼ŒRocketMQå¾ˆå¥½åœ°æœåŠ¡äº†é›†å›¢å¤§å¤§å°å°ä¸Šåƒä¸ªåº”ç”¨ï¼Œåœ¨æ¯å¹´çš„åŒåä¸€å½“å¤©ï¼Œæ›´æœ‰ä¸å¯æ€è®®çš„ä¸‡äº¿çº§æ¶ˆæ¯é€šè¿‡RocketMQæµè½¬ï¼ˆåœ¨2017å¹´çš„åŒåä¸€å½“å¤©ï¼Œæ•´ä¸ªé˜¿é‡Œå·´å·´é›†å›¢é€šè¿‡RocketMQæµè½¬çš„çº¿ä¸Šæ¶ˆæ¯è¾¾åˆ°äº†ä¸‡äº¿çº§ï¼Œå³°å€¼TPSè¾¾åˆ°5600ä¸‡ï¼‰ï¼Œåœ¨é˜¿é‡Œå¤§ä¸­å°ç­–ç•¥ä¸Šå‘æŒ¥ç€ä¸¾è¶³è½»é‡çš„ä½œç”¨ã€‚æ­¤å¤–ï¼ŒRocketMQæ˜¯ä½¿ç”¨Javaè¯­è¨€å¼€å‘çš„ï¼Œæ¯”èµ·Kafkaçš„Scalaè¯­è¨€å’ŒRabbitMQçš„Erlangè¯­è¨€ï¼Œæ›´å®¹æ˜“æ‰¾åˆ°æŠ€æœ¯äººå‘˜è¿›è¡Œå®šåˆ¶å¼€å‘ã€‚ ä»ŽRocketMQ Githubä¸»é¡µä¸Šå¯ä»¥æ‰¾åˆ°å¦‚ä¸‹è¡¨è¿°ã€‚ Apache RocketMQ is a distributed messaging and streaming platform with low latency, high performance and reliability, trillion-level capacity and flexible scalability. It offers a variety of features: Pub/Sub messaging model Financial grade transactional message A variety of cross language clients, such as Java, C/C++, Python, Go Pluggable transport protocols, such as TCP, SSL, AIO Inbuilt message tracing capability, also support opentracing Versatile big-data and streaming ecosytem integration Message retroactivity by time or offset Reliable FIFO and strict ordered messaging in the same queue Efficient pull&amp;push consumption model Million-level message accumulation capacity in a single queue Multiple messaging protocols like JMS and OpenMessaging Flexible distributed scale-out deployment architecture Lightning-fast batch message exchange system Various message filter mechanics such as SQL and Tag Docker images for isolated testing and cloud isolated clusters Feature-rich administrative dashboard for configuration, metrics and monitoring Authentication and authorisation å¤§æ¦‚æ„æ€æˆ‘åœ¨è¿™é‡Œç¿»è¯‘ä¸€ä¸‹: â€‹ Apache RocketMQæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ¶ˆæ¯ä¼ é€’å’Œæµåª’ä½“å¹³å°ï¼Œå…·æœ‰ä½Žå»¶è¿Ÿï¼Œé«˜æ€§èƒ½å’Œå¯é æ€§ï¼Œä¸‡äº¿çº§å®¹é‡å’Œçµæ´»çš„å¯ä¼¸ç¼©æ€§ã€‚ å®ƒå…·æœ‰å¤šç§åŠŸèƒ½ï¼š å‘å¸ƒ/è®¢é˜…æ¶ˆæ¯ä¼ é€’æ¨¡åž‹ é‡‘èžçº§äº¤æ˜“æ¶ˆæ¯ å„ç§è·¨è¯­è¨€å®¢æˆ·ç«¯ï¼Œä¾‹å¦‚Javaï¼ŒC / C ++ï¼ŒPythonï¼ŒGo å¯æ’æ‹”çš„ä¼ è¾“åè®®ï¼Œä¾‹å¦‚TCPï¼ŒSSLï¼ŒAIO å†…ç½®çš„æ¶ˆæ¯è·Ÿè¸ªåŠŸèƒ½ï¼Œè¿˜æ”¯æŒå¼€æ”¾å¼è·Ÿè¸ª å¤šåŠŸèƒ½çš„å¤§æ•°æ®å’Œæµç”Ÿæ€ç³»ç»Ÿé›†æˆ æŒ‰æ—¶é—´æˆ–åç§»é‡è¿½æº¯æ¶ˆæ¯ å¯é çš„FIFOå’Œä¸¥æ ¼çš„æœ‰åºæ¶ˆæ¯ä¼ é€’åœ¨åŒä¸€é˜Ÿåˆ—ä¸­ é«˜æ•ˆçš„æŽ¨æ‹‰æ¶ˆè´¹æ¨¡åž‹ å•ä¸ªé˜Ÿåˆ—ä¸­çš„ç™¾ä¸‡çº§æ¶ˆæ¯ç´¯ç§¯å®¹é‡ å¤šç§æ¶ˆæ¯ä¼ é€’åè®®ï¼Œä¾‹å¦‚JMSå’ŒOpenMessaging çµæ´»çš„åˆ†å¸ƒå¼æ¨ªå‘æ‰©å±•éƒ¨ç½²æž¶æž„ å¿«å¦‚é—ªç”µçš„æ‰¹é‡æ¶ˆæ¯äº¤æ¢ç³»ç»Ÿ å¦‚SQLå’ŒTagå„ç§æ¶ˆæ¯è¿‡æ»¤å™¨æœºåˆ¶ ç”¨äºŽéš”ç¦»æµ‹è¯•å’Œäº‘éš”ç¦»ç¾¤é›†çš„Dockeræ˜ åƒ åŠŸèƒ½ä¸°å¯Œçš„ç®¡ç†ä»ªè¡¨æ¿ï¼Œç”¨äºŽé…ç½®ï¼ŒæŒ‡æ ‡å’Œç›‘è§† è®¤è¯ä¸ŽæŽˆæƒç®¡ç† 1.4 å„ç§MQäº§å“çš„æ¯”è¾ƒå¸¸è§çš„MQäº§å“åŒ…æ‹¬Kafkaã€ActiveMQã€RabbitMQã€RocketMQã€‚ 2. æ€»ç»“â€‹ RocketMQåŸºäºŽJavaå¼€å‘çš„ï¼Œå®Œå…¨çš„åˆ†å¸ƒå¼æž¶æž„ï¼ŒAPIç›¸å¯¹æ¯”è¾ƒç®€å•(ç›¸æ¯”RabbitMQ)ï¼Œå®¹æ˜“æŽŒæ¡ï¼Œå¹¶åœ¨é˜¿é‡Œå·´å·´é›†å›¢å†…éƒ¨ç»è¿‡äº†å¤§é‡(åŒ11)çš„å®žè·µï¼Œåˆ†æ€§èƒ½å¼ºæ‚ã€‚å”¯ä¸€ä¸è¶³çš„ä¸€ç‚¹æ˜¯æ–‡æ¡£ç›¸å¯¹ä¸æ˜¯å¾ˆå¤šï¼Œè‹¥èƒ½è·Ÿéšæºç æ·±å…¥äº†è§£å…¶å†…éƒ¨æœºåˆ¶ï¼Œè¿™ä¹Ÿä¸ç®—ç¼ºç‚¹ã€‚ 3. å‚è€ƒæ–‡æ¡£ RocketMQä¸»é¡µ ä¸ºä»€ä¹ˆé€‰æ‹©RocketMQ RocketMQ Github å¸¸è§MQäº§å“å¯¹æ¯” 17ä¸ªæ–¹é¢å¯¹æ¯”ä¸»æµMQå·®å¼‚ RocketæŠ€æœ¯å†…å¹• Rocketå®žæˆ˜ä¸ŽåŽŸç† èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ RocketMQé›†ç¾¤æ­å»º ä¸‹ä¸€ç¯‡ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• 1. MQä»‹ç»1.1 ä¸ºä»€ä¹ˆè¦ç”¨MQ1.2 MQçš„ä¼˜ç‚¹å’Œç¼ºç‚¹1.3 RocetMQåŽ†å²åŠå…¶ç‰¹å¾1.4 å„ç§MQäº§å“çš„æ¯”è¾ƒ2. æ€»ç»“3. å‚è€ƒæ–‡æ¡£ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.696Z","updated":"2019-11-27T15:22:16.696Z","comments":true,"path":"public/2019/11/23/LinuxåŸºç¡€-SSHå…å¯†ç™»å½•/index.html","permalink":"http://ltyeamin.github.io/public/2019/11/23/LinuxåŸºç¡€-SSHå…å¯†ç™»å½•/index.html","excerpt":"","text":"LinuxåŸºç¡€-SSHå…å¯†ç™»å½• | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• ops Linux 2019/11/23 Linux SSHç™»å½•ç”±ä¸¤ç§æ–¹å¼: è´¦æˆ·å¯†ç ç™»å½• å¯†é’¥ç™»å½• æˆ‘æœ‰ä¸¤å°ä¸»æœºï¼Œipåˆ†åˆ«ä¸º192.168.5.1å’Œ192.168.5.100ï¼Œæˆ‘è¦ä»Žå‰è€…è¿œç¨‹ç™»å½•åˆ°åŽè€…ä¸»æœºä¸Šï¼Œä¸‹é¢æˆ‘åˆ†åˆ«æ¥æ¼”ç¤ºä¸€ä¸‹ä¸¤ç§æ–¹å¼: è´¦å·å¯†ç ç™»å½•1ssh root@192.168.5.100 æ³¨æ„ï¼š é»˜è®¤ç«¯å£å·æ˜¯22,å¦‚æžœä¸æ˜¯22éœ€è¦åŠ å…¥-p+ç«¯å£å·è¿›è¡Œç™»å½•ï¼Œæ¯”å¦‚è¿œç¨‹ç™»å½•ç¤ºä¾‹: 123456789101112litong@LT:~$ ssh -p22 root@192.168.5.100root@192.168.5.100's password: Last login: Sat Nov 23 18:34:53 2019 from 192.168.5.1[root@localhost ~]# ifconfig ens33ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet 192.168.5.100 netmask 255.255.255.0 broadcast 192.168.5.255 inet6 fe80::79ad:6fa6:c473:3647 prefixlen 64 scopeid 0x20&lt;link&gt; ether 00:0c:29:b3:a4:0f txqueuelen 1000 (Ethernet) RX packets 281 bytes 40054 (39.1 KiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 211 bytes 37007 (36.1 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 å…¬é’¥å…å¯†ç™»å½• å…ˆåœ¨192.168.5.1è¿™å¤ªæœºå™¨ä¸Šç”Ÿæˆå…¬é’¥ï¼› 1ssh-keygen -t rsa æ‰§è¡Œä¸Šè¿°å‘½ä»¤åŽï¼Œæ•²ä¸‰æ¬¡å›žè½¦å³å¯ç”Ÿæˆï¼Œç”ŸæˆåŽä¼šåœ¨å½“å‰è´¦å·çš„homeçš„.sshç›®å½•ä¸­ã€‚ 12345678910litong@LT:~$ ssh-keygen -t rsaGenerating public/private rsa key pair.Enter file in which to save the key (/home/litong/.ssh/id_rsa): /home/litong/.ssh/id_rsa already exists.Overwrite (y/n)? litong@LT:~$ ls -l ~/.ssh/æ€»ç”¨é‡ 12-rw------- 1 litong litong 1675 9æœˆ 10 22:03 id_rsa-rw-r--r-- 1 litong litong 400 9æœˆ 10 22:03 id_rsa.pub-rw-r--r-- 1 litong litong 2214 11æœˆ 20 21:54 known_hosts â€‹ authorized_keys:å­˜æ”¾è¿œç¨‹å…å¯†ç™»å½•çš„å…¬é’¥,ä¸»è¦é€šè¿‡è¿™ä¸ªæ–‡ä»¶è®°å½•å¤šå°æœºå™¨çš„å…¬é’¥,è¿™ä¸ªæ–‡ä»¶å¯ä»¥æ²¡æœ‰ï¼› id_rsa : ç”Ÿæˆçš„ç§é’¥æ–‡ä»¶ï¼› id_rsa.pub ï¼š ç”Ÿæˆçš„å…¬é’¥æ–‡ä»¶ï¼› know_hosts : å·²çŸ¥çš„ä¸»æœºå…¬é’¥æ¸…å•ã€‚ æ³¨æ„: â€‹ 1). sshç›®å½•çš„æƒé™å¿…é¡»æ˜¯700 â€‹ 2). .ssh/authorized_keysæ–‡ä»¶æƒé™å¿…é¡»æ˜¯600 ç¡®è®¤å…¬é’¥æ–‡ä»¶id_rsa.pubæ˜¯å¦å­˜åœ¨ï¼Œå¹¶æŠŠå…¬é’¥æ–‡ä»¶ä¸Šä¼ åˆ°è¿œç¨‹ç™»å½•çš„æœºå™¨ä¸Šã€‚ å¤åˆ¶æ–‡ä»¶æœ‰å¤šç§æ–¹å¼ï¼š é€šè¿‡ssh-copy-idçš„æ–¹å¼ 1sudo ssh-copy-id -i ~/.ssh/id_rsa.pub 192.168.5.100 é€šè¿‡scpå°†å†…å®¹å†™åˆ°å¯¹æ–¹çš„æ–‡ä»¶ä¸­ 1scp -p ~/.ssh/id_rsa.pub root@192.168.5.100:/root/.ssh/authorized_keys ä¸Šä¼ æˆåŠŸåŽï¼ŒæŸ¥çœ‹è¿œç¨‹ä¸»æœº~/.ssh/authorized_keysæ–‡ä»¶çš„å†…å®¹ï¼Œå…¶ä¸­å†…å®¹åŒ…å«è¦è¿œç¨‹ä¸»æœºçš„å…¬é’¥åˆ™è¯´å—é…ç½®å®Œæˆ 192.168.5.1æœºå™¨å…¬é’¥12litong@LT:~/.ssh$ cat id_rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEeCQP2arzLybGinLvKEgN6cJtINUhDL8uLIwaCJdsv7FbYrBK9R2I01F+pftjiiILCrg0GgwSThAJ7cCxbmriw+D1ZoZdC+MJPONiv4PF9KBWNTGdZ1fLjpEifUI3Aax23TdQqkHs+4+T8zOK2v4MsDgit4nqJheV2I+cXuumPlCONndfr43KxPsGJqAtb8yzkMA20/r8fnnOMbfblDnsAOTGWjC+ond2Eph5AlY2tW+s9JiFBHVawalheqYBVmKlNT3vqVp5IKrnJrIVagN59FKqSOAYTFc/7eR61npGtf0+Ftew137FICGp7F6v4JxjqNuSkxsXsH6+2Z071A3X ltyeamin@gmail.com 192.168.5.100è¿œç¨‹æœºå™¨å…å¯†ç™»å½•å…¬é’¥12root@localhost .ssh]# cat authorized_keys ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEeCQP2arzLybGinLvKEgN6cJtINUhDL8uLIwaCJdsv7FbYrBK9R2I01F+pftjiiILCrg0GgwSThAJ7cCxbmriw+D1ZoZdC+MJPONiv4PF9KBWNTGdZ1fLjpEifUI3Aax23TdQqkHs+4+T8zOK2v4MsDgit4nqJheV2I+cXuumPlCONndfr43KxPsGJqAtb8yzkMA20/r8fnnOMbfblDnsAOTGWjC+ond2Eph5AlY2tW+s9JiFBHVawalheqYBVmKlNT3vqVp5IKrnJrIVagN59FKqSOAYTFc/7eR61npGtf0+Ftew137FICGp7F6v4JxjqNuSkxsXsH6+2Z071A3X ltyeamin@gmail.com å°è¯•å…å¯†ç™»å½•ã€‚ 12litong@LT:~/.ssh$ ssh root@192.168.5.100Last login: Sat Nov 23 19:07:01 2019 from 192.168.5.1 æ€»ç»“ æ—¥å¸¸å·¥ä½œä¸­ï¼Œå…å¯†ç™»å½•ç”¨å¤„ç‰¹åˆ«å¤šï¼Œé¡¹ç›®éƒ¨ç½²çš„æ—¶å€™ä¸Šä¼ æ—¶å€™éœ€è¦å…å¯†ç™»å½•ï¼Œä¸å¯èƒ½å°†å¯†ç åŽŸæ–‡è®¾ç½®åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿™æ ·ç‰¹åˆ«ä¸å®‰å…¨ã€‚ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ Zookeeperé›†ç¾¤æ­å»º ä¸‹ä¸€ç¯‡ RocketMQé›†ç¾¤æ­å»º new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• è´¦å·å¯†ç ç™»å½•å…¬é’¥å…å¯†ç™»å½•192.168.5.1æœºå™¨å…¬é’¥192.168.5.100è¿œç¨‹æœºå™¨å…å¯†ç™»å½•å…¬é’¥æ€»ç»“ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.196Z","updated":"2019-11-27T15:22:16.196Z","comments":true,"path":"public/categories/backend/page/2/index.html","permalink":"http://ltyeamin.github.io/public/categories/backend/page/2/index.html","excerpt":"","text":"åˆ†ç±»: backend | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ backend RabbitMQæ¦‚è¿° &bull; 2018å¹´06æœˆ11æ—¥ ä¹‹æ‰€ä»¥ä»Šå¤©å†™RabbitMQå­¦ä¹ ä¸“æ ï¼Œä¸»è¦æ˜¯å› ä¸ºè‡ªå·±æ²¡æœ‰çœŸæ­£çš„ç³»ç»Ÿå­¦ä¹ è¿‡ã€‚ä¹‹å‰å·¥ä½œç»åŽ†ä¸­éƒ½æ˜¯ä¸ºç”¨MQè€Œç”¨çš„MQï¼Œå¯¹MQæ•´ä¸ªå†…éƒ¨æœºåˆ¶æ²¡æœ‰ä¸€ä¸ªæ·±å…¥çš„äº†è§£å’Œç³»ç»Ÿçš„å­¦ä¹ ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨Spring Cloud Streamæˆ–Spring Cloud Busç»„ä»¶æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šç»å¸¸ç¢°åˆ°MQã€‚MQäº§å“å¸‚é¢ä¸Šæœ‰å¾ˆå¤š... ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ &bull; 2018å¹´06æœˆ10æ—¥ ä»Šå¤©æˆ‘ä»¬æ¥è®¤è¯†ä¸€ä¸‹ï¼Œçº¿ç¨‹æ± çš„é™æ€å·¥åŽ‚Executorsç±»ï¼Œå¹³æ—¶å†™æµ‹è¯•ä»£ç çš„æ—¶å€™å¯ç”¨ä¸€ç”¨ï¼Œç”Ÿäº§ä»£ç å°½é‡å°‘ç”¨ã€‚ä¸ºä»€ä¹ˆè¯´ç”Ÿäº§ä¸Šå°½é‡å°‘ç”¨å‘¢ï¼Ÿè¿™æ˜¯æœ‰åŽŸå› çš„ï¼Œè¯·è€å¿ƒå¬å½¤å“¥è®²è§£ã€‚ é˜¿é‡Œçš„ä»£ç è§„çº¦ä¸å»ºè®®ä½¿ç”¨è¿™æ ·çš„å·¥åŽ‚ç±»ï¼Œè€Œå»ºè®®ä½¿ç”¨æ‰‹åŠ¨åˆ›å»ºå¹¶ç®¡ç†ThreadPoolExecutorï¼Œåœ¨é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œä¸­... ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ &bull; 2018å¹´06æœˆ09æ—¥ ä¸ºäº†é«˜æ•ˆçš„ç®¡ç†çº¿ç¨‹ï¼ŒJDK1.5ç‰ˆæœ¬çš„Doug Leaå¤§ç¥žä¸ºæˆ‘ä»¬è®¾è®¡äº†å¤§åé¼Žé¼Žçš„ThreadPoolExecutorã€‚ ä½œä¸ºExecutoræ¡†æž¶ä¸­æœ€æ ¸å¿ƒçš„ç±»-ThreadPoolExecutorï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ªè°ƒåº¦å·¥å…·ï¼Œä¸ºäº†é«˜æ•ˆæ‰§è¡Œæˆ–è°ƒåº¦ä»»åŠ¡ï¼Œæˆ‘ä»¬éžå¸¸æœ‰å¿…è¦å¯¹è¯¥ç±»çš„å·¥ä½œåŽŸç†ä»¥åŠå†…éƒ¨æœºåˆ¶äº†... ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ &bull; 2018å¹´06æœˆ08æ—¥ çº¿ç¨‹æ± æ˜¯é™åˆ¶ç³»ç»Ÿä¸­æ‰§è¡Œçº¿ç¨‹çš„æ•°é‡ï¼Œå¹¶èƒ½å¤Ÿæ ¹æ®ä¸€å®šçš„ç­–ç•¥å›žæ”¶çº¿ç¨‹å¹¶é‡å¤ä½¿ç”¨ã€‚JDK1.5ä¹‹åŽåŠ å…¥äº†java.util.concurrentåŒ…ï¼Œæˆ‘ä»¬æ—¥å¸¸ç§°ä¹‹ä¸ºJ.U.Cå¹¶å‘åŒ…ï¼Œè¿™ä¸ªåŒ…å¯¹æˆ‘ä»¬æ—¥å¸¸è§£å†³å¹¶å‘æä¾›äº†éžå¸¸å¤§çš„å¸®åŠ©ã€‚ æ ¹æ®ç³»ç»Ÿçš„çŽ¯å¢ƒæƒ…å†µï¼Œå¯ä»¥è‡ªåŠ¨æˆ–æ‰‹åŠ¨è®¾ç½®çº¿ç¨‹æ•°é‡ï¼Œè¾¾åˆ°è¿è¡Œçš„æœ€ä½³æ•ˆæžœï¼›å°‘äº†æµªè´¹... ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ &bull; 2018å¹´06æœˆ03æ—¥ volatileè¿™ä¸ªå…³é”®å­—å¤§å®¶éƒ½å¬è¿‡ï¼Œçœ‹è¿‡è®¸å¤šæºç ä¹Ÿç”¨è¿‡ï¼Œè¿™ä¸ªå…³é”®å­—å¤‡å—äº‰è®®ï¼Œå¾ˆå¤šäººåŸºäºŽè¡¨é¢ç†è§£è€Œå¯¼è‡´åœ¨å®žé™…å¼€å‘è¿‡ç”Ÿä¸­å¤§è‚†è¯¯ç”¨ï¼Œæš´éœ²å‡ºå„å¼å„æ ·çš„é—®é¢˜ï¼Œè®©äººæ‘¸ä¸ç€å¤´è„‘ï¼Œä»Šå¤©æˆ‘ä»¬æ¥å¥½å¥½ç†è§£ä¸€ä¸‹volatileã€‚ ç™¾åº¦ç™¾ç§‘:volatileæ˜¯ä¸€ä¸ªç±»åž‹ä¿®é¥°ç¬¦.volatileçš„ä½œç”¨æ˜¯ä½œä¸ºæŒ‡ä»¤å…³é”®å­—ï¼Œ... ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ &bull; 2018å¹´06æœˆ01æ—¥ ç¡¬ä»¶çš„æ•ˆçŽ‡ä¸Žä¸€è‡´æ€§è®¡ç®—æœºå†…éƒ¨è¿ç®—æµç¨‹ è®¡ç®—æœºæ‰§è¡Œè‹¥å¹²ä¸ªè¿ç®—ä»»åŠ¡ï¼Œæ‰€æœ‰çš„è®¡ç®—ä»»åŠ¡ä¸å¯èƒ½ä»…ä»…é å¤„ç†å™¨â€œè®¡ç®—â€æ¥å®Œæˆï¼Œè®¡ç®—å™¨å­˜å‚¨è®¾å¤‡ä¸Žå¤„ç†å™¨çš„è¿ç®—é€Ÿåº¦æœ‰å‡ ä¸ªæ•°é‡çº§çš„å·®è·ï¼› è‡³å°‘è¦ä¸Žå†…å­˜è¿›è¡Œäº¤äº’ï¼Œå¦‚è¯»å–è¿ç®—æ•°æ®ã€å­˜å‚¨è¿ç®—ç»“æžœï¼Œä¸èƒ½ä»…ä»…é CPUå¯„å­˜å™¨æ¥å®Œæˆ éšç€è®¡ç®—æœºç¡¬ä»¶çš„å¿«é€Ÿå‘å±•ï¼Œä»»ä½•è®¾å¤‡çš„è¯»å†™é€Ÿåº¦è¦... Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† &bull; 2018å¹´05æœˆ24æ—¥ ç™¾å®¶æŠ€æœ¯,è°ˆç¬‘å¤ä»Š.ä»Šå¤©æˆ‘ä»¬ä¸è®²ä¸‰å›½,æˆ‘ä»¬è®²ä¸€è®²å¾®æœåŠ¡ç½‘å…³ä¸­çš„ä¸€äº›ç»†èŠ‚:Zuulè¿‡æ»¤å™¨. Zuulè¿‡æ»¤å™¨Spring Cloudä¸­çš„Zuulä¸ºæˆ‘ä»¬æä¾›äº†ç»Ÿä¸€å¯¹å¤–,è·¯ç”±è½¬å‘å’Œè¿‡æ»¤æ‹¦æˆªçš„å¼ºå¤§åŠŸèƒ½.åœ¨Spring Cloud Zuulä¸­å®žçŽ°çš„è¿‡æ»¤å™¨å¿…é¡»åŒ…å«4ä¸ªåŸºæœ¬ç‰¹å¾:è¿‡æ»¤ç±»åž‹,æ‰§è¡Œé¡ºåº,æ‰§è¡Œæ¡... è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter &bull; 2018å¹´05æœˆ18æ—¥ æˆ‘ä»¬å¯ä»¥æ¨¡ä»¿ä¹‹å‰httpç¼–ç è‡ªåŠ¨é…ç½®çš„ä¾‹å­ä¹Ÿåè®®ä¸€ä¸ªstarter,ç›®çš„æ˜¯ä¸ºäº†é™ä½Žè€¦åˆæ€§.è™½è¯´å¯ä»¥é™ä½Žç¨‹åºä¾èµ–ä¹‹é—´çš„è€¦åˆæ€§,ä½†æ˜¯æˆ‘ä»¬ä¸å»ºè®®è‡ªå·±å®šä¹‰starter,å› ä¸ºSpring Bootæˆ–å…¶ä»–ç¤¾åŒºå·²ç»æä¾›äº†å¤§éƒ¨åˆ†çš„starter,å¯ä»¥æ»¡è¶³æˆ‘ä»¬æ—¥å¸¸çš„éœ€æ±‚.æœ¬ç¯‡åšæ–‡ä¸»è¦ä¸ºäº†è®©å¤§å®¶æ›´å¥½çš„ç†è§£Spr... Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž &bull; 2018å¹´05æœˆ17æ—¥ ç¥žå¥‡é­”æ³•-è‡ªåŠ¨é…ç½®å‰ç¯‡æ–‡ç« è®²è¿°äº†Spring 4 æ¡ä»¶æ³¨è§£,å…¶å®žSpring Bootè‡ªåŠ¨é…ç½®ç¥žå¥‡å®žçŽ°ä¹Ÿæ˜¯åŸºäºŽè¿™ä¸€åŽŸç†çš„.è‹¥æƒ³çŸ¥é“Spring Bootä¸ºæˆ‘ä»¬åšäº†å“ªäº›çš„è‡ªåŠ¨é…ç½®,å¯ä»¥æŸ¥çœ‹è¿™é‡Œçš„æºç .å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼æŸ¥çœ‹é¡¹ç›®ä¸­å·²å¯ç”¨å’Œæœªå¯ç”¨çš„è‡ªåŠ¨é…ç½®æŠ¥å‘Š. è¿è¡Œjaræ—¶å¢žåŠ â€“debugå‚æ•°... Springæ¡ä»¶æ³¨è§£@Conditional &bull; 2018å¹´05æœˆ17æ—¥ @Conditionalæ³¨è§£Spring 4æä¾›äº†ä¸€ä¸ªåŸºäºŽæ¡ä»¶çš„Beançš„åˆ›å»º,å³ä½¿ç”¨@Conditionalæ³¨è§£.@Conditionalæ ¹æ®æ»¡è¶³æŸä¸€ä¸ªç‰¹å®šæ¡ä»¶åˆ›å»ºä¸€ä¸ªç‰¹å®šçš„Bean.æ¯”å¦‚è¯´,å½“æŸä¸€ä¸ªjaråŒ…åœ¨ä¸€ä¸ªç±»è·¯å¾„ä¸‹çš„æ—¶å€™,è‡ªåŠ¨é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªBean;æˆ–è€…åªæœ‰æŸä¸ªBeanè¢«åˆ›å»ºæ‰ä¼šåˆ›å»º... 123 æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.206Z","updated":"2019-11-27T15:22:16.206Z","comments":true,"path":"public/2019/10/12/è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools/index.html","permalink":"http://ltyeamin.github.io/public/2019/10/12/è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools/index.html","excerpt":"","text":"è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools ops å®žç”¨å·¥å…·åŠæŠ€å·§ 2019/10/12 ä¹‹å‰ä¹ æƒ¯äº†Mac Pro çš„Spotlightæ¨¡å¼è¿›è¡Œæ£€ç´¢åº”ç”¨å’Œæ–‡ä»¶ï¼Œåœ¨å‰æ®µæ—¥å­ä¸­ï¼Œæˆ‘æˆåŠŸçš„æ‰¾åˆ°äº†ä¸€æ¬¾Windowsä¸Šç±»ä¼¼çš„è½¯ä»¶Everything+Woxï¼Œä»åœ¨ä½¿ç”¨Windowsçš„æœ‹å‹æœ‰å…´è¶£å¯ä»¥çœ‹æˆ‘é˜…è¯»è¿™è¾¹æ–‡ç« è¿›è¡Œæ“ä½œä½“éªŒã€‚ è¨€å½’æ­£ä¼ ï¼Œæˆ‘åœ¨å®¶ä½¿ç”¨çš„ç”µè„‘ç³»ç»Ÿæ˜¯Deepin Linux,æ›¾ç»ä¹Ÿæƒ³æ‰¾åˆ°è¿™ç§æ¬¾é€Ÿæ£€ç´¢å·¥å…·ï¼Œä½†æ˜¯æ‰¾äº†å¾ˆé•¿æ—¶é—´å´æ²¡æœ‰æ‰¾åˆ°ã€‚ ä»Šå¤©æˆ‘å¶å°”åœ¨æ·±åº¦åº”ç”¨å•†åº—å‘çŽ°ä¸€æ¬¾åå«utoolsçš„è½¯ä»¶ï¼Œç±»ä¼¼äºŽSpotlightæ¨¡å¼ã€‚ äºŽæ˜¯æˆ‘æ‰“å¼€å®˜ç½‘ï¼Œå®˜ç½‘æ˜¯è¿™æ ·ä»‹ç»çš„ï¼š ä½ çš„ç”Ÿäº§åŠ›å·¥å…·é›†uToolsæ˜¯ä¸€ä¸ªæžç®€ã€æ’ä»¶åŒ–ã€è·¨å¹³å°çš„çŽ°ä»£æ¡Œé¢è½¯ä»¶ã€‚é€šè¿‡è‡ªç”±é€‰é…ä¸°å¯Œçš„æ’ä»¶ï¼Œæ‰“é€ ä½ å¾—å¿ƒåº”æ‰‹çš„å·¥å…·é›†åˆã€‚å½“ä½ ç†Ÿæ‚‰å®ƒåŽï¼Œèƒ½å¤Ÿä¸ºä½ èŠ‚çº¦å¤§é‡æ—¶é—´ï¼Œè®©ä½ å¯ä»¥æ›´åŠ ä¸“æ³¨åœ°æ”¹å˜ä¸–ç•Œã€‚ uToolsæ˜¯è·¨å¹³å°çš„è½¯ä»¶,åŒæ—¶æ”¯æŒWindowsã€Macã€Linuxç­‰å¹³å°ï¼Œä¸åŒå¹³å°ç¨å¾®æœ‰äº›å·®åˆ«ã€‚Linuxå¹³å°æ²¡æœ‰æ–‡ä»¶æ£€ç´¢ï¼Œè¿™ç‚¹æ˜¯å¾ˆé—æ†¾çš„ï¼Œä½†æ˜¯ç¬”è€…ç›¸ä¿¡å¼€å‘è€…åŽç»­ä¼šæ…¢æ…¢å®Œå–„ã€‚ utoolså¸¸ç”¨ä½“éªŒæ’ä»¶ä¸­å¿ƒ å¿«é€Ÿå¯åŠ¨ æœ¬åœ°æœç´¢æ³¨æ„ï¼šä»…æ”¯æŒWindowså’ŒMacå¹³å°ï¼ŒLinuxå¹³å°ä¸‹ä¼šå¾ˆå¿«å¼€å‘ å›¾ç•¥ è‡ªåŠ¨è¯†åˆ« æ•°æ®åŒæ­¥ HttpæŠ“åŒ… å›¾ç•¥ å‰ªè´´æ¿ å›¾ç•¥ å›¾åºŠ å›¾ç•¥ hostsåˆ‡æ¢ å›¾ç•¥ ç¿»è¯‘ å›¾ç•¥ è®¡ç®—å™¨ å›¾ç•¥ å†…ç½‘ç©¿é€ å›¾ç•¥ ç›¸å…³ç«™ç‚¹ å®˜ç½‘åœ°å€ï¼šhttps://www.u.tools/ å®˜ç½‘ä¸‹è½½åœ°å€ï¼šhttps://www.u.tools/download.html ä½¿ç”¨æ–‡æ¡£åœ°å€: https://www.u.tools/docs/guide/about-uTools.html è®¨è®ºç¤¾åŒº: https://yuanliao.info/ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ ä¸‹ä¸€ç¯‡ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• utoolså¸¸ç”¨ä½“éªŒæ’ä»¶ä¸­å¿ƒå¿«é€Ÿå¯åŠ¨æœ¬åœ°æœç´¢è‡ªåŠ¨è¯†åˆ«æ•°æ®åŒæ­¥HttpæŠ“åŒ…å‰ªè´´æ¿å›¾åºŠhostsåˆ‡æ¢ç¿»è¯‘è®¡ç®—å™¨å†…ç½‘ç©¿é€ç›¸å…³ç«™ç‚¹ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:15.808Z","updated":"2019-11-27T15:22:15.808Z","comments":true,"path":"public/assets/js/APlayer.min.js","permalink":"http://ltyeamin.github.io/public/assets/js/APlayer.min.js","excerpt":"","text":"!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"APlayer\",[],t):\"object\"==typeof exports?exports.APlayer=t():e.APlayer=t()}(window,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"/\",t(t.s=41)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=/mobile/i.test(window.navigator.userAgent),a={secondToTime:function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),i=Math.floor(e-3600*t-60*n);return(t>0?[t,n,i]:[n,i]).map(function(e){return e=0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[n];e[n]=e[t],e[t]=i}return e}([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);ti?t:e+(t-e)*((a=n/i)n?\"function\"==typeof i&&i(t):l(u)}()},n=function(e){if(!e.defaultPrevented){e.preventDefault(),location.hash!==this.hash&&window.history.pushState(null,null,this.hash);var n=document.getElementById(this.hash.substring(1));if(!n)return;t(n,500,function(e){location.replace(\"#\"+e.id)})}};return document.addEventListener(\"DOMContentLoaded\",function(){for(var e,t=document.querySelectorAll('a[href^=\"#\"]:not([href=\"#\"])'),i=t.length;e=t[--i];)e.addEventListener(\"click\",n,!1)}),t}})?i.call(t,n,t,e):i)||(e.exports=a)},function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n1),n=0===this.audios.length;this.player.template.listOl.innerHTML+=(0,r.default)({theme:this.player.options.theme,audio:e,index:this.audios.length+1}),this.audios=this.audios.concat(e),t&&this.audios.length>1&&this.player.container.classList.add(\"aplayer-withlist\"),this.player.randomOrder=o.default.randomOrder(this.audios.length),this.player.template.listCurs=this.player.container.querySelectorAll(\".aplayer-list-cur\"),this.player.template.listCurs[this.audios.length-1].style.backgroundColor=e.theme||this.player.options.theme,n&&(\"random\"===this.player.options.order?this.switch(this.player.randomOrder[0]):this.switch(0))}},{key:\"remove\",value:function(e){if(this.player.events.trigger(\"listremove\",{index:e}),this.audios[e])if(this.audios.length>1){var t=this.player.container.querySelectorAll(\".aplayer-list li\");t[e].remove(),this.audios.splice(e,1),this.player.lrc&&this.player.lrc.remove(e),e===this.index&&(this.audios[e]?this.switch(e):this.switch(e-1)),this.index>e&&this.index--;for(var n=e;nt&&!e.player.audio.paused&&(e.player.container.classList.remove(\"aplayer-loading\"),i=!1),t=n)},100)}},{key:\"enable\",value:function(e){this[\"enable\"+e+\"Checker\"]=!0,\"fps\"===e&&this.initfpsChecker()}},{key:\"disable\",value:function(e){this[\"enable\"+e+\"Checker\"]=!1}},{key:\"destroy\",value:function(){var e=this;this.types.forEach(function(t){e[\"enable\"+t+\"Checker\"]=!1,e[t+\"Checker\"]&&clearInterval(e[t+\"Checker\"])})}}]),e}();t.default=a},function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n1?\"one\"===e.player.options.loop?(e.player.options.loop=\"none\",e.player.template.loop.innerHTML=o.default.loopNone):\"none\"===e.player.options.loop?(e.player.options.loop=\"all\",e.player.template.loop.innerHTML=o.default.loopAll):\"all\"===e.player.options.loop&&(e.player.options.loop=\"one\",e.player.template.loop.innerHTML=o.default.loopOne):\"one\"===e.player.options.loop||\"all\"===e.player.options.loop?(e.player.options.loop=\"none\",e.player.template.loop.innerHTML=o.default.loopNone):\"none\"===e.player.options.loop&&(e.player.options.loop=\"all\",e.player.template.loop.innerHTML=o.default.loopAll)})}},{key:\"initMenuButton\",value:function(){var e=this;this.player.template.menu.addEventListener(\"click\",function(){e.player.list.toggle()})}},{key:\"initMiniSwitcher\",value:function(){var e=this;this.player.template.miniSwitcher.addEventListener(\"click\",function(){e.player.setMode(\"mini\"===e.player.mode?\"normal\":\"mini\")})}},{key:\"initSkipButton\",value:function(){var e=this;this.player.template.skipBackButton.addEventListener(\"click\",function(){e.player.skipBack()}),this.player.template.skipForwardButton.addEventListener(\"click\",function(){e.player.skipForward()}),this.player.template.skipPlayButton.addEventListener(\"click\",function(){e.player.toggle()})}},{key:\"initLrcButton\",value:function(){var e=this;this.player.template.lrcButton.addEventListener(\"click\",function(){e.player.template.lrcButton.classList.contains(\"aplayer-icon-lrc-inactivity\")?(e.player.template.lrcButton.classList.remove(\"aplayer-icon-lrc-inactivity\"),e.player.lrc&&e.player.lrc.show()):(e.player.template.lrcButton.classList.add(\"aplayer-icon-lrc-inactivity\"),e.player.lrc&&e.player.lrc.hide())})}}]),e}();t.default=s},function(e,t,n){var i=n(2);e.exports=function(e){\"use strict\";e=e||{};var t=\"\",n=i.$each,a=e.lyrics,r=(e.$value,e.$index,i.$escape);return n(a,function(e,n){t+=\"\\n \" ,t+=\"r(e[1]),t+=\" this.current.length-1||e=this.current[this.index+1][0])for(var t=0;t=this.current[t][0]&&(!this.current[t+1]||e=200&&n.status\\n ',t+=s.play,t+='\\n \\n \\n \\n No audio\\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n ',t+=s.loading,t+='\\n \\n \\n \\n \\n \\n \\n 00:00 / 00:00\\n \\n \\n ',t+=s.skip,t+='\\n \\n \\n ',t+=s.play,t+='\\n \\n \\n ',t+=s.skip,t+='\\n \\n \\n \\n ',t+=s.volumeDown,t+='\\n \\n \\n \\n \\n \\n \\n \\n \\n ',\"list\"===a.order?t+=s.orderList:\"random\"===a.order&&(t+=s.orderRandom),t+='\\n \\n \\n ',\"one\"===a.loop?t+=s.loopOne:\"all\"===a.loop?t+=s.loopAll:\"none\"===a.loop&&(t+=s.loopNone),t+='\\n \\n \\n ',t+=s.menu,t+='\\n \\n \\n ',t+=s.lrc,t+='\\n \\n \\n \\n \\n \\n ',t+=s.right,t+='\\n\\n"},{"title":"","date":"2019-11-27T15:22:15.798Z","updated":"2019-11-27T15:22:15.798Z","comments":true,"path":"public/archives/page/6/index.html","permalink":"http://ltyeamin.github.io/public/archives/page/6/index.html","excerpt":"","text":"å½’æ¡£ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ 2017 1512æœˆ ES6æ–°çš„æ•°æ®ç±»åž‹-generator 1512æœˆ ç®­å¤´å‡½æ•° 1312æœˆ é—­åŒ… 1312æœˆ é«˜é˜¶å‡½æ•° 1312æœˆ JSæ–¹æ³• 1312æœˆ å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ 0412æœˆ JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:17.397Z","updated":"2019-11-27T15:22:17.397Z","comments":true,"path":"public/2017/12/13/é«˜é˜¶å‡½æ•°/index.html","permalink":"http://ltyeamin.github.io/public/2017/12/13/é«˜é˜¶å‡½æ•°/index.html","excerpt":"","text":"é«˜é˜¶å‡½æ•° | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ é«˜é˜¶å‡½æ•° frontend JavaScript 2017/12/13 æœ¬æ–‡äºŽ714å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ é«˜é˜¶å‡½æ•°æ¦‚è¿°é«˜é˜¶å‡½æ•°è‹±æ–‡å«Higher-order functionã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼ŸJavaScriptçš„å‡½æ•°å…¶å®žéƒ½æŒ‡å‘æŸä¸ªå˜é‡ã€‚æ—¢ç„¶å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°èƒ½æŽ¥æ”¶å˜é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æŽ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°å°±ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚ä¸€ä¸ªæœ€ç®€å•çš„é«˜é˜¶å‡½æ•°: 12345function add(x, y, f) &#123; return f(x) + f(y);&#125;var x = add(-5, 6, Math.abs); console.log(x); // 11 å½“æˆ‘ä»¬è°ƒç”¨add(-5, 6, Math.abs)æ—¶ï¼Œå‚æ•°xï¼Œyå’Œfåˆ†åˆ«æŽ¥æ”¶-5ï¼Œ6å’Œå‡½æ•°Math.absï¼Œæ ¹æ®å‡½æ•°å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æŽ¨å¯¼è®¡ç®—è¿‡ç¨‹ä¸º:123456//åˆ†æžæ€è·¯x = -5;y = 6;f = Math.abs;f(x) + f(y) ==&gt; Math.abs(-5) + Math.abs(6) ==&gt; 11;return 11; ç¼–å†™é«˜é˜¶å‡½æ•°ï¼Œå°±æ˜¯è®©å‡½æ•°çš„å‚æ•°èƒ½å¤ŸæŽ¥æ”¶åˆ«çš„å‡½æ•°. map/reduceä¸¾ä¾‹è¯´æ˜Žï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°f(x)=$x^2â€‹$ï¼Œè¦æŠŠè¿™ä¸ªå‡½æ•°ä½œç”¨åœ¨ä¸€ä¸ªæ•°ç»„[1, 2, 3, 4, 5, 6, 7, 8, 9]ä¸Šï¼Œå°±å¯ä»¥ç”¨mapå®žçŽ°å¦‚ä¸‹å›¾:ç”±äºŽmap()æ–¹æ³•å®šä¹‰åœ¨JavaScriptçš„Arrayä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨Arrayçš„map()æ–¹æ³•ï¼Œä¼ å…¥æˆ‘ä»¬è‡ªå·±çš„å‡½æ•°ï¼Œå°±å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„Arrayä½œä¸ºç»“æžœ:12345678&apos;use strict&apos;;function pow(x) &#123; return x * x;&#125;var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];var results = arr.map(pow); // [1, 4, 9, 16, 25, 36, 49, 64, 81]console.log(results); æ³¨æ„ï¼šmap()ä¼ å…¥çš„å‚æ•°æ˜¯powï¼Œå³å‡½æ•°å¯¹è±¡æœ¬èº«.ä½ å¯èƒ½ä¼šæƒ³ï¼Œä¸éœ€è¦map()ï¼Œå†™ä¸€ä¸ªå¾ªçŽ¯ï¼Œä¹Ÿå¯ä»¥è®¡ç®—å‡ºç»“æžœ:12345678var f = function (x) &#123; return x * x;&#125;;var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];var result = [];for (var i=0; i&lt;arr.length; i++) &#123; result.push(f(arr[i]));&#125; çš„ç¡®å¯ä»¥ï¼Œä½†æ˜¯ï¼Œä»Žä¸Šé¢çš„å¾ªçŽ¯ä»£ç ï¼Œæˆ‘ä»¬æ— æ³•ä¸€çœ¼çœ‹æ˜Žç™½â€œæŠŠf(x)ä½œç”¨åœ¨Arrayçš„æ¯ä¸€ä¸ªå…ƒç´ å¹¶æŠŠç»“æžœç”Ÿæˆä¸€ä¸ªæ–°çš„Arrayâ€ã€‚æ‰€ä»¥ï¼Œmap()ä½œä¸ºé«˜é˜¶å‡½æ•°ï¼Œäº‹å®žä¸Šå®ƒæŠŠè¿ç®—è§„åˆ™æŠ½è±¡äº†ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¸ä½†å¯ä»¥è®¡ç®—ç®€å•çš„f(x)=x2ï¼Œè¿˜å¯ä»¥è®¡ç®—ä»»æ„å¤æ‚çš„å‡½æ•°ï¼Œæ¯”å¦‚ï¼ŒæŠŠArrayçš„æ‰€æœ‰æ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²ï¼š12var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];arr.map(String); // [&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;] åªéœ€è¦ä¸€è¡Œä»£ç ã€‚å†çœ‹reduceçš„ç”¨æ³•ã€‚Arrayçš„reduce()æŠŠä¸€ä¸ªå‡½æ•°ä½œç”¨åœ¨è¿™ä¸ªArrayçš„[x1, x2, x3â€¦]ä¸Šï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œreduce()æŠŠç»“æžœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—ï¼Œå…¶æ•ˆæžœå°±æ˜¯:1[x1, x2, x3, x4].reduce(f) = f(f(f(x1, x2), x3), x4) æ¯”æ–¹è¯´å¯¹ä¸€ä¸ªArrayæ±‚å’Œï¼Œå°±å¯ä»¥ç”¨reduceå®žçŽ°1234var arr = [1, 3, 5, 7, 9];arr.reduce(function (x, y) &#123; return x + y;&#125;); // 25 è¦æŠŠ[1, 3, 5, 7, 9]å˜æ¢æˆæ•´æ•°13579ï¼Œreduce()ä¹Ÿèƒ½æ´¾ä¸Šç”¨åœº:1234var arr = [1, 3, 5, 7, 9];arr.reduce(function (x, y) &#123; return x * 10 + y;&#125;); // 13579 filterfilterä¹Ÿæ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ“ä½œï¼Œå®ƒç”¨äºŽæŠŠArrayçš„æŸäº›å…ƒç´ è¿‡æ»¤æŽ‰ï¼Œç„¶åŽè¿”å›žå‰©ä¸‹çš„å…ƒç´ ã€‚å’Œmap()ç±»ä¼¼ï¼ŒArrayçš„filter()ä¹ŸæŽ¥æ”¶ä¸€ä¸ªå‡½æ•°ã€‚å’Œmap()ä¸åŒçš„æ˜¯ï¼Œfilter()æŠŠä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨äºŽæ¯ä¸ªå…ƒç´ ï¼Œç„¶åŽæ ¹æ®è¿”å›žå€¼æ˜¯trueè¿˜æ˜¯falseå†³å®šä¿ç•™è¿˜æ˜¯ä¸¢å¼ƒè¯¥å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªArrayä¸­ï¼Œåˆ æŽ‰å¶æ•°ï¼Œåªä¿ç•™å¥‡æ•°ï¼Œå¯ä»¥è¿™ä¹ˆå†™:12345var arr = [1, 2, 4, 5, 6, 9, 10, 15];var r = arr.filter(function (x) &#123; return x % 2 !== 0;&#125;);r; // [1, 5, 9, 15] æŠŠä¸€ä¸ªArrayä¸­çš„ç©ºå­—ç¬¦ä¸²åˆ æŽ‰ï¼Œå¯ä»¥è¿™ä¹ˆå†™:12345var arr = [&apos;A&apos;, &apos;&apos;, &apos;B&apos;, null, undefined, &apos;C&apos;, &apos; &apos;];var r = arr.filter(function (s) &#123; return s &amp;&amp; s.trim(); // æ³¨æ„ï¼šIE9ä»¥ä¸‹çš„ç‰ˆæœ¬æ²¡æœ‰trim()æ–¹æ³•&#125;);r; // [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;] å¯è§ç”¨filter()è¿™ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå…³é”®åœ¨äºŽæ­£ç¡®å®žçŽ°ä¸€ä¸ªâ€ç­›é€‰â€å‡½æ•°. å›žè°ƒå‡½æ•°filter()æŽ¥æ”¶çš„å›žè°ƒå‡½æ•°ï¼Œå…¶å®žå¯ä»¥æœ‰å¤šä¸ªå‚æ•°ã€‚é€šå¸¸æˆ‘ä»¬ä»…ä½¿ç”¨ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºArrayçš„æŸä¸ªå…ƒç´ ã€‚å›žè°ƒå‡½æ•°è¿˜å¯ä»¥æŽ¥æ”¶å¦å¤–ä¸¤ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå…ƒç´ çš„ä½ç½®å’Œæ•°ç»„æœ¬èº«ï¼š1234567var arr = [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;];var r = arr.filter(function (element, index, self) &#123; console.log(element); // ä¾æ¬¡æ‰“å°&apos;A&apos;, &apos;B&apos;, &apos;C&apos; console.log(index); // ä¾æ¬¡æ‰“å°0, 1, 2 console.log(self); // selfå°±æ˜¯å˜é‡arr return true;&#125;); åˆ©ç”¨filterï¼Œå¯ä»¥å·§å¦™åœ°åŽ»é™¤Arrayçš„é‡å¤å…ƒç´ :123456&apos;use strict&apos;;var r,arr = [&apos;apple&apos;, &apos;strawberry&apos;, &apos;banana&apos;, &apos;pear&apos;, &apos;apple&apos;, &apos;orange&apos;, &apos;orange&apos;, &apos;strawberry&apos;];r = arr.filter(function (element, index, self) &#123; return self.indexOf(element) === index;&#125;);console.log(r.toString()); //apple,strawberry,banana,pear,orange åŽ»é™¤é‡å¤å…ƒç´ ä¾é çš„æ˜¯indexOfæ€»æ˜¯è¿”å›žç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼ŒåŽç»­çš„é‡å¤å…ƒç´ ä½ç½®ä¸ŽindexOfè¿”å›žçš„ä½ç½®ä¸ç›¸ç­‰ï¼Œå› æ­¤è¢«filteræ»¤æŽ‰äº†. sortæŽ’åºç®—æ³•æŽ’åºä¹Ÿæ˜¯åœ¨ç¨‹åºä¸­ç»å¸¸ç”¨åˆ°çš„ç®—æ³•ã€‚æ— è®ºä½¿ç”¨å†’æ³¡æŽ’åºè¿˜æ˜¯å¿«é€ŸæŽ’åºï¼ŒæŽ’åºçš„æ ¸å¿ƒæ˜¯æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å¤§å°ã€‚å¦‚æžœæ˜¯æ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥æ¯”è¾ƒï¼Œä½†å¦‚æžœæ˜¯å­—ç¬¦ä¸²æˆ–è€…ä¸¤ä¸ªå¯¹è±¡å‘¢ï¼Ÿç›´æŽ¥æ¯”è¾ƒæ•°å­¦ä¸Šçš„å¤§å°æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› æ­¤ï¼Œæ¯”è¾ƒçš„è¿‡ç¨‹å¿…é¡»é€šè¿‡å‡½æ•°æŠ½è±¡å‡ºæ¥ã€‚é€šå¸¸è§„å®šï¼Œå¯¹äºŽä¸¤ä¸ªå…ƒç´ xå’Œyï¼Œå¦‚æžœè®¤ä¸ºx &lt; yï¼Œåˆ™è¿”å›ž-1ï¼Œå¦‚æžœè®¤ä¸ºx == yï¼Œåˆ™è¿”å›ž0ï¼Œå¦‚æžœè®¤ä¸ºx &gt; yï¼Œåˆ™è¿”å›ž1ï¼Œè¿™æ ·ï¼ŒæŽ’åºç®—æ³•å°±ä¸ç”¨å…³å¿ƒå…·ä½“çš„æ¯”è¾ƒè¿‡ç¨‹ï¼Œè€Œæ˜¯æ ¹æ®æ¯”è¾ƒç»“æžœç›´æŽ¥æŽ’åºã€‚JavaScriptçš„Arrayçš„sort()æ–¹æ³•å°±æ˜¯ç”¨äºŽæŽ’åºçš„ï¼Œä½†æ˜¯æŽ’åºç»“æžœå¯èƒ½è®©ä½ å¤§åƒä¸€æƒŠ:123456// çœ‹ä¸ŠåŽ»æ­£å¸¸çš„ç»“æžœ:[&apos;Google&apos;, &apos;Apple&apos;, &apos;Microsoft&apos;].sort(); // [&apos;Apple&apos;, &apos;Google&apos;, &apos;Microsoft&apos;];// appleæŽ’åœ¨äº†æœ€åŽ:[&apos;Google&apos;, &apos;apple&apos;, &apos;Microsoft&apos;].sort(); // [&apos;Google&apos;, &apos;Microsoft&quot;, &apos;apple&apos;]// æ— æ³•ç†è§£çš„ç»“æžœ:[10, 20, 1, 2].sort(); // [1, 10, 2, 20] ç¬¬äºŒä¸ªæŽ’åºæŠŠappleæŽ’åœ¨äº†æœ€åŽï¼Œæ˜¯å› ä¸ºå­—ç¬¦ä¸²æ ¹æ®ASCIIç è¿›è¡ŒæŽ’åºï¼Œè€Œå°å†™å­—æ¯açš„ASCIIç åœ¨å¤§å†™å­—æ¯ä¹‹åŽã€‚ç¬¬ä¸‰ä¸ªæŽ’åºç»“æžœæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿç®€å•çš„æ•°å­—æŽ’åºéƒ½èƒ½é”™ï¼Ÿè¿™æ˜¯å› ä¸ºArrayçš„sort()æ–¹æ³•é»˜è®¤æŠŠæ‰€æœ‰å…ƒç´ å…ˆè½¬æ¢ä¸ºStringå†æŽ’åºï¼Œç»“æžœâ€™10â€™æŽ’åœ¨äº†â€™2â€™çš„å‰é¢ï¼Œå› ä¸ºå­—ç¬¦â€™1â€™æ¯”å­—ç¬¦â€™2â€™çš„ASCIIç å°ã€‚å¦‚æžœä¸çŸ¥é“sort()æ–¹æ³•çš„é»˜è®¤æŽ’åºè§„åˆ™ï¼Œç›´æŽ¥å¯¹æ•°å­—æŽ’åºï¼Œç»å¯¹æ ½è¿›å‘é‡Œï¼å¹¸è¿çš„æ˜¯ï¼Œsort()æ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå®ƒè¿˜å¯ä»¥æŽ¥æ”¶ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°æ¥å®žçŽ°è‡ªå®šä¹‰çš„æŽ’åºã€‚è¦æŒ‰æ•°å­—å¤§å°æŽ’åºï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™:123456789101112&apos;use strict&apos;;var arr = [10, 20, 1, 2];arr.sort(function (x, y) &#123; if (x &lt; y) &#123; return -1; &#125; if (x &gt; y) &#123; return 1; &#125; return 0;&#125;);console.log(arr); // [1, 2, 10, 20] å¦‚æžœè¦å€’åºæŽ’åºï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¤§çš„æ•°æ”¾å‰é¢:12345678910var arr = [10, 20, 1, 2];arr.sort(function (x, y) &#123; if (x &lt; y) &#123; return 1; &#125; if (x &gt; y) &#123; return -1; &#125; return 0;&#125;); // [20, 10, 2, 1] é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹å­—ç¬¦ä¸²æŽ’åºï¼Œæ˜¯æŒ‰ç…§ASCIIçš„å¤§å°æ¯”è¾ƒçš„ï¼ŒçŽ°åœ¨ï¼Œæˆ‘ä»¬æå‡ºæŽ’åºåº”è¯¥å¿½ç•¥å¤§å°å†™ï¼ŒæŒ‰ç…§å­—æ¯åºæŽ’åºã€‚è¦å®žçŽ°è¿™ä¸ªç®—æ³•ï¼Œä¸å¿…å¯¹çŽ°æœ‰ä»£ç å¤§åŠ æ”¹åŠ¨ï¼Œåªè¦æˆ‘ä»¬èƒ½å®šä¹‰å‡ºå¿½ç•¥å¤§å°å†™çš„æ¯”è¾ƒç®—æ³•å°±å¯ä»¥:123456789101112var arr = [&apos;Google&apos;, &apos;apple&apos;, &apos;Microsoft&apos;];arr.sort(function (s1, s2) &#123; x1 = s1.toUpperCase(); x2 = s2.toUpperCase(); if (x1 &lt; x2) &#123; return -1; &#125; if (x1 &gt; x2) &#123; return 1; &#125; return 0;&#125;); // [&apos;apple&apos;, &apos;Google&apos;, &apos;Microsoft&apos;] å¿½ç•¥å¤§å°å†™æ¥æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå®žé™…ä¸Šå°±æ˜¯å…ˆæŠŠå­—ç¬¦ä¸²éƒ½å˜æˆå¤§å†™ï¼ˆæˆ–è€…éƒ½å˜æˆå°å†™ï¼‰ï¼Œå†æ¯”è¾ƒã€‚ä»Žä¸Šè¿°ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œé«˜é˜¶å‡½æ•°çš„æŠ½è±¡èƒ½åŠ›æ˜¯éžå¸¸å¼ºå¤§çš„ï¼Œè€Œä¸”ï¼Œæ ¸å¿ƒä»£ç å¯ä»¥ä¿æŒå¾—éžå¸¸ç®€æ´ã€‚æœ€åŽå‹æƒ…æç¤ºï¼Œsort()æ–¹æ³•ä¼šç›´æŽ¥å¯¹Arrayè¿›è¡Œä¿®æ”¹ï¼Œå®ƒè¿”å›žçš„ç»“æžœä»æ˜¯å½“å‰Array:12345var a1 = [&apos;B&apos;, &apos;A&apos;, &apos;C&apos;];var a2 = a1.sort();a1; // [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;]a2; // [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;]a1 === a2; // true, a1å’Œa2æ˜¯åŒä¸€å¯¹è±¡ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ é—­åŒ… ä¸‹ä¸€ç¯‡ JSæ–¹æ³• new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• é«˜é˜¶å‡½æ•°æ¦‚è¿°map/reducefilterå›žè°ƒå‡½æ•°sortæŽ’åºç®—æ³• è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.717Z","updated":"2019-11-27T15:22:16.717Z","comments":true,"path":"public/2018/05/10/æ•°æ®ç»“æž„ä¹‹æŽ’åº/index.html","permalink":"http://ltyeamin.github.io/public/2018/05/10/æ•°æ®ç»“æž„ä¹‹æŽ’åº/index.html","excerpt":"","text":"æ•°æ®ç»“æž„ä¹‹æŽ’åº | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ æ•°æ®ç»“æž„ä¹‹æŽ’åº algorithm æŽ’åºç®—æ³• 2018/05/10 æœ¬æ–‡äºŽ566å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ æ•°æ®ç»“æž„å’Œç®—æ³•æ˜¯æ•´ä¸ªè®¡ç®—æœºç§‘å­¦ä¸ŽæŠ€æœ¯é¢†åŸŸæ°¸è¿œé€ƒé¿ä¸äº†çš„è¯é¢˜,åšä¸»å¤§å­¦æœ‰è¿‡æ•°æ®ç»“æž„è¿™é—¨å­¦ç§‘,ä¸è¿‡ç‰¹åˆ«åŽæ‚”å½“æ—¶æ²¡æœ‰å¥½å¥½å­¦ä¹ .ä»…å­¦çš„é‚£ä¹ˆç‚¹ä¸œè¥¿çŽ°åœ¨å‡ ä¹Žå¿˜å¾—ä¸€å¹²äºŒå‡€.è™½è¯´å­¦çš„æµ…è–„,ä½†å¯¹æ•´ä¸ªç¼–ç¨‹æ€æƒ³è¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„. åç§å¸¸è§æŽ’åºç®—æ³•åç§å¸¸è§æŽ’åºç®—æ³•å¯åˆ†ä¸ºä¸¤å¤§ç±»: éžçº¿æ€§æ—¶é—´æ¯”è¾ƒç±»æŽ’åºï¼šé€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åº,ç”±äºŽå…¶æ—¶é—´å¤æ‚åº¦ä¸èƒ½çªç ´O(nlogn),å› æ­¤ç§°ä¸ºéžçº¿æ€§æ—¶é—´æ¯”è¾ƒç±»æŽ’åº. çº¿æ€§æ—¶é—´éžæ¯”è¾ƒç±»æŽ’åºï¼šä¸é€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åº,å®ƒå¯ä»¥çªç ´åŸºäºŽæ¯”è¾ƒæŽ’åºçš„æ—¶é—´ä¸‹ç•Œ,ä»¥çº¿æ€§æ—¶é—´è¿è¡Œ,å› æ­¤ç§°ä¸ºçº¿æ€§æ—¶é—´éžæ¯”è¾ƒç±»æŽ’åº. å†’æ³¡æŽ’åºå†’æ³¡æŽ’åº(Bubble Sort),æ˜¯ä¸€ç§è®¡ç®—æœºç§‘å­¦é¢†åŸŸçš„è¾ƒç®€å•çš„æŽ’åºç®—æ³•.å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æŽ’åºçš„æ•°åˆ—,ä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ,å¦‚æžœä»–ä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥.èµ°è®¿æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢,ä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æŽ’åºå®Œæˆ.è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå¤§çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯,æ•…åâ€œå†’æ³¡æŽ’åºâ€. ç®—æ³•æè¿° æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æžœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§,å°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ª; å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œ,ä»Žå¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åŽä¸€å¯¹,è¿™æ ·åœ¨æœ€åŽçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°; é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤,é™¤äº†æœ€åŽä¸€ä¸ª;åŠ¨å›¾æ¼”ç¤ºä»£ç æ¼”ç¤º1234567891011121314151617181920212223242526272829303132/** * * å†’æ³¡æŽ’åº * * @author tong.li * @param arr = &#123;6,3,8,2,9,1&#125; * * ç¬¬0è¶Ÿæ¯”è¾ƒ5æ¬¡: 3,6,8,2,9,1 =&gt; 3,6,8,2,9,1 =&gt; 3,6,2,8,9,1 =&gt; 3,6,2,8,9,1 =&gt; 3,6,2,8,1,9 * ç¬¬1è¶Ÿæ¯”è¾ƒ4æ¬¡: 3,6,2,8,1,9 =&gt; 3,2,6,8,1,9 =&gt; 3,2,6,8,1,9 =&gt; 3,2,6,1,8,9 * ç¬¬2è¶Ÿæ¯”è¾ƒ3æ¬¡: 2,3,6,1,8,9 =&gt; 2,3,6,1,8,9 =&gt; 2,3,1,6,8,9 * ç¬¬3è¶Ÿæ¯”è¾ƒ2æ¬¡: 2,3,1,6,8,9 =&gt; 2,1,3,6,8,9 * ç¬¬4è¶Ÿæ¯”è¾ƒ1æ¬¡: 1,2,3,6,8,9 */public static void bubbleSort(int ... arr) &#123; if ( arr==null || arr.length &lt;= 0) &#123; return; &#125; // å¤–å¾ªçŽ¯æŽ§åˆ¶è¶Ÿæ•° for (int i = 0; i &lt; arr.length; i++) &#123; // å†…å¾ªçŽ¯æŽ§åˆ¶æ¬¡æ•° // for(int j=1;j&lt;arr.length-i;j++)&#123; for (int j = 0; j &lt; arr.length - 1 - i; j++) &#123; //ç›¸é‚»ä¸¤ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒ if( arr[j] &gt; arr[j + 1]) &#123; // é‡‡ç”¨å¼‚æˆ–æ–¹å¼è¿›è¡Œå˜é‡äº’æ¢ arr[j] = arr[j] ^ arr[j + 1]; arr[j + 1] = arr[j] ^ arr[j + 1]; arr[j] = arr[j] ^ arr[j + 1]; &#125; &#125; &#125;&#125; å¿«é€ŸæŽ’åº(é¢è¯•å®˜æœ€çˆ±é—®çš„æŽ’åºç®—æ³•)å¿«é€ŸæŽ’åº(Quicksort)æ˜¯å¯¹å†’æ³¡æŽ’åºçš„ä¸€ç§æ”¹è¿›.å¿«é€ŸæŽ’åºç”±C.A.R.Hoareåœ¨1962å¹´æå‡º.åŸºæœ¬æ€æƒ³æ˜¯:é€šè¿‡ä¸€è¶ŸæŽ’åºå°†è¦æŽ’åºçš„æ•°æ®åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†,å…¶ä¸­ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½æ¯”å¦å¤–ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½è¦å°,ç„¶åŽå†æŒ‰æ­¤æ–¹æ³•å¯¹è¿™ä¸¤éƒ¨åˆ†æ•°æ®åˆ†åˆ«è¿›è¡Œå¿«é€ŸæŽ’åº,æ•´ä¸ªæŽ’åºè¿‡ç¨‹å¯ä»¥é€’å½’è¿›è¡Œ,ä»¥æ­¤è¾¾åˆ°æ•´ä¸ªæ•°æ®å˜æˆæœ‰åºåºåˆ—.æœ€åæƒ…å†µçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2).æœ€å¥½æƒ…å†µæ—¶é—´å¤æ‚åº¦ä¸ºO(nlog2n). ç®—æ³•æè¿°å¿«é€ŸæŽ’åºä½¿ç”¨åˆ†æ²»æ³•æ¥æŠŠä¸€ä¸ªä¸²ï¼ˆlistï¼‰åˆ†ä¸ºä¸¤ä¸ªå­ä¸²ï¼ˆsub-listsï¼‰ã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹: ä»Žæ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ .ç§°ä¸ºâ€åŸºå‡†â€ï¼ˆpivotï¼‰; é‡æ–°æŽ’åºæ•°åˆ—.æ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å°çš„æ‘†æ”¾åœ¨åŸºå‡†å‰é¢.æ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å¤§çš„æ‘†åœ¨åŸºå‡†çš„åŽé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åˆ°ä»»ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºä¹‹åŽ.è¯¥åŸºå‡†å°±å¤„äºŽæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œ; é€’å½’åœ°ï¼ˆrecursiveï¼‰æŠŠå°äºŽåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºŽåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æŽ’åºã€‚åŠ¨å›¾æ¼”ç¤ºä»£ç æ¼”ç¤º123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657/** * * å¿«é€ŸæŽ’åº * * @param arr = &#123;6,3,8,2,9,1&#125; * @author tong.li * * åˆ†æž: * a. ä¸€èˆ¬ä»¥é¦–å…ƒç´ æˆ–å°¾å…ƒç´ ä¸ºåŸºå‡†,è¿™é‡Œä»¥é¦–å…ƒç´ 6ä¸ºåŸºå‡†,æœ‰æ¯”åŸºå‡†æ•°å¤§çš„æ•°æ”¾åœ¨6çš„å³è¾¹,æ¯”åŸºå‡†æ•°å°çš„æ•°æ”¾åœ¨6çš„å·¦è¾¹,æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å°†6æŒªåˆ°åºåˆ—ä¸­é—´çš„æŸä¸ªä½ç½®. * b. å‡è®¾è¿™ä¸ªä½ç½®æ˜¯k,çŽ°åœ¨éœ€è¦å¯»æ‰¾è¿™ä¸ªkçš„ä½ç½®.åˆ†åˆ«ä»Žæ•°ç»„çš„ä¸¤ç«¯å¼€å§‹æŽ¢æµ‹,å…ˆä»Žå³å¾€å·¦æ‰¾ä¸€ä¸ªå°äºŽ6çš„æ•°(æ€»æ˜¯å¦‚æ­¤),å†ä»Žå·¦åˆ°å³æ‰¾ä¸€ä¸ªå¤§äºŽ6çš„æ•°,ä¸¤ç«¯åœä¸‹æ¥åŽäº¤æ¢å®ƒä»¬. * c. è¿™é‡Œå¯ä»¥ç”¨ä¸¤ä¸ªå˜é‡iå’Œj,åˆ†å¸ƒæŒ‡å‘æ•°ç»„æœ€å·¦è¾¹å’Œæœ€å³è¾¹.è¿™ä¸¤ä¸ªå˜é‡æœ‰ä¸ªå¥½å¬çš„åå­—:å“¨å…µiå’Œå“¨å…µj,å“¨å…µiåˆå§‹æŒ‡å‘ç´¢å¼•ä¸º0çš„6,å“¨å…µjåˆå§‹æŒ‡å‘ç´¢å¼•ä¸º5çš„1 * æ­¥éª¤: * 1. å…ˆè®©å“¨å…µjåŠ¨èµ·æ¥å‘å·¦(j--)æ‰¾å°äºŽ6çš„å€¼,ç¬¬ä¸€æ¬¡æ‰¾åˆ°ä¸º1åœä¸‹æ¥. * 2. ç´§æŽ¥ç€å“¨å…µiå‘å³ç§»åŠ¨(i++)æ‰¾å¤§äºŽ6çš„å€¼,ç¬¬ä¸€æ¬¡æ‰¾åˆ°ä¸º8åœä¸‹æ¥. * 3. è¿›è¡Œäº¤æ¢åœä¸‹æ¥çš„å€¼,å³1å’Œ8è¿›è¡Œäº¤æ¢.äº¤æ¢åŽçš„æ•°ç»„ä¸º:6,3,1,2,9,8 * 4. åœ¨3äº¤æ¢åŽçš„åŸºç¡€ä¸Šç»§ç»­1,2æ­¥éª¤,å“¨å…µjä¸€ç›´å¾€å·¦ç§»é‡åˆ°2,å“¨å…µiä¸€ç›´å¾€å³ç§»é‡åˆ°9,ä¸¤ä¸ªå“¨å…µåœ¨2å·²ç»ç›¸é‡äº†,æˆ‘ä»¬åº”è¯¥å°†åŸºå‡†6ä¸Žå’Œ2è¿›è¡Œäº¤æ¢,å³äº¤æ¢åŽçš„æ•°ç»„ä¸º:2,3,1,6,9,8,æ­¤æ—¶ç¬¬ä¸€è½®æŽ¢æµ‹çœŸæ­£ç»“æŸ * æ­¤æ—¶æ—§åŸºå‡†æ•°6å·²ç»å½’ä½,æ–°åŸºå‡†æ•°ä¸º2,ä»¥6ä½åˆ†ç•Œç‚¹æŠŠæ•°ç»„æ‹†æˆäº†ä¸¤ä¸ªå°æ•°ç»„,å·¦æ•°ç»„ä¸ºå°äºŽ6çš„,å³è¾¹æ•°ç»„éƒ½æ˜¯å¤§äºŽ6çš„,ç›®å‰ä¸¤ä¸ªæ•°ç»„çš„é¡ºåºéƒ½æ˜¯æ··ä¹±çš„,ä¸è¿‡ä¸è¦ç´§,ç»§ç»­æŒ‰1,2,3æ­¥éª¤åˆ†åˆ«å¯¹ä¸¤ä¸ªæ•°ç»„è€å¿ƒå¤„ç† * 5. å…ˆå¤„ç†6å·¦è¾¹çš„å°æ•°ç»„2,3,1,ä»¥2ä¸ºåŸºå‡†æ•°,æ‰¾åˆ°1å’Œ3,äº¤æ¢åŽ2,1,3,ç»§ç»­æ‰¾åœ¨1ç›¸é‡,äº¤æ¢åŽä¸º1,2,3 * 6. å†æ¥å¤„ç†6å³è¾¹çš„å°æ•°ç»„9,8,ä»¥9ä¸ºåŸºå‡†æ•°,ä¸¤è€…åœ¨8ç›¸é‡,äº¤æ¢åŽä¸º8,9 * 7. åˆ°æ­¤å®Œå…¨ç»“æŸ,æŽ’åºåŽä¸º1,2,3,6,8,9.å¿«é€ŸæŽ’åºçš„æ¯ä¸€è½®å¤„ç†å…¶å®žå°±æ˜¯å°†è¿™ä¸€è½®çš„åŸºå‡†æ•°å½’ä½,ç›´åˆ°æ‰€æœ‰çš„æ•°éƒ½å½’ä½ä¸ºæ­¢,æŽ’åºå°±ç»“æŸäº†. * */public static void quickSort(int[] arr, int low, int high) &#123; int i, j, temp, t; if (low &gt; high) &#123; return; &#125; i = low; j = high; // tempå°±æ˜¯åŸºå‡†ä½ temp = arr[low]; while (i &lt; j) &#123; // å…ˆçœ‹å³è¾¹.ä¾æ¬¡å¾€å·¦é€’å‡ while (temp &lt;= arr[j] &amp;&amp; i &lt; j) &#123; j--; &#125; // å†çœ‹å·¦è¾¹.ä¾æ¬¡å¾€å³é€’å¢ž while (temp &gt;= arr[i] &amp;&amp; i &lt; j) &#123; i++; &#125; // å¦‚æžœæ»¡è¶³æ¡ä»¶åˆ™äº¤æ¢ if (i &lt; j) &#123; t = arr[j]; arr[j] = arr[i]; arr[i] = t; &#125; &#125; // æœ€åŽå°†åŸºå‡†ä¸ºä¸Žiå’Œjç›¸ç­‰ä½ç½®çš„æ•°å­—äº¤æ¢ arr[low] = arr[i]; arr[i] = temp; // é€’å½’è°ƒç”¨å·¦åŠæ•°ç»„ quickSort(arr, low, j - 1); // é€’å½’è°ƒç”¨å³åŠæ•°ç»„ quickSort(arr, j + 1, high);&#125; é€‰æ‹©æŽ’åºé€‰æ‹©æŽ’åº(Selection sort)æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æŽ’åºç®—æ³•.å®ƒçš„å·¥ä½œåŽŸç†æ˜¯æ¯ä¸€æ¬¡ä»Žå¾…æŽ’åºçš„æ•°æ®å…ƒç´ ä¸­é€‰å‡ºæœ€å°(æˆ–æœ€å¤§)çš„ä¸€ä¸ªå…ƒç´ ,å­˜æ”¾åœ¨åºåˆ—çš„èµ·å§‹ä½ç½®,ç›´åˆ°å…¨éƒ¨å¾…æŽ’åºçš„æ•°æ®å…ƒç´ æŽ’å®Œ. ç®—æ³•æè¿°nä¸ªè®°å½•çš„ç›´æŽ¥é€‰æ‹©æŽ’åºå¯ç»è¿‡n-1è¶Ÿç›´æŽ¥é€‰æ‹©æŽ’åºå¾—åˆ°æœ‰åºç»“æžœã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹: åˆå§‹çŠ¶æ€ï¼šæ— åºåŒºä¸ºR[1..n],æœ‰åºåŒºä¸ºç©º; ç¬¬iè¶ŸæŽ’åº(i=1,2,3â€¦n-1)å¼€å§‹æ—¶,å½“å‰æœ‰åºåŒºå’Œæ— åºåŒºåˆ†åˆ«ä¸ºR[1..i-1]å’ŒR(i..nï¼‰ã€‚è¯¥è¶ŸæŽ’åºä»Žå½“å‰æ— åºåŒºä¸­-é€‰å‡ºå…³é”®å­—æœ€å°çš„è®°å½• R[k],å°†å®ƒä¸Žæ— åºåŒºçš„ç¬¬1ä¸ªè®°å½•Räº¤æ¢,ä½¿R[1..i]å’ŒR[i+1..n)åˆ†åˆ«å˜ä¸ºè®°å½•ä¸ªæ•°å¢žåŠ 1ä¸ªçš„æ–°æœ‰åºåŒºå’Œè®°å½•ä¸ªæ•°å‡å°‘1ä¸ªçš„æ–°æ— åºåŒº; n-1è¶Ÿç»“æŸ,æ•°ç»„æœ‰åºåŒ–äº†;åŠ¨å›¾æ¼”ç¤ºä»£ç æ¼”ç¤º12345678910111213141516171819202122232425262728293031/** * * é€‰æ‹©æŽ’åº * * @author tong.li * @param arr = &#123;6,3,8,2,9,1&#125; * *ç¬¬0è¶Ÿæ¯”è¾ƒ5æ¬¡: 3,6,8,2,9,1 =&gt; 3,6,8,2,9,1 =&gt; 2,6,8,3,9,1 =&gt; 2,6,8,3,9,1 =&gt; 1,6,8,3,9,2 *ç¬¬1è¶Ÿæ¯”è¾ƒ4æ¬¡: 1,6,8,3,9,2 =&gt; 1,3,8,6,9,2 =&gt; 1,3,8,6,9,2 =&gt; 1,2,8,6,9,3 *ç¬¬2è¶Ÿæ¯”è¾ƒ3æ¬¡: 1,2,6,8,9,3 =&gt; 1,2,6,8,9,3 =&gt; 1,2,3,8,9,6 *ç¬¬3è¶Ÿæ¯”è¾ƒ2æ¬¡: 1,2,3,8,9,6 =&gt; 1,2,3,6,9,8 *ç¬¬4è¶Ÿæ¯”è¾ƒ1æ¬¡: 1,2,3,6,8,9 */public static void selectionSort(int... arr) &#123; if ( arr==null || arr.length &lt;= 0) &#123; return; &#125; // å¤–å¾ªçŽ¯æŽ§åˆ¶è¶Ÿæ•° for (int i = 0; i &lt; arr.length - 1; i++) &#123; // å†…å¾ªçŽ¯æŽ§åˆ¶æ¬¡æ•° for (int j = i + 1; j &lt; arr.length; j++) &#123; // ç›¸é‚»ä¸¤ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒ if (arr[i] &gt; arr[j]) &#123; // é‡‡ç”¨å¼‚æˆ–æ–¹å¼è¿›è¡Œå˜é‡äº’æ¢ arr[i] = arr[i] ^ arr[j]; arr[j] = arr[i] ^ arr[j]; arr[i] = arr[i] ^ arr[j]; &#125; &#125; &#125;&#125; å…¶ä»–æŽ’åºç®—æ³•åŽç»­æ›´æ–°,è¯·è¯»è€…æŒç»­å…³æ³¨. å‚è€ƒæ–‡çŒ®:åå¤§ç»å…¸æŽ’åºç®—æ³•-åŠ¨å›¾æ¼”ç¤º å †æŽ’åº,å½’å¹¶æŽ’åº,å¿«æŽ’-æŽ’åºçŽ‹è€…ä¹‹äº‰ä¸€ å †æŽ’åº,å½’å¹¶æŽ’åº,å¿«æŽ’-æŽ’åºçŽ‹è€…ä¹‹äº‰äºŒ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ ä¸‹ä¸€ç¯‡ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• åç§å¸¸è§æŽ’åºç®—æ³•å†’æ³¡æŽ’åºç®—æ³•æè¿°åŠ¨å›¾æ¼”ç¤ºä»£ç æ¼”ç¤ºå¿«é€ŸæŽ’åº(é¢è¯•å®˜æœ€çˆ±é—®çš„æŽ’åºç®—æ³•)ç®—æ³•æè¿°åŠ¨å›¾æ¼”ç¤ºä»£ç æ¼”ç¤ºé€‰æ‹©æŽ’åºç®—æ³•æè¿°åŠ¨å›¾æ¼”ç¤ºä»£ç æ¼”ç¤ºå‚è€ƒæ–‡çŒ®: è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.715Z","updated":"2019-11-27T15:22:16.715Z","comments":true,"path":"public/2018/05/22/LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢/index.html","permalink":"http://ltyeamin.github.io/public/2018/05/22/LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢/index.html","excerpt":"","text":"LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ ops Linux 2018/05/22 æœ¬æ–‡äºŽ554å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ Linuxçš„ä¸–ç•Œé‡Œä¸€åˆ‡çš†æ–‡ä»¶,å¯¹Linuxçš„æ“ä½œå°±æ˜¯å¯¹æ–‡ä»¶çš„å¤„ç†.è¢«ä¸šç•Œç§°ä¸ºâ€ä¸‰å‰‘å®¢â€çš„awk,sed,grepå°±èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿æ›´é«˜æ•ˆçš„å¤„ç†æ–‡ä»¶.â€œä¸‰å‰‘å®¢â€ä¸­grepæ“…é•¿æŸ¥æ‰¾åŠŸèƒ½,sedæ“…é•¿å–è¡Œå’Œæ›¿æ¢,awkæ“…é•¿å–åˆ—.â€œä¸‰å‰‘å®¢â€å°±æ˜¯æ™®é€šçš„Linuxå‘½ä»¤,è€Œæ­£åˆ™è¡¨è¾¾å¼å¥½æ¯”ä¸€ä¸ªæ¨¡æ¿,ä¸¤è€…ç»“åˆä½¿ç”¨,èƒ½å¤Ÿå‘æŒ¥å·¨å¤§çš„ä½œç”¨,å°¤å…¶æ˜¯åœ¨Shellè„šæœ¬ä¸­,ä½¿æˆ‘ä»¬çš„ä»£ç çŸ­å°ç²¾æ‚.æ€»ä¹‹å°±æ˜¯ä¸€å¥è¯:æé«˜å·¥ä½œæ•ˆçŽ‡. æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²:â€abcaxcâ€,æ­£åˆ™è¡¨è¾¾å¼ä¸º:ab.*c è´ªå©ªæ¨¡å¼: ç¼–ç¨‹ä¸­é»˜è®¤æ¨¡å¼,æ­£åˆ™è¡¨è¾¾å¼ä¸€èˆ¬è¶‹å‘äºŽæœ€å¤§é•¿åº¦[åŒ¹é….å¦‚æ­£åˆ™ab.*cæœ€å¤§åŒ¹é…ä¸º:abcaxc éžè´ªå©ªæ¨¡å¼: æ­£åˆ™åŒ¹é…åˆ°ç»“æžœå°±å¥½,è¯´ç™½äº†å°±æ˜¯æœ€å°‘åŒ¹é….å¦‚æ­£åˆ™ab.*cæœ€å¤§åŒ¹é…ä¸º:abc grepå‘½ä»¤grepå‘½ä»¤æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·,å®ƒèƒ½ä½¿ç”¨ç‰¹å®šæ¨¡å¼åŒ¹é…(åŒ…æ‹¬æ­£åˆ™è¡¨è¾¾å¼)æœç´¢æ–‡æœ¬,å¹¶é»˜è®¤è¾“å‡ºåŒ¹é…è¡Œ.unixçš„grepå®¶æ—åŒ…æ‹¬grep,egrepå’Œfgrep,ç¬”è€…åœ¨è¿™ä¸ä¸€ä¸€åˆ—ä¸¾äº†,è¯»è€…å¯è‡ªè¡Œç ”ç©¶.å¸¸ç”¨é€‰é¡¹ -c : è®¡ç®—æ‰¾åˆ°â€™æœå¯»å­—ç¬¦ä¸²â€™çš„æ¬¡æ•° -i : å¿½ç•¥å¤§å°å†™è¿›è¡Œæœç´¢ -n : é¡ºä¾¿è¾“å‡ºè¡Œå· -v : åå‘é€‰æ‹©,å–åæœç´¢ -color=auto : å¯ä»¥æ‰¾åˆ°çš„æœç´¢å…³é”®å­—åŠ ä¸Šé¢œè‰²æ˜¾ç¤º å®žæˆ˜ç¤ºä¾‹1.é€šè¿‡ç®¡é“æŸ¥æ‰¾é…ç½®æ–‡ä»¶é‡Œçš„å­—ç¬¦12[root@litong ~]# cat server.conf | grep portport : 9001 2.é€šè¿‡ç®¡é“æŸ¥æ‰¾ä»¥*.confç»“å°¾çš„æ–‡ä»¶12[root@litong ~]# ll | grep *.conf-rw-r--r-- 1 root root 22 May 18 14:51 server.conf 3.æ ¹æ®å…³é”®å­—æŸ¥æ‰¾è¿›ç¨‹ä¿¡æ¯123[root@litong ~]# ps -ef | grep pptpdroot 29510 1 0 14:55 ? 00:00:00 /usr/sbin/pptpd -froot 30061 25475 0 14:58 pts/2 00:00:00 grep --color=auto pptpd sedå‘½ä»¤sedæ˜¯ä¸€é¡¹LinuxæŒ‡ä»¤,åŠŸèƒ½åŒawkç±»ä¼¼,å·®åˆ«åœ¨äºŽ,sedç®€å•,æ“…é•¿å–è¡Œå’Œæ›¿æ¢,å¯¹åˆ—å¤„ç†çš„åŠŸèƒ½è¦å·®ä¸€äº›,awkçš„åŠŸèƒ½å¤æ‚,å¯¹åˆ—å¤„ç†çš„åŠŸèƒ½æ¯”è¾ƒå¼ºå¤§. å‘½ä»¤æ ¼å¼ sed [options] â€˜commandâ€™ file(s) sed [options] -f scriptfile file(s)å–è¡Œé€‰é¡¹ a\\ åœ¨å½“å‰è¡Œä¸‹é¢æ’å…¥æ–‡æœ¬. i\\ åœ¨å½“å‰è¡Œä¸Šé¢æ’å…¥æ–‡æœ¬. c\\ æŠŠé€‰å®šçš„è¡Œæ”¹ä¸ºæ–°çš„æ–‡æœ¬. d åˆ é™¤,åˆ é™¤é€‰æ‹©çš„è¡Œ. D åˆ é™¤æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œ. s æ›¿æ¢æŒ‡å®šå­—ç¬¦ h æ‹·è´æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒº. H è¿½åŠ æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒº. g èŽ·å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹,å¹¶æ›¿ä»£å½“å‰æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬. G èŽ·å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹,å¹¶è¿½åŠ åˆ°å½“å‰æ¨¡æ¿å—æ–‡æœ¬çš„åŽé¢. l åˆ—è¡¨ä¸èƒ½æ‰“å°å­—ç¬¦çš„æ¸…å•. n è¯»å–ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œ,ç”¨ä¸‹ä¸€ä¸ªå‘½ä»¤å¤„ç†æ–°çš„è¡Œè€Œä¸æ˜¯ç”¨ç¬¬ä¸€ä¸ªå‘½ä»¤. N è¿½åŠ ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œåˆ°æ¨¡æ¿å—åŽé¢å¹¶åœ¨äºŒè€…é—´åµŒå…¥ä¸€ä¸ªæ–°è¡Œ,æ”¹å˜å½“å‰è¡Œå·ç . p æ‰“å°æ¨¡æ¿å—çš„è¡Œ. P(å¤§å†™) æ‰“å°æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œ. q é€€å‡ºSed. b lable åˆ†æ”¯åˆ°è„šæœ¬ä¸­å¸¦æœ‰æ ‡è®°çš„åœ°æ–¹,å¦‚æžœåˆ†æ”¯ä¸å­˜åœ¨åˆ™åˆ†æ”¯åˆ°è„šæœ¬çš„æœ«å°¾. r file ä»Žfileä¸­è¯»è¡Œ. t label ifåˆ†æ”¯,ä»Žæœ€åŽä¸€è¡Œå¼€å§‹,æ¡ä»¶ä¸€æ—¦æ»¡è¶³æˆ–è€…T,tå‘½ä»¤,å°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„,æˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾. T label é”™è¯¯åˆ†æ”¯,ä»Žæœ€åŽä¸€è¡Œå¼€å§‹,ä¸€æ—¦å‘ç”Ÿé”™è¯¯æˆ–è€…T,tå‘½ä»¤,å°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„,æˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾. w file å†™å¹¶è¿½åŠ æ¨¡æ¿å—åˆ°fileæœ«å°¾. W file å†™å¹¶è¿½åŠ æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œåˆ°fileæœ«å°¾. ! è¡¨ç¤ºåŽé¢çš„å‘½ä»¤å¯¹æ‰€æœ‰æ²¡æœ‰è¢«é€‰å®šçš„è¡Œå‘ç”Ÿä½œç”¨. = æ‰“å°å½“å‰è¡Œå·ç . # æŠŠæ³¨é‡Šæ‰©å±•åˆ°ä¸‹ä¸€ä¸ªæ¢è¡Œç¬¦ä»¥å‰. æ›¿æ¢é€‰é¡¹ g è¡¨ç¤ºè¡Œå†…å…¨é¢æ›¿æ¢. p è¡¨ç¤ºæ‰“å°è¡Œ. w è¡¨ç¤ºæŠŠè¡Œå†™å…¥ä¸€ä¸ªæ–‡ä»¶. x è¡¨ç¤ºäº’æ¢æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬å’Œç¼“å†²åŒºä¸­çš„æ–‡æœ¬. y è¡¨ç¤ºæŠŠä¸€ä¸ªå­—ç¬¦ç¿»è¯‘ä¸ºå¦å¤–çš„å­—ç¬¦ï¼ˆä½†æ˜¯ä¸ç”¨äºŽæ­£åˆ™è¡¨è¾¾å¼ï¼‰ \\1 å­ä¸²åŒ¹é…æ ‡è®° &amp; å·²åŒ¹é…å­—ç¬¦ä¸²æ ‡è®°å®žæˆ˜ç¤ºä¾‹ èŽ·å–æ–‡ä»¶çš„è¡Œå†…å®¹123456789[root@litong ~]# sed -n 2p /etc/passwd # èŽ·å–/ect/passwdç¬¬äºŒè¡Œbin:x:1:1:bin:/bin:/sbin/nologin[root@litong ~]# sed -n 2,7p /etc/passwd # èŽ·å–/ect/passwdç¬¬äºŒè¡Œåˆ°ç¬¬ä¸ƒè¡Œbin:x:1:1:bin:/bin:/sbin/nologindaemon:x:2:2:daemon:/sbin:/sbin/nologinadm:x:3:4:adm:/var/adm:/sbin/nologinlp:x:4:7:lp:/var/spool/lpd:/sbin/nologinsync:x:5:0:sync:/sbin:/bin/syncshutdown:x:6:0:shutdown:/sbin:/sbin/shutdown 2.æ›¿æ¢æ–‡æœ¬123456[root@litong ~]# sed -i &apos;s/port/pp/g&apos; server.conf # æ–‡ä»¶ä¸­å«æœ‰portä¸ºå…¨å±€æ›¿æ¢pp,,å¹¶ä¸ä¼šçœŸæ­£è¿›è¡Œæ–‡ä»¶æ›¿æ¢,è€Œåªæ˜¯æŠŠæ“ä½œåŽçš„æ–‡æœ¬è¿”å›ž[root@litong ~]# cat server.conf serverserver pp : 9001 pp : 9001 3.åˆ é™¤æ–‡æœ¬12345[root@litong ~]# sed &apos;2d&apos; server.conf # åˆ é™¤æ–‡ä»¶çš„ç¬¬äºŒè¡Œ,å¹¶ä¸ä¼šçœŸæ­£åˆ é™¤æ–‡ä»¶è¡Œ,è€Œåªæ˜¯æŠŠæ“ä½œåŽçš„æ–‡æœ¬è¿”å›žserver pp : 9001 pp : 9001[root@litong ~]# sed &apos;1,$d&apos; server.conf #æ–‡ä»¶æ¸…ç©º,,å¹¶ä¸ä¼šçœŸæ­£åˆ é™¤æ–‡ä»¶è¡Œ,è€Œåªæ˜¯æŠŠæ“ä½œåŽçš„æ–‡æœ¬è¿”å›ž awkå‘½ä»¤awkæ˜¯ä¸€ä¸ªä¼˜è‰¯çš„æ–‡æœ¬å¤„ç†å·¥å…·,LinuxåŠUnixçŽ¯å¢ƒä¸­çŽ°æœ‰çš„åŠŸèƒ½æœ€å¼ºå¤§çš„æ•°æ®å¤„ç†å¼•æ“Žä¹‹ä¸€.è¿™ä¸ªå‘½ä»¤æ“…é•¿å–åˆ—.awkç»è¿‡æ”¹è¿›ç”Ÿæˆæ–°çš„ç‰ˆæœ¬nawkå’Œgawk,çŽ°åœ¨é»˜è®¤linuxç³»ç»Ÿä¸‹æ—¥å¸¸ä½¿ç”¨gawk. å‘½ä»¤æ ¼å¼ awk [é€‰é¡¹å‚æ•°] â€˜scriptâ€™ var=value file(s) awk [é€‰é¡¹å‚æ•°] -f scriptfile var=value file(s) é€‰é¡¹å‚æ•° -F fs or â€“field-separator fs :æŒ‡å®šè¾“å…¥æ–‡ä»¶æŠ˜åˆ†éš”ç¬¦,fsæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼,å¦‚-F:. -v var=value or â€“asign var=valueèµ‹å€¼ä¸€ä¸ªç”¨æˆ·å®šä¹‰å˜é‡. -f scripfile or â€“file scriptfile,ä»Žè„šæœ¬æ–‡ä»¶ä¸­è¯»å–awkå‘½ä»¤. -mf nnn and -mr nnn,å¯¹nnnå€¼è®¾ç½®å†…åœ¨é™åˆ¶,-mfé€‰é¡¹é™åˆ¶åˆ†é…ç»™nnnçš„æœ€å¤§å—æ•°ç›®;-mré€‰é¡¹é™åˆ¶è®°å½•çš„æœ€å¤§æ•°ç›®.è¿™ä¸¤ä¸ªåŠŸèƒ½æ˜¯Bellå®žéªŒå®¤ç‰ˆawkçš„æ‰©å±•åŠŸèƒ½,åœ¨æ ‡å‡†awkä¸­ä¸é€‚ç”¨. -W compact or â€“compat, -W traditional or â€“traditional,åœ¨å…¼å®¹æ¨¡å¼ä¸‹è¿è¡Œawk.æ‰€ä»¥gawkçš„è¡Œä¸ºå’Œæ ‡å‡†çš„awkå®Œå…¨ä¸€æ ·,æ‰€æœ‰çš„awkæ‰©å±•éƒ½è¢«å¿½ç•¥. -W copyleft or â€“copyleft, -W copyright or â€“copyright,æ‰“å°ç®€çŸ­çš„ç‰ˆæƒä¿¡æ¯. -W help or â€“help, -W usage or â€“usage,æ‰“å°å…¨éƒ¨awké€‰é¡¹å’Œæ¯ä¸ªé€‰é¡¹çš„ç®€çŸ­è¯´æ˜Ž. -W lint or â€“lint,æ‰“å°ä¸èƒ½å‘ä¼ ç»Ÿunixå¹³å°ç§»æ¤çš„ç»“æž„çš„è­¦å‘Š. -W lint-old or â€“lint-old,æ‰“å°å…³äºŽä¸èƒ½å‘ä¼ ç»Ÿunixå¹³å°ç§»æ¤çš„ç»“æž„çš„è­¦å‘Š. -W posix,æ‰“å¼€å…¼å®¹æ¨¡å¼.ä½†æœ‰ä»¥ä¸‹é™åˆ¶,ä¸è¯†åˆ«ï¼š/x,å‡½æ•°å…³é”®å­—,func,æ¢ç åºåˆ—ä»¥åŠå½“fsæ˜¯ä¸€ä¸ªç©ºæ ¼æ—¶,å°†æ–°è¡Œä½œä¸ºä¸€ä¸ªåŸŸåˆ†éš”ç¬¦;æ“ä½œç¬¦å’Œ=ä¸èƒ½ä»£æ›¿^å’Œ^=;fflushæ— æ•ˆ. -W re-interval or â€“re-inerval,å…è®¸é—´éš”æ­£åˆ™è¡¨è¾¾å¼çš„ä½¿ç”¨,å‚è€ƒ(grepä¸­çš„Posixå­—ç¬¦ç±»),å¦‚æ‹¬å·è¡¨è¾¾å¼[[:alpha:]]. -W source program-text or â€“source program-text,ä½¿ç”¨program-textä½œä¸ºæºä»£ç ,å¯ä¸Ž-få‘½ä»¤æ··ç”¨. -W version or â€“version,æ‰“å°bugæŠ¥å‘Šä¿¡æ¯çš„ç‰ˆæœ¬. å®žæˆ˜ç¤ºä¾‹1.æŒ‰ç…§æŒ‡å®šçš„åˆ†éš”ç¬¦å–åˆ— 1234567891011121314151617181920[root@litong ~]# cut -d: -f 1 /etc/passwd # cutå‘½ä»¤ä¹Ÿå¯ä»¥å–åˆ—rootbindaemonadmlpsyncshutdownhaltmail[root@litong ~]# awk -F: &apos;&#123;print $1&#125;&apos; /etc/passwd # awkå‘½ä»¤å–åˆ—rootbindaemonadmlpsyncshutdownhaltmail ä¼ä¸šå®žæˆ˜-ç”¨ä¸‰å‰‘å®¢å–IP1234567891011121314151617181920[root@litong ~]# ifconfig eth0 #æŸ¥çœ‹eth0è¿™å—ç½‘å¡çš„ipeth0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet 172.21.205.254 netmask 255.255.240.0 broadcast 172.21.207.255 ether 00:16:3e:00:a1:e1 txqueuelen 1000 (Ethernet) RX packets 599643 bytes 144572651 (137.8 MiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 590688 bytes 161445142 (153.9 MiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0[root@litong ~]# ifconfig eth0 | grep -Po '(?&amp;lt;=inet )\\S+' # grepå–IPæ–¹å¼ä¸€172.21.205.254[root@litong ~]# ifconfig eth0 | grep -o \"inet [0-9.]*\" | grep -o \"[0-9.]*\" # grepå–IPæ–¹å¼äºŒ172.21.205.254[root@litong ~]# ifconfig eth0 | awk -F \"[ ]+\" 'NR==2 &#123;print $3&#125;' # awkå–IP172.21.205.254[root@litong ~]# ifconfig eth0 | sed -nr '2s#^[^0-9]*([0-9.]*).*$#\\1#gp' # sedå–IPæ–¹å¼ä¸€172.21.205.254[root@litong ~]# ifconfig eth0 | sed -nr '2s#^.*inet (.*) net.*$#\\1#gp' # sedå–IPæ–¹å¼äºŒ172.21.205.254 [root@litong ~]# ifconfig eth0 | sed -n '2p' | sed 's#^.*inet ##g' | sed 's# netmask.*$##g' # sedå–IPæ–¹å¼ä¸‰172.21.205.254 ç›¸å…³æ–‡æ¡£èœé¸Ÿæ•™ç¨‹ä¸‰å‰‘å®¢å–IP èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† ä¸‹ä¸€ç¯‡ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• æ­£åˆ™è¡¨è¾¾å¼grepå‘½ä»¤å¸¸ç”¨é€‰é¡¹å®žæˆ˜ç¤ºä¾‹sedå‘½ä»¤å‘½ä»¤æ ¼å¼å–è¡Œé€‰é¡¹æ›¿æ¢é€‰é¡¹å®žæˆ˜ç¤ºä¾‹awkå‘½ä»¤å‘½ä»¤æ ¼å¼é€‰é¡¹å‚æ•°å®žæˆ˜ç¤ºä¾‹ä¼ä¸šå®žæˆ˜-ç”¨ä¸‰å‰‘å®¢å–IPç›¸å…³æ–‡æ¡£ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:38.458Z","updated":"2020-01-08T13:06:38.277Z","comments":true,"path":"public/2018/06/12/RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼/index.html","permalink":"http://ltyeamin.github.io/public/2018/06/12/RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼/index.html","excerpt":"","text":"RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ backend RabbitMQ 2018/06/12 æœ¬æ–‡äºŽ533å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ï¼Œåœ¨å­¦ä¹‹å‰æˆ‘ä»¬æ ¹æ®å®˜æ–¹æ–‡æ¡£(çº¯è‹±æ–‡æ–‡æ¡£ï¼Œå¯ä»¥è£…ä¸ªChromeæ’ä»¶é€‰ä¸­ç¿»è¯‘)å­¦ä¹ ä¸€ä¸‹RabbitMQçš„ä¸€äº›æœ¯è¯­ï¼Œè¿™æ‰èƒ½è®©æˆ‘ä»¬æ›´æ·±å…¥çš„äº†è§£ã€‚ å‡†å¤‡æ¡ä»¶æœ¬æ•™ç¨‹å‡å®šRabbitMQå·²åœ¨æ ‡å‡†ç«¯å£ï¼ˆ5672ï¼‰ä¸Šçš„localhostä¸Šå®‰è£…å¹¶è¿è¡Œã€‚å¦‚æžœæ‚¨ä½¿ç”¨ä¸åŒçš„ä¸»æœºï¼Œç«¯å£æˆ–è®¤è¯ï¼Œåˆ™éœ€è¦è°ƒæ•´è¿žæŽ¥è®¾ç½®ã€‚ æœ¯è¯­ä»‹ç»RabbitMQæ˜¯ä¸€ä¸ªæ¶ˆæ¯ä»£ç†ä¸­é—´ä»¶ï¼šå®ƒæŽ¥å—å’Œè½¬å‘æ¶ˆæ¯ã€‚æ‚¨å¯ä»¥å°†å…¶è§†ä¸ºé‚®å±€ï¼šå½“æ‚¨å°†è¦å‘å¸ƒçš„é‚®ä»¶æ”¾åœ¨é‚®ç®±ä¸­æ—¶ï¼Œæ‚¨å¯ä»¥ç¡®å®šé‚®é€’å‘˜æœ€ç»ˆä¼šå°†é‚®ä»¶å‘é€ç»™æ‚¨çš„æ”¶ä»¶äººã€‚åœ¨è¿™ä¸ªæ¯”å–»ä¸­ï¼ŒRabbitMQæ˜¯ä¸€ä¸ªé‚®ç®±ï¼Œé‚®å±€å’Œé‚®é€’å‘˜åªè´Ÿè´£ä¸­è½¬è°ƒåº¦ã€‚ RabbitMQå’Œé‚®å±€ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äºŽå®ƒä¸å¤„ç†çº¸å¼ ï¼Œè€Œæ˜¯æŽ¥å—ï¼Œå­˜å‚¨å’Œè½¬å‘äºŒè¿›åˆ¶blobæ•°æ® - æ¶ˆæ¯ã€‚ RabbitMQå’Œä¸€èˆ¬çš„æ¶ˆæ¯ä¼ é€’ä½¿ç”¨äº†ä¸€äº›æœ¯è¯­ï¼šç”Ÿäº§è€…ã€é˜Ÿåˆ—ã€æ¶ˆè´¹è€…ã€‚ ç”Ÿäº§è€… å‘é€æ¶ˆæ¯çš„ç¨‹åºæ˜¯ç”Ÿäº§è€…ã€‚ å®˜ç½‘ä¸Šé’è‰²æ¤­åœ†Påˆ™æ ‡è¯†æ¶ˆæ¯ç”Ÿäº§è€…ã€‚ é˜Ÿåˆ— é˜Ÿåˆ—æ˜¯RabbitMQä¸­çš„é‚®ç®±çš„åç§°ã€‚è™½ç„¶æ¶ˆæ¯æµç»RabbitMQå’Œæ‚¨çš„åº”ç”¨ç¨‹åºï¼Œä½†å®ƒä»¬åªèƒ½å­˜å‚¨åœ¨é˜Ÿåˆ—ä¸­ã€‚é˜Ÿåˆ—åªå—ä¸»æœºçš„å†…å­˜å’Œç£ç›˜é™åˆ¶çš„çº¦æŸï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¤§çš„æ¶ˆæ¯ç¼“å†²åŒºã€‚è®¸å¤šç”Ÿäº§è€…å¯ä»¥å‘é€åˆ°ä¸€ä¸ªé˜Ÿåˆ—çš„æ¶ˆæ¯ï¼Œå¹¶ä¸”è®¸å¤šæ¶ˆè´¹è€…å¯ä»¥å°è¯•ä»Žä¸€ä¸ªé˜Ÿåˆ—æŽ¥æ”¶æ•°æ®ã€‚å®˜ç½‘ä¸Šçº¢è‰²å¤šæ ¼å­é•¿æ–¹å½¢åˆ™æ ‡è¯†é˜Ÿåˆ—ã€‚ æ¶ˆè´¹è€… æ¶ˆè´¹ä¸ŽæŽ¥å—æœ‰ç±»ä¼¼çš„æ„ä¹‰ã€‚æ¶ˆè´¹è€…æ˜¯ä¸€ä¸ªä¸»è¦ç­‰å¾…æŽ¥æ”¶æ¶ˆæ¯çš„ç¨‹åºï¼š è¯·æ³¨æ„ï¼Œç”Ÿäº§è€…ã€æ¶ˆè´¹è€…å’Œæ¶ˆæ¯ä»£ç†ä¸å¿…é©»ç•™åœ¨åŒä¸€ä¸»æœºä¸Š;å®žé™…ä¸Šåœ¨å¤§å¤šæ•°åº”ç”¨ä¸­ï¼Œåº”ç”¨ç¨‹åºä¹Ÿå¯ä»¥æ˜¯ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ã€‚ æ€»ç»“ï¼šæ•´ä¸ªè¿‡ç¨‹éžå¸¸ç®€å•ï¼Œç”Ÿäº§è€…åˆ›å»ºæ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…æŽ¥æ”¶è¿™äº›æ¶ˆæ¯ã€‚ä½ çš„åº”ç”¨ç¨‹åºæ—¢å¯ä»¥ä½œä¸ºç”Ÿäº§è€…å‘å…¶ä»–åº”ç”¨ç¨‹åºå‘é€æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæ¶ˆè´¹è€…ï¼Œç­‰å¾…æŽ¥æ”¶å…¶ä»–åº”ç”¨ç¨‹åºçš„æ¶ˆæ¯ã€‚å…¶ä¸­ï¼Œå­˜å‚¨æ¶ˆæ¯çš„æ˜¯æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ƒç±»ä¼¼äºŽé‚®ç®±ï¼Œæ¶ˆæ¯é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡ŒæŠ•é€’ã€‚ æ¡ˆä¾‹å®žæˆ˜åœ¨æœ¬æ•™ç¨‹çš„è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†ç”¨Javaç¼–å†™ä¸¤ä¸ªç¨‹åº;å‘é€å•ä¸ªæ¶ˆæ¯çš„ç”Ÿäº§è€…ï¼Œä»¥åŠæŽ¥æ”¶æ¶ˆæ¯å¹¶å°†å…¶æ‰“å°å‡ºæ¥çš„æ¶ˆè´¹è€…ã€‚æˆ‘ä»¬å°†æŽ©ç›–Java APIä¸­çš„ä¸€äº›ç»†èŠ‚ï¼Œä¸“æ³¨äºŽè¿™ä¸ªéžå¸¸ç®€å•çš„äº‹æƒ…ï¼Œåªæ˜¯ä¸ºäº†å¼€å§‹ã€‚è¿™æ˜¯æ¶ˆæ¯ä¼ é€’çš„â€œHello Worldâ€ã€‚ åœ¨ä¸‹å›¾ä¸­ï¼Œâ€œPâ€æ˜¯æˆ‘ä»¬çš„ç”Ÿäº§è€…ï¼Œâ€œCâ€æ˜¯æˆ‘ä»¬çš„æ¶ˆè´¹è€…ã€‚ä¸­é—´çš„çº¢æ¡†æ˜¯ä¸€ä¸ªé˜Ÿåˆ— - RabbitMQä»£è¡¨æ¶ˆè´¹è€…ä¿ç•™çš„æ¶ˆæ¯ç¼“å†²åŒºã€‚ äº†è§£åˆ°ä¸Šè¿°æ¦‚å¿µï¼ŒçŽ°åœ¨æˆ‘ä»¬å¼€å§‹åŠ¨æ‰‹å®žè·µå§ï¼ å¯¼å…¥å®¢æˆ·ç«¯ä¾èµ– Maven 12345&lt;dependency&gt; &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt; &lt;artifactId&gt;amqp-client&lt;/artifactId&gt; &lt;version&gt;5.6.0&lt;/version&gt;&lt;/dependency&gt; Gradle 123dependencies &#123; compile group: 'com.rabbitmq', name: 'amqp-client', version: '5.6.0'&#125; å¯¼å…¥å®Œä¾èµ–åŽï¼Œæˆ‘ä»¬å°†ç¼–å†™æ¶ˆæ¯å‘å¸ƒè€…ï¼ˆå‘é€è€…ï¼‰Sendå‘é€å’Œæˆ‘ä»¬çš„æ¶ˆæ¯æ¶ˆè´¹è€…ï¼ˆæŽ¥æ”¶è€…ï¼‰Recvã€‚å‘å¸ƒè€…å°†è¿žæŽ¥åˆ°RabbitMQï¼Œå‘é€å•ä¸ªæ¶ˆæ¯ï¼Œç„¶åŽé€€å‡ºã€‚ ç¼–å†™æ¶ˆæ¯ç”Ÿäº§/å‘ç”Ÿè€…123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960package cn.yeamin.actions.simple.produces;import com.rabbitmq.client.ConnectionFactory;import com.rabbitmq.client.Connection;import com.rabbitmq.client.Channel;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * ç®€å•é˜Ÿåˆ—çš„æ¶ˆæ¯ç”Ÿäº§è€… */public class Send &#123; /** * è®¾ç½®é˜Ÿåˆ—åç§° */ private final static String QUEUE_NAME = \"hello\"; public static void main(String[] args) throws IOException, TimeoutException &#123; // åˆ›å»ºè¿žæŽ¥å·¥åŽ‚ ConnectionFactory factory = new ConnectionFactory(); // è®¾ç½®è¿žæŽ¥ä¸»æœºå factory.setHost(\"localhost\"); //è®¾ç½®ç«¯å£å·,ä¸è®¾ç½®é»˜è®¤ä¸º5672 factory.setPort(5672); /* * å¦‚æžœå¯ä»¥é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºä¸€ä¸ªè¿žæŽ¥,åˆ™ç»§ç»­åœ¨è¿žæŽ¥åŸºç¡€ä¸Šç»§ç»­åˆ›å»ºé€šé“. * è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨try-with-resourcesè¯­å¥ï¼Œå› ä¸ºConnectionå’ŒChanneléƒ½å®žçŽ°äº†java.io.Closeableã€‚ * è¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦åœ¨ä»£ç ä¸­æ˜Žç¡®åœ°å…³é—­å®ƒä»¬ã€‚ */ try (Connection connection = factory.newConnection(); // åˆ›å»ºé€šé“ Channel channel = connection.createChannel()) &#123; /* * ä¸ºäº†å‘é€æ¶ˆæ¯æˆåŠŸ,æˆ‘ä»¬å¿…é¡»å£°æ˜Žä¸€ä¸ªé˜Ÿåˆ—ä¾›æˆ‘ä»¬å‘é€,é˜Ÿåˆ—åªå£°æ˜Žä¸€æ¬¡,ä¸å¯èƒ½å­˜åœ¨é‡å¤é˜Ÿåˆ— * å‚æ•°1: queueè¡¨ç¤ºé˜Ÿåˆ—åç§° * å‚æ•°2: durableè¡¨ç¤ºæ˜¯å¦æŒä¹…åŒ– * å‚æ•°3: exclusiveè¡¨ç¤ºä»…åˆ›å»ºè€…å¯ä»¥ä½¿ç”¨çš„ç§æœ‰é˜Ÿåˆ—ï¼Œæ–­å¼€åŽè‡ªåŠ¨åˆ é™¤ * å‚æ•°4: autoDeleteè¡¨ç¤ºå½“æ‰€æœ‰æ¶ˆè´¹å®¢æˆ·ç«¯è¿žæŽ¥æ–­å¼€åŽï¼Œæ˜¯å¦è‡ªåŠ¨åˆ é™¤é˜Ÿåˆ— * å‚æ•°5: argumentsè¡¨ç¤ºå…¶ä»–çš„æž„é€ å‚æ•°,ä¸ºé˜Ÿåˆ—æž„é€ è€Œå‡†å¤‡ */ channel.queueDeclare(QUEUE_NAME, false, false, false, null); // è¦å‘é€çš„æ¶ˆæ¯ String message = \"Hello World, lt, Welcome RabbitMQ!\"; /* * æœ€åŸºæœ¬çš„æ¶ˆæ¯å‘é€ * å‚æ•°1: exchangeè¡¨ç¤ºäº¤æ¢æœº * å‚æ•°2: routingKeyè¡¨ç¤ºè·¯ç”±Key * å‚æ•°3: propsè¡¨ç¤ºæ¯çš„å…¶ä»–å‚æ•° * å‚æ•°4: autoDeleteè¡¨ç¤ºå½“æ‰€æœ‰æ¶ˆè´¹å®¢æˆ·ç«¯è¿žæŽ¥æ–­å¼€åŽï¼Œæ˜¯å¦è‡ªåŠ¨åˆ é™¤é˜Ÿåˆ— * å‚æ•°5: bodyè¡¨ç¤ºæ¯ä½“,æ˜¯ä¸ªå­—èŠ‚æ•°ç»„,æ„å‘³ç€å¯ä»¥ä¼ é€’ä»»ä½•æ•°æ® */ channel.basicPublish(\"\", QUEUE_NAME, null, message.getBytes()); //æ¶ˆæ¯å‘é€æ–¹çš„æ—¥å¿—æ‰“å° System.out.println(\" [x] Sent '\" + message + \"'\"); &#125; &#125;&#125; å£°æ˜Žé˜Ÿåˆ—æ˜¯å¹‚ç­‰çš„ ï¼Œåªæœ‰åœ¨å®ƒä¸å­˜åœ¨çš„æƒ…å†µä¸‹æ‰ä¼šåˆ›å»ºå®ƒã€‚æ¶ˆæ¯å†…å®¹æ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œå› æ­¤æ‚¨å¯ä»¥å‘é€ä»»ä½•æ•°æ®ã€‚ ç¼–å†™æ¶ˆæ¯æ¶ˆè´¹è€…12345678910111213141516171819202122232425262728293031323334353637383940package cn.yeamin.actions.simple.consumers;import com.rabbitmq.client.*;/** * ç®€å•é˜Ÿåˆ—çš„æ¶ˆæ¯æ¶ˆè´¹è€… */public class Recv &#123; private final static String QUEUE_NAME = \"hello\"; public static void main(String[] argv) throws Exception &#123; // åˆ›å»ºè¿žæŽ¥å·¥åŽ‚ ConnectionFactory factory = new ConnectionFactory(); // è®¾ç½®RabbitMQä¸»æœºå factory.setHost(\"localhost\"); // æ–°å»ºè¿žæŽ¥ Connection connection = factory.newConnection(); // æ–°å»ºé€šé“ Channel channel = connection.createChannel(); //ç»‘å®šé˜Ÿåˆ— channel.queueDeclare(QUEUE_NAME, false, false, false, null); System.out.println(\" [*] Waiting for messages. To exit press CTRL+C\"); // åˆ›å»ºæ¶ˆè´¹è€…,æ¶ˆè´¹æ¶ˆæ¯ DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; &#123; String message = new String(delivery.getBody(), \"UTF-8\"); System.out.println(\" [x] Received '\" + message + \"'\"); &#125;; /** * * æ¶ˆè´¹è€…æ¶ˆè´¹ * å‚æ•°1 ï¼šqueueé˜Ÿåˆ—å * å‚æ•°2 ï¼šautoAck æ˜¯å¦è‡ªåŠ¨ACK * å‚æ•°3 ï¼šcallbackæ¶ˆè´¹è€…å¯¹è±¡çš„ä¸€ä¸ªæŽ¥å£ï¼Œç”¨æ¥é…ç½®å›žè°ƒ * */ channel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; &#123; &#125;); &#125;&#125; ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ä½¿ç”¨try-with-resourceè¯­å¥æ¥è‡ªåŠ¨å…³é—­é€šé“å’Œè¿žæŽ¥ï¼Ÿé€šè¿‡è¿™æ ·åšï¼Œæˆ‘ä»¬åªéœ€è®©ç¨‹åºç»§ç»­è¿è¡Œï¼Œå…³é—­æ‰€æœ‰å†…å®¹ï¼Œç„¶åŽé€€å‡ºï¼è¿™å°†æ˜¯å°´å°¬çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›åœ¨æ¶ˆè´¹è€…å¼‚æ­¥ç›‘å¬æ¶ˆæ¯åˆ°è¾¾æ—¶ï¼Œè¯¥è¿›ç¨‹ä¿æŒæ´»åŠ¨çŠ¶æ€ã€‚ æˆ‘ä»¬å³å°†å‘Šè¯‰æœåŠ¡å™¨ä»Žé˜Ÿåˆ—ä¸­ä¼ é€’æ¶ˆæ¯ã€‚å› ä¸ºå®ƒä¼šå¼‚æ­¥åœ°å‘æˆ‘ä»¬å‘é€æ¶ˆæ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»¥å¯¹è±¡çš„å½¢å¼æä¾›ä¸€ä¸ªå›žè°ƒï¼Œå®ƒå°†ç¼“å†²æ¶ˆæ¯ï¼Œç›´åˆ°æˆ‘ä»¬å‡†å¤‡å¥½ä½¿ç”¨å®ƒä»¬ã€‚è¿™å°±æ˜¯DeliverCallbackå­ç±»çš„ä½œç”¨ã€‚ æ¶ˆæ¯ç”Ÿäº§ä¸Žå‘é€æˆ‘ä»¬å…ˆæ‰§è¡Œæ¶ˆæ¯å‘é€è€…ï¼Œæ‰§è¡Œå®ŒæˆåŽå¦‚ä¸‹å›¾ï¼š ç´§æŽ¥ç€ï¼Œæˆ‘ä»¬è¿›è¡Œæ¶ˆæ¯æ¶ˆè´¹ï¼Œæ‰§è¡Œå®ŒæˆåŽå¦‚ä¸‹å›¾: å½“æ¶ˆæ¯ç”Ÿäº§è€…ä¸€ç›´å‘é€æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“æžœï¼š 1234567891011121315:17:00: Executing task 'Recv.main()'...&gt; Task :compileJava UP-TO-DATE&gt; Task :processResources NO-SOURCE&gt; Task :classes UP-TO-DATE&gt; Task :Recv.main()SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".SLF4J: Defaulting to no-operation (NOP) logger implementationSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.[*] Waiting for messages. To exit press CTRL+C[x] Received 'Hello World, litong, Welcome RabbitMQ!'[x] Received 'Hello World, lt, Welcome RabbitMQ!' æºç åœ°å€https://github.com/ltyeamin/RabbitMQ-Action/tree/master/patterns å‚è€ƒèµ„æ–™ RabbitMQå®˜ç½‘æ–‡æ¡£ ã€ŠRabbitMQå®žæˆ˜æŒ‡å—ã€‹æœ±å¿ åŽè‘— èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ ä¸‹ä¸€ç¯‡ RabbitMQæ¦‚è¿° new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• å‡†å¤‡æ¡ä»¶æœ¯è¯­ä»‹ç»æ¡ˆä¾‹å®žæˆ˜å¯¼å…¥å®¢æˆ·ç«¯ä¾èµ–ç¼–å†™æ¶ˆæ¯ç”Ÿäº§/å‘ç”Ÿè€…ç¼–å†™æ¶ˆæ¯æ¶ˆè´¹è€…æ¶ˆæ¯ç”Ÿäº§ä¸Žå‘é€æºç åœ°å€å‚è€ƒèµ„æ–™ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.716Z","updated":"2019-11-27T15:22:16.716Z","comments":true,"path":"public/2018/05/18/è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter/index.html","permalink":"http://ltyeamin.github.io/public/2018/05/18/è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter/index.html","excerpt":"","text":"è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter backend Spring Boot 2018/05/18 æœ¬æ–‡äºŽ558å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ æˆ‘ä»¬å¯ä»¥æ¨¡ä»¿ä¹‹å‰httpç¼–ç è‡ªåŠ¨é…ç½®çš„ä¾‹å­ä¹Ÿåè®®ä¸€ä¸ªstarter,ç›®çš„æ˜¯ä¸ºäº†é™ä½Žè€¦åˆæ€§.è™½è¯´å¯ä»¥é™ä½Žç¨‹åºä¾èµ–ä¹‹é—´çš„è€¦åˆæ€§,ä½†æ˜¯æˆ‘ä»¬ä¸å»ºè®®è‡ªå·±å®šä¹‰starter,å› ä¸ºSpring Bootæˆ–å…¶ä»–ç¤¾åŒºå·²ç»æä¾›äº†å¤§éƒ¨åˆ†çš„starter,å¯ä»¥æ»¡è¶³æˆ‘ä»¬æ—¥å¸¸çš„éœ€æ±‚.æœ¬ç¯‡åšæ–‡ä¸»è¦ä¸ºäº†è®©å¤§å®¶æ›´å¥½çš„ç†è§£Spring Bootçš„è‡ªåŠ¨é…ç½®åŽŸç†è€Œå†™çš„,æ€»ä¹‹,éµå¾ªâ€ä¸è¦é‡å¤é€ è½®å­â€çš„å®—æ—¨.åŠ¨èµ·æ¥è‡ªå·±é€ è½®å­,è®©æˆ‘ä»¬ä»ŽçŽ°åœ¨å¼€å§‹: 1.æ–°å»ºä¸€ä¸ªMavené¡¹ç›®,pomæ–‡ä»¶ä¸­å¯¼å…¥ä¾èµ–1234567891011121314151617181920212223242526272829&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.yeamin.boot&lt;/groupId&gt; &lt;artifactId&gt;yeamin-boot-start&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;description&gt;è‡ªå®šä¹‰çš„start&lt;/description&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- è‡ªåŠ¨é…ç½®ä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt; &lt;version&gt;2.0.0.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;version&gt;2.0.0.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 2.å®‰å…¨çš„é…ç½®ç±»1234567891011121314151617181920212223package cn.yeamin.boot.conf;import org.springframework.boot.context.properties.ConfigurationProperties;/** * å®‰å…¨çš„é…ç½®ç±» * @author Administrator */@ConfigurationProperties(prefix = \"yeamin.boot\")public class HelloServiceProperties &#123; private static final String MSG = \"world\"; private String msg = MSG; public String getMsg() &#123; return msg; &#125; public void setMsg(String msg) &#123; this.msg = msg; &#125; &#125; 3.åˆ¤æ–­ä¾æ®ç±»123456789101112131415161718192021/** * åˆ¤æ–­ä¾æ®ç±»:å¯æ ¹æ®æ­¤ç±»çš„å­˜åœ¨ä¸Žå¦åˆ¤æ–­æ˜¯å¦åˆ›å»ºè¿™ä¸ªç±»çš„Bean * @author Administrator */public class HelloService &#123; private String msg; public String sayHello() &#123; return \"Hello: \" + msg; &#125; public String getMsg() &#123; return msg; &#125; public void setMsg(String msg) &#123; this.msg = msg; &#125; &#125; 4.è‡ªåŠ¨é…ç½®ç±»12345678910111213141516171819202122232425262728293031package cn.yeamin.boot.conf;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import cn.yeamin.boot.service.HelloService;@Configuration@EnableConfigurationProperties(HelloServiceProperties.class)@ConditionalOnClass(&#123;HelloService.class&#125;)@ConditionalOnProperty(prefix = \"yeamin.boot\", value = \"enable\", matchIfMissing = true)public class HelloAutoConfiguration &#123; @Autowired private HelloServiceProperties properties; @Bean //åˆ¤æ–­HelloServiceæ˜¯å¦åœ¨classpathå­˜åœ¨ @ConditionalOnMissingBean(HelloService.class) public HelloService helloService() &#123; HelloService helloService = new HelloService(); helloService.setMsg(properties.getMsg()); return helloService; &#125;&#125; 5.æ³¨å†Œé…ç½®åœ¨src/main/resourceæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºMETA-INF/spring.factoriesæ–‡ä»¶123# Auto Configure è‹¥æœ‰å¤šä¸ªè‡ªåŠ¨é…ç½®,åˆ™ç”¨&quot;,&quot;éš”å¼€,æ­¤å¤„&quot;\\&quot;æ˜¯ä¸ºäº†æ¢è¡ŒåŽè¿˜èƒ½å¤Ÿè¯»å–åˆ°valueorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\\cn.yeamin.boot.conf.HelloAutoConfiguration 6.æ–°å»ºä¸€ä¸ªSpring Booté¡¹ç›®,ä½¿ç”¨starter,å¯¼å…¥pomé…ç½®12345&lt;dependency&gt; &lt;groupId&gt;com.yeamin.boot&lt;/groupId&gt; &lt;artifactId&gt;yeamin-boot-start&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;/dependency&gt; 7.ç¼–å†™controller123456789101112@RestControllerpublic class HelloController &#123; @Autowired private HelloService helloService; @GetMapping(&quot;/hello&quot;) public String index() &#123; return helloService.sayHello(); &#125;&#125; 8.è¿›è¡Œymlé…ç½®12345server: port: 80yeamin: boot: msg: litong 9.æµè§ˆå™¨è¯·æ±‚http://localhost/hello,æŸ¥çœ‹ç»“æžœ1litong èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ ä¸‹ä¸€ç¯‡ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• æš‚æ— ç›®å½• è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:41.882Z","updated":"2020-01-08T13:06:41.713Z","comments":true,"path":"public/2018/02/07/ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ/index.html","permalink":"http://ltyeamin.github.io/public/2018/02/07/ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ/index.html","excerpt":"","text":"ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ ops Jenkins 2018/02/07 æœ¬æ–‡äºŽ658å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ Jenkinsæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶é¡¹ç›®ï¼Œæ˜¯åŸºäºŽJavaå¼€å‘çš„ä¸€ç§æŒç»­é›†æˆå·¥å…·ï¼Œç”¨äºŽç›‘æŽ§æŒç»­é‡å¤çš„å·¥ä½œï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå¼€æ”¾æ˜“ç”¨çš„è½¯ä»¶å¹³å°ï¼Œä½¿è½¯ä»¶çš„æŒç»­é›†æˆå˜æˆå¯èƒ½ã€‚ å®‰è£…Jenkinsé¦–å…ˆæˆ‘ä»¬åŽ»Jenkinså®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°çš„éƒ¨ç½²åŒ…(.war):Jenkins.å› ä¸ºæˆ‘æ˜¯åœ¨Linuxå¹³å°éƒ¨ç½²,éœ€è¦æ³¨æ„çš„æ˜¯Jenkinsæ˜¯åŸºäºŽJavaæž„å»ºçš„,æ‰€ä»¥æˆ‘ä»¬å¿…é¡»å®‰è£…å¥½JDKç³»åˆ—çš„ä¾èµ–æ‰è¡Œ.Linuxå®‰è£…JDKæ—¶å€™å…ˆå¸è½½æœ¬èº«è‡ªå¸¦çš„OpenJDKå†è¿›è¡Œå®‰è£…,å¹¶é…ç½®å¥½çŽ¯å¢ƒå˜é‡.JDKå®‰è£…æˆ‘ä¸åœ¨ç´¯è¿°,è¯»è€…å¯è‡ªè¡Œç™¾åº¦. 12# é€šè¿‡wgetæ–¹å¼ä¸‹è½½Tomcatå’ŒJenkinså®‰è£…åŒ…[root@localhost bin]# wget http://mirrors.jenkins.io/war/latest/jenkins.war ä¸‹è½½å®ŒæˆåŽä¼šåœ¨å½“å‰ç›®å½•å‡ºçŽ°jenkins.war,å› ä¸ºJenkinså†…åµŒJettyæœåŠ¡å™¨(ä¹Ÿå¯ä»¥éƒ¨ç½²åœ¨Tomcatå®¹å™¨é‡Œ),å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨.1[root@localhost bin]# java -jar jenkins.war æ‰§è¡Œä»¥ä¸‹å‘½ä»¤,ä¼šæ‰“å°å‡ºå¦‚ä¸‹æ—¥å¿—ä¿¡æ¯:12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182Running from: /usr/local/bin/jenkins.warwebroot: $user.home/.jenkinsäºŒæœˆ 06, 2018 11:19:44 ä¸Šåˆ Main deleteWinstoneTempContentsè­¦å‘Š: Failed to delete the temporary Winstone file /tmp/winstone/jenkins.waräºŒæœˆ 06, 2018 11:19:44 ä¸Šåˆ org.eclipse.jetty.util.log.Log initializedä¿¡æ¯: Logging initialized @1303ms to org.eclipse.jetty.util.log.JavaUtilLogäºŒæœˆ 06, 2018 11:19:44 ä¸Šåˆ winstone.Logger logInternalä¿¡æ¯: Beginning extraction from war fileäºŒæœˆ 06, 2018 11:19:47 ä¸Šåˆ org.eclipse.jetty.server.handler.ContextHandler setContextPathè­¦å‘Š: Empty contextPathäºŒæœˆ 06, 2018 11:19:47 ä¸Šåˆ org.eclipse.jetty.server.Server doStartä¿¡æ¯: jetty-9.4.z-SNAPSHOTäºŒæœˆ 06, 2018 11:19:47 ä¸Šåˆ org.eclipse.jetty.webapp.StandardDescriptorProcessor visitServletä¿¡æ¯: NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServletäºŒæœˆ 06, 2018 11:19:48 ä¸Šåˆ org.eclipse.jetty.server.session.DefaultSessionIdManager doStartä¿¡æ¯: DefaultSessionIdManager workerName=node0äºŒæœˆ 06, 2018 11:19:48 ä¸Šåˆ org.eclipse.jetty.server.session.DefaultSessionIdManager doStartä¿¡æ¯: No SessionScavenger set, using defaultsäºŒæœˆ 06, 2018 11:19:48 ä¸Šåˆ org.eclipse.jetty.server.session.HouseKeeper startScavengingä¿¡æ¯: Scavenging every 600000msJenkins home directory: /root/.jenkins found at: $user.home/.jenkinsäºŒæœˆ 06, 2018 11:19:49 ä¸Šåˆ org.eclipse.jetty.server.handler.ContextHandler doStartä¿¡æ¯: Started w.@f9b7332&#123;/,file:///root/.jenkins/war/,AVAILABLE&#125;&#123;/root/.jenkins/war&#125;äºŒæœˆ 06, 2018 11:19:49 ä¸Šåˆ org.eclipse.jetty.server.AbstractConnector doStartä¿¡æ¯: Started ServerConnector@2baa8d82&#123;HTTP/1.1,[http/1.1]&#125;&#123;0.0.0.0:8080&#125;äºŒæœˆ 06, 2018 11:19:49 ä¸Šåˆ org.eclipse.jetty.server.Server doStartä¿¡æ¯: Started @6419msäºŒæœˆ 06, 2018 11:19:49 ä¸Šåˆ winstone.Logger logInternalä¿¡æ¯: Winstone Servlet Engine v4.0 running: controlPort=disabledäºŒæœˆ 06, 2018 11:19:52 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Started initializationäºŒæœˆ 06, 2018 11:19:52 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Listed all pluginsäºŒæœˆ 06, 2018 11:19:56 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Prepared all pluginsäºŒæœˆ 06, 2018 11:19:56 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Started all pluginsäºŒæœˆ 06, 2018 11:19:56 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Augmented all extensionsäºŒæœˆ 06, 2018 11:19:59 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Loaded all jobsäºŒæœˆ 06, 2018 11:19:59 ä¸Šåˆ hudson.eureka1-server.AsyncPeriodicWork$1 runä¿¡æ¯: Started Download metadataäºŒæœˆ 06, 2018 11:20:00 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Completed initializationäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.context.support.AbstractApplicationContext prepareRefreshä¿¡æ¯: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@fabd330: display name [Root WebApplicationContext]; startup date [Tue Feb 06 11:20:02 CST 2018]; root of context hierarchyäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactoryä¿¡æ¯: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@fabd330]: org.springframework.beans.factory.support.DefaultListableBeanFactory@1452b2bcäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletonsä¿¡æ¯: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1452b2bc: defining beans [authenticationManager]; root of factory hierarchyäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.context.support.AbstractApplicationContext prepareRefreshä¿¡æ¯: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@1a724d6e: display name [Root WebApplicationContext]; startup date [Tue Feb 06 11:20:02 CST 2018]; root of context hierarchyäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactoryä¿¡æ¯: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@1a724d6e]: org.springframework.beans.factory.support.DefaultListableBeanFactory@7be61840äºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletonsä¿¡æ¯: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@7be61840: defining beans [filter,legacy]; root of factory hierarchyäºŒæœˆ 06, 2018 11:20:03 ä¸Šåˆ jenkins.install.SetupWizard initä¿¡æ¯: ***************************************************************************************************************************************************************************************Jenkins initial setup is required. An admin user has been created and a password generated.Please use the following password to proceed to installation:00caaea4ac874d4db11cb31c27e5c7ceThis may also be found at: /root/.jenkins/secrets/initialAdminPassword***************************************************************************************************************************************************************************************äºŒæœˆ 06, 2018 11:21:34 ä¸Šåˆ hudson.eureka1-server.UpdateSite updateDataä¿¡æ¯: Obtained the latest update center data file for UpdateSource defaultäºŒæœˆ 06, 2018 11:21:37 ä¸Šåˆ hudson.eureka1-server.UpdateSite updateDataä¿¡æ¯: Obtained the latest update center data file for UpdateSource defaultäºŒæœˆ 06, 2018 11:21:37 ä¸Šåˆ hudson.WebAppMain$3 runä¿¡æ¯: Jenkins is fully up and runningäºŒæœˆ 06, 2018 11:21:37 ä¸Šåˆ hudson.eureka1-server.DownloadService$Downloadable loadä¿¡æ¯: Obtained the updated data file for hudson.tasks.Maven.MavenInstaller å¯åŠ¨æˆåŠŸåŽ,æµè§ˆå™¨è¾“å…¥http://192.168.64.128:8080,åˆ™ä¼šè¿›å…¥ä»¥ä¸‹ç•Œé¢:èŽ·å–å£ä»¤æœ‰å¥½å‡ ç§æ–¹å¼: ä¸Šè¿°å¯åŠ¨æ—¥å¿—é‡Œ,è¿™é‡Œå£ä»¤ä¸º:00caaea4ac874d4db11cb31c27e5c7ce /root/.jenkins/secrets/initialAdminPasswordå¤åˆ¶å£ä»¤å¡«å……è¿›åŽ»å¹¶ç‚¹å‡»ç»§ç»­åˆ™è¿›å…¥ä¸‹åˆ—ç•Œé¢:è¿™é‡Œæˆ‘ä»¬é€‰æ‹©å®‰è£…æŽ¨èçš„é»˜è®¤å®‰è£…æ–¹å¼,Jenkinså°±è‡ªåŠ¨é…ç½®å¥½äº†ä¸€äº›å¸¸ç”¨æ’ä»¶.æœ€åŽ,åˆ›å»ºä¸€ä¸ªadminç”¨æˆ·,å®Œæˆå®‰è£….Jenkinsé…ç½®å®‰è£…å®ŒæˆåŽ,æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é…ç½®ä¸€äº›æ’ä»¶.å¦‚JDK,Maven,Git,Gradleç­‰å¸¸ç”¨æ’ä»¶. é¦–é¡µâ€”â€”&gt;ç³»ç»Ÿç®¡ç†â€”-&gt; å…¨å±€å·¥å…·ç®¡ç†1234567891011# ä¸‹è½½maven-Dmaven.test.skip=truevi seting&lt;localRepository&gt;/usr/local/bin/apache-maven-3.5.2/repository&lt;/localRepository&gt; &lt;mirrors&gt; &lt;mirror&gt; &lt;id&gt;nexus-aliyun&lt;/id&gt; &lt;mirrorOf&gt;*&lt;/mirrorOf&gt; &lt;name&gt;Nexus aliyun&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt; &lt;/mirror&gt; &lt;/mirrors&gt; Gitæˆ‘ä»¬é€‰æ‹©é»˜è®¤å®‰è£…,JDKæ‰‹åŠ¨åŽ»é…ç½®. é¦–é¡µâ€”â€”&gt;ç³»ç»Ÿç®¡ç†â€”-&gt; ç®¡ç†æ’ä»¶â€”â€“&gt;å¯é€‰æ’ä»¶â€”-&gt;è¿‡æ»¤â€”â€”&gt;è¾“å…¥:Maven Integration pluginæˆ–è€…Git pluginâ€”â€“&gt;é€‰æ‹©æ€§å®‰è£…æ’ä»¶ æž„å»ºè‡ªåŠ¨åŒ–éƒ¨ç½²Gité¡¹ç›®åœ°å€: https://gitee.com/ltalex/GitCeShi.gitåœ¨Jenkinsé¦–é¡µé€‰æ‹©æ–°å»ºä»»åŠ¡,å¦‚ä¸‹ ä»¥ä¸‹é…ç½®è¡¨ç¤ºmavenæž„å»ºç»“æŸåŽæ‰§è¡Œçš„è„šæœ¬(Execute shell)1234/usr/local/eureka/stop.sh/usr/local/eureka/replace.sh# ç†è®ºæ¥è¯´å¯ä»¥è¿™æ ·å†™nohup java -jar xxx.jar &amp;,ä½†æ˜¯è¿™ç§é…ç½®åœ¨jenkisæ˜¯æ— æ•ˆçš„BUILD_ID=dontKillMe nohup /usr/local/eureka/startup.sh &amp; åœæ­¢è„šæœ¬123456789# å°†åº”ç”¨åœæ­¢#stop.sh#!/bin/bashecho &quot;Stopping SpringBoot Application&quot;pid=`ps -ef | grep eureka1-server.jar | grep -v grep | awk &apos;&#123;print $2&#125;&apos;`if [ -n &quot;$pid&quot; ]then kill -9 $pidfi å¤‡ä»½è„šæœ¬123456789#replace.sh ç”¨äºŽå°†ä¸Šæ¬¡æž„å»ºçš„ç»“æžœå¤‡ä»½ï¼Œç„¶åŽå°†æ–°çš„æž„å»ºç»“æžœç§»åŠ¨åˆ°åˆé€‚çš„ä½ç½®#!/bin/bash# å…ˆåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æžœå­˜åœ¨ï¼Œåˆ™å¤‡ä»½file=&quot;/usr/local/eureka/eureka1-server.jar&quot;if [ -f &quot;$file&quot; ]then mv /usr/local/eureka/eureka1-server.jar /usr/local/eureka/backup/eureka1-server.jar.`date +%Y%m%d%H%M%S`fimv /root/.jenkins/workspace/Test/target/eureka1-server.jar /usr/local/eureka/eureka1-server.jar å¯åŠ¨è„šæœ¬123456# startup.sh å¯åŠ¨é¡¹ç›®#!/bin/shecho &quot;æŽˆäºˆå½“å‰ç”¨æˆ·æƒé™&quot;chmod 777 /usr/local/eureka/eureka1-server.jarecho &quot;æ‰§è¡Œ.....&quot;java -jar /usr/local/eureka/eureka1-server.jar ç‚¹å‡»ç«‹å³æž„å»º,Consoleä¼šå‡ºçŽ°å¦‚ä¸‹ä¿¡æ¯: éƒ¨ç½²æˆåŠŸåŽ,è®¿é—®http://192.168.64.128:8099/,å¦‚ä¸‹å›¾: é‡åˆ°çš„é—®é¢˜ åœ¨éƒ¨ç½²çš„æ—¶å€™ä¼šå‡ºçŽ°java -jarå‡ºçŽ°æ²¡æœ‰ä¸»æ¸…å•å±žæ€§çš„é—®é¢˜,é‚£æ˜¯å› ä¸ºé¡¹ç›®ä¸­Pomæ–‡ä»¶æ²¡æœ‰é…ç½®SpringBootæ’ä»¶,å¯¼è‡´åœ¨jaråŒ…ä¸­MANIFEST.MFæ–‡ä»¶æ²¡æœ‰å¯åŠ¨ä¿¡æ¯12java -jar eureka1-server.jareureka1-server.jarä¸­æ²¡æœ‰ä¸»æ¸…å•å±žæ€§ è§£å†³æ–¹æ¡ˆ:1234567891011&lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;repackage&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt;&lt;/plugin&gt; æž„å»ºæˆåŠŸåŽçš„è„šæœ¬,å³Execute shellå°½é‡æ‰§è¡Œè¿œç¨‹çš„shellè„šæœ¬,ä¸è¦ç›´æŽ¥åœ¨é‡Œé¢å¯åŠ¨é¡¹ç›®,å› ä¸ºé¡¹ç›®å¯åŠ¨åŽä¼šä¸€ç›´åœç•™,Jenkinså°±æ˜¯æž„å»ºæˆåŠŸä¹Ÿä¸ä¼šåœæ­¢å½“å‰é¡¹ç›®çš„æž„å»ºçŠ¶æ€. å¯ä»¥å®šåˆ¶æž„å»ºå‡ºå‘å™¨,å½“æˆ‘ä»¬å¸Œæœ›pushä¸€äº›ä¸œè¥¿èƒ½å¤Ÿç«‹é©¬æž„å»ºé¡¹ç›®æ—¶,å¯åœ¨æž„å»ºè§¦å‘å™¨ä¸­å‹¾é€‰Poll SCMæ—¥ç¨‹è¡¨è¡¨å¡«å†™è¡¨è¾¾å¼:* * * * * èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž ä¸‹ä¸€ç¯‡ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• å®‰è£…JenkinsJenkinsé…ç½®æž„å»ºè‡ªåŠ¨åŒ–éƒ¨ç½²é‡åˆ°çš„é—®é¢˜ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.713Z","updated":"2019-11-27T15:22:16.713Z","comments":true,"path":"public/2018/03/27/å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž/index.html","permalink":"http://ltyeamin.github.io/public/2018/03/27/å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž/index.html","excerpt":"","text":"å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž backend Spring 2018/03/27 æœ¬æ–‡äºŽ610å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ åœ¨Springä¸­,è¢«@Scopeæ³¨è§£ä¿®é¥°Beané»˜è®¤æ˜¯å•ä¾‹æ¨¡å¼çš„,å³åªæœ‰ä¸€ä¸ªå®žä¾‹å¯¹è±¡,å¤šæ¬¡èŽ·å–Beanä¼šæ‹¿åˆ°åŒä¸€ä¸ªå¯¹è±¡. å•ä¾‹æ³¨å†Œè¡¨Springé‡‡ç”¨å•ä¾‹æ³¨å†Œè¡¨çš„ç‰¹æ®Šæ–¹å¼å®žçŽ°å•ä¾‹æ¨¡å¼.é¦–å…ˆè‡ªå·±å†™ä¸ªå•ä¾‹æ³¨å†Œè¡¨.æˆ‘ä»¬å¯ä»¥é€šè¿‡Mapç¼“å­˜å•ä¾‹å¯¹è±¡,å®žçŽ°å•ä¾‹æ³¨å†Œè¡¨.å€¼å¾—æ³¨æ„çš„æ˜¯,é‡‡ç”¨ConcurrentHashMapæ˜¯å‡ºäºŽçº¿ç¨‹å®‰å…¨çš„è€ƒè™‘. 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * @author tong.li * @Description: ä¸€ä¸ªç®€å•çš„å•ä¾‹å®žçŽ°,è®¾è®¡å•ä¾‹æ³¨å†Œè¡¨ * @packagename: com.yimi.yts.learningpath * @date 2018-03-27 10:04 */public class SingletonReg &#123; //æž„å»ºé‡‡ç”¨ConcurrentHashMap,ç”¨äºŽå……å½“ç¼“å­˜æ³¨å†Œè¡¨ private final static Map&lt;String, Object&gt; singletonObjects = new ConcurrentHashMap&lt;&gt;(16); // é™æ€ä»£ç å—åªåŠ è½½æ‰§è¡Œä¸€æ¬¡ static &#123; // å®žä¾‹åŒ–Bean SingletonReg singletonReg = new SingletonReg(); //å¹¶æ³¨å†Œåˆ°æ³¨å†Œè¡¨ä¸­,keyä¸ºç±»çš„å®Œå…¨é™å®šå,valueä¸ºå®žä¾‹åŒ–å¯¹è±¡ singletonObjects.put(singletonReg.getClass().getName(),singletonReg); &#125; /** * ç§æœ‰åŒ–æž„é€ æ–¹æ³•,é¿å…å¤–éƒ¨åˆ›å»ºæœ¬ç±»å®žä¾‹ */ private SingletonReg() &#123;&#125; /** * å¯¹å¤–æš´éœ²èŽ·å¾—è¯¥beançš„æ–¹æ³•,Springæ¡†æž¶ä¸€èˆ¬ä¼šè¿”å›žObject * @return */ public static SingletonReg getInstance(String className) &#123; if (StringUtils.isEmpty(className)) &#123; return null; &#125; //ä»Žæ³¨å†Œè¡¨èŽ·å–,å¦‚æžœæ²¡æœ‰ç›´æŽ¥åˆ›å»º if (singletonObjects.get(className) == null) &#123; try &#123; //å¦‚æžœä¸ºç©º,é€šè¿‡åå°„è¿›è¡Œå®žä¾‹åŒ– singletonObjects.put(className, Class.forName(className).newInstance()); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; //ä»Žç¼“å­˜è¡¨ä¸­å›žåŽ»,å¦‚æžœç¼“å­˜å‘½ä¸­ç›´æŽ¥è¿”å›ž return (SingletonReg)singletonObjects.get(className); &#125; &#125; åŒè¿‡ä»¥ä¸Šå•ä¾‹å®žçŽ°,getInstance()æ–¹æ³•é€šè¿‡ä¼ å…¥ç±»åè¿›è¡Œåˆ¤æ–­,å¦‚æžœå‚æ•°ä¸ºnull,é‚£å°±æ— æ³•èŽ·å–bean,å¦‚æžœå‚æ•°ä¸ä¸ºç©º,å…ˆä»Žç¼“å­˜æ³¨å†Œè¡¨å‘½ä¸­,å¦‚æžœå‘½ä¸­å°±returnæŽ‰,æ²¡æœ‰å‘½ä¸­é€šè¿‡åå°„æœºåˆ¶å®žä¾‹åŒ–ä¸€ä¸ªreturn.è¿™æ ·å¤šæ¬¡èŽ·å¾—è°ƒç”¨getInstance()æ–¹æ³•éƒ½æ˜¯èŽ·å¾—åŒä¸€ä¸ªå¯¹è±¡.æµ‹è¯•å¦‚ä¸‹:123456789 public static void main(String[] args) &#123; /* * è¿”å›žçš„éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ * com.yimi.yts.learningpath.SingletonReg@3d82c5f3 * com.yimi.yts.learningpath.SingletonReg@3d82c5f3 */ System.out.println( SingletonReg.getInstance(&quot;com.yimi.yts.learningpath.SingletonReg&quot;)); System.out.println( SingletonReg.getInstance(&quot;com.yimi.yts.learningpath.SingletonReg&quot;));&#125; Springæºç åˆ†æžé€šè¿‡ä¸Šè¿°å®žçŽ°,Springå°±æ˜¯é‡‡ç”¨äº†è¿™ç§å•ä¾‹æ³¨å†Œè¡¨çš„ç‰¹æ®Šæ–¹å¼å®žçŽ°å•ä¾‹æ¨¡å¼çš„.123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596public abstract class AbstractBeanFactory extends FactoryBeanRegistrySupport implements ConfigurableBeanFactory &#123; @SuppressWarnings(&quot;unchecked&quot;) protected &lt;T&gt; T doGetBean( final String name, final Class&lt;T&gt; requiredType, final Object[] args, boolean typeCheckOnly) throws BeansException &#123; //å¯¹Beançš„nameè¿›è¡Œå¤„ç†,é˜²æ­¢éžæ³•å­—ç¬¦ final String beanName = transformedBeanName(name); Object bean; // Eagerly check singleton cache for manually registered singletons. //ä»Žå•ä¾‹æ³¨å†Œè¡¨ä¸­æ£€æŸ¥æ˜¯å¦å­˜åœ¨å•ä¾‹ç¼“å­˜ Object sharedInstance = getSingleton(beanName); if (sharedInstance != null &amp;&amp; args == null) &#123; //çœç•¥éƒ¨åˆ†ä»£ç ... // è¿”å›žç¼“å­˜å®žä¾‹ bean = getObjectForBeanInstance(sharedInstance, name, beanName, null); &#125; else &#123; //çœç•¥ä»£ç ... try &#123; // ...å¿½ç•¥ä»£ç  // å•ä¾‹æ¨¡å¼,å®žä¾‹åŒ–bean,å¤„ç†åˆ†æ”¯ // Create bean instance. if (mbd.isSingleton()) &#123; sharedInstance = getSingleton(beanName, new ObjectFactory&lt;Object&gt;() &#123; @Override public Object getObject() throws BeansException &#123; try &#123; return createBean(beanName, mbd, args); &#125; catch (BeansException ex) &#123; destroySingleton(beanName); throw ex; &#125; &#125; &#125;); bean = getObjectForBeanInstance(sharedInstance, name, beanName, mbd); &#125; //åŽŸåž‹é­”å…½,å¤„ç†åˆ†æ”¯ else if (mbd.isPrototype()) &#123; //çœç•¥ä»£ç  &#125; else &#123; String scopeName = mbd.getScope(); final Scope scope = this.scopes.get(scopeName); if (scope == null) &#123; throw new IllegalStateException(&quot;No Scope registered for scope name &apos;&quot; + scopeName + &quot;&apos;&quot;); &#125; try &#123; Object scopedInstance = scope.get(beanName, new ObjectFactory&lt;Object&gt;() &#123; @Override public Object getObject() throws BeansException &#123; beforePrototypeCreation(beanName); try &#123; return createBean(beanName, mbd, args); &#125; finally &#123; afterPrototypeCreation(beanName); &#125; &#125; &#125;); bean = getObjectForBeanInstance(scopedInstance, name, beanName, mbd); &#125; catch (IllegalStateException ex) &#123; throw new BeanCreationException(beanName, &quot;Scope &apos;&quot; + scopeName + &quot;&apos; is not active for the current thread; consider &quot; + &quot;defining a scoped proxy for this bean if you intend to refer to it from a singleton&quot;, ex); &#125; &#125; &#125; catch (BeansException ex) &#123; cleanupAfterBeanCreationFailure(beanName); throw ex; &#125; &#125; // Check if required type matches the type of the actual bean instance. if (requiredType != null &amp;&amp; bean != null &amp;&amp; !requiredType.isInstance(bean)) &#123; try &#123; return getTypeConverter().convertIfNecessary(bean, requiredType); &#125; catch (TypeMismatchException ex) &#123; if (logger.isDebugEnabled()) &#123; logger.debug(&quot;Failed to convert bean &apos;&quot; + name + &quot;&apos; to required type &apos;&quot; + ClassUtils.getQualifiedName(requiredType) + &quot;&apos;&quot;, ex); &#125; throw new BeanNotOfRequiredTypeException(name, requiredType, bean.getClass()); &#125; &#125; return (T) bean; &#125;&#125; å…¶ä¸­ä¸­é‡è¦çš„ä»£ç æ˜¯getSingleton()æ–¹æ³•,ä¸‹é¢æ·±å…¥åˆ†æžè¯¥æ–¹æ³•:1234567891011121314151617181920212223242526272829303132333435public class DefaultSingletonBeanRegistry extends SimpleAliasRegistry implements SingletonBeanRegistry &#123; // é€šè¿‡ Map å®žçŽ°å•ä¾‹æ³¨å†Œè¡¨ private final Map&lt;String, Object&gt; singletonObjects = new ConcurrentHashMap&lt;String, Object&gt;(64); public Object getSingleton(String beanName, ObjectFactory&lt;?&gt; singletonFactory) &#123; Assert.notNull(beanName, &quot;&apos;beanName&apos; must not be null&quot;); synchronized (this.singletonObjects) &#123; // æ£€æŸ¥ç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨å®žä¾‹ Object singletonObject = this.singletonObjects.get(beanName); if (singletonObject == null) &#123; // ...å¿½ç•¥ä»£ç  try &#123; singletonObject = singletonFactory.getObject(); &#125; catch (BeanCreationException ex) &#123; // ...å¿½ç•¥ä»£ç  &#125; finally &#123; // ...å¿½ç•¥ä»£ç  &#125; // å¦‚æžœå®žä¾‹å¯¹è±¡åœ¨ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬æ³¨å†Œåˆ°å•ä¾‹æ³¨å†Œè¡¨ä¸­ã€‚ addSingleton(beanName, singletonObject); &#125; return (singletonObject != NULL_OBJECT ? singletonObject : null); &#125; &#125; protected void addSingleton(String beanName, Object singletonObject) &#123; synchronized (this.singletonObjects) &#123; this.singletonObjects.put(beanName, (singletonObject != null ? singletonObject : NULL_OBJECT)); &#125; &#125;&#125; æ€»ç»“ç»¼ä¸Šè¿°åˆ†æž.æˆ‘ä»¬å¯ä»¥å¾—å‡º:Springå¯¹Beanå®žä¾‹çš„åˆ›å»ºæ˜¯é‡‡ç”¨å•ä¾‹æ³¨å†Œè¡¨çš„æ–¹å¼è¿›è¡Œå®žçŽ°çš„ï¼Œè€Œè¿™ä¸ªæ³¨å†Œè¡¨çš„ç¼“å­˜æ˜¯ ConcurrentHashMapå¯¹è±¡ã€‚ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok ä¸‹ä¸€ç¯‡ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• å•ä¾‹æ³¨å†Œè¡¨Springæºç åˆ†æžæ€»ç»“ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.206Z","updated":"2019-11-27T15:22:16.206Z","comments":true,"path":"public/2019/11/27/Zookeeperé›†ç¾¤æ­å»º/index.html","permalink":"http://ltyeamin.github.io/public/2019/11/27/Zookeeperé›†ç¾¤æ­å»º/index.html","excerpt":"","text":"Zookeeperé›†ç¾¤æ­å»º | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Zookeeperé›†ç¾¤æ­å»º backend Zookeeper 2019/11/27 1. å‡†å¤‡å·¥ä½œ å®‰è£…JDK Zookeeperå®‰è£…åŒ…ä¸‹è½½ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©3.5.6è¿›è¡Œä¸‹è½½ å‡†å¤‡ä¸‰å°æœºå™¨ï¼Œåˆ†åˆ«æ˜¯192.168.5.1,192.168.5.100,192.168.5.101 å°†zookeeperçš„å®‰è£…åŒ…ä¸Šä¼ åˆ°è¿™ä¸‰å°æœºå™¨ç›¸åŒçš„ç›®å½•ä¸Š(æ–¹ä¾¿ç®¡ç†) 2. å¼€å§‹æ­å»º1ï¼‰é…ç½®é›†ç¾¤ åœ¨ä¸‰å°æœºå™¨ä¾æ¬¡è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š è§£åŽ‹Zookeeperï¼Œå¹¶åˆ›å»ºdataç›®å½•ï¼Œå¦å¤–å°†confä¸‹çš„zoo_sample.cfgæ–‡ä»¶å¤åˆ¶å¹¶æ”¹åä¸ºzoo.cfg 1234tar -xzvf apache-zookeeper-3.5.6-bin.tar.gzcd apache-zookeeper-3.5.6-bin/mkdir datacp conf/zoo_sample.cfg conf/zoo.cfg åœ¨ä¸‰å°æœºå™¨ä¸Šé…ç½®zoo.cfgé›†ç¾¤çŽ¯å¢ƒ 1vi conf/zoo.cf ä¿®æ”¹å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536# The number of milliseconds of each ticktickTime=2000# The number of ticks that the initial # synchronization phase can takeinitLimit=10# The number of ticks that can pass between # sending a request and getting an acknowledgementsyncLimit=5# the directory where the snapshot is stored.# do not use /tmp for storage, /tmp here is just # example sakes.# è¿™é‡Œæ”¹æˆdataç›®å½•ï¼Œç”¨äºŽå­˜æ”¾æ•°æ®ï¼Œç”¨ç›¸å¯¹è·¯å¾„dataDir=../data# the port at which the clients will connect# é»˜è®¤ç«¯å£ä¸º2181å¯ä»¥ä¸æ”¹ï¼Œå¦‚æžœåœ¨ä¸€å°æœºå™¨æ­å»ºä¼ªé›†ç¾¤åˆ™éœ€è¦ä¿®æ”¹clientPort=2181# the maximum number of client connections.# increase this if you need to handle more clients#maxClientCnxns=60## Be sure to read the maintenance section of the # administrator guide before turning on autopurge.## http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance## The number of snapshots to retain in dataDir#autopurge.snapRetainCount=3# Purge task interval in hours# Set to \"0\" to disable auto purge feature#autopurge.purgeInterval=1# åœ¨æ¯ä¸€ä¸ª zookeeperçš„zoo.cfgé…ç½®å®¢æˆ·ç«¯è®¿é—®ç«¯å£ï¼ˆclientPortï¼‰å’Œé›†ç¾¤æœåŠ¡å™¨IPåˆ—è¡¨ã€‚# è§£é‡Šï¼šserver.æœåŠ¡å™¨ID=æœåŠ¡å™¨ IP åœ°å€ï¼šæœåŠ¡å™¨ä¹‹é—´é€šä¿¡ç«¯å£ï¼šæœåŠ¡å™¨ä¹‹é—´æŠ•ç¥¨é€‰ä¸¾ç«¯å£# é›†ç¾¤æœåŠ¡å™¨IPåˆ—è¡¨å¦‚ä¸‹server.1=192.168.5.100:2881:3881server.2=192.168.5.101:2881:3881server.3=192.168.5.1:2881:3881 æ ¹æ®ä¸Šè¿°çš„é…ç½®ï¼Œåœ¨æ¯ä¸ª zookeeperçš„data ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª myid æ–‡ä»¶ï¼Œå†…å®¹åˆ†åˆ«æ˜¯ 1ã€2ã€3 ã€‚è¿™ä¸ªæ–‡ä»¶å°±æ˜¯è®°å½•æ¯ä¸ªæœåŠ¡å™¨çš„ IDã€‚æ¯”å¦‚è¿™é‡ŒæœåŠ¡1ã€2ã€3åˆ†åˆ«ä»£è¡¨192.168.5.100ã€192.168.5.101ã€192.168.5.1è¿™ä¸‰å°æœºå™¨ã€‚ 123456# åœ¨192.168.5.100æ‰§è¡Œtouch data/myid &amp;&amp; echo 1 &gt; data/myid# åœ¨192.168.5.101æ‰§è¡Œtouch data/myid &amp;&amp; echo 2 &gt; data/myid# åœ¨192.168.5.1æ‰§è¡Œtouch data/myid &amp;&amp; echo 3 &gt; data/myid 2ï¼‰å¯åŠ¨é›†ç¾¤å¯åŠ¨é›†ç¾¤å°±æ˜¯åˆ†åˆ«å¯åŠ¨æ¯ä¸ªå®žä¾‹,å³åœ¨ä¸‰å°å¯åŠ¨Zookeeperï¼š 1./bin/zkServer.sh start å¯åŠ¨æˆåŠŸåŽä¼šæ˜¾ç¤ºSTARTEDï¼Œå¦‚ä¸‹ï¼š 1234[litong@localhost apache-zookeeper-3.5.6-bin]# ./bin/zkServer.sh startZooKeeper JMX enabled by defaultUsing config: /usr/local/bin/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfgStarting zookeeper ... STARTED 3ï¼‰é›†ç¾¤éªŒè¯å¯åŠ¨æˆåŠŸåŽï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸‰å°æœºå™¨ä¸Šè¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯æŸ¥è¯¢é›†ç¾¤çŠ¶æ€ï¼š 1./bin/zkServer.sh status 192.168.5.100æœºå™¨çš„è¾“å‡ºç»“æžœï¼š 12345[root@localhost apache-zookeeper-3.5.6-bin]# ./bin/zkServer.sh statusZooKeeper JMX enabled by defaultUsing config: /usr/local/bin/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfgClient port found: 2181. Client address: localhost.Mode: follower 192.168.5.101æœºå™¨çš„è¾“å‡ºç»“æžœï¼š 12345[root@localhost apache-zookeeper-3.5.6-bin]# ./bin/zkServer.sh statusZooKeeper JMX enabled by defaultUsing config: /usr/local/bin/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfgClient port found: 2181. Client address: localhost.Mode: leader 192.168.5.1æœºå™¨çš„è¾“å‡ºç»“æžœï¼š 12345litong@LT:/media/litong/è½¯ä»¶/programs/tools/apache-zookeeper-3.5.6-bin/bin$ ./zkServer.sh statusZooKeeper JMX enabled by defaultUsing config: /media/litong/è½¯ä»¶/programs/tools/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfgClient port found: 2181. Client address: localhost.Mode: follower ä»Žä¸‰å°æœºå™¨çš„çŠ¶æ€å¯ä»¥æŸ¥çœ‹ï¼Œ192.168.5.101æœºå™¨ä¸Šæ˜¾ç¤ºMode: leaderï¼Œæ˜¯ä¸»èŠ‚ç‚¹(master)ï¼Œå…¶ä»–ä¸¤å°æœºå™¨ä¸Šæ˜¾ç¤ºMode: followerï¼Œåˆ™æ˜¯ä¸¤ä¸ªslaveã€‚ 3. å‚è€ƒæ–‡æ¡£â€‹ 1. Zookeeperä¸»é¡µ â€‹ 2. Zookeeperæ–‡æ¡£ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸‹ä¸€ç¯‡ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• 1. å‡†å¤‡å·¥ä½œ2. å¼€å§‹æ­å»º1ï¼‰é…ç½®é›†ç¾¤2ï¼‰å¯åŠ¨é›†ç¾¤3ï¼‰é›†ç¾¤éªŒè¯3. å‚è€ƒæ–‡æ¡£ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.198Z","updated":"2019-11-27T15:22:16.198Z","comments":true,"path":"public/archives/2018/page/3/index.html","permalink":"http://ltyeamin.github.io/public/archives/2018/page/3/index.html","excerpt":"","text":"å½’æ¡£ï¼š2018 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.199Z","updated":"2019-11-27T15:22:16.199Z","comments":true,"path":"public/archives/2019/page/2/index.html","permalink":"http://ltyeamin.github.io/public/archives/2019/page/2/index.html","excerpt":"","text":"å½’æ¡£ï¼š2019 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.201Z","updated":"2019-11-27T15:22:16.201Z","comments":true,"path":"public/archives/2019/page/3/index.html","permalink":"http://ltyeamin.github.io/public/archives/2019/page/3/index.html","excerpt":"","text":"å½’æ¡£ï¼š2019 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2019 2711æœˆ Zookeeperé›†ç¾¤æ­å»º 2311æœˆ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• 0911æœˆ RocketMQé›†ç¾¤æ­å»º 0811æœˆ RocketMQæ¦‚è¿° 0211æœˆ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬ 1210æœˆ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools 1210æœˆ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® 0209æœˆ Nginxè®¾ç½®é»‘ç™½åå• 0109æœˆ Deepin Linuxå®‰è£…Docker 1108æœˆ ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³ 0906æœˆ é­”éƒ½ä¸Šæµ· 0806æœˆ SambaæœåŠ¡å™¨æ­å»º 0406æœˆ è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜ 0306æœˆ Windowsæœç´¢åˆ©å™¨ 2805æœˆ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ 0204æœˆ èŠèŠJavaé”çš„é‚£äº›äº‹ 0104æœˆ æ·±å…¥åˆ†æžHashMapæºç  2903æœˆ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° 2803æœˆ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– 2703æœˆ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get 0501æœˆ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.200Z","updated":"2019-11-27T15:22:16.200Z","comments":true,"path":"public/archives/2018/page/2/index.html","permalink":"http://ltyeamin.github.io/public/archives/2018/page/2/index.html","excerpt":"","text":"å½’æ¡£ï¼š2018 | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ 2018 1806æœˆ å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿ 1206æœˆ RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ 1106æœˆ RabbitMQæ¦‚è¿° 1006æœˆ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ 1006æœˆ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ 0906æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ 0806æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ 0306æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ 0106æœˆ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ 2405æœˆ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ 2405æœˆ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† 2205æœˆ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ 2205æœˆ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ 1805æœˆ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter 1705æœˆ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž 1705æœˆ Springæ¡ä»¶æ³¨è§£@Conditional 1505æœˆ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ 1005æœˆ æ•°æ®ç»“æž„ä¹‹æŽ’åº 0404æœˆ å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok 2703æœˆ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž 1503æœˆ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž 0702æœˆ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ 3001æœˆ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) 3001æœˆ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ æœç´¢ ç«™å†…æœç´¢ {title} {content} ç½‘ç«™å…¬å‘Š ä¸»é¢˜ä¸‹è½½ï¼šSnippetä¸»é¢˜ ä¸»é¢˜ä½¿ç”¨ï¼šå¸¸è§ä½¿ç”¨é—®é¢˜ æ”¯æŒä¸»é¢˜ï¼šStarä¸€ä¸‹ æ—¥åŽ†äº‘ $(function() { $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'}); }); æ ‡ç­¾äº‘ Docker JVMåŠå¹¶å‘ç¼–ç¨‹ Java JavaScript Jenkins Linux Maven Nginx Python RabbitMQ RocketMQ Samba Spring Spring Boot Spring Cloud Team Building Zookeeper äºŒå‰æ ‘ å®žç”¨å·¥å…·åŠæŠ€å·§ æŽ’åºç®—æ³• æ‚è°ˆ è‡ªåª’ä½“ ç¤¾äº¤ å‹é“¾ ç¨‹åºçŒ¿DD å‘¨ç«‹çš„åšå®¢ çº¯æ´çš„å¾®ç¬‘ crossoverjie&#39;s Blog cmsblogs ä¸œå“¥å“¥9527 å°è’‹çš„Blog é˜¿é‡Œä¸­é—´ä»¶æŠ€æœ¯åšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿåšå®¢ ç½‘æ˜“ä¹å¾—æŠ€æœ¯åšå®¢ éšè¡Œä»˜ç ”ç©¶é™¢ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:17.411Z","updated":"2019-11-27T15:22:17.411Z","comments":true,"path":"public/js/jquery.min.js","permalink":"http://ltyeamin.github.io/public/js/jquery.min.js","excerpt":"","text":"!function(e,t){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error(\"jQuery requires a window with a document\");return t(e)}:t(e)}(\"undefined\"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=Z.type(e);return\"function\"!==n&&!Z.isWindow(e)&&(!(1!==e.nodeType||!t)||\"array\"===n||0===t||\"number\"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if(\"string\"==typeof t){if(ae.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return U.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=de[e]={};return Z.each(e.match(pe)||[],function(e,n){t[n]=!0}),t}function s(){J.removeEventListener(\"DOMContentLoaded\",s,!1),e.removeEventListener(\"load\",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+Math.random()}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r=\"data-\"+t.replace(xe,\"-$1\").toLowerCase(),\"string\"==typeof(n=e.getAttribute(r))){try{n=\"true\"===n||\"false\"!==n&&(\"null\"===n?null:+n+\"\"===n?+n:ye.test(n)?Z.parseJSON(n):n)}catch(e){}ve.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return J.activeElement}catch(e){}}function p(e,t){return Z.nodeName(e,\"table\")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,\"tr\")?e.getElementsByTagName(\"tbody\")[0]||e.appendChild(e.ownerDocument.createElement(\"tbody\")):e}function d(e){return e.type=(null!==e.getAttribute(\"type\"))+\"/\"+e.type,e}function h(e){var t=Fe.exec(e.type);return t?e.type=t[1]:e.removeAttribute(\"type\"),e}function g(e,t){for(var n=0,r=e.length;r>n;n++)me.set(e[n],\"globalEval\",!t||me.get(t[n],\"globalEval\"))}function m(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(me.hasData(e)&&(o=me.access(e),s=me.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)Z.event.add(t,i,l[i][n])}ve.hasData(e)&&(a=ve.access(e),u=Z.extend({},a),ve.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||\"*\"):e.querySelectorAll?e.querySelectorAll(t||\"*\"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();\"input\"===n&&Ce.test(e.type)?t.checked=e.checked:(\"input\"===n||\"textarea\"===n)&&(t.defaultValue=e.defaultValue)}function x(t,n){var r,i=Z(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Z.css(i[0],\"display\");return i.detach(),o}function b(e){var t=J,n=We[e];return n||(n=x(e,t),\"none\"!==n&&n||(Re=(Re||Z(\"\")).appendTo(t.documentElement),t=Re[0].contentDocument,t.write(),t.close(),n=x(e,t),Re.detach()),We[e]=n),n}function w(e,t,n){var r,i,o,s,a=e.style;return n=n||Ie(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(\"\"!==s||Z.contains(e.ownerDocument,e)||(s=Z.style(e,t)),Be.test(s)&&$e.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+\"\":s}function T(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ye.length;i--;)if((t=Ye[i]+n)in e)return t;return r}function N(e,t,n){var r=ze.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||\"px\"):t}function k(e,t,n,r,i){for(var o=n===(r?\"border\":\"content\")?4:\"width\"===t?1:0,s=0;4>o;o+=2)\"margin\"===n&&(s+=Z.css(e,n+we[o],!0,i)),r?(\"content\"===n&&(s-=Z.css(e,\"padding\"+we[o],!0,i)),\"margin\"!==n&&(s-=Z.css(e,\"border\"+we[o]+\"Width\",!0,i))):(s+=Z.css(e,\"padding\"+we[o],!0,i),\"padding\"!==n&&(s+=Z.css(e,\"border\"+we[o]+\"Width\",!0,i)));return s}function E(e,t,n){var r=!0,i=\"width\"===t?e.offsetWidth:e.offsetHeight,o=Ie(e),s=\"border-box\"===Z.css(e,\"boxSizing\",!1,o);if(0>=i||null==i){if(i=w(e,t,o),(0>i||null==i)&&(i=e.style[t]),Be.test(i))return i;r=s&&(Q.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(s?\"border\":\"content\"),r,o)+\"px\"}function S(e,t){for(var n,r,i,o=[],s=0,a=e.length;a>s;s++)r=e[s],r.style&&(o[s]=me.get(r,\"olddisplay\"),n=r.style.display,t?(o[s]||\"none\"!==n||(r.style.display=\"\"),\"\"===r.style.display&&Te(r)&&(o[s]=me.access(r,\"olddisplay\",b(r.nodeName)))):(i=Te(r),\"none\"===n&&i||me.set(r,\"olddisplay\",i?n:Z.css(r,\"display\"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&\"none\"!==r.style.display&&\"\"!==r.style.display||(r.style.display=t?o[s]||\"\":\"none\"));return e}function j(e,t,n,r,i){return new j.prototype.init(e,t,n,r,i)}function D(){return setTimeout(function(){Ge=void 0}),Ge=Z.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=we[r],i[\"margin\"+n]=i[\"padding\"+n]=e;return t&&(i.opacity=i.width=e),i}function L(e,t,n){for(var r,i=(tt[t]||[]).concat(tt[\"*\"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,t,e))return r}function q(e,t,n){var r,i,o,s,a,u,l,c=this,f={},p=e.style,d=e.nodeType&&Te(e),h=me.get(e,\"fxshow\");n.queue||(a=Z._queueHooks(e,\"fx\"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,Z.queue(e,\"fx\").length||a.empty.fire()})})),1===e.nodeType&&(\"height\"in t||\"width\"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=Z.css(e,\"display\"),\"inline\"===(\"none\"===l?me.get(e,\"olddisplay\")||b(e.nodeName):l)&&\"none\"===Z.css(e,\"float\")&&(p.display=\"inline-block\")),n.overflow&&(p.overflow=\"hidden\",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Je.exec(i)){if(delete t[r],o=o||\"toggle\"===i,i===(d?\"hide\":\"show\")){if(\"show\"!==i||!h||void 0===h[r])continue;d=!0}f[r]=h&&h[r]||Z.style(e,r)}else l=void 0;if(Z.isEmptyObject(f))\"inline\"===(\"none\"===l?b(e.nodeName):l)&&(p.display=l);else{h?\"hidden\"in h&&(d=h.hidden):h=me.access(e,\"fxshow\",{}),o&&(h.hidden=!d),d?Z(e).show():c.done(function(){Z(e).hide()}),c.done(function(){var t;me.remove(e,\"fxshow\");for(t in f)Z.style(e,t,f[t])});for(r in f)s=L(d?h[r]:0,r,c),r in h||(h[r]=s.start,d&&(s.end=s.start,s.start=\"width\"===r||\"height\"===r?1:0))}}function H(e,t){var n,r,i,o,s;for(n in e)if(r=Z.camelCase(n),i=t[r],o=e[n],Z.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=Z.cssHooks[r])&&\"expand\"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o=0,s=et.length,a=Z.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Ge||D(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ge||D(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(H(c,l.opts.specialEasing);s>o;o++)if(r=et[o].call(l,e,c,l.opts))return r;return Z.map(c,L,l),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(e){return function(t,n){\"string\"!=typeof t&&(n=t,t=\"*\");var r,i=0,o=t.toLowerCase().match(pe)||[];if(Z.isFunction(n))for(;r=o[i++];)\"+\"===r[0]?(r=r.slice(1)||\"*\",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function P(e,t,n,r){function i(a){var u;return o[a]=!0,Z.each(e[a]||[],function(e,a){var l=a(t,n,r);return\"string\"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===xt;return i(t.dataTypes[0])||!o[\"*\"]&&i(\"*\")}function M(e,t){var n,r,i=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Z.extend(!0,e,r),e}function R(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;\"*\"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader(\"Content-Type\"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+\" \"+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function W(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if(\"*\"===o)o=u;else if(\"*\"!==u&&u!==o){if(!(s=l[u+\" \"+o]||l[\"* \"+o]))for(i in l)if(a=i.split(\" \"),a[1]===o&&(s=l[u+\" \"+a[0]]||l[\"* \"+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:\"parsererror\",error:s?e:\"No conversion from \"+u+\" to \"+o}}}return{state:\"success\",data:t}}function $(e,t,n,r){var i;if(Z.isArray(t))Z.each(t,function(t,i){n||Tt.test(e)?r(e,i):$(e+\"[\"+(\"object\"==typeof i?t:\"\")+\"]\",i,n,r)});else if(n||\"object\"!==Z.type(t))r(e,t);else for(i in t)$(e+\"[\"+i+\"]\",t[i],n,r)}function B(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var I=[],_=I.slice,z=I.concat,X=I.push,U=I.indexOf,V={},Y=V.toString,G=V.hasOwnProperty,Q={},J=e.document,K=\"2.1.1\",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,te=/^-ms-/,ne=/-([\\da-z])/gi,re=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:K,constructor:Z,selector:\"\",length:0,toArray:function(){return _.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:_.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(_.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:I.sort,splice:I.splice},Z.extend=Z.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for(\"boolean\"==typeof s&&(l=s,s=arguments[a]||{},a++),\"object\"==typeof s||Z.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(Z.isPlainObject(r)||(i=Z.isArray(r)))?(i?(i=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},s[t]=Z.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},Z.extend({expando:\"jQuery\"+(K+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return\"function\"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return!(\"object\"!==Z.type(e)||e.nodeType||Z.isWindow(e)||e.constructor&&!G.call(e.constructor.prototype,\"isPrototypeOf\"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+\"\":\"object\"==typeof e||\"function\"==typeof e?V[Y.call(e)]||\"object\":typeof e},globalEval:function(e){var t,n=eval;(e=Z.trim(e))&&(1===e.indexOf(\"use strict\")?(t=J.createElement(\"script\"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,\"ms-\").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i=0,o=e.length,s=n(e);if(r){if(s)for(;o>i&&!1!==t.apply(e[i],r);i++);else for(i in e)if(!1===t.apply(e[i],r))break}else if(s)for(;o>i&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?\"\":(e+\"\").replace(ee,\"\")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Z.merge(r,\"string\"==typeof e?[e]:e):X.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:U.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;o>i;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),u=[];if(a)for(;s>o;o++)null!=(i=t(e[o],o,r))&&u.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&u.push(i);return z.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return\"string\"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(r=_.call(arguments,2),i=function(){return e.apply(t||this,r.concat(_.call(arguments)))},i.guid=e.guid=e.guid||Z.guid++,i):void 0},now:Date.now,support:Q}),Z.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(e,t){V[\"[object \"+t+\"]\"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,o,s,a,l,f,p,d,h,g;if((t?t.ownerDocument||t:R)!==A&&D(t),t=t||A,n=n||[],!e||\"string\"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(q&&!r){if(i=me.exec(e))if(s=i[1]){if(9===a){if(!(o=t.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&P(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return J.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&x.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(s)),n}if(x.qsa&&(!H||!H.test(e))){if(d=p=M,h=t,g=9===a&&e,1===a&&\"object\"!==t.nodeName.toLowerCase()){for(f=C(e),(p=t.getAttribute(\"id\"))?d=p.replace(ye,\"\\\\$&\"):t.setAttribute(\"id\",d),d=\"[id='\"+d+\"'] \",l=f.length;l--;)f[l]=d+c(f[l]);h=ve.test(e)&&u(t.parentNode)||t,g=f.join(\",\")}if(g)try{return J.apply(n,h.querySelectorAll(g)),n}catch(e){}finally{p||t.removeAttribute(\"id\")}}}return k(e.replace(se,\"$1\"),t,n,r)}function n(){function e(n,r){return t.push(n+\" \")>b.cacheLength&&delete e[t.shift()],e[n+\" \"]=r}var t=[];return e}function r(e){return e[M]=!0,e}function i(e){var t=A.createElement(\"div\");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split(\"|\"),r=e.length;r--;)b.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&typeof e.getElementsByTagName!==X&&e}function l(){}function c(e){for(var t=0,n=e.length,r=\"\";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&\"parentNode\"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l=[W,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[M]||(t[M]={}),(a=u[r])&&a[0]===W&&a[1]===o)return l[2]=a[2];if(u[r]=l,l[2]=e(t,n,s))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function d(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function h(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;u>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function g(e,t,n,i,o,s){return i&&!i[M]&&(i=g(i)),o&&!o[M]&&(o=g(o,s)),r(function(r,s,a,u){var l,c,f,p=[],g=[],m=s.length,v=r||d(t||\"*\",a.nodeType?[a]:a,[]),y=!e||!r&&t?v:h(v,p,e,a,u),x=n?o||(r?e:m||i)?[]:s:y;if(n&&n(y,x,a,u),i)for(l=h(x,g),i(l,[],a,u),c=l.length;c--;)(f=l[c])&&(x[g[c]]=!(y[g[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?Z.call(r,f):p[c])>-1&&(r[l]=!(s[l]=f))}}else x=h(x===s?x.splice(m,x.length):x),o?o(null,s,x,u):J.apply(s,x)})}function m(e){for(var t,n,r,i=e.length,o=b.relative[e[0].type],s=o||b.relative[\" \"],a=o?1:0,u=f(function(e){return e===t},s,!0),l=f(function(e){return Z.call(t,e)>-1},s,!0),d=[function(e,n,r){return!o&&(r||n!==E)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];i>a;a++)if(n=b.relative[e[a].type])d=[f(p(d),n)];else{if(n=b.filter[e[a].type].apply(null,e[a].matches),n[M]){for(r=++a;i>r&&!b.relative[e[r].type];r++);return g(a>1&&p(d),a>1&&c(e.slice(0,a-1).concat({value:\" \"===e[a-2].type?\"*\":\"\"})).replace(se,\"$1\"),n,r>a&&m(e.slice(a,r)),i>r&&m(e=e.slice(r)),i>r&&c(e))}d.push(n)}return p(d)}function v(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,l){var c,f,p,d=0,g=\"0\",m=r&&[],v=[],y=E,x=r||o&&b.find.TAG(\"*\",l),w=W+=null==y?1:Math.random()||.1,T=x.length;for(l&&(E=s!==A&&s);g!==T&&null!=(c=x[g]);g++){if(o&&c){for(f=0;p=e[f++];)if(p(c,s,a)){u.push(c);break}l&&(W=w)}i&&((c=!p&&c)&&d--,r&&m.push(c))}if(d+=g,i&&g!==d){for(f=0;p=n[f++];)p(m,v,s,a);if(r){if(d>0)for(;g--;)m[g]||v[g]||(v[g]=G.call(u));v=h(v)}J.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(W=w,E=y),m};return i?r(s):s}var y,x,b,w,T,C,N,k,E,S,j,D,A,L,q,H,O,F,P,M=\"sizzle\"+-new Date,R=e.document,W=0,$=0,B=n(),I=n(),_=n(),z=function(e,t){return e===t&&(j=!0),0},X=\"undefined\",U=1"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/2017/12/13/å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼/index.html","permalink":"http://ltyeamin.github.io/public/2017/12/13/å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼/index.html","excerpt":"","text":"å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼ frontend JavaScript 2017/12/13 æœ¬æ–‡äºŽ714å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ å˜é‡ä½œç”¨åŸŸåœ¨JavaScriptä¸­ï¼Œç”¨varç”³æ˜Žçš„å˜é‡å®žé™…ä¸Šæ˜¯æœ‰ä½œç”¨åŸŸçš„ã€‚å¦‚æžœä¸€ä¸ªå˜é‡åœ¨å‡½æ•°ä½“å†…éƒ¨ç”³æ˜Žï¼Œåˆ™è¯¥å˜é‡çš„ä½œç”¨åŸŸä¸ºæ•´ä¸ªå‡½æ•°ä½“ï¼Œåœ¨å‡½æ•°ä½“å¤–ä¸å¯å¼•ç”¨è¯¥å˜é‡:12345function foo() &#123; var x = 1; x = x + 1;&#125;x = x + 2; // ReferenceError! æ— æ³•åœ¨å‡½æ•°ä½“å¤–å¼•ç”¨å˜é‡x å¦‚æžœä¸¤ä¸ªä¸åŒçš„å‡½æ•°å„è‡ªç”³æ˜Žäº†åŒä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆè¯¥å˜é‡åªåœ¨å„è‡ªçš„å‡½æ•°ä½“å†…èµ·ä½œç”¨ã€‚æ¢å¥è¯è¯´ï¼Œä¸åŒå‡½æ•°å†…éƒ¨çš„åŒåå˜é‡äº’ç›¸ç‹¬ç«‹ï¼Œäº’ä¸å½±å“:123456789function foo() &#123; var x = 1; x = x + 1;&#125;function bar() &#123; var x = &apos;A&apos;; x = x + &apos;B&apos;;&#125; ç”±äºŽJavaScriptçš„å‡½æ•°å¯ä»¥åµŒå¥—ï¼Œæ­¤æ—¶ï¼Œå†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°å®šä¹‰çš„å˜é‡ï¼Œåè¿‡æ¥åˆ™ä¸è¡Œ:1234567function foo() &#123; var x = 1; function bar() &#123; var y = x + 1; // barå¯ä»¥è®¿é—®fooçš„å˜é‡x! &#125; var z = y + 1; // ReferenceError! fooä¸å¯ä»¥è®¿é—®barçš„å˜é‡y!&#125; å¦‚æžœå†…éƒ¨å‡½æ•°å’Œå¤–éƒ¨å‡½æ•°çš„å˜é‡åé‡åæ€Žä¹ˆåŠžï¼Ÿæ¥æµ‹è¯•ä¸€ä¸‹:12345678910function foo() &#123; var x = 1; function bar() &#123; var x = &apos;A&apos;; console.log(&apos;x in bar() = &apos; + x); // &apos;A&apos; &#125; console.log(&apos;x in foo() = &apos; + x); // 1 bar();&#125;foo(); è¿™è¯´æ˜ŽJavaScriptçš„å‡½æ•°åœ¨æŸ¥æ‰¾å˜é‡æ—¶ä»Žè‡ªèº«å‡½æ•°å®šä¹‰å¼€å§‹ï¼Œä»Žâ€œå†…â€å‘â€œå¤–â€æŸ¥æ‰¾ã€‚å¦‚æžœå†…éƒ¨å‡½æ•°å®šä¹‰äº†ä¸Žå¤–éƒ¨å‡½æ•°é‡åçš„å˜é‡ï¼Œåˆ™å†…éƒ¨å‡½æ•°çš„å˜é‡å°†â€œå±è”½â€å¤–éƒ¨å‡½æ•°çš„å˜é‡ã€‚ å˜é‡æå‡JavaScriptçš„å‡½æ•°å®šä¹‰æœ‰ä¸ªç‰¹ç‚¹ï¼Œå®ƒä¼šå…ˆæ‰«ææ•´ä¸ªå‡½æ•°ä½“çš„è¯­å¥ï¼ŒæŠŠæ‰€æœ‰ç”³æ˜Žçš„å˜é‡â€œæå‡â€åˆ°å‡½æ•°é¡¶éƒ¨:1234567&apos;use strict&apos;;function foo() &#123; var x = &apos;Hello, &apos; + y; console.log(x); var y = &apos;Bob&apos;;&#125;foo(); è™½ç„¶æ˜¯strictæ¨¡å¼ï¼Œä½†è¯­å¥var x = â€˜Hello, â€˜ + y;å¹¶ä¸æŠ¥é”™ï¼ŒåŽŸå› æ˜¯å˜é‡yåœ¨ç¨åŽç”³æ˜Žäº†ã€‚ä½†æ˜¯console.logæ˜¾ç¤ºHello, undefinedï¼Œè¯´æ˜Žå˜é‡yçš„å€¼ä¸ºundefinedã€‚è¿™æ­£æ˜¯å› ä¸ºJavaScriptå¼•æ“Žè‡ªåŠ¨æå‡äº†å˜é‡yçš„å£°æ˜Žï¼Œä½†ä¸ä¼šæå‡å˜é‡yçš„èµ‹å€¼ã€‚å¯¹äºŽä¸Šè¿°foo()å‡½æ•°ï¼ŒJavaScriptå¼•æ“Žçœ‹åˆ°çš„ä»£ç ç›¸å½“äºŽ:123456function foo() &#123; var y; // æå‡å˜é‡yçš„ç”³æ˜Žï¼Œæ­¤æ—¶yä¸ºundefined var x = &apos;Hello, &apos; + y; console.log(x); y = &apos;Bob&apos;;&#125; ç”±äºŽJavaScriptçš„è¿™ä¸€æ€ªå¼‚çš„â€œç‰¹æ€§â€ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰å˜é‡æ—¶ï¼Œè¯·ä¸¥æ ¼éµå®ˆâ€œåœ¨å‡½æ•°å†…éƒ¨é¦–å…ˆç”³æ˜Žæ‰€æœ‰å˜é‡â€è¿™ä¸€è§„åˆ™ã€‚æœ€å¸¸è§çš„åšæ³•æ˜¯ç”¨ä¸€ä¸ªvarç”³æ˜Žå‡½æ•°å†…éƒ¨ç”¨åˆ°çš„æ‰€æœ‰å˜é‡ï¼š12345678910function foo() &#123; var x = 1, // xåˆå§‹åŒ–ä¸º1 y = x + 1, // yåˆå§‹åŒ–ä¸º2 z, i; // zå’Œiä¸ºundefined // å…¶ä»–è¯­å¥: for (i=0; i&lt;100; i++) &#123; ... &#125;&#125; å…¨å±€ä½œç”¨åŸŸä¸åœ¨ä»»ä½•å‡½æ•°å†…å®šä¹‰çš„å˜é‡å°±å…·æœ‰å…¨å±€ä½œç”¨åŸŸã€‚å®žé™…ä¸Šï¼ŒJavaScripté»˜è®¤æœ‰ä¸€ä¸ªå…¨å±€å¯¹è±¡windowï¼Œå…¨å±€ä½œç”¨åŸŸçš„å˜é‡å®žé™…ä¸Šè¢«ç»‘å®šåˆ°windowçš„ä¸€ä¸ªå±žæ€§:1234&apos;use strict&apos;;var course = &apos;Learn JavaScript&apos;;alert(course); // &apos;Learn JavaScript&apos;alert(window.course); // &apos;Learn JavaScript&apos; å› æ­¤ï¼Œç›´æŽ¥è®¿é—®å…¨å±€å˜é‡courseå’Œè®¿é—®window.courseæ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚ä½ å¯èƒ½çŒœåˆ°äº†ï¼Œç”±äºŽå‡½æ•°å®šä¹‰æœ‰ä¸¤ç§æ–¹å¼ï¼Œä»¥å˜é‡æ–¹å¼var foo = function () {}å®šä¹‰çš„å‡½æ•°å®žé™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå› æ­¤ï¼Œé¡¶å±‚å‡½æ•°çš„å®šä¹‰ä¹Ÿè¢«è§†ä¸ºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¹¶ç»‘å®šåˆ°windowå¯¹è±¡:123456&apos;use strict&apos;;function foo() &#123; alert(&apos;foo&apos;);&#125;foo(); // ç›´æŽ¥è°ƒç”¨foo()window.foo(); // é€šè¿‡window.foo()è°ƒç”¨ è¿›ä¸€æ­¥å¤§èƒ†åœ°çŒœæµ‹ï¼Œæˆ‘ä»¬æ¯æ¬¡ç›´æŽ¥è°ƒç”¨çš„alert()å‡½æ•°å…¶å®žä¹Ÿæ˜¯windowçš„ä¸€ä¸ªå˜é‡ï¼š12345678910&apos;use strict&apos;;window.alert(&apos;è°ƒç”¨window.alert()&apos;);// æŠŠalertä¿å­˜åˆ°å¦ä¸€ä¸ªå˜é‡:var old_alert = window.alert;// ç»™alertèµ‹ä¸€ä¸ªæ–°å‡½æ•°:window.alert = function () &#123;&#125;alert(&apos;æ— æ³•ç”¨alert()æ˜¾ç¤ºäº†!&apos;);// æ¢å¤alert:window.alert = old_alert;alert(&apos;åˆå¯ä»¥ç”¨alert()äº†!&apos;); è¿™è¯´æ˜ŽJavaScriptå®žé™…ä¸Šåªæœ‰ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸã€‚ä»»ä½•å˜é‡ï¼ˆå‡½æ•°ä¹Ÿè§†ä¸ºå˜é‡ï¼‰ï¼Œå¦‚æžœæ²¡æœ‰åœ¨å½“å‰å‡½æ•°ä½œç”¨åŸŸä¸­æ‰¾åˆ°ï¼Œå°±ä¼šç»§ç»­å¾€ä¸ŠæŸ¥æ‰¾ï¼Œæœ€åŽå¦‚æžœåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ä¹Ÿæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™æŠ¥ReferenceErroré”™è¯¯. åç§°ç©ºé—´å…¨å±€å˜é‡ä¼šç»‘å®šåˆ°windowä¸Šï¼Œä¸åŒçš„JavaScriptæ–‡ä»¶å¦‚æžœä½¿ç”¨äº†ç›¸åŒçš„å…¨å±€å˜é‡ï¼Œæˆ–è€…å®šä¹‰äº†ç›¸åŒåå­—çš„é¡¶å±‚å‡½æ•°ï¼Œéƒ½ä¼šé€ æˆå‘½åå†²çªï¼Œå¹¶ä¸”å¾ˆéš¾è¢«å‘çŽ°ã€‚å‡å°‘å†²çªçš„ä¸€ä¸ªæ–¹æ³•æ˜¯æŠŠè‡ªå·±çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°å…¨éƒ¨ç»‘å®šåˆ°ä¸€ä¸ªå…¨å±€å˜é‡ä¸­ã€‚ä¾‹å¦‚:123456789// å”¯ä¸€çš„å…¨å±€å˜é‡MYAPP:var MYAPP = &#123;&#125;;// å…¶ä»–å˜é‡:MYAPP.name = &apos;myapp&apos;;MYAPP.version = 1.0;// å…¶ä»–å‡½æ•°:MYAPP.foo = function () &#123; return &apos;foo&apos;;&#125;; æŠŠè‡ªå·±çš„ä»£ç å…¨éƒ¨æ”¾å…¥å”¯ä¸€çš„åå­—ç©ºé—´MYAPPä¸­ï¼Œä¼šå¤§å¤§å‡å°‘å…¨å±€å˜é‡å†²çªçš„å¯èƒ½ã€‚è®¸å¤šè‘—åçš„JavaScriptåº“éƒ½æ˜¯è¿™ä¹ˆå¹²çš„ï¼šjQueryï¼ŒYUIï¼Œunderscoreç­‰ç­‰ã€‚ å±€éƒ¨ä½œç”¨åŸŸç”±äºŽJavaScriptçš„å˜é‡ä½œç”¨åŸŸå®žé™…ä¸Šæ˜¯å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬åœ¨forå¾ªçŽ¯ç­‰è¯­å¥å—ä¸­æ˜¯æ— æ³•å®šä¹‰å…·æœ‰å±€éƒ¨ä½œç”¨åŸŸçš„å˜é‡çš„:12345678&apos;use strict&apos;;function foo() &#123; for (var i=0; i&lt;100; i++) &#123; // &#125; i += 100; // ä»ç„¶å¯ä»¥å¼•ç”¨å˜é‡i&#125; ä¸ºäº†è§£å†³å—çº§ä½œç”¨åŸŸï¼ŒES6å¼•å…¥äº†æ–°çš„å…³é”®å­—letï¼Œç”¨letæ›¿ä»£varå¯ä»¥ç”³æ˜Žä¸€ä¸ªå—çº§ä½œç”¨åŸŸçš„å˜é‡:12345678function foo() &#123; var sum = 0; for (let i=0; i&lt;100; i++) &#123; sum += i; &#125; // SyntaxError: i += 1;&#125; å¸¸é‡ç”±äºŽvarå’Œletç”³æ˜Žçš„æ˜¯å˜é‡ï¼Œå¦‚æžœè¦ç”³æ˜Žä¸€ä¸ªå¸¸é‡ï¼Œåœ¨ES6ä¹‹å‰æ˜¯ä¸è¡Œçš„ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡æ¥è¡¨ç¤ºâ€œè¿™æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¸è¦ä¿®æ”¹å®ƒçš„å€¼â€:1var PI = 3.14; ES6æ ‡å‡†å¼•å…¥äº†æ–°çš„å…³é”®å­—constæ¥å®šä¹‰å¸¸é‡ï¼Œconstä¸Žletéƒ½å…·æœ‰å—çº§ä½œç”¨åŸŸ:1234&apos;use strict&apos;;const PI = 3.14;PI = 3; // æŸäº›æµè§ˆå™¨ä¸æŠ¥é”™ï¼Œä½†æ˜¯æ— æ•ˆæžœï¼PI; // 3.14 è§£æž„èµ‹å€¼ä»ŽES6å¼€å§‹ï¼ŒJavaScriptå¼•å…¥äº†è§£æž„èµ‹å€¼ï¼Œå¯ä»¥åŒæ—¶å¯¹ä¸€ç»„å˜é‡è¿›è¡Œèµ‹å€¼ã€‚ä»€ä¹ˆæ˜¯è§£æž„èµ‹å€¼ï¼Ÿæˆ‘ä»¬å…ˆçœ‹çœ‹ä¼ ç»Ÿçš„åšæ³•ï¼Œå¦‚ä½•æŠŠä¸€ä¸ªæ•°ç»„çš„å…ƒç´ åˆ†åˆ«èµ‹å€¼ç»™å‡ ä¸ªå˜é‡:123456var array = [&apos;æŽå½¤&apos;, &apos;å¥•æ˜Žåˆ›æ„ä¼ åª’&apos;, &apos;è‰ºæœ¯æºäºŽç”Ÿæ´»,ä½†é«˜äºŽç”Ÿæ´»&apos;];//ä¸€èˆ¬èµ‹å€¼æ–¹æ³•var x = array[0];var y = array[1];var z = array[2];console.log(&apos;x : &apos; + x + &apos;, y : &apos; + y + &apos;, z : &apos; + z); //x : æŽå½¤, y : å¥•æ˜Žåˆ›æ„ä¼ åª’, z : è‰ºæœ¯æºäºŽç”Ÿæ´»,ä½†é«˜äºŽç”Ÿæ´» çŽ°åœ¨ï¼Œåœ¨ES6ä¸­ï¼Œå¯ä»¥ä½¿ç”¨è§£æž„èµ‹å€¼ï¼Œç›´æŽ¥å¯¹å¤šä¸ªå˜é‡åŒæ—¶èµ‹å€¼:12var [x, y, z] = [&apos;Java&apos;, &apos;JavaScript&apos;, &apos;Python&apos;];console.log(&apos;x : &apos; + x + &apos;, y : &apos; + y + &apos;, z : &apos; + z); //x : Java, y : JavaScript, z : Python æ³¨æ„ï¼Œå¯¹æ•°ç»„å…ƒç´ è¿›è¡Œè§£æž„èµ‹å€¼æ—¶ï¼Œå¤šä¸ªå˜é‡è¦ç”¨[â€¦]æ‹¬èµ·æ¥ã€‚å¦‚æžœæ•°ç»„æœ¬èº«è¿˜æœ‰åµŒå¥—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢çš„å½¢å¼è¿›è¡Œè§£æž„èµ‹å€¼ï¼Œæ³¨æ„åµŒå¥—å±‚æ¬¡å’Œä½ç½®è¦ä¿æŒä¸€è‡´:1234let [x, [y, z]] = [&apos;hello&apos;, [&apos;JavaScript&apos;, &apos;ES6&apos;]];x; // &apos;hello&apos;y; // &apos;JavaScript&apos;z; // &apos;ES6&apos; è§£æž„èµ‹å€¼è¿˜å¯ä»¥å¿½ç•¥æŸäº›å…ƒç´ ï¼š12let [, , z] = [&apos;hello&apos;, &apos;JavaScript&apos;, &apos;ES6&apos;]; // å¿½ç•¥å‰ä¸¤ä¸ªå…ƒç´ ï¼Œåªå¯¹zèµ‹å€¼ç¬¬ä¸‰ä¸ªå…ƒç´ z; // &apos;ES6&apos; å¦‚æžœéœ€è¦ä»Žä¸€ä¸ªå¯¹è±¡ä¸­å–å‡ºè‹¥å¹²å±žæ€§ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è§£æž„èµ‹å€¼ï¼Œä¾¿äºŽå¿«é€ŸèŽ·å–å¯¹è±¡çš„æŒ‡å®šå±žæ€§:12345678910var person = &#123; name: &apos;æ—ºè´¢&apos;, age: 20, gender: &apos;male&apos;, passport: &apos;G-12345678&apos;, school: &apos;No.4 middle school&apos;&#125;;var &#123;name, age, passport&#125; = person;// name, age, passportåˆ†åˆ«è¢«èµ‹å€¼ä¸ºå¯¹åº”å±žæ€§:console.log(&apos;name = &apos; + name + &apos;, age = &apos; + age + &apos;, passport = &apos; + passport); //name = æ—ºè´¢, age = 20, passport = G-12345678 å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œè§£æž„èµ‹å€¼æ—¶ï¼ŒåŒæ ·å¯ä»¥ç›´æŽ¥å¯¹åµŒå¥—çš„å¯¹è±¡å±žæ€§è¿›è¡Œèµ‹å€¼ï¼Œåªè¦ä¿è¯å¯¹åº”çš„å±‚æ¬¡æ˜¯ä¸€è‡´çš„:123456789101112131415161718var person = &#123; name: &apos;å°å¼º&apos;, age: 20, gender: &apos;male&apos;, passport: &apos;G-12345678&apos;, school: &apos;No.4 middle school&apos;, address: &#123; city: &apos;Beijing&apos;, street: &apos;No.1 Road&apos;, zipcode: &apos;100001&apos; &#125;&#125;;var &#123;name, address: &#123;city, zip&#125;&#125; = person;name; // &apos;å°å¼º&apos;city; // &apos;Beijing&apos;zip; // undefined, å› ä¸ºå±žæ€§åæ˜¯zipcodeè€Œä¸æ˜¯zip// æ³¨æ„: addressä¸æ˜¯å˜é‡ï¼Œè€Œæ˜¯ä¸ºäº†è®©cityå’ŒzipèŽ·å¾—åµŒå¥—çš„addresså¯¹è±¡çš„å±žæ€§:address; // Uncaught ReferenceError: address is not defined ä½¿ç”¨è§£æž„èµ‹å€¼å¯¹å¯¹è±¡å±žæ€§è¿›è¡Œèµ‹å€¼æ—¶ï¼Œå¦‚æžœå¯¹åº”çš„å±žæ€§ä¸å­˜åœ¨ï¼Œå˜é‡å°†è¢«èµ‹å€¼ä¸ºundefinedï¼Œè¿™å’Œå¼•ç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„å±žæ€§èŽ·å¾—undefinedæ˜¯ä¸€è‡´çš„ã€‚å¦‚æžœè¦ä½¿ç”¨çš„å˜é‡åå’Œå±žæ€§åä¸ä¸€è‡´ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„è¯­æ³•èŽ·å–:1234567891011121314var person = &#123; name: &apos;å°å¼º&apos;, age: 20, gender: &apos;male&apos;, passport: &apos;G-12345678&apos;, school: &apos;No.4 middle school&apos;&#125;;// æŠŠpassportå±žæ€§èµ‹å€¼ç»™å˜é‡id:let &#123;name, passport:id&#125; = person;name; // &apos;å°å¼º&apos;id; // &apos;G-12345678&apos;// æ³¨æ„: passportä¸æ˜¯å˜é‡ï¼Œè€Œæ˜¯ä¸ºäº†è®©å˜é‡idèŽ·å¾—passportå±žæ€§:passport; // Uncaught ReferenceError: passport is not defined è§£æž„èµ‹å€¼è¿˜å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ï¼Œè¿™æ ·å°±é¿å…äº†ä¸å­˜åœ¨çš„å±žæ€§è¿”å›žundefinedçš„é—®é¢˜:1234567891011var person = &#123; name: &apos;å°å¼º&apos;, age: 20, gender: &apos;male&apos;, passport: &apos;G-12345678&apos;&#125;;// å¦‚æžœpersonå¯¹è±¡æ²¡æœ‰singleå±žæ€§ï¼Œé»˜è®¤èµ‹å€¼ä¸ºtrue:var &#123;name, single=true&#125; = person;name; // &apos;å°å¼º&apos;single; // true æœ‰äº›æ—¶å€™ï¼Œå¦‚æžœå˜é‡å·²ç»è¢«å£°æ˜Žäº†ï¼Œå†æ¬¡èµ‹å€¼çš„æ—¶å€™ï¼Œæ­£ç¡®çš„å†™æ³•ä¹Ÿä¼šæŠ¥è¯­æ³•é”™è¯¯:12345// å£°æ˜Žå˜é‡:var x, y;// è§£æž„èµ‹å€¼:&#123;x, y&#125; = &#123; name: &apos;å°å¼º&apos;, x: 100, y: 200&#125;;// è¯­æ³•é”™è¯¯: Uncaught SyntaxError: Unexpected token = è¿™æ˜¯å› ä¸ºJavaScriptå¼•æ“ŽæŠŠ{å¼€å¤´çš„è¯­å¥å½“ä½œäº†å—å¤„ç†ï¼ŒäºŽæ˜¯=ä¸å†åˆæ³•ã€‚è§£å†³æ–¹æ³•æ˜¯ç”¨å°æ‹¬å·æ‹¬èµ·æ¥:1(&#123;x, y&#125; = &#123; name: &apos;å°å¼º&apos;, x: 100, y: 200&#125;); è§£æžèµ‹å€¼ä½¿ç”¨åœºæ™¯ è§£æž„èµ‹å€¼åœ¨å¾ˆå¤šæ—¶å€™å¯ä»¥å¤§å¤§ç®€åŒ–ä»£ç ã€‚ä¾‹å¦‚ï¼Œäº¤æ¢ä¸¤ä¸ªå˜é‡xå’Œyçš„å€¼ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼Œä¸å†éœ€è¦ä¸´æ—¶å˜é‡: 12var x=1, y=2;[x, y] = [y, x] å¿«é€ŸèŽ·å–å½“å‰é¡µé¢çš„åŸŸåå’Œè·¯å¾„: 123var &#123;hostname:domain, pathname:path&#125; = location;domain //&quot;ltyeamin.github.io&quot;path // &quot;/2017/12/04/JS%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E5%92%8C%E8%B0%83%E7%94%A8/&quot; å¦‚æžœä¸€ä¸ªå‡½æ•°æŽ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œé‚£ä¹ˆï¼Œå¯ä»¥ä½¿ç”¨è§£æž„ç›´æŽ¥æŠŠå¯¹è±¡çš„å±žæ€§ç»‘å®šåˆ°å˜é‡ä¸­ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„å‡½æ•°å¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªDateå¯¹è±¡: 123function buildDate(&#123;year, month, day, hour=0, minute=0, second=0&#125;) &#123; return new Date(year + &apos;-&apos; + month + &apos;-&apos; + day + &apos; &apos; + hour + &apos;:&apos; + minute + &apos;:&apos; + second);&#125; å®ƒçš„æ–¹ä¾¿ä¹‹å¤„åœ¨äºŽä¼ å…¥çš„å¯¹è±¡åªéœ€è¦yearã€monthå’Œdayè¿™ä¸‰ä¸ªå±žæ€§: 1buildDate(&#123; year: 2017, month: 12, day: 4 &#125;); // Mon Dec 04 2017 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) ä¹Ÿå¯ä»¥ä¼ å…¥hourã€minuteå’Œsecondå±žæ€§: 1buildDate(&#123; year: 2017, month: 1, day: 1, hour: 20, minute: 15 &#125;); // Sun Jan 01 2017 20:15:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) ä½¿ç”¨è§£æž„èµ‹å€¼å¯ä»¥å‡å°‘ä»£ç é‡ï¼Œä½†æ˜¯ï¼Œéœ€è¦åœ¨æ”¯æŒES6è§£æž„èµ‹å€¼ç‰¹æ€§çš„çŽ°ä»£æµè§ˆå™¨ä¸­æ‰èƒ½æ­£å¸¸è¿è¡Œã€‚ç›®å‰æ”¯æŒè§£æž„èµ‹å€¼çš„æµè§ˆå™¨åŒ…æ‹¬Chromeï¼ŒFirefoxï¼ŒEdgeç­‰. èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ JSæ–¹æ³• ä¸‹ä¸€ç¯‡ JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• å˜é‡ä½œç”¨åŸŸå˜é‡æå‡å…¨å±€ä½œç”¨åŸŸåç§°ç©ºé—´å±€éƒ¨ä½œç”¨åŸŸå¸¸é‡è§£æž„èµ‹å€¼è§£æžèµ‹å€¼ä½¿ç”¨åœºæ™¯ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:17.399Z","updated":"2019-11-27T15:22:17.399Z","comments":true,"path":"public/2018/05/22/LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤/index.html","permalink":"http://ltyeamin.github.io/public/2018/05/22/LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤/index.html","excerpt":"","text":"LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤ ops Linux 2018/05/22 æœ¬æ–‡äºŽ554å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ Linuxç³»ç»Ÿä¸‹çš„ä¸‹è½½å·¥å…·wget æ˜¯ä¸€ä¸ªä»Žç½‘ç»œä¸Šè‡ªåŠ¨ä¸‹è½½æ–‡ä»¶çš„è‡ªç”±å·¥å…·,æ”¯æŒé€šè¿‡ HTTP,HTTPS,FTP ä¸‰ä¸ªæœ€å¸¸è§çš„ TCP/IPåè®® ä¸‹è½½,å¹¶å¯ä»¥ä½¿ç”¨ HTTP ä»£ç†.â€wgetâ€ è¿™ä¸ªåç§°æ¥æºäºŽ â€œWorld Wide Webâ€ ä¸Ž â€œgetâ€ çš„ç»“åˆ.æ‰€è°“è‡ªåŠ¨ä¸‹è½½,æ˜¯æŒ‡ wget å¯ä»¥åœ¨ç”¨æˆ·é€€å‡ºç³»ç»Ÿçš„ä¹‹åŽåœ¨ç»§ç»­åŽå°æ‰§è¡Œ,ç›´åˆ°ä¸‹è½½ä»»åŠ¡å®Œæˆ. å‘½ä»¤é€‰é¡¹ -a&lt;æ—¥å¿—æ–‡ä»¶&gt;:åœ¨æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶ä¸­è®°å½•èµ„æ–™çš„æ‰§è¡Œè¿‡ç¨‹; -A&lt;åŽç¼€å&gt;:æŒ‡å®šè¦ä¸‹è½½æ–‡ä»¶çš„åŽç¼€å,å¤šä¸ªåŽç¼€åä¹‹é—´ä½¿ç”¨é€—å·è¿›è¡Œåˆ†éš”; -b:è¿›è¡ŒåŽå°çš„æ–¹å¼è¿è¡Œwget; -B&lt;è¿žæŽ¥åœ°å€&gt;:è®¾ç½®å‚è€ƒçš„è¿žæŽ¥åœ°å€çš„åŸºåœ°åœ°å€; -c:ç»§ç»­æ‰§è¡Œä¸Šæ¬¡ç»ˆç«¯çš„ä»»åŠ¡,æ–­ç‚¹ç»­ä¼ ; -C&lt;æ ‡å¿—&gt;:è®¾ç½®æœåŠ¡å™¨æ•°æ®å—åŠŸèƒ½æ ‡å¿—onä¸ºæ¿€æ´»,offä¸ºå…³é—­,é»˜è®¤å€¼ä¸ºon; -d:è°ƒè¯•æ¨¡å¼è¿è¡ŒæŒ‡ä»¤; -D&lt;åŸŸååˆ—è¡¨&gt;:è®¾ç½®é¡ºç€çš„åŸŸååˆ—è¡¨,åŸŸåä¹‹é—´ç”¨â€,â€åˆ†éš”; -e&lt;æŒ‡ä»¤&gt;:ä½œä¸ºæ–‡ä»¶â€.wgetrcâ€ä¸­çš„ä¸€éƒ¨åˆ†æ‰§è¡ŒæŒ‡å®šçš„æŒ‡ä»¤; -h:æ˜¾ç¤ºæŒ‡ä»¤å¸®åŠ©ä¿¡æ¯; -i&lt;æ–‡ä»¶&gt;:ä»ŽæŒ‡å®šæ–‡ä»¶èŽ·å–è¦ä¸‹è½½çš„URLåœ°å€; -l&lt;ç›®å½•åˆ—è¡¨&gt;:è®¾ç½®é¡ºç€çš„ç›®å½•åˆ—è¡¨,å¤šä¸ªç›®å½•ç”¨â€,â€åˆ†éš”; -L:ä»…é¡ºç€å…³è”çš„è¿žæŽ¥; -O: å°†è¦ä¸‹è½½çš„æ–‡ä»¶è¿›è¡Œé‡å‘½å -r:é€’å½’ä¸‹è½½æ–¹å¼; -nc:æ–‡ä»¶å­˜åœ¨æ—¶,ä¸‹è½½æ–‡ä»¶ä¸è¦†ç›–åŽŸæœ‰æ–‡ä»¶; -nv:ä¸‹è½½æ—¶åªæ˜¾ç¤ºæ›´æ–°å’Œå‡ºé”™ä¿¡æ¯,ä¸æ˜¾ç¤ºæŒ‡ä»¤çš„è¯¦ç»†æ‰§è¡Œè¿‡ç¨‹; -q:ä¸æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹; -nh:ä¸æŸ¥è¯¢ä¸»æœºåç§°; -v:æ˜¾ç¤ºè¯¦ç»†æ‰§è¡Œè¿‡ç¨‹; -V:æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯; â€“passive-ftp:ä½¿ç”¨è¢«åŠ¨æ¨¡å¼PASVè¿žæŽ¥FTPæœåŠ¡å™¨; â€“follow-ftp:ä»ŽHTMLæ–‡ä»¶ä¸­ä¸‹è½½FTPè¿žæŽ¥æ–‡ä»¶. å‚è€ƒç¤ºä¾‹1234567891011121314151.ä¸‹è½½ç½‘ç»œèµ„æº[root@litong ~]# wget https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgz #ä½¿ç”¨wgetä¸‹è½½Pythonå®‰è£…åŒ…--2018-05-22 16:57:49-- https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgzResolving www.python.org (www.python.org)... 151.101.8.223, 2a04:4e42:2::223Connecting to www.python.org (www.python.org)|151.101.8.223|:443... connected.HTTP request sent, awaiting response... 200 OKLength: 22994617 (22M) [application/octet-stream]Saving to: â€˜Python-3.6.5.tgzâ€™100%[=============================================================================================================&amp;gt;] 22,994,617 27.6MB/s in 0.8s 2018-05-22 16:57:50 (27.6 MB/s) - â€˜Python-3.6.5.tgzâ€™ saved [22994617/22994617][root@litong ~]# ll | grep Python-rw-r--r-- 1 root root 22994617 Mar 28 18:24 Python-3.6.5.tgz 2.æ–­ç‚¹ç»­ä¼ 123456789101112131415161718[root@litong ~]# wget -c http://d1.music.126.net/dmusic/netease-cloud-music_1.1.0_amd64_ubuntu.deb #ä¸‹è½½Linuxç‰ˆæœ¬çš„ç½‘æ˜“äº‘éŸ³ä¹--2018-05-22 17:04:04-- http://d1.music.126.net/dmusic/netease-cloud-music_1.1.0_amd64_ubuntu.debResolving d1.music.126.net (d1.music.126.net)... 157.185.168.24Connecting to d1.music.126.net (d1.music.126.net)|157.185.168.24|:80... connected.HTTP request sent, awaiting response... 200 OKLength: 68515076 (65M) [application/octet-stream]Saving to: â€˜netease-cloud-music_1.1.0_amd64_ubuntu.debâ€™46% [====================================================================&amp;gt; ] 31,560,638 15.2MB/s ^C #æŒ‰ä¸‹Ctrl+Cç»ˆæ­¢ä¸‹è½½[root@litong ~]# wget -c http://d1.music.126.net/dmusic/netease-cloud-music_1.1.0_amd64_ubuntu.deb #ç«¯ç‚¹ç»­ä¼ ,ç»§ç»­ä¸‹è½½,ä¸ä¼šé‡æ–°ä¸‹è½½--2018-05-22 17:04:09-- http://d1.music.126.net/dmusic/netease-cloud-music_1.1.0_amd64_ubuntu.debResolving d1.music.126.net (d1.music.126.net)... 157.185.168.24Connecting to d1.music.126.net (d1.music.126.net)|157.185.168.24|:80... connected.HTTP request sent, awaiting response... 206 Partial ContentLength: 68515076 (65M), 33805218 (32M) remaining [application/octet-stream]Saving to: â€˜netease-cloud-music_1.1.0_amd64_ubuntu.debâ€™100%[+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++==========================================================================&amp;gt;] 68,515,076 14.7MB/s in 2.2s Last-modified header invalid -- time-stamp ignored.2018-05-22 17:04:12 (14.7 MB/s) - â€˜netease-cloud-music_1.1.0_amd64_ubuntu.debâ€™ saved [68515076/68515076] 3.åŽå°ä¸‹è½½12345678910111213141516171819202122[root@litong ~]# wget -b https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgz &amp;&amp; tail -50f wget-log #åŽå°ä¸‹è½½å¹¶æŸ¥çœ‹ä¸‹è½½æ—¥å¿—.ä¸‹è½½å¹¶ä¸é˜»å¡žShelläº¤äº’Continuing in background, pid 301.Output will be written to â€˜wget-logâ€™.--2018-05-22 17:14:55-- https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgzResolving www.python.org (www.python.org)... 151.101.8.223, 2a04:4e42:2::223Connecting to www.python.org (www.python.org)|151.101.8.223|:443... connected.HTTP request sent, awaiting response... 200 OKLength: 22994617 (22M) [application/octet-stream]Saving to: â€˜Python-3.6.5.tgzâ€™0K .......... .......... .......... .......... .......... 0% 17.2M 1s50K .......... .......... .......... .......... .......... 0% 23.7M 1s100K .......... .......... .......... .......... .......... 0% 33.3M 1s150K .......... .......... .......... .......... .......... 0% 22.4M 1s200K .......... .......... .......... .......... .......... 1% 34.5M 1s250K .......... .......... .......... .......... .......... 1% 32.9M 1s .......... .......... .......... .......... ..........22250K .......... .......... .......... .......... .......... 99% 13.2M 0s22300K .......... .......... .......... .......... .......... 99% 10.7M 0s22350K .......... .......... .......... .......... .......... 99% 12.4M 0s22400K .......... .......... .......... .......... .......... 99% 14.3M 0s22450K ..... 100% 129M=0.8s2018-05-22 17:14:56 (27.7 MB/s) - â€˜Python-3.6.5.tgzâ€™ saved [22994617/22994617] æµ‹è¯•æŽ¥å£å¸¸ç”¨çš„curlcurlæ˜¯åˆ©ç”¨URLè¯­æ³•åœ¨å‘½ä»¤è¡Œæ–¹å¼ä¸‹å·¥ä½œçš„å¼€æºæ–‡ä»¶ä¼ è¾“å·¥å…·.å®ƒæ”¯æŒæ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½,æ‰€ä»¥æ˜¯ç»¼åˆä¼ è¾“å·¥å…·.curlæ”¯æŒåŒ…æ‹¬HTTP,HTTPS,ftpç­‰ä¼—å¤šåè®®,è¿˜æ”¯æŒPOST,cookiesè®¤è¯,ä»ŽæŒ‡å®šåç§»å¤„ä¸‹è½½éƒ¨åˆ†æ–‡ä»¶,ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²,é™é€Ÿ,æ–‡ä»¶å¤§å°,è¿›åº¦æ¡ç­‰ç‰¹å¾.åšç½‘é¡µå¤„ç†æµç¨‹å’Œæ•°æ®æ£€ç´¢è‡ªåŠ¨åŒ–,curlå¯ä»¥ç¥ä¸€è‡‚ä¹‹åŠ›. å‚è€ƒç¤ºä¾‹1.ç®€å•è¯·æ±‚1234[root@litong ~]# curl https://www.baidu.com #ç®€å•GETè¯·æ±‚è¯·æ±‚ç™¾åº¦&amp;lt;!DOCTYPE html&amp;gt;&amp;lt;!--STATUS OK--&amp;gt;&amp;lt;html&amp;gt; &amp;lt;head&amp;gt;&amp;lt;meta http-equiv=content-type content=text/html;charset=utf-8&amp;gt;&amp;lt;meta http-equiv=X-UA-Compatible content=IE=Edge&amp;gt;&amp;lt;meta content=always name=referrer&amp;gt;&amp;lt;link rel=stylesheet type=text/css href=https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css&amp;gt;&amp;lt;title&amp;gt;ç™¾åº¦ä¸€ä¸‹,ä½ å°±çŸ¥é“&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt; &amp;lt;body link=#0000cc&amp;gt; &amp;lt;div id=wrapper&amp;gt; &amp;lt;div id=head&amp;gt; &amp;lt;div class=head_wrapper&amp;gt; &amp;lt;div class=s_form&amp;gt; &amp;lt;div class=s_form_wrapper&amp;gt; &amp;lt;div id=lg&amp;gt; &amp;lt;img hidefocus=true src=//www.baidu.com/img/bd_logo1.png width=270 height=129&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;form id=form name=f action=//www.baidu.com/s class=fm&amp;gt; &amp;lt;input type=hidden name=bdorz_come value=1&amp;gt; &amp;lt;input type=hidden name=ie value=utf-8&amp;gt; &amp;lt;input type=hidden name=f value=8&amp;gt; &amp;lt;input type=hidden name=rsv_bp value=1&amp;gt; &amp;lt;input type=hidden name=rsv_idx value=1&amp;gt; &amp;lt;input type=hidden name=tn value=baidu&amp;gt;&amp;lt;span class=\"bg s_ipt_wr\"&amp;gt;&amp;lt;input id=kw name=wd class=s_ipt value maxlength=255 autocomplete=off autofocus=autofocus&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=\"bg s_btn_wr\"&amp;gt;&amp;lt;input type=submit id=su value=ç™¾åº¦ä¸€ä¸‹ class=\"bg s_btn\" autofocus&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;/form&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div id=u1&amp;gt; &amp;lt;a href=http://news.baidu.com name=tj_trnews class=mnav&amp;gt;æ–°é—»&amp;lt;/a&amp;gt; &amp;lt;a href=https://www.hao123.com name=tj_trhao123 class=mnav&amp;gt;hao123&amp;lt;/a&amp;gt; &amp;lt;a href=http://map.baidu.com name=tj_trmap class=mnav&amp;gt;åœ°å›¾&amp;lt;/a&amp;gt; &amp;lt;a href=http://v.baidu.com name=tj_trvideo class=mnav&amp;gt;è§†é¢‘&amp;lt;/a&amp;gt; &amp;lt;a href=http://tieba.baidu.com name=tj_trtieba class=mnav&amp;gt;è´´å§&amp;lt;/a&amp;gt; &amp;lt;noscript&amp;gt; &amp;lt;a href=http://www.baidu.com/bdorz/login.gif?login&amp;amp;tpl=mn&amp;amp;u=http%3A%2F%2Fwww.baidu.com%2f%3fbdorz_come%3d1 name=tj_login class=lb&amp;gt;ç™»å½•&amp;lt;/a&amp;gt; &amp;lt;/noscript&amp;gt; &amp;lt;script&amp;gt;document.write('&amp;lt;a href=\"http://www.baidu.com/bdorz/login.gif?login&amp;tpl=mn&amp;u='+ encodeURIComponent(window.location.href+ (window.location.search === \"\" ? \"?\" : \"&amp;\")+ \"bdorz_come=1\")+ '\" name=\"tj_login\" class=\"lb\"&amp;gt;ç™»å½•&amp;lt;/a&amp;gt;'); &amp;lt;/script&amp;gt; &amp;lt;a href=//www.baidu.com/more/ name=tj_briicon class=bri style=\"display: block;\"&amp;gt;æ›´å¤šäº§å“&amp;lt;/a&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div id=ftCon&amp;gt; &amp;lt;div id=ftConw&amp;gt; &amp;lt;p id=lh&amp;gt; &amp;lt;a href=http://home.baidu.com&amp;gt;å…³äºŽç™¾åº¦&amp;lt;/a&amp;gt; &amp;lt;a href=http://ir.baidu.com&amp;gt;About Baidu&amp;lt;/a&amp;gt; &amp;lt;/p&amp;gt; &amp;lt;p id=cp&amp;gt;&amp;copy;2017&amp;nbsp;Baidu&amp;nbsp;&amp;lt;a href=http://www.baidu.com/duty/&amp;gt;ä½¿ç”¨ç™¾åº¦å‰å¿…è¯»&amp;lt;/a&amp;gt;&amp;nbsp; &amp;lt;a href=http://jianyi.baidu.com/ class=cp-feedback&amp;gt;æ„è§åé¦ˆ&amp;lt;/a&amp;gt;&amp;nbsp;äº¬ICPè¯030173å·&amp;nbsp; &amp;lt;img src=//www.baidu.com/img/gs.gif&amp;gt; &amp;lt;/p&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; 2.ç¼“å­˜(ä¸‹è½½)1234567891011121314[root@litong ~]# curl -o baidu.html https://www.baidu.com #å°†ç™¾åº¦é¦–é¡µä¿å­˜æˆhtmlæœ¬åœ°æ–‡ä»¶ % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 2443 100 2443 0 0 10319 0 --:--:-- --:--:-- --:--:-- 10351[root@litong ~]# cat baidu.html &amp;lt;!DOCTYPE html&amp;gt;&amp;lt;!--STATUS OK--&amp;gt;&amp;lt;html&amp;gt; &amp;lt;head&amp;gt;&amp;lt;meta http-equiv=content-type content=text/html;charset=utf-8&amp;gt;&amp;lt;meta http-equiv=X-UA-Compatible content=IE=Edge&amp;gt;&amp;lt;meta content=always name=referrer&amp;gt;&amp;lt;link rel=stylesheet type=text/css href=https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css&amp;gt;&amp;lt;title&amp;gt;ç™¾åº¦ä¸€ä¸‹,ä½ å°±çŸ¥é“&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt; &amp;lt;body link=#0000cc&amp;gt; &amp;lt;div id=wrapper&amp;gt; &amp;lt;div id=head&amp;gt; &amp;lt;div class=head_wrapper&amp;gt; &amp;lt;div class=s_form&amp;gt; &amp;lt;div class=s_form_wrapper&amp;gt; &amp;lt;div id=lg&amp;gt; &amp;lt;img hidefocus=true src=//www.baidu.com/img/bd_logo1.png width=270 height=129&amp;gt; &amp;lt;/div&amp;gt; ... #çœç•¥ç‰‡æ®µ[root@litong ~]# curl -o Python-3.5.5.tgz https://www.python.org/ftp/python/3.5.5/Python-3.5.5.tgz #æ›¿æ¢wgetå‘½ä»¤ä¸‹è½½Python,æ–­ç‚¹ç»­ä¼ -C % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 19.8M 100 19.8M 0 0 29.0M 0 --:--:-- --:--:-- --:--:-- 29.0M[root@litong ~]# ll | grep Python-rw-r--r-- 1 root root 20766931 May 22 17:38 Python-3.5.5.tgz 3.è¯·æ±‚æ–¹å¼è®¾ç½®12345[root@litong ~]# curl -H &quot;Content-Type:application/json&quot; -X POST -d &apos;&#123; &quot;arg&quot;: 125086 &#125;&apos; http://47.67.44.121:9130/learning-path/tree/queryPhaseAndSubject #ä»¥jsonçš„æ–¹å¼è¿›è¡Œè¯·æ±‚% Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 231 0 214 100 17 214 17 0:00:01 --:--:-- 0:00:01 14437&#123;&quot;message&quot;:null,&quot;result&quot;:&quot;success&quot;,&quot;data&quot;:[&#123;&quot;subjectId&quot;:&quot;4267aa39-6ecb-40b7-8e10-7b309d022aec&quot;,&quot;subjectName&quot;:&quot;è¯­æ–‡&quot;,&quot;phaseId&quot;:&quot;c7241629-1ec4-4035-b04c-ef17f7866688&quot;,&quot;phaseName&quot;:&quot;é«˜ä¸­&quot;&#125;],&quot;code&quot;:0,&quot;success&quot;:true&#125; 4.è®¾ç½®referer1[root@litong ~]# curl --referer http://www.google.com http://www.baidu.com 5.è®¾ç½®User-Agent1[root@litong ~]# curl -A \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.162 Safari/537.36\" http://www.baidu.com 6.è®¾ç½®cookie1[root@litong ~]# curl --cookie \"user=litong\" http://www.baidu.com 7.è®¾ç½®è¯·æ±‚å¤´1[root@litong ~]# curl -H \"accept-language:zh-cn\" http://www.baidu.com 8.è¿›è¡Œè®¤è¯12345678910111213[root@litong ~]# curl -u litong:0517108 http://www.gitlab.com/users/sign_in % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0&amp;lt;! DOCTYPE html&amp;gt;&amp;lt;html class=\"devise-layout-html\"&amp;gt;&amp;lt;head prefix=\"og: http://ogp.me/ns#\"&amp;gt;&amp;lt;meta charset=\"utf-8\"&amp;gt;&amp;lt;meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\"&amp;gt;&amp;lt;meta content=\"object\" property=\"og:type\"&amp;gt;&amp;lt;meta content=\"GitLab\" property=\"og:site_name\"&amp;gt;&amp;lt;meta content=\"Sign in\" property=\"og:title\"&amp;gt;&amp;lt;meta content=\"GitLab Community Edition\" property=\"og:description\"&amp;gt;...çœç•¥ç‰‡æ®µ 9.ä¸Šä¼ æ–‡ä»¶1234 [root@litong ~]# curl http://127.0.0.1/up -F \"file=@logo.png\" % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 4616 0 76 100 4540 76 4540 0:00:01 --:--:-- 0:00:01 8213&#123;\"hash\":\"FmP639IPMcunQpiXidRPNisi2lDp\",\"key\":\"FmP639IPMcunQpiXidRPNisi2lDp\"&#125; èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ ä¸‹ä¸€ç¯‡ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• Linuxç³»ç»Ÿä¸‹çš„ä¸‹è½½å·¥å…·å‘½ä»¤é€‰é¡¹å‚è€ƒç¤ºä¾‹æµ‹è¯•æŽ¥å£å¸¸ç”¨çš„curlå‚è€ƒç¤ºä¾‹ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.717Z","updated":"2019-11-27T15:22:16.717Z","comments":true,"path":"public/2018/03/15/çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž/index.html","permalink":"http://ltyeamin.github.io/public/2018/03/15/çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž/index.html","excerpt":"","text":"çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž backend Java 2018/03/15 æœ¬æ–‡äºŽ622å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ æœ€è¿‘åœ¨ä½¿ç”¨Spring Cloudè¿‡ç¨‹ä¸­,ç»å¸¸ä¼šé‡è§çº¿ç¨‹éš”ç¦»(åˆ‡æ¢).å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±.ä¾‹å¦‚è°ƒç”¨å…¶ä»–æœåŠ¡èŽ·å–ä¸åˆ°Threadlocalæ²¡æœ‰æ•°æ®,æœåŠ¡ä¹‹é—´ä¼ é€’è¯·æ±‚å¤´ä¼ é€’å¤±è´¥.é€šè¿‡æŸ¥é˜…ç›¸å…³æ–‡æ¡£æ‰å‘çŽ°:ç”¨Hystrixå®žçŽ°æ–­è·¯å™¨,Zuulä¸­é»˜è®¤ä½¿ç”¨çš„æ˜¯ä¿¡å·é‡,å…¶ä»–é»˜è®¤éƒ½æ˜¯çº¿ç¨‹éš”ç¦».å…·ä½“æ–‡æ¡£å¦‚ä¸‹(å¯å‚è€ƒHystrix WIKI)ï¼š Thread or Semaphore The default, and the recommended setting, is to run HystrixCommands using thread isolation (THREAD) and HystrixObservableCommands using semaphore isolation (SEMAPHORE). Commands executed in threads have an extra layer of protection against latencies beyond what network timeouts can offer. Generally the only time you should use semaphore isolation for HystrixCommands is when the call is so high volume (hundreds per second, per instance) that the overhead of separate threads is too high; this typically only applies to non-network calls. åœ¨ä½¿ç”¨çº¿ç¨‹éš”ç¦»çš„æ—¶å€™ï¼Œæœ‰ä¸ªé—®é¢˜æ˜¯å¿…é¡»è¦è§£å†³çš„ï¼Œé‚£å°±æ˜¯åœ¨æŸäº›ä¸šåŠ¡åœºæ™¯ä¸‹é€šè¿‡ThreadLocalæ¥åœ¨çº¿ç¨‹é‡Œä¼ é€’æ•°æ®ï¼Œç”¨ä¿¡å·é‡æ˜¯æ²¡é—®é¢˜çš„ï¼Œä»Žè¯·æ±‚è¿›æ¥ï¼Œä½†åŽç»­çš„æµç¨‹éƒ½æ˜¯é€šä¸€ä¸ªçº¿ç¨‹ã€‚å½“éš”ç¦»æ¨¡å¼ä¸ºçº¿ç¨‹æ—¶ï¼ŒHystrixä¼šå°†è¯·æ±‚æ”¾å…¥Hystrixçš„çº¿ç¨‹æ± ä¸­åŽ»æ‰§è¡Œï¼Œè¿™ä¸ªæ—¶å€™æŸä¸ªè¯·æ±‚å°±æœ‰Açº¿ç¨‹å˜æˆBçº¿ç¨‹äº†ï¼ŒThreadLocalå¿…ç„¶æ¶ˆå¤±äº†. æ¨¡æ‹Ÿå®žçŽ° 123456789101112131415161718192021222324252627282930313233public class CustomThreadLocal &#123; static ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;&gt;(); public static void main(String[] args) &#123; new Thread(new Runnable() &#123; @Override public void run() &#123; CustomThreadLocal.threadLocal.set(&quot;å½¤å“¥å“¥&quot;); new Service().call(); &#125; &#125;).start(); &#125;&#125;class Service &#123; public void call() &#123; System.out.println(&quot;Service:&quot; + Thread.currentThread().getName()); System.out.println(&quot;Service:&quot; + CustomThreadLocal.threadLocal.get()); new Dao().call(); &#125;&#125;class Dao &#123; public void call() &#123; System.out.println(&quot;==========================&quot;); System.out.println(&quot;Dao:&quot; + Thread.currentThread().getName()); System.out.println(&quot;Dao:&quot; + CustomThreadLocal.threadLocal.get()); &#125;&#125; æˆ‘ä»¬åœ¨ä¸»ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªThreadLocalç”¨æ¥ä¼ é€’æ•°æ®ï¼Œç„¶åŽèµ·äº†ä¸€ä¸ªçº¿ç¨‹ï¼Œåœ¨çº¿ç¨‹ä¸­è°ƒç”¨Serviceä¸­çš„callæ–¹æ³•ï¼Œå¹¶ä¸”å¾€Threadlocalä¸­è®¾ç½®äº†ä¸€ä¸ªå€¼ï¼Œåœ¨Serviceä¸­èŽ·å–ThreadLocalä¸­çš„å€¼ï¼Œç„¶åŽå†è°ƒç”¨Daoä¸­çš„callæ–¹æ³•ï¼Œä¹Ÿæ˜¯èŽ·å–ThreadLocalä¸­çš„å€¼ï¼Œæˆ‘ä»¬è¿è¡Œä¸‹çœ‹æ•ˆæžœï¼š12345Service:Thread-0Service:å½¤å“¥å“¥==========================Dao:Thread-0Dao:å½¤å“¥å“¥ ä»Žè¿è¡Œç»“æžœæ¥çœ‹,åŒä¸€ä¸ªçº¿ç¨‹ä¸­èƒ½å¤ŸèŽ·å¾—ThreadLocalçš„å€¼.è¿™ä¸ªæ²¡é”™,æŽ¥ä¸‹æ¥,å°†Sericeç±»ä¸­çš„call()æ–¹æ³•ç¨å¾®æ”¹é€ ä¸€ä¸‹:1234567891011public void call() &#123; System.out.println(&quot;Service:&quot; + Thread.currentThread().getName()); System.out.println(&quot;Service:&quot; + CustomThreadLocal.threadLocal.get()); //new Dao().call(); new Thread(new Runnable() &#123; @Override public void run() &#123; new Dao().call(); &#125; &#125;).start();&#125; å†æ¬¡è¿è¡Œç»“æžœå¦‚ä¸‹:12345Service:Thread-0Service:å½¤å“¥å“¥==========================Dao:Thread-1Dao:null ç”±æ­¤å¯è§æ˜¯ä¸¤ä¸ªä¸åŒçš„çº¿ç¨‹,åœ¨è¿è¡ŒDaoä¸­çš„call()æ–¹æ³•è¿›è¡Œäº†çº¿ç¨‹åˆ‡æ¢,æ‰€ä»¥ThreadLocalèŽ·å–åˆ°çš„æ•°æ®æœªnull. InheritableThreadLocalå¼•å…¥æ—¢ç„¶é‡åˆ°é—®é¢˜å°±è¯¥è§£å†³,é‚£ä¹ˆå¦‚ä½•è§£å†³å‘¢?å…¶å®žè§£å†³èµ·æ¥å¾ˆç®€å•,åªéœ€è¦æ”¹ä¸€è¡Œä»£ç å³å¯.1static ThreadLocal&lt;String&gt; threadLocal = new InheritableThreadLocal&lt;&gt;(); å°†Threadlocalæ”¹æˆå­ç±»InheritableThreadLocalåŽè¿è¡Œç»“æžœ:12345Service:Thread-0Service:å½¤å“¥å“¥==========================Dao:Thread-1Dao:å½¤å“¥å“¥ éžå¸¸å®Œç¾Žçš„è§£å†³äº†çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ‹¿ä¸åˆ°å€¼è€Œäº§ç”Ÿçš„é—®é¢˜. æ·±å…¥InheritableThreadLocalåŽŸç†è¦å…ˆäº†è§£InheritableThreadLocalåŽŸç†,é¦–å…ˆæ¸…æ¥šThreadLocalçš„åŽŸç†.è¯ä¸å¤šè¯´,å…ˆåˆ†æžä¸€ä¸‹ThreadLocalçš„åŽŸç†: æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªThreadLocalMapç±»åž‹çš„threadLocalså±žæ€§,ThreadLocalMapç±»ç›¸å½“äºŽä¸€ä¸ªMap,key æ˜¯ ThreadLocalæœ¬èº«,valueå°±æ˜¯æˆ‘ä»¬è®¾ç½®çš„å€¼. 123public class Thread implements Runnable &#123; ThreadLocal.ThreadLocalMap threadLocals = null;&#125; å½“æˆ‘ä»¬é€šè¿‡threadLocal.set(â€œå½¤å“¥å“¥â€)çš„æ—¶å€™,å°±æ˜¯åœ¨è¿™ä¸ªçº¿ç¨‹ä¸­çš„threadLocalså±žæ€§ä¸­æ”¾å…¥ä¸€ä¸ªé”®å€¼å¯¹,keyæ˜¯ å½“å‰çº¿ç¨‹,valueå°±æ˜¯ä½ è®¾ç½®çš„å€¼ã€‚ å½“æˆ‘ä»¬é€šè¿‡ threadlocal.get()æ–¹æ³•çš„æ—¶å€™,å°±æ˜¯æ ¹æ®å½“å‰çº¿ç¨‹ä½œä¸ºkeyæ¥èŽ·å–è¿™ä¸ªçº¿ç¨‹è®¾ç½®çš„å€¼.12345678910111213141516171819202122232425262728293031public class ThreadLocal&lt;T&gt; &#123; public void set(T value) &#123; //èŽ·å–å½“å‰çš„çº¿ç¨‹å¯¹è±¡ Thread t = Thread.currentThread(); //èŽ·å–å½“å‰çº¿ç¨‹å¯¹è±¡ä¸­çš„threadLocalså±žæ€§ ThreadLocalMap map = getMap(t); if (map != null) map.set(this, value); else createMap(t, value); &#125; ThreadLocalMap getMap(Thread t) &#123; return t.threadLocals; &#125; public T get() &#123; Thread t = Thread.currentThread(); ThreadLocalMap map = getMap(t); if (map != null) &#123; ThreadLocalMap.Entry e = map.getEntry(this); if (e != null) &#123; @SuppressWarnings(&quot;unchecked&quot;) T result = (T)e.value; return result; &#125; &#125; return setInitialValue(); &#125;&#125; é€šè¿‡ä¸Šé¢çš„ä»‹ç»æˆ‘ä»¬å¯ä»¥äº†è§£åˆ°threadlocalèƒ½å¤Ÿä¼ é€’æ•°æ®æ˜¯ç”¨Thread.currentThread()å½“å‰çº¿ç¨‹æ¥èŽ·å–,ä¹Ÿå°±æ˜¯åªè¦åœ¨ç›¸åŒçš„çº¿ç¨‹ä¸­å°±å¯ä»¥èŽ·å–åˆ°å‰é¢è®¾ç½®è¿›åŽ»çš„å€¼.å¦‚æžœåœ¨threadlocalè®¾ç½®å®Œå€¼ä¹‹åŽ,ä¸‹æ­¥çš„æ“ä½œé‡æ–°åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹,è¿™ä¸ªæ—¶å€™Thread.currentThread()å°±å·²ç»å˜äº†,é‚£ä¹ˆè‚¯å®šæ˜¯æ‹¿ä¸åˆ°ä¹‹å‰è®¾ç½®çš„å€¼.å…·ä½“çš„é—®é¢˜å¤çŽ°å¯ä»¥å‚è€ƒä¸Šé¢æˆ‘çš„ä»£ç .é‚£ä¸ºä»€ä¹ˆInheritableThreadLocalå°±å¯ä»¥å‘¢?InheritableThreadLocalè¿™ä¸ªç±»ç»§æ‰¿äº†ThreadLocal,é‡å†™äº†3ä¸ªæ–¹æ³•,åœ¨å½“å‰çº¿ç¨‹ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹å®žä¾‹Threadæ—¶,ä¼šæŠŠè¿™äº›çº¿ç¨‹å˜é‡ä»Žå½“å‰çº¿ç¨‹ä¼ é€’ç»™æ–°çš„çº¿ç¨‹å®žä¾‹.12345678910111213141516public class InheritableThreadLocal&lt;T&gt; extends ThreadLocal&lt;T&gt; &#123; protected T childValue(T parentValue) &#123; return parentValue; &#125; ThreadLocalMap getMap(Thread t) &#123; return t.inheritableThreadLocals; &#125; void createMap(Thread t, T firstValue) &#123; t.inheritableThreadLocals = new ThreadLocalMap(this, firstValue); &#125;&#125; é€šè¿‡ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹åˆ°InheritableThreadLocal é‡å†™äº†childValue, getMap,createMapä¸‰ä¸ªæ–¹æ³•,æˆ‘ä»¬å¾€é‡Œé¢setå€¼çš„æ—¶å€™,å€¼ä¿å­˜åˆ°äº†inheritableThreadLocalsé‡Œé¢,è€Œä¸æ˜¯ä¹‹å‰çš„threadLocalsé‚£ä¹ˆå…³é”®çš„ç‚¹æ¥äº†,ä¸ºä»€ä¹ˆå½“åˆ›å»ºæ–°çš„çº¿ç¨‹æ± ,å¯ä»¥èŽ·å–åˆ°ä¸Šä¸ªçº¿ç¨‹é‡Œçš„threadLocalä¸­çš„å€¼å‘¢?åŽŸå› å°±æ˜¯åœ¨æ–°åˆ›å»ºçº¿ç¨‹çš„æ—¶å€™,ä¼šæŠŠä¹‹å‰çº¿ç¨‹çš„inheritableThreadLocalsèµ‹å€¼ç»™æ–°çº¿ç¨‹çš„inheritableThreadLocals,é€šè¿‡è¿™ç§æ–¹å¼å®žçŽ°äº†æ•°æ®çš„ä¼ é€’.æºç æœ€å¼€å§‹åœ¨Threadçš„init()æ–¹æ³•ä¸­,å¦‚ä¸‹:1234567891011121314151617181920212223242526272829303132333435363738394041424344publicclass Thread implements Runnable &#123; private void init(ThreadGroup g, Runnable target, String name, long stackSize, AccessControlContext acc, boolean inheritThreadLocals) &#123; //ä»£ç çœç•¥...... if (inheritThreadLocals &amp;&amp; parent.inheritableThreadLocals != null) //åˆ›å»ºæ–°çš„ThreadLocalMapå¹¶å¤åˆ¶ç»™å½“å‰çº¿ç¨‹çš„inheritableThreadLocalså¯¹è±¡ this.inheritableThreadLocals = ThreadLocal.createInheritedMap(parent.inheritableThreadLocals); //ä»£ç çœç•¥...... &#125; static ThreadLocalMap createInheritedMap(ThreadLocalMap parentMap) &#123; return new ThreadLocalMap(parentMap); &#125; /** * èµ‹å€¼ä»£ç  */ private ThreadLocalMap(ThreadLocalMap parentMap) &#123; Entry[] parentTable = parentMap.table; int len = parentTable.length; setThreshold(len); table = new Entry[len]; for (int j = 0; j &lt; len; j++) &#123; Entry e = parentTable[j]; if (e != null) &#123; @SuppressWarnings(&quot;unchecked&quot;) ThreadLocal&lt;Object&gt; key = (ThreadLocal&lt;Object&gt;) e.get(); if (key != null) &#123; Object value = key.childValue(e.value); Entry c = new Entry(key, value); int h = key.threadLocalHashCode &amp; (len - 1); while (table[h] != null) h = nextIndex(h, len); table[h] = c; size++; &#125; &#125; &#125; &#125;&#125; åˆ°æ­¤ä¸ºæ­¢,é€šè¿‡inheritableThreadLocalsæˆ‘ä»¬å¯ä»¥åœ¨çˆ¶çº¿ç¨‹åˆ›å»ºå­çº¿ç¨‹çš„æ—¶å€™å°†Localä¸­çš„å€¼ä¼ é€’ç»™å­çº¿ç¨‹,è¿™ä¸ªç‰¹æ€§å·²ç»èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†çš„éœ€æ±‚äº†.ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜æ˜¯å¦‚æžœæ˜¯åœ¨çº¿ç¨‹å¤ç”¨çš„æƒ…å†µä¸‹å°±ä¼šå‡ºé—®é¢˜,æ¯”å¦‚çº¿ç¨‹æ± ä¸­åŽ»ä½¿ç”¨inheritableThreadLocalsè¿›è¡Œä¼ å€¼,å› ä¸ºinheritableThreadLocals åªæ˜¯ä¼šå†æ–°åˆ›å»ºçº¿ç¨‹çš„æ—¶å€™è¿›è¡Œä¼ å€¼,çº¿ç¨‹å¤ç”¨å¹¶ä¸ä¼šåšè¿™ä¸ªæ“ä½œ,é‚£ä¹ˆè¦è§£å†³è¿™ä¸ªé—®é¢˜å°±å¾—è‡ªå·±åŽ»æ‰©å±•çº¿ç¨‹ç±»å®žçŽ°è¿™ä¸ªåŠŸèƒ½. é˜¿é‡Œè§£å†³ä¹‹é“å¼€æºçš„ä¸–ç•Œåº”æœ‰å°½æœ‰,ä¸ºäº†è§£å†³ä¸Šè¿°é—ç•™çš„é—®é¢˜,é˜¿é‡Œå¼€æºäº†ä¸€æ¬¾Javaæ¡†æž¶: transmittable-thread-localå…¶ä¸»è¦åŠŸèƒ½å°±æ˜¯è§£å†³åœ¨ä½¿ç”¨çº¿ç¨‹æ± ç­‰ä¼šç¼“å­˜çº¿ç¨‹çš„ç»„ä»¶æƒ…å†µä¸‹,æä¾›ThreadLocalå€¼çš„ä¼ é€’åŠŸèƒ½,è§£å†³å¼‚æ­¥æ‰§è¡Œæ—¶ä¸Šä¸‹æ–‡ä¼ é€’çš„é—®é¢˜.JDKçš„InheritableThreadLocalç±»å¯ä»¥å®Œæˆçˆ¶çº¿ç¨‹åˆ°å­çº¿ç¨‹çš„å€¼ä¼ é€’.ä½†å¯¹äºŽä½¿ç”¨çº¿ç¨‹æ± ç­‰ä¼šç¼“å­˜çº¿ç¨‹çš„ç»„ä»¶çš„æƒ…å†µ,çº¿ç¨‹ç”±çº¿ç¨‹æ± åˆ›å»ºå¥½,å¹¶ä¸”çº¿ç¨‹æ˜¯ç¼“å­˜èµ·æ¥åå¤ä½¿ç”¨çš„;è¿™æ—¶çˆ¶å­çº¿ç¨‹å…³ç³»çš„ThreadLocalå€¼ä¼ é€’å·²ç»æ²¡æœ‰æ„ä¹‰,åº”ç”¨éœ€è¦çš„å®žé™…ä¸Šæ˜¯æŠŠä»»åŠ¡æäº¤ç»™çº¿ç¨‹æ± æ—¶çš„ThreadLocalå€¼ä¼ é€’åˆ°ä»»åŠ¡æ‰§è¡Œæ—¶.transmittable-thread-localä½¿ç”¨æ–¹å¼åˆ†ä¸ºä¸‰ç§:ä¿®é¥°Runnableå’ŒCallable,ä¿®é¥°çº¿ç¨‹æ± ,Java Agentæ¥ä¿®é¥°JDKçº¿ç¨‹æ± å®žçŽ°ç±».æŽ¥ä¸‹æ¥ç»™å¤§å®¶æ¼”ç¤ºä¸‹çº¿ç¨‹æ± çš„ä¿®é¥°æ–¹å¼,é¦–å…ˆæ¥ä¸€ä¸ªéžæ­£å¸¸çš„æ¡ˆä¾‹,ä»£ç å¦‚ä¸‹:1234567891011121314151617181920212223242526272829303132333435363738394041public class CustomThreadLocal &#123; static ThreadLocal&lt;String&gt; threadLocal = new InheritableThreadLocal&lt;&gt;(); /** * åˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°ä¸º2çš„çº¿ç¨‹æ±  */ static ExecutorService pool = Executors.newFixedThreadPool(2); public static void main(String[] args) &#123; for(int i=0;i&lt;100;i++) &#123; int j = i; pool.execute(new Thread(new Runnable() &#123; @Override public void run() &#123; CustomThreadLocal.threadLocal.set(&quot;å½¤å“¥å“¥&quot;+j); new Service().call(); &#125; &#125;)); &#125; &#125;&#125;class Service &#123; public void call() &#123; CustomThreadLocal.pool.execute(new Runnable() &#123; @Override public void run() &#123; new Dao().call(); &#125; &#125;); &#125;&#125;class Dao &#123; public void call() &#123; System.out.println(&quot;Dao:&quot; + CustomThreadLocal.threadLocal.get()); &#125;&#125; è¿è¡Œä¸Šé¢çš„ä»£ç ,å‡ºçŽ°çš„ç»“æžœæ˜¯ä¸æ­£ç¡®çš„,è¾“å‡ºç»“æžœå¦‚ä¸‹:12345678910111213Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥99çœç•¥ä¹‹åŽçš„ç»“æžœ... æ­£ç¡®çš„åº”è¯¥æ˜¯ä»Ž0-99ä¸èƒ½æœ‰é‡å¤,ç”±äºŽçº¿ç¨‹çš„å¤ç”¨,å€¼è¢«æ›¿æ¢æŽ‰äº†æ‰ä¼šå‡ºçŽ°ä¸æ­£ç¡®çš„ç»“æžœ.æŽ¥ä¸‹æ¥ä½¿ç”¨transmittable-thread-localæ¥æ”¹é€ æœ‰é—®é¢˜çš„ä»£ç ,æ·»åŠ transmittable-thread-localçš„Mavenä¾èµ–ï¼š12345&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;transmittable-thread-local&lt;/artifactId&gt; &lt;version&gt;2.2.0&lt;/version&gt;&lt;/dependency&gt; åªéœ€è¦ä¿®æ”¹2ä¸ªåœ°æ–¹,ä¿®é¥°çº¿ç¨‹æ± å’Œæ›¿æ¢InheritableThreadLocal:12static TransmittableThreadLocal&lt;String&gt; threadLocal = new TransmittableThreadLocal&lt;&gt;();static ExecutorService pool = TtlExecutors.getTtlExecutorService(Executors.newFixedThreadPool(2)); æ­£ç¡®ç»“æžœå¦‚ä¸‹:123456789101112Dao:å½¤å“¥å“¥1Dao:å½¤å“¥å“¥2Dao:å½¤å“¥å“¥4Dao:å½¤å“¥å“¥5Dao:å½¤å“¥å“¥3Dao:å½¤å“¥å“¥6Dao:å½¤å“¥å“¥7Dao:å½¤å“¥å“¥8Dao:å½¤å“¥å“¥9Dao:å½¤å“¥å“¥10Dao:å½¤å“¥å“¥11çœç•¥ä¹‹åŽçš„ç»“æžœ... åˆ°è¿™é‡Œæˆ‘ä»¬å°±å·²ç»å¯ä»¥å®Œç¾Žçš„è§£å†³çº¿ç¨‹ä¸­,çº¿ç¨‹æ± ä¸­ThreadLocalæ•°æ®çš„ä¼ é€’äº†,é¢˜ä¸»è¶ç€ä¸­åˆå–èŒ¶çš„æ—¶é—´,æ— æ„é—´æ‰¾åˆ°å…¶ä»–è§£å†³æ–¹æ¡ˆ,ä¸‹èŠ‚ç»§ç»­ç”¨å…¶ä»–æ–¹å¼è¿›è¡Œè§£å†³. èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž ä¸‹ä¸€ç¯‡ ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• æ¨¡æ‹Ÿå®žçŽ°InheritableThreadLocalå¼•å…¥æ·±å…¥InheritableThreadLocalåŽŸç†é˜¿é‡Œè§£å†³ä¹‹é“ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:29.173Z","updated":"2020-01-08T13:06:28.995Z","comments":true,"path":"public/2019/03/27/è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get/index.html","permalink":"http://ltyeamin.github.io/public/2019/03/27/è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get/index.html","excerpt":"","text":"è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get ops å®žç”¨å·¥å…·åŠæŠ€å·§ 2019/03/27 æˆ‘ä»¬æ—¥å¸¸ä¸Šç½‘è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å°†ç½‘é¡µä¸­çš„è§†é¢‘èµ„æºæå–ä¸‹è½½å‡ºæ¥ï¼Œä¸€èˆ¬å¦‚æžœç½‘ç«™æ²¡æœ‰å±è”½è§†é¢‘åœ°å€ä¸”ç”¨çš„æ˜¯éžFlashæ’­æ”¾å™¨(çŽ°æµè¡ŒHTML5æ’­æ”¾å™¨),æˆ‘ä»¬å¯ä»¥åœ¨è§†é¢‘æ’­æ”¾å™¨å³é”®ç›´æŽ¥ä¸‹è½½è§†é¢‘èµ„æºï¼Œä½†æ˜¯å›½å†…ç½‘ç«™è¿è¥å•†ä¸ºäº†ä¿æŠ¤ç‰ˆæƒï¼Œä¼šå°†çœŸæ­£çš„èµ„æºåœ°å€å±è”½èµ·æ¥ï¼Œæˆ‘ä»¬æ— æ³•æ‰¾åˆ°çœŸå®žåœ°å€å¹¶è¿›è¡Œä¸‹è½½ã€‚å› æ­¤å‡ºçŽ°äº†å¥½å¤šç¬¬ä¸‰æ–¹çš„åº”ç”¨æ¥å¸®åŠ©æˆ‘ä»¬æå–ç½‘é¡µä¸­çš„è§†é¢‘ï¼Œå¸¸è§çš„æå–è½¯ä»¶æœ‰Chromeæ’ä»¶Video download helperå’ŒVideo Downloader GetThemAllã€å›½å†…ä»¥å‰å¾ˆè‘—åçš„ç¡•é¼ å’Œç»´æ£ è§†é¢‘ä¸‹è½½(è¿™ä¸¤ä¸ªLZä¹‹å‰ç»å¸¸ç”¨ï¼Œç¡•é¼ ç»å¸¸ç”¨äºŽä¸‹è½½51CTOçš„æ•™å­¦è§†é¢‘ï¼Œç»´æ£ ç»å¸¸ç”¨äºŽç”µè§†å‰§æ‰¹é‡ä¸‹è½½)ã€‚ ä»Šå¤©æˆ‘ç»™å¤§å®¶å¸¦æ¥ä¸€æ¬¾è§†é¢‘ä¸‹è½½ç¥žå™¨you-getï¼Œyou-get ä¹ƒä¸€å°å°å“’å‘½ä»¤è¡Œç¨‹åºï¼Œæä¾›ä¾¿åˆ©çš„æ–¹å¼æ¥ä¸‹è½½ç½‘ç»œä¸Šçš„åª’ä½“ä¿¡æ¯ã€‚å¥½äº†ï¼Œè¯ä¸å¤šè¯´ï¼ŒæŽ¥ä¸‹æ¥è®©æˆ‘ä»¬å¼€å§‹ä½“éªŒä¸€ä¸‹å§ã€‚ ä¸ºä»€ä¹ˆä½ è¦å¥½å¥½çš„ç”¨ ä½ æ¬¢å–œäºŽäº’è”ç½‘ä¸Šçš„å¯Œåª’ä½“å†…å®¹ï¼Œå¹¶ä¸ºä¸ªäººå¯»æ¬¢è€Œå‚¨å­˜ ä½ å–œæ‚¦è§‚çœ‹çš„è§†é¢‘ï¼Œç„¶è€Œä¸å¾—ä¿å­˜ï¼›å¯¹ä¸ªäººè®¾å¤‡æ— ä»ŽæŽ§åˆ¶ï¼Œæ­¤ä¹ƒè¿èƒŒå¼€æ”¾äº’è”ç½‘ä¹‹è¡Œä¸º ä½ å¯»æ±‚è§£è„±äºŽé—­æºè½¯ä»¶æˆ–JavaScriptä»£ç ï¼Œå¹¶ç¦æ­¢Flashè¿è¡Œ ä½ ä¸ºé»‘å®¢ç²¾ç¥žä¸Žè‡ªç”±è½¯ä»¶è€Œæ¬£å–œ åŠŸèƒ½ç‰¹æ€§ ä¸‹è½½æµè¡Œç½‘ç«™ä¹‹éŸ³è§†é¢‘ï¼Œä¾‹å¦‚YouTube, Youku, Niconico,ä»¥åŠæ›´å¤š. (æŸ¥çœ‹å®Œæ•´æ”¯æŒåˆ—è¡¨) äºŽæ‚¨å¿ƒä»ªçš„åª’ä½“æ’­æ”¾å™¨ä¸­è§‚çœ‹åœ¨çº¿è§†é¢‘ï¼Œè„±ç¦»æµè§ˆå™¨ä¸Žå¹¿å‘Š ä¸‹è½½æ‚¨å–œæ¬¢çš„ç½‘é¡µä¸Šçš„å›¾ç‰‡ ä¸‹è½½ä»»ä½•éžHTMLå†…å®¹ï¼Œä¾‹å¦‚äºŒè¿›åˆ¶æ–‡ä»¶ å®‰è£…æ–¹å¼Macå®‰è£… åœ¨Macä¸Šå®‰è£…Homebrewï¼ŒHomebrewæ˜¯ä¸€æ¬¾Mac OSå¹³å°ä¸‹çš„è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼Œæ‹¥æœ‰å®‰è£…ã€å¸è½½ã€æ›´æ–°ã€æŸ¥çœ‹ã€æœç´¢ç­‰å¾ˆå¤šå®žç”¨çš„åŠŸèƒ½ï¼ŒåŠŸèƒ½ç±»ä¼¼äºŽLinuxå¹³å°ä¸Šçš„apt-getæˆ–yumæ“ä½œã€‚è¿›å…¥Macç»ˆç«¯è¾“å…¥ä¸€ä¸‹å‘½ä»¤å³å¯å®‰è£…Homebrew; 1/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" å®‰è£…å®ŒæˆHomebrewåŽï¼Œæˆ‘ä»¬æ¥å®‰è£…you-getå·¥å…·ï¼Œè¾“å…¥ä¸€ä¸‹å‘½ä»¤å³å¯å®‰è£…å®Œæˆ; 1Yeamin:Hexo mac$ brew install you-get å®‰è£…å®ŒæˆåŽï¼Œæˆ‘ä»¬æ£€æŸ¥ç‰ˆæœ¬æ¥ç¡®è®¤æ˜¯å¦å®‰è£…æˆåŠŸã€‚ 12Yeamin:Hexo mac$ you-get -Vyou-get: version 0.4.1205, a tiny downloader that scrapes the web. Linuxå®‰è£… å®‰è£…Python3ï¼› ä½¿ç”¨pipæ¥å®‰è£… 1$ pip3 install you-get Windowså®‰è£… ä¸‹è½½Windowsé¢„è£…åŒ…å³å¯ï¼› å®‰è£…å¹¶æ‰§è¡Œå¯è¿è¡Œç¨‹åºã€‚ Gitå®‰è£…å³ä½¿æ‚¨ä¸å¸¸ä½¿ç”¨Pythonï¼Œä½œä¸ºå¼€å‘è€…ï¼Œä¹Ÿè¯·ä½¿ç”¨æ­¤æ–¹æ³•ã€‚ ä¸‹è½½å®‰è£…èµ„æºï¼Œå¦‚ä¸‹å‘½ä»¤; 1$ git clone git://github.com/soimort/you-get.git å°†ç›®å½•åŠ å…¥ PATH, æˆ–è¿è¡Œ make install ä»¥å®‰è£…you-getäºŽæ°¸ä¹…è·¯å¾„ã€‚ ä½¿ç”¨ä½“éªŒä»¥æœ€è¿‘çƒ­æ’­çš„ç”µè§†å‰§ã€Šéƒ½æŒºå¥½ã€‹ä¸ºä¾‹ï¼Œæ“ä½œå¦‚ä¸‹ï¼š æŸ¥è¯¢è§†é¢‘ä¿¡æ¯å¯ä»¥ä½¿ç”¨ --info/-i ä»¥æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ç”»è´¨ä¸Žæ ¼å¼ 1you-get -i 'https://v.youku.com/v_show/id_XNDA3OTMzMTE4MA==.html?spm=a2h1n.8261147.reload_1.1~3~A&amp;s=4e4e42efbfbdefbfbd62' æ‰§è¡Œä¸Šè¿°å‘½ä»¤åŽï¼Œè§‚å¯Ÿæ‰§è¡Œç»“æžœæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿå‡ºç”µè§†å‰§ã€Šéƒ½æŒºå¥½ã€‹ç¬¬1é›†çš„ç‰‡æºæ¥è‡ªä¼˜é…·ï¼Œç”»è´¨æœ‰è¶…æ¸…ã€é«˜æ¸…ã€æ¸£æ¸…ã€æ ‡æ¸…ï¼Œè§†é¢‘æ ¼å¼éƒ½ä¸ºmp4ï¼Œè§†é¢‘æ–‡ä»¶å¤§å°ä»¥åŠç›¸å…³åœ°å€é“¾æŽ¥ã€‚ ä¸‹è½½è§†é¢‘1you-get 'https://v.youku.com/v_show/id_XNDA3OTMzMTE4MA==.html?spm=a2h1n.8261147.reload_1.1~3~A&amp;s=4e4e42efbfbdefbfbd62' è¾“å…¥ä¸Šè¿°å‘½ä»¤åŽï¼Œå³å¯å¼€å§‹ä¸‹è½½ï¼Œé»˜è®¤ç”»è´¨ä¸ºè¶…æ¸…ç”»è´¨ï¼Œè§†é¢‘ä¼šåˆ†æ®µä¸‹è½½ï¼Œä¸‹è½½å®Œæˆä¹‹åŽï¼Œyou-getè‡ªåŠ¨è°ƒç”¨ffmpegå°†å¤šæ®µè§†é¢‘è¿›è¡Œåˆå¹¶æ“ä½œã€‚ åŠ è½½Cookiesåœ¨è¿™ä¸ªä¸‹è½½çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘çŽ°ä¸€ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚ä¸‹è½½ä¸‹æ¥çš„è§†é¢‘å¤§å°ä¸Žæ˜¾ç¤ºçš„å¤§å°ä¸ç¬¦åˆï¼Œæˆ‘ä»¬ä¸‹ä¸‹æ¥åªæœ‰80Må·¦å³ï¼Œè§†é¢‘æ—¶é—´ä¸º10åˆ†é’Ÿå·¦å³ã€‚ ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼ŸLZæŸ¥å¥½å¥½é˜…è¯»äº†ä¸€ä¸‹WIKIï¼ŒåŽŸå› æ˜¯ç½‘ç«™è§†é¢‘åªå…¬å¼€ä¸€éƒ¨åˆ†è§†é¢‘ç‰‡æ®µï¼Œå¹¶éžæ‰€æœ‰è§†é¢‘å¯ä¾›ä»»ä½•äººè§‚çœ‹ã€‚å¦‚æžœéœ€è¦ç™»å½•ä»¥è§‚çœ‹ (ä¾‹å¦‚, ç§å¯†è§†é¢‘), å¯èƒ½å¿…é¡»å°†æµè§ˆå™¨cookieé€šè¿‡--cookies/-c åŠ è½½å…¥ you-getã€‚éœ€è¦æˆ‘ä»¬ç™»å½•çš„Cookiesä¿¡æ¯ï¼Œæˆ‘ä»¬ç™»å½•åŽå°†æ‰“å¼€F12æŸ¥çœ‹Cookieä¿¡æ¯ï¼Œä¸€æŸ¥çœ‹ï¼Œä¸€å¤§å †Cookieï¼Œæ€Žä¹ˆæ•´ï¼ŒäºŽæ˜¯LZåˆæ‰¾åˆ°ä¸€ä¸ªChromeæµè§ˆå™¨çš„æ’ä»¶ï¼Œè‡ªåŠ¨ç”ŸæˆCookiesï¼Œå¦‚å›¾ï¼Œå¯ä»¥å°†çº¢è‰²åŒºåŸŸæ‹·è´åˆ°Cookies.txtä¸­ï¼Œç„¶åŽç»§ç»­æ‰§è¡Œä¸‹è½½æ“ä½œã€‚ æ³¨æ„: ç›®å‰æˆ‘ä»¬æ”¯æŒä¸¤ç§cookieæ ¼å¼ï¼šMozilla cookies.sqlite å’Œ Netscape cookies.txt. 1you-get -c Cookies.txt https://v.youku.com/v_show/id_XNDA3OTMzMTE4MA==.html æœ¬åœ°æ’­æ”¾å™¨æ’­æ”¾å¦‚æžœä½ åªæ˜¯åœ¨ç”¨è‡ªå·±æœ¬åœ°æ’­æ”¾å™¨è¿›è¡Œè§‚çœ‹çš„è¯ä½¿ç”¨è€Œä¸æ˜¯ä¸‹è½½çš„è¯ï¼Œåˆ™å¯ä»¥ --player/-p å°†è§†é¢‘å–‚è¿›æ’­æ”¾å™¨, ä¾‹å¦‚ mplayeræˆ–è€… vlcã€‚ 1$ you-get -p vlc 'https://www.youtube.com/watch?v=jNQXAC9IVRw' æˆ–è€…ä½ æƒ³åœ¨æµè§ˆå™¨ä¸­è§‚çœ‹è€Œä¸å¸Œæœ›çœ‹å¹¿å‘Šæˆ–è¯„è®ºåŒº: 1$ you-get -p chromium 'https://www.youtube.com/watch?v=jNQXAC9IVRw' æ”¯æŒä¸»æµç½‘ç«™åˆ—è¡¨ ç½‘ç«™ URL è§†é¢‘? å›¾åƒ? éŸ³é¢‘? YouTube https://www.youtube.com/ âœ“ Twitter https://twitter.com/ âœ“ âœ“ VK http://vk.com/ âœ“ Vine https://vine.co/ âœ“ Vimeo https://vimeo.com/ âœ“ Vidto http://vidto.me/ âœ“ Veoh http://www.veoh.com/ âœ“ Tumblr https://www.tumblr.com/ âœ“ âœ“ âœ“ TED http://www.ted.com/ âœ“ SoundCloud https://soundcloud.com/ âœ“ Pinterest https://www.pinterest.com/ âœ“ MusicPlayOn http://en.musicplayon.com/ âœ“ MTV81 http://www.mtv81.com/ âœ“ Mixcloud https://www.mixcloud.com/ âœ“ Metacafe http://www.metacafe.com/ âœ“ Magisto http://www.magisto.com/ âœ“ Khan Academy https://www.khanacademy.org/ âœ“ JPopsuki TV http://www.jpopsuki.tv/ âœ“ Internet Archive https://archive.org/ âœ“ Instagram https://instagram.com/ âœ“ âœ“ Heavy Music Archive http://www.heavy-music.ru/ âœ“ Google+ https://plus.google.com/ âœ“ âœ“ Freesound http://www.freesound.org/ âœ“ Flickr https://www.flickr.com/ âœ“ âœ“ Facebook https://www.facebook.com/ âœ“ eHow http://www.ehow.com/ âœ“ Dailymotion http://www.dailymotion.com/ âœ“ CBS http://www.cbs.com/ âœ“ Bandcamp http://bandcamp.com/ âœ“ AliveThai http://alive.in.th/ âœ“ interest.me http://ch.interest.me/tvn âœ“ 755ãƒŠãƒŠã‚´ãƒ¼ã‚´ãƒ¼ http://7gogo.jp/ âœ“ âœ“ niconicoãƒ‹ã‚³ãƒ‹ã‚³å‹•ç”» http://www.nicovideo.jp/ âœ“ 163ç½‘æ˜“è§†é¢‘ç½‘æ˜“äº‘éŸ³ä¹ http://v.163.com/ http://music.163.com/ âœ“ âœ“ 56ç½‘ http://www.56.com/ âœ“ AcFun http://www.acfun.tv/ âœ“ Baiduç™¾åº¦è´´å§ http://tieba.baidu.com/ âœ“ âœ“ çˆ†ç±³èŠ±ç½‘ http://www.baomihua.com/ âœ“ bilibiliå“”å“©å“”å“© http://www.bilibili.com/ âœ“ Dilidili http://www.dilidili.com/ âœ“ è±†ç“£ http://www.douban.com/ âœ“ æ–—é±¼ http://www.douyutv.com/ âœ“ å‡¤å‡°è§†é¢‘ http://v.ifeng.com/ âœ“ é£Žè¡Œç½‘ http://www.fun.tv/ âœ“ iQIYI çˆ±å¥‡è‰º http://www.iqiyi.com/ âœ“ æ¿€åŠ¨ç½‘ http://www.joy.cn/ âœ“ é…·6ç½‘ http://www.ku6.com/ âœ“ é…·ç‹—éŸ³ä¹ http://www.kugou.com/ âœ“ é…·æˆ‘éŸ³ä¹ http://www.kuwo.cn/ âœ“ ä¹è§†ç½‘ http://www.letv.com/ âœ“ è”æžFM http://www.lizhi.fm/ âœ“ ç§’æ‹ http://www.miaopai.com/ âœ“ MioMioå¼¹å¹•ç½‘ http://www.miomio.tv/ âœ“ ç—žå®¢é‚¦ https://www.pixnet.net/ âœ“ PPTVèšåŠ› http://www.pptv.com/ âœ“ é½é²ç½‘ http://v.iqilu.com/ âœ“ QQ è…¾è®¯è§†é¢‘ http://v.qq.com/ âœ“ é˜¡é™Œè§†é¢‘ http://qianmo.com/ âœ“ Sina æ–°æµªè§†é¢‘ å¾®åšç§’æ‹è§†é¢‘ http://video.sina.com.cn/ http://video.weibo.com/ âœ“ Sohu æœç‹è§†é¢‘ http://tv.sohu.com/ âœ“ å¤©å¤©åŠ¨å¬ http://www.dongting.com/ âœ“ TudouåœŸè±† http://www.tudou.com/ âœ“ è™¾ç±³ http://www.xiami.com/ âœ“ é˜³å…‰å«è§† http://www.isuntv.com/ âœ“ éŸ³æ‚¦Tai http://www.yinyuetai.com/ âœ“ Youkuä¼˜é…· http://www.youku.com/ âœ“ æˆ˜æ——TV http://www.zhanqi.tv/lives âœ“ å¤®è§†ç½‘ http://www.cntv.cn/ âœ“ å…¶ä»–ç±»ä¼¼å·¥å…· youtube-dlï¼šyoutube-dlåŠŸèƒ½å’Œyou-getç±»ä¼¼ã€‚ Video Download Managerï¼šå¯è§†åŒ–å·¥å…·ï¼Œç›¸å½“äºŽyoutube-dl+you-getã€‚ ykdlï¼šä¸“æ³¨äºŽä¼˜é…·è§†é¢‘ã€‚ annieï¼šä¸“æ³¨äºŽåœ¨çº¿è§†é¢‘ä¸‹è½½çš„è½»é‡çº§å‘½ä»¤è¡Œå·¥å…· ç»´æ£ :ç»´æ£ æœ€ä¸“ä¸šflvè§†é¢‘ä¸‹è½½è½¯ä»¶ ç¡•é¼ ï¼šç¡•é¼ æœ€ç¨³å®šçš„FLVè§†é¢‘ä¸‹è½½å¹³å° æ— æ°´å°é¢„è§ˆ å‚è€ƒèµ„æ–™you-getä¸­æ–‡æ–‡æ¡£ you-getæºç  èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– ä¸‹ä¸€ç¯‡ GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å° new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• ä¸ºä»€ä¹ˆä½ è¦å¥½å¥½çš„ç”¨åŠŸèƒ½ç‰¹æ€§å®‰è£…æ–¹å¼Macå®‰è£…Linuxå®‰è£…Windowså®‰è£…Gitå®‰è£…ä½¿ç”¨ä½“éªŒæŸ¥è¯¢è§†é¢‘ä¿¡æ¯ä¸‹è½½è§†é¢‘åŠ è½½Cookiesæœ¬åœ°æ’­æ”¾å™¨æ’­æ”¾æ”¯æŒä¸»æµç½‘ç«™åˆ—è¡¨å…¶ä»–ç±»ä¼¼å·¥å…·æ— æ°´å°é¢„è§ˆå‚è€ƒèµ„æ–™ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.207Z","updated":"2019-11-27T15:22:16.207Z","comments":true,"path":"public/2019/05/28/Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜/index.html","permalink":"http://ltyeamin.github.io/public/2019/05/28/Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜/index.html","excerpt":"","text":"Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ backend Spring Cloud 2019/05/28 é—®é¢˜æè¿°ä»Šå¤©å‘çŽ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„äº‹æƒ…ï¼Œå°±æ˜¯æœ¬åœ°å†™æ­»çš„FeignClientçš„urlå±žæ€§é…ç½®è¿›è¡Œfeignè°ƒç”¨æ²¡é—®é¢˜ï¼Œä½†æ˜¯æŠŠé…ç½®è¿ç§»åˆ°Ctrip Apolloé…ç½®ä¸­å¿ƒfeignè°ƒç”¨å°±æœ‰é—®é¢˜ã€‚ ä»£ç ç‰‡æ®µ123456789101112131415@FeignClient(url = \"$&#123;api.service.baseUrl&#125;\",name = \"sms-service\")public interface SmsClient &#123; /** * å‘é€çŸ­ä¿¡éªŒè¯ç ,4ä½æ•°å­—,5åˆ†é’Ÿæœ‰æ•ˆ */ @PostMapping(\"xxxx/xxxxx\") ApiResult&lt;String&gt; sendSmsVerifyCode(String xxx, Integer xxx) ; /** * æ ¡éªŒçŸ­ä¿¡éªŒè¯ç  */ @PostMapping(\"xxxx/xxxxx\") ApiResult&lt;String&gt; checkSmsVerifyCode(String xxx, Integer codeType, String xxx) ;&#125; æŠ¥é”™æ—¥å¿—123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115feign.RetryableException: $&#123;api.service.baseUrl&#125; executing POST http://$&#123;api.service.baseUrl&#125;/xxx/xxx?xxx=18800009999&amp;xxx=8 at feign.FeignException.errorExecuting(FeignException.java:65) at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:105) at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:77) at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:102) at com.sun.proxy.$Proxy148.sendSmsVerifyCode(Unknown Source) at com.yimi.darwin.biz.open.copartner.service.impl.SmsServiceImpl.sendVerifyCode(SmsServiceImpl.java:33) at com.yimi.darwin.biz.open.copartner.controller.SmsController.sendVerifyCode(SmsController.java:62) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at com.yimi.tools.filter.RequestAndResponseLoggingFilter.doFilterWrapped(RequestAndResponseLoggingFilter.java:55) at com.yimi.tools.filter.RequestAndResponseLoggingFilter.doFilterInternal(RequestAndResponseLoggingFilter.java:47) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.cloud.sleuth.instrument.web.ExceptionLoggingFilter.doFilter(ExceptionLoggingFilter.java:48) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at brave.servlet.TracingFilter.doFilter(TracingFilter.java:86) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:65) at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292) at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81) at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138) at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135) at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272) at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81) at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104) at io.undertow.server.Connectors.executeRootHandler(Connectors.java:336) at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread.run(Thread.java:748)Caused by: java.net.UnknownHostException: $&#123;api.service.baseUrl&#125; at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184) at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) at java.net.Socket.connect(Socket.java:589) at sun.net.NetworkClient.doConnect(NetworkClient.java:175) at sun.net.www.http.HttpClient.openServer(HttpClient.java:463) at sun.net.www.http.HttpClient.openServer(HttpClient.java:558) at sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242) at sun.net.www.http.HttpClient.New(HttpClient.java:339) at sun.net.www.http.HttpClient.New(HttpClient.java:357) at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220) at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156) at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050) at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984) at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1564) at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492) at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480) at feign.Client$Default.convertResponse(Client.java:150) at feign.Client$Default.execute(Client.java:72) at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:91) at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:55) at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:98) ... 89 common frames omitted é—®é¢˜åˆ†æžä¸Žè§£å†³æˆ‘ä»¬ä»ŽæŠ¥é”™æ—¥å¿—å‘çŽ°ï¼Œapi.service.baseUrlè¿™ä¸ªé…ç½®æ³¨å…¥å¤±è´¥ã€‚ æˆ‘ä¸ºäº†éªŒè¯ï¼Œä¸“é—¨å†™ä¸€ä¸ªæµ‹è¯•æŽ¥å£ï¼ŒæŸ¥çœ‹é…ç½®åˆ°åº•æœ‰æ²¡æœ‰åŠ è½½ï¼š 1234567@Value(\"$&#123;api.service.baseUrl&#125;\")private String url;@GetMapping(\"/url\")public String getUrl() &#123; return url;&#125; é€šè¿‡è°ƒç”¨localhost:8301/urlï¼ŒæŽ¥å£å“åº”äº†ç»“æžœï¼šhttps://xxx.com/, æ­¤æ—¶ï¼Œæˆ‘ä»¬å‘çŽ°ï¼Œé¡¹ç›®ä¸­api.service.baseUrlå´èƒ½æ‹¿åˆ°å€¼ï¼Œè¯´æ˜Žæ•´ä¸ªé¡¹ç›®é…ç½®æ˜¯OKçš„ã€‚ ç´§æŽ¥ç€æˆ‘ä»¬åŽ»apolloå®˜æ–¹çš„githubä¸Šæ‰¾ç­”æ¡ˆï¼Œä¹Ÿæ˜¯åœ¨å®˜æ–¹issueå’Œwikiæ‰¾åˆ°ç­”æ¡ˆçš„ã€‚ å½“é¡¹ç›®å¯åŠ¨æ—¶å€™ï¼Œä¼šæ‰«æ@FeignClientæ³¨è§£ï¼Œæ‰«æçš„è¿‡ç¨‹ä¸­ï¼Œä¼šæ³¨å…¥urlçš„å€¼ã€‚ä½†æ­¤æ—¶apolloé…ç½®æ˜¯åœ¨Feignæ‰«æåŽåŠ è½½çš„ï¼Œå…¶å®žè§£å†³æ–¹æ¡ˆå°±æ˜¯è®©apolloå…ˆäºŽfeignçš„æ‰«æåŠ è½½ï¼Œå³apolloé…ç½®é¥¥é¥¿åŠ è½½ã€‚ 1234# will inject &apos;application&apos; namespace in bootstrap phaseapollo.bootstrap.enabled = true# put apollo initialization before logging system initializationapollo.bootstrap.eagerLoad.enabled=true Spring Booté™¤äº†æ”¯æŒä¸Šè¿°ä¸¤ç§é›†æˆæ–¹å¼ä»¥å¤–ï¼Œè¿˜æ”¯æŒé€šè¿‡application.properties/bootstrap.propertiesæ¥é…ç½®ï¼Œè¯¥æ–¹å¼èƒ½ä½¿é…ç½®åœ¨æ›´æ—©çš„é˜¶æ®µæ³¨å…¥ï¼Œæ¯”å¦‚ä½¿ç”¨@ConditionalOnPropertyçš„åœºæ™¯æˆ–è€…æ˜¯æœ‰ä¸€äº›spring-boot-starteråœ¨å¯åŠ¨é˜¶æ®µå°±éœ€è¦è¯»å–é…ç½®åšä¸€äº›äº‹æƒ…ï¼ˆå¦‚dubbo-spring-boot-projectï¼‰ï¼Œæ‰€ä»¥å¯¹äºŽSpring BootçŽ¯å¢ƒå»ºè®®é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥æŽ¥å…¥Apollo(éœ€è¦0.10.0åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ã€‚ ä»Ž1.2.0ç‰ˆæœ¬å¼€å§‹ï¼Œå¦‚æžœå¸Œæœ›æŠŠæ—¥å¿—ç›¸å…³çš„é…ç½®ï¼ˆå¦‚logging.level.root=infoæˆ–logback-spring.xmlä¸­çš„å‚æ•°ï¼‰ä¹Ÿæ”¾åœ¨Apolloç®¡ç†ï¼Œé‚£ä¹ˆå¯ä»¥é¢å¤–é…ç½®apollo.bootstrap.eagerLoad.enabled=trueæ¥ä½¿Apolloçš„åŠ è½½é¡ºåºæ”¾åˆ°æ—¥å¿—ç³»ç»ŸåŠ è½½ä¹‹å‰ï¼Œä¸è¿‡è¿™ä¼šå¯¼è‡´Apolloçš„å¯åŠ¨è¿‡ç¨‹æ— æ³•é€šè¿‡æ—¥å¿—çš„æ–¹å¼è¾“å‡º(å› ä¸ºæ‰§è¡ŒApolloåŠ è½½çš„æ—¶å€™ï¼Œæ—¥å¿—ç³»ç»ŸåŽ‹æ ¹æ²¡æœ‰å‡†å¤‡å¥½å‘¢ï¼æ‰€ä»¥åœ¨Apolloä»£ç ä¸­ä½¿ç”¨Slf4jçš„æ—¥å¿—è¾“å‡ºä¾¿æ²¡æœ‰ä»»ä½•å†…å®¹)ï¼Œæ›´å¤šä¿¡æ¯å¯ä»¥å‚è€ƒPR 1614ã€‚å‚è€ƒé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š # will inject â€˜applicationâ€™ namespace in bootstrap phase apollo.bootstrap.enabled = true # put apollo initialization before logging system initialization apollo.bootstrap.eagerLoad.enabled=true å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœæ‚¨çš„apollo clientä¾èµ–ç‰ˆæœ¬æ˜¯1.1.0åŠä»¥ä¸‹çš„ï¼ŒåŠ äº†ä»¥ä¸Šçš„é…ç½®ï¼Œå‘çŽ°æ˜¯æ²¡æœ‰ç”¨çš„ã€‚æˆ‘ä»¬å¯ä»¥å°è¯•æ‰‹åŠ¨åŽ»åŠ è½½ã€‚ 12345678910111213import com.ctrip.framework.apollo.ConfigService;public class ClientUrlConfig &#123; public void init() &#123; this.initSet(\"æ­¤å¤„å†™ä½ éœ€è¦æå‰åˆå§‹åŒ–çš„key\"); &#125; private void initSet(String... keys) &#123; for (String key : keys) &#123; String val = ConfigService.getAppConfig().getProperty(key, null); System.setProperty(key, val); &#125; &#125;&#125; ç„¶åŽåœ¨SpringApplication.run() ä¹‹å‰åŠ è½½ 1234public static void main(String[] args) &#123; new ClientUrlConfig().init(); SpringApplication.run(Application.class, args);&#125; æ‰‹åŠ¨åŠ è½½åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ ${api.service.baseUrl}è¿›è¡ŒåŠ è½½ä»¥åŠFeignè°ƒç”¨äº†ã€‚ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ Windowsæœç´¢åˆ©å™¨ ä¸‹ä¸€ç¯‡ èŠèŠJavaé”çš„é‚£äº›äº‹ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• é—®é¢˜æè¿°ä»£ç ç‰‡æ®µæŠ¥é”™æ—¥å¿—é—®é¢˜åˆ†æžä¸Žè§£å†³ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/2018/01/30/Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“/index.html","permalink":"http://ltyeamin.github.io/public/2018/01/30/Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“/index.html","excerpt":"","text":"Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“ backend Spring Cloud 2018/01/30 æœ¬æ–‡äºŽ666å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ æœ€è¿‘åœ¨åšé¡¹ç›®ä¼˜åŒ–,ç ”ç©¶äº†Spring Cloudåº•å±‚æºç ,Httpè¯·æ±‚åº“é»˜è®¤æ˜¯Apache HttpClientæˆ–è€…JDKè‡ªå¸¦çš„HttpURLConnectionåº“.Javaæ ‡å‡†åº“æä¾›äº†HttpURLConnectionç±»æ¥æ”¯æŒHTTPé€šè®¯ã€‚ä¸è¿‡HttpURLConnectionæœ¬èº«çš„APIä¸å¤Ÿå‹å¥½ï¼Œæ‰€æä¾›çš„åŠŸèƒ½ä¹Ÿæœ‰é™ã€‚å¤§éƒ¨åˆ†Javaç¨‹åºéƒ½é€‰æ‹©ä½¿ç”¨Apacheçš„å¼€æºé¡¹ç›®HttpClientä½œä¸ºHTTPå®¢æˆ·ç«¯ã€‚ApacheHttpClientåº“çš„åŠŸèƒ½å¼ºå¤§ï¼Œä½¿ç”¨çŽ‡ä¹Ÿå¾ˆé«˜ï¼ŒåŸºæœ¬ä¸Šæ˜¯Javaå¹³å°ä¸­äº‹å®žä¸Šçš„æ ‡å‡†HTTPå®¢æˆ·ç«¯,ä½†æ˜¯åšAndroidçš„å°ä¼™ä¼´æ—©å·²ç»æ·˜æ±°è¯¥åº“äº†,å°±æ˜¯å› ä¸ºå…¶APIæ•°é‡è¿‡å¤šè¿‡äºŽç¹é‡,ä½¿å¾—æˆ‘ä»¬å¾ˆéš¾åœ¨ä¸ç ´åå…¼å®¹æ€§çš„æƒ…å†µä¸‹å¯¹å®ƒè¿›è¡Œå‡çº§å’Œæ‰©å±•,å› è€Œå›¢é˜Ÿä¸æ„¿æ„åŽ»ç»´æŠ¤è¯¥åº“.æœ¬ç« ä»‹ç»çš„æ˜¯ç”± Square å…¬å¸å¼€å‘çš„OkHttpï¼Œæ˜¯ä¸€ä¸ªä¸“æ³¨äºŽæ€§èƒ½å’Œæ˜“ç”¨æ€§çš„ HTTP å®¢æˆ·ç«¯ã€‚OkHttp åº“çš„è®¾è®¡å’Œå®žçŽ°çš„é¦–è¦ç›®æ ‡æ˜¯é«˜æ•ˆ.æ”¯æŒSPDY,,å¯ä»¥åˆå¹¶å¤šä¸ªåˆ°åŒä¸€ä¸ªä¸»æœºçš„è¯·æ±‚, ä½¿ç”¨è¿žæŽ¥æ± æŠ€æœ¯å‡å°‘è¯·æ±‚çš„å»¶è¿Ÿ(å¦‚æžœSPDYæ˜¯å¯ç”¨çš„è¯),ä½¿ç”¨GZIPåŽ‹ç¼©å‡å°‘ä¼ è¾“çš„æ•°æ®é‡,ç¼“å­˜å“åº”é¿å…é‡å¤çš„ç½‘ç»œè¯·æ±‚,å½“ç½‘ç»œå‡ºçŽ°é—®é¢˜æ—¶ï¼ŒOkHttp ä¼šè‡ªåŠ¨é‡è¯•ä¸€ä¸ªä¸»æœºçš„å¤šä¸ªIPåœ°å€ã€‚ OkHttpåœ¨Zuulä¸­çš„åº”ç”¨è¯è¯´è‡³æ­¤,æœ‰äº›äººå¯èƒ½åˆç–‘é—®?æˆ‘æ€Žä¹ˆçŸ¥é“é»˜è®¤åº•å±‚ç”¨çš„æ˜¯çš„Apache Client?æˆ‘åœ¨å…¬å¸è´Ÿè´£Zuulç½‘å…³æ¨¡å—,Zuulçš„åŠ¨æ€è·¯ç”±è½¬å‘ç”¨Ribbonè°ƒç”¨.æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£,å¦‚ä¸‹: 19.3 Zuul Http ClientThe default HTTP client used by zuul is now backed by the Apache HTTP Client instead of the deprecated Ribbon RestClient. To use RestClient or to use the okhttp3.OkHttpClient set ribbon.restclient.enabled=true or ribbon.okhttp.enabled=true respectively. If you would like to customize the Apache HTTP client or the OK HTTP client provide a bean of type ClosableHttpClient or OkHttpClient.1234567å‚ç…§ä¸Šè¿°å®˜æ–¹æ–‡æ¡£è¯´æ˜Ž,è§£å†³æ–¹æ¡ˆå·²ç»æ˜Žäº†,å…·ä½“å®žæ–½å¦‚ä¸‹:1.ç¡®ä¿ä½ çš„é¡¹ç›®æœ‰okhttpä¾èµ–:&lt;!-- OkHttp --&gt;&lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt;&lt;/dependency&gt; application.ymlæ·»åŠ ribboné…ç½® 12345ribbon: httpclient: enabled: false # é»˜è®¤å¼€å¯éœ€è¦ç¦ç”¨ okhttp: enabled: true æµ‹è¯•æ›¿æ¢æ˜¯å¦æˆåŠŸa,å°†GateWayæœåŠ¡æ—¥å¿—è®¾ç½®ä¸ºDEBUGæ¨¡å¼è¿›è¡Œè°ƒç”¨,æŸ¥çœ‹æ—¥å¿—ä¼šæœ‰è®¸å¤šæœ‰å…³OkHttpçš„ä¸œè¥¿,ä½†æ—¥å¿—æ‰“å°å¤ªå¤š,ä¸æ˜“æ•èŽ·,ä¸æ˜“è§‚å¯Ÿ 12345678910111213141516RibbonCommandFactoryConfiguration.HttpClientRibbonConfiguration matched:- AnyNestedCondition 1 matched 1 did not; NestedCondition on RibbonCommandFactoryConfiguration.OnRibbonHttpClientCondition.RibbonProperty@ConditionalOnProperty (ribbon.httpclient.enabled) found different value in property &apos;ribbon.httpclient.enabled&apos;; NestedCondition on RibbonCommandFactoryConfiguration.OnRibbonHttpClientCondition.ZuulProperty @ConditionalOnProperty (zuul.ribbon.httpclient.enabled) matched (RibbonCommandFactoryConfiguration.OnRibbonHttpClientCondition)RibbonCommandFactoryConfiguration.OkHttpRibbonConfigurationmatched:-@ConditionalOnClass found required class &apos;okhttp3.OkHttpClient&apos;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)- AnyNestedCondition 1 matched 1 did not; NestedCondition on RibbonCommandFactoryConfiguration.OnRibbonOkHttpClientCondition.RibbonProperty@ConditionalOnProperty (ribbon.okhttp.enabled) matched; NestedCondition on RibbonCommandFactoryConfiguration.OnRibbonOkHttpClientCondition.ZuulProperty @ConditionalOnProperty (zuul.ribbon.okhttp.enabled) did not find property &apos;zuul.ribbon.okhttp.enabled&apos; (RibbonCommandFactoryConfiguration.OnRibbonOkHttpClientCondition) b,Debugå¯åŠ¨GateWayæœåŠ¡,é€šè¿‡æºç æ–¹å¼æŸ¥çœ‹RibbonCommandFactoryConfigurationå®žé™…é…ç½®çš„Httpå®¢æˆ·ç«¯123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138package org.springframework.cloud.netflix.zuul;import java.lang.annotation.Documented;import java.lang.annotation.ElementType;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;import java.lang.annotation.Target;import java.util.Collections;import java.util.Set;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.autoconfigure.condition.AnyNestedCondition;import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;import org.springframework.cloud.netflix.ribbon.SpringClientFactory;import org.springframework.cloud.netflix.zuul.filters.ZuulProperties;import org.springframework.cloud.netflix.zuul.filters.route.RestClientRibbonCommandFactory;import org.springframework.cloud.netflix.zuul.filters.route.RibbonCommandFactory;import org.springframework.cloud.netflix.zuul.filters.route.ZuulFallbackProvider;import org.springframework.cloud.netflix.zuul.filters.route.apache.HttpClientRibbonCommandFactory;import org.springframework.cloud.netflix.zuul.filters.route.okhttp.OkHttpRibbonCommandFactory;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Conditional;import org.springframework.context.annotation.Configuration;/** * @author Dave Syer * */public class RibbonCommandFactoryConfiguration &#123; @Configuration @ConditionalOnRibbonRestClient protected static class RestClientRibbonConfiguration &#123; @Autowired(required = false) private Set&lt;ZuulFallbackProvider&gt; zuulFallbackProviders = Collections.emptySet(); @Bean @ConditionalOnMissingBean public RibbonCommandFactory&lt;?&gt; ribbonCommandFactory( SpringClientFactory clientFactory, ZuulProperties zuulProperties) &#123; return new RestClientRibbonCommandFactory(clientFactory, zuulProperties, zuulFallbackProviders); &#125; &#125; @Configuration @ConditionalOnRibbonOkHttpClient @ConditionalOnClass(name = &quot;okhttp3.OkHttpClient&quot;) protected static class OkHttpRibbonConfiguration &#123; @Autowired(required = false) private Set&lt;ZuulFallbackProvider&gt; zuulFallbackProviders = Collections.emptySet(); @Bean @ConditionalOnMissingBean public RibbonCommandFactory&lt;?&gt; ribbonCommandFactory( SpringClientFactory clientFactory, ZuulProperties zuulProperties) &#123; return new OkHttpRibbonCommandFactory(clientFactory, zuulProperties, zuulFallbackProviders); &#125; &#125; @Configuration @ConditionalOnRibbonHttpClient protected static class HttpClientRibbonConfiguration &#123; @Autowired(required = false) private Set&lt;ZuulFallbackProvider&gt; zuulFallbackProviders = Collections.emptySet(); @Bean @ConditionalOnMissingBean public RibbonCommandFactory&lt;?&gt; ribbonCommandFactory( SpringClientFactory clientFactory, ZuulProperties zuulProperties) &#123; return new HttpClientRibbonCommandFactory(clientFactory, zuulProperties, zuulFallbackProviders); &#125; &#125; @Target(&#123; ElementType.TYPE, ElementType.METHOD &#125;) @Retention(RetentionPolicy.RUNTIME) @Documented @Conditional(OnRibbonHttpClientCondition.class) @interface ConditionalOnRibbonHttpClient &#123; &#125; private static class OnRibbonHttpClientCondition extends AnyNestedCondition &#123; public OnRibbonHttpClientCondition() &#123; super(ConfigurationPhase.PARSE_CONFIGURATION); &#125; @Deprecated //remove in Edgware&quot; @ConditionalOnProperty(name = &quot;zuul.ribbon.httpclient.enabled&quot;, matchIfMissing = true) static class ZuulProperty &#123;&#125; @ConditionalOnProperty(name = &quot;ribbon.httpclient.enabled&quot;, matchIfMissing = true) static class RibbonProperty &#123;&#125; &#125; @Target(&#123; ElementType.TYPE, ElementType.METHOD &#125;) @Retention(RetentionPolicy.RUNTIME) @Documented @Conditional(OnRibbonOkHttpClientCondition.class) @interface ConditionalOnRibbonOkHttpClient &#123; &#125; private static class OnRibbonOkHttpClientCondition extends AnyNestedCondition &#123; public OnRibbonOkHttpClientCondition() &#123; super(ConfigurationPhase.PARSE_CONFIGURATION); &#125; @Deprecated //remove in Edgware&quot; @ConditionalOnProperty(&quot;zuul.ribbon.okhttp.enabled&quot;) static class ZuulProperty &#123;&#125; @ConditionalOnProperty(&quot;ribbon.okhttp.enabled&quot;) static class RibbonProperty &#123;&#125; &#125; @Target(&#123; ElementType.TYPE, ElementType.METHOD &#125;) @Retention(RetentionPolicy.RUNTIME) @Documented @Conditional(OnRibbonRestClientCondition.class) @interface ConditionalOnRibbonRestClient &#123; &#125; private static class OnRibbonRestClientCondition extends AnyNestedCondition &#123; public OnRibbonRestClientCondition() &#123; super(ConfigurationPhase.PARSE_CONFIGURATION); &#125; @Deprecated //remove in Edgware&quot; @ConditionalOnProperty(&quot;zuul.ribbon.restclient.enabled&quot;) static class ZuulProperty &#123;&#125; @ConditionalOnProperty(&quot;ribbon.restclient.enabled&quot;) static class RibbonProperty &#123;&#125; &#125; &#125; è§£è¯»:æˆ‘ä»¬å¾ˆæ¸…æ¥šZuulçš„è´Ÿè½½å‡è¡¡å®žçŽ°å°±é€šè¿‡Ribbonçš„å®žçŽ°,æ‰€ä»¥Httpå®¢æˆ·ç«¯çš„é…ç½®è‡ªç„¶ä¹Ÿæ˜¯å¯¹Ribbonç»„ä»¶çš„é…ç½®,æºä»£ç ä¸­å¾ˆæ˜Žæ˜¾éƒ½æ˜¯é€šè¿‡@Conditionalå®žçŽ°äº†æ¡ä»¶åŠ è½½,å…¶ä¸­è¯¥ç±»æä¾›äº†ä¸æ­¢ä¸€ç§çš„Httpå®¢æˆ·ç«¯(RestClient,é»˜è®¤çš„HttpClient,OkhttpClient)é…ç½®å®žçŽ°.è¦æƒ³ç¡®ä¿æ”¹é€ æˆåŠŸ,åˆ™éœ€è¦åœ¨å…¶å†…éƒ¨ç±»OkHttpRibbonConfigurationä¸­çš„RibbonCommandFactoryæ‰“ä¸Šç«¯ç‚¹,çœ‹æœ‰æ²¡æœ‰è¿›å³å¯. Feignä¸­Okhttpåº”ç”¨å¤§å®¶ä¹Ÿéƒ½çŸ¥é“Feginçš„åº•å±‚ä¹Ÿæ˜¯Ribbon,ä¸Šè¿°æ–¹å¼å¯ä»¥è§£å†³,ä½†æ˜¯æ›´æŽ¨èFeignç«¯å¼€å§‹è§£å†³. é¦–å…ˆåœ¨æœåŠ¡è°ƒç”¨æ–¹åŠ å…¥ä»¥ä¸‹ä¾èµ– 12345&lt;!-- feignæ•´åˆOkHttp --&gt;&lt;dependency&gt; &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt; &lt;artifactId&gt;feign-okhttp&lt;/artifactId&gt;&lt;/dependency&gt; åœ¨application.ymlæ–‡ä»¶é…ç½® 12345feign: httpclient: enabled: false okhttp: enabled: true æµ‹è¯•æ˜¯å¦é…ç½®æˆåŠŸa, å¯åŠ¨æœåŠ¡è¿›è¡ŒæŽ¥å£è°ƒç”¨,å¯ä»¥åˆ†æžæ—¥å¿— 1234567891011121314151617181920[2018-01-30 13:04:03.398] [DEBUG] [restartedMain] o.s.c.e.PropertySourcesPropertyResolver -Found key &apos;feign.okhttp.enabled&apos; in [applicationConfigurationProperties] with type [String][2018-01-30 13:04:03.398] [DEBUG] [restartedMain] o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean &apos;autoConfigurationReport&apos;[2018-01-30 13:04:03.398] [DEBUG] [restartedMain] o.s.c.a.ConfigurationClassBeanDefinitionReader - Registered bean definition for imported class &apos;org.springframework.cloud.netflix.feign.ribbon.FeignRibbonClientAutoConfiguration$OkHttpFeignLoadBalancedConfiguration&apos;[2018-01-30 13:04:03.399] [DEBUG] [restartedMain] o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean &apos;org.springframework.boot.autoconfigure.condition.BeanTypeRegistry&apos;[2018-01-30 13:04:03.399] [DEBUG] [restartedMain] o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean &apos;org.springframework.boot.autoconfigure.condition.BeanTypeRegistry&apos;[2018-01-30 13:04:03.399] [DEBUG] [restartedMain] o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean &apos;autoConfigurationReport&apos;[2018-01-30 13:04:03.399] [DEBUG] [restartedMain] o.s.c.a.ConfigurationClassBeanDefinitionReader -Registering bean definition for @Bean method org.springframework.cloud.netflix.feign.ribbon.FeignRibbonClientAutoConfiguration$OkHttpFeignLoadBalancedConfigur å¦‚ä¸Šè¿°æ—¥å¿—æ–‡ä»¶Found key â€˜feign.okhttp.enabledâ€™å¯ä»¥çœ‹å‡ºæ›¿æ¢æˆåŠŸ.b, åˆ†æžè°ƒç”¨æºç æ¥æµ‹è¯•æ˜¯å¦æˆåŠŸæ›¿æ¢æˆOkhttpå…¶è‡ªåŠ¨è£…é…æºç åœ¨FeignRibbonClientAutoConfigurationä¸­12345678910111213141516171819@ConditionalOnClass(&#123; ILoadBalancer.class, Feign.class &#125;)@Configuration@AutoConfigureBefore(FeignAutoConfiguration.class)//Order is important here, last should be the default, first should be optional@Import(&#123; HttpClientFeignLoadBalancedConfiguration.class, OkHttpFeignLoadBalancedConfiguration.class, DefaultFeignLoadBalancedConfiguration.class &#125;)public class FeignRibbonClientAutoConfiguration &#123; @Bean @ConditionalOnMissingBean public Client feignClient(CachingSpringLoadBalancerFactory cachingFactory, SpringClientFactory clientFactory) &#123; //Feigné»˜è®¤çš„å®¢æˆ·ç«¯æ˜¯Client.Default return new LoadBalancerFeignClient(new Client.Default(null, null), cachingFactory, clientFactory); &#125; //çœç•¥ç±»ä¸­çš„å†…å®¹...&#125; ä»Žè¯¥ç±»ä¸­çš„æ³¨é‡Šå¯ä»¥çœ‹å‡º,DefaultFeignLoadBalancedConfiguration.classæ˜¯é»˜è®¤é…ç½®,HttpClientFeignLoadBalancedConfiguration.classæ˜¯å¯é€‰çš„.Debugå¯åŠ¨æœåŠ¡å¹¶è¿›è¡Œè¿œç¨‹Feignçš„ä¸€è·¯è°ƒç”¨å‘çŽ°,ä¼šèµ°å¦‚ä¸‹çš„æ–¹æ³•:123456789101112131415161718192021222324252627282930313233343536373839404142final class SynchronousMethodHandler implements MethodHandler &#123; @Override public Object invoke(Object[] argv) throws Throwable &#123; RequestTemplate template = buildTemplateFromArgs.create(argv); Retryer retryer = this.retryer.clone(); while (true) &#123; try &#123; return executeAndDecode(template); &#125; catch (RetryableException e) &#123; retryer.continueOrPropagate(e); if (logLevel != Logger.Level.NONE) &#123; logger.logRetry(metadata.configKey(), logLevel); &#125; continue; &#125; &#125; &#125; Object executeAndDecode(RequestTemplate template) throws Throwable &#123; Request request = targetRequest(template); if (logLevel != Logger.Level.NONE) &#123; logger.logRequest(metadata.configKey(), logLevel, request); &#125; Response response; long start = System.nanoTime(); try &#123; response = client.execute(request, options); // ensure the request is set. TODO: remove in Feign 10 response.toBuilder().request(request).build(); &#125; catch (IOException e) &#123; if (logLevel != Logger.Level.NONE) &#123; logger.logIOException(metadata.configKey(), logLevel, e, elapsedTime(start)); &#125; throw errorExecuting(request, e); &#125; //çœç•¥ä»£ç ...... &#125;&#125; æˆ‘ä»¬å‘çŽ°SynchronousMethodHandlerä¸­çš„invoke()æ–¹æ³•åˆåŽ»è°ƒç”¨executeAndDecode()æ–¹æ³•,åœ¨æ‰§è¡Œä¸‹åˆ—ä¸€æ®µä»£ç çš„æ—¶å€™,ä½ ä¼šå‘çŽ°åˆ°åº•æ˜¯ç”¨å“ªä¸ªHttpå®¢æˆ·ç«¯è¿›è¡Œè°ƒç”¨1response = client.execute(request, options); Clientæ˜¯Feignçš„ClientæŽ¥å£å£°æ˜Ž,è¿™æ—¶å€™ä¼šæœ‰å¥½å‡ ä¸ªå®žçŽ°:Default,LoadBalancerFeignClinet,OkHttpClient,TraceFeignClient.è¿™ä¸‹æ˜Žæ˜¾äº†,å¦‚æžœä½ çš„classpathä¸‹æœ‰okhttpçš„ä¾èµ–,åˆ™ä¼šèµ°feign.okhttp.OkHttpClient.execute()æ–¹æ³•,å¦‚æžœæ²¡æœ‰ä¾èµ–,å°±ä¼šèµ°feign.Client.Default.execute()æ–¹æ³•.okhttpæ²¡ä»€ä¹ˆè¯´çš„,å¯ä»¥çœ‹ä¸€ä¸‹é»˜è®¤çš„Feign Client - Defaultä¸­çš„execute()ä»£ç ç‰‡æ®µ:12345@Override public Response execute(Request request, Options options) throws IOException &#123; HttpURLConnection connection = convertAndSend(request, options); return convertResponse(connection).toBuilder().request(request).build(); &#125; ç”±ä¸Šé¢ä»£ç ç‰‡æ®µå¯ä»¥å¾—å‡º,Spring Cloudé»˜è®¤Feignçš„å®¢æˆ·ç«¯æ˜¯HttpURLConnectionæž„å»ºçš„.éœ€è¦æ³¨æ„çš„æ˜¯,æ— è®ºFeignæ˜¯å“ªç§Client,é»˜è®¤éƒ½æ˜¯å¼€å¯çš„,é‡ç‚¹åœ¨äºŽclasspathä¸‹çš„ä¾èµ–,è€Œä¸æ˜¯application.ymlé‡Œçš„å¼€å…³é…ç½®.ä¹‹æ‰€ä»¥é…ç½®å¼€å…³æ˜¯å› ä¸ºå…³é—­æŽ‰æ— ç”¨çš„Client. é»˜è®¤é…ç½®è§£è¯´Feign è¯»å–æ—¶é—´é…ç½®ï¼šé»˜è®¤è¯»å–è¿žæŽ¥æ—¶é—´10s,é»˜è®¤è¿žæŽ¥è¯»å–æ—¶é—´60sæºç :123456789101112131415161718public final class Request &#123; public static class Options &#123; private final int connectTimeoutMillis; private final int readTimeoutMillis; public Options(int connectTimeoutMillis, int readTimeoutMillis) &#123; this.connectTimeoutMillis = connectTimeoutMillis; this.readTimeoutMillis = readTimeoutMillis; &#125; //é»˜è®¤æž„é€ å™¨æ—¶é—´ public Options() &#123; this(10 * 1000, 60 * 1000); &#125; &#125;&#125; æ‰‹åŠ¨è®¾ç½®é»˜è®¤çš„è¯»å–æ—¶é—´å’Œè¿žæŽ¥æ—¶é—´:1234@Beanpublic Request.Options options() &#123; Request.Options options = new Request.Options(5 * 1000, 5 * 1000);&#125; æ‰‹åŠ¨é…ç½®Okhttp312345678910111213141516171819@Configuration@ConditionalOnClass(Feign.class)@AutoConfigureBefore(FeignAutoConfiguration.class)public class FeignOkHttpConfig &#123; @Autowired OkHttpLoggingInterceptor okHttpLoggingInterceptor; @Bean public okhttp3.OkHttpClient okHttpClient()&#123; return new okhttp3.OkHttpClient.Builder() .readTimeout(60, TimeUnit.SECONDS) //è®¾ç½®è¯»å–è¶…æ—¶æ—¶é—´ .connectTimeout(60, TimeUnit.SECONDS) //è®¾ç½®è¿žæŽ¥è¶…æ—¶æ—¶é—´ .writeTimeout(120, TimeUnit.SECONDS) .connectionPool(new ConnectionPool()) // .addInterceptor(); //æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨ .build(); &#125;&#125; å‚è€ƒæ–‡çŒ®:å®˜æ–¹æ–‡æ¡£Feignäº§ç”Ÿçš„é—®é¢˜Feignæºç è§£è¯» èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure) ä¸‹ä¸€ç¯‡ ES6æ–°çš„æ•°æ®ç±»åž‹-generator new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• OkHttpåœ¨Zuulä¸­çš„åº”ç”¨Feignä¸­Okhttpåº”ç”¨é»˜è®¤é…ç½®è§£è¯´ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.715Z","updated":"2019-11-27T15:22:16.715Z","comments":true,"path":"public/2018/06/03/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§/index.html","permalink":"http://ltyeamin.github.io/public/2018/06/03/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§/index.html","excerpt":"","text":"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ backend JVMåŠå¹¶å‘ç¼–ç¨‹ 2018/06/03 æœ¬æ–‡äºŽ542å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ volatileè¿™ä¸ªå…³é”®å­—å¤§å®¶éƒ½å¬è¿‡ï¼Œçœ‹è¿‡è®¸å¤šæºç ä¹Ÿç”¨è¿‡ï¼Œè¿™ä¸ªå…³é”®å­—å¤‡å—äº‰è®®ï¼Œå¾ˆå¤šäººåŸºäºŽè¡¨é¢ç†è§£è€Œå¯¼è‡´åœ¨å®žé™…å¼€å‘è¿‡ç”Ÿä¸­å¤§è‚†è¯¯ç”¨ï¼Œæš´éœ²å‡ºå„å¼å„æ ·çš„é—®é¢˜ï¼Œè®©äººæ‘¸ä¸ç€å¤´è„‘ï¼Œä»Šå¤©æˆ‘ä»¬æ¥å¥½å¥½ç†è§£ä¸€ä¸‹volatileã€‚ ç™¾åº¦ç™¾ç§‘:volatileæ˜¯ä¸€ä¸ªç±»åž‹ä¿®é¥°ç¬¦.volatileçš„ä½œç”¨æ˜¯ä½œä¸ºæŒ‡ä»¤å…³é”®å­—ï¼Œç¡®ä¿æœ¬æ¡æŒ‡ä»¤ä¸ä¼šå› ç¼–è¯‘å™¨çš„ä¼˜åŒ–è€Œçœç•¥ï¼Œä¸”è¦æ±‚æ¯æ¬¡ç›´æŽ¥è¯»å€¼; volatileæ˜¯Javaè™šæ‹Ÿæœºæä¾›çš„è½»é‡çº§åŒæ­¥æœºåˆ¶çš„å…³é”®å­—ï¼Œä½¿è¢«ä¿®é¥°çš„å˜é‡åœ¨å¤šä¸ªçº¿ç¨‹å¯è§ï¼› volatileå˜é‡å…·æœ‰ synchronized çš„å¯è§æ€§ç‰¹æ€§ï¼Œä¸Žsynchronizeæœ‰ç›¸ä¼¼çš„åŒæ­¥åŠŸèƒ½ï¼Œä½†ä¸å…·å¤‡åŽŸå­ç‰¹æ€§ï¼Œåœ¨å¤šçº¿ç¨‹å¹¶å‘ä¸‹æ˜¯ä¸å®‰å…¨çš„ã€‚ ä¸¤ç§ç‰¹æ€§ç‰¹æ€§å½’çº³å½“ä¸€ä¸ªå˜é‡è¢«å®šä¹‰æˆvolatileä¹‹åŽï¼Œå®ƒå°†å…·å¤‡å¦‚ä¸‹ä¸¤ç§ç‰¹æ€§: ä¿è¯æ­¤å˜é‡å¯¹æ‰€æœ‰çº¿ç¨‹çš„å¯è§æ€§ã€‚å³æŒ‡å½“ä¸€æ¡çº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå˜é‡çš„å€¼ï¼Œæ–°å€¼å¯¹äºŽå…¶ä»–çº¿ç¨‹æ¥è¯´æ˜¯å¯ä»¥ç«‹å³æ„ŸçŸ¥çš„ï¼Œè€Œç›¸æ¯”ä¹‹ä¸‹ï¼Œæ™®é€šå˜é‡ä¸èƒ½åšåˆ°è¿™ç‚¹ï¼Œå˜é‡å€¼åœ¨çº¿ç¨‹é—´ä¼ é€’å‡éœ€è¦é€šè¿‡ä¸»å†…å­˜æ¥å®Œæˆã€‚æ¯”å¦‚çº¿ç¨‹1ä¿®æ”¹açš„å€¼ï¼Œç„¶åŽå‘ä¸»å†…å­˜è¿›è¡Œå›žå†™ï¼Œå¦å¤–ä¸€æ¡çº¿ç¨‹2åœ¨çº¿ç¨‹1å›žå†™å®Œæˆäº†ä¹‹åŽå†ä»Žä¸»å†…å­˜è¿›è¡Œè¯»å–æ“ä½œï¼Œæ–°å˜é‡çš„å€¼æ‰ä¼šå¯¹çº¿ç¨‹2å¯è§ã€‚ ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºä¼˜åŒ–ã€‚æ™®é€šå˜é‡ä»…ä»…ä¼šä¿è¯åœ¨è¯¥æ–¹æ³•çš„æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€æœ‰ä¾èµ–èµ‹å€¼ç»“æžœçš„åœ°æ–¹éƒ½èƒ½èŽ·å–åˆ°æ­£ç¡®çš„ç»“æžœï¼Œè€Œä¸èƒ½ä¿è¯å˜é‡èµ‹å€¼æ“ä½œçš„é¡ºåºä¸Žç¨‹åºä»£ç ä¸­çš„æ‰§è¡Œé¡ºåºä¸€è‡´ã€‚å› ä¸ºåœ¨ä¸€ä¸ªçº¿ç¨‹çš„æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­æ— æ³•æ„ŸçŸ¥åˆ°è¿™ç‚¹ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œçº¿ç¨‹å†…è¡¨çŽ°ä¸ºä¸²è¡Œçš„è¯­ä¹‰â€(Within-Thread As-If-Serial Semantics)ã€‚ ä»£ç ç¤ºä¾‹å¤šçº¿ç¨‹å¹¶å‘å®‰å…¨12345678910111213141516171819202122232425262728293031323334353637383940/** * @author tong.li * @description: volatileåªä¿è¯å†…å­˜é—´çº¿ç¨‹å¯è§æ€§,å¹¶ä¸ä¿è¯çº¿ç¨‹å®‰å…¨æ€§ * @date 2018-06-12 11:11:23 */public class VolatileTest &#123; //å…±äº«å˜é‡ public volatile int num = 0; //çº¿ç¨‹æ•°é‡ public static final int THREAD_COUNT = 20; public void add() &#123; //numè¿›è¡ŒéžåŽŸå­æ“ä½œ num++; &#125; public static void main(String[] args) &#123; final VolatileTest test = new VolatileTest(); //åˆ›å»º20ä¸ªçº¿ç¨‹ Thread[] threads = new Thread[THREAD_COUNT]; for (int i = 0; i &lt; THREAD_COUNT ; i++) &#123; threads[i] = new Thread(() -&gt; &#123; //å½“å‰çº¿ç¨‹æ“ä½œ10000æ¬¡å¯¹å…±äº«å˜é‡numè¿›è¡Œè‡ªåŠ æ“ä½œ for (int j = 0; j &lt; 10000; j++) &#123; test.add(); &#125; &#125;); //å¯åŠ¨å½“å‰çº¿ç¨‹ threads[i].start(); &#125; //æ´»åŠ¨çº¿ç¨‹çš„å½“å‰çº¿ç¨‹çš„çº¿ç¨‹ç»„ä¸­çš„æ•°é‡å¤§äºŽ1æ—¶,æ‰§è¡Œçº¿ç¨‹è®©æ­¥,è®©æ´»åŠ¨çš„çº¿ç¨‹å°½å¯èƒ½æ‰§è¡Œå®Œ // while (Thread.activeCount() &gt; 1) &#123; // Thread.yield(); //&#125; //æ‰“å°æœ€ç»ˆç»“æžœ,ç»“æžœå¤šæ•°å°äºŽ200000,ä¸ºä»€ä¹ˆå‘¢? System.out.println(\"num = \" + test.num); &#125;&#125; è¿è¡Œç»“æžœå¦‚ä¸‹: ç¬¬1æ¬¡ 1num = 132203 ç¬¬2æ¬¡ 1num = 160740 ç¬¬3æ¬¡ 1num = 187482 ä¸Šè¿°ä»£ç åˆ›å»º20ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹å¯¹numè¿›è¡Œ10000æ¬¡è‡ªå¢žæ“ä½œï¼Œå¦‚æžœä¸Šè¿°ä»£ç æ­£ç¡®å¹¶å‘ï¼ˆä¸è€ƒè™‘çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼‰çš„æƒ…å†µä¸‹ï¼Œæœ€åŽçš„ç»“æžœåº”è¯¥æ˜¯200000ï¼Œä½†æ˜¯ä¸ºå®žé™…ä¸‰æ¬¡è¿è¡Œç»“æžœä»¤äººåŒªå¤·æ‰€æ€ï¼Œå¤šæ¬¡çš„è¿è¡Œç»“æžœå¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ˜¯å°äºŽ200000ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ æˆ‘ä»¬éƒ½çŸ¥é“num++æ˜¯éžåŽŸå­æ€§æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•è¿›è¡Œjavapåç¼–è¯‘ä¸Šè¿°ä»£ç ä¸€æŽ¢ç©¶ç«Ÿï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137Yeamin:java mac$ javap -c VolatileTestCompiled from \"VolatileTest.java\"public class VolatileTest &#123; public volatile int num; public static final int THREAD_COUNT; public VolatileTest(); Code: 0: aload_0 1: invokespecial #1 // Method java/lang/Object.\"&lt;init&gt;\":()V 4: aload_0 5: iconst_0 6: putfield #2 // Field num:I 9: return public void add(); Code: 0: aload_0 1: dup 2: getfield #2 // Field num:I 5: iconst_1 6: iadd 7: putfield #2 // Field num:I 10: return public static void main(java.lang.String[]); Code: 0: new #3 // class VolatileTest 3: dup 4: invokespecial #4 // Method \"&lt;init&gt;\":()V 7: astore_1 8: bipush 20 10: anewarray #5 // class java/lang/Thread 13: astore_2 14: iconst_0 15: istore_3 16: iload_3 17: bipush 20 19: if_icmpge 52 22: aload_2 23: iload_3 24: new #5 // class java/lang/Thread 27: dup 28: new #6 // class VolatileTest$1 31: dup 32: aload_1 33: invokespecial #7 // Method VolatileTest$1.\"&lt;init&gt;\":(LVolatileTest;)V 36: invokespecial #8 // Method java/lang/Thread.\"&lt;init&gt;\":(Ljava/lang/Runnable;)V 39: aastore 40: aload_2 41: iload_3 42: aaload 43: invokevirtual #9 // Method java/lang/Thread.start:()V 46: iinc 3, 1 49: goto 16 52: invokestatic #10 // Method java/lang/Thread.activeCount:()I 55: iconst_1 56: if_icmple 65 59: invokestatic #11 // Method java/lang/Thread.yield:()V 62: goto 52 65: getstatic #12 // Field java/lang/System.out:Ljava/io/PrintStream; 68: new #13 // class java/lang/StringBuilder 71: dup 72: invokespecial #14 // Method java/lang/StringBuilder.\"&lt;init&gt;\":()V 75: ldc #15 // String num = 77: invokevirtual #16 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; 80: aload_1 81: getfield #2 // Field num:I 84: invokevirtual #17 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder; 87: invokevirtual #18 // Method java/lang/StringBuilder.toString:()Ljava/lang/String; 90: invokevirtual #19 // Method java/io/PrintStream.println:(Ljava/lang/String;)V 93: return&#125; åœ¨ä¸Šè¿°åç¼–è¯‘çš„å­—èŠ‚ç åˆ†æžå¾—çŸ¥ï¼Œnum++ä¸æ˜¯ä¸€ä¸ªåŽŸå­æ“ä½œï¼Œå³çº¿ç¨‹ä¸å®‰å…¨ï¼Œå¯ä»¥å°†num++ç®€å•åˆ†è§£æˆä»¥ä¸‹å‡ ä¸ªæ­¥éª¤: ä»Žå†…å­˜ä¸­å–å‡ºnumçš„å€¼ï¼› è®¡ç®—numçš„å€¼ï¼› å°†numçš„å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ add()æ–¹æ³•æœ‰6æ¡æŒ‡ä»¤ï¼ˆæ¯ä¸ªæŒ‡ä»¤å¯èƒ½å«æœ‰å¤šä¸ªåº•å±‚æŒ‡ä»¤æ“ä½œï¼Œåªä¸ºç ”ç©¶ï¼Œå¹¶ä¸å‡†ç¡®ï¼Œè¦æƒ³å‡†ç¡®ç ”ç©¶å»ºè®®ä½¿ç”¨-XX:+PrintAssemblyå‚æ•°è¾“å‡ºåæ±‡ç¼–ï¼‰ï¼Œå…¶ä¸­returnæŒ‡ä»¤å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œå› ä¸ºä¸æ˜¯num++äº§ç”Ÿçš„ã€‚ aload_0ï¼šåœ¨éžé™æ€æ–¹æ³•ä¸­ï¼Œaload_0 è¡¨ç¤ºå¯¹thisçš„æ“ä½œï¼Œåœ¨static æ–¹æ³•ä¸­ï¼Œaload_0è¡¨ç¤ºå¯¹æ–¹æ³•çš„ç¬¬ä¸€å‚æ•°çš„æ“ä½œï¼› dupï¼šå¤åˆ¶æ“ä½œæ•°æ ˆé¡¶å€¼ï¼Œå¹¶å°†å…¶åŽ‹å…¥æ ˆé¡¶ï¼Œåœ¨è¿™é‡Œæ˜¯å°†å½“å‰VolatileTestä¸‹newå¯¹è±¡åŽ‹å…¥æ ˆé¡¶ï¼› getfield/getstaticï¼šå°†æ ˆé¡¶çš„å¯¹è±¡ç¬¬äºŒä¸ªå®žä¾‹å­—æ®µåŽ‹å…¥æ ˆé¡¶ï¼Œå³å°†numçš„å€¼åŽ‹å…¥æ ˆé¡¶ï¼Œæ­¤æ—¶numçš„å€¼æ˜¯æœ€æ–°çš„ï¼› iconst_1ï¼šå°†intåž‹(1)æŽ¨é€è‡³æ ˆé¡¶ï¼Œå³æŠŠå¸¸é‡1åŽ‹å…¥æ ˆé¡¶ï¼› iaddï¼šæŠŠæ“ä½œæ•°æ ˆä¸­çš„å‰ä¸¤ä¸ªintå€¼å‡ºæ ˆå¹¶ç›¸åŠ ,æ“ä½œè¿‡åŽåªåœ¨stackä¸­ä¿ç•™ç»“æžœï¼Œå³ä½¿numå½“å‰å€¼+1ä¿ç•™åœ¨æ ˆä¸­ï¼Œè¿™é‡Œå¤šçº¿ç¨‹æ—¶å€™å¯èƒ½å‡ºçŽ°é—®é¢˜ï¼Œå…¶ä»–çº¿ç¨‹ç›¸åŠ çš„ç»“æžœä¼šè¦†ç›–å½“å‰æ ˆé¡¶çš„ç»“æžœï¼Œå› è€Œè¿”å›žè¾ƒå°çš„ç»“æžœã€‚ putfieldï¼šå°†æœ€ç»ˆçš„æ ˆé¡¶ç»“æžœçš„å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ï¼› returnï¼šæ ˆä¸­çš„æ•°æ®è¿”å›žåŽï¼Œç»“æŸæ–¹æ³• ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºvolatileå…³é”®å­—ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºæœ‰ä¸¤å±‚æ„æ€ï¼š å½“ç¨‹åºæ‰§è¡Œåˆ°volatileå˜é‡çš„è¯»æ“ä½œæˆ–è€…å†™æ“ä½œæ—¶ï¼Œåœ¨å…¶å‰é¢çš„æ“ä½œçš„æ›´æ”¹è‚¯å®šå…¨éƒ¨å·²ç»è¿›è¡Œï¼Œä¸”ç»“æžœå·²ç»å¯¹åŽé¢çš„æ“ä½œå¯è§ï¼›åœ¨å…¶åŽé¢çš„æ“ä½œè‚¯å®šè¿˜æ²¡æœ‰è¿›è¡Œï¼› åœ¨è¿›è¡ŒæŒ‡ä»¤ä¼˜åŒ–æ—¶ï¼Œä¸èƒ½å°†åœ¨å¯¹volatileå˜é‡è®¿é—®çš„è¯­å¥æ”¾åœ¨å…¶åŽé¢æ‰§è¡Œï¼Œä¹Ÿä¸èƒ½æŠŠvolatileå˜é‡åŽé¢çš„è¯­å¥æ”¾åˆ°å…¶å‰é¢æ‰§è¡Œã€‚ ä¸¾ä¸ªå®žä¾‹ï¼Œè¯·çœ‹ä¸‹é¢çš„ä»£ç : 1234567//xã€yä¸ºéžvolatileå˜é‡//flagä¸ºvolatileå˜é‡int x = 2; //è¯­å¥1int y = 0; //è¯­å¥2volatile boolean flag = true; //è¯­å¥3int x = 4; //è¯­å¥4int y = -1; //è¯­å¥5 ç”±äºŽflagå˜é‡ä¸ºvolatileå˜é‡ï¼Œé‚£ä¹ˆåœ¨è¿›è¡ŒæŒ‡ä»¤é‡æŽ’åºçš„è¿‡ç¨‹çš„æ—¶å€™ï¼Œä¸ä¼šå°†è¯­å¥3æ”¾åˆ°è¯­å¥1ã€è¯­å¥2å‰é¢ï¼Œä¹Ÿä¸ä¼šè®²è¯­å¥3æ”¾åˆ°è¯­å¥4ã€è¯­å¥5åŽé¢ã€‚ä½†æ˜¯è¦æ³¨æ„è¯­å¥1å’Œè¯­å¥2çš„é¡ºåºã€è¯­å¥4å’Œè¯­å¥5çš„é¡ºåºæ˜¯ä¸ä½œä»»ä½•ä¿è¯çš„ã€‚ å¹¶ä¸”volatileå…³é”®å­—èƒ½ä¿è¯ï¼Œæ‰§è¡Œåˆ°è¯­å¥3æ—¶ï¼Œè¯­å¥1å’Œè¯­å¥2å¿…å®šæ˜¯æ‰§è¡Œå®Œæ¯•äº†çš„ï¼Œä¸”è¯­å¥1å’Œè¯­å¥2çš„æ‰§è¡Œç»“æžœå¯¹è¯­å¥3ã€è¯­å¥4ã€è¯­å¥5æ˜¯å¯è§çš„ã€‚ æˆ‘ä»¬åœ¨çœ‹çœ‹ä¸€ä¸ªä¾‹å­: 12345678//çº¿ç¨‹1:ApplicationConext context = loadContext(); //è¯­å¥1boolean inited = true; //è¯­å¥2//çº¿ç¨‹2:while(!inited )&#123; sleep()&#125;doSomethingwithconfig(context); ä¸Šè¿°ä»£ç æœ‰å¯èƒ½è¯­å¥2ä¼šåœ¨è¯­å¥1ä¹‹å‰æ‰§è¡Œï¼Œå› ä¸ºè¯­å¥2å¹¶ä¸ä¾èµ–ä¾èµ–è¯­å¥2ï¼Œå¯èƒ½ä¼šé‡æŽ’åºä¼˜åŒ–ï¼Œé‚£ä¹ˆä¹…å¯èƒ½å¯¼è‡´contextè¿˜æ²¡è¢«åˆå§‹åŒ–ï¼Œè€Œçº¿ç¨‹2ä¸­å°±ä½¿ç”¨æœªåˆå§‹åŒ–çš„contextåŽ»è¿›è¡Œæ“ä½œï¼Œå¯¼è‡´ç¨‹åºå‡ºé”™ã€‚ è¿™é‡Œå¦‚æžœç”¨volatileå…³é”®å­—å¯¹initedå˜é‡è¿›è¡Œä¿®é¥°ï¼Œå°±ä¸ä¼šå‡ºçŽ°è¿™ç§é—®é¢˜äº†ï¼Œå› ä¸ºå½“æ‰§è¡Œåˆ°è¯­å¥2æ—¶ï¼Œå¿…å®šèƒ½ä¿è¯contextå·²ç»åˆå§‹åŒ–å®Œæ¯•ã€‚ å¯¹å˜é‡ç‰¹æ®Šçš„å®šä¹‰è§„åˆ™å‡è®¾Tè¡¨ç¤ºä¸€ä¸ªçº¿ç¨‹ï¼ŒVå’ŒWè¡¨ç¤ºä¸¤ä¸ªvolatileå˜é‡ï¼Œé‚£ä¹ˆåœ¨è¿›è¡Œreadã€loadã€useã€assignã€storeå’Œwriteæ“ä½œæ—¶éœ€è¦æ»¡è¶³å¦‚ä¸‹çš„è§„åˆ™: åªæœ‰ä¸€ä¸ªå½“çº¿ç¨‹Tå¯¹å˜é‡Væ‰§è¡Œçš„å‰ä¸€ä¸ªåŠ¨ä½œæ˜¯loadçš„æ—¶å€™ï¼ŒTæ‰èƒ½å¯¹å˜é‡Væ‰§è¡ŒuseåŠ¨ä½œï¼Œå¹¶ä¸”å½“å¯¹Vçš„åŽä¸€ä¸ªæ‰§è¡Œæ˜¯useåŠ¨ä½œæ—¶ï¼ŒTæ‰èƒ½å¯¹Væ‰§è¡ŒloadåŠ¨ä½œã€‚Tå¯¹Vçš„useåŠ¨ä½œå…¶å®žæ˜¯è¡”æŽ¥Tå¯¹Vçš„loadå’ŒreadåŠ¨ä½œï¼Œloadã€readå¿…é¡»ä¸€èµ·è¿žç»­å‡ºçŽ°ï¼ˆè¿™æ¡è§„åˆ™è¦æ±‚åœ¨å·¥ä½œå†…å­˜æ¯æ¬¡ä½¿ç”¨Vå‰éƒ½å¿…é¡»å…ˆä»Žä¸»å†…å­˜åˆ·æ–°æœ€æ–°å€¼ï¼Œä½¿å¾—ä¿è¯èƒ½çœ‹è§å…¶ä»–çº¿ç¨‹å¯¹å˜é‡Vçš„æœ€æ–°æ›´æ”¹ï¼‰ã€‚ åªæœ‰ä¸€ä¸ªå½“çº¿ç¨‹Tå¯¹å˜é‡Væ‰§è¡Œçš„å‰ä¸€ä¸ªåŠ¨ä½œæ˜¯assignçš„æ—¶å€™ï¼ŒTæ‰èƒ½å¯¹å˜é‡Væ‰§è¡ŒstoreåŠ¨ä½œï¼Œå¹¶ä¸”å½“å¯¹Vçš„åŽä¸€ä¸ªæ‰§è¡Œæ˜¯storeåŠ¨ä½œæ—¶ï¼ŒTæ‰èƒ½å¯¹Væ‰§è¡ŒassignåŠ¨ä½œã€‚Tå¯¹Vçš„assignåŠ¨ä½œå…¶å®žæ˜¯è¡”æŽ¥Tå¯¹Vçš„storeå’ŒwriteåŠ¨ä½œï¼Œstoreã€writeå¿…é¡»ä¸€èµ·è¿žç»­å‡ºçŽ°ï¼ˆè¿™æ¡è§„åˆ™è¦æ±‚åœ¨å·¥ä½œå†…å­˜æ¯æ¬¡ä¿®æ”¹VåŽéƒ½å¿…é¡»å…ˆå¿…é¡»åŒæ­¥åˆ°ä¸»å†…ä¸­ï¼Œä½¿å¾—ä¿è¯å…¶ä»–çº¿ç¨‹èƒ½çœ‹è§TTå¯¹å˜é‡Vçš„æœ€æ–°æ›´æ”¹ï¼‰ã€‚ å‡è®¾åŠ¨ä½œAæ˜¯çº¿ç¨‹Tå¯¹å˜é‡VVå®žæ–½çš„useæˆ–assignåŠ¨ä½œï¼Œå‡å®šåŠ¨ä½œFæ˜¯ä¸ŽåŠ¨ä½œAç›¸å…³è”çš„loadå’ŒstoreåŠ¨ä½œï¼Œå‡å®šåŠ¨ä½œPPæ˜¯ä¸ŽåŠ¨ä½œFFç›¸åº”çš„å¯¹Vçš„readå’ŒloadåŠ¨ä½œï¼›ç±»ä¼¼åœ°ï¼Œå‡å®šåŠ¨ä½œBæ˜¯çº¿ç¨‹TTå¯¹å˜é‡Wå®žæ–½çš„useå’ŒassignåŠ¨ä½œï¼Œå‡å®šåŠ¨ä½œGGæ˜¯å’ŒåŠ¨ä½œBBç›¸å…³è”çš„loadæˆ–storeåŠ¨ä½œï¼Œå‡å®šåŠ¨ä½œQæ˜¯ä¸ŽåŠ¨ä½œGç›¸åº”çš„å¯¹å˜é‡Wçš„readå’ŒwriteåŠ¨ä½œã€‚å¦‚æžœAå…ˆäºŽBï¼Œé‚£ä¹ˆPå…ˆäºŽQï¼ˆè¿™æ¡è§„åˆ™è¦æ±‚volatileä¿®é¥°çš„å˜é‡ä¸ä¼šè¢«æŒ‡ä»¤é‡æŽ’åºä¼˜åŒ–ï¼Œä¿è¯ä»£ç çš„æ‰§è¡Œé¡ºåºä¸Žç¨‹åºçš„é¡ºåºç›¸åŒï¼‰ï¼Œå³æ˜¯Happen-beforeåŽŸåˆ™ã€‚ å†…å­˜å±éšœå…¶volatileåŽŸç†å†…å­˜å±éšœå®šä¹‰åœ¨ç ”ç©¶volatileåŽŸç†æ—¶å€™ï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆå†…å­˜å±éšœæˆ–è€…å†…å­˜æ …æ ã€‚ å†…å­˜å±éšœ/å†…å­˜æ …æ (Memory Barrieræˆ–Menory Fence):é‡æŽ’åºæ—¶ä¸èƒ½æŠŠåŽé¢çš„æŒ‡ä»¤é‡æŽ’åºåˆ°å†…å­˜å±éšœä¹‹å‰çš„ä½ç½®ï¼ŒæŒ‡ä»¤é‡æŽ’åºæ— æ³•è¶Šè¿‡å†…å­˜å±éšœï¼Œå•ä¾‹æ¨¡å¼çš„DCLåŒé”æ£€æŸ¥å¯ä»¥ä½“çŽ°å‡ºæ¥ã€‚ åªæœ‰ä¸€ä¸ªCPUè®¿é—®å†…å­˜æ—¶ï¼Œå¹¶ä¸éœ€è¦å†…å­˜å±éšœï¼Œä½†å¦‚æžœæœ‰å¤šä¸ªCPUè®¿é—®åŒä¸€å—å†…å­˜ï¼Œä¸”å…¶ä¸­æœ‰ä¸€ä¸ªåœ¨è§‚æµ‹å¦ä¸€ä¸ªï¼Œå°±éœ€è¦å†…å­˜å±éšœæ¥ä¿è¯ä¸€è‡´ã€‚ ä»Žç¡¬ä»¶æž¶æž„ä¸Šè®²ï¼ŒæŒ‡ä»¤é‡æŽ’åºæ˜¯æŒ‡CPUé‡‡å–å¯å…è®¸å°†å¤šæ¡æŒ‡ä»¤ä¸æŒ‰ç¨‹åºè§„å®šçš„é¡ºåºåˆ†å¼€å‘é€ç»™å„ç›¸åº”å•è·¯å¤„ç†å•å…ƒã€‚ä½†å¹¶ä¸æ˜¯æŒ‡ä»¤ä»»æ„é‡æŽ’ï¼ŒCPUéœ€è¦èƒ½æ­£ç¡®å¤„ç†æŒ‡ä»¤ä¾èµ–æƒ…å†µä»¥ä¿éšœç¨‹åºèƒ½å¤Ÿå¾—å‡ºæ­£ç¡®çš„æ‰§è¡Œç»“æžœã€‚ ç”±äºŽçŽ°ä»£çš„æ“ä½œç³»ç»Ÿéƒ½æ˜¯å¤šå¤„ç†å™¨.è€Œæ¯ä¸€ä¸ªå¤„ç†å™¨éƒ½æœ‰è‡ªå·±çš„ç¼“å­˜,å¹¶ä¸”è¿™äº›ç¼“å­˜å¹¶ä¸æ˜¯å®žæ—¶éƒ½ä¸Žå†…å­˜å‘ç”Ÿä¿¡æ¯äº¤æ¢.è¿™æ ·å°±å¯èƒ½å‡ºçŽ°ä¸€ä¸ªcpuä¸Šçš„ç¼“å­˜æ•°æ®ä¸Žå¦ä¸€ä¸ªcpuä¸Šçš„ç¼“å­˜æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚è€Œè¿™æ ·åœ¨å¤šçº¿ç¨‹å¼€å‘ä¸­ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´å‡ºçŽ°ä¸€äº›å¼‚å¸¸è¡Œä¸ºã€‚è€Œæ“ä½œç³»ç»Ÿåº•å±‚ä¸ºäº†è¿™äº›é—®é¢˜ï¼Œæä¾›äº†ä¸€äº›å†…å­˜å±éšœç”¨ä»¥è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œç›®å‰æœ‰4ç§å±éšœï¼š LoadLoadå±éšœï¼šå¯¹äºŽè¿™æ ·çš„è¯­å¥Load1; LoadLoad; Load2ï¼Œåœ¨Load2åŠåŽç»­è¯»å–æ“ä½œè¦è¯»å–çš„æ•°æ®è¢«è®¿é—®å‰ï¼Œä¿è¯Load1è¦è¯»å–çš„æ•°æ®è¢«è¯»å–å®Œæ¯•ã€‚ StoreStoreå±éšœï¼šå¯¹äºŽè¿™æ ·çš„è¯­å¥Store1; StoreStore; Store2ï¼Œåœ¨Store2åŠåŽç»­å†™å…¥æ“ä½œæ‰§è¡Œå‰ï¼Œä¿è¯Store1çš„å†™å…¥æ“ä½œå¯¹å…¶å®ƒå¤„ç†å™¨å¯è§ã€‚ LoadStoreå±éšœï¼šå¯¹äºŽè¿™æ ·çš„è¯­å¥Load1; LoadStore; Store2ï¼Œåœ¨Store2åŠåŽç»­å†™å…¥æ“ä½œè¢«åˆ·å‡ºå‰ï¼Œä¿è¯Load1è¦è¯»å–çš„æ•°æ®è¢«è¯»å–å®Œæ¯•ã€‚ StoreLoadå±éšœï¼šå¯¹äºŽè¿™æ ·çš„è¯­å¥Store1; StoreLoad; Load2ï¼Œåœ¨Load2åŠåŽç»­æ‰€æœ‰è¯»å–æ“ä½œæ‰§è¡Œå‰ï¼Œä¿è¯Store1çš„å†™å…¥å¯¹æ‰€æœ‰å¤„ç†å™¨å¯è§ã€‚å®ƒçš„å¼€é”€æ˜¯å››ç§å±éšœä¸­æœ€å¤§çš„ã€‚åœ¨å¤§å¤šæ•°å¤„ç†å™¨çš„å®žçŽ°ä¸­ï¼Œè¿™ä¸ªå±éšœæ˜¯ä¸ªä¸‡èƒ½å±éšœï¼Œå…¼å…·å…¶å®ƒä¸‰ç§å†…å­˜å±éšœçš„åŠŸèƒ½ã€‚ å†…å­˜å±éšœJAVAåº”ç”¨ é€šè¿‡ Synchronizedå…³é”®å­—åŒ…ä½çš„ä»£ç åŒºåŸŸ,å½“çº¿ç¨‹è¿›å…¥åˆ°è¯¥åŒºåŸŸè¯»å–å˜é‡ä¿¡æ¯æ—¶ï¼Œä¿è¯è¯»åˆ°çš„æ˜¯æœ€æ–°çš„å€¼ã€‚è¿™æ˜¯å› ä¸ºåœ¨åŒæ­¥åŒºå†…å¯¹å˜é‡çš„å†™å…¥æ“ä½œï¼Œåœ¨ç¦»å¼€åŒæ­¥åŒºæ—¶å°±å°†å½“å‰çº¿ç¨‹å†…çš„æ•°æ®åˆ·æ–°åˆ°å†…å­˜ä¸­,è€Œå¯¹æ•°æ®çš„è¯»å–ä¹Ÿä¸èƒ½ä»Žç¼“å­˜è¯»å–,åªèƒ½ä»Žå†…å­˜ä¸­è¯»å–,ä¿è¯äº†æ•°æ®çš„è¯»æœ‰æ•ˆæ€§ï¼Œè¿™å°±æ˜¯æ’å…¥äº†StoreStoreå±éšœã€‚ ä½¿ç”¨äº†volatileä¿®é¥°å˜é‡,åˆ™å¯¹å˜é‡çš„å†™æ“ä½œï¼Œä¼šæ’å…¥StoreLoadå±éšœã€‚ å…¶ä½™çš„æ“ä½œ,åˆ™éœ€è¦é€šè¿‡Unsafeè¿™ä¸ªç±»æ¥æ‰§è¡Œã€‚UNSAFE.putOrderedObjectç±»ä¼¼è¿™æ ·çš„æ–¹æ³•,ä¼šæ’å…¥StoreStoreå†…å­˜å±éšœï¼ŒUnsafe.putVolatiObject åˆ™æ˜¯æ’å…¥äº†StoreLoadå±éšœ é€‚ç”¨åœºæ™¯ ç”±äºŽvolatileå˜é‡åªä¿è¯å¯è§æ€§,åœ¨ä¸ç¬¦åˆä»¥ä¸‹ä¸¤ç‚¹ï¼Œæˆ‘ä»¬ä»ç„¶è¦é€šè¿‡åŠ é”(ä½¿ç”¨åŒæ­¥é”synchronizeæˆ–java.util.concurrentä¸­çš„åŽŸå­ç±»)æ¥ä¿è¯åŽŸå­æ€§ã€‚ è¿ç®—ç»“æžœä»¥åŠå¯¹å˜é‡çš„å†™æ“ä½œå¹¶ä¸ä¾èµ–å˜é‡çš„å½“å‰å€¼ï¼Œæˆ–èƒ½å¤Ÿç¡®ä¿åªæœ‰å•ä¸€çš„çº¿ç¨‹ä¿®æ”¹å˜é‡çš„å€¼ï¼› å˜é‡ä¸éœ€è¦ä¸Žå…¶ä»–çš„çŠ¶æ€å˜é‡å…±äº«å‚ä¸Žä¸å˜çº¦æŸï¼› é€‚ç”¨äºŽè¯»å¤šå†™å°‘çš„åœºæ™¯; å¯ç”¨ä½œçŠ¶æ€æ ‡å¿—ã€‚ JDKä¸­volatieåº”ç”¨ï¼šJDKä¸­ConcurrentHashMapçš„Nodeçš„valå’Œnextè¢«å£°æ˜Žä¸ºvolatileï¼ŒAtomicIntegerç­‰åŽŸå­ç±»ä¸­çš„valueè¢«å£°æ˜Žä¸ºvolatileã€‚AtomicIntegeré€šè¿‡CASåŽŸç†(æš‚å¯ç†è§£ä¸ºä¹è§‚é”)ä¿è¯äº†åŽŸå­æ€§ã€‚è¿™äº›åº”ç”¨åŽæ–‡è®²è§£ã€‚ volatileä¸Žsynchronizedä¸Šè¿°è¯´åˆ°çš„volatileçš„è¯­ä¹‰é—®é¢˜ï¼Œå…¶å®žvolatileå˜é‡è¯»æ“ä½œçš„æ€§èƒ½ä¸Žæ™®é€šå˜é‡å‡ ä¹Žæ²¡æœ‰ä»€ä¹ˆå·®åˆ«ï¼Œä½†æ˜¯å†™æ“ä½œä¼šç¨æ…¢ç‚¹ï¼Œå› ä¸ºvolatileéœ€è¦åœ¨æ‰§è¡Œä¸­æ’å…¥è®¸å¤šå†…å­˜å±éšœæŒ‡ä»¤æ¥ä¿è¯å¤„ç†å™¨ä¸å‘ç”Ÿä¹±åºæ‰§è¡Œã€‚ åœ¨æŸäº›æƒ…å†µä¸‹volatileçš„åŒæ­¥æœºåˆ¶çš„æ€§èƒ½çš„ç¡®è¦ä¼˜äºŽé”(synchronizeåŒæ­¥é”æˆ–J.U.CåŒ…çš„é”)ï¼Œä½†æ˜¯JDK1.6ä»¥åŽå¯¹é”å®žè¡Œäº†è®¸å¤šæ¶ˆé™¤å’Œä¼˜åŒ–ï¼Œä½¿å¾—æˆ‘ä»¬å¾ˆéš¾é‡åŒ–è®¤ä¸ºvolatileæ¯”é”å¿«å¤šå°‘ã€‚ å¤šçº¿ç¨‹è®¿é—®volatileä¸ä¼šå‘ç”Ÿé˜»å¡žï¼Œè€Œsynchronizedä¼šé˜»å¡žï¼› volatileåªèƒ½ä¿è¯æ•°æ®çš„å¯è§æ€§ï¼Œä¸èƒ½ä¿è¯åŽŸå­æ€§ï¼Œè€Œsynchronizedä¸¤è€…éƒ½å¯ä»¥ä¿è¯ï¼Œå› ä¸ºå®ƒä¼šå°†ç§æœ‰å†…å­˜å’Œå…¬å…±å†…å­˜ä¸­çš„æ•°æ®åšåŒæ­¥ å¯¹longå’Œdoubleåž‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™å†…å­˜çš„å…«ä¸ªæ“ä½œè™½ç„¶è¯´éƒ½æ˜¯åŽŸå­æ€§çš„ï¼Œä½†æ˜¯å¯¹äºŽ64ä½çš„æ•°æ®ç±»åž‹ï¼šlongå’Œdoubleæ¥è®²ï¼Œå…è®¸è™šæ‹Ÿæœºå°†æ²¡æœ‰è¢«volatileä¿®é¥°çš„64ä½æ•°æ®çš„è¯»å†™æ“ä½œåˆ’åˆ†ä¸ºä¸¤æ¬¡32ä½çš„æ“ä½œæ¥è¿›è¡Œï¼Œè¿™å°±æ˜¯æ‰€è°“çš„longå’Œdoubleçš„éžåŽŸå­æ€§åå®šã€‚è™½ç„¶è§„å®šä¸ºè§„å®šï¼Œä½†æ˜¯ç›®å‰å¤§éƒ¨åˆ†å•†ä¸šè™šæ‹Ÿæœºå°†è¿™ä¸¤ç§æ•°æ®ç±»åž‹ä½œ64ä½çš„åŽŸå­æ€§æ“ä½œå¯¹å¾…ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦å°†longå’Œdoubleç±»åž‹çš„å˜é‡ä¸“é—¨ä»€ä¹ˆä¸ºvolatileå˜é‡ã€‚ å‚è€ƒèµ„æ–™ ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆç¬¬2ç‰ˆï¼‰ã€‹å‘¨å¿—æ˜Žè‘— ã€ŠJavaå¤šçº¿ç¨‹ç¼–ç¨‹æ ¸å¿ƒæŠ€æœ¯ã€‹é«˜æ´ªå²©è‘— èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ ä¸‹ä¸€ç¯‡ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• ä¸¤ç§ç‰¹æ€§ç‰¹æ€§å½’çº³ä»£ç ç¤ºä¾‹å¤šçº¿ç¨‹å¹¶å‘å®‰å…¨ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºå¯¹å˜é‡ç‰¹æ®Šçš„å®šä¹‰è§„åˆ™å†…å­˜å±éšœå…¶volatileåŽŸç†å†…å­˜å±éšœå®šä¹‰å†…å­˜å±éšœJAVAåº”ç”¨é€‚ç”¨åœºæ™¯volatileä¸Žsynchronizedå¯¹longå’Œdoubleåž‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™å‚è€ƒèµ„æ–™ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:31.032Z","updated":"2020-01-08T13:06:30.854Z","comments":true,"path":"public/2018/05/24/Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç†/index.html","permalink":"http://ltyeamin.github.io/public/2018/05/24/Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç†/index.html","excerpt":"","text":"Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç† backend Spring Cloud 2018/05/24 æœ¬æ–‡äºŽ552å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ ç™¾å®¶æŠ€æœ¯,è°ˆç¬‘å¤ä»Š.ä»Šå¤©æˆ‘ä»¬ä¸è®²ä¸‰å›½,æˆ‘ä»¬è®²ä¸€è®²å¾®æœåŠ¡ç½‘å…³ä¸­çš„ä¸€äº›ç»†èŠ‚:Zuulè¿‡æ»¤å™¨. Zuulè¿‡æ»¤å™¨Spring Cloudä¸­çš„Zuulä¸ºæˆ‘ä»¬æä¾›äº†ç»Ÿä¸€å¯¹å¤–,è·¯ç”±è½¬å‘å’Œè¿‡æ»¤æ‹¦æˆªçš„å¼ºå¤§åŠŸèƒ½.åœ¨Spring Cloud Zuulä¸­å®žçŽ°çš„è¿‡æ»¤å™¨å¿…é¡»åŒ…å«4ä¸ªåŸºæœ¬ç‰¹å¾:è¿‡æ»¤ç±»åž‹,æ‰§è¡Œé¡ºåº,æ‰§è¡Œæ¡ä»¶,å…·ä½“æ“ä½œ.è¿™äº›ç‰¹å¾å°±æ˜¯ZuulFilteræŠ½è±¡ç±»ä¸­çš„4ä¸ªæŠ½è±¡æ–¹æ³•.è¯ä¸å¤šè¯´,ç›´æŽ¥ç”¨ZuulFilteræºç è¯´äº‹:12345678public abstract class ZuulFilter implements IZuulFilter, Comparable&amp;lt;ZuulFilter&amp;gt; &#123; abstract public String filterType(); abstract public int filterOrder(); /**IZuulFilteræŽ¥å£ä¸­çš„æ–¹æ³•*/ boolean shouldFilter(); /**IZuulFilteræŽ¥å£ä¸­çš„æ–¹æ³•*/ Object run();&#125; ä»¥ä¸Šæ–¹æ³•ä¸ŽåŠŸèƒ½è§£è¯´: filterType: è¿‡æ»¤å™¨ç±»åž‹,å°±æ˜¯ç‰¹æ®Šçš„å­—ç¬¦ä¸²(å¯åœ¨FilterConstantsæŽ¥å£å¸¸é‡ä¸­æ‰¾åˆ°).Zuulä¸­å®šä¹‰äº†4ä¸ªä¸åŒç”Ÿå‘½å‘¨æœŸçš„è¿‡æ»¤å™¨ç±»åž‹,å…·ä½“å¦‚ä¸‹: pre: å¯ä»¥åœ¨è¯·æ±‚è¢«è·¯ç”±ä¹‹å‰è°ƒç”¨ routing: åœ¨è·¯ç”±è¯·æ±‚æ—¶å€™è¢«è°ƒç”¨ post: åœ¨routingå’Œerrorè¿‡æ»¤å™¨ä¹‹åŽè¢«è°ƒç”¨ error: å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯æ—¶è¢«è°ƒç”¨ filterOrder: é€šè¿‡intå€¼æ¥å®šä¹‰è¿‡æ»¤å™¨çš„æ‰§è¡Œé¡ºåº,æ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ shouldFilter: è¿”å›žä¸€ä¸ªbooleanç±»åž‹æ¥åˆ¤æ–­è¯¥è¿‡æ»¤å™¨æ˜¯å¦è¦æ‰§è¡Œ,æˆ‘ä»¬å¯ä»¥é€šè¿‡æ­¤æ–¹æ³•æ¥æŒ‡å®šè¿‡æ»¤å™¨çš„æœ‰æ•ˆèŒƒå›´. run: è¿‡æ»¤å™¨çš„å…·ä½“é€»è¾‘,åœ¨è¯¥å‡½æ•°ä¸­,æˆ‘ä»¬å¯ä»¥å®žçŽ°è‡ªå®šä¹‰çš„è¿‡æ»¤é€»è¾‘,æ¥ç¡®å®šæ˜¯å¦è¦æ‹¦æˆªå½“å‰çš„è¯·æ±‚,ä¸å¯¹å…¶è¿›è¡ŒåŽç»­çš„è·¯ç”±,æˆ–æ˜¯åœ¨è¯·æ±‚è·¯ç”±è¿”å›žç»“æžœä¹‹åŽ,å¯¹å¤„ç†ç»“æžœåšä¸€äº›åŠ å·¥ç­‰.è¯·æ±‚ç”Ÿå‘½å‘¨æœŸZuulé»˜è®¤å®šä¹‰äº†å››ä¸ªä¸åŒçš„è¿‡æ»¤å™¨ç±»åž‹,å®ƒä»¬è¦†ç›–äº†ä¸€ä¸ªå¤–éƒ¨HTTPè¯·æ±‚åˆ°è¾¾APIç½‘å…³,ç›´åˆ°è¿”å›žè¯·æ±‚ç»“æžœçš„å…¨éƒ¨ç”Ÿå‘½å‘¨æœŸ.ä¸‹å›¾æºè‡ªZuulçš„å®˜æ–¹WIKIä¸­å…³äºŽè¯·æ±‚ç”Ÿå‘½å‘¨æœŸçš„å›¾è§£,å®ƒæè¿°äº†ä¸€ä¸ªHTTPè¯·æ±‚åˆ°è¾¾APIç½‘å…³ä¹‹åŽ,åœ¨ä¸åŒç±»åž‹è¿‡æ»¤å™¨ä¹‹é—´çš„å¤„ç†è¿‡ç¨‹. å½“å¤–éƒ¨HTTPè¯·æ±‚åˆ°è¾¾APIç½‘å…³æœåŠ¡æ—¶,ä¼šè¿›å…¥ç¬¬ä¸€ä¸ªé˜¶æ®µpre,æ­¤æ—¶æ‰§è¡Œpreç±»åž‹çš„è¿‡æ»¤å™¨,è¯¥ç±»åž‹çš„è¿‡æ»¤å™¨ä¸»è¦è¿›è¡Œå‰ç½®åŠ å·¥,æ¯”å¦‚è¯·æ±‚æ ¡éªŒç­‰. å½“preé˜¶æ®µæ‰§è¡Œå®Œæ¯•åŽè¿›å…¥routingè¯·æ±‚è½¬å‘é˜¶æ®µ,æ­¤æ—¶æ‰§è¡Œroutingç±»åž‹çš„è¿‡æ»¤å™¨,è¯¥ç±»åž‹çš„è¿‡æ»¤å™¨ä¸»è¦å¤„ç†å°†å¤–éƒ¨çš„è¯·æ±‚è½¬å‘åˆ°å…·ä½“æœåŠ¡å®žä¾‹çš„è¿‡ç¨‹,å½“æœåŠ¡å°†è¯·æ±‚ç»“æžœéƒ½è¿”å›žåŽ,routingé˜¶æ®µæ‰ç®—å®Œæˆ. å½“routingé˜¶æ®µæ‰§è¡Œå®Œæ¯•åŽè¿›å…¥posté˜¶æ®µ,æ­¤æ—¶æ‰§è¡Œpostç±»åž‹çš„è¿‡æ»¤å™¨,è¯¥ç±»åž‹çš„è¿‡æ»¤å™¨ä¸ä»…å¯ä»¥èŽ·å–åˆ°è¯·æ±‚ä¿¡æ¯,ä¹Ÿå¯ä»¥èŽ·å–æœåŠ¡å®žä¾‹è¿”å›žçš„å“åº”ä¿¡æ¯,è¿™æ ·æˆ‘ä»¬å¯ä»¥å¯¹ç»“æžœè¿›è¡ŒåŠ å·¥è½¬åŒ–. å½“ä»¥ä¸Š3ä¸ªè¿‡æ»¤å™¨ä¸­å‘ç”Ÿå¼‚å¸¸æ—¶æ‰è§¦å‘,æœ€åŽè¿˜æ˜¯æµå‘postç±»åž‹çš„è¿‡æ»¤å™¨,å› ä¸ºå®ƒéœ€è¦å°†æœ€ç»ˆç»“æžœè¿”å›žç»™å®¢æˆ·ç«¯. æ ¸å¿ƒè¿‡æ»¤å™¨åœ¨Spring Cloud Zuulä¸­,ä¸ºäº†æˆ‘ä»¬æ–¹ä¾¿,å®ƒåœ¨è¯·æ±‚è¿‡ç¨‹ä¸­ç»™æˆ‘ä»¬é»˜è®¤å®žçŽ°äº†ä¸€å¤§å †ä¸åŒç±»åž‹çš„æ ¸å¿ƒè¿‡æ»¤å™¨,å®ƒåœ¨GateWayæœåŠ¡å¯åŠ¨çš„æ—¶å€™è‡ªåŠ¨åŠ è½½å¯ç”¨.ä»Žspring-cloud-netflix-core-1.3.1æ¨¡å—ä¸‹çš„org.springframework.cloud.netflix.zuul.filtersåŒ…ä¸‹:å¦‚ä¸Šå›¾,å®˜æ–¹æä¾›äº†ä¸‰ä¸ªä¸åŒç”Ÿå‘½å‘¨æœŸçš„è¿‡æ»¤å™¨,ç†è§£è¿™äº›è¿‡æ»¤å™¨å¤„ç†æµç¨‹æœ‰åŠ©äºŽæˆ‘ä»¬æ›´åŠ æ·±å…¥åœ°å®šåˆ¶è‡ªèº«ç³»ç»Ÿè¿‡æ»¤å™¨. preè¿‡æ»¤å™¨ ServletDetectionFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º-3,æ˜¯æœ€å…ˆè¢«æ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨æ€»æ˜¯ä¼šè¢«æ‰§è¡Œ,ä¸»è¦ç”¨æ¥æ£€æµ‹å½“å‰è¯·æ±‚æ˜¯é€šè¿‡Springçš„DispatcherServletå¤„ç†è¿è¡Œ,è¿˜æ˜¯é€šè¿‡ZuulServletæ¥å¤„ç†è¿è¡Œçš„.å®ƒçš„æ£€æµ‹ç»“æžœä¼šä»¥å¸ƒå°”ç±»åž‹ä¿å­˜åœ¨å½“å‰è¯·æ±‚ä¸Šä¸‹æ–‡çš„isDispatcherServletRequestå‚æ•°ä¸­,è¿™æ ·åœ¨åŽç»­çš„è¿‡æ»¤å™¨ä¸­,æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡RequestUtils.isDispatcherServletRequest()å’ŒRequestUtils.isZuulServletRequest()æ–¹æ³•åˆ¤æ–­å®ƒä»¥å®žçŽ°åšä¸åŒçš„å¤„ç†.ä¸€èˆ¬æƒ…å†µä¸‹,å‘é€åˆ°APIç½‘å…³çš„å¤–éƒ¨è¯·æ±‚éƒ½ä¼šè¢«Springçš„DispatcherServletå¤„ç†,é™¤äº†é€šè¿‡/zuul/è·¯å¾„è®¿é—®çš„è¯·æ±‚ä¼šç»•è¿‡DispatcherServlet,è¢«ZuulServletå¤„ç†,ä¸»è¦ç”¨æ¥åº”å¯¹å¤„ç†å¤§æ–‡ä»¶ä¸Šä¼ çš„æƒ…å†µ.å¦å¤–,å¯¹äºŽZuulServletçš„è®¿é—®è·¯å¾„/zuul/,æˆ‘ä»¬å¯ä»¥é€šè¿‡zuul.servletPathå‚æ•°æ¥è¿›è¡Œä¿®æ”¹. Servlet30WrapperFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º-2,æ˜¯ç¬¬äºŒä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.ç›®å‰çš„å®žçŽ°ä¼šå¯¹æ‰€æœ‰è¯·æ±‚ç”Ÿæ•ˆ,ä¸»è¦ä¸ºäº†å°†åŽŸå§‹çš„HttpServletRequeståŒ…è£…æˆServlet30RequestWrapperå¯¹è±¡. FormBodyWrapperFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º-1,æ˜¯ç¬¬ä¸‰ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä»…å¯¹ä¸¤ç§ç±»è¯·æ±‚ç”Ÿæ•ˆ,ç¬¬ä¸€ç±»æ˜¯Content-Typeä¸ºapplication/x-www-form-urlencodedçš„è¯·æ±‚,ç¬¬äºŒç±»æ˜¯Content-Typeä¸ºmultipart/form-dataå¹¶ä¸”æ˜¯ç”±Springçš„DispatcherServletå¤„ç†çš„è¯·æ±‚(ç”¨åˆ°äº†ServletDetectionFilterçš„å¤„ç†ç»“æžœ).è€Œè¯¥è¿‡æ»¤å™¨çš„ä¸»è¦ç›®çš„æ˜¯å°†ç¬¦åˆè¦æ±‚çš„è¯·æ±‚ä½“åŒ…è£…æˆFormBodyRequestWrapperå¯¹è±¡. DebugFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º1,æ˜¯ç¬¬å››ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä¼šæ ¹æ®é…ç½®å‚æ•°zuul.debug.requestå’Œè¯·æ±‚ä¸­çš„debugå‚æ•°æ¥å†³å®šæ˜¯å¦æ‰§è¡Œè¿‡æ»¤å™¨ä¸­çš„æ“ä½œ.è€Œå®ƒçš„å…·ä½“æ“ä½œå†…å®¹åˆ™æ˜¯å°†å½“å‰çš„è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­çš„debugRoutingå’ŒdebugRequestå‚æ•°è®¾ç½®ä¸ºtrue.ç”±äºŽåœ¨åŒä¸€ä¸ªè¯·æ±‚çš„ä¸åŒç”Ÿå‘½å‘¨æœŸä¸­,éƒ½å¯ä»¥è®¿é—®åˆ°è¿™ä¸¤ä¸ªå€¼,æ‰€ä»¥æˆ‘ä»¬åœ¨åŽç»­çš„å„ä¸ªè¿‡æ»¤å™¨ä¸­å¯ä»¥åˆ©ç”¨è¿™ä¸¤å€¼æ¥å®šä¹‰ä¸€äº›debugä¿¡æ¯,è¿™æ ·å½“çº¿ä¸ŠçŽ¯å¢ƒå‡ºçŽ°é—®é¢˜çš„æ—¶å€™,å¯ä»¥é€šè¿‡è¯·æ±‚å‚æ•°çš„æ–¹å¼æ¥æ¿€æ´»è¿™äº›debugä¿¡æ¯ä»¥å¸®åŠ©åˆ†æžé—®é¢˜.å¦å¤–,å¯¹äºŽè¯·æ±‚å‚æ•°ä¸­çš„debugå‚æ•°,æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡zuul.debug.parameteræ¥è¿›è¡Œè‡ªå®šä¹‰. PreDecorationFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º5,æ˜¯preé˜¶æ®µæœ€åŽè¢«æ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä¼šåˆ¤æ–­å½“å‰è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­æ˜¯å¦å­˜åœ¨forward.toå’ŒserviceIdå‚æ•°,å¦‚æžœéƒ½ä¸å­˜åœ¨,é‚£ä¹ˆå®ƒå°±ä¼šæ‰§è¡Œå…·ä½“è¿‡æ»¤å™¨çš„æ“ä½œ(å¦‚æžœæœ‰ä¸€ä¸ªå­˜åœ¨çš„è¯,è¯´æ˜Žå½“å‰è¯·æ±‚å·²ç»è¢«å¤„ç†è¿‡äº†,å› ä¸ºè¿™ä¸¤ä¸ªä¿¡æ¯å°±æ˜¯æ ¹æ®å½“å‰è¯·æ±‚çš„è·¯ç”±ä¿¡æ¯åŠ è½½è¿›æ¥çš„).è€Œå®ƒçš„å…·ä½“æ“ä½œå†…å®¹å°±æ˜¯ä¸ºå½“å‰è¯·æ±‚åšä¸€äº›é¢„å¤„ç†,æ¯”å¦‚: è¿›è¡Œè·¯ç”±è§„åˆ™çš„åŒ¹é…,åœ¨è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­è®¾ç½®è¯¥è¯·æ±‚çš„åŸºæœ¬ä¿¡æ¯ä»¥åŠå°†è·¯ç”±åŒ¹é…ç»“æžœç­‰ä¸€äº›è®¾ç½®ä¿¡æ¯ç­‰,è¿™äº›ä¿¡æ¯å°†æ˜¯åŽç»­è¿‡æ»¤å™¨è¿›è¡Œå¤„ç†çš„é‡è¦ä¾æ®,æˆ‘ä»¬å¯ä»¥é€šè¿‡RequestContext.getCurrentContext()æ¥è®¿é—®è¿™äº›ä¿¡æ¯.å¦å¤–,æˆ‘ä»¬è¿˜å¯ä»¥åœ¨è¯¥å®žçŽ°ä¸­æ‰¾åˆ°ä¸€äº›å¯¹HTTPå¤´è¯·æ±‚è¿›è¡Œå¤„ç†çš„é€»è¾‘,å…¶ä¸­åŒ…å«äº†ä¸€äº›è€³ç†Ÿèƒ½è¯¦çš„å¤´åŸŸ,æ¯”å¦‚: X-Forwarded-Host,X-Forwarded-Port.å¦å¤–,å¯¹äºŽè¿™äº›å¤´åŸŸçš„è®°å½•æ˜¯é€šè¿‡zuul.addProxyHeaderså‚æ•°è¿›è¡ŒæŽ§åˆ¶çš„,è€Œè¿™ä¸ªå‚æ•°é»˜è®¤å€¼ä¸ºtrue,æ‰€ä»¥Zuulåœ¨è¯·æ±‚è·³è½¬æ—¶é»˜è®¤åœ°ä¼šä¸ºè¯·æ±‚å¢žåŠ X-Forwarded-*å¤´åŸŸ,åŒ…æ‹¬: X-Forwarded-Host,X-Forwarded-Port,X-Forwarded-For,X-Forwarded-Prefix,X-Forwarded-Proto.æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®zuul.addProxyHeaders=falseå…³é—­å¯¹è¿™äº›å¤´åŸŸçš„æ·»åŠ åŠ¨ä½œ. routeè¿‡æ»¤å™¨ RibbonRoutingFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º10,æ˜¯routeé˜¶æ®µç¬¬ä¸€ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨åªå¯¹è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨serviceIdå‚æ•°çš„è¯·æ±‚è¿›è¡Œå¤„ç†,å³åªå¯¹é€šè¿‡serviceIdé…ç½®è·¯ç”±è§„åˆ™çš„è¯·æ±‚ç”Ÿæ•ˆ.è€Œè¯¥è¿‡æ»¤å™¨çš„æ‰§è¡Œé€»è¾‘å°±æ˜¯é¢å‘æœåŠ¡è·¯ç”±çš„æ ¸å¿ƒ,å®ƒé€šè¿‡ä½¿ç”¨Ribbonå’ŒHystrixæ¥å‘æœåŠ¡å®žä¾‹å‘èµ·è¯·æ±‚,å¹¶å°†æœåŠ¡å®žä¾‹çš„è¯·æ±‚ç»“æžœè¿”å›ž. SimpleHostRoutingFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º100,æ˜¯routeé˜¶æ®µç¬¬äºŒä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨åªå¯¹è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨routeHostå‚æ•°çš„è¯·æ±‚è¿›è¡Œå¤„ç†,å³åªå¯¹é€šè¿‡urlé…ç½®è·¯ç”±è§„åˆ™çš„è¯·æ±‚ç”Ÿæ•ˆ.è€Œè¯¥è¿‡æ»¤å™¨çš„æ‰§è¡Œé€»è¾‘å°±æ˜¯ç›´æŽ¥å‘routeHostå‚æ•°çš„ç‰©ç†åœ°å€å‘èµ·è¯·æ±‚,ä»Žæºç ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“è¯¥è¯·æ±‚æ˜¯ç›´æŽ¥é€šè¿‡httpclientåŒ…å®žçŽ°çš„,è€Œæ²¡æœ‰ä½¿ç”¨Hystrixå‘½ä»¤è¿›è¡ŒåŒ…è£…,æ‰€ä»¥è¿™ç±»è¯·æ±‚å¹¶æ²¡æœ‰çº¿ç¨‹éš”ç¦»å’Œæ–­è·¯å™¨çš„ä¿æŠ¤. SendForwardFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º500,æ˜¯routeé˜¶æ®µç¬¬ä¸‰ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨åªå¯¹è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨forward.toå‚æ•°çš„è¯·æ±‚è¿›è¡Œå¤„ç†,å³ç”¨æ¥å¤„ç†è·¯ç”±è§„åˆ™ä¸­çš„forwardæœ¬åœ°è·³è½¬é…ç½®. postè¿‡æ»¤å™¨ SendErrorFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º0,æ˜¯posté˜¶æ®µç¬¬ä¸€ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä»…åœ¨è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­åŒ…å«error.status_codeå‚æ•°(ç”±ä¹‹å‰æ‰§è¡Œçš„è¿‡æ»¤å™¨è®¾ç½®çš„é”™è¯¯ç¼–ç )å¹¶ä¸”è¿˜æ²¡æœ‰è¢«è¯¥è¿‡æ»¤å™¨å¤„ç†è¿‡çš„æ—¶å€™æ‰§è¡Œ.è€Œè¯¥è¿‡æ»¤å™¨çš„å…·ä½“é€»è¾‘å°±æ˜¯åˆ©ç”¨è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­çš„é”™è¯¯ä¿¡æ¯æ¥ç»„ç»‡æˆä¸€ä¸ªforwardåˆ°APIç½‘å…³/erroré”™è¯¯ç«¯ç‚¹çš„è¯·æ±‚æ¥äº§ç”Ÿé”™è¯¯å“åº”. SendResponseFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º1000,æ˜¯posté˜¶æ®µæœ€åŽæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä¼šæ£€æŸ¥è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­æ˜¯å¦åŒ…å«è¯·æ±‚å“åº”ç›¸å…³çš„å¤´ä¿¡æ¯,å“åº”æ•°æ®æµæˆ–æ˜¯å“åº”ä½“,åªæœ‰åœ¨åŒ…å«å®ƒä»¬å…¶ä¸­ä¸€ä¸ªçš„æ—¶å€™å°±ä¼šæ‰§è¡Œå¤„ç†é€»è¾‘.è€Œè¯¥è¿‡æ»¤å™¨çš„å¤„ç†é€»è¾‘å°±æ˜¯åˆ©ç”¨è¯·æ±‚ä¸Šä¸‹æ–‡çš„å“åº”ä¿¡æ¯æ¥ç»„ç»‡éœ€è¦å‘é€å›žå®¢æˆ·ç«¯çš„å“åº”å†…å®¹. è‡ªå®šä¹‰filteråŠå¼‚å¸¸å¤„ç†1234567891011121314151617181920212223242526272829303132package cn.yeamin.gateway.filter;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.cloud.netflix.zuul.filters.support.FilterConstants;import org.springframework.stereotype.Component;import com.netflix.zuul.ZuulFilter;@Componentpublic class ThrowExceptionFilter extends ZuulFilter &#123; private static final Logger log = LoggerFactory.getLogger(ThrowExceptionFilter.class); @Override public boolean shouldFilter() &#123; return true; &#125; @Override public Object run() &#123; log.info(\"æˆ‘åœ¨è¿™å°±æ˜¯è¦ä¸ºéš¾ä½ ,ç»™ä½ æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸,çœ‹ä½ èƒ½æ‹¿æˆ‘èƒ½æ€Žä¹ˆæ ·,å“ˆå“ˆ......\"); doSomething(); return null; &#125; @Override public String filterType() &#123; return FilterConstants.PRE_TYPE; &#125; @Override public int filterOrder() &#123; return 0; &#125; private void doSomething() &#123; throw new RuntimeException(\"ä¼™è®¡,å¯¹ä¸ä½äº†,ç»™ä½ åˆ¶é€ ä¸€äº›éº»çƒ¦......\"); &#125;&#125; æ³¨é‡ŠæŽ‰run()æ–¹æ³•ä¸­çš„doSomething();è¿™ä¸€è¡Œ,è¿›è¡Œè¯·æ±‚,ä»¥å‰æ­£å¸¸1234567891011Administrator@EZ-20161212OKBJ MINGW64 ~/Desktop$ curl -i http://127.0.0.1:9005/item-service/item/2 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 91 0 91 0 0 91 0 --:--:-- --:--:-- --:--:-- 91000HTTP/1.1 200X-Application-Context: api-gateway:9005date: Thu, 24 May 2018 06:16:41 GMTContent-Type: application/json;charset=UTF-8Transfer-Encoding: chunked&#123;&quot;id&quot;:2,&quot;title&quot;:&quot;å•†å“æ ‡é¢˜2&quot;,&quot;pic&quot;:&quot;http://å›¾ç‰‡2&quot;,&quot;desc&quot;:&quot;å•†å“æè¿°2&quot;,&quot;price&quot;:2000&#125; æ‰“å¼€æ³¨é‡ŠåŽ,è¿›è¡Œè¯·æ±‚,è¿”å›ž500é”™è¯¯,å¦‚ä¸‹ç»“æžœ:12345678Administrator@EZ-20161212OKBJ MINGW64 ~/Desktop$ curl -v http://127.0.0.1:9005/item-service/item/2* Trying 127.0.0.1...* TCP_NODELAY set % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0* Connected to 127.0.0.1 (127.0.0.1) port 9005 (#0)&#123;&quot;timestamp&quot;:1527143000184,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;exception&quot;:&quot;com.netflix.zuul.exception.ZuulException&quot;,&quot;message&quot;:&quot;pre:ThrowExceptionFilter&quot;&#125; ç”±ä¸Šå¯è§,æˆ‘ä»¬è™½ç„¶èƒ½å¤Ÿæ¸…æ™°çœ‹åˆ°statusä¸º500,errorçš„æè¿°,exceptionçš„classä¿¡æ¯,messageä¿¡æ¯,ä½†æ˜¯ä½œä¸ºæˆ‘ä»¬å¼€å‘äººå‘˜å¹¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆè€Œå¼‚å¸¸,å‡†ç¡®æ¥è¯´,å¼‚å¸¸ä¿¡æ¯ä¸å¤Ÿå‡†ç¡®.é’ˆå¯¹ä»¥ä¸Šæ–¹æ¡ˆæœ‰ä¸¤ç§æ–¹æ¡ˆ:ä¸¥æ ¼çš„try-catchå¤„ç†å’ŒErrorFilterå¤„ç†1.æ–¹å¼ä¸€: ä¸¥æ ¼çš„try-catchå¤„ç†å›žæƒ³ä¸€ä¸‹,æˆ‘ä»¬æœ‰ä¸€ä¸ªpostè¿‡æ»¤å™¨SendErrorFilter,å®ƒæ˜¯ç”¨æ¥å¤„ç†å¼‚å¸¸ä¿¡æ¯çš„.æ ¹æ®æ­£å¸¸æµç¨‹,è¯¥è¿‡æ»¤å™¨ä¼šå¤„ç†å¼‚å¸¸ä¿¡æ¯,é‚£ä¹ˆåœ¨è¿™é‡Œæ²¡æœ‰å‡ºçŽ°è¾ƒä¸ºæ˜Žç¡®çš„å¼‚å¸¸ä¿¡æ¯å¾ˆæœ‰å¯èƒ½æ˜¯è¿™ä¸ªè¿‡æ»¤å™¨æ²¡æœ‰æ‰§è¡Œ.æ‰€ä»¥æˆ‘ä»¬ä¸å¦¨æ¥çœ‹çœ‹SendErrorFilterçš„æºç :12345678910public class SendErrorFilter extends ZuulFilter &#123; @Override public boolean shouldFilter() &#123; RequestContext ctx = RequestContext.getCurrentContext(); // only forward to errorPath if it hasn't been forwarded to already return ctx.getThrowable() != null &amp;&amp; !ctx.getBoolean(SEND_ERROR_FILTER_RAN, false); &#125;&#125; ä»Žä¸Šé¢æºç åˆ†æž,shouldFilter()æ–¹æ³•ä¸­,å¯å¾—çŸ¥:ctx.getThrowable() != nullè¯´æ˜Žè¯·æ±‚ä¸Šä¸‹æ–‡å¿…é¡»æœ‰ä¸ªThrowableå­ç±»çš„å¼‚å¸¸å¯¹è±¡,æˆ‘ä»¬è‡ªå·±å®žçŽ°çš„æ—¶å€™å¹¶æ²¡æœ‰å°†å¼‚å¸¸å¯¹è±¡æ”¾å…¥ä¸Šä¸‹æ–‡,SendErrorFilterè‡ªç„¶ä¸ä¼šæ‰§è¡Œ.åˆ†æžè¿‡åŽæˆ‘ä»¬å°±æ˜Žç™½äº†,å…·ä½“æ€Žä¹ˆè§£å†³å¯ä»¥å‚è€ƒRibbonRoutingFilterä¸­runæ–¹æ³•å¼‚å¸¸å¤„ç†é€»è¾‘å®žçŽ°:1234567891011121314151617@Overridepublic Object run() &#123; RequestContext context = RequestContext.getCurrentContext(); this.helper.addIgnoredHeaders(); try &#123; RibbonCommandContext commandContext = buildCommandContext(context); ClientHttpResponse response = forward(commandContext); setResponse(response); return response; &#125; catch (ZuulException ex) &#123; throw new ZuulRuntimeException(ex); &#125; catch (Exception ex) &#123; throw new ZuulRuntimeException(ex); &#125;&#125; å‚è€ƒä¹‹åŽ,æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»¿ç…§ä»¥ä¸Šä»£ç è§£å†³æˆ‘ä»¬çš„é—®é¢˜:12345678910@Overridepublic Object run() &#123; try &#123; log.info(\"æˆ‘åœ¨è¿™å°±æ˜¯è¦ä¸ºéš¾ä½ ,ç»™ä½ æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸,çœ‹ä½ èƒ½æ‹¿æˆ‘èƒ½æ€Žä¹ˆæ ·,å“ˆå“ˆ......\"); doSomething(); &#125;catch (Exception ex) &#123; throw new ZuulRuntimeException(ex); &#125; return null;&#125; æ”¹å¥½ä»£ç æˆ‘ä»¬è®¿é—®ä¸€ä¸‹,å°±æœ‰äº†è¯¦ç»†çš„å¼‚å¸¸ä¿¡æ¯:12345678Administrator@EZ-20161212OKBJ MINGW64 ~/Desktop$ curl -v http://127.0.0.1:9005/item-service/item/2* Trying 127.0.0.1...* TCP_NODELAY set % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0* Connected to 127.0.0.1 (127.0.0.1) port 9005 (#0)&#123;&quot;timestamp&quot;:1527145922072,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;exception&quot;:&quot;com.netflix.zuul.exception.ZuulException&quot;,&quot;message&quot;:&quot;ä¼™è®¡,å¯¹ä¸ä½äº†,ç»™ä½ åˆ¶é€ ä¸€äº›éº»çƒ¦......&quot;&#125; 2.æ–¹å¼äºŒ: ErrorFilterå¤„ç†12345678910111213141516171819202122232425262728293031323334353637383940package cn.yeamin.gateway.filter;import org.springframework.cloud.netflix.zuul.filters.support.FilterConstants;import org.springframework.stereotype.Component;import com.netflix.zuul.ZuulFilter;import com.netflix.zuul.context.RequestContext;/** * Zuulè¿‡æ»¤å™¨ç»Ÿä¸€å¼‚å¸¸å¤„ç† * * @author tong.li * */@Componentpublic class ErrorFilter extends ZuulFilter &#123; @Override public boolean shouldFilter() &#123; return true; &#125; @Override public Object run() &#123; RequestContext ctx = RequestContext.getCurrentContext(); Throwable throwable = ctx.getThrowable(); Throwable ex = throwable.getCause(); ctx.setThrowable(ex); return null; &#125; @Override public String filterType() &#123; return FilterConstants.ERROR_TYPE; &#125; @Override public int filterOrder() &#123; return -1; &#125;&#125; æ³¨é‡ŠæŽ‰ä¹‹å‰çš„try-catchçš„å¤„ç†æ–¹å¼,ç„¶åŽæˆ‘ä»¬å†è®¿é—®:123456Administrator@EZ-20161212OKBJ MINGW64 ~/Desktop$ curl http://127.0.0.1:9005/item-service/item/2 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 190 0 190 0 0 63 0 --:--:-- 0:00:03 --:--:-- 57&#123;&quot;timestamp&quot;:1527148417550,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;exception&quot;:&quot;com.netflix.zuul.exception.ZuulException&quot;,&quot;message&quot;:&quot;ä¼™è®¡,å¯¹ä¸ä½äº†,ç»™ä½ åˆ¶é€ ä¸€äº›éº»çƒ¦......&quot;&#125; èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹ ä¸‹ä¸€ç¯‡ LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• Zuulè¿‡æ»¤å™¨è¯·æ±‚ç”Ÿå‘½å‘¨æœŸæ ¸å¿ƒè¿‡æ»¤å™¨preè¿‡æ»¤å™¨routeè¿‡æ»¤å™¨postè¿‡æ»¤å™¨è‡ªå®šä¹‰filteråŠå¼‚å¸¸å¤„ç† è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:17.399Z","updated":"2019-11-27T15:22:17.399Z","comments":true,"path":"public/2018/05/17/Springæ¡ä»¶æ³¨è§£@Conditional/index.html","permalink":"http://ltyeamin.github.io/public/2018/05/17/Springæ¡ä»¶æ³¨è§£@Conditional/index.html","excerpt":"","text":"Springæ¡ä»¶æ³¨è§£@Conditional | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Springæ¡ä»¶æ³¨è§£@Conditional backend Spring 2018/05/17 æœ¬æ–‡äºŽ559å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ @Conditionalæ³¨è§£Spring 4æä¾›äº†ä¸€ä¸ªåŸºäºŽæ¡ä»¶çš„Beançš„åˆ›å»º,å³ä½¿ç”¨@Conditionalæ³¨è§£.@Conditionalæ ¹æ®æ»¡è¶³æŸä¸€ä¸ªç‰¹å®šæ¡ä»¶åˆ›å»ºä¸€ä¸ªç‰¹å®šçš„Bean.æ¯”å¦‚è¯´,å½“æŸä¸€ä¸ªjaråŒ…åœ¨ä¸€ä¸ªç±»è·¯å¾„ä¸‹çš„æ—¶å€™,è‡ªåŠ¨é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªBean;æˆ–è€…åªæœ‰æŸä¸ªBeanè¢«åˆ›å»ºæ‰ä¼šåˆ›å»ºå¦å¤–ä¸€ä¸ªBean.æ€»çš„æ¥è¯´,å°±æ˜¯æ ¹æ®ç‰¹å®šæ¡ä»¶æ¥æŽ§åˆ¶Beançš„åˆ›å»ºè¡Œä¸º,è¿™æ ·æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ¥è¿›è¡Œä¸€äº›è‡ªåŠ¨çš„é…ç½®. ConditionæŽ¥å£è®¾ç½®ç»™ @Conditionalæ³¨è§£çš„ç±»å¯ä»¥æ˜¯ä»»æ„å®žçŽ°äº†ConditionæŽ¥å£çš„ç±»åž‹.å¯ä»¥çœ‹å‡º,è¿™äº›æŽ¥å£å®žçŽ°èµ·æ¥ç®€å•ç›´æŽ¥.åªéœ€è¦æä¾›matches()æ–¹æ³•çš„å®žçŽ°å³å¯.å¦‚æžœmatches()æ–¹æ³•è¿”å›žtrue,é‚£ä¹ˆå°±ä¼šåˆ›å»ºå¸¦æœ‰@Conditionalæ³¨è§£çš„bean.åä¹‹åˆ™ä¸ä¼šåˆ›å»ºBean.matches()æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°:ConditionContextç±»åž‹å’ŒAnnotatedTypeMetadataç±»åž‹: ConditionContextæŽ¥å£èƒ½æä¾›åº”ç”¨ä¸Šä¸‹æ–‡ä¿¡æ¯: getRegistry()è¿”å›žBeanDefinitionRegistryæ³¨å†Œè¡¨,å¯ä»¥åˆ¤æ–­Beançš„å®šä¹‰ getBeanFactory()è¿”å›žConfigurableListableBeanFactory,å¯ä»¥æ£€æŸ¥Beanæ˜¯å¦å·²ç»å­˜åœ¨,ç”šè‡³æŽ¢æŸ¥Beançš„å±žæ€§. getEnvironment()è¿”å›žEnvironment,å¯ä»¥èŽ·å–å½“å‰åº”ç”¨çŽ¯å¢ƒå˜é‡,ä¹Ÿå¯ä»¥æ£€æµ‹å½“å‰çŽ¯å¢ƒå˜é‡æ˜¯å¦å­˜åœ¨. getResourceLoader()è¿”å›žResourceLoader,ç”¨äºŽè¯»å–æˆ–æŽ¢æŸ¥æ‰€åŠ è½½çš„èµ„æº. getClassLoader()è¿”å›žClassLoader,ç”¨äºŽæ£€æŸ¥ç±»æ˜¯å¦å­˜åœ¨. AnnotatedTypeMetadataæŽ¥å£èƒ½å¤Ÿè®©æˆ‘ä»¬æ£€æŸ¥å¸¦æœ‰@Beanæ³¨è§£çš„æ–¹æ³•ä¸Šè¿˜æœ‰æ²¡æœ‰å…¶ä»–æ³¨è§£: isAnnotated()å¯ä»¥åˆ¤æ–­é™¤@Beanæ³¨è§£å¤–æ˜¯å¦è¿˜æœ‰å…¶ä»–æ³¨è§£. getAllAnnotationAttributes()èŽ·å–å…¶ä»–æ‰€æœ‰çš„æ³¨è§£å±žæ€§ä¸‹é¢æˆ‘ä»¬æ¥åšä¸€ä¸ªä»¥ä¸åŒçš„æ“ä½œç³»ç»Ÿæ¥ä½œä¸ºæ¡ä»¶,é€šè¿‡å®žçŽ°ConditionæŽ¥å£,å¹¶é‡å†™å…¶matchesæ–¹æ³•æ¥æž„é€ åˆ¤æ–­æ¡ä»¶.è‹¥åœ¨Windowsç³»ç»Ÿä¸‹è¿è¡Œç¨‹åº,åˆ™è¾“å‡ºåˆ—è¡¨å‘½ä»¤ä¸ºdirï¼›è‹¥åœ¨Linuxæ“ä½œç³»ç»Ÿä¸‹è¿è¡Œç¨‹åº,åˆ™è¾“å‡ºåˆ—è¡¨å‘½ä»¤ä¸ºlsã€‚ä»£ç æ¼”ç¤º1.å¯¼å…¥POMä¾èµ–12345&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;4.3.13.RELEASE&lt;/version&gt;&lt;/dependency&gt; 2.å®šä¹‰åˆ¤æ–­æ¡ä»¶1234567891011121314151617181920package cn.yeamin.spring.constant;/** * OSå¸¸é‡ * @author tong.li * */public final class Constants &#123; /** * ç§æœ‰æž„é€ ,ä¸è®©å¤–éƒ¨åˆ›å»ºæœ¬ç±»çš„å®žä¾‹å¯¹è±¡ */ private Constants() &#123;&#125; public final static String OS_KEY = \"os.name\"; public final static String OS_TYPE_WINDOWS = \"Windows\"; public final static String OS_TYPE_LINUX = \"Linux\";&#125; 123456789101112131415161718package cn.yeamin.spring.condition;import org.springframework.context.annotation.Condition;import org.springframework.context.annotation.ConditionContext;import org.springframework.core.type.AnnotatedTypeMetadata;import cn.yeamin.spring.constant.Constants;/*** * åˆ¤æ–­Linuxçš„æ¡ä»¶ç±» * @author tong.li */public class LinuxCondition implements Condition &#123; @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) &#123; return context.getEnvironment().getProperty(Constants.OS_KEY).contains(Constants.OS_TYPE_LINUX); &#125;&#125; 1234567891011121314151617181920package cn.yeamin.spring.condition;import org.springframework.context.annotation.Condition;import org.springframework.context.annotation.ConditionContext;import org.springframework.core.type.AnnotatedTypeMetadata;import cn.yeamin.spring.constant.Constants;/*** * åˆ¤æ–­Windowsçš„æ¡ä»¶ç±» * @author tong.li */public class WindowsCondition implements Condition &#123; @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) &#123; return context.getEnvironment().getProperty(Constants.OS_KEY).contains(Constants.OS_TYPE_WINDOWS); &#125;&#125; 3.ä¸šåŠ¡å®žçŽ°:ä¸åŒç³»ç»Ÿä¸‹ä¸åŒçš„å‘½ä»¤1234567891011121314package cn.yeamin.spring.service;/** * å‘½ä»¤æœåŠ¡æŽ¥å£ * @author tong.li */public interface CommandService &#123; /** * æŠ½è±¡æ–¹æ³•,æ˜¾ç¤ºæ“ä½œç³»ç»Ÿçš„showListå‘½ä»¤ * @return cmd */ String showListCommand();&#125; 1234567891011package cn.yeamin.spring.service.impl;import cn.yeamin.spring.service.CommandService;public class LinuxCommandService implements CommandService &#123; @Override public String showListCommand() &#123; return \"ls\"; &#125;&#125; 123456789101112package cn.yeamin.spring.service.impl;import cn.yeamin.spring.service.CommandService;public class WindowsCommandService implements CommandService &#123; @Override public String showListCommand() &#123; return \"dir\"; &#125;&#125; 4.å®šä¹‰é…ç½®ç±»123456789101112131415161718192021222324252627282930313233343536373839404142434445package cn.yeamin.spring.conf;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Conditional;import org.springframework.context.annotation.Configuration;import org.springframework.context.annotation.Primary;import cn.yeamin.spring.condition.LinuxCondition;import cn.yeamin.spring.condition.WindowsCondition;import cn.yeamin.spring.service.CommandService;import cn.yeamin.spring.service.impl.LinuxCommandService;import cn.yeamin.spring.service.impl.WindowsCommandService;/** * é…ç½®ç±» * @author tong.li * */@Configurationpublic class ConditionConfig &#123; /** * å£°æ˜Žä¸€ä¸ªBean,å¹¶äº¤ç»™Springå®¹å™¨åŽ»ç®¡ç† * é€šè¿‡@Conditionalæ³¨è§£,æ“ä½œç³»ç»Ÿä¸ºWindowsåˆ™è¾“å‡ºWindowsä¸‹çš„dirå‘½ä»¤ * @return */ @Bean @Conditional(WindowsCondition.class) public CommandService windowsCMD() &#123; return new WindowsCommandService(); &#125; /** * å£°æ˜Žä¸€ä¸ªBean,å¹¶äº¤ç»™Springå®¹å™¨åŽ»ç®¡ç† * é€šè¿‡@Conditionalæ³¨è§£,æ“ä½œç³»ç»Ÿä¸ºWindowsåˆ™è¾“å‡ºWindowsä¸‹çš„lså‘½ä»¤ * @return */ @Bean @Conditional(LinuxCondition.class) public CommandService linuxCMD() &#123; return new LinuxCommandService(); &#125;&#125; 5.æ‰§è¡Œæµ‹è¯•123456789101112131415161718192021222324252627package cn.yeamin.spring;import org.springframework.context.annotation.AnnotationConfigApplicationContext;import cn.yeamin.spring.conf.ConditionConfig;import cn.yeamin.spring.constant.Constants;import cn.yeamin.spring.service.CommandService;/** * å¯åŠ¨ç±» * @author tong.li * */@SuppressWarnings(\"all\")public class Bootstrap &#123; /** * æ‰§è¡Œæµ‹è¯•åŸºäºŽä¸åŒæ“ä½œç³»ç»Ÿæ˜¾ç¤ºä¸åŒçš„å‘½ä»¤ * @param args */ public static void main(String[] args) &#123; // åŠ è½½é…ç½®ç±»,åˆ›å»ºåŸºäºŽæ³¨è§£å¼çš„åº”ç”¨ä¸Šä¸‹æ–‡ AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(ConditionConfig.class); //èŽ·å–Bean CommandService commandService = context.getBean(CommandService.class); System.out.println(context.getEnvironment().getProperty(Constants.OS_KEY) + \"ç³»ç»Ÿä¸‹çš„æ˜¾ç¤ºåˆ—è¡¨å‘½ä»¤ä¸º: \" + commandService.showListCommand()); &#125;&#125; 6.æ‰§è¡Œç»“æžœ1Windows 7ç³»ç»Ÿä¸‹çš„æ˜¾ç¤ºåˆ—è¡¨å‘½ä»¤ä¸º: dir 1linuxç³»ç»Ÿä¸‹çš„æ˜¾ç¤ºåˆ—è¡¨å‘½ä»¤ä¸º: ls èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž ä¸‹ä¸€ç¯‡ Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• @Conditionalæ³¨è§£ConditionæŽ¥å£ä»£ç æ¼”ç¤º è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:36.662Z","updated":"2020-01-08T13:06:36.456Z","comments":true,"path":"public/2018/05/17/Spring Bootè‡ªåŠ¨åŽŸç†å‰–æž/index.html","permalink":"http://ltyeamin.github.io/public/2018/05/17/Spring Bootè‡ªåŠ¨åŽŸç†å‰–æž/index.html","excerpt":"","text":"Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž backend Spring Boot 2018/05/17 æœ¬æ–‡äºŽ559å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ ç¥žå¥‡é­”æ³•-è‡ªåŠ¨é…ç½®å‰ç¯‡æ–‡ç« è®²è¿°äº†Spring 4 æ¡ä»¶æ³¨è§£,å…¶å®žSpring Bootè‡ªåŠ¨é…ç½®ç¥žå¥‡å®žçŽ°ä¹Ÿæ˜¯åŸºäºŽè¿™ä¸€åŽŸç†çš„.è‹¥æƒ³çŸ¥é“Spring Bootä¸ºæˆ‘ä»¬åšäº†å“ªäº›çš„è‡ªåŠ¨é…ç½®,å¯ä»¥æŸ¥çœ‹è¿™é‡Œçš„æºç .å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼æŸ¥çœ‹é¡¹ç›®ä¸­å·²å¯ç”¨å’Œæœªå¯ç”¨çš„è‡ªåŠ¨é…ç½®æŠ¥å‘Š. è¿è¡Œjaræ—¶å¢žåŠ â€“debugå‚æ•°: java -jar xxx.jar â€“debug åœ¨application.propertiesä¸­è®¾ç½®å±žæ€§: debug=true è¿è¡Œé¡¹ç›®æ—¶é€šè¿‡IDEè®¾ç½®JVMå‚æ•°: -Ddebug å¯åŠ¨åŽ,å¯åœ¨æŽ§åˆ¶å°è¾“å‡ºç›¸å…³è‡ªåŠ¨é…ç½®æŠ¥å‘Š.å·²å¯ç”¨çš„è‡ªåŠ¨é…ç½®ä¸º:123456789101112131415161718192021222324============================CONDITIONS EVALUATION REPORT============================Positive matches:----------------- CodecsAutoConfiguration matched: - @ConditionalOnClass found required class &apos;org.springframework.http.codec.CodecConfigurer&apos;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition) CodecsAutoConfiguration.JacksonCodecConfiguration matched: - @ConditionalOnClass found required class &apos;com.fasterxml.jackson.databind.ObjectMapper&apos;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition) CodecsAutoConfiguration.JacksonCodecConfiguration#jacksonCodecCustomizer matched: - @ConditionalOnBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) found bean &apos;jacksonObjectMapper&apos; (OnBeanCondition) DispatcherServletAutoConfiguration matched: - @ConditionalOnClass found required class &apos;org.springframework.web.servlet.DispatcherServlet&apos;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition) - found ConfigurableWebEnvironment (OnWebApplicationCondition) ...... ...... ...... æœªå¯ç”¨çš„è‡ªåŠ¨é…ç½®ä¸º:123456789101112131415161718Negative matches:----------------- ActiveMQAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes &apos;javax.jms.ConnectionFactory&apos;, &apos;org.apache.activemq.ActiveMQConnectionFactory&apos; (OnClassCondition) AopAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes &apos;org.aspectj.lang.annotation.Aspect&apos;, &apos;org.aspectj.lang.reflect.Advice&apos;, &apos;org.aspectj.weaver.AnnotatedElement&apos; (OnClassCondition) ArtemisAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes &apos;javax.jms.ConnectionFactory&apos;, &apos;org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory&apos; (OnClassCondition) ...... ...... ...... Spring Bootå…³äºŽè‡ªåŠ¨é…ç½®çš„æºç ä¹Ÿæ˜¯åœ¨spring-boot-autoconfigure-1.5.9.RELEASE.jarå†…,åŒ…å«çš„æ¨¡å—é…ç½®,å¦‚ä¸‹å›¾: Spring Bootæ¡ä»¶æ³¨è§£åœ¨spring-boot-autoconfigure-1.5.9.RELEASE.jarçš„org.springframework.boot.autoconfigure.conditionåŒ…ä¸‹,æœ‰è®¸å¤šæ³¨è§£ç»„åˆäº†@Conditionalçš„å…ƒæ³¨è§£,åªæ˜¯ä½¿ç”¨äº†ä¸åŒçš„æ¡ä»¶,å½¢æˆäº†æ–°çš„æ¡ä»¶æ³¨è§£: @ConditionalOnBean: å½“å®¹å™¨é‡Œæœ‰æŒ‡å®šçš„Beançš„æ¡ä»¶ä¸‹. @ConditionalOnClass: å½“classpathä¸‹æœ‰æŒ‡å®šçš„ç±»çš„æ¡ä»¶ä¸‹. @ConditionalOnExpression: åŸºäºŽSpELè¡¨è¾¾å¼ä½œä¸ºåˆ¤æ–­æ¡ä»¶. @ConditionalOnJava: åŸºäºŽJVMç‰ˆæœ¬ä½œä¸ºåˆ¤æ–­æ¡ä»¶. @ConditionalOnJndi: åœ¨JNDIæ‘é•¿çš„æ¡ä»¶ä¸‹æŸ¥æ‰¾æŒ‡å®šçš„ä½ç½®. @ConditionalOnMissingBean:å½“å®¹å™¨é‡Œæ²¡æœ‰æŒ‡å®šçš„Beançš„æ¡ä»¶ä¸‹. @ConditionalOnMissingClass: å½“classpathä¸‹æ²¡æœ‰æŒ‡å®šçš„ç±»çš„æ¡ä»¶ä¸‹. @ConditionalOnNotWebApplication: å½“å‰é¡¹ç›®ä¸æ˜¯Webé¡¹ç›®çš„æ¡ä»¶ä¸‹. @ConditionalOnProperty: æŒ‡å®šçš„å±žæ€§æ˜¯å¦æœ‰æŒ‡å®šå€¼çš„æƒ…å†µä¸‹. @ConditionalOnResource: classpathä¸‹æ˜¯å¦æœ‰æŒ‡å®šèµ„æºçš„æƒ…å†µä¸‹. @ConditionalOnSingleCandidate: å½“æŒ‡å®šçš„Beanåœ¨å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ª,æˆ–è™½ç„¶æœ‰å¤šä¸ªä½†æ˜¯æœ‰æŒ‡å®šçš„é¦–é€‰(@Primary)çš„Bean @ConditionalOnWebApplication: å½“å‰é¡¹ç›®æ˜¯Webé¡¹ç›®çš„æ¡ä»¶ä¸‹. @Enable*æ³¨è§£çš„å·¥ä½œåŽŸç†åœ¨Springä½“ç³»ä¸­,æœ‰å¤§é‡çš„@Enable*çš„æ³¨è§£: @EnableAspectAutoProxy:ç”¨äºŽå¼€å¯å¯¹Aspectè‡ªåŠ¨ä»£ç†çš„æ”¯æŒ. @EnableAsync:ç”¨äºŽå¼€å¯å¼‚æ­¥æ–¹æ³•çš„æ”¯æŒ. @EnableScheduling:ç”¨äºŽå¼€å¯å®šæ—¶ä»»åŠ¡çš„æ”¯æŒ. @EnableWebMvc:ç”¨äºŽå¼€å¯WebMvcé…ç½®çš„æ”¯æŒ. @EnableConfigurationProperties:ç”¨äºŽå¼€å¯å¯¹@ConfigurationPropertiesæ³¨è§£é…ç½®Beançš„çš„æ”¯æŒ. @EnableJpaRepositories:ç”¨äºŽå¼€å¯å¯¹Spring Data Jpaçš„çš„æ”¯æŒ. @EnableTransactionManagement:ç”¨äºŽå¼€å¯å¯¹æ³¨è§£å¼äº‹åŠ¡çš„çš„æ”¯æŒ. @EnableCaching:ç”¨äºŽå¼€å¯å¯¹æ³¨è§£å¼ç¼“å­˜çš„çš„æ”¯æŒ. è¿™äº›æ³¨è§£ç”¨äºŽå¼€å¯æŸé¡¹åŠŸèƒ½çš„æ”¯æŒ,ä»Žè€Œé¿å…è‡ªå·±é…ç½®å¤§é‡çš„ä»£ç .é‚£ä¹ˆè¿™ä¸ªç¥žå¥‡çš„åŠŸèƒ½çš„ä¸Šçº¿åŽŸç†æ˜¯ä»€ä¹ˆå‘¢?æˆ‘ä»¬æ¥çœ‹çœ‹. é€šè¿‡è§‚å¯Ÿè¿™äº›@Enable*æ³¨è§£çš„æºç ,æˆ‘ä»¬å‘çŽ°æ‰€æœ‰çš„æ³¨è§£éƒ½æœ‰ä¸€ä¸ª@importæ³¨è§£,@importæ˜¯ç”¨æ¥å¯¼å…¥é…ç½®ç±»çš„,è¿™ä¹Ÿå°±æ„å‘³ç€è¿™äº›è‡ªåŠ¨å¼€å¯çš„å®žçŽ°æ˜¯å¯¼å…¥äº†ä¸€äº›è‡ªåŠ¨é…ç½®çš„Bean.è¿™äº›å¯¼å…¥çš„é…ç½®æ–¹å¼ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ç±»åž‹. ç¬¬ä¸€ç±»:ç›´æŽ¥å¯¼å…¥é…ç½®ç±» 1234567@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Import(SchedulingConfiguration.class)@Documentedpublic @interface EnableScheduling &#123;&#125; ç›´æŽ¥å¯¼å…¥é…ç½®ç±»SchedulingConfiguration.class,è¿™ä¸ªç±»æ³¨è§£äº†@Condition,ä¸”æ³¨å†Œäº†ä¸€ä¸ªScheduledAnnotationBeanPostProcessorçš„Bean,æºç å¦‚ä¸‹:1234567891011@Configuration@Role(BeanDefinition.ROLE_INFRASTRUCTURE)public class SchedulingConfiguration &#123; @Bean(name = TaskManagementConfigUtils.SCHEDULED_ANNOTATION_PROCESSOR_BEAN_NAME) @Role(BeanDefinition.ROLE_INFRASTRUCTURE) public ScheduledAnnotationBeanPostProcessor scheduledAnnotationProcessor() &#123; return new ScheduledAnnotationBeanPostProcessor(); &#125;&#125; ç¬¬äºŒç±»:ä¾æ®æ¡ä»¶é€‰æ‹©é…ç½®ç±»12345678910@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Import(AsyncConfigurationSelector.class)public @interface EnableAsync &#123; Class&lt;? extends Annotation&gt; annotation() default Annotation.class; boolean proxyTargetClass() default false; AdviceMode mode() default AdviceMode.PROXY; int order() default Ordered.LOWEST_PRECEDENCE;&#125; AsyncConfigurationSelectoré€šè¿‡æ¡ä»¶æ¥é€‰æ‹©éœ€è¦å¯¼å…¥çš„é…ç½®ç±»,AsyncConfigurationSelectorçš„æ ¹æŽ¥å£ä¸ºImportSelector1234567891011121314151617public class AsyncConfigurationSelector extends AdviceModeImportSelector&lt;EnableAsync&gt; &#123; private static final String ASYNC_EXECUTION_ASPECT_CONFIGURATION_CLASS_NAME = \"org.springframework.scheduling.aspectj.AspectJAsyncConfiguration\"; @Override public String[] selectImports(AdviceMode adviceMode) &#123; switch (adviceMode) &#123; case PROXY: return new String[] &#123; ProxyAsyncConfiguration.class.getName() &#125;; case ASPECTJ: return new String[] &#123; ASYNC_EXECUTION_ASPECT_CONFIGURATION_CLASS_NAME &#125;; default: return null; &#125; &#125;&#125; è‡ªåŠ¨é…ç½®åŽŸç†å…³äºŽSpring Bootçš„è¿ä½œåŽŸç†,æˆ‘ä»¬è¿˜æ˜¯å›žå½’åˆ°@SpringBootApplicationæ³¨è§£ä¸Š,æ”¹æ³¨è§£æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£.å®ƒæ˜¯ç”±@SpringBootConfiguration,@EnableAutoConfigurationå’Œ@ComponentScanç»„æˆçš„.@SpringBootConfigurationä¹Ÿæ˜¯ç»„åˆäº†@Configurationæ³¨è§£,@ComponentScanæ˜¯ç»„ä»¶æ‰«æ,è€Œ@EnableAutoConfigurationæ˜¯è‡ªåŠ¨é…ç½®åŠŸèƒ½çš„æ ¸å¿ƒæ³¨è§£.æˆ‘ä»¬æ¥çœ‹çœ‹@EnableAutoConfigurationæ³¨è§£æºç :123456789101112@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@AutoConfigurationPackage@Import(EnableAutoConfigurationImportSelector.class)public @interface EnableAutoConfiguration &#123; String ENABLED_OVERRIDE_PROPERTY = \"spring.boot.enableautoconfiguration\"; Class&lt;?&gt;[] exclude() default &#123;&#125;; String[] excludeName() default &#123;&#125;;&#125; è¿™é‡Œçš„å…³é”®åŠŸèƒ½æ˜¯@Importæ³¨è§£å¯¼å…¥çš„é…ç½®åŠŸèƒ½,EnableAutoConfigurationImportSelectorä½¿ç”¨SpringFactoriesLoader.loadFactoryNames()æ–¹æ³•æ¥æ‰«æå…·æœ‰META-INF/spring.factoriesæ–‡ä»¶çš„jaråŒ….è€Œæˆ‘ä»¬çš„spring-boot-autoconfigure-1.5.9.RELEASE.jarå°±æœ‰ä¸€ä¸ªspring.factoriesæ–‡ä»¶.æ­¤æ–‡ä»¶ä¸­å£°æ˜Žäº†æœ‰å“ªäº›è‡ªåŠ¨é…ç½®,å¦‚ä¸‹å›¾: å®žä¾‹åˆ†æžåœ¨äº†è§£Spring Bootçš„è¿ä½œåŽŸç†å’Œä¸»è¦æ¡ä»¶æ³¨è§£åŽ,çŽ°åœ¨æˆ‘ä»¬æ¥åˆ†æžä¸€ä¸ªç®€å•çš„Spring Bootå†…ç½®çš„è‡ªåŠ¨é…ç½®åŠŸèƒ½:httpçš„ç¼–ç é…ç½®.åœ¨å¸¸è§„webçš„waré¡¹ç›®ä¸­,æˆ‘ä»¬è¦è§£å†³httpç¼–ç çš„æ—¶å€™æ˜¯åœ¨web.xmlé‡Œé…ç½®ä¸€ä¸ªfilter,å¦‚:1234567891011121314151617&lt;!-- ç¼–ç Filter åŠ è½½é…ç½® Start --&gt; &lt;filter&gt; &lt;filter-name&gt;CharacterEncoding&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;forceEncoding&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;CharacterEncoding&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; è‡ªåŠ¨é…ç½®è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶: èƒ½é…ç½®CharacterEncodingFilterè¿™ä¸ªBean; èƒ½é…ç½®encodingå’ŒforceEncodingè¿™ä¸¤ä¸ªå‚æ•°. æºç ä¸­å®šä¹‰çš„HttpEncodingPropertiesé…ç½®ç±» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475package org.springframework.boot.autoconfigure.http;import java.nio.charset.Charset;import java.nio.charset.StandardCharsets;import java.util.Locale;import java.util.Map;import org.springframework.boot.context.properties.ConfigurationProperties; // åœ¨application.propertiesæˆ–application.ynlæ–‡ä»¶é…ç½®æ—¶å‰ç¼€å¿…é¡»æ˜¯spring.http.encoding@ConfigurationProperties(prefix = \"spring.http.encoding\")public class HttpEncodingProperties &#123; public static final Charset DEFAULT_CHARSET = StandardCharsets.UTF_8; /** é»˜è®¤ç¼–ç æ–¹å¼ä¸ºUTF-8,è‹¥ä¿®æ”¹å¯ä½¿ç”¨spring.http.encoding.charset=ç¼–ç  */ private Charset charset = DEFAULT_CHARSET; private Boolean force; private Boolean forceRequest; private Boolean forceResponse; private Map&lt;Locale, Charset&gt; mapping; public Charset getCharset() &#123; return this.charset; &#125; public void setCharset(Charset charset) &#123; this.charset = charset; &#125; public boolean isForce() &#123; return Boolean.TRUE.equals(this.force); &#125; public void setForce(boolean force) &#123; this.force = force; &#125; public boolean isForceRequest() &#123; return Boolean.TRUE.equals(this.forceRequest); &#125; public void setForceRequest(boolean forceRequest) &#123; this.forceRequest = forceRequest; &#125; public boolean isForceResponse() &#123; return Boolean.TRUE.equals(this.forceResponse); &#125; public void setForceResponse(boolean forceResponse) &#123; this.forceResponse = forceResponse; &#125; public Map&lt;Locale, Charset&gt; getMapping() &#123; return this.mapping; &#125; public void setMapping(Map&lt;Locale, Charset&gt; mapping) &#123; this.mapping = mapping; &#125; public boolean shouldForce(Type type) &#123; Boolean force = (type == Type.REQUEST ? this.forceRequest : this.forceResponse); if (force == null) &#123; force = this.force; &#125; if (force == null) &#123; force = (type == Type.REQUEST); &#125; return force; &#125; public enum Type &#123; REQUEST, RESPONSE &#125;&#125; æºç :HttpEncodingAutoConfigurationè‡ªåŠ¨é…ç½®ç±» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172package org.springframework.boot.autoconfigure.web;import org.springframework.boot.autoconfigure.EnableAutoConfiguration;import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;import org.springframework.boot.autoconfigure.condition.ConditionalOnWebApplication;import org.springframework.boot.autoconfigure.web.HttpEncodingProperties.Type;import org.springframework.boot.context.embedded.ConfigurableEmbeddedServletContainer;import org.springframework.boot.context.embedded.EmbeddedServletContainerCustomizer;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.boot.web.filter.OrderedCharacterEncodingFilter;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.core.Ordered;import org.springframework.web.filter.CharacterEncodingFilter;@Configuration@EnableConfigurationProperties(HttpEncodingProperties.class) //å¼€å¯å±žæ€§æ³¨å…¥@ConditionalOnWebApplication //å½“å‰é¡¹ç›®æ˜¯Webåº”ç”¨è§¦å‘@ConditionalOnClass(CharacterEncodingFilter.class) //å½“classpathä¸‹å­˜åœ¨CharacterEncodingFilter.classæ—¶åŠ è½½è¯¥ç±»@ConditionalOnProperty(prefix = \"spring.http.encoding\", value = \"enabled\", matchIfMissing = true) //å½“spring.http.encoding=enableçš„æƒ…å†µä¸‹,å¦‚æžœæ²¡æœ‰è®¾ç½®åˆ™é»˜è®¤ä¸ºtrue,å³æ¡ä»¶ç¬¦åˆpublic class HttpEncodingAutoConfiguration &#123; private final HttpEncodingProperties properties; /** é€šè¿‡æž„é€ æ–¹æ³•æ³¨å…¥ */ public HttpEncodingAutoConfiguration(HttpEncodingProperties properties) &#123; this.properties = properties; &#125; @Bean //ä½¿ç”¨Javaçš„æ–¹å¼å£°æ˜ŽBean @ConditionalOnMissingBean(CharacterEncodingFilter.class) //å½“Springå®¹å™¨ä¸­æ²¡æœ‰è¿™ä¸ªBeançš„æ—¶å€™æ–°å»ºBean. public CharacterEncodingFilter characterEncodingFilter() &#123; CharacterEncodingFilter filter = new OrderedCharacterEncodingFilter(); //è®¾ç½®ç¼–ç  filter.setEncoding(this.properties.getCharset().name()); filter.setForceRequestEncoding(this.properties.shouldForce(Type.REQUEST)); filter.setForceResponseEncoding(this.properties.shouldForce(Type.RESPONSE)); return filter; &#125; @Bean public LocaleCharsetMappingsCustomizer localeCharsetMappingsCustomizer() &#123; return new LocaleCharsetMappingsCustomizer(this.properties); &#125; private static class LocaleCharsetMappingsCustomizer implements EmbeddedServletContainerCustomizer, Ordered &#123; private final HttpEncodingProperties properties; LocaleCharsetMappingsCustomizer(HttpEncodingProperties properties) &#123; this.properties = properties; &#125; @Override public void customize(ConfigurableEmbeddedServletContainer container) &#123; if (this.properties.getMapping() != null) &#123; container.setLocaleCharsetMappings(this.properties.getMapping()); &#125; &#125; @Override public int getOrder() &#123; return 0; &#125; &#125;&#125; èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter ä¸‹ä¸€ç¯‡ Springæ¡ä»¶æ³¨è§£@Conditional new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• ç¥žå¥‡é­”æ³•-è‡ªåŠ¨é…ç½®Spring Bootæ¡ä»¶æ³¨è§£@Enable*æ³¨è§£çš„å·¥ä½œåŽŸç†è‡ªåŠ¨é…ç½®åŽŸç†å®žä¾‹åˆ†æž è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:33.016Z","updated":"2020-01-08T13:06:32.913Z","comments":true,"path":"public/2018/06/09/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶/index.html","permalink":"http://ltyeamin.github.io/public/2018/06/09/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶/index.html","excerpt":"","text":"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ backend JVMåŠå¹¶å‘ç¼–ç¨‹ 2018/06/09 æœ¬æ–‡äºŽ536å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ ä¸ºäº†é«˜æ•ˆçš„ç®¡ç†çº¿ç¨‹ï¼ŒJDK1.5ç‰ˆæœ¬çš„Doug Leaå¤§ç¥žä¸ºæˆ‘ä»¬è®¾è®¡äº†å¤§åé¼Žé¼Žçš„ThreadPoolExecutorã€‚ ä½œä¸ºExecutoræ¡†æž¶ä¸­æœ€æ ¸å¿ƒçš„ç±»-ThreadPoolExecutorï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ªè°ƒåº¦å·¥å…·ï¼Œä¸ºäº†é«˜æ•ˆæ‰§è¡Œæˆ–è°ƒåº¦ä»»åŠ¡ï¼Œæˆ‘ä»¬éžå¸¸æœ‰å¿…è¦å¯¹è¯¥ç±»çš„å·¥ä½œåŽŸç†ä»¥åŠå†…éƒ¨æœºåˆ¶äº†è§£ä¸€ç•ªã€‚çº¿ç¨‹æ± çš„æ¯ä¸€ä¸ªå‚æ•°é…ç½®éƒ½æœ‰ä¸€å®šçš„è®¾è®¡åˆç†æ€§ï¼Œå„ä¸ªå‚æ•°é…ç½®ååŒèšåˆï¼Œè®©èµ„æºåˆç†è¿ç”¨æ‰æ˜¯æˆ‘ä»¬æœ€å…³æ³¨çš„ã€‚ çº¿ç¨‹æ± çš„ç”Ÿå‘½å‘¨æœŸçº¿ç¨‹æœ‰äº”ç§çŠ¶æ€ï¼šæ–°å»ºï¼Œå°±ç»ªï¼Œè¿è¡Œï¼Œé˜»å¡žï¼Œæ­»äº¡ã€‚çº¿ç¨‹æ± åŒæ ·æœ‰äº”ç§çŠ¶æ€ï¼šRunning, SHUTDOWN, STOP, TIDYING, TERMINATEDã€‚ æˆ‘ä»¬ç¿»å¼€ThreadPoolExecutoræºç å¯ä»¥çœ‹åˆ°çº¿ç¨‹æ± ç”Ÿå‘½å‘¨æœŸçš„å®šä¹‰ï¼š 1234567891011121314151617181920private final AtomicInteger ctl = new AtomicInteger(ctlOf(RUNNING, 0));private static final int COUNT_BITS = Integer.SIZE - 3;private static final int CAPACITY = (1 &lt;&lt; COUNT_BITS) - 1;// runState is stored in the high-order bits// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯111private static final int RUNNING = -1 &lt;&lt; COUNT_BITS;// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯000private static final int SHUTDOWN = 0 &lt;&lt; COUNT_BITS;// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯001private static final int STOP = 1 &lt;&lt; COUNT_BITS;// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯010private static final int TIDYING = 2 &lt;&lt; COUNT_BITS;// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯011private static final int TERMINATED = 3 &lt;&lt; COUNT_BITS;// Packing and unpacking ctlprivate static int runStateOf(int c) &#123; return c &amp; ~CAPACITY;&#125;private static int workerCountOf(int c) &#123; return c &amp; CAPACITY; &#125;private static int ctlOf(int rs, int wc) &#123; return rs | wc; &#125; å˜é‡ctlå®šä¹‰ä¸ºAtomicInteger ï¼Œå…¶åŠŸèƒ½éžå¸¸å¼ºå¤§ï¼Œè®°å½•äº†â€œçº¿ç¨‹æ± ä¸­çš„ä»»åŠ¡æ•°é‡â€å’Œâ€œçº¿ç¨‹æ± çš„çŠ¶æ€â€ä¸¤ä¸ªä¿¡æ¯ã€‚å…±32ä½ï¼Œå…¶ä¸­é«˜3ä½è¡¨ç¤ºâ€çº¿ç¨‹æ± çŠ¶æ€(runState)â€ï¼Œä½Ž29ä½è¡¨ç¤ºâ€çº¿ç¨‹æ± ä¸­çš„ä»»åŠ¡æ•°é‡(workerCnt)â€ã€‚ çº¿ç¨‹æ± æ˜¯æœ‰çŠ¶æ€çš„ï¼Œä¸åŒçŠ¶æ€ä¸‹çº¿ç¨‹æ± çš„è¡Œä¸ºæ˜¯ä¸ä¸€æ ·çš„ã€‚å…·ä½“è¿è½¬æµç¨‹å¦‚ä¸‹: çŠ¶æ€ å«ä¹‰ RUNNING è¿è¡ŒçŠ¶æ€ï¼Œè¯¥çŠ¶æ€ä¸‹çº¿ç¨‹æ± å¯ä»¥æŽ¥å—æ–°çš„ä»»åŠ¡ï¼Œä¹Ÿå¯ä»¥å¤„ç†é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ‰§è¡Œ, shutdown æ–¹æ³•å¯è¿›å…¥ SHUTDOWN çŠ¶æ€;æ‰§è¡Œ shutdownNow æ–¹æ³•å¯è¿›å…¥ STOP çŠ¶æ€ SHUTDOWN å¾…å…³é—­çŠ¶æ€ï¼Œä¸å†æŽ¥å—æ–°çš„ä»»åŠ¡ï¼Œç»§ç»­å¤„ç†é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡;å½“é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ä¸ºç©ºï¼Œå¹¶ä¸”å·¥ä½œçº¿ç¨‹æ•°ä¸º0æ—¶ï¼Œè¿›å…¥ TIDYING çŠ¶æ€ STOP åœæ­¢çŠ¶æ€ï¼Œä¸æŽ¥æ”¶æ–°ä»»åŠ¡ï¼Œä¹Ÿä¸å¤„ç†é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œå¹¶ä¸”ä¼šå°è¯•ç»“æŸæ‰§è¡Œä¸­çš„ä»»åŠ¡;å½“å·¥ä½œçº¿ç¨‹æ•°ä¸º0æ—¶ï¼Œè¿›å…¥ TIDYING çŠ¶æ€ TIDYING æ•´ç†çŠ¶æ€ï¼Œæ­¤æ—¶ä»»åŠ¡éƒ½å·²ç»æ‰§è¡Œå®Œæ¯•ï¼ˆctlè®°å½•çš„â€ä»»åŠ¡æ•°é‡â€ä¸º0ï¼‰ï¼Œå¹¶ä¸”ä¹Ÿæ²¡æœ‰å·¥ä½œçº¿ç¨‹; æ‰§è¡Œ terminated æ–¹æ³•åŽè¿›å…¥ TERMINATED çŠ¶æ€ TERMINATED ç»ˆæ­¢çŠ¶æ€ï¼Œæ­¤æ—¶çº¿ç¨‹æ± å®Œå…¨ç»ˆæ­¢äº†ï¼Œå¹¶å®Œæˆäº†æ‰€æœ‰èµ„æºçš„é‡Šæ”¾ çº¿ç¨‹æ± çš„å†…éƒ¨æž„é€ 123456789101112131415161718192021222324public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler) &#123; if (corePoolSize &lt; 0 || maximumPoolSize &lt;= 0 || maximumPoolSize &lt; corePoolSize || keepAliveTime &lt; 0) throw new IllegalArgumentException(); if (workQueue == null || threadFactory == null || handler == null) throw new NullPointerException(); this.acc = System.getSecurityManager() == null ? null : AccessController.getContext(); this.corePoolSize = corePoolSize; this.maximumPoolSize = maximumPoolSize; this.workQueue = workQueue; this.keepAliveTime = unit.toNanos(keepAliveTime); this.threadFactory = threadFactory; this.handler = handler;&#125; ä¸Šè¿°æºç æ˜¯æ‘˜è‡ªJDK1.8ä¸­ThreadPoolExecutorçš„æž„é€ æºç ï¼Œæž„é€ å™¨æœ‰7ä¸ªé‡è¦å‚æ•°ï¼Œè¿™ä¸ƒä¸ªå‚æ•°æ„ä¹‰é‡å¤§ï¼Œæˆ‘ä»¬æœ‰å¿…è¦æ·±å…¥å­¦ä¹ ã€‚ å‰æ–‡è®²åˆ°æœ‰äº†æ ‡å¿—å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°çš„å˜é‡ctlï¼Œé‚£ä¹ˆä¸åŒç¡¬ä»¶é…ç½®çš„æœºå™¨ï¼Œåˆ°åº•åº”è¯¥é…ç½®å¤šå°‘ä¸ªçº¿ç¨‹æ‰åˆé€‚å‘¢ï¼Ÿçº¿ç¨‹æ± é…ç½®çš„æ ¸å¿ƒçº¿ç¨‹æ•°å°‘äº†ï¼Œå‘æŒ¥ä¸äº†çº¿ç¨‹æ± çš„ç‰¹æ€§ï¼Œçº¿ç¨‹æ± é…ç½®çš„æ ¸å¿ƒçº¿ç¨‹æ•°å¤šäº†ï¼Œåˆé€ æˆèµ„æºè€—è´¹ã€‚ çŽ°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªç–‘é—®ï¼Œæ—¢ç„¶å·²ç»æœ‰äº†æ ‡è¯†å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°çš„å˜é‡äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æœ‰æ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°å‘¢ï¼Ÿ å…¶å®žä½ è¿™æ ·æƒ³å°±èƒ½å¤Ÿç†è§£äº†ï¼Œåˆ›å»ºçº¿ç¨‹æ˜¯æœ‰ä»£ä»·çš„ï¼Œä¸èƒ½æ¯æ¬¡è¦æ‰§è¡Œä¸€ä¸ªä»»åŠ¡æ—¶å°±åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½åœ¨ä»»åŠ¡éžå¸¸å¤šçš„æ—¶å€™ï¼Œåªæœ‰å°‘é‡çš„çº¿ç¨‹åœ¨æ‰§è¡Œï¼Œè¿™æ ·ä»»åŠ¡æ˜¯æ¥ä¸åŠå¤„ç†çš„ï¼Œè€Œæ˜¯åº”è¯¥åˆ›å»ºåˆé€‚çš„è¶³å¤Ÿå¤šçš„çº¿ç¨‹æ¥åŠæ—¶çš„å¤„ç†ä»»åŠ¡ã€‚éšç€ä»»åŠ¡æ•°é‡çš„å˜åŒ–ï¼Œå½“ä»»åŠ¡æ•°æ˜Žæ˜¾å¾ˆå°æ—¶ï¼ŒåŽŸæœ¬åˆ›å»ºçš„å¤šä½™çš„çº¿ç¨‹å°±æ²¡æœ‰å¿…è¦å†å­˜æ´»ç€äº†ï¼Œå› ä¸ºè¿™æ—¶ä½¿ç”¨å°‘é‡çš„çº¿ç¨‹å°±èƒ½å¤Ÿå¤„ç†çš„è¿‡æ¥äº†ï¼Œæ‰€ä»¥è¯´çœŸæ­£å·¥ä½œçš„çº¿ç¨‹çš„æ•°é‡ï¼Œæ˜¯éšç€ä»»åŠ¡çš„å˜åŒ–è€Œå˜åŒ–çš„ã€‚ é‚£æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ä¸Žå·¥ä½œçº¿ç¨‹ä¸ªæ•°çš„å…³ç³»æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°å¯èƒ½ä»Ž0åˆ°æœ€å¤§çº¿ç¨‹æ•°ä¹‹é—´å˜åŒ–ï¼Œå½“æ‰§è¡Œä¸€æ®µæ—¶é—´ä¹‹åŽå¯èƒ½ç»´æŒåœ¨ corePoolSizeï¼Œä½†ä¹Ÿä¸æ˜¯ç»å¯¹çš„ï¼Œå–å†³äºŽæ ¸å¿ƒçº¿ç¨‹æ˜¯å¦å…è®¸è¢«è¶…æ—¶å›žæ”¶ã€‚ corePoolSizeæ ¸å¿ƒçº¿ç¨‹æ•°corePoolSize ç”¨æ¥è¡¨ç¤ºçº¿ç¨‹æ± ä¸­çš„æ ¸å¿ƒçº¿ç¨‹çš„æ•°é‡ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºå¯é—²ç½®çš„çº¿ç¨‹æ•°é‡ã€‚å½“æäº¤ä¸€ä¸ªä»»åŠ¡æ—¶ï¼Œçº¿ç¨‹æ± ä¼šæ–°å»ºä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œç›´åˆ°å½“å‰çº¿ç¨‹æ•°ç­‰äºŽcorePoolSizeã€‚å¦‚æžœè°ƒç”¨äº†çº¿ç¨‹æ± çš„prestartAllCoreThreads()æ–¹æ³•ï¼Œçº¿ç¨‹æ± ä¼šæå‰åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰åŸºæœ¬çº¿ç¨‹ã€‚ maximumPoolSizeæœ€å¤§çº¿ç¨‹æ•°maximumPoolSize ç”¨æ¥è¡¨ç¤ºçº¿ç¨‹æ± ä¸­æœ€å¤šèƒ½å¤Ÿåˆ›å»ºçš„çº¿ç¨‹æ•°é‡ã€‚çº¿ç¨‹æ± çš„é˜»å¡žé˜Ÿåˆ—æ»¡äº†ä¹‹åŽï¼Œå¦‚æžœè¿˜æœ‰ä»»åŠ¡æäº¤ï¼Œå¦‚æžœå½“å‰çš„çº¿ç¨‹æ•°å°äºŽmaximumPoolSizeï¼Œåˆ™ä¼šæ–°å»ºçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚æ³¨æ„ï¼Œå¦‚æžœä½¿ç”¨çš„æ˜¯æ— ç•Œé˜Ÿåˆ—ï¼Œè¯¥å‚æ•°ä¹Ÿå°±æ²¡æœ‰ä»€ä¹ˆæ•ˆæžœäº†ã€‚ keepAliveTimeçº¿ç¨‹ç©ºé—²æ—¶é—´çº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯æ˜¯éœ€è¦ä»£ä»·çš„ã€‚çº¿ç¨‹æ‰§è¡Œå®Œä»»åŠ¡åŽä¸ä¼šç«‹å³é”€æ¯ï¼Œè€Œæ˜¯ç»§ç»­å­˜æ´»ä¸€æ®µæ—¶é—´ï¼škeepAliveTimeã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å‚æ•°åªæœ‰åœ¨çº¿ç¨‹æ•°å¤§äºŽcorePoolSizeæ—¶æ‰ä¼šç”Ÿæ•ˆã€‚ å½“å·¥ä½œçº¿ç¨‹æ•°è¾¾åˆ° corePoolSize æ—¶ï¼Œçº¿ç¨‹æ± ä¼šå°†æ–°æŽ¥æ”¶åˆ°çš„ä»»åŠ¡å­˜æ”¾åœ¨é˜»å¡žé˜Ÿåˆ—ä¸­ï¼Œè€Œé˜»å¡žé˜Ÿåˆ—åˆä¸¤ç§æƒ…å†µï¼šä¸€ç§æ˜¯æœ‰ç•Œçš„é˜Ÿåˆ—ï¼Œä¸€ç§æ˜¯æ— ç•Œçš„é˜Ÿåˆ—ã€‚ å¦‚æžœæ˜¯æ— ç•Œé˜Ÿåˆ—ï¼Œé‚£ä¹ˆå½“æ ¸å¿ƒçº¿ç¨‹éƒ½åœ¨å¿™çš„æ—¶å€™ï¼Œæ‰€æœ‰æ–°æäº¤çš„ä»»åŠ¡éƒ½ä¼šè¢«å­˜æ”¾åœ¨è¯¥æ— ç•Œé˜Ÿåˆ—ä¸­ï¼Œè¿™æ—¶æœ€å¤§çº¿ç¨‹æ•°å°†å˜å¾—æ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºé˜»å¡žé˜Ÿåˆ—ä¸ä¼šå­˜åœ¨è¢«è£…æ»¡çš„æƒ…å†µã€‚ å¦‚æžœæ˜¯æœ‰ç•Œé˜Ÿåˆ—ï¼Œé‚£ä¹ˆå½“é˜»å¡žé˜Ÿåˆ—ä¸­è£…æ»¡äº†ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡ï¼Œè¿™æ—¶å†æœ‰æ–°ä»»åŠ¡æäº¤æ—¶ï¼Œçº¿ç¨‹æ± å°±éœ€è¦åˆ›å»ºæ–°çš„â€œä¸´æ—¶â€çº¿ç¨‹æ¥å¤„ç†ï¼Œç›¸å½“äºŽå¢žæ´¾äººæ‰‹æ¥å¤„ç†ä»»åŠ¡ã€‚ ä½†æ˜¯åˆ›å»ºçš„â€œä¸´æ—¶â€çº¿ç¨‹æ˜¯æœ‰å­˜æ´»æ—¶é—´çš„ï¼Œä¸å¯èƒ½è®©ä»–ä»¬ä¸€ç›´éƒ½å­˜æ´»ç€ï¼Œå½“é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡è¢«æ‰§è¡Œå®Œæ¯•ï¼Œå¹¶ä¸”åˆæ²¡æœ‰é‚£ä¹ˆå¤šæ–°ä»»åŠ¡è¢«æäº¤æ—¶ï¼Œâ€œä¸´æ—¶â€çº¿ç¨‹å°±éœ€è¦è¢«å›žæ”¶é”€æ¯ï¼Œåœ¨è¢«å›žæ”¶é”€æ¯ä¹‹å‰ç­‰å¾…çš„è¿™æ®µæ—¶é—´ï¼Œå°±æ˜¯éžæ ¸å¿ƒçº¿ç¨‹çš„å­˜æ´»æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ keepAliveTime å±žæ€§ã€‚ é‚£ä¹ˆä»€ä¹ˆæ˜¯â€œéžæ ¸å¿ƒçº¿ç¨‹â€å‘¢ï¼Ÿæ˜¯ä¸æ˜¯å…ˆåˆ›å»ºçš„çº¿ç¨‹å°±æ˜¯æ ¸å¿ƒçº¿ç¨‹ï¼ŒåŽåˆ›å»ºçš„å°±æ˜¯éžæ ¸å¿ƒçº¿ç¨‹å‘¢ï¼Ÿ å…¶å®žæ ¸å¿ƒçº¿ç¨‹è·Ÿåˆ›å»ºçš„å…ˆåŽæ²¡æœ‰å…³ç³»ï¼Œè€Œæ˜¯è·Ÿå·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°æœ‰å…³ï¼Œå¦‚æžœå½“å‰å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°å¤§äºŽæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„çº¿ç¨‹éƒ½å¯èƒ½æ˜¯â€œéžæ ¸å¿ƒçº¿ç¨‹â€ï¼Œéƒ½æœ‰è¢«å›žæ”¶çš„å¯èƒ½ã€‚ ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œäº†ä¸€ä¸ªä»»åŠ¡åŽï¼Œä¼šåŽ»é˜»å¡žé˜Ÿåˆ—é‡Œé¢å–æ–°çš„ä»»åŠ¡ï¼Œåœ¨å–åˆ°ä»»åŠ¡ä¹‹å‰å®ƒå°±æ˜¯ä¸€ä¸ªé—²ç½®çš„çº¿ç¨‹ã€‚ å–ä»»åŠ¡çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯é€šè¿‡ take() æ–¹æ³•ä¸€ç›´é˜»å¡žç›´åˆ°å–å‡ºä»»åŠ¡ï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡ poll(keepAliveTimeï¼ŒtimeUnit) æ–¹æ³•åœ¨ä¸€å®šæ—¶é—´å†…å–å‡ºä»»åŠ¡æˆ–è€…è¶…æ—¶ï¼Œå¦‚æžœè¶…æ—¶è¿™ä¸ªçº¿ç¨‹å°±ä¼šè¢«å›žæ”¶ï¼Œè¯·æ³¨æ„æ ¸å¿ƒçº¿ç¨‹ä¸€èˆ¬ä¸ä¼šè¢«å›žæ”¶ã€‚ é‚£ä¹ˆæ€Žä¹ˆä¿è¯æ ¸å¿ƒçº¿ç¨‹ä¸ä¼šè¢«å›žæ”¶å‘¢ï¼Ÿè¿˜æ˜¯è·Ÿå·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°æœ‰å…³ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹åœ¨å–ä»»åŠ¡çš„æ—¶å€™ï¼Œçº¿ç¨‹æ± ä¼šæ¯”è¾ƒå½“å‰çš„å·¥ä½œçº¿ç¨‹ä¸ªæ•°ä¸Žæ ¸å¿ƒçº¿ç¨‹æ•°ï¼š å¦‚æžœå·¥ä½œçº¿ç¨‹æ•°å°äºŽå½“å‰çš„æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œåˆ™ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•å–ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰è¶…æ—¶å›žæ”¶ï¼Œè¿™æ—¶æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹éƒ½æ˜¯â€œæ ¸å¿ƒçº¿ç¨‹â€ï¼Œä»–ä»¬ä¸ä¼šè¢«å›žæ”¶ï¼› å¦‚æžœå¤§äºŽæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œåˆ™ä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•å–ä»»åŠ¡ï¼Œä¸€æ—¦è¶…æ—¶å°±å›žæ”¶ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰ç»å¯¹çš„æ ¸å¿ƒçº¿ç¨‹ï¼Œåªè¦è¿™ä¸ªçº¿ç¨‹æ²¡æœ‰åœ¨å­˜æ´»æ—¶é—´å†…å–åˆ°ä»»åŠ¡åŽ»æ‰§è¡Œå°±ä¼šè¢«å›žæ”¶ã€‚ æ‰€ä»¥æ¯ä¸ªçº¿ç¨‹æƒ³è¦ä¿ä½è‡ªå·±â€œæ ¸å¿ƒçº¿ç¨‹â€çš„èº«ä»½ï¼Œå¿…é¡»å……åˆ†åŠªåŠ›ï¼Œå°½å¯èƒ½å¿«çš„èŽ·å–åˆ°ä»»åŠ¡åŽ»æ‰§è¡Œï¼Œè¿™æ ·æ‰èƒ½é€ƒé¿è¢«å›žæ”¶çš„å‘½è¿ã€‚ æ ¸å¿ƒçº¿ç¨‹ä¸€èˆ¬ä¸ä¼šè¢«å›žæ”¶ï¼Œä½†æ˜¯ä¹Ÿä¸æ˜¯ç»å¯¹çš„ï¼Œå¦‚æžœæˆ‘ä»¬è®¾ç½®äº†å…è®¸æ ¸å¿ƒçº¿ç¨‹è¶…æ—¶è¢«å›žæ”¶çš„è¯ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰æ ¸å¿ƒçº¿ç¨‹è¿™ç§è¯´æ³•äº†ï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½ä¼šé€šè¿‡ poll(keepAliveTime, timeUnit) æ¥èŽ·å–ä»»åŠ¡ï¼Œä¸€æ—¦è¶…æ—¶èŽ·å–ä¸åˆ°ä»»åŠ¡ï¼Œå°±ä¼šè¢«å›žæ”¶ï¼Œä¸€èˆ¬å¾ˆå°‘ä¼šè¿™æ ·æ¥ä½¿ç”¨ï¼Œé™¤éžè¯¥çº¿ç¨‹æ± éœ€è¦å¤„ç†çš„ä»»åŠ¡éžå¸¸å°‘ï¼Œå¹¶ä¸”é¢‘çŽ‡ä¹Ÿä¸é«˜ï¼Œä¸éœ€è¦å°†æ ¸å¿ƒçº¿ç¨‹ä¸€ç›´ç»´æŒç€ã€‚ unitçº¿ç¨‹ç©ºé—²æ—¶é—´å•ä½keepAliveTimeçš„å•ä½ã€‚TimeUnitï¼Œå¯è®¾ç½®æ—¶åˆ†ç§’æ¯«ç§’ workQueueä»»åŠ¡é˜Ÿåˆ—workQueueç”¨æ¥ä¿å­˜ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡çš„é˜»å¡žé˜Ÿåˆ—ï¼Œç­‰å¾…çš„ä»»åŠ¡å¿…é¡»å®žçŽ°RunnableæŽ¥å£ã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©å¦‚ä¸‹å‡ ç§ï¼š ArrayBlockingQueueï¼šåŸºäºŽæ•°ç»„ç»“æž„çš„æœ‰ç•Œé˜»å¡žé˜Ÿåˆ—ï¼ŒFIFOã€‚ LinkedBlockingQueueï¼šåŸºäºŽé“¾è¡¨ç»“æž„çš„æœ‰ç•Œé˜»å¡žé˜Ÿåˆ—ï¼ŒFIFOã€‚ SynchronousQueueï¼šä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡žé˜Ÿåˆ—ï¼Œæ¯ä¸ªæ’å…¥æ“ä½œéƒ½å¿…é¡»ç­‰å¾…ä¸€ä¸ªç§»å‡ºæ“ä½œï¼Œåä¹‹äº¦ç„¶ã€‚ PriorityBlockingQueueï¼šå…·æœ‰ä¼˜å…ˆç•Œåˆ«çš„é˜»å¡žé˜Ÿåˆ—ã€‚ ä¸Šé¢æˆ‘ä»¬è¯´äº†æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ï¼Œå¹¶ä¸”ä¹Ÿä»‹ç»äº†å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°æ˜¯åœ¨0å’Œæœ€å¤§çº¿ç¨‹æ•°ä¹‹é—´å˜åŒ–çš„ã€‚ä½†æ˜¯ä¸å¯èƒ½ä¸€ä¸‹å­å°±åˆ›å»ºäº†æ‰€æœ‰çº¿ç¨‹ï¼ŒæŠŠçº¿ç¨‹æ± è£…æ»¡ï¼Œè€Œæ˜¯æœ‰ä¸€ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š å½“çº¿ç¨‹æ± æŽ¥æ”¶åˆ°ä¸€ä¸ªä»»åŠ¡æ—¶ï¼Œå¦‚æžœå·¥ä½œçº¿ç¨‹æ•°æ²¡æœ‰è¾¾åˆ°corePoolSizeï¼Œé‚£ä¹ˆå°±ä¼šæ–°å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶ç»‘å®šè¯¥ä»»åŠ¡ï¼Œç›´åˆ°å·¥ä½œçº¿ç¨‹çš„æ•°é‡è¾¾åˆ° corePoolSize å‰éƒ½ä¸ä¼šé‡ç”¨ä¹‹å‰çš„çº¿ç¨‹ã€‚ å½“å·¥ä½œçº¿ç¨‹æ•°è¾¾åˆ° corePoolSize äº†ï¼Œè¿™æ—¶åˆæŽ¥æ”¶åˆ°æ–°ä»»åŠ¡æ—¶ï¼Œä¼šå°†ä»»åŠ¡å­˜æ”¾åœ¨ä¸€ä¸ªé˜»å¡žé˜Ÿåˆ—ä¸­ç­‰å¾…æ ¸å¿ƒçº¿ç¨‹åŽ»æ‰§è¡Œã€‚ä¸ºä»€ä¹ˆä¸ç›´æŽ¥åˆ›å»ºæ›´å¤šçš„çº¿ç¨‹æ¥æ‰§è¡Œæ–°ä»»åŠ¡å‘¢ï¼ŒåŽŸå› æ˜¯æ ¸å¿ƒçº¿ç¨‹ä¸­å¾ˆå¯èƒ½å·²ç»æœ‰çº¿ç¨‹æ‰§è¡Œå®Œè‡ªå·±çš„ä»»åŠ¡äº†ï¼Œæˆ–è€…æœ‰å…¶ä»–çº¿ç¨‹é©¬ä¸Šå°±èƒ½å¤„ç†å®Œå½“å‰çš„ä»»åŠ¡ï¼Œå¹¶ä¸”æŽ¥ä¸‹æ¥å°±èƒ½æŠ•å…¥åˆ°æ–°çš„ä»»åŠ¡ä¸­åŽ»ï¼Œæ‰€ä»¥é˜»å¡žé˜Ÿåˆ—æ˜¯ä¸€ç§ç¼“å†²çš„æœºåˆ¶ï¼Œç»™æ ¸å¿ƒçº¿ç¨‹ä¸€ä¸ªæœºä¼šè®©ä»–ä»¬å……åˆ†å‘æŒ¥è‡ªå·±çš„èƒ½åŠ›ã€‚å¦å¤–ä¸€ä¸ªå€¼å¾—è€ƒè™‘çš„åŽŸå› æ˜¯ï¼Œåˆ›å»ºçº¿ç¨‹æ¯•ç«Ÿæ˜¯æ¯”è¾ƒæ˜‚è´µçš„ï¼Œä¸å¯èƒ½ä¸€æœ‰ä»»åŠ¡è¦æ‰§è¡Œå°±åŽ»åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚ æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸ºçº¿ç¨‹æ± é…å¤‡ä¸€ä¸ªé˜»å¡žé˜Ÿåˆ—ï¼Œå³ä»»åŠ¡åˆ—è¡¨ï¼Œç”¨æ¥ä¸´æ—¶ç¼“å­˜ä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡å°†ç­‰å¾…å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œã€‚ threadFactoryçº¿ç¨‹å·¥åŽ‚æ—¢ç„¶æ˜¯çº¿ç¨‹æ± ï¼Œé‚£è‡ªç„¶å°‘ä¸äº†çº¿ç¨‹ï¼Œçº¿ç¨‹è¯¥å¦‚ä½•æ¥åˆ›å»ºå‘¢ï¼Ÿè¿™ä¸ªä»»åŠ¡å°±äº¤ç»™äº†çº¿ç¨‹å·¥åŽ‚ ThreadFactory æ¥å®Œæˆã€‚ è¯¥å¯¹è±¡å¯ä»¥é€šè¿‡Executors.defaultThreadFactory()ï¼Œå¦‚ä¸‹ï¼š 123public static ThreadFactory defaultThreadFactory() &#123; return new DefaultThreadFactory();&#125; è¿”å›žçš„DefaultThreadFactoryå¯¹è±¡ï¼Œæºç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526static class DefaultThreadFactory implements ThreadFactory &#123; private static final AtomicInteger poolNumber = new AtomicInteger(1); private final ThreadGroup group; private final AtomicInteger threadNumber = new AtomicInteger(1); private final String namePrefix; DefaultThreadFactory() &#123; SecurityManager s = System.getSecurityManager(); group = (s != null) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup(); namePrefix = \"pool-\" + poolNumber.getAndIncrement() + \"-thread-\"; &#125; public Thread newThread(Runnable r) &#123; Thread t = new Thread(group, r, namePrefix + threadNumber.getAndIncrement(), 0); if (t.isDaemon()) t.setDaemon(false); if (t.getPriority() != Thread.NORM_PRIORITY) t.setPriority(Thread.NORM_PRIORITY); return t; &#125; &#125; ThreadFactoryçš„é»˜è®¤å®žçŽ°DefaultThreadFactoryå°±æ˜¯æä¾›åˆ›å»ºçº¿ç¨‹åŠŸèƒ½çš„çº¿ç¨‹å·¥åŽ‚ã€‚ä»–æ˜¯é€šè¿‡newThread()æ–¹æ³•æä¾›åˆ›å»ºçº¿ç¨‹çš„åŠŸèƒ½ï¼ŒnewThread()æ–¹æ³•åˆ›å»ºçš„çº¿ç¨‹éƒ½æ˜¯â€œéžå®ˆæŠ¤çº¿ç¨‹â€è€Œä¸”â€œçº¿ç¨‹ä¼˜å…ˆçº§éƒ½æ˜¯Thread.NORM_PRIORITYâ€ã€‚ handleræ‹’ç»ç­–ç•¥è™½ç„¶æˆ‘ä»¬æœ‰äº†é˜»å¡žé˜Ÿåˆ—æ¥å¯¹ä»»åŠ¡è¿›è¡Œç¼“å­˜ï¼Œè¿™ä»Žä¸€å®šç¨‹åº¦ä¸Šä¸ºçº¿ç¨‹æ± çš„æ‰§è¡Œæä¾›äº†ç¼“å†²æœŸï¼Œä½†æ˜¯å¦‚æžœæ˜¯æœ‰ç•Œçš„é˜»å¡žé˜Ÿåˆ—ï¼Œé‚£å°±å­˜åœ¨é˜Ÿåˆ—æ»¡çš„æƒ…å†µï¼Œä¹Ÿå­˜åœ¨å·¥ä½œçº¿ç¨‹çš„æ•°æ®å·²ç»è¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°çš„æ—¶å€™ã€‚å¦‚æžœè¿™æ—¶å€™å†æœ‰æ–°çš„ä»»åŠ¡æäº¤æ—¶ï¼Œæ˜¾ç„¶çº¿ç¨‹æ± å·²ç»å¿ƒæœ‰ä½™è€ŒåŠ›ä¸è¶³äº†ï¼Œå› ä¸ºæ—¢æ²¡æœ‰ç©ºä½™çš„é˜Ÿåˆ—ç©ºé—´æ¥å­˜æ”¾è¯¥ä»»åŠ¡ï¼Œä¹Ÿæ— æ³•åˆ›å»ºæ–°çš„çº¿ç¨‹æ¥æ‰§è¡Œè¯¥ä»»åŠ¡äº†ï¼Œæ‰€ä»¥è¿™æ—¶æˆ‘ä»¬å°±éœ€è¦æœ‰ä¸€ç§æ‹’ç»ç­–ç•¥ï¼Œå³ handlerã€‚ RejectedExecutionHandlerï¼Œçº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥ã€‚æ‰€è°“æ‹’ç»ç­–ç•¥ï¼Œæ˜¯æŒ‡å°†ä»»åŠ¡æ·»åŠ åˆ°çº¿ç¨‹æ± ä¸­æ—¶ï¼Œçº¿ç¨‹æ± æ‹’ç»è¯¥ä»»åŠ¡æ‰€é‡‡å–çš„ç›¸åº”ç­–ç•¥ã€‚å½“å‘çº¿ç¨‹æ± ä¸­æäº¤ä»»åŠ¡æ—¶ï¼Œå¦‚æžœæ­¤æ—¶çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å·²ç»é¥±å’Œäº†ï¼Œè€Œä¸”é˜»å¡žé˜Ÿåˆ—ä¹Ÿå·²ç»æ»¡äº†ï¼Œåˆ™çº¿ç¨‹æ± ä¼šé€‰æ‹©ä¸€ç§æ‹’ç»ç­–ç•¥æ¥å¤„ç†è¯¥ä»»åŠ¡ã€‚ çº¿ç¨‹æ± æä¾›äº†å››ç§æ‹’ç»ç­–ç•¥ï¼š AbortPolicyï¼šç›´æŽ¥æŠ›å‡ºå¼‚å¸¸ï¼Œé»˜è®¤ç­–ç•¥ï¼› CallerRunsPolicyï¼šç”¨è°ƒç”¨è€…æ‰€åœ¨çš„çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼› DiscardOldestPolicyï¼šä¸¢å¼ƒé˜»å¡žé˜Ÿåˆ—ä¸­é æœ€å‰çš„ä»»åŠ¡ï¼Œå¹¶æ‰§è¡Œå½“å‰ä»»åŠ¡ï¼› DiscardPolicyï¼šç›´æŽ¥ä¸¢å¼ƒä»»åŠ¡ï¼› å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å®žçŽ°è‡ªå·±çš„æ‹’ç»ç­–ç•¥ï¼Œä¾‹å¦‚è®°å½•æ—¥å¿—ç­‰ç­‰ï¼Œå®žçŽ°RejectedExecutionHandleræŽ¥å£å³å¯ã€‚ çº¿ç¨‹æ± çš„å·¥ä½œæµç¨‹äº†è§£äº†çº¿ç¨‹æ± ä¸­æ‰€æœ‰çš„é‡è¦å±žæ€§ä¹‹åŽï¼ŒçŽ°åœ¨æˆ‘ä»¬éœ€è¦æ¥äº†è§£ä¸‹çº¿ç¨‹æ± çš„å·¥ä½œæµç¨‹äº†ã€‚ ä¸Šå›¾æ˜¯ä¸€å¼ çº¿ç¨‹æ± å·¥ä½œçš„ç²¾ç®€å›¾ï¼Œå®žé™…çš„è¿‡ç¨‹æ¯”è¿™ä¸ªè¦å¤æ‚çš„å¤šï¼Œä¸è¿‡è¿™äº›åº”è¯¥èƒ½å¤Ÿå®Œå…¨è¦†ç›–åˆ°çº¿ç¨‹æ± çš„æ•´ä¸ªå·¥ä½œæµç¨‹äº†ã€‚ æ•´ä¸ªè¿‡ç¨‹å¯ä»¥æ‹†åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š æäº¤ä»»åŠ¡ å½“å‘çº¿ç¨‹æ± æäº¤ä¸€ä¸ªæ–°çš„ä»»åŠ¡æ—¶ï¼Œçº¿ç¨‹æ± æœ‰ä¸‰ç§å¤„ç†æƒ…å†µï¼Œåˆ†åˆ«æ˜¯ï¼šåˆ›å»ºä¸€ä¸ªå·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œè¯¥ä»»åŠ¡ã€å°†ä»»åŠ¡åŠ å…¥é˜»å¡žé˜Ÿåˆ—ã€æ‹’ç»è¯¥ä»»åŠ¡ã€‚ æäº¤ä»»åŠ¡çš„è¿‡ç¨‹ä¹Ÿå¯ä»¥æ‹†åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š å½“å·¥ä½œçº¿ç¨‹æ•°å°äºŽæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ï¼Œç›´æŽ¥åˆ›å»ºæ–°çš„æ ¸å¿ƒå·¥ä½œçº¿ç¨‹ å½“å·¥ä½œçº¿ç¨‹æ•°ä¸å°äºŽæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ï¼Œå°±éœ€è¦å°è¯•å°†ä»»åŠ¡æ·»åŠ åˆ°é˜»å¡žé˜Ÿåˆ—ä¸­åŽ» å¦‚æžœèƒ½å¤ŸåŠ å…¥æˆåŠŸï¼Œè¯´æ˜Žé˜Ÿåˆ—è¿˜æ²¡æœ‰æ»¡ï¼Œé‚£ä¹ˆéœ€è¦åšä»¥ä¸‹çš„äºŒæ¬¡éªŒè¯æ¥ä¿è¯æ·»åŠ è¿›åŽ»çš„ä»»åŠ¡èƒ½å¤ŸæˆåŠŸè¢«æ‰§è¡Œ éªŒè¯å½“å‰çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€ï¼Œå¦‚æžœæ˜¯éžRUNNINGçŠ¶æ€ï¼Œåˆ™éœ€è¦å°†ä»»åŠ¡ä»Žé˜»å¡žé˜Ÿåˆ—ä¸­ç§»é™¤ï¼Œç„¶åŽæ‹’ç»è¯¥ä»»åŠ¡ éªŒè¯å½“å‰çº¿ç¨‹æ± ä¸­çš„å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°ï¼Œå¦‚æžœä¸º0ï¼Œåˆ™éœ€è¦ä¸»åŠ¨æ·»åŠ ä¸€ä¸ªç©ºå·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œåˆšåˆšæ·»åŠ åˆ°é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ å¦‚æžœåŠ å…¥å¤±è´¥ï¼Œåˆ™è¯´æ˜Žé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆè¿™æ—¶å°±éœ€è¦åˆ›å»ºæ–°çš„â€œä¸´æ—¶â€å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ å¦‚æžœåˆ›å»ºæˆåŠŸï¼Œåˆ™ç›´æŽ¥æ‰§è¡Œè¯¥ä»»åŠ¡ å¦‚æžœåˆ›å»ºå¤±è´¥ï¼Œåˆ™è¯´æ˜Žå·¥ä½œçº¿ç¨‹æ•°å·²ç»ç­‰äºŽæœ€å¤§çº¿ç¨‹æ•°äº†ï¼Œåˆ™åªèƒ½æ‹’ç»è¯¥ä»»åŠ¡äº† æ•´ä¸ªè¿‡ç¨‹å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ å›¾æ¥è¡¨ç¤ºï¼š åˆ›å»ºå·¥ä½œçº¿ç¨‹åˆ›å»ºå·¥ä½œçº¿ç¨‹éœ€è¦åšä¸€ç³»åˆ—çš„åˆ¤æ–­ï¼Œéœ€è¦ç¡®ä¿å½“å‰çº¿ç¨‹æ± å¯ä»¥åˆ›å»ºæ–°çš„çº¿ç¨‹ä¹‹åŽï¼Œæ‰èƒ½åˆ›å»ºã€‚ é¦–å…ˆï¼Œå½“çº¿ç¨‹æ± çš„çŠ¶æ€æ˜¯ SHUTDOWN æˆ–è€… STOP æ—¶ï¼Œåˆ™ä¸èƒ½åˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚ å¦å¤–ï¼Œå½“çº¿ç¨‹å·¥åŽ‚åˆ›å»ºçº¿ç¨‹å¤±è´¥æ—¶ï¼Œä¹Ÿä¸èƒ½åˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚ è¿˜æœ‰å°±æ˜¯å½“å‰å·¥ä½œçº¿ç¨‹çš„æ•°é‡ä¸Žæ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æžœå‰è€…å¤§äºŽåŽè€…çš„è¯ï¼Œä¹Ÿä¸å…è®¸åˆ›å»ºã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œä¼šå°è¯•é€šè¿‡ CAS æ¥è‡ªå¢žå·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°ï¼Œå¦‚æžœè‡ªå¢žæˆåŠŸäº†ï¼Œåˆ™ä¼šåˆ›å»ºæ–°çš„å·¥ä½œçº¿ç¨‹ï¼Œå³ Worker å¯¹è±¡ã€‚ ç„¶åŽåŠ é”è¿›è¡ŒäºŒæ¬¡éªŒè¯æ˜¯å¦èƒ½å¤Ÿåˆ›å»ºå·¥ä½œçº¿ç¨‹ï¼Œæœ€åŽå¦‚æžœåˆ›å»ºæˆåŠŸï¼Œåˆ™ä¼šå¯åŠ¨è¯¥å·¥ä½œçº¿ç¨‹ã€‚ å¯åŠ¨å·¥ä½œçº¿ç¨‹å½“å·¥ä½œçº¿ç¨‹åˆ›å»ºæˆåŠŸåŽï¼Œä¹Ÿå°±æ˜¯ Worker å¯¹è±¡å·²ç»åˆ›å»ºå¥½äº†ï¼Œè¿™æ—¶å°±éœ€è¦å¯åŠ¨è¯¥å·¥ä½œçº¿ç¨‹ï¼Œè®©çº¿ç¨‹å¼€å§‹å¹²æ´»äº†ï¼ŒWorker å¯¹è±¡ä¸­å…³è”ç€ä¸€ä¸ª Threadï¼Œæ‰€ä»¥è¦å¯åŠ¨å·¥ä½œçº¿ç¨‹çš„è¯ï¼Œåªè¦é€šè¿‡ worker.thread.start() æ¥å¯åŠ¨è¯¥çº¿ç¨‹å³å¯ã€‚ å¯åŠ¨å®Œäº†ä¹‹åŽï¼Œå°±ä¼šæ‰§è¡Œ Worker å¯¹è±¡çš„ run æ–¹æ³•ï¼Œå› ä¸º Worker å®žçŽ°äº† Runnable æŽ¥å£ï¼Œæ‰€ä»¥æœ¬è´¨ä¸Š Worker ä¹Ÿæ˜¯ä¸€ä¸ªçº¿ç¨‹ã€‚ é€šè¿‡çº¿ç¨‹ start å¼€å¯ä¹‹åŽå°±ä¼šè°ƒç”¨åˆ° Runnable çš„ run æ–¹æ³•ï¼Œåœ¨ worker å¯¹è±¡çš„ run æ–¹æ³•ä¸­ï¼Œè°ƒç”¨äº† runWorker(this) æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯æŠŠå½“å‰å¯¹è±¡ä¼ é€’ç»™äº† runWorker æ–¹æ³•ï¼Œè®©ä»–æ¥æ‰§è¡Œã€‚ èŽ·å–ä»»åŠ¡å¹¶æ‰§è¡Œåœ¨ runWorker æ–¹æ³•è¢«è°ƒç”¨ä¹‹åŽï¼Œå°±æ˜¯æ‰§è¡Œå…·ä½“çš„ä»»åŠ¡äº†ï¼Œé¦–å…ˆéœ€è¦æ‹¿åˆ°ä¸€ä¸ªå¯ä»¥æ‰§è¡Œçš„ä»»åŠ¡ï¼Œè€Œ Worker å¯¹è±¡ä¸­é»˜è®¤ç»‘å®šäº†ä¸€ä¸ªä»»åŠ¡ï¼Œå¦‚æžœè¯¥ä»»åŠ¡ä¸ä¸ºç©ºçš„è¯ï¼Œé‚£ä¹ˆå°±æ˜¯ç›´æŽ¥æ‰§è¡Œã€‚ æ‰§è¡Œå®Œäº†ä¹‹åŽï¼Œå°±ä¼šåŽ»é˜»å¡žé˜Ÿåˆ—ä¸­èŽ·å–ä»»åŠ¡æ¥æ‰§è¡Œï¼Œè€ŒèŽ·å–ä»»åŠ¡çš„è¿‡ç¨‹ï¼Œéœ€è¦è€ƒè™‘å½“å‰å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°ã€‚ å¦‚æžœå·¥ä½œçº¿ç¨‹æ•°å¤§äºŽæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆå°±éœ€è¦é€šè¿‡ poll æ¥èŽ·å–ï¼Œå› ä¸ºè¿™æ—¶éœ€è¦å¯¹é—²ç½®çš„çº¿ç¨‹è¿›è¡Œå›žæ”¶ï¼› å¦‚æžœå·¥ä½œçº¿ç¨‹æ•°å°äºŽç­‰äºŽæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡ take æ¥èŽ·å–äº†ï¼Œå› æ­¤è¿™æ—¶æ‰€æœ‰çš„çº¿ç¨‹éƒ½æ˜¯æ ¸å¿ƒçº¿ç¨‹ï¼Œä¸éœ€è¦è¿›è¡Œå›žæ”¶ï¼Œå‰ææ˜¯æ²¡æœ‰è®¾ç½® allowCoreThreadTimeOut æœ¬ç¯‡åŸºæœ¬ç¬”è€…éƒ½æ˜¯å¯¹çº¿ç¨‹æ± çš„åŸºæœ¬æ¨¡åž‹ä»¥åŠå†…éƒ¨æ¦‚å¿µè¿›è¡Œåˆ†æžï¼Œè¯´å®žè¯ï¼Œå†™å®Œä¹‹åŽè¯»äº†ä¸€éï¼Œæ¯”è¾ƒæŠ½è±¡éš¾ç†è§£ï¼Œä¸‹ç¯‡æˆ‘å°†ä»¥JDKæºç è¿›è¡Œå¯¼è¯»ï¼Œç»§ç»­æŽ¢ç©¶çº¿ç¨‹æ± çš„å·¥ä½œåŽŸç†ï¼Œæ•¬è¯·æœŸå¾…ã€‚ã€‚ã€‚ å‚è€ƒèµ„æ–™ ã€æ­»ç£•Javaå¹¶å‘ã€‘â€”â€“J.U.Cä¹‹çº¿ç¨‹æ± ï¼šThreadPoolExecutor èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ ä¸‹ä¸€ç¯‡ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• çº¿ç¨‹æ± çš„ç”Ÿå‘½å‘¨æœŸçº¿ç¨‹æ± çš„å†…éƒ¨æž„é€ corePoolSizeæ ¸å¿ƒçº¿ç¨‹æ•°maximumPoolSizeæœ€å¤§çº¿ç¨‹æ•°keepAliveTimeçº¿ç¨‹ç©ºé—²æ—¶é—´unitçº¿ç¨‹ç©ºé—²æ—¶é—´å•ä½workQueueä»»åŠ¡é˜Ÿåˆ—threadFactoryçº¿ç¨‹å·¥åŽ‚handleræ‹’ç»ç­–ç•¥çº¿ç¨‹æ± çš„å·¥ä½œæµç¨‹æäº¤ä»»åŠ¡åˆ›å»ºå·¥ä½œçº¿ç¨‹å¯åŠ¨å·¥ä½œçº¿ç¨‹èŽ·å–ä»»åŠ¡å¹¶æ‰§è¡Œå‚è€ƒèµ„æ–™ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:20.743Z","updated":"2019-11-27T15:22:20.743Z","comments":true,"path":"public/css/bootstrap.min.css","permalink":"http://ltyeamin.github.io/public/css/bootstrap.min.css","excerpt":"","text":"/*! * Bootstrap v3.3.7 (http://getbootstrap.com) * Copyright 2011-2016 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE) *//*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */.breadcrumb,.carousel-indicators,.dropdown-menu,.media-list,.nav,.pager{list-style:none}.label,sub,sup{vertical-align:baseline}hr,img{border:0}body,figure{margin:0}.btn-group>.btn-group,.btn-toolbar .btn,.btn-toolbar .btn-group,.btn-toolbar .input-group,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.dropdown-menu{float:left}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse,.pre-scrollable{max-height:340px}html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}b,optgroup,strong{font-weight:700}dfn{font-style:italic}h1{margin:.67em 0}mark{color:#000;background:#ff0}sub,sup{position:relative;font-size:75%;line-height:0}sup{top:-.5em}sub{bottom:-.25em}img{vertical-align:middle}svg:not(:root){overflow:hidden}hr{height:0;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}*,:after,:before,input[type=checkbox],input[type=radio]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box}pre,textarea{overflow:auto}code,kbd,pre,samp{font-size:1em}button,input,optgroup,select,textarea{margin:0;font:inherit;color:inherit}.glyphicon,.popover,.tooltip,address{font-style:normal}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-spacing:0;border-collapse:collapse}td,th{padding:0}/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */@media print{blockquote,img,pre,tr{page-break-inside:avoid}*,:after,:before{color:#000!important;text-shadow:none!important;background:0 0!important;-webkit-box-shadow:none!important;box-shadow:none!important}a,a:visited{text-decoration:underline}a[href]:after{content:\" (\" attr(href) \")\"}abbr[title]:after{content:\" (\" attr(title) \")\"}a[href^=\"javascript:\"]:after,a[href^=\"#\"]:after{content:\"\"}blockquote,pre{border:1px solid #999}thead{display:table-header-group}img{max-width:100%!important}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}.navbar{display:none}.btn>.caret,.dropup>.btn>.caret{border-top-color:#000!important}.label{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #ddd!important}}.btn,.btn-danger.active,.btn-danger:active,.btn-default.active,.btn-default:active,.btn-info.active,.btn-info:active,.btn-primary.active,.btn-primary:active,.btn-success.active,.btn-success:active,.btn-warning.active,.btn-warning:active,.btn.active,.btn:active,.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover,.form-control,.navbar-toggle,.open>.dropdown-toggle.btn-danger,.open>.dropdown-toggle.btn-default,.open>.dropdown-toggle.btn-info,.open>.dropdown-toggle.btn-primary,.open>.dropdown-toggle.btn-success,.open>.dropdown-toggle.btn-warning{background-image:none}.dropdown-menu,.modal-content{-webkit-background-clip:padding-box}.img-thumbnail,body{background-color:#fff}@font-face{font-family:'Glyphicons Halflings';src:url(../fonts/glyphicons-halflings-regular.eot);src:url(../fonts/glyphicons-halflings-regular.eot?#iefix) format('embedded-opentype'),url(../fonts/glyphicons-halflings-regular.woff2) format('woff2'),url(../fonts/glyphicons-halflings-regular.woff) format('woff'),url(../fonts/glyphicons-halflings-regular.ttf) format('truetype'),url(../fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular) format('svg')}.glyphicon{position:relative;top:1px;display:inline-block;font-family:'Glyphicons Halflings';font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glyphicon-asterisk:before{content:\"\\002a\"}.glyphicon-plus:before{content:\"\\002b\"}.glyphicon-eur:before,.glyphicon-euro:before{content:\"\\20ac\"}.glyphicon-minus:before{content:\"\\2212\"}.glyphicon-cloud:before{content:\"\\2601\"}.glyphicon-envelope:before{content:\"\\2709\"}.glyphicon-pencil:before{content:\"\\270f\"}.glyphicon-glass:before{content:\"\\e001\"}.glyphicon-music:before{content:\"\\e002\"}.glyphicon-search:before{content:\"\\e003\"}.glyphicon-heart:before{content:\"\\e005\"}.glyphicon-star:before{content:\"\\e006\"}.glyphicon-star-empty:before{content:\"\\e007\"}.glyphicon-user:before{content:\"\\e008\"}.glyphicon-film:before{content:\"\\e009\"}.glyphicon-th-large:before{content:\"\\e010\"}.glyphicon-th:before{content:\"\\e011\"}.glyphicon-th-list:before{content:\"\\e012\"}.glyphicon-ok:before{content:\"\\e013\"}.glyphicon-remove:before{content:\"\\e014\"}.glyphicon-zoom-in:before{content:\"\\e015\"}.glyphicon-zoom-out:before{content:\"\\e016\"}.glyphicon-off:before{content:\"\\e017\"}.glyphicon-signal:before{content:\"\\e018\"}.glyphicon-cog:before{content:\"\\e019\"}.glyphicon-trash:before{content:\"\\e020\"}.glyphicon-home:before{content:\"\\e021\"}.glyphicon-file:before{content:\"\\e022\"}.glyphicon-time:before{content:\"\\e023\"}.glyphicon-road:before{content:\"\\e024\"}.glyphicon-download-alt:before{content:\"\\e025\"}.glyphicon-download:before{content:\"\\e026\"}.glyphicon-upload:before{content:\"\\e027\"}.glyphicon-inbox:before{content:\"\\e028\"}.glyphicon-play-circle:before{content:\"\\e029\"}.glyphicon-repeat:before{content:\"\\e030\"}.glyphicon-refresh:before{content:\"\\e031\"}.glyphicon-list-alt:before{content:\"\\e032\"}.glyphicon-lock:before{content:\"\\e033\"}.glyphicon-flag:before{content:\"\\e034\"}.glyphicon-headphones:before{content:\"\\e035\"}.glyphicon-volume-off:before{content:\"\\e036\"}.glyphicon-volume-down:before{content:\"\\e037\"}.glyphicon-volume-up:before{content:\"\\e038\"}.glyphicon-qrcode:before{content:\"\\e039\"}.glyphicon-barcode:before{content:\"\\e040\"}.glyphicon-tag:before{content:\"\\e041\"}.glyphicon-tags:before{content:\"\\e042\"}.glyphicon-book:before{content:\"\\e043\"}.glyphicon-bookmark:before{content:\"\\e044\"}.glyphicon-print:before{content:\"\\e045\"}.glyphicon-camera:before{content:\"\\e046\"}.glyphicon-font:before{content:\"\\e047\"}.glyphicon-bold:before{content:\"\\e048\"}.glyphicon-italic:before{content:\"\\e049\"}.glyphicon-text-height:before{content:\"\\e050\"}.glyphicon-text-width:before{content:\"\\e051\"}.glyphicon-align-left:before{content:\"\\e052\"}.glyphicon-align-center:before{content:\"\\e053\"}.glyphicon-align-right:before{content:\"\\e054\"}.glyphicon-align-justify:before{content:\"\\e055\"}.glyphicon-list:before{content:\"\\e056\"}.glyphicon-indent-left:before{content:\"\\e057\"}.glyphicon-indent-right:before{content:\"\\e058\"}.glyphicon-facetime-video:before{content:\"\\e059\"}.glyphicon-picture:before{content:\"\\e060\"}.glyphicon-map-marker:before{content:\"\\e062\"}.glyphicon-adjust:before{content:\"\\e063\"}.glyphicon-tint:before{content:\"\\e064\"}.glyphicon-edit:before{content:\"\\e065\"}.glyphicon-share:before{content:\"\\e066\"}.glyphicon-check:before{content:\"\\e067\"}.glyphicon-move:before{content:\"\\e068\"}.glyphicon-step-backward:before{content:\"\\e069\"}.glyphicon-fast-backward:before{content:\"\\e070\"}.glyphicon-backward:before{content:\"\\e071\"}.glyphicon-play:before{content:\"\\e072\"}.glyphicon-pause:before{content:\"\\e073\"}.glyphicon-stop:before{content:\"\\e074\"}.glyphicon-forward:before{content:\"\\e075\"}.glyphicon-fast-forward:before{content:\"\\e076\"}.glyphicon-step-forward:before{content:\"\\e077\"}.glyphicon-eject:before{content:\"\\e078\"}.glyphicon-chevron-left:before{content:\"\\e079\"}.glyphicon-chevron-right:before{content:\"\\e080\"}.glyphicon-plus-sign:before{content:\"\\e081\"}.glyphicon-minus-sign:before{content:\"\\e082\"}.glyphicon-remove-sign:before{content:\"\\e083\"}.glyphicon-ok-sign:before{content:\"\\e084\"}.glyphicon-question-sign:before{content:\"\\e085\"}.glyphicon-info-sign:before{content:\"\\e086\"}.glyphicon-screenshot:before{content:\"\\e087\"}.glyphicon-remove-circle:before{content:\"\\e088\"}.glyphicon-ok-circle:before{content:\"\\e089\"}.glyphicon-ban-circle:before{content:\"\\e090\"}.glyphicon-arrow-left:before{content:\"\\e091\"}.glyphicon-arrow-right:before{content:\"\\e092\"}.glyphicon-arrow-up:before{content:\"\\e093\"}.glyphicon-arrow-down:before{content:\"\\e094\"}.glyphicon-share-alt:before{content:\"\\e095\"}.glyphicon-resize-full:before{content:\"\\e096\"}.glyphicon-resize-small:before{content:\"\\e097\"}.glyphicon-exclamation-sign:before{content:\"\\e101\"}.glyphicon-gift:before{content:\"\\e102\"}.glyphicon-leaf:before{content:\"\\e103\"}.glyphicon-fire:before{content:\"\\e104\"}.glyphicon-eye-open:before{content:\"\\e105\"}.glyphicon-eye-close:before{content:\"\\e106\"}.glyphicon-warning-sign:before{content:\"\\e107\"}.glyphicon-plane:before{content:\"\\e108\"}.glyphicon-calendar:before{content:\"\\e109\"}.glyphicon-random:before{content:\"\\e110\"}.glyphicon-comment:before{content:\"\\e111\"}.glyphicon-magnet:before{content:\"\\e112\"}.glyphicon-chevron-up:before{content:\"\\e113\"}.glyphicon-chevron-down:before{content:\"\\e114\"}.glyphicon-retweet:before{content:\"\\e115\"}.glyphicon-shopping-cart:before{content:\"\\e116\"}.glyphicon-folder-close:before{content:\"\\e117\"}.glyphicon-folder-open:before{content:\"\\e118\"}.glyphicon-resize-vertical:before{content:\"\\e119\"}.glyphicon-resize-horizontal:before{content:\"\\e120\"}.glyphicon-hdd:before{content:\"\\e121\"}.glyphicon-bullhorn:before{content:\"\\e122\"}.glyphicon-bell:before{content:\"\\e123\"}.glyphicon-certificate:before{content:\"\\e124\"}.glyphicon-thumbs-up:before{content:\"\\e125\"}.glyphicon-thumbs-down:before{content:\"\\e126\"}.glyphicon-hand-right:before{content:\"\\e127\"}.glyphicon-hand-left:before{content:\"\\e128\"}.glyphicon-hand-up:before{content:\"\\e129\"}.glyphicon-hand-down:before{content:\"\\e130\"}.glyphicon-circle-arrow-right:before{content:\"\\e131\"}.glyphicon-circle-arrow-left:before{content:\"\\e132\"}.glyphicon-circle-arrow-up:before{content:\"\\e133\"}.glyphicon-circle-arrow-down:before{content:\"\\e134\"}.glyphicon-globe:before{content:\"\\e135\"}.glyphicon-wrench:before{content:\"\\e136\"}.glyphicon-tasks:before{content:\"\\e137\"}.glyphicon-filter:before{content:\"\\e138\"}.glyphicon-briefcase:before{content:\"\\e139\"}.glyphicon-fullscreen:before{content:\"\\e140\"}.glyphicon-dashboard:before{content:\"\\e141\"}.glyphicon-paperclip:before{content:\"\\e142\"}.glyphicon-heart-empty:before{content:\"\\e143\"}.glyphicon-link:before{content:\"\\e144\"}.glyphicon-phone:before{content:\"\\e145\"}.glyphicon-pushpin:before{content:\"\\e146\"}.glyphicon-usd:before{content:\"\\e148\"}.glyphicon-gbp:before{content:\"\\e149\"}.glyphicon-sort:before{content:\"\\e150\"}.glyphicon-sort-by-alphabet:before{content:\"\\e151\"}.glyphicon-sort-by-alphabet-alt:before{content:\"\\e152\"}.glyphicon-sort-by-order:before{content:\"\\e153\"}.glyphicon-sort-by-order-alt:before{content:\"\\e154\"}.glyphicon-sort-by-attributes:before{content:\"\\e155\"}.glyphicon-sort-by-attributes-alt:before{content:\"\\e156\"}.glyphicon-unchecked:before{content:\"\\e157\"}.glyphicon-expand:before{content:\"\\e158\"}.glyphicon-collapse-down:before{content:\"\\e159\"}.glyphicon-collapse-up:before{content:\"\\e160\"}.glyphicon-log-in:before{content:\"\\e161\"}.glyphicon-flash:before{content:\"\\e162\"}.glyphicon-log-out:before{content:\"\\e163\"}.glyphicon-new-window:before{content:\"\\e164\"}.glyphicon-record:before{content:\"\\e165\"}.glyphicon-save:before{content:\"\\e166\"}.glyphicon-open:before{content:\"\\e167\"}.glyphicon-saved:before{content:\"\\e168\"}.glyphicon-import:before{content:\"\\e169\"}.glyphicon-export:before{content:\"\\e170\"}.glyphicon-send:before{content:\"\\e171\"}.glyphicon-floppy-disk:before{content:\"\\e172\"}.glyphicon-floppy-saved:before{content:\"\\e173\"}.glyphicon-floppy-remove:before{content:\"\\e174\"}.glyphicon-floppy-save:before{content:\"\\e175\"}.glyphicon-floppy-open:before{content:\"\\e176\"}.glyphicon-credit-card:before{content:\"\\e177\"}.glyphicon-transfer:before{content:\"\\e178\"}.glyphicon-cutlery:before{content:\"\\e179\"}.glyphicon-header:before{content:\"\\e180\"}.glyphicon-compressed:before{content:\"\\e181\"}.glyphicon-earphone:before{content:\"\\e182\"}.glyphicon-phone-alt:before{content:\"\\e183\"}.glyphicon-tower:before{content:\"\\e184\"}.glyphicon-stats:before{content:\"\\e185\"}.glyphicon-sd-video:before{content:\"\\e186\"}.glyphicon-hd-video:before{content:\"\\e187\"}.glyphicon-subtitles:before{content:\"\\e188\"}.glyphicon-sound-stereo:before{content:\"\\e189\"}.glyphicon-sound-dolby:before{content:\"\\e190\"}.glyphicon-sound-5-1:before{content:\"\\e191\"}.glyphicon-sound-6-1:before{content:\"\\e192\"}.glyphicon-sound-7-1:before{content:\"\\e193\"}.glyphicon-copyright-mark:before{content:\"\\e194\"}.glyphicon-registration-mark:before{content:\"\\e195\"}.glyphicon-cloud-download:before{content:\"\\e197\"}.glyphicon-cloud-upload:before{content:\"\\e198\"}.glyphicon-tree-conifer:before{content:\"\\e199\"}.glyphicon-tree-deciduous:before{content:\"\\e200\"}.glyphicon-cd:before{content:\"\\e201\"}.glyphicon-save-file:before{content:\"\\e202\"}.glyphicon-open-file:before{content:\"\\e203\"}.glyphicon-level-up:before{content:\"\\e204\"}.glyphicon-copy:before{content:\"\\e205\"}.glyphicon-paste:before{content:\"\\e206\"}.glyphicon-alert:before{content:\"\\e209\"}.glyphicon-equalizer:before{content:\"\\e210\"}.glyphicon-king:before{content:\"\\e211\"}.glyphicon-queen:before{content:\"\\e212\"}.glyphicon-pawn:before{content:\"\\e213\"}.glyphicon-bishop:before{content:\"\\e214\"}.glyphicon-knight:before{content:\"\\e215\"}.glyphicon-baby-formula:before{content:\"\\e216\"}.glyphicon-tent:before{content:\"\\26fa\"}.glyphicon-blackboard:before{content:\"\\e218\"}.glyphicon-bed:before{content:\"\\e219\"}.glyphicon-apple:before{content:\"\\f8ff\"}.glyphicon-erase:before{content:\"\\e221\"}.glyphicon-hourglass:before{content:\"\\231b\"}.glyphicon-lamp:before{content:\"\\e223\"}.glyphicon-duplicate:before{content:\"\\e224\"}.glyphicon-piggy-bank:before{content:\"\\e225\"}.glyphicon-scissors:before{content:\"\\e226\"}.glyphicon-bitcoin:before,.glyphicon-btc:before,.glyphicon-xbt:before{content:\"\\e227\"}.glyphicon-jpy:before,.glyphicon-yen:before{content:\"\\00a5\"}.glyphicon-rub:before,.glyphicon-ruble:before{content:\"\\20bd\"}.glyphicon-scale:before{content:\"\\e230\"}.glyphicon-ice-lolly:before{content:\"\\e231\"}.glyphicon-ice-lolly-tasted:before{content:\"\\e232\"}.glyphicon-education:before{content:\"\\e233\"}.glyphicon-option-horizontal:before{content:\"\\e234\"}.glyphicon-option-vertical:before{content:\"\\e235\"}.glyphicon-menu-hamburger:before{content:\"\\e236\"}.glyphicon-modal-window:before{content:\"\\e237\"}.glyphicon-oil:before{content:\"\\e238\"}.glyphicon-grain:before{content:\"\\e239\"}.glyphicon-sunglasses:before{content:\"\\e240\"}.glyphicon-text-size:before{content:\"\\e241\"}.glyphicon-text-color:before{content:\"\\e242\"}.glyphicon-text-background:before{content:\"\\e243\"}.glyphicon-object-align-top:before{content:\"\\e244\"}.glyphicon-object-align-bottom:before{content:\"\\e245\"}.glyphicon-object-align-horizontal:before{content:\"\\e246\"}.glyphicon-object-align-left:before{content:\"\\e247\"}.glyphicon-object-align-vertical:before{content:\"\\e248\"}.glyphicon-object-align-right:before{content:\"\\e249\"}.glyphicon-triangle-right:before{content:\"\\e250\"}.glyphicon-triangle-left:before{content:\"\\e251\"}.glyphicon-triangle-bottom:before{content:\"\\e252\"}.glyphicon-triangle-top:before{content:\"\\e253\"}.glyphicon-console:before{content:\"\\e254\"}.glyphicon-superscript:before{content:\"\\e255\"}.glyphicon-subscript:before{content:\"\\e256\"}.glyphicon-menu-left:before{content:\"\\e257\"}.glyphicon-menu-right:before{content:\"\\e258\"}.glyphicon-menu-down:before{content:\"\\e259\"}.glyphicon-menu-up:before{content:\"\\e260\"}*,:after,:before{box-sizing:border-box}html{font-size:10px;-webkit-tap-highlight-color:transparent}body{font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143;color:#333}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:focus,a:hover{color:#23527c;text-decoration:underline}a:focus{outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}.carousel-inner>.item>a>img,.carousel-inner>.item>img,.img-responsive,.thumbnail a>img,.thumbnail>img{display:block;max-width:100%;height:auto}.img-rounded{border-radius:6px}.img-thumbnail{display:inline-block;max-width:100%;height:auto;padding:4px;line-height:1.42857143;border:1px solid #ddd;border-radius:4px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.img-circle{border-radius:50%}hr{margin-top:20px;margin-bottom:20px;border-top:1px solid #eee}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}[role=button]{cursor:pointer}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-weight:400;line-height:1;color:#777}.h1,.h2,.h3,h1,h2,h3{margin-top:20px;margin-bottom:10px}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small{font-size:65%}.h4,.h5,.h6,h4,h5,h6{margin-top:10px;margin-bottom:10px}.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-size:75%}.h1,h1{font-size:36px}.h2,h2{font-size:30px}.h3,h3{font-size:24px}.h4,h4{font-size:18px}.h5,h5{font-size:14px}.h6,h6{font-size:12px}p{margin:0 0 10px}.lead{margin-bottom:20px;font-size:16px;font-weight:300;line-height:1.4}.badge,.label,dt,kbd kbd,label{font-weight:700}address,blockquote .small,blockquote footer,blockquote small,dd,dt,pre{line-height:1.42857143}@media (min-width:768px){.lead{font-size:21px}}.small,small{font-size:85%}.mark,mark{padding:.2em;background-color:#fcf8e3}.list-inline,.list-unstyled{padding-left:0;list-style:none}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-muted{color:#777}.text-primary{color:#337ab7}a.text-primary:focus,a.text-primary:hover{color:#286090}.text-success{color:#3c763d}a.text-success:focus,a.text-success:hover{color:#2b542c}.text-info{color:#31708f}a.text-info:focus,a.text-info:hover{color:#245269}.text-warning{color:#8a6d3b}a.text-warning:focus,a.text-warning:hover{color:#66512c}.text-danger{color:#a94442}a.text-danger:focus,a.text-danger:hover{color:#843534}.bg-primary{color:#fff;background-color:#337ab7}a.bg-primary:focus,a.bg-primary:hover{background-color:#286090}.bg-success{background-color:#dff0d8}a.bg-success:focus,a.bg-success:hover{background-color:#c1e2b3}.bg-info{background-color:#d9edf7}a.bg-info:focus,a.bg-info:hover{background-color:#afd9ee}.bg-warning{background-color:#fcf8e3}a.bg-warning:focus,a.bg-warning:hover{background-color:#f7ecb5}.bg-danger{background-color:#f2dede}a.bg-danger:focus,a.bg-danger:hover{background-color:#e4b9b9}pre code,table{background-color:transparent}.page-header{padding-bottom:9px;margin:40px 0 20px;border-bottom:1px solid #eee}dl,ol,ul{margin-top:0}blockquote ol:last-child,blockquote p:last-child,blockquote ul:last-child,ol ol,ol ul,ul ol,ul ul{margin-bottom:0}address,dl{margin-bottom:20px}ol,ul{margin-bottom:10px}.list-inline{margin-left:-5px}.list-inline>li{display:inline-block;padding-right:5px;padding-left:5px}dd{margin-left:0}@media (min-width:768px){.dl-horizontal dt{float:left;width:160px;overflow:hidden;clear:left;text-align:right;text-overflow:ellipsis;white-space:nowrap}.dl-horizontal dd{margin-left:180px}.container{width:750px}}abbr[data-original-title],abbr[title]{cursor:help;border-bottom:1px dotted #777}.initialism{font-size:90%;text-transform:uppercase}blockquote{padding:10px 20px;margin:0 0 20px;font-size:17.5px;border-left:5px solid #eee}blockquote .small,blockquote footer,blockquote small{display:block;font-size:80%;color:#777}legend,pre{display:block;color:#333}blockquote .small:before,blockquote footer:before,blockquote small:before{content:'\\2014 \\00A0'}.blockquote-reverse,blockquote.pull-right{padding-right:15px;padding-left:0;text-align:right;border-right:5px solid #eee;border-left:0}code,kbd{padding:2px 4px;font-size:90%}caption,th{text-align:left}.blockquote-reverse .small:before,.blockquote-reverse footer:before,.blockquote-reverse small:before,blockquote.pull-right .small:before,blockquote.pull-right footer:before,blockquote.pull-right small:before{content:''}.blockquote-reverse .small:after,.blockquote-reverse footer:after,.blockquote-reverse small:after,blockquote.pull-right .small:after,blockquote.pull-right footer:after,blockquote.pull-right small:after{content:'\\00A0 \\2014'}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,\"Courier New\",monospace}code{color:#c7254e;background-color:#f9f2f4;border-radius:4px}kbd{color:#fff;background-color:#333;border-radius:3px;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.25);box-shadow:inset 0 -1px 0 rgba(0,0,0,.25)}kbd kbd{padding:0;font-size:100%;-webkit-box-shadow:none;box-shadow:none}pre{padding:9.5px;margin:0 0 10px;font-size:13px;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;border-radius:0}.container,.container-fluid{margin-right:auto;margin-left:auto;padding-right:15px;padding-left:15px}.pre-scrollable{overflow-y:scroll}@media (min-width:992px){.container{width:970px}}@media (min-width:1200px){.container{width:1170px}}.row{margin-right:-15px;margin-left:-15px}.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{position:relative;min-height:1px;padding-right:15px;padding-left:15px}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.col-xs-pull-12{right:100%}.col-xs-pull-11{right:91.66666667%}.col-xs-pull-10{right:83.33333333%}.col-xs-pull-9{right:75%}.col-xs-pull-8{right:66.66666667%}.col-xs-pull-7{right:58.33333333%}.col-xs-pull-6{right:50%}.col-xs-pull-5{right:41.66666667%}.col-xs-pull-4{right:33.33333333%}.col-xs-pull-3{right:25%}.col-xs-pull-2{right:16.66666667%}.col-xs-pull-1{right:8.33333333%}.col-xs-pull-0{right:auto}.col-xs-push-12{left:100%}.col-xs-push-11{left:91.66666667%}.col-xs-push-10{left:83.33333333%}.col-xs-push-9{left:75%}.col-xs-push-8{left:66.66666667%}.col-xs-push-7{left:58.33333333%}.col-xs-push-6{left:50%}.col-xs-push-5{left:41.66666667%}.col-xs-push-4{left:33.33333333%}.col-xs-push-3{left:25%}.col-xs-push-2{left:16.66666667%}.col-xs-push-1{left:8.33333333%}.col-xs-push-0{left:auto}.col-xs-offset-12{margin-left:100%}.col-xs-offset-11{margin-left:91.66666667%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-0{margin-left:0}@media (min-width:768px){.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0}}@media (min-width:992px){.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{float:left}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0}}@media (min-width:1200px){.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9{float:left}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}.col-lg-pull-12{right:100%}.col-lg-pull-11{right:91.66666667%}.col-lg-pull-10{right:83.33333333%}.col-lg-pull-9{right:75%}.col-lg-pull-8{right:66.66666667%}.col-lg-pull-7{right:58.33333333%}.col-lg-pull-6{right:50%}.col-lg-pull-5{right:41.66666667%}.col-lg-pull-4{right:33.33333333%}.col-lg-pull-3{right:25%}.col-lg-pull-2{right:16.66666667%}.col-lg-pull-1{right:8.33333333%}.col-lg-pull-0{right:auto}.col-lg-push-12{left:100%}.col-lg-push-11{left:91.66666667%}.col-lg-push-10{left:83.33333333%}.col-lg-push-9{left:75%}.col-lg-push-8{left:66.66666667%}.col-lg-push-7{left:58.33333333%}.col-lg-push-6{left:50%}.col-lg-push-5{left:41.66666667%}.col-lg-push-4{left:33.33333333%}.col-lg-push-3{left:25%}.col-lg-push-2{left:16.66666667%}.col-lg-push-1{left:8.33333333%}.col-lg-push-0{left:auto}.col-lg-offset-12{margin-left:100%}.col-lg-offset-11{margin-left:91.66666667%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-0{margin-left:0}}caption{padding-top:8px;padding-bottom:8px;color:#777}.table{width:100%;max-width:100%;margin-bottom:20px}.table>tbody>tr>td,.table>tbody>tr>th,.table>tfoot>tr>td,.table>tfoot>tr>th,.table>thead>tr>td,.table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}.table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ddd}.badge,.btn,.btn-group,.btn-group-vertical,.caret,.checkbox-inline,.radio-inline{vertical-align:middle}.table>caption+thead>tr:first-child>td,.table>caption+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>th,.table>thead:first-child>tr:first-child>td,.table>thead:first-child>tr:first-child>th{border-top:0}.table>tbody+tbody{border-top:2px solid #ddd}.table .table{background-color:#fff}.table-condensed>tbody>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>thead>tr>th{padding:5px}.table-bordered,.table-bordered>tbody>tr>td,.table-bordered>tbody>tr>th,.table-bordered>tfoot>tr>td,.table-bordered>tfoot>tr>th,.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border:1px solid #ddd}.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border-bottom-width:2px}.table-striped>tbody>tr:nth-of-type(odd){background-color:#f9f9f9}.table-hover>tbody>tr:hover,.table>tbody>tr.active>td,.table>tbody>tr.active>th,.table>tbody>tr>td.active,.table>tbody>tr>th.active,.table>tfoot>tr.active>td,.table>tfoot>tr.active>th,.table>tfoot>tr>td.active,.table>tfoot>tr>th.active,.table>thead>tr.active>td,.table>thead>tr.active>th,.table>thead>tr>td.active,.table>thead>tr>th.active{background-color:#f5f5f5}table col[class*=col-]{position:static;display:table-column;float:none}table td[class*=col-],table th[class*=col-]{position:static;display:table-cell;float:none}.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr.active:hover>th,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover{background-color:#e8e8e8}.table>tbody>tr.success>td,.table>tbody>tr.success>th,.table>tbody>tr>td.success,.table>tbody>tr>th.success,.table>tfoot>tr.success>td,.table>tfoot>tr.success>th,.table>tfoot>tr>td.success,.table>tfoot>tr>th.success,.table>thead>tr.success>td,.table>thead>tr.success>th,.table>thead>tr>td.success,.table>thead>tr>th.success{background-color:#dff0d8}.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr.success:hover>th,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover{background-color:#d0e9c6}.table>tbody>tr.info>td,.table>tbody>tr.info>th,.table>tbody>tr>td.info,.table>tbody>tr>th.info,.table>tfoot>tr.info>td,.table>tfoot>tr.info>th,.table>tfoot>tr>td.info,.table>tfoot>tr>th.info,.table>thead>tr.info>td,.table>thead>tr.info>th,.table>thead>tr>td.info,.table>thead>tr>th.info{background-color:#d9edf7}.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr.info:hover>th,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover{background-color:#c4e3f3}.table>tbody>tr.warning>td,.table>tbody>tr.warning>th,.table>tbody>tr>td.warning,.table>tbody>tr>th.warning,.table>tfoot>tr.warning>td,.table>tfoot>tr.warning>th,.table>tfoot>tr>td.warning,.table>tfoot>tr>th.warning,.table>thead>tr.warning>td,.table>thead>tr.warning>th,.table>thead>tr>td.warning,.table>thead>tr>th.warning{background-color:#fcf8e3}.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr.warning:hover>th,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover{background-color:#faf2cc}.table>tbody>tr.danger>td,.table>tbody>tr.danger>th,.table>tbody>tr>td.danger,.table>tbody>tr>th.danger,.table>tfoot>tr.danger>td,.table>tfoot>tr.danger>th,.table>tfoot>tr>td.danger,.table>tfoot>tr>th.danger,.table>thead>tr.danger>td,.table>thead>tr.danger>th,.table>thead>tr>td.danger,.table>thead>tr>th.danger{background-color:#f2dede}.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr.danger:hover>th,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover{background-color:#ebcccc}.table-responsive{min-height:.01%;overflow-x:auto}@media screen and (max-width:767px){.table-responsive{width:100%;margin-bottom:15px;overflow-y:hidden;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ddd}.table-responsive>.table{margin-bottom:0}.table-responsive>.table>tbody>tr>td,.table-responsive>.table>tbody>tr>th,.table-responsive>.table>tfoot>tr>td,.table-responsive>.table>tfoot>tr>th,.table-responsive>.table>thead>tr>td,.table-responsive>.table>thead>tr>th{white-space:nowrap}.table-responsive>.table-bordered{border:0}.table-responsive>.table-bordered>tbody>tr>td:first-child,.table-responsive>.table-bordered>tbody>tr>th:first-child,.table-responsive>.table-bordered>tfoot>tr>td:first-child,.table-responsive>.table-bordered>tfoot>tr>th:first-child,.table-responsive>.table-bordered>thead>tr>td:first-child,.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.table-responsive>.table-bordered>tbody>tr>td:last-child,.table-responsive>.table-bordered>tbody>tr>th:last-child,.table-responsive>.table-bordered>tfoot>tr>td:last-child,.table-responsive>.table-bordered>tfoot>tr>th:last-child,.table-responsive>.table-bordered>thead>tr>td:last-child,.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.table-responsive>.table-bordered>tbody>tr:last-child>td,.table-responsive>.table-bordered>tbody>tr:last-child>th,.table-responsive>.table-bordered>tfoot>tr:last-child>td,.table-responsive>.table-bordered>tfoot>tr:last-child>th{border-bottom:0}}fieldset,legend{padding:0;border:0}fieldset{min-width:0;margin:0}legend{width:100%;margin-bottom:20px;font-size:21px;line-height:inherit;border-bottom:1px solid #e5e5e5}label{display:inline-block;max-width:100%;margin-bottom:5px}input[type=search]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none}input[type=checkbox],input[type=radio]{margin:4px 0 0;margin-top:1px\\9;line-height:normal}.form-control,output{font-size:14px;line-height:1.42857143;color:#555;display:block}input[type=file]{display:block}input[type=range]{display:block;width:100%}select[multiple],select[size]{height:auto}input[type=checkbox]:focus,input[type=file]:focus,input[type=radio]:focus{outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}output{padding-top:7px}.form-control{width:100%;height:34px;padding:6px 12px;background-color:#fff;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#999;opacity:1}.form-control:-ms-input-placeholder{color:#999}.form-control::-webkit-input-placeholder{color:#999}.has-success .checkbox,.has-success .checkbox-inline,.has-success .control-label,.has-success .form-control-feedback,.has-success .help-block,.has-success .radio,.has-success .radio-inline,.has-success.checkbox label,.has-success.checkbox-inline label,.has-success.radio label,.has-success.radio-inline label{color:#3c763d}.form-control::-ms-expand{background-color:transparent;border:0}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{background-color:#eee;opacity:1}.form-control[disabled],fieldset[disabled] .form-control{cursor:not-allowed}textarea.form-control{height:auto}@media screen and (-webkit-min-device-pixel-ratio:0){input[type=date].form-control,input[type=datetime-local].form-control,input[type=month].form-control,input[type=time].form-control{line-height:34px}.input-group-sm input[type=date],.input-group-sm input[type=datetime-local],.input-group-sm input[type=month],.input-group-sm input[type=time],input[type=date].input-sm,input[type=datetime-local].input-sm,input[type=month].input-sm,input[type=time].input-sm{line-height:30px}.input-group-lg input[type=date],.input-group-lg input[type=datetime-local],.input-group-lg input[type=month],.input-group-lg input[type=time],input[type=date].input-lg,input[type=datetime-local].input-lg,input[type=month].input-lg,input[type=time].input-lg{line-height:46px}}.form-group{margin-bottom:15px}.checkbox,.radio{position:relative;display:block;margin-top:10px;margin-bottom:10px}.checkbox label,.radio label{min-height:20px;padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.checkbox input[type=checkbox],.checkbox-inline input[type=checkbox],.radio input[type=radio],.radio-inline input[type=radio]{position:absolute;margin-top:4px\\9;margin-left:-20px}.checkbox+.checkbox,.radio+.radio{margin-top:-5px}.checkbox-inline,.radio-inline{position:relative;display:inline-block;padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.checkbox-inline+.checkbox-inline,.radio-inline+.radio-inline{margin-top:0;margin-left:10px}.checkbox-inline.disabled,.checkbox.disabled label,.radio-inline.disabled,.radio.disabled label,fieldset[disabled] .checkbox label,fieldset[disabled] .checkbox-inline,fieldset[disabled] .radio label,fieldset[disabled] .radio-inline,fieldset[disabled] input[type=checkbox],fieldset[disabled] input[type=radio],input[type=checkbox].disabled,input[type=checkbox][disabled],input[type=radio].disabled,input[type=radio][disabled]{cursor:not-allowed}.form-control-static{min-height:34px;padding-top:7px;padding-bottom:7px;margin-bottom:0}.form-control-static.input-lg,.form-control-static.input-sm{padding-right:0;padding-left:0}.form-group-sm .form-control,.input-sm{padding:5px 10px;border-radius:3px;font-size:12px}.input-sm{height:30px;line-height:1.5}select.input-sm{height:30px;line-height:30px}select[multiple].input-sm,textarea.input-sm{height:auto}.form-group-sm .form-control{height:30px;line-height:1.5}.form-group-lg .form-control,.input-lg{border-radius:6px;padding:10px 16px;font-size:18px}.form-group-sm select.form-control{height:30px;line-height:30px}.form-group-sm select[multiple].form-control,.form-group-sm textarea.form-control{height:auto}.form-group-sm .form-control-static{height:30px;min-height:32px;padding:6px 10px;font-size:12px;line-height:1.5}.input-lg{height:46px;line-height:1.3333333}select.input-lg{height:46px;line-height:46px}select[multiple].input-lg,textarea.input-lg{height:auto}.form-group-lg .form-control{height:46px;line-height:1.3333333}.form-group-lg select.form-control{height:46px;line-height:46px}.form-group-lg select[multiple].form-control,.form-group-lg textarea.form-control{height:auto}.form-group-lg .form-control-static{height:46px;min-height:38px;padding:11px 16px;font-size:18px;line-height:1.3333333}.has-feedback{position:relative}.has-feedback .form-control{padding-right:42.5px}.form-control-feedback{position:absolute;top:0;right:0;z-index:2;display:block;width:34px;height:34px;line-height:34px;text-align:center;pointer-events:none}.collapsing,.dropdown,.dropup{position:relative}.form-group-lg .form-control+.form-control-feedback,.input-group-lg+.form-control-feedback,.input-lg+.form-control-feedback{width:46px;height:46px;line-height:46px}.form-group-sm .form-control+.form-control-feedback,.input-group-sm+.form-control-feedback,.input-sm+.form-control-feedback{width:30px;height:30px;line-height:30px}.has-success .form-control{border-color:#3c763d;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-success .form-control:focus{border-color:#2b542c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168}.has-success .input-group-addon{color:#3c763d;background-color:#dff0d8;border-color:#3c763d}.has-warning .checkbox,.has-warning .checkbox-inline,.has-warning .control-label,.has-warning .form-control-feedback,.has-warning .help-block,.has-warning .radio,.has-warning .radio-inline,.has-warning.checkbox label,.has-warning.checkbox-inline label,.has-warning.radio label,.has-warning.radio-inline label{color:#8a6d3b}.has-warning .form-control{border-color:#8a6d3b;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-warning .form-control:focus{border-color:#66512c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b}.has-warning .input-group-addon{color:#8a6d3b;background-color:#fcf8e3;border-color:#8a6d3b}.has-error .checkbox,.has-error .checkbox-inline,.has-error .control-label,.has-error .form-control-feedback,.has-error .help-block,.has-error .radio,.has-error .radio-inline,.has-error.checkbox label,.has-error.checkbox-inline label,.has-error.radio label,.has-error.radio-inline label{color:#a94442}.has-error .form-control{border-color:#a94442;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .form-control:focus{border-color:#843534;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483}.has-error .input-group-addon{color:#a94442;background-color:#f2dede;border-color:#a94442}.has-feedback label~.form-control-feedback{top:25px}.has-feedback label.sr-only~.form-control-feedback{top:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#737373}@media (min-width:768px){.form-inline .form-control-static,.form-inline .form-group{display:inline-block}.form-inline .control-label,.form-inline .form-group{margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .input-group{display:inline-table;vertical-align:middle}.form-inline .input-group .form-control,.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn{width:auto}.form-inline .input-group>.form-control{width:100%}.form-inline .checkbox,.form-inline .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.form-inline .checkbox label,.form-inline .radio label{padding-left:0}.form-inline .checkbox input[type=checkbox],.form-inline .radio input[type=radio]{position:relative;margin-left:0}.form-inline .has-feedback .form-control-feedback{top:0}.form-horizontal .control-label{padding-top:7px;margin-bottom:0;text-align:right}}.form-horizontal .checkbox,.form-horizontal .checkbox-inline,.form-horizontal .radio,.form-horizontal .radio-inline{padding-top:7px;margin-top:0;margin-bottom:0}.form-horizontal .checkbox,.form-horizontal .radio{min-height:27px}.form-horizontal .form-group{margin-right:-15px;margin-left:-15px}.form-horizontal .has-feedback .form-control-feedback{right:15px}@media (min-width:768px){.form-horizontal .form-group-lg .control-label{padding-top:11px;font-size:18px}.form-horizontal .form-group-sm .control-label{padding-top:6px;font-size:12px}}.btn{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid transparent;border-radius:4px}.btn.active.focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn:active:focus,.btn:focus{outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}.btn.focus,.btn:focus,.btn:hover{color:#333;text-decoration:none}.btn.active,.btn:active{outline:0;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none;opacity:.65}a.btn.disabled,fieldset[disabled] a.btn{pointer-events:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default.focus,.btn-default:focus{color:#333;background-color:#e6e6e6;border-color:#8c8c8c}.btn-default.active,.btn-default:active,.btn-default:hover,.open>.dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default.active.focus,.btn-default.active:focus,.btn-default.active:hover,.btn-default:active.focus,.btn-default:active:focus,.btn-default:active:hover,.open>.dropdown-toggle.btn-default.focus,.open>.dropdown-toggle.btn-default:focus,.open>.dropdown-toggle.btn-default:hover{color:#333;background-color:#d4d4d4;border-color:#8c8c8c}.btn-default.disabled.focus,.btn-default.disabled:focus,.btn-default.disabled:hover,.btn-default[disabled].focus,.btn-default[disabled]:focus,.btn-default[disabled]:hover,fieldset[disabled] .btn-default.focus,fieldset[disabled] .btn-default:focus,fieldset[disabled] .btn-default:hover{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn-primary.focus,.btn-primary:focus{color:#fff;background-color:#286090;border-color:#122b40}.btn-primary.active,.btn-primary:active,.btn-primary:hover,.open>.dropdown-toggle.btn-primary{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary.active.focus,.btn-primary.active:focus,.btn-primary.active:hover,.btn-primary:active.focus,.btn-primary:active:focus,.btn-primary:active:hover,.open>.dropdown-toggle.btn-primary.focus,.open>.dropdown-toggle.btn-primary:focus,.open>.dropdown-toggle.btn-primary:hover{color:#fff;background-color:#204d74;border-color:#122b40}.btn-primary.disabled.focus,.btn-primary.disabled:focus,.btn-primary.disabled:hover,.btn-primary[disabled].focus,.btn-primary[disabled]:focus,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary.focus,fieldset[disabled] .btn-primary:focus,fieldset[disabled] .btn-primary:hover{background-color:#337ab7;border-color:#2e6da4}.btn-primary .badge{color:#337ab7;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success.focus,.btn-success:focus{color:#fff;background-color:#449d44;border-color:#255625}.btn-success.active,.btn-success:active,.btn-success:hover,.open>.dropdown-toggle.btn-success{color:#fff;background-color:#449d44;border-color:#398439}.btn-success.active.focus,.btn-success.active:focus,.btn-success.active:hover,.btn-success:active.focus,.btn-success:active:focus,.btn-success:active:hover,.open>.dropdown-toggle.btn-success.focus,.open>.dropdown-toggle.btn-success:focus,.open>.dropdown-toggle.btn-success:hover{color:#fff;background-color:#398439;border-color:#255625}.btn-success.disabled.focus,.btn-success.disabled:focus,.btn-success.disabled:hover,.btn-success[disabled].focus,.btn-success[disabled]:focus,.btn-success[disabled]:hover,fieldset[disabled] .btn-success.focus,fieldset[disabled] .btn-success:focus,fieldset[disabled] .btn-success:hover{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info.focus,.btn-info:focus{color:#fff;background-color:#31b0d5;border-color:#1b6d85}.btn-info.active,.btn-info:active,.btn-info:hover,.open>.dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info.active.focus,.btn-info.active:focus,.btn-info.active:hover,.btn-info:active.focus,.btn-info:active:focus,.btn-info:active:hover,.open>.dropdown-toggle.btn-info.focus,.open>.dropdown-toggle.btn-info:focus,.open>.dropdown-toggle.btn-info:hover{color:#fff;background-color:#269abc;border-color:#1b6d85}.btn-info.disabled.focus,.btn-info.disabled:focus,.btn-info.disabled:hover,.btn-info[disabled].focus,.btn-info[disabled]:focus,.btn-info[disabled]:hover,fieldset[disabled] .btn-info.focus,fieldset[disabled] .btn-info:focus,fieldset[disabled] .btn-info:hover{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning.focus,.btn-warning:focus{color:#fff;background-color:#ec971f;border-color:#985f0d}.btn-warning.active,.btn-warning:active,.btn-warning:hover,.open>.dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning.active.focus,.btn-warning.active:focus,.btn-warning.active:hover,.btn-warning:active.focus,.btn-warning:active:focus,.btn-warning:active:hover,.open>.dropdown-toggle.btn-warning.focus,.open>.dropdown-toggle.btn-warning:focus,.open>.dropdown-toggle.btn-warning:hover{color:#fff;background-color:#d58512;border-color:#985f0d}.btn-warning.disabled.focus,.btn-warning.disabled:focus,.btn-warning.disabled:hover,.btn-warning[disabled].focus,.btn-warning[disabled]:focus,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning.focus,fieldset[disabled] .btn-warning:focus,fieldset[disabled] .btn-warning:hover{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger.focus,.btn-danger:focus{color:#fff;background-color:#c9302c;border-color:#761c19}.btn-danger.active,.btn-danger:active,.btn-danger:hover,.open>.dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger.active.focus,.btn-danger.active:focus,.btn-danger.active:hover,.btn-danger:active.focus,.btn-danger:active:focus,.btn-danger:active:hover,.open>.dropdown-toggle.btn-danger.focus,.open>.dropdown-toggle.btn-danger:focus,.open>.dropdown-toggle.btn-danger:hover{color:#fff;background-color:#ac2925;border-color:#761c19}.btn-danger.disabled.focus,.btn-danger.disabled:focus,.btn-danger.disabled:hover,.btn-danger[disabled].focus,.btn-danger[disabled]:focus,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger.focus,fieldset[disabled] .btn-danger:focus,fieldset[disabled] .btn-danger:hover{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{font-weight:400;color:#337ab7;border-radius:0}.btn-link,.btn-link.active,.btn-link:active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.btn-link,.btn-link:active,.btn-link:focus,.btn-link:hover{border-color:transparent}.btn-link:focus,.btn-link:hover{color:#23527c;text-decoration:underline;background-color:transparent}.btn-link[disabled]:focus,.btn-link[disabled]:hover,fieldset[disabled] .btn-link:focus,fieldset[disabled] .btn-link:hover{color:#777;text-decoration:none}.btn-group-lg>.btn,.btn-lg{padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.btn-group-sm>.btn,.btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.btn-group-xs>.btn,.btn-xs{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:3px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{opacity:0;-webkit-transition:opacity .15s linear;-o-transition:opacity .15s linear;transition:opacity .15s linear}.fade.in{opacity:1}.collapse{display:none}.collapse.in{display:block}tr.collapse.in{display:table-row}tbody.collapse.in{display:table-row-group}.collapsing{height:0;overflow:hidden;-webkit-transition-timing-function:ease;-o-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-duration:.35s;-o-transition-duration:.35s;transition-duration:.35s;-webkit-transition-property:height,visibility;-o-transition-property:height,visibility;transition-property:height,visibility}.caret{display:inline-block;width:0;height:0;margin-left:2px;border-top:4px dashed;border-top:4px solid\\9;border-right:4px solid transparent;border-left:4px solid transparent}.dropdown-toggle:focus{outline:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;min-width:160px;padding:5px 0;margin:2px 0 0;font-size:14px;text-align:left;background-color:#fff;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.dropdown-menu-right,.dropdown-menu.pull-right{right:0;left:auto}.dropdown-header,.dropdown-menu>li>a{display:block;padding:3px 20px;line-height:1.42857143;white-space:nowrap}.btn-group>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group>.btn-group:first-child:not(:last-child)>.dropdown-toggle,.btn-group>.btn:first-child:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:last-child:not(:first-child)>.btn:first-child,.btn-group>.btn:last-child:not(:first-child),.btn-group>.dropdown-toggle:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn:not(:first-child):not(:last-child),.btn-group>.btn-group:not(:first-child):not(:last-child)>.btn,.btn-group>.btn:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.dropdown-menu .divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.dropdown-menu>li>a{clear:both;font-weight:400;color:#333}.dropdown-menu>li>a:focus,.dropdown-menu>li>a:hover{color:#262626;text-decoration:none;background-color:#f5f5f5}.dropdown-menu>.active>a,.dropdown-menu>.active>a:focus,.dropdown-menu>.active>a:hover{color:#fff;text-decoration:none;background-color:#337ab7;outline:0}.dropdown-menu>.disabled>a,.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{color:#777}.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{text-decoration:none;cursor:not-allowed;background-color:transparent;filter:progid:DXImageTransform.Microsoft.gradient(enabled=false)}.open>.dropdown-menu{display:block}.open>a{outline:0}.dropdown-menu-left{right:auto;left:0}.dropdown-header{font-size:12px;color:#777}.dropdown-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:990}.nav-justified>.dropdown .dropdown-menu,.nav-tabs.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}.pull-right>.dropdown-menu{right:0;left:auto}.dropup .caret,.navbar-fixed-bottom .dropdown .caret{content:\"\";border-top:0;border-bottom:4px dashed;border-bottom:4px solid\\9}.dropup .dropdown-menu,.navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:2px}@media (min-width:768px){.navbar-right .dropdown-menu{right:0;left:auto}.navbar-right .dropdown-menu-left{right:auto;left:0}}.btn-group,.btn-group-vertical{position:relative;display:inline-block}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;float:left}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:2}.btn-group .btn+.btn,.btn-group .btn+.btn-group,.btn-group .btn-group+.btn,.btn-group .btn-group+.btn-group{margin-left:-1px}.btn-toolbar{margin-left:-5px}.btn-toolbar>.btn,.btn-toolbar>.btn-group,.btn-toolbar>.input-group{margin-left:5px}.btn .caret,.btn-group>.btn:first-child{margin-left:0}.btn-group .dropdown-toggle:active,.btn-group.open .dropdown-toggle{outline:0}.btn-group>.btn+.dropdown-toggle{padding-right:8px;padding-left:8px}.btn-group>.btn-lg+.dropdown-toggle{padding-right:12px;padding-left:12px}.btn-group.open .dropdown-toggle{-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn-group.open .dropdown-toggle.btn-link{-webkit-box-shadow:none;box-shadow:none}.btn-lg .caret{border-width:5px 5px 0}.dropup .btn-lg .caret{border-width:0 5px 5px}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group,.btn-group-vertical>.btn-group>.btn{display:block;float:none;width:100%;max-width:100%}.btn-group-vertical>.btn-group>.btn{float:none}.btn-group-vertical>.btn+.btn,.btn-group-vertical>.btn+.btn-group,.btn-group-vertical>.btn-group+.btn,.btn-group-vertical>.btn-group+.btn-group{margin-top:-1px;margin-left:0}.btn-group-vertical>.btn:first-child:not(:last-child){border-radius:4px 4px 0 0}.btn-group-vertical>.btn:last-child:not(:first-child){border-radius:0 0 4px 4px}.btn-group-vertical>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group-vertical>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group-vertical>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:last-child:not(:first-child)>.btn:first-child{border-top-left-radius:0;border-top-right-radius:0}.btn-group-justified{display:table;width:100%;table-layout:fixed;border-collapse:separate}.btn-group-justified>.btn,.btn-group-justified>.btn-group{display:table-cell;float:none;width:1%}.btn-group-justified>.btn-group .btn{width:100%}.btn-group-justified>.btn-group .dropdown-menu{left:auto}[data-toggle=buttons]>.btn input[type=checkbox],[data-toggle=buttons]>.btn input[type=radio],[data-toggle=buttons]>.btn-group>.btn input[type=checkbox],[data-toggle=buttons]>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group,.input-group-btn,.input-group-btn>.btn,.nav>li,.nav>li>a,.navbar{position:relative}.input-group{display:table;border-collapse:separate}.input-group[class*=col-]{float:none;padding-right:0;padding-left:0}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.input-group .form-control:focus{z-index:3}.input-group-lg>.form-control,.input-group-lg>.input-group-addon,.input-group-lg>.input-group-btn>.btn{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}select.input-group-lg>.form-control,select.input-group-lg>.input-group-addon,select.input-group-lg>.input-group-btn>.btn{height:46px;line-height:46px}select[multiple].input-group-lg>.form-control,select[multiple].input-group-lg>.input-group-addon,select[multiple].input-group-lg>.input-group-btn>.btn,textarea.input-group-lg>.form-control,textarea.input-group-lg>.input-group-addon,textarea.input-group-lg>.input-group-btn>.btn{height:auto}.input-group-sm>.form-control,.input-group-sm>.input-group-addon,.input-group-sm>.input-group-btn>.btn{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-group-sm>.form-control,select.input-group-sm>.input-group-addon,select.input-group-sm>.input-group-btn>.btn{height:30px;line-height:30px}select[multiple].input-group-sm>.form-control,select[multiple].input-group-sm>.input-group-addon,select[multiple].input-group-sm>.input-group-btn>.btn,textarea.input-group-sm>.form-control,textarea.input-group-sm>.input-group-addon,textarea.input-group-sm>.input-group-btn>.btn{height:auto}.input-group .form-control,.input-group-addon,.input-group-btn{display:table-cell}.nav>li,.nav>li>a{display:block}.input-group .form-control:not(:first-child):not(:last-child),.input-group-addon:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child){border-radius:0}.input-group-addon,.input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.input-group-addon{padding:6px 12px;font-size:14px;font-weight:400;line-height:1;color:#555;text-align:center;background-color:#eee;border:1px solid #ccc;border-radius:4px}.input-group-addon.input-sm{padding:5px 10px;font-size:12px;border-radius:3px}.input-group-addon.input-lg{padding:10px 16px;font-size:18px;border-radius:6px}.input-group-addon input[type=checkbox],.input-group-addon input[type=radio]{margin-top:0}.input-group .form-control:first-child,.input-group-addon:first-child,.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group>.btn,.input-group-btn:first-child>.dropdown-toggle,.input-group-btn:last-child>.btn-group:not(:last-child)>.btn,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.input-group-addon:first-child{border-right:0}.input-group .form-control:last-child,.input-group-addon:last-child,.input-group-btn:first-child>.btn-group:not(:first-child)>.btn,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group>.btn,.input-group-btn:last-child>.dropdown-toggle{border-top-left-radius:0;border-bottom-left-radius:0}.input-group-addon:last-child{border-left:0}.input-group-btn{font-size:0;white-space:nowrap}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-btn>.btn:active,.input-group-btn>.btn:focus,.input-group-btn>.btn:hover{z-index:2}.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group{margin-right:-1px}.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group{z-index:2;margin-left:-1px}.nav{padding-left:0;margin-bottom:0}.nav>li>a{padding:10px 15px}.nav>li>a:focus,.nav>li>a:hover{text-decoration:none;background-color:#eee}.nav>li.disabled>a{color:#777}.nav>li.disabled>a:focus,.nav>li.disabled>a:hover{color:#777;text-decoration:none;cursor:not-allowed;background-color:transparent}.nav .open>a,.nav .open>a:focus,.nav .open>a:hover{background-color:#eee;border-color:#337ab7}.nav .nav-divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.nav>li>a>img{max-width:none}.nav-tabs{border-bottom:1px solid #ddd}.nav-tabs>li{float:left;margin-bottom:-1px}.nav-tabs>li>a{margin-right:2px;line-height:1.42857143;border:1px solid transparent;border-radius:4px 4px 0 0}.nav-tabs>li>a:hover{border-color:#eee #eee #ddd}.nav-tabs>li.active>a,.nav-tabs>li.active>a:focus,.nav-tabs>li.active>a:hover{color:#555;cursor:default;background-color:#fff;border:1px solid #ddd;border-bottom-color:transparent}.nav-tabs.nav-justified{width:100%;border-bottom:0}.nav-tabs.nav-justified>li{float:none}.nav-tabs.nav-justified>li>a{margin-bottom:5px;text-align:center;margin-right:0;border-radius:4px}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-tabs.nav-justified>li{display:table-cell;width:1%}.nav-tabs.nav-justified>li>a{margin-bottom:0;border-bottom:1px solid #ddd;border-radius:4px 4px 0 0}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border-bottom-color:#fff}}.nav-pills>li{float:left}.nav-justified>li,.nav-stacked>li{float:none}.nav-pills>li>a{border-radius:4px}.nav-pills>li+li{margin-left:2px}.nav-pills>li.active>a,.nav-pills>li.active>a:focus,.nav-pills>li.active>a:hover{color:#fff;background-color:#337ab7}.nav-stacked>li+li{margin-top:2px;margin-left:0}.nav-justified{width:100%}.nav-justified>li>a{margin-bottom:5px;text-align:center}.nav-tabs-justified{border-bottom:0}.nav-tabs-justified>li>a{margin-right:0;border-radius:4px}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-justified>li{display:table-cell;width:1%}.nav-justified>li>a{margin-bottom:0}.nav-tabs-justified>li>a{border-bottom:1px solid #ddd;border-radius:4px 4px 0 0}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border-bottom-color:#fff}}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.navbar{min-height:50px;margin-bottom:20px;border:1px solid transparent}.navbar-collapse{padding-right:15px;padding-left:15px;overflow-x:visible;-webkit-overflow-scrolling:touch;border-top:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1);box-shadow:inset 0 1px 0 rgba(255,255,255,.1)}.navbar-collapse.in{overflow-y:auto}@media (min-width:768px){.navbar{border-radius:4px}.navbar-header{float:left}.navbar-collapse{width:auto;border-top:0;-webkit-box-shadow:none;box-shadow:none}.navbar-collapse.collapse{display:block!important;height:auto!important;padding-bottom:0;overflow:visible!important}.navbar-collapse.in{overflow-y:visible}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse,.navbar-static-top .navbar-collapse{padding-right:0;padding-left:0}}.embed-responsive,.modal,.modal-open,.progress{overflow:hidden}@media (max-device-width:480px) and (orientation:landscape){.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:200px}}.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:-15px;margin-left:-15px}.navbar-static-top{z-index:1000;border-width:0 0 1px}.navbar-fixed-bottom,.navbar-fixed-top{position:fixed;right:0;left:0;z-index:1030}.navbar-fixed-top{top:0;border-width:0 0 1px}.navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0}.navbar-brand{float:left;height:50px;padding:15px;font-size:18px;line-height:20px}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-brand>img{display:block}@media (min-width:768px){.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:0;margin-left:0}.navbar-fixed-bottom,.navbar-fixed-top,.navbar-static-top{border-radius:0}.navbar>.container .navbar-brand,.navbar>.container-fluid .navbar-brand{margin-left:-15px}}.navbar-toggle{position:relative;float:right;padding:9px 10px;margin-top:8px;margin-right:15px;margin-bottom:8px;background-color:transparent;border:1px solid transparent;border-radius:4px}.navbar-toggle:focus{outline:0}.navbar-toggle .icon-bar{display:block;width:22px;height:2px;border-radius:1px}.navbar-toggle .icon-bar+.icon-bar{margin-top:4px}.navbar-nav{margin:7.5px -15px}.navbar-nav>li>a{padding-top:10px;padding-bottom:10px;line-height:20px}@media (max-width:767px){.navbar-nav .open .dropdown-menu{position:static;float:none;width:auto;margin-top:0;background-color:transparent;border:0;-webkit-box-shadow:none;box-shadow:none}.navbar-nav .open .dropdown-menu .dropdown-header,.navbar-nav .open .dropdown-menu>li>a{padding:5px 15px 5px 25px}.navbar-nav .open .dropdown-menu>li>a{line-height:20px}.navbar-nav .open .dropdown-menu>li>a:focus,.navbar-nav .open .dropdown-menu>li>a:hover{background-image:none}}.progress-bar-striped,.progress-striped .progress-bar,.progress-striped .progress-bar-success{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}@media (min-width:768px){.navbar-toggle{display:none}.navbar-nav{float:left;margin:0}.navbar-nav>li{float:left}.navbar-nav>li>a{padding-top:15px;padding-bottom:15px}}.navbar-form{padding:10px 15px;border-top:1px solid transparent;border-bottom:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);margin:8px -15px}@media (min-width:768px){.navbar-form .form-control-static,.navbar-form .form-group{display:inline-block}.navbar-form .control-label,.navbar-form .form-group{margin-bottom:0;vertical-align:middle}.navbar-form .form-control{display:inline-block;width:auto;vertical-align:middle}.navbar-form .input-group{display:inline-table;vertical-align:middle}.navbar-form .input-group .form-control,.navbar-form .input-group .input-group-addon,.navbar-form .input-group .input-group-btn{width:auto}.navbar-form .input-group>.form-control{width:100%}.navbar-form .checkbox,.navbar-form .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.navbar-form .checkbox label,.navbar-form .radio label{padding-left:0}.navbar-form .checkbox input[type=checkbox],.navbar-form .radio input[type=radio]{position:relative;margin-left:0}.navbar-form .has-feedback .form-control-feedback{top:0}.navbar-form{width:auto;padding-top:0;padding-bottom:0;margin-right:0;margin-left:0;border:0;-webkit-box-shadow:none;box-shadow:none}.navbar-text{float:left;margin-right:15px;margin-left:15px}.navbar-left{float:left!important}.navbar-right{float:right!important;margin-right:-15px}.navbar-right~.navbar-right{margin-right:0}}.breadcrumb>li,.pagination{display:inline-block}.btn .badge,.btn .label{top:-1px;position:relative}@media (max-width:767px){.navbar-form .form-group{margin-bottom:5px}.navbar-form .form-group:last-child{margin-bottom:0}}.navbar-nav>li>.dropdown-menu{margin-top:0;border-top-left-radius:0;border-top-right-radius:0}.navbar-fixed-bottom .navbar-nav>li>.dropdown-menu{margin-bottom:0;border-radius:4px 4px 0 0}.navbar-btn{margin-top:8px;margin-bottom:8px}.navbar-btn.btn-sm{margin-top:10px;margin-bottom:10px}.navbar-btn.btn-xs{margin-top:14px;margin-bottom:14px}.navbar-text{margin-top:15px;margin-bottom:15px}.navbar-default{background-color:#f8f8f8;border-color:#e7e7e7}.navbar-default .navbar-brand{color:#777}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#5e5e5e;background-color:transparent}.navbar-default .navbar-nav>li>a,.navbar-default .navbar-text{color:#777}.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav>.disabled>a,.navbar-default .navbar-nav>.disabled>a:focus,.navbar-default .navbar-nav>.disabled>a:hover{color:#ccc;background-color:transparent}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#888}.navbar-default .navbar-collapse,.navbar-default .navbar-form{border-color:#e7e7e7}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{color:#555;background-color:#e7e7e7}@media (max-width:767px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav .open .dropdown-menu>.active>a,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#ccc;background-color:transparent}}.navbar-default .navbar-link{color:#777}.navbar-default .navbar-link:hover{color:#333}.navbar-default .btn-link{color:#777}.navbar-default .btn-link:focus,.navbar-default .btn-link:hover{color:#333}.navbar-default .btn-link[disabled]:focus,.navbar-default .btn-link[disabled]:hover,fieldset[disabled] .navbar-default .btn-link:focus,fieldset[disabled] .navbar-default .btn-link:hover{color:#ccc}.navbar-inverse{background-color:#222;border-color:#080808}.navbar-inverse .navbar-brand{color:#9d9d9d}.navbar-inverse .navbar-brand:focus,.navbar-inverse .navbar-brand:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>li>a,.navbar-inverse .navbar-text{color:#9d9d9d}.navbar-inverse .navbar-nav>li>a:focus,.navbar-inverse .navbar-nav>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>.active>a,.navbar-inverse .navbar-nav>.active>a:focus,.navbar-inverse .navbar-nav>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav>.disabled>a,.navbar-inverse .navbar-nav>.disabled>a:focus,.navbar-inverse .navbar-nav>.disabled>a:hover{color:#444;background-color:transparent}.navbar-inverse .navbar-toggle{border-color:#333}.navbar-inverse .navbar-toggle:focus,.navbar-inverse .navbar-toggle:hover{background-color:#333}.navbar-inverse .navbar-toggle .icon-bar{background-color:#fff}.navbar-inverse .navbar-collapse,.navbar-inverse .navbar-form{border-color:#101010}.navbar-inverse .navbar-nav>.open>a,.navbar-inverse .navbar-nav>.open>a:focus,.navbar-inverse .navbar-nav>.open>a:hover{color:#fff;background-color:#080808}@media (max-width:767px){.navbar-inverse .navbar-nav .open .dropdown-menu>.dropdown-header{border-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu .divider{background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a{color:#9d9d9d}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#444;background-color:transparent}}.navbar-inverse .navbar-link{color:#9d9d9d}.navbar-inverse .navbar-link:hover{color:#fff}.navbar-inverse .btn-link{color:#9d9d9d}.navbar-inverse .btn-link:focus,.navbar-inverse .btn-link:hover{color:#fff}.navbar-inverse .btn-link[disabled]:focus,.navbar-inverse .btn-link[disabled]:hover,fieldset[disabled] .navbar-inverse .btn-link:focus,fieldset[disabled] .navbar-inverse .btn-link:hover{color:#444}.breadcrumb{padding:8px 15px;margin-bottom:20px;background-color:#f5f5f5;border-radius:4px}.breadcrumb>li+li:before{padding:0 5px;color:#ccc;content:\"/\\00a0\"}.breadcrumb>.active{color:#777}.pagination{padding-left:0;margin:20px 0;border-radius:4px}.pager li,.pagination>li{display:inline}.pagination>li>a,.pagination>li>span{position:relative;float:left;padding:6px 12px;margin-left:-1px;line-height:1.42857143;color:#337ab7;text-decoration:none;background-color:#fff;border:1px solid #ddd}.pagination>li:first-child>a,.pagination>li:first-child>span{margin-left:0;border-top-left-radius:4px;border-bottom-left-radius:4px}.pagination>li:last-child>a,.pagination>li:last-child>span{border-top-right-radius:4px;border-bottom-right-radius:4px}.pagination>li>a:focus,.pagination>li>a:hover,.pagination>li>span:focus,.pagination>li>span:hover{z-index:2;color:#23527c;background-color:#eee;border-color:#ddd}.pagination>.active>a,.pagination>.active>a:focus,.pagination>.active>a:hover,.pagination>.active>span,.pagination>.active>span:focus,.pagination>.active>span:hover{z-index:3;color:#fff;cursor:default;background-color:#337ab7;border-color:#337ab7}.pagination>.disabled>a,.pagination>.disabled>a:focus,.pagination>.disabled>a:hover,.pagination>.disabled>span,.pagination>.disabled>span:focus,.pagination>.disabled>span:hover{color:#777;cursor:not-allowed;background-color:#fff;border-color:#ddd}.pagination-lg>li>a,.pagination-lg>li>span{padding:10px 16px;font-size:18px;line-height:1.3333333}.pagination-lg>li:first-child>a,.pagination-lg>li:first-child>span{border-top-left-radius:6px;border-bottom-left-radius:6px}.pagination-lg>li:last-child>a,.pagination-lg>li:last-child>span{border-top-right-radius:6px;border-bottom-right-radius:6px}.pagination-sm>li>a,.pagination-sm>li>span{padding:5px 10px;font-size:12px;line-height:1.5}.badge,.label{line-height:1;white-space:nowrap;text-align:center}.pagination-sm>li:first-child>a,.pagination-sm>li:first-child>span{border-top-left-radius:3px;border-bottom-left-radius:3px}.pagination-sm>li:last-child>a,.pagination-sm>li:last-child>span{border-top-right-radius:3px;border-bottom-right-radius:3px}.pager{padding-left:0;margin:20px 0;text-align:center}.pager li>a,.pager li>span{display:inline-block;padding:5px 14px;background-color:#fff;border:1px solid #ddd;border-radius:15px}.pager li>a:focus,.pager li>a:hover{text-decoration:none;background-color:#eee}.pager .next>a,.pager .next>span{float:right}.pager .previous>a,.pager .previous>span{float:left}.pager .disabled>a,.pager .disabled>a:focus,.pager .disabled>a:hover,.pager .disabled>span{color:#777;cursor:not-allowed;background-color:#fff}a.badge:focus,a.badge:hover,a.label:focus,a.label:hover{color:#fff;cursor:pointer;text-decoration:none}.label{display:inline;padding:.2em .6em .3em;font-size:75%;color:#fff;border-radius:.25em}.label:empty{display:none}.label-default{background-color:#777}.label-default[href]:focus,.label-default[href]:hover{background-color:#5e5e5e}.label-primary{background-color:#337ab7}.label-primary[href]:focus,.label-primary[href]:hover{background-color:#286090}.label-success{background-color:#5cb85c}.label-success[href]:focus,.label-success[href]:hover{background-color:#449d44}.label-info{background-color:#5bc0de}.label-info[href]:focus,.label-info[href]:hover{background-color:#31b0d5}.label-warning{background-color:#f0ad4e}.label-warning[href]:focus,.label-warning[href]:hover{background-color:#ec971f}.label-danger{background-color:#d9534f}.label-danger[href]:focus,.label-danger[href]:hover{background-color:#c9302c}.badge{display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;color:#fff;background-color:#777;border-radius:10px}.badge:empty{display:none}.media-object,.thumbnail{display:block}.btn-group-xs>.btn .badge,.btn-xs .badge{top:0;padding:1px 5px}.list-group-item.active>.badge,.nav-pills>.active>a>.badge{color:#337ab7;background-color:#fff}.jumbotron,.jumbotron .h1,.jumbotron h1{color:inherit}.list-group-item>.badge{float:right}.list-group-item>.badge+.badge{margin-right:5px}.nav-pills>li>a>.badge{margin-left:3px}.jumbotron{padding-top:30px;padding-bottom:30px;margin-bottom:30px;background-color:#eee}.jumbotron p{margin-bottom:15px;font-size:21px;font-weight:200}.alert,.thumbnail{margin-bottom:20px}.alert .alert-link,.close{font-weight:700}.jumbotron>hr{border-top-color:#d5d5d5}.container .jumbotron,.container-fluid .jumbotron{padding-right:15px;padding-left:15px;border-radius:6px}.jumbotron .container{max-width:100%}@media screen and (min-width:768px){.jumbotron{padding-top:48px;padding-bottom:48px}.container .jumbotron,.container-fluid .jumbotron{padding-right:60px;padding-left:60px}.jumbotron .h1,.jumbotron h1{font-size:63px}}.thumbnail{padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;-webkit-transition:border .2s ease-in-out;-o-transition:border .2s ease-in-out;transition:border .2s ease-in-out}.thumbnail a>img,.thumbnail>img{margin-right:auto;margin-left:auto}a.thumbnail.active,a.thumbnail:focus,a.thumbnail:hover{border-color:#337ab7}.thumbnail .caption{padding:9px;color:#333}.alert{padding:15px;border:1px solid transparent;border-radius:4px}.alert h4{margin-top:0;color:inherit}.alert>p,.alert>ul{margin-bottom:0}.alert>p+p{margin-top:5px}.alert-dismissable,.alert-dismissible{padding-right:35px}.alert-dismissable .close,.alert-dismissible .close{position:relative;top:-2px;right:-21px;color:inherit}.modal,.modal-backdrop{top:0;right:0;bottom:0;left:0}.alert-success{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.alert-success hr{border-top-color:#c9e2b3}.alert-success .alert-link{color:#2b542c}.alert-info{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.alert-info hr{border-top-color:#a6e1ec}.alert-info .alert-link{color:#245269}.alert-warning{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.alert-warning hr{border-top-color:#f7e1b5}.alert-warning .alert-link{color:#66512c}.alert-danger{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.alert-danger hr{border-top-color:#e4b9c0}.alert-danger .alert-link{color:#843534}@-webkit-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@-o-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}.progress{height:20px;margin-bottom:20px;background-color:#f5f5f5;border-radius:4px;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.progress-bar{float:left;width:0;height:100%;font-size:12px;line-height:20px;color:#fff;text-align:center;background-color:#337ab7;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}.progress-bar-striped,.progress-striped .progress-bar{-webkit-background-size:40px 40px;background-size:40px 40px}.progress-bar.active,.progress.active .progress-bar{-webkit-animation:progress-bar-stripes 2s linear infinite;-o-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite}.progress-bar-success{background-color:#5cb85c}.progress-striped .progress-bar-info,.progress-striped .progress-bar-warning{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-info{background-color:#5bc0de}.progress-bar-warning{background-color:#f0ad4e}.progress-bar-danger{background-color:#d9534f}.progress-striped .progress-bar-danger{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.media{margin-top:15px}.media:first-child{margin-top:0}.media,.media-body{overflow:hidden;zoom:1}.media-body{width:10000px}.media-object.img-thumbnail{max-width:none}.media-right,.media>.pull-right{padding-left:10px}.media-left,.media>.pull-left{padding-right:10px}.media-body,.media-left,.media-right{display:table-cell;vertical-align:top}.media-middle{vertical-align:middle}.media-bottom{vertical-align:bottom}.media-heading{margin-top:0;margin-bottom:5px}.media-list{padding-left:0}.list-group{padding-left:0;margin-bottom:20px}.list-group-item{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#fff;border:1px solid #ddd}.list-group-item:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}a.list-group-item,button.list-group-item{color:#555}a.list-group-item .list-group-item-heading,button.list-group-item .list-group-item-heading{color:#333}a.list-group-item:focus,a.list-group-item:hover,button.list-group-item:focus,button.list-group-item:hover{color:#555;text-decoration:none;background-color:#f5f5f5}button.list-group-item{width:100%;text-align:left}.list-group-item.disabled,.list-group-item.disabled:focus,.list-group-item.disabled:hover{color:#777;cursor:not-allowed;background-color:#eee}.list-group-item.disabled .list-group-item-heading,.list-group-item.disabled:focus .list-group-item-heading,.list-group-item.disabled:hover .list-group-item-heading{color:inherit}.list-group-item.disabled .list-group-item-text,.list-group-item.disabled:focus .list-group-item-text,.list-group-item.disabled:hover .list-group-item-text{color:#777}.list-group-item.active,.list-group-item.active:focus,.list-group-item.active:hover{z-index:2;color:#fff;background-color:#337ab7;border-color:#337ab7}.list-group-item.active .list-group-item-heading,.list-group-item.active .list-group-item-heading>.small,.list-group-item.active .list-group-item-heading>small,.list-group-item.active:focus .list-group-item-heading,.list-group-item.active:focus .list-group-item-heading>.small,.list-group-item.active:focus .list-group-item-heading>small,.list-group-item.active:hover .list-group-item-heading,.list-group-item.active:hover .list-group-item-heading>.small,.list-group-item.active:hover .list-group-item-heading>small{color:inherit}.list-group-item.active .list-group-item-text,.list-group-item.active:focus .list-group-item-text,.list-group-item.active:hover .list-group-item-text{color:#c7ddef}.list-group-item-success{color:#3c763d;background-color:#dff0d8}a.list-group-item-success,button.list-group-item-success{color:#3c763d}a.list-group-item-success .list-group-item-heading,button.list-group-item-success .list-group-item-heading{color:inherit}a.list-group-item-success:focus,a.list-group-item-success:hover,button.list-group-item-success:focus,button.list-group-item-success:hover{color:#3c763d;background-color:#d0e9c6}a.list-group-item-success.active,a.list-group-item-success.active:focus,a.list-group-item-success.active:hover,button.list-group-item-success.active,button.list-group-item-success.active:focus,button.list-group-item-success.active:hover{color:#fff;background-color:#3c763d;border-color:#3c763d}.list-group-item-info{color:#31708f;background-color:#d9edf7}a.list-group-item-info,button.list-group-item-info{color:#31708f}a.list-group-item-info .list-group-item-heading,button.list-group-item-info .list-group-item-heading{color:inherit}a.list-group-item-info:focus,a.list-group-item-info:hover,button.list-group-item-info:focus,button.list-group-item-info:hover{color:#31708f;background-color:#c4e3f3}a.list-group-item-info.active,a.list-group-item-info.active:focus,a.list-group-item-info.active:hover,button.list-group-item-info.active,button.list-group-item-info.active:focus,button.list-group-item-info.active:hover{color:#fff;background-color:#31708f;border-color:#31708f}.list-group-item-warning{color:#8a6d3b;background-color:#fcf8e3}a.list-group-item-warning,button.list-group-item-warning{color:#8a6d3b}a.list-group-item-warning .list-group-item-heading,button.list-group-item-warning .list-group-item-heading{color:inherit}a.list-group-item-warning:focus,a.list-group-item-warning:hover,button.list-group-item-warning:focus,button.list-group-item-warning:hover{color:#8a6d3b;background-color:#faf2cc}a.list-group-item-warning.active,a.list-group-item-warning.active:focus,a.list-group-item-warning.active:hover,button.list-group-item-warning.active,button.list-group-item-warning.active:focus,button.list-group-item-warning.active:hover{color:#fff;background-color:#8a6d3b;border-color:#8a6d3b}.list-group-item-danger{color:#a94442;background-color:#f2dede}a.list-group-item-danger,button.list-group-item-danger{color:#a94442}a.list-group-item-danger .list-group-item-heading,button.list-group-item-danger .list-group-item-heading{color:inherit}a.list-group-item-danger:focus,a.list-group-item-danger:hover,button.list-group-item-danger:focus,button.list-group-item-danger:hover{color:#a94442;background-color:#ebcccc}a.list-group-item-danger.active,a.list-group-item-danger.active:focus,a.list-group-item-danger.active:hover,button.list-group-item-danger.active,button.list-group-item-danger.active:focus,button.list-group-item-danger.active:hover{color:#fff;background-color:#a94442;border-color:#a94442}.panel-heading>.dropdown .dropdown-toggle,.panel-title,.panel-title>.small,.panel-title>.small>a,.panel-title>a,.panel-title>small,.panel-title>small>a{color:inherit}.list-group-item-heading{margin-top:0;margin-bottom:5px}.list-group-item-text{margin-bottom:0;line-height:1.3}.panel{margin-bottom:20px;background-color:#fff;border:1px solid transparent;border-radius:4px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05)}.panel-title,.panel>.list-group,.panel>.panel-collapse>.list-group,.panel>.panel-collapse>.table,.panel>.table,.panel>.table-responsive>.table{margin-bottom:0}.panel-body{padding:15px}.panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-left-radius:3px;border-top-right-radius:3px}.panel-title{margin-top:0;font-size:16px}.panel-footer{padding:10px 15px;background-color:#f5f5f5;border-top:1px solid #ddd;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.list-group .list-group-item,.panel>.panel-collapse>.list-group .list-group-item{border-width:1px 0;border-radius:0}.panel-group .panel-heading,.panel>.table-bordered>tbody>tr:first-child>td,.panel>.table-bordered>tbody>tr:first-child>th,.panel>.table-bordered>tbody>tr:last-child>td,.panel>.table-bordered>tbody>tr:last-child>th,.panel>.table-bordered>tfoot>tr:last-child>td,.panel>.table-bordered>tfoot>tr:last-child>th,.panel>.table-bordered>thead>tr:first-child>td,.panel>.table-bordered>thead>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>th,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>td,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>th,.panel>.table-responsive>.table-bordered>thead>tr:first-child>td,.panel>.table-responsive>.table-bordered>thead>tr:first-child>th{border-bottom:0}.panel>.list-group:first-child .list-group-item:first-child,.panel>.panel-collapse>.list-group:first-child .list-group-item:first-child{border-top:0;border-top-left-radius:3px;border-top-right-radius:3px}.panel>.list-group:last-child .list-group-item:last-child,.panel>.panel-collapse>.list-group:last-child .list-group-item:last-child{border-bottom:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.panel-heading+.panel-collapse>.list-group .list-group-item:first-child{border-top-left-radius:0;border-top-right-radius:0}.list-group+.panel-footer,.panel-heading+.list-group .list-group-item:first-child{border-top-width:0}.panel>.panel-collapse>.table caption,.panel>.table caption,.panel>.table-responsive>.table caption{padding-right:15px;padding-left:15px}.panel>.table-responsive:first-child>.table:first-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child,.panel>.table:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child,.panel>.table:first-child>thead:first-child>tr:first-child{border-top-left-radius:3px;border-top-right-radius:3px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table:first-child>thead:first-child>tr:first-child th:first-child{border-top-left-radius:3px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table:first-child>thead:first-child>tr:first-child th:last-child{border-top-right-radius:3px}.panel>.table-responsive:last-child>.table:last-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child,.panel>.table:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child{border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:first-child{border-bottom-left-radius:3px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:last-child{border-bottom-right-radius:3px}.panel>.panel-body+.table,.panel>.panel-body+.table-responsive,.panel>.table+.panel-body,.panel>.table-responsive+.panel-body{border-top:1px solid #ddd}.panel>.table>tbody:first-child>tr:first-child td,.panel>.table>tbody:first-child>tr:first-child th{border-top:0}.panel>.table-bordered,.panel>.table-responsive>.table-bordered{border:0}.panel>.table-bordered>tbody>tr>td:first-child,.panel>.table-bordered>tbody>tr>th:first-child,.panel>.table-bordered>tfoot>tr>td:first-child,.panel>.table-bordered>tfoot>tr>th:first-child,.panel>.table-bordered>thead>tr>td:first-child,.panel>.table-bordered>thead>tr>th:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:first-child,.panel>.table-responsive>.table-bordered>thead>tr>td:first-child,.panel>.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.panel>.table-bordered>tbody>tr>td:last-child,.panel>.table-bordered>tbody>tr>th:last-child,.panel>.table-bordered>tfoot>tr>td:last-child,.panel>.table-bordered>tfoot>tr>th:last-child,.panel>.table-bordered>thead>tr>td:last-child,.panel>.table-bordered>thead>tr>th:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:last-child,.panel>.table-responsive>.table-bordered>thead>tr>td:last-child,.panel>.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.panel>.table-responsive{margin-bottom:0;border:0}.panel-group{margin-bottom:20px}.panel-group .panel{margin-bottom:0;border-radius:4px}.panel-group .panel+.panel{margin-top:5px}.panel-group .panel-heading+.panel-collapse>.list-group,.panel-group .panel-heading+.panel-collapse>.panel-body{border-top:1px solid #ddd}.panel-group .panel-footer{border-top:0}.panel-group .panel-footer+.panel-collapse .panel-body{border-bottom:1px solid #ddd}.panel-default{border-color:#ddd}.panel-default>.panel-heading{color:#333;background-color:#f5f5f5;border-color:#ddd}.panel-default>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ddd}.panel-default>.panel-heading .badge{color:#f5f5f5;background-color:#333}.panel-default>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ddd}.panel-primary{border-color:#337ab7}.panel-primary>.panel-heading{color:#fff;background-color:#337ab7;border-color:#337ab7}.panel-primary>.panel-heading+.panel-collapse>.panel-body{border-top-color:#337ab7}.panel-primary>.panel-heading .badge{color:#337ab7;background-color:#fff}.panel-primary>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#337ab7}.panel-success{border-color:#d6e9c6}.panel-success>.panel-heading{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.panel-success>.panel-heading+.panel-collapse>.panel-body{border-top-color:#d6e9c6}.panel-success>.panel-heading .badge{color:#dff0d8;background-color:#3c763d}.panel-success>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#d6e9c6}.panel-info{border-color:#bce8f1}.panel-info>.panel-heading{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.panel-info>.panel-heading+.panel-collapse>.panel-body{border-top-color:#bce8f1}.panel-info>.panel-heading .badge{color:#d9edf7;background-color:#31708f}.panel-info>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#bce8f1}.panel-warning{border-color:#faebcc}.panel-warning>.panel-heading{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.panel-warning>.panel-heading+.panel-collapse>.panel-body{border-top-color:#faebcc}.panel-warning>.panel-heading .badge{color:#fcf8e3;background-color:#8a6d3b}.panel-warning>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#faebcc}.panel-danger{border-color:#ebccd1}.panel-danger>.panel-heading{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.panel-danger>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ebccd1}.panel-danger>.panel-heading .badge{color:#f2dede;background-color:#a94442}.panel-danger>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ebccd1}.embed-responsive{position:relative;display:block;height:0;padding:0}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.embed-responsive-16by9{padding-bottom:56.25%}.embed-responsive-4by3{padding-bottom:75%}.well{min-height:20px;padding:19px;margin-bottom:20px;background-color:#f5f5f5;border:1px solid #e3e3e3;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.05);box-shadow:inset 0 1px 1px rgba(0,0,0,.05)}.well blockquote{border-color:#ddd;border-color:rgba(0,0,0,.15)}.well-lg{padding:24px;border-radius:6px}.well-sm{padding:9px;border-radius:3px}.close{float:right;font-size:21px;line-height:1;color:#000;text-shadow:0 1px 0 #fff;filter:alpha(opacity=20);opacity:.2}.popover,.tooltip{font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif;font-weight:400;line-height:1.42857143;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;word-wrap:normal;white-space:normal;line-break:auto;text-decoration:none}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer;filter:alpha(opacity=50);opacity:.5}button.close{-webkit-appearance:none;padding:0;cursor:pointer;background:0 0;border:0}.modal{position:fixed;z-index:1050;display:none;-webkit-overflow-scrolling:touch;outline:0}.modal.fade .modal-dialog{-webkit-transition:-webkit-transform .3s ease-out;-o-transition:-o-transform .3s ease-out;transition:transform .3s ease-out;-webkit-transform:translate(0,-25%);-ms-transform:translate(0,-25%);-o-transform:translate(0,-25%);transform:translate(0,-25%)}.modal.in .modal-dialog{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);-o-transform:translate(0,0);transform:translate(0,0)}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{position:relative;width:auto;margin:10px}.modal-content{position:relative;background-color:#fff;background-clip:padding-box;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:6px;outline:0;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5)}.modal-backdrop{position:fixed;z-index:1040;background-color:#000}.modal-backdrop.fade{filter:alpha(opacity=0);opacity:0}.modal-backdrop.in{filter:alpha(opacity=50);opacity:.5}.modal-header{padding:15px;border-bottom:1px solid #e5e5e5}.modal-header .close{margin-top:-2px}.modal-title{margin:0;line-height:1.42857143}.modal-body{position:relative;padding:15px}.modal-footer{padding:15px;text-align:right;border-top:1px solid #e5e5e5}.modal-footer .btn+.btn{margin-bottom:0;margin-left:5px}.modal-footer .btn-group .btn+.btn{margin-left:-1px}.modal-footer .btn-block+.btn-block{margin-left:0}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:768px){.modal-dialog{width:600px;margin:30px auto}.modal-content{-webkit-box-shadow:0 5px 15px rgba(0,0,0,.5);box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm{width:300px}}@media (min-width:992px){.modal-lg{width:900px}}.tooltip{position:absolute;z-index:1070;display:block;font-size:12px;text-align:left;text-align:start;filter:alpha(opacity=0);opacity:0}.tooltip.in{filter:alpha(opacity=90);opacity:.9}.tooltip.top{padding:5px 0;margin-top:-3px}.tooltip.right{padding:0 5px;margin-left:3px}.tooltip.bottom{padding:5px 0;margin-top:3px}.tooltip.left{padding:0 5px;margin-left:-3px}.tooltip-inner{max-width:200px;padding:3px 8px;color:#fff;text-align:center;background-color:#000;border-radius:4px}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.tooltip.top .tooltip-arrow,.tooltip.top-left .tooltip-arrow,.tooltip.top-right .tooltip-arrow{bottom:0;border-width:5px 5px 0;border-top-color:#000}.tooltip.top .tooltip-arrow{left:50%;margin-left:-5px}.tooltip.top-left .tooltip-arrow{right:5px;margin-bottom:-5px}.tooltip.top-right .tooltip-arrow{left:5px;margin-bottom:-5px}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000}.tooltip.bottom .tooltip-arrow,.tooltip.bottom-left .tooltip-arrow,.tooltip.bottom-right .tooltip-arrow{border-width:0 5px 5px;border-bottom-color:#000;top:0}.tooltip.bottom .tooltip-arrow{left:50%;margin-left:-5px}.tooltip.bottom-left .tooltip-arrow{right:5px;margin-top:-5px}.tooltip.bottom-right .tooltip-arrow{left:5px;margin-top:-5px}.popover{position:absolute;top:0;left:0;z-index:1060;display:none;max-width:276px;padding:1px;font-size:14px;text-align:left;text-align:start;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.2);border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2)}.carousel-caption,.carousel-control{color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6)}.popover.top{margin-top:-10px}.popover.right{margin-left:10px}.popover.bottom{margin-top:10px}.popover.left{margin-left:-10px}.popover-title{padding:8px 14px;margin:0;font-size:14px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-radius:5px 5px 0 0}.popover-content{padding:9px 14px}.popover>.arrow,.popover>.arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.carousel,.carousel-inner{position:relative}.popover>.arrow{border-width:11px}.popover>.arrow:after{content:\"\";border-width:10px}.popover.top>.arrow{bottom:-11px;left:50%;margin-left:-11px;border-top-color:#999;border-top-color:rgba(0,0,0,.25);border-bottom-width:0}.popover.top>.arrow:after{bottom:1px;margin-left:-10px;content:\" \";border-top-color:#fff;border-bottom-width:0}.popover.left>.arrow:after,.popover.right>.arrow:after{bottom:-10px;content:\" \"}.popover.right>.arrow{top:50%;left:-11px;margin-top:-11px;border-right-color:#999;border-right-color:rgba(0,0,0,.25);border-left-width:0}.popover.right>.arrow:after{left:1px;border-right-color:#fff;border-left-width:0}.popover.bottom>.arrow{top:-11px;left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#999;border-bottom-color:rgba(0,0,0,.25)}.popover.bottom>.arrow:after{top:1px;margin-left:-10px;content:\" \";border-top-width:0;border-bottom-color:#fff}.popover.left>.arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999;border-left-color:rgba(0,0,0,.25)}.popover.left>.arrow:after{right:1px;border-right-width:0;border-left-color:#fff}.carousel-inner{width:100%;overflow:hidden}.carousel-inner>.item{position:relative;display:none;-webkit-transition:.6s ease-in-out left;-o-transition:.6s ease-in-out left;transition:.6s ease-in-out left}.carousel-inner>.item>a>img,.carousel-inner>.item>img{line-height:1}@media all and (transform-3d),(-webkit-transform-3d){.carousel-inner>.item{-webkit-transition:-webkit-transform .6s ease-in-out;-o-transition:-o-transform .6s ease-in-out;transition:transform .6s ease-in-out;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000px;perspective:1000px}.carousel-inner>.item.active.right,.carousel-inner>.item.next{left:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.carousel-inner>.item.active.left,.carousel-inner>.item.prev{left:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}.carousel-inner>.item.active,.carousel-inner>.item.next.left,.carousel-inner>.item.prev.right{left:0;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}.carousel-inner>.active,.carousel-inner>.next,.carousel-inner>.prev{display:block}.carousel-inner>.active{left:0}.carousel-inner>.next,.carousel-inner>.prev{position:absolute;top:0;width:100%}.carousel-inner>.next{left:100%}.carousel-inner>.prev{left:-100%}.carousel-inner>.next.left,.carousel-inner>.prev.right{left:0}.carousel-inner>.active.left{left:-100%}.carousel-inner>.active.right{left:100%}.carousel-control{position:absolute;top:0;bottom:0;left:0;width:15%;font-size:20px;background-color:rgba(0,0,0,0);filter:alpha(opacity=50);opacity:.5}.carousel-control.left{background-image:-webkit-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:-webkit-gradient(linear,left top,right top,from(rgba(0,0,0,.5)),to(rgba(0,0,0,.0001)));background-image:linear-gradient(to right,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000', endColorstr='#00000000', GradientType=1);background-repeat:repeat-x}.carousel-control.right{right:0;left:auto;background-image:-webkit-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:-webkit-gradient(linear,left top,right top,from(rgba(0,0,0,.0001)),to(rgba(0,0,0,.5)));background-image:linear-gradient(to right,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#80000000', GradientType=1);background-repeat:repeat-x}.carousel-control:focus,.carousel-control:hover{color:#fff;text-decoration:none;filter:alpha(opacity=90);outline:0;opacity:.9}.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{position:absolute;top:50%;z-index:5;display:inline-block;margin-top:-10px}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{left:50%;margin-left:-10px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{right:50%;margin-right:-10px}.carousel-control .icon-next,.carousel-control .icon-prev{width:20px;height:20px;font-family:serif;line-height:1}.carousel-control .icon-prev:before{content:'\\2039'}.carousel-control .icon-next:before{content:'\\203a'}.carousel-indicators{position:absolute;bottom:10px;left:50%;z-index:15;width:60%;padding-left:0;margin-left:-30%;text-align:center}.carousel-indicators li{display:inline-block;width:10px;height:10px;margin:1px;text-indent:-999px;cursor:pointer;background-color:#000\\9;background-color:rgba(0,0,0,0);border:1px solid #fff;border-radius:10px}.carousel-indicators .active{width:12px;height:12px;margin:0;background-color:#fff}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px}.carousel-caption .btn,.text-hide{text-shadow:none}@media screen and (min-width:768px){.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{width:30px;height:30px;margin-top:-10px;font-size:30px}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{margin-left:-10px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{margin-right:-10px}.carousel-caption{right:20%;left:20%;padding-bottom:30px}.carousel-indicators{bottom:20px}}.btn-group-vertical>.btn-group:after,.btn-group-vertical>.btn-group:before,.btn-toolbar:after,.btn-toolbar:before,.clearfix:after,.clearfix:before,.container-fluid:after,.container-fluid:before,.container:after,.container:before,.dl-horizontal dd:after,.dl-horizontal dd:before,.form-horizontal .form-group:after,.form-horizontal .form-group:before,.modal-footer:after,.modal-footer:before,.modal-header:after,.modal-header:before,.nav:after,.nav:before,.navbar-collapse:after,.navbar-collapse:before,.navbar-header:after,.navbar-header:before,.navbar:after,.navbar:before,.pager:after,.pager:before,.panel-body:after,.panel-body:before,.row:after,.row:before{display:table;content:\" \"}.btn-group-vertical>.btn-group:after,.btn-toolbar:after,.clearfix:after,.container-fluid:after,.container:after,.dl-horizontal dd:after,.form-horizontal .form-group:after,.modal-footer:after,.modal-header:after,.nav:after,.navbar-collapse:after,.navbar-header:after,.navbar:after,.pager:after,.panel-body:after,.row:after{clear:both}.center-block{display:block;margin-right:auto;margin-left:auto}.pull-right{float:right!important}.pull-left{float:left!important}.hide{display:none!important}.show{display:block!important}.hidden,.visible-lg,.visible-lg-block,.visible-lg-inline,.visible-lg-inline-block,.visible-md,.visible-md-block,.visible-md-inline,.visible-md-inline-block,.visible-sm,.visible-sm-block,.visible-sm-inline,.visible-sm-inline-block,.visible-xs,.visible-xs-block,.visible-xs-inline,.visible-xs-inline-block{display:none!important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;background-color:transparent;border:0}.affix{position:fixed}@-ms-viewport{width:device-width}@media (max-width:767px){.visible-xs{display:block!important}table.visible-xs{display:table!important}tr.visible-xs{display:table-row!important}td.visible-xs,th.visible-xs{display:table-cell!important}.visible-xs-block{display:block!important}.visible-xs-inline{display:inline!important}.visible-xs-inline-block{display:inline-block!important}}@media (min-width:768px) and (max-width:991px){.visible-sm{display:block!important}table.visible-sm{display:table!important}tr.visible-sm{display:table-row!important}td.visible-sm,th.visible-sm{display:table-cell!important}.visible-sm-block{display:block!important}.visible-sm-inline{display:inline!important}.visible-sm-inline-block{display:inline-block!important}}@media (min-width:992px) and (max-width:1199px){.visible-md{display:block!important}table.visible-md{display:table!important}tr.visible-md{display:table-row!important}td.visible-md,th.visible-md{display:table-cell!important}.visible-md-block{display:block!important}.visible-md-inline{display:inline!important}.visible-md-inline-block{display:inline-block!important}}@media (min-width:1200px){.visible-lg{display:block!important}table.visible-lg{display:table!important}tr.visible-lg{display:table-row!important}td.visible-lg,th.visible-lg{display:table-cell!important}.visible-lg-block{display:block!important}.visible-lg-inline{display:inline!important}.visible-lg-inline-block{display:inline-block!important}.hidden-lg{display:none!important}}@media (max-width:767px){.hidden-xs{display:none!important}}@media (min-width:768px) and (max-width:991px){.hidden-sm{display:none!important}}@media (min-width:992px) and (max-width:1199px){.hidden-md{display:none!important}}.visible-print{display:none!important}@media print{.visible-print{display:block!important}table.visible-print{display:table!important}tr.visible-print{display:table-row!important}td.visible-print,th.visible-print{display:table-cell!important}}.visible-print-block{display:none!important}@media print{.visible-print-block{display:block!important}}.visible-print-inline{display:none!important}@media print{.visible-print-inline{display:inline!important}}.visible-print-inline-block{display:none!important}@media print{.visible-print-inline-block{display:inline-block!important}.hidden-print{display:none!important}}"},{"title":"","date":"2020-01-08T13:06:35.370Z","updated":"2020-01-08T13:06:35.167Z","comments":true,"path":"public/2019/11/09/RocketMQé›†ç¾¤æ­å»º/index.html","permalink":"http://ltyeamin.github.io/public/2019/11/09/RocketMQé›†ç¾¤æ­å»º/index.html","excerpt":"","text":"RocketMQé›†ç¾¤æ­å»º | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ RocketMQé›†ç¾¤æ­å»º backend RocketMQ 2019/11/09 1. RocketMQå¿«é€Ÿå…¥é—¨RocketMQæ˜¯é˜¿é‡Œå·´å·´2016å¹´MQä¸­é—´ä»¶ï¼Œä½¿ç”¨Javaè¯­è¨€å¼€å‘ï¼Œåœ¨é˜¿é‡Œå†…éƒ¨ï¼ŒRocketMQæ‰¿æŽ¥äº†ä¾‹å¦‚â€œåŒ11â€ç­‰é«˜å¹¶å‘åœºæ™¯çš„æ¶ˆæ¯æµè½¬ï¼Œèƒ½å¤Ÿå¤„ç†ä¸‡äº¿çº§åˆ«çš„æ¶ˆæ¯ã€‚ 1.1 å‡†å¤‡å·¥ä½œ1.1.1 ä¸‹è½½RocketMQRocketMQæœ€æ–°ç‰ˆæœ¬ï¼š4.5.2 Release ä¸‹è½½åœ°å€ 1.2.2 çŽ¯å¢ƒè¦æ±‚ Linux64ä½ç³»ç»Ÿ JDK1.8(64ä½) æºç å®‰è£…éœ€è¦å®‰è£…Maven 3.2.x 1.2 å®‰è£…RocketMQ1.2.1 å®‰è£…æ­¥éª¤æœ¬æ•™ç¨‹ä»¥äºŒè¿›åˆ¶åŒ…æ–¹å¼å®‰è£… è§£åŽ‹å®‰è£…åŒ… è¿›å…¥å®‰è£…ç›®å½• 2.2.2 ç›®å½•ä»‹ç» binï¼šå¯åŠ¨è„šæœ¬ï¼ŒåŒ…æ‹¬shellè„šæœ¬å’ŒCMDè„šæœ¬ confï¼šå®žä¾‹é…ç½®æ–‡ä»¶ ï¼ŒåŒ…æ‹¬brokeré…ç½®æ–‡ä»¶ã€logbacké…ç½®æ–‡ä»¶ç­‰ libï¼šä¾èµ–jaråŒ…ï¼ŒåŒ…æ‹¬Nettyã€commons-langã€FastJSONç­‰ 1.3 å¯åŠ¨RocketMQ å¯åŠ¨NameServer 1234# 1.å¯åŠ¨NameServernohup sh bin/mqnamesrv &amp;# 2.æŸ¥çœ‹å¯åŠ¨æ—¥å¿—tail -f ~/logs/rocketmqlogs/namesrv.log å¯åŠ¨Broker 1234# 1.å¯åŠ¨Brokernohup sh bin/mqbroker -n localhost:9876 &amp;# 2.æŸ¥çœ‹å¯åŠ¨æ—¥å¿—tail -f ~/logs/rocketmqlogs/broker.log é—®é¢˜æè¿°ï¼š RocketMQé»˜è®¤çš„è™šæ‹Ÿæœºå†…å­˜è¾ƒå¤§ï¼Œå¯åŠ¨Brokerå¦‚æžœå› ä¸ºå†…å­˜ä¸è¶³å¤±è´¥ï¼Œéœ€è¦ç¼–è¾‘å¦‚ä¸‹ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹JVMå†…å­˜å¤§å° 123# ç¼–è¾‘runbroker.shå’Œrunserver.shä¿®æ”¹é»˜è®¤JVMå¤§å°vi runbroker.shvi runserver.sh å‚è€ƒè®¾ç½®ï¼š 1JAVA_OPT=\"$&#123;JAVA_OPT&#125; -server -Xms256m -Xmx256m -Xmn128m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=320m\" 1.4 æµ‹è¯•RocketMQ1.4.1 å‘é€æ¶ˆæ¯1234# 1.è®¾ç½®çŽ¯å¢ƒå˜é‡export NAMESRV_ADDR=localhost:9876# 2.ä½¿ç”¨å®‰è£…åŒ…çš„Demoå‘é€æ¶ˆæ¯sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer 1.4.2 æŽ¥æ”¶æ¶ˆæ¯1234# 1.è®¾ç½®çŽ¯å¢ƒå˜é‡export NAMESRV_ADDR=localhost:9876# 2.æŽ¥æ”¶æ¶ˆæ¯sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer 1.5 å…³é—­RocketMQ1234# 1.å…³é—­NameServersh bin/mqshutdown namesrv# 2.å…³é—­Brokersh bin/mqshutdown broker 2. RocketMQé›†ç¾¤æ­å»º2.1 å„è§’è‰²ä»‹ç» Producerï¼šæ¶ˆæ¯çš„å‘é€è€…ï¼›ä¸¾ä¾‹ï¼šå‘ä¿¡è€… Consumerï¼šæ¶ˆæ¯æŽ¥æ”¶è€…ï¼›ä¸¾ä¾‹ï¼šæ”¶ä¿¡è€… Brokerï¼šæš‚å­˜å’Œä¼ è¾“æ¶ˆæ¯ï¼›ä¸¾ä¾‹ï¼šé‚®å±€ NameServerï¼šç®¡ç†Brokerï¼›ä¸¾ä¾‹ï¼šå„ä¸ªé‚®å±€çš„ç®¡ç†æœºæž„ Topicï¼šåŒºåˆ†æ¶ˆæ¯çš„ç§ç±»ï¼›ä¸€ä¸ªå‘é€è€…å¯ä»¥å‘é€æ¶ˆæ¯ç»™ä¸€ä¸ªæˆ–è€…å¤šä¸ªTopicï¼›ä¸€ä¸ªæ¶ˆæ¯çš„æŽ¥æ”¶è€…å¯ä»¥è®¢é˜…ä¸€ä¸ªæˆ–è€…å¤šä¸ªTopicæ¶ˆæ¯ Message Queueï¼šç›¸å½“äºŽæ˜¯Topicçš„åˆ†åŒºï¼›ç”¨äºŽå¹¶è¡Œå‘é€å’ŒæŽ¥æ”¶æ¶ˆæ¯ 2.2 é›†ç¾¤æ­å»ºæ–¹å¼2.2.1 é›†ç¾¤ç‰¹ç‚¹ NameServeræ˜¯ä¸€ä¸ªå‡ ä¹Žæ— çŠ¶æ€èŠ‚ç‚¹ï¼Œå¯é›†ç¾¤éƒ¨ç½²ï¼ŒèŠ‚ç‚¹ä¹‹é—´æ— ä»»ä½•ä¿¡æ¯åŒæ­¥ã€‚ Brokeréƒ¨ç½²ç›¸å¯¹å¤æ‚ï¼ŒBrokeråˆ†ä¸ºMasterä¸ŽSlaveï¼Œä¸€ä¸ªMasterå¯ä»¥å¯¹åº”å¤šä¸ªSlaveï¼Œä½†æ˜¯ä¸€ä¸ªSlaveåªèƒ½å¯¹åº”ä¸€ä¸ªMasterï¼ŒMasterä¸ŽSlaveçš„å¯¹åº”å…³ç³»é€šè¿‡æŒ‡å®šç›¸åŒçš„BrokerNameï¼Œä¸åŒçš„BrokerIdæ¥å®šä¹‰ï¼ŒBrokerIdä¸º0è¡¨ç¤ºMasterï¼Œéž0è¡¨ç¤ºSlaveã€‚Masterä¹Ÿå¯ä»¥éƒ¨ç½²å¤šä¸ªã€‚æ¯ä¸ªBrokerä¸ŽNameServeré›†ç¾¤ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å»ºç«‹é•¿è¿žæŽ¥ï¼Œå®šæ—¶æ³¨å†ŒTopicä¿¡æ¯åˆ°æ‰€æœ‰NameServerã€‚ Producerä¸ŽNameServeré›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆéšæœºé€‰æ‹©ï¼‰å»ºç«‹é•¿è¿žæŽ¥ï¼Œå®šæœŸä»ŽNameServerå–Topicè·¯ç”±ä¿¡æ¯ï¼Œå¹¶å‘æä¾›TopicæœåŠ¡çš„Masterå»ºç«‹é•¿è¿žæŽ¥ï¼Œä¸”å®šæ—¶å‘Masterå‘é€å¿ƒè·³ã€‚Producerå®Œå…¨æ— çŠ¶æ€ï¼Œå¯é›†ç¾¤éƒ¨ç½²ã€‚ Consumerä¸ŽNameServeré›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆéšæœºé€‰æ‹©ï¼‰å»ºç«‹é•¿è¿žæŽ¥ï¼Œå®šæœŸä»ŽNameServerå–Topicè·¯ç”±ä¿¡æ¯ï¼Œå¹¶å‘æä¾›TopicæœåŠ¡çš„Masterã€Slaveå»ºç«‹é•¿è¿žæŽ¥ï¼Œä¸”å®šæ—¶å‘Masterã€Slaveå‘é€å¿ƒè·³ã€‚Consumeræ—¢å¯ä»¥ä»ŽMasterè®¢é˜…æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥ä»ŽSlaveè®¢é˜…æ¶ˆæ¯ï¼Œè®¢é˜…è§„åˆ™ç”±Brokeré…ç½®å†³å®šã€‚ 2.2.3 é›†ç¾¤æ¨¡å¼1ï¼‰å•Masteræ¨¡å¼è¿™ç§æ–¹å¼é£Žé™©è¾ƒå¤§ï¼Œä¸€æ—¦Brokeré‡å¯æˆ–è€…å®•æœºæ—¶ï¼Œä¼šå¯¼è‡´æ•´ä¸ªæœåŠ¡ä¸å¯ç”¨ã€‚ä¸å»ºè®®çº¿ä¸ŠçŽ¯å¢ƒä½¿ç”¨,å¯ä»¥ç”¨äºŽæœ¬åœ°æµ‹è¯•ã€‚ 2ï¼‰å¤šMasteræ¨¡å¼ä¸€ä¸ªé›†ç¾¤æ— Slaveï¼Œå…¨æ˜¯Masterï¼Œä¾‹å¦‚2ä¸ªMasteræˆ–è€…3ä¸ªMasterï¼Œè¿™ç§æ¨¡å¼çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œå•ä¸ªMasterå®•æœºæˆ–é‡å¯ç»´æŠ¤å¯¹åº”ç”¨æ— å½±å“ï¼Œåœ¨ç£ç›˜é…ç½®ä¸ºRAID10æ—¶ï¼Œå³ä½¿æœºå™¨å®•æœºä¸å¯æ¢å¤æƒ…å†µä¸‹ï¼Œç”±äºŽRAID10ç£ç›˜éžå¸¸å¯é ï¼Œæ¶ˆæ¯ä¹Ÿä¸ä¼šä¸¢ï¼ˆå¼‚æ­¥åˆ·ç›˜ä¸¢å¤±å°‘é‡æ¶ˆæ¯ï¼ŒåŒæ­¥åˆ·ç›˜ä¸€æ¡ä¸ä¸¢ï¼‰ï¼Œæ€§èƒ½æœ€é«˜ï¼› ç¼ºç‚¹ï¼šå•å°æœºå™¨å®•æœºæœŸé—´ï¼Œè¿™å°æœºå™¨ä¸Šæœªè¢«æ¶ˆè´¹çš„æ¶ˆæ¯åœ¨æœºå™¨æ¢å¤ä¹‹å‰ä¸å¯è®¢é˜…ï¼Œæ¶ˆæ¯å®žæ—¶æ€§ä¼šå—åˆ°å½±å“ã€‚ 3ï¼‰å¤šMasterå¤šSlaveæ¨¡å¼ï¼ˆå¼‚æ­¥ï¼‰æ¯ä¸ªMasteré…ç½®ä¸€ä¸ªSlaveï¼Œæœ‰å¤šå¯¹Master-Slaveï¼ŒHAé‡‡ç”¨å¼‚æ­¥å¤åˆ¶æ–¹å¼ï¼Œä¸»å¤‡æœ‰çŸ­æš‚æ¶ˆæ¯å»¶è¿Ÿï¼ˆæ¯«ç§’çº§ï¼‰ï¼Œè¿™ç§æ¨¡å¼çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š ä¼˜ç‚¹ï¼šå³ä½¿ç£ç›˜æŸåï¼Œæ¶ˆæ¯ä¸¢å¤±çš„éžå¸¸å°‘ï¼Œä¸”æ¶ˆæ¯å®žæ—¶æ€§ä¸ä¼šå—å½±å“ï¼ŒåŒæ—¶Masterå®•æœºåŽï¼Œæ¶ˆè´¹è€…ä»ç„¶å¯ä»¥ä»ŽSlaveæ¶ˆè´¹ï¼Œè€Œä¸”æ­¤è¿‡ç¨‹å¯¹åº”ç”¨é€æ˜Žï¼Œä¸éœ€è¦äººå·¥å¹²é¢„ï¼Œæ€§èƒ½åŒå¤šMasteræ¨¡å¼å‡ ä¹Žä¸€æ ·ï¼› ç¼ºç‚¹ï¼šMasterå®•æœºï¼Œç£ç›˜æŸåæƒ…å†µä¸‹ä¼šä¸¢å¤±å°‘é‡æ¶ˆæ¯ã€‚ 4ï¼‰å¤šMasterå¤šSlaveæ¨¡å¼ï¼ˆåŒæ­¥ï¼‰æ¯ä¸ªMasteré…ç½®ä¸€ä¸ªSlaveï¼Œæœ‰å¤šå¯¹Master-Slaveï¼ŒHAé‡‡ç”¨åŒæ­¥åŒå†™æ–¹å¼ï¼Œå³åªæœ‰ä¸»å¤‡éƒ½å†™æˆåŠŸï¼Œæ‰å‘åº”ç”¨è¿”å›žæˆåŠŸï¼Œè¿™ç§æ¨¡å¼çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š ä¼˜ç‚¹ï¼šæ•°æ®ä¸ŽæœåŠ¡éƒ½æ— å•ç‚¹æ•…éšœï¼ŒMasterå®•æœºæƒ…å†µä¸‹ï¼Œæ¶ˆæ¯æ— å»¶è¿Ÿï¼ŒæœåŠ¡å¯ç”¨æ€§ä¸Žæ•°æ®å¯ç”¨æ€§éƒ½éžå¸¸é«˜ï¼› ç¼ºç‚¹ï¼šæ€§èƒ½æ¯”å¼‚æ­¥å¤åˆ¶æ¨¡å¼ç•¥ä½Žï¼ˆå¤§çº¦ä½Ž10%å·¦å³ï¼‰ï¼Œå‘é€å•ä¸ªæ¶ˆæ¯çš„RTä¼šç•¥é«˜ï¼Œä¸”ç›®å‰ç‰ˆæœ¬åœ¨ä¸»èŠ‚ç‚¹å®•æœºåŽï¼Œå¤‡æœºä¸èƒ½è‡ªåŠ¨åˆ‡æ¢ä¸ºä¸»æœºã€‚ 2.3 åŒä¸»åŒä»Žé›†ç¾¤æ­å»º2.3.1 æ€»ä½“æž¶æž„æ¶ˆæ¯é«˜å¯ç”¨é‡‡ç”¨2m-2sï¼ˆåŒæ­¥åŒå†™ï¼‰æ–¹å¼ 2.3.2 é›†ç¾¤å·¥ä½œæµç¨‹ å¯åŠ¨NameServerï¼ŒNameServerèµ·æ¥åŽç›‘å¬ç«¯å£ï¼Œç­‰å¾…Brokerã€Producerã€Consumerè¿žä¸Šæ¥ï¼Œç›¸å½“äºŽä¸€ä¸ªè·¯ç”±æŽ§åˆ¶ä¸­å¿ƒã€‚ Brokerå¯åŠ¨ï¼Œè·Ÿæ‰€æœ‰çš„NameServerä¿æŒé•¿è¿žæŽ¥ï¼Œå®šæ—¶å‘é€å¿ƒè·³åŒ…ã€‚å¿ƒè·³åŒ…ä¸­åŒ…å«å½“å‰Brokerä¿¡æ¯(IP+ç«¯å£ç­‰)ä»¥åŠå­˜å‚¨æ‰€æœ‰Topicä¿¡æ¯ã€‚æ³¨å†ŒæˆåŠŸåŽï¼ŒNameServeré›†ç¾¤ä¸­å°±æœ‰Topicè·ŸBrokerçš„æ˜ å°„å…³ç³»ã€‚ æ”¶å‘æ¶ˆæ¯å‰ï¼Œå…ˆåˆ›å»ºTopicï¼Œåˆ›å»ºTopicæ—¶éœ€è¦æŒ‡å®šè¯¥Topicè¦å­˜å‚¨åœ¨å“ªäº›Brokerä¸Šï¼Œä¹Ÿå¯ä»¥åœ¨å‘é€æ¶ˆæ¯æ—¶è‡ªåŠ¨åˆ›å»ºTopicã€‚ Producerå‘é€æ¶ˆæ¯ï¼Œå¯åŠ¨æ—¶å…ˆè·ŸNameServeré›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€å°å»ºç«‹é•¿è¿žæŽ¥ï¼Œå¹¶ä»ŽNameServerä¸­èŽ·å–å½“å‰å‘é€çš„Topicå­˜åœ¨å“ªäº›Brokerä¸Šï¼Œè½®è¯¢ä»Žé˜Ÿåˆ—åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åŽä¸Žé˜Ÿåˆ—æ‰€åœ¨çš„Brokerå»ºç«‹é•¿è¿žæŽ¥ä»Žè€Œå‘Brokerå‘æ¶ˆæ¯ã€‚ Consumerè·ŸProducerç±»ä¼¼ï¼Œè·Ÿå…¶ä¸­ä¸€å°NameServerå»ºç«‹é•¿è¿žæŽ¥ï¼ŒèŽ·å–å½“å‰è®¢é˜…Topicå­˜åœ¨å“ªäº›Brokerä¸Šï¼Œç„¶åŽç›´æŽ¥è·ŸBrokerå»ºç«‹è¿žæŽ¥é€šé“ï¼Œå¼€å§‹æ¶ˆè´¹æ¶ˆæ¯ã€‚ 2.3.3 æœåŠ¡å™¨çŽ¯å¢ƒ åºå· IP è§’è‰² æž¶æž„æ¨¡å¼ 1 192.168.5.100 nameserverã€brokerserver Master1ã€Slave2 2 192.168.5.101 nameserverã€brokerserver Master2ã€Slave1 2.3.4 Hostæ·»åŠ ä¿¡æ¯1vim /etc/hosts é…ç½®å¦‚ä¸‹: 12345678# nameserver192.168.5.100 rocketmq-nameserver1192.168.5.101 rocketmq-nameserver2# broker192.168.5.100 rocketmq-master1192.168.5.100 rocketmq-slave2192.168.5.101 rocketmq-master2192.168.5.101 rocketmq-slave1 é…ç½®å®ŒæˆåŽ, é‡å¯ç½‘å¡ 1systemctl restart network 2.3.5 é˜²ç«å¢™é…ç½®å®¿ä¸»æœºéœ€è¦è¿œç¨‹è®¿é—®è™šæ‹Ÿæœºçš„rocketmqæœåŠ¡å’ŒwebæœåŠ¡ï¼Œéœ€è¦å¼€æ”¾ç›¸å…³çš„ç«¯å£å·ï¼Œç®€å•ç²—æš´çš„æ–¹å¼æ˜¯ç›´æŽ¥å…³é—­é˜²ç«å¢™ 123456# å…³é—­é˜²ç«å¢™systemctl stop firewalld.service # æŸ¥çœ‹é˜²ç«å¢™çš„çŠ¶æ€firewall-cmd --state # ç¦æ­¢firewallå¼€æœºå¯åŠ¨systemctl disable firewalld.service æˆ–è€…ä¸ºäº†å®‰å…¨ï¼Œåªå¼€æ”¾ç‰¹å®šçš„ç«¯å£å·ï¼ŒRocketMQé»˜è®¤ä½¿ç”¨3ä¸ªç«¯å£ï¼š9876 ã€10911 ã€11011 ã€‚å¦‚æžœé˜²ç«å¢™æ²¡æœ‰å…³é—­çš„è¯ï¼Œé‚£ä¹ˆé˜²ç«å¢™å°±å¿…é¡»å¼€æ”¾è¿™äº›ç«¯å£ï¼š nameserver é»˜è®¤ä½¿ç”¨ 9876 ç«¯å£ master é»˜è®¤ä½¿ç”¨ 10911 ç«¯å£ slave é»˜è®¤ä½¿ç”¨11011 ç«¯å£ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 12345678# å¼€æ”¾name serveré»˜è®¤ç«¯å£firewall-cmd --remove-port=9876/tcp --permanent# å¼€æ”¾masteré»˜è®¤ç«¯å£firewall-cmd --remove-port=10911/tcp --permanent# å¼€æ”¾slaveé»˜è®¤ç«¯å£ (å½“å‰é›†ç¾¤æ¨¡å¼å¯ä¸å¼€å¯)firewall-cmd --remove-port=11011/tcp --permanent # é‡å¯é˜²ç«å¢™firewall-cmd --reload 2.3.6 çŽ¯å¢ƒå˜é‡é…ç½®1vim /etc/profile åœ¨profileæ–‡ä»¶çš„æœ«å°¾åŠ å…¥å¦‚ä¸‹å‘½ä»¤ 1234#set rocketmqROCKETMQ_HOME=/usr/local/bin/rocketmq-all-4.5.2-bin-releasePATH=$PATH:$ROCKETMQ_HOME/binexport ROCKETMQ_HOME PATH è¾“å…¥:wq! ä¿å­˜å¹¶é€€å‡ºï¼Œ å¹¶ä½¿å¾—é…ç½®ç«‹åˆ»ç”Ÿæ•ˆï¼š 1source /etc/profile 2.3.7 åˆ›å»ºæ¶ˆæ¯å­˜å‚¨è·¯å¾„1234567mkdir $ROCKETMQ_HOME/storemkdir $ROCKETMQ_HOME/store/commitlogmkdir $ROCKETMQ_HOME/store/consumequeuemkdir $ROCKETMQ_HOME/store/indexmkdir $ROCKETMQ_HOME/store/abortmkdir $ROCKETMQ_HOMEcheckpointcp -r $ROCKETMQ_HOME/store/ $ROCKETMQ_HOME/slave-store 2.3.8 brokeré…ç½®æ–‡ä»¶1ï¼‰master1æœåŠ¡å™¨ï¼š192.168.5.100 1vi $ROCKETMQ_HOME/conf/2m-2s-sync/broker-a.properties ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#æ‰€å±žé›†ç¾¤åå­—brokerClusterName=rocketmq-cluster#brokeråå­—ï¼Œæ³¨æ„æ­¤å¤„ä¸åŒçš„é…ç½®æ–‡ä»¶å¡«å†™çš„ä¸ä¸€æ ·brokerName=broker-a#0 è¡¨ç¤º Masterï¼Œ&gt;0 è¡¨ç¤º SlavebrokerId=0#nameServeråœ°å€ï¼Œåˆ†å·åˆ†å‰²ï¼Œæ³¨æ„è¿™é‡Œä¸€ä¸‹ç”±ä¸ªå‘ï¼Œå°±æ˜¯;åŽé¢è¦æœ‰ç©ºæ ¼namesrvAddr=rocketmq-nameserver1:9876; rocketmq-nameserver2:9876#åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ä¸å­˜åœ¨çš„topicï¼Œé»˜è®¤åˆ›å»ºçš„é˜Ÿåˆ—æ•°defaultTopicQueueNums=4#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºTopicï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateTopicEnable=true#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºè®¢é˜…ç»„ï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateSubscriptionGroup=true#Broker å¯¹å¤–æœåŠ¡çš„ç›‘å¬ç«¯å£listenPort=10911#åˆ é™¤æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4ç‚¹deleteWhen=04#æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶fileReservedTime=120#commitLogæ¯ä¸ªæ–‡ä»¶çš„å¤§å°é»˜è®¤1GmappedFileSizeCommitLog=1073741824#ConsumeQueueæ¯ä¸ªæ–‡ä»¶é»˜è®¤å­˜30Wæ¡ï¼Œæ ¹æ®ä¸šåŠ¡æƒ…å†µè°ƒæ•´mappedFileSizeConsumeQueue=300000#destroyMappedFileIntervalForcibly=120000#redeleteHangedFileInterval=120000#æ£€æµ‹ç‰©ç†æ–‡ä»¶ç£ç›˜ç©ºé—´diskMaxUsedSpaceRatio=88#å­˜å‚¨è·¯å¾„storePathRootDir=$ROCKETMQ_HOME/store#commitLog å­˜å‚¨è·¯å¾„storePathCommitLog=$ROCKETMQ_HOME/store/commitlog#æ¶ˆè´¹é˜Ÿåˆ—å­˜å‚¨è·¯å¾„å­˜å‚¨è·¯å¾„storePathConsumeQueue=$ROCKETMQ_HOME/store/consumequeue#æ¶ˆæ¯ç´¢å¼•å­˜å‚¨è·¯å¾„storePathIndex=$ROCKETMQ_HOME/store/index#checkpoint æ–‡ä»¶å­˜å‚¨è·¯å¾„storeCheckpoint=$ROCKETMQ_HOME/store/checkpoint#abort æ–‡ä»¶å­˜å‚¨è·¯å¾„abortFile=$ROCKETMQ_HOME/store/abort#é™åˆ¶çš„æ¶ˆæ¯å¤§å°maxMessageSize=65536#flushCommitLogLeastPages=4#flushConsumeQueueLeastPages=2#flushCommitLogThoroughInterval=10000#flushConsumeQueueThoroughInterval=60000#Broker çš„è§’è‰²#- ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master#- SYNC_MASTER åŒæ­¥åŒå†™Master#- SLAVEbrokerRole=SYNC_MASTER#åˆ·ç›˜æ–¹å¼#- ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜#- SYNC_FLUSH åŒæ­¥åˆ·ç›˜flushDiskType=SYNC_FLUSH#checkTransactionMessageEnable=false#å‘æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#sendMessageThreadPoolNums=128#æ‹‰æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#pullMessageThreadPoolNums=128 2ï¼‰slave2æœåŠ¡å™¨ï¼š192.168.5.100 1vi $ROCKETMQ_HOME/conf/2m-2s-sync/broker-b-s.properties ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#æ‰€å±žé›†ç¾¤åå­—brokerClusterName=rocketmq-cluster#brokeråå­—ï¼Œæ³¨æ„æ­¤å¤„ä¸åŒçš„é…ç½®æ–‡ä»¶å¡«å†™çš„ä¸ä¸€æ ·brokerName=broker-b#0 è¡¨ç¤º Masterï¼Œ&gt;0 è¡¨ç¤º SlavebrokerId=1#nameServeråœ°å€ï¼Œåˆ†å·åˆ†å‰²ï¼Œæ³¨æ„è¿™é‡Œä¸€ä¸‹ç”±ä¸ªå‘ï¼Œå°±æ˜¯;åŽé¢è¦æœ‰ç©ºæ ¼namesrvAddr=rocketmq-nameserver1:9876; rocketmq-nameserver2:9876#åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ä¸å­˜åœ¨çš„topicï¼Œé»˜è®¤åˆ›å»ºçš„é˜Ÿåˆ—æ•°defaultTopicQueueNums=4#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºTopicï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateTopicEnable=true#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºè®¢é˜…ç»„ï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateSubscriptionGroup=true#Broker å¯¹å¤–æœåŠ¡çš„ç›‘å¬ç«¯å£listenPort=11011#åˆ é™¤æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4ç‚¹deleteWhen=04#æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶fileReservedTime=120#commitLogæ¯ä¸ªæ–‡ä»¶çš„å¤§å°é»˜è®¤1GmappedFileSizeCommitLog=1073741824#ConsumeQueueæ¯ä¸ªæ–‡ä»¶é»˜è®¤å­˜30Wæ¡ï¼Œæ ¹æ®ä¸šåŠ¡æƒ…å†µè°ƒæ•´# mapedFileSizeConsumeQueue=300000 è¿™ä¸ªé…ç½®åœ¨4.5.2ç‰ˆæœ¬æ²¡ç”¨ï¼Œç‰ˆæœ¬å‡çº§å¸¦æ¥çš„é…ç½®ç¼–å·mappedFileSizeConsumeQueue=300000#destroyMappedFileIntervalForcibly=120000#redeleteHangedFileInterval=120000#æ£€æµ‹ç‰©ç†æ–‡ä»¶ç£ç›˜ç©ºé—´diskMaxUsedSpaceRatio=88#å­˜å‚¨è·¯å¾„storePathRootDir=$ROCKETMQ_HOME/slave-store#commitLog å­˜å‚¨è·¯å¾„storePathCommitLog=$ROCKETMQ_HOME/slave-store/commitlog#æ¶ˆè´¹é˜Ÿåˆ—å­˜å‚¨è·¯å¾„å­˜å‚¨è·¯å¾„storePathConsumeQueue=$ROCKETMQ_HOME/slave-store/consumequeue#æ¶ˆæ¯ç´¢å¼•å­˜å‚¨è·¯å¾„storePathIndex=$ROCKETMQ_HOME/slave-store/index#checkpoint æ–‡ä»¶å­˜å‚¨è·¯å¾„storeCheckpoint=$ROCKETMQ_HOME/slave-store/checkpoint#abort æ–‡ä»¶å­˜å‚¨è·¯å¾„abortFile=$ROCKETMQ_HOME/slave-store/abort#é™åˆ¶çš„æ¶ˆæ¯å¤§å°maxMessageSize=65536#flushCommitLogLeastPages=4#flushConsumeQueueLeastPages=2#flushCommitLogThoroughInterval=10000#flushConsumeQueueThoroughInterval=60000#Broker çš„è§’è‰²#- ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master#- SYNC_MASTER åŒæ­¥åŒå†™Master#- SLAVEbrokerRole=SLAVE#åˆ·ç›˜æ–¹å¼#- ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜#- SYNC_FLUSH åŒæ­¥åˆ·ç›˜flushDiskType=ASYNC_FLUSH#checkTransactionMessageEnable=false#å‘æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#sendMessageThreadPoolNums=128#æ‹‰æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#pullMessageThreadPoolNums=128 3ï¼‰master2æœåŠ¡å™¨ï¼š192.168.5.101 1vi $ROCKETMQ_HOME/conf/2m-2s-sync/broker-b.properties ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#æ‰€å±žé›†ç¾¤åå­—brokerClusterName=rocketmq-cluster#brokeråå­—ï¼Œæ³¨æ„æ­¤å¤„ä¸åŒçš„é…ç½®æ–‡ä»¶å¡«å†™çš„ä¸ä¸€æ ·brokerName=broker-b#0 è¡¨ç¤º Masterï¼Œ&gt;0 è¡¨ç¤º SlavebrokerId=0#nameServeråœ°å€ï¼Œåˆ†å·åˆ†å‰²ï¼Œæ³¨æ„è¿™é‡Œä¸€ä¸‹ç”±ä¸ªå‘ï¼Œå°±æ˜¯;åŽé¢è¦æœ‰ç©ºæ ¼namesrvAddr=rocketmq-nameserver1:9876; rocketmq-nameserver2:9876#åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ä¸å­˜åœ¨çš„topicï¼Œé»˜è®¤åˆ›å»ºçš„é˜Ÿåˆ—æ•°defaultTopicQueueNums=4#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºTopicï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateTopicEnable=true#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºè®¢é˜…ç»„ï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateSubscriptionGroup=true#Broker å¯¹å¤–æœåŠ¡çš„ç›‘å¬ç«¯å£listenPort=10911#åˆ é™¤æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4ç‚¹deleteWhen=04#æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶fileReservedTime=120#commitLogæ¯ä¸ªæ–‡ä»¶çš„å¤§å°é»˜è®¤1GmappedFileSizeCommitLog=1073741824#ConsumeQueueæ¯ä¸ªæ–‡ä»¶é»˜è®¤å­˜30Wæ¡ï¼Œæ ¹æ®ä¸šåŠ¡æƒ…å†µè°ƒæ•´mappedFileSizeConsumeQueue=300000#destroyMappedFileIntervalForcibly=120000#redeleteHangedFileInterval=120000#æ£€æµ‹ç‰©ç†æ–‡ä»¶ç£ç›˜ç©ºé—´diskMaxUsedSpaceRatio=88#å­˜å‚¨è·¯å¾„storePathRootDir=$ROCKETMQ_HOME/store#commitLog å­˜å‚¨è·¯å¾„storePathCommitLog=$ROCKETMQ_HOME/store/commitlog#æ¶ˆè´¹é˜Ÿåˆ—å­˜å‚¨è·¯å¾„å­˜å‚¨è·¯å¾„storePathConsumeQueue=$ROCKETMQ_HOME/store/consumequeue#æ¶ˆæ¯ç´¢å¼•å­˜å‚¨è·¯å¾„storePathIndex=$ROCKETMQ_HOME/store/index#checkpoint æ–‡ä»¶å­˜å‚¨è·¯å¾„storeCheckpoint=$ROCKETMQ_HOME/store/checkpoint#abort æ–‡ä»¶å­˜å‚¨è·¯å¾„abortFile=$ROCKETMQ_HOME/store/abort#é™åˆ¶çš„æ¶ˆæ¯å¤§å°maxMessageSize=65536#flushCommitLogLeastPages=4#flushConsumeQueueLeastPages=2#flushCommitLogThoroughInterval=10000#flushConsumeQueueThoroughInterval=60000#Broker çš„è§’è‰²#- ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master#- SYNC_MASTER åŒæ­¥åŒå†™Master#- SLAVEbrokerRole=SYNC_MASTER#åˆ·ç›˜æ–¹å¼#- ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜#- SYNC_FLUSH åŒæ­¥åˆ·ç›˜flushDiskType=SYNC_FLUSH#checkTransactionMessageEnable=false#å‘æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#sendMessageThreadPoolNums=128#æ‹‰æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#pullMessageThreadPoolNums=128 4ï¼‰slave1æœåŠ¡å™¨ï¼š192.168.5.101 1vi $ROCKETMQ_HOME/conf/2m-2s-sync/broker-a-s.properties ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#æ‰€å±žé›†ç¾¤åå­—brokerClusterName=rocketmq-cluster#brokeråå­—ï¼Œæ³¨æ„æ­¤å¤„ä¸åŒçš„é…ç½®æ–‡ä»¶å¡«å†™çš„ä¸ä¸€æ ·brokerName=broker-a#0 è¡¨ç¤º Masterï¼Œ&gt;0 è¡¨ç¤º SlavebrokerId=1#nameServeråœ°å€ï¼Œåˆ†å·åˆ†å‰²namesrvAddr=rocketmq-nameserver1:9876; rocketmq-nameserver2:9876#åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ä¸å­˜åœ¨çš„topicï¼Œé»˜è®¤åˆ›å»ºçš„é˜Ÿåˆ—æ•°defaultTopicQueueNums=4#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºTopicï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateTopicEnable=true#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºè®¢é˜…ç»„ï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateSubscriptionGroup=true#Broker å¯¹å¤–æœåŠ¡çš„ç›‘å¬ç«¯å£listenPort=11011#åˆ é™¤æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4ç‚¹deleteWhen=04#æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶fileReservedTime=120#commitLogæ¯ä¸ªæ–‡ä»¶çš„å¤§å°é»˜è®¤1GmapedFileSizeCommitLog=1073741824#ConsumeQueueæ¯ä¸ªæ–‡ä»¶é»˜è®¤å­˜30Wæ¡ï¼Œæ ¹æ®ä¸šåŠ¡æƒ…å†µè°ƒæ•´mappedFileSizeConsumeQueue=300000#destroyMappedFileIntervalForcibly=120000#redeleteHangedFileInterval=120000#æ£€æµ‹ç‰©ç†æ–‡ä»¶ç£ç›˜ç©ºé—´diskMaxUsedSpaceRatio=88#å­˜å‚¨è·¯å¾„storePathRootDir=$ROCKETMQ_HOME/slave-store#commitLog å­˜å‚¨è·¯å¾„storePathCommitLog=$ROCKETMQ_HOME/slave-store/commitlog#æ¶ˆè´¹é˜Ÿåˆ—å­˜å‚¨è·¯å¾„å­˜å‚¨è·¯å¾„storePathConsumeQueue=$ROCKETMQ_HOME/slave-store/consumequeue#æ¶ˆæ¯ç´¢å¼•å­˜å‚¨è·¯å¾„storePathIndex=$ROCKETMQ_HOME/slave-store/index#checkpoint æ–‡ä»¶å­˜å‚¨è·¯å¾„storeCheckpoint=$ROCKETMQ_HOME/checkpoint#abort æ–‡ä»¶å­˜å‚¨è·¯å¾„abortFile=/$ROCKETMQ_HOME/slave-store/abort#é™åˆ¶çš„æ¶ˆæ¯å¤§å°maxMessageSize=65536#flushCommitLogLeastPages=4#flushConsumeQueueLeastPages=2#flushCommitLogThoroughInterval=10000#flushConsumeQueueThoroughInterval=60000#Broker çš„è§’è‰²#- ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master#- SYNC_MASTER åŒæ­¥åŒå†™Master#- SLAVEbrokerRole=SLAVE#åˆ·ç›˜æ–¹å¼#- ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜#- SYNC_FLUSH åŒæ­¥åˆ·ç›˜flushDiskType=ASYNC_FLUSH#checkTransactionMessageEnable=false#å‘æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#sendMessageThreadPoolNums=128#æ‹‰æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#pullMessageThreadPoolNums=128 2.3.9 ä¿®æ”¹å¯åŠ¨è„šæœ¬æ–‡ä»¶1ï¼‰runbroker.sh1vi $ROCKETMQ_HOME/bin/runbroker.sh éœ€è¦æ ¹æ®å†…å­˜å¤§å°è¿›è¡Œé€‚å½“çš„å¯¹JVMå‚æ•°è¿›è¡Œè°ƒæ•´ï¼š 123#===================================================# å¼€å‘çŽ¯å¢ƒé…ç½® JVM ConfigurationJAVA_OPT=\"$&#123;JAVA_OPT&#125; -server -Xms256m -Xmx256m -Xmn128m\" 2ï¼‰runserver.sh1vim $ROCKETMQ_HOME/bin/runserver.sh 1JAVA_OPT=\"$&#123;JAVA_OPT&#125; -server -Xms256m -Xmx256m -Xmn128m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=320m\" 3.3.10 æœåŠ¡å¯åŠ¨1ï¼‰å¯åŠ¨NameServeé›†ç¾¤åˆ†åˆ«åœ¨192.168.5.100å’Œ192.168.5.101å¯åŠ¨NameServer 12cd $ROCKETMQ_HOME/binnohup sh mqnamesrv &amp; 2ï¼‰å¯åŠ¨Brokeré›†ç¾¤ åœ¨192.168.5.100ä¸Šå¯åŠ¨master1å’Œslave2 master1ï¼š 1nohup sh mqbroker -c $ROCKETMQ_HOME/conf/2m-2s-sync/broker-a.properties &amp; slave2ï¼š 1nohup sh mqbroker -c $ROCKETMQ_HOME/conf/2m-2s-sync/broker-b-s.properties &amp; åœ¨192.168.5.101ä¸Šå¯åŠ¨master2å’Œslave2 master2 12cd /usr/local/bin/rocketmq-all-4.5.2-bin-release/binnohup sh mqbroker -c $ROCKETMQ_HOME/conf/2m-2s-sync/broker-b.properties &amp; slave1 12cd /usr/local/bin/rocketmq-all-4.5.2-bin-release/binnohup sh mqbroker -c $ROCKETMQ_HOME/conf/2m-2s-sync/broker-a-s.properties &amp; 2.3.11 æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€å¯åŠ¨åŽé€šè¿‡JPSæŸ¥çœ‹å¯åŠ¨è¿›ç¨‹ 2.3.12 æŸ¥çœ‹æ—¥å¿—1234# æŸ¥çœ‹nameServeræ—¥å¿—tail -500f ~/logs/rocketmqlogs/namesrv.log# æŸ¥çœ‹brokeræ—¥å¿—tail -500f ~/logs/rocketmqlogs/broker.log 3. å‚è€ƒæ–‡æ¡£ RocketMQå‡çº§Bug RocketMQé›†ç¾¤æ­å»º èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ LinuxåŸºç¡€-SSHå…å¯†ç™»å½• ä¸‹ä¸€ç¯‡ RocketMQæ¦‚è¿° new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• 1. RocketMQå¿«é€Ÿå…¥é—¨1.1 å‡†å¤‡å·¥ä½œ1.1.1 ä¸‹è½½RocketMQ1.2.2 çŽ¯å¢ƒè¦æ±‚1.2 å®‰è£…RocketMQ1.2.1 å®‰è£…æ­¥éª¤2.2.2 ç›®å½•ä»‹ç»1.3 å¯åŠ¨RocketMQ1.4 æµ‹è¯•RocketMQ1.4.1 å‘é€æ¶ˆæ¯1.4.2 æŽ¥æ”¶æ¶ˆæ¯1.5 å…³é—­RocketMQ2. RocketMQé›†ç¾¤æ­å»º2.1 å„è§’è‰²ä»‹ç»2.2 é›†ç¾¤æ­å»ºæ–¹å¼2.2.1 é›†ç¾¤ç‰¹ç‚¹2.2.3 é›†ç¾¤æ¨¡å¼1ï¼‰å•Masteræ¨¡å¼2ï¼‰å¤šMasteræ¨¡å¼3ï¼‰å¤šMasterå¤šSlaveæ¨¡å¼ï¼ˆå¼‚æ­¥ï¼‰4ï¼‰å¤šMasterå¤šSlaveæ¨¡å¼ï¼ˆåŒæ­¥ï¼‰2.3 åŒä¸»åŒä»Žé›†ç¾¤æ­å»º2.3.1 æ€»ä½“æž¶æž„2.3.2 é›†ç¾¤å·¥ä½œæµç¨‹2.3.3 æœåŠ¡å™¨çŽ¯å¢ƒ2.3.4 Hostæ·»åŠ ä¿¡æ¯2.3.5 é˜²ç«å¢™é…ç½®2.3.6 çŽ¯å¢ƒå˜é‡é…ç½®2.3.7 åˆ›å»ºæ¶ˆæ¯å­˜å‚¨è·¯å¾„2.3.8 brokeré…ç½®æ–‡ä»¶1ï¼‰master12ï¼‰slave23ï¼‰master24ï¼‰slave12.3.9 ä¿®æ”¹å¯åŠ¨è„šæœ¬æ–‡ä»¶1ï¼‰runbroker.sh2ï¼‰runserver.sh3.3.10 æœåŠ¡å¯åŠ¨1ï¼‰å¯åŠ¨NameServeé›†ç¾¤2ï¼‰å¯åŠ¨Brokeré›†ç¾¤2.3.11 æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€2.3.12 æŸ¥çœ‹æ—¥å¿—3. å‚è€ƒæ–‡æ¡£ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.702Z","updated":"2019-11-27T15:22:16.702Z","comments":true,"path":"public/2019/10/12/ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®/index.html","permalink":"http://ltyeamin.github.io/public/2019/10/12/ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®/index.html","excerpt":"","text":"ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ® backend Python 2019/10/12 çˆ¬è™«åˆ†æžçˆ¬è™«éœ€æ±‚æè¿°: çˆ¬å–çŒ«çœ¼ç”µå½±TOP100çš„ç”µå½±åç§°ã€æ—¶é—´ã€è¯„åˆ†ã€æµ·æŠ¥å›¾ç‰‡ç­‰ä¿¡æ¯ ç«™ç‚¹: https://maoyan.com/board/4 åˆ†æž: æ‰“å¼€ç«™ç‚¹å³æ˜¯çŒ«çœ¼ç”µå½±TOP100çš„ç¬¬ä¸€é¡µ,ç‚¹å‡»ä¸‹ä¸€é¡µï¼Œæˆ‘ä»¬è§‚å¯Ÿåœ°å€æ URLåŽè¾¹è¿½åŠ äº†?offset=10çš„å‚æ•°ï¼Œæ˜¾ç„¶offsetå‚æ•°ä»£è¡¨åç§»é‡ï¼Œoffset=10è¡¨ç¤ºç¬¬ä¸€é¡µï¼Œoffset=20è¡¨ç¤ºç¬¬äºŒé¡µï¼Œç”±æ­¤å¯æŽ¨ï¼Œè‹¥åç§»é‡æœªnï¼Œåˆ™ç”µå½±åºå·å°±æ˜¯n+1åˆ°n+10ï¼Œæ¯é¡µæ˜¾ç¤º10ä¸ªã€‚å› æ­¤ï¼Œæƒ³è¦èŽ·å–TOP100ï¼Œè¦åˆ†å¼€è¯·æ±‚10æ¬¡ï¼Œè€Œ10æ¬¡çš„offsetå‚æ•°å€¼åˆ†åˆ«è®¾ç½®ä¸º0ã€10ã€20â€¦90å³å¯ï¼Œè¿™æ ·èŽ·å–ä¸åŒçš„é¡µé¢ä¹‹åŽï¼Œå†é€šè¿‡ä»»æ„ä¸€ä¸ªçš„è§£æžå™¨æå–ç›¸å…³çš„æ•°æ®å³å¯å®Œæˆã€‚ ä»£ç ç¼–å†™åˆ©ç”¨æ­£åˆ™è¿›è¡Œè§£æž1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#!/usr/bin python3.6# -*- encoding: utf-8 -*-\"\"\"@File : __init__.py.py@Description : åˆ©ç”¨requestsåº“å’Œlxmlè§£æžåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®@Author : tong.li@Email : lt_alex@163.com@Blog : http://blog.yeamin.top@Time : 2019/10/12 ä¸‹åˆ8:31\"\"\"import requestsimport reimport timefrom requests.exceptions import RequestExceptiondef request_page(url): try: # è®¾ç½®è¯·æ±‚å¤´ headers = &#123; 'User-Agent' : 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36' &#125; response = requests.get(url, headers=headers) if response.status_code == 200: text = response.text # èŽ·å–ç”µå½±æŽ’åã€æµ·æŠ¥ã€åç§°ã€ä¸»æ¼”ã€å‘å¸ƒæ—¶é—´ã€è¯„åˆ† regx = re.compile('&lt;dd&gt;.*?board-index.*?&gt;(.*?)&lt;/i&gt;.*?data-src=\"(.*?)\".*?name.*?a.*?&gt;(.*?)&lt;/a&gt;' '.*?star.*?&gt;.*?ï¼š(.*?)\\s*&lt;/p&gt;.*?releasetime.*?&gt;.*?ï¼š(.*?)&lt;/p&gt;.*?integer.*?&gt;(.*?)&lt;/i&gt;' '.*?fraction.*?&gt;(.*?)&lt;/i&gt;.*?&lt;/dd&gt;', re.S) items = re.findall(regx, text) for item in items: yield &#123; 'index': item[0], 'name': item[2], 'actor': item[3], 'post_img': item[1], 'time': item[4], 'score': item[5]+item[6] &#125; return items return None except RequestException: return None# å­˜å‚¨:æ–‡ä»¶/æ•°æ®åº“def store(text,filename): with open(filename, 'a', encoding='utf-8') as file: file.write(str(text) + '\\n')def getData(url): datas = request_page(url) for data in datas: # æŽ§åˆ¶å°æ‰“å°æ•°æ® print(data) # å°†æ•°æ®å†™å…¥txtçº¯æ–‡æœ¬æ–‡ä»¶ä¸­ store(data,'result.txt')if __name__ == '__main__': # çŒ«çœ¼ç”µå½±TOP100æ¦œå• url = 'https://maoyan.com/board/4?offset=' for i in range(10): getData(url + str(i * 10)) # çŒ«çœ¼ç”µå½±æœ‰åçˆ¬è™«é™åˆ¶,çˆ¬çš„å¤ªå¤šä¼šæœ‰IPæˆ–éªŒè¯ç é™åˆ¶,ç­‰å¾…0.5æ¯«ç§’å†æ¬¡è¯·æ±‚ time.sleep(0.5) åˆ©ç”¨xlmlåŠXpathè§£æž12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#!/usr/bin python3.6# -*- encoding: utf-8 -*-\"\"\"@File : __init__.py.py@Description : åˆ©ç”¨requestsåº“å’Œlxmlè§£æžåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®@Author : tong.li@Email : lt_alex@163.com@Blog : http://blog.yeamin.top@Time : 2019/10/12 ä¸‹åˆ8:31\"\"\"from lxml import etreeimport requestsimport timefrom requests.exceptions import RequestExceptiondef request_page(url): try: # è®¾ç½®è¯·æ±‚å¤´ headers = &#123; 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36' &#125; response = requests.get(url, headers=headers) if response.status_code == 200: text = response.text return text return None except RequestException: return Nonedef dealData(items): for item in items: yield &#123; 'index': item[0], 'name': item[1], 'actor': item[2].strip(), 'time': item[3][5:], 'score': item[4] + item[5], 'post_img': item[6] &#125; return itemsif __name__ == '__main__': for i in range(10): # çŒ«çœ¼ç”µå½±TOP100æ¦œå• url = 'https://maoyan.com/board/4?offset='+ str(i * 10) html = etree.HTML(request_page(url)) indexs = html.xpath('//*[@id=\"app\"]/div/div/div[1]/dl/dd/i/text()') name = html.xpath('//*[@id=\"app\"]/div/div/div[1]/dl/dd/div/div/div[1]/p[1]/a/text()') actor = html.xpath('//*[@id=\"app\"]/div/div/div[1]/dl/dd/div/div/div[1]/p[2]/text()') times = html.xpath('//*[@id=\"app\"]/div/div/div[1]/dl/dd/div/div/div[1]/p[3]/text()') score1 = html.xpath('//*[@id=\"app\"]/div/div/div[1]/dl/dd/div/div/div[2]/p/i[1]/text()') score2 = html.xpath('//*[@id=\"app\"]/div/div/div[1]/dl/dd/div/div/div[2]/p/i[2]/text()') # å–å›¾ç‰‡åœ°å€çš„æ—¶å€™å‘çŽ°é—®é¢˜,æ‰“å¼€æµè§ˆå™¨F12æŽ§åˆ¶å°,åœ¨Elementçœ‹åˆ°çš„imgæ ‡ç­¾å›¾ç‰‡åœ°å€å±žæ€§åä¸ºsrc, # ä½†æ˜¯åœ¨Sourceä¸‹çœ‹åˆ°çš„å±žæ€§åæ˜¯data-src,åŽŸå› å¯èƒ½æ˜¯æµè§ˆå™¨å¯¹JavaScriptä»£ç è¿›è¡Œäº†æ¸²æŸ“ images = html.xpath('//*[@class=\"board-img\"]/@data-src') datas = zip(indexs,name,actor,times,score1,score2,images) for data in dealData(datas): print(data) # çŒ«çœ¼ç”µå½±æœ‰åçˆ¬è™«é™åˆ¶,çˆ¬çš„å¤ªå¤šä¼šæœ‰IPæˆ–éªŒè¯ç é™åˆ¶,ç­‰å¾…0.5æ¯«ç§’å†æ¬¡è¯·æ±‚ time.sleep(0.5) çˆ¬å–ç»“æžœ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100&#123;'index': '1', 'name': 'éœ¸çŽ‹åˆ«å§¬', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,å¼ ä¸°æ¯…,å·©ä¿', 'time': '1993-07-26', 'score': '9.5', 'post_img': 'https://p1.meituan.net/movie/20803f59291c47e1e116c11963ce019e68711.jpg@160w_220h_1e_1c'&#125;&#123;'index': '2', 'name': 'è‚–ç”³å…‹çš„æ•‘èµŽ', 'actor': 'ä¸»æ¼”ï¼šè’‚å§†Â·ç½—å®¾æ–¯,æ‘©æ ¹Â·å¼—é‡Œæ›¼,é²å‹ƒÂ·å†ˆé¡¿', 'time': '1994-09-10(åŠ æ‹¿å¤§)', 'score': '9.5', 'post_img': 'https://p0.meituan.net/movie/283292171619cdfd5b240c8fd093f1eb255670.jpg@160w_220h_1e_1c'&#125;&#123;'index': '3', 'name': 'ç½—é©¬å‡æ—¥', 'actor': 'ä¸»æ¼”ï¼šæ ¼åˆ©é«˜é‡ŒÂ·æ´¾å…‹,å¥¥é»›ä¸½Â·èµ«æœ¬,åŸƒè¿ªÂ·è‰¾ä¼¯ç‰¹', 'time': '1953-09-02(ç¾Žå›½)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/289f98ceaa8a0ae737d3dc01cd05ab052213631.jpg@160w_220h_1e_1c'&#125;&#123;'index': '4', 'name': 'è¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·', 'actor': 'ä¸»æ¼”ï¼šè®©Â·é›·è¯º,åŠ é‡ŒÂ·å¥¥å¾·æ›¼,å¨œå¡”èŽ‰Â·æ³¢ç‰¹æ›¼', 'time': '1994-09-14(æ³•å›½)', 'score': '9.5', 'post_img': 'https://p1.meituan.net/movie/6bea9af4524dfbd0b668eaa7e187c3df767253.jpg@160w_220h_1e_1c'&#125;&#123;'index': '5', 'name': 'æ³°å¦å°¼å…‹å·', 'actor': 'ä¸»æ¼”ï¼šèŽ±æ˜‚çº³å¤šÂ·è¿ªå¡æ™®é‡Œå¥¥,å‡¯ç‰¹Â·æ¸©ä¸èŽ±ç‰¹,æ¯”åˆ©Â·èµžæ©', 'time': '1998-04-03', 'score': '9.5', 'post_img': 'https://p1.meituan.net/movie/b607fba7513e7f15eab170aac1e1400d878112.jpg@160w_220h_1e_1c'&#125;&#123;'index': '6', 'name': 'å”ä¼¯è™Žç‚¹ç§‹é¦™', 'actor': 'ä¸»æ¼”ï¼šå‘¨æ˜Ÿé©°,å·©ä¿,éƒ‘ä½©ä½©', 'time': '1993-07-01(ä¸­å›½é¦™æ¸¯)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/da64660f82b98cdc1b8a3804e69609e041108.jpg@160w_220h_1e_1c'&#125;&#123;'index': '7', 'name': 'é­‚æ–­è“æ¡¥', 'actor': 'ä¸»æ¼”ï¼šè´¹é›¯Â·ä¸½,ç½—ä¼¯ç‰¹Â·æ³°å‹’,éœ²å¡žå°”Â·æ²ƒç‰¹æ£®', 'time': '1940-05-17(ç¾Žå›½)', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/46c29a8b8d8424bdda7715e6fd779c66235684.jpg@160w_220h_1e_1c'&#125;&#123;'index': '8', 'name': 'ä¹±ä¸–ä½³äºº', 'actor': 'ä¸»æ¼”ï¼šè´¹é›¯Â·ä¸½,å…‹æ‹‰å…‹Â·ç›–åš,å¥¥åˆ©ç»´å¨…Â·å¾·å“ˆç»´å…°', 'time': '1939-12-15(ç¾Žå›½)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/223c3e186db3ab4ea3bb14508c709400427933.jpg@160w_220h_1e_1c'&#125;&#123;'index': '9', 'name': 'å¤©ç©ºä¹‹åŸŽ', 'actor': 'ä¸»æ¼”ï¼šå¯ºç”°å†œ,é¹«å°¾çœŸçŸ¥å­,é¾Ÿå±±åŠ©æ¸…', 'time': '1992-05-01', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/ba1ed511668402605ed369350ab779d6319397.jpg@160w_220h_1e_1c'&#125;&#123;'index': '10', 'name': 'è¾›å¾·å‹’çš„åå•', 'actor': 'ä¸»æ¼”ï¼šè¿žå§†Â·å°¼æ£®,æ‹‰å°”å¤«Â·è´¹å› æ–¯,æœ¬Â·é‡‘æ–¯åˆ©', 'time': '1993-12-15(ç¾Žå›½)', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/b0d986a8bf89278afbb19f6abaef70f31206570.jpg@160w_220h_1e_1c'&#125;&#123;'index': '11', 'name': 'éŸ³ä¹ä¹‹å£°', 'actor': 'ä¸»æ¼”ï¼šæœ±èŽ‰Â·å®‰å¾·é²æ–¯,å…‹é‡Œæ–¯æ‰˜å¼—Â·æ™®å¢é»˜,åŸƒç³è¯ºÂ·å¸•å…‹', 'time': '1965-03-02(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/6bc004d57358ee6875faa5e9a1239140128550.jpg@160w_220h_1e_1c'&#125;&#123;'index': '12', 'name': 'å–œå‰§ä¹‹çŽ‹', 'actor': 'ä¸»æ¼”ï¼šå‘¨æ˜Ÿé©°,èŽ«æ–‡è”š,å¼ æŸèŠ', 'time': '1999-02-13(ä¸­å›½é¦™æ¸¯)', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/18e3191039d5e71562477659301f04aa61905.jpg@160w_220h_1e_1c'&#125;&#123;'index': '13', 'name': 'å¤§é—¹å¤©å®«', 'actor': 'ä¸»æ¼”ï¼šé‚±å²³å³°,æ¯•å…‹,å¯Œæ¶¦ç”Ÿ', 'time': '1965-12-31', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/14a7b337e8063e3ce05a5993ed80176b74208.jpg@160w_220h_1e_1c'&#125;&#123;'index': '14', 'name': 'æ˜¥å…‰ä¹æ³„', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,æ¢æœä¼Ÿ,å¼ éœ‡', 'time': '1997-05-30(ä¸­å›½é¦™æ¸¯)', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/ae7245920d95c03765fe1615f3a1fe3865785.jpg@160w_220h_1e_1c'&#125;&#123;'index': '15', 'name': 'å‰ªåˆ€æ‰‹çˆ±å¾·åŽ', 'actor': 'ä¸»æ¼”ï¼šçº¦ç¿°å°¼Â·å¾·æ™®,è–‡è¯ºå¨œÂ·ç‘žå¾·,é»›å®‰Â·éŸ¦æ–¯ç‰¹', 'time': '1990-12-06(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/6a964e9cee699267053bd6a4bf6f2671195394.jpg@160w_220h_1e_1c'&#125;&#123;'index': '16', 'name': 'ç¾Žä¸½äººç”Ÿ', 'actor': 'ä¸»æ¼”ï¼šç½—ä¼¯æ‰˜Â·è´å°¼å°¼,å°¼å¯èŽ±å¡”Â·å¸ƒæ‹‰æ–¯åŸº,ä¹”æ²»Â·åŽå¡”é‡Œå°¼', 'time': '1997-12-20(æ„å¤§åˆ©)', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/43d259ecbcd53e8bbe902632772281d6327525.jpg@160w_220h_1e_1c'&#125;&#123;'index': '17', 'name': 'é»‘å®¢å¸å›½', 'actor': 'ä¸»æ¼”ï¼šåŸºåŠªÂ·é‡Œç»´æ–¯,å‡¯ç‘ž-å®‰Â·èŽ«æ–¯,åŠ³ä¼¦æ–¯Â·è²ä»€ä¼¯æ©', 'time': '2000-01-14', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/ad974d3527879f00be2eec29135118163728582.jpg@160w_220h_1e_1c'&#125;&#123;'index': '18', 'name': 'å“ˆåˆ©Â·æ³¢ç‰¹ä¸Žé­”æ³•çŸ³', 'actor': 'ä¸»æ¼”ï¼šä¸¹å°¼å°”Â·é›·å¾·å…‹é‡Œå¤«,é²ä¼¯ç‰¹Â·æ ¼æž—ç‰¹,è‰¾çŽ›Â·æ²ƒç‰¹æ£®', 'time': '2002-01-26', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/aacb9ed2a6601bfe515ef0970add1715623792.jpg@160w_220h_1e_1c'&#125;&#123;'index': '19', 'name': 'æŒ‡çŽ¯çŽ‹3ï¼šçŽ‹è€…æ— æ•Œ', 'actor': 'ä¸»æ¼”ï¼šä¼ŠèŽ±è´¾Â·ä¼å¾·,ä¼Šæ©Â·éº¦å…‹èŽ±æ©,ä¸½èŠ™Â·æ³°å‹’', 'time': '2004-03-15', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/932bdfbef5be3543e6b136246aeb99b8123736.jpg@160w_220h_1e_1c'&#125;&#123;'index': '20', 'name': 'æ— é—´é“', 'actor': 'ä¸»æ¼”ï¼šåˆ˜å¾·åŽ,æ¢æœä¼Ÿ,é»„ç§‹ç”Ÿ', 'time': '2003-09-05', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/606de8f394d40dbcbb9b87943fec71a2130408.jpg@160w_220h_1e_1c'&#125;&#123;'index': '21', 'name': 'è™è ä¾ ï¼šé»‘æš—éª‘å£«', 'actor': 'ä¸»æ¼”ï¼šå…‹é‡Œæ–¯è’‚å®‰Â·è´å°”,å¸Œæ–¯Â·èŽ±æ°,é˜¿ä¼¦Â·ä¼Šå…‹å“ˆç‰¹', 'time': '2008-07-18(ç¾Žå›½)', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/09658109acfea0e248a63932337d8e6a4268980.jpg@160w_220h_1e_1c'&#125;&#123;'index': '22', 'name': 'æ¥šé—¨çš„ä¸–ç•Œ', 'actor': 'ä¸»æ¼”ï¼šé‡‘Â·å‡¯ç‘ž,åŠ³æ‹‰Â·ç³å¦®,è¯ºäºšÂ·è‰¾é»˜é‡Œå¥‡', 'time': '1998-06-01(ç¾Žå›½)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/8959888ee0c399b0fe53a714bc8a5a17460048.jpg@160w_220h_1e_1c'&#125;&#123;'index': '23', 'name': 'åŠ å‹’æ¯”æµ·ç›—', 'actor': 'ä¸»æ¼”ï¼šçº¦ç¿°å°¼Â·å¾·æ™®,å‡¯æ‹‰Â·å¥ˆç‰¹èŽ‰,å¥¥å…°å¤šÂ·å¸ƒé²å§†', 'time': '2003-11-21', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/b05b94b28eca53f325ae8d807fcd4ce01798036.jpg@160w_220h_1e_1c'&#125;&#123;'index': '24', 'name': 'æ•™çˆ¶2', 'actor': 'ä¸»æ¼”ï¼šé˜¿å°”Â·å¸•è¥¿è¯º,ç½—ä¼¯ç‰¹Â·å¾·å°¼ç½—,é»›å®‰Â·åŸºé¡¿', 'time': '1974-12-12(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/bb1dee5e0b25889a2410211c1d5010ae190824.jpg@160w_220h_1e_1c'&#125;&#123;'index': '25', 'name': 'å°„é›•è‹±é›„ä¼ ä¹‹ä¸œæˆè¥¿å°±', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,æ¢æœä¼Ÿ,å¼ å­¦å‹', 'time': '1993-02-05(ä¸­å›½é¦™æ¸¯)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/53b6f0b66882a53b08896c92076515a8236400.jpg@160w_220h_1e_1c'&#125;&#123;'index': '26', 'name': 'æœºå™¨äººæ€»åŠ¨å‘˜', 'actor': 'ä¸»æ¼”ï¼šæœ¬Â·è´å°”ç‰¹,è‰¾ä¸½èŽŽÂ·å¥ˆç‰¹,æ°å¤«Â·æ ¼å°”æž—', 'time': '2008-06-27(ç¾Žå›½)', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/267dd2483f0fb57081474c00fbea38451415571.jpg@160w_220h_1e_1c'&#125;&#123;'index': '27', 'name': 'æŒ‡çŽ¯çŽ‹1ï¼šæŠ¤æˆ’ä½¿è€…', 'actor': 'ä¸»æ¼”ï¼šä¼ŠèŽ±è´¾Â·ä¼å¾·,ä¼Šæ©Â·éº¦å…‹èŽ±æ©,ä¸½èŠ™Â·æ³°å‹’', 'time': '2002-04-04', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/dd08154878aac7c8c649fe3eeb8ccd0a2498277.jpg@160w_220h_1e_1c'&#125;&#123;'index': '28', 'name': 'æŒ‡çŽ¯çŽ‹2ï¼šåŒå¡”å¥‡å…µ', 'actor': 'ä¸»æ¼”ï¼šä¼ŠèŽ±è´¾Â·ä¼å¾·,ä¼Šæ©Â·éº¦å…‹èŽ±æ©,ä¸½èŠ™Â·æ³°å‹’', 'time': '2003-04-25', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/02bb9fd161c05bad6089133098efcdb5546589.jpg@160w_220h_1e_1c'&#125;&#123;'index': '29', 'name': 'ç‹®å­çŽ‹', 'actor': 'ä¸»æ¼”ï¼šé©¬ä¿®Â·å¸ƒç½—å¾·é‡Œå…‹,å°¼åŸºå¡”Â·å¡å…°å§†,è©¹å§†æ–¯Â·åŽ„å°”Â·ç¼æ–¯', 'time': '1995-07-15', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/27b76fe6cf3903f3d74963f70786001e1438406.jpg@160w_220h_1e_1c'&#125;&#123;'index': '30', 'name': 'æ´»ç€', 'actor': 'ä¸»æ¼”ï¼šè‘›ä¼˜,å·©ä¿,ç‰›çŠ‡', 'time': '1994-05-18(æ³•å›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/4c41068ef7608c1d4fbfbe6016e589f7204391.jpg@160w_220h_1e_1c'&#125;&#123;'index': '31', 'name': 'æ‹¯æ•‘å¤§å…µç‘žæ©', 'actor': 'ä¸»æ¼”ï¼šæ±¤å§†Â·æ±‰å…‹æ–¯,é©¬ç‰¹Â·è¾¾è’™,æ±¤å§†Â·å¡žå…¹æ‘©å°”', 'time': '1998-11-13', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/a2a287c77415dc1f85b04d288f7d63ab1089754.jpg@160w_220h_1e_1c'&#125;&#123;'index': '32', 'name': 'ç›—æ¢¦ç©ºé—´', 'actor': 'ä¸»æ¼”ï¼šèŽ±æ˜‚çº³å¤šÂ·è¿ªå¡æ™®é‡Œå¥¥,æ¸¡è¾¹è°¦,çº¦ç‘Ÿå¤«Â·é«˜ç™»-èŽ±ç»´ç‰¹', 'time': '2010-09-01', 'score': '9.2', 'post_img': 'https://p1.meituan.net/movie/2f344a9f9575edbcae9f0abe0578bc90339773.jpg@160w_220h_1e_1c'&#125;&#123;'index': '33', 'name': 'å“ˆå°”çš„ç§»åŠ¨åŸŽå ¡', 'actor': 'ä¸»æ¼”ï¼šå€èµåƒæƒ å­,æœ¨æ‘æ‹“å“‰,ç¾Žè½®æ˜Žå®', 'time': '2004-11-20(æ—¥æœ¬)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/0127b451d5b8f0679c6f81c8ed414bb2432442.jpg@160w_220h_1e_1c'&#125;&#123;'index': '34', 'name': 'å¿ çŠ¬å…«å…¬çš„æ•…äº‹', 'actor': 'ä¸»æ¼”ï¼šForest,ç†æŸ¥Â·åŸºå°”,ç¼Â·è‰¾ä¼¦', 'time': '2010-03-12(è‹±å›½)', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/7787c10ad5e95b03cf83ef9473500d8e282796.jpg@160w_220h_1e_1c'&#125;&#123;'index': '35', 'name': 'ç–¯ç‹‚åŽŸå§‹äºº', 'actor': 'ä¸»æ¼”ï¼šå°¼å¤æ‹‰æ–¯Â·å‡¯å¥‡,è‰¾çŽ›Â·æ–¯é€š,ç‘žå®‰Â·é›·è¯ºå…¹', 'time': '2013-04-20', 'score': '9.5', 'post_img': 'https://p1.meituan.net/movie/bc022b86345c643ca21d759166f77a553679589.jpg@160w_220h_1e_1c'&#125;&#123;'index': '36', 'name': 'æå‡»ä¿±ä¹éƒ¨', 'actor': 'ä¸»æ¼”ï¼šçˆ±å¾·åŽÂ·å“ˆé‡Œæ£®Â·è¯ºé¡¿,å¸ƒæ‹‰å¾·Â·çš®ç‰¹,æµ·ä¼¦å¨œÂ·ä¼¯ç¿°Â·å¡ç‰¹', 'time': '1999-10-15(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/b3defc07dfaa1b6f5b74852ce38a3f8f242792.jpg@160w_220h_1e_1c'&#125;&#123;'index': '37', 'name': 'ä¸œé‚ªè¥¿æ¯’', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,æ¢æœä¼Ÿ,åˆ˜å˜‰çŽ²', 'time': '1994-09-17', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/7e471a9171a410ebc9413b2f1de67afc130067.jpg@160w_220h_1e_1c'&#125;&#123;'index': '38', 'name': 'å¹½çµå…¬ä¸»', 'actor': 'ä¸»æ¼”ï¼šæ¾ç”°æ´‹æ²»,çŸ³ç”°ç™¾åˆå­,ç”°ä¸­è£•å­', 'time': '1998-05-01', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/a08f65e6cb50fab32df5da69ff116f593095363.jpg@160w_220h_1e_1c'&#125;&#123;'index': '39', 'name': 'é˜¿å‡¡è¾¾', 'actor': 'ä¸»æ¼”ï¼šè¨å§†Â·æ²ƒè¾›é¡¿,ä½ä¼ŠÂ·ç´¢å°”è¾¾å¨œ,ç±³æ­‡å°”Â·ç½—å¾·é‡Œæ ¼å…¹', 'time': '2010-01-04', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/91f575ec93f019f428d1f33e3ceca7c5115495.jpg@160w_220h_1e_1c'&#125;&#123;'index': '40', 'name': 'é£Žä¹‹è°·', 'actor': 'ä¸»æ¼”ï¼šå²›æœ¬é¡»ç¾Ž,æ°¸äº•ä¸€éƒŽ,å‚æœ¬åƒå¤', 'time': '1992', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/4f9638ba234c3fb673f23a09968db875371576.jpg@160w_220h_1e_1c'&#125;&#123;'index': '41', 'name': 'åäºŒæ€’æ±‰', 'actor': 'ä¸»æ¼”ï¼šäº¨åˆ©Â·æ–¹è¾¾,æŽÂ·ç§‘å¸ƒ,é©¬ä¸Â·é²å°”è¨å§†', 'time': '1957-04-13(ç¾Žå›½)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/df15efd261060d3094a73ef679888d4f238149.jpg@160w_220h_1e_1c'&#125;&#123;'index': '42', 'name': 'å¤§è¯è¥¿æ¸¸ä¹‹æœˆå…‰å®ç›’', 'actor': 'ä¸»æ¼”ï¼šå‘¨æ˜Ÿé©°,èŽ«æ–‡è”š,å´å­Ÿè¾¾', 'time': '2014-10-24', 'score': '9.6', 'post_img': 'https://p0.meituan.net/movie/92eb862c42c49f8e41e459c369c4512b226610.jpg@160w_220h_1e_1c'&#125;&#123;'index': '43', 'name': 'Vå­—ä»‡æ€é˜Ÿ', 'actor': 'ä¸»æ¼”ï¼šå¨œå¡”èŽ‰Â·æ³¢ç‰¹æ›¼,é›¨æžœÂ·ç»´æ–‡,æ–¯è’‚èŠ¬Â·ç‘ž', 'time': '2006-03-17(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/06ec3c1c647942b1e40bca84036014e9490863.jpg@160w_220h_1e_1c'&#125;&#123;'index': '44', 'name': 'æ”¾ç‰›ç­çš„æ˜¥å¤©', 'actor': 'ä¸»æ¼”ï¼šçƒ­æ‹‰å°”Â·æœ±å°¼å¥¥,è®©-å·´è’‚æ–¯ç‰¹Â·èŽ«å°¼è€¶,çŽ›ä¸½Â·å¸ƒå¥ˆå°”', 'time': '2004-10-16', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/70de97ebb6b5251ecb7c3f6d7a782a7f189340.jpg@160w_220h_1e_1c'&#125;&#123;'index': '45', 'name': 'å½“å¹¸ç¦æ¥æ•²é—¨', 'actor': 'ä¸»æ¼”ï¼šå¨å°”Â·å²å¯†æ–¯,è´¾ç™»Â·å²å¯†æ–¯,å¦è¿ªÂ·ç‰›é¡¿', 'time': '2008-01-17', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/5896de3c1474277730e321c9b1db04a9205644.jpg@160w_220h_1e_1c'&#125;&#123;'index': '46', 'name': 'é€Ÿåº¦ä¸Žæ¿€æƒ…5', 'actor': 'ä¸»æ¼”ï¼šèŒƒÂ·è¿ªå¡žå°”,ä¿ç½—Â·æ²ƒå…‹,é“æ©Â·å¼ºæ£®', 'time': '2011-05-12', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/845ce32778a1b3f258de089f91a3979b5766154.jpg@160w_220h_1e_1c'&#125;&#123;'index': '47', 'name': 'é©¯é¾™é«˜æ‰‹', 'actor': 'ä¸»æ¼”ï¼šæ°ä¼ŠÂ·å·´é²åˆ‡å°”,æ°æ‹‰å¾·Â·å·´ç‰¹å‹’,äºšç¾ŽèŽ‰å¡Â·è´¹é›·æ‹‰', 'time': '2010-05-14', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/b0d97e4158b47d653d7a81d66f7dd3092146907.jpg@160w_220h_1e_1c'&#125;&#123;'index': '48', 'name': 'å‹‡æ•¢çš„å¿ƒ', 'actor': 'ä¸»æ¼”ï¼šæ¢…å°”Â·å‰å¸ƒæ£®,è‹è²Â·çŽ›ç´¢,å¸•ç‰¹é‡Œå…‹Â·éº¦é«˜æ±‰', 'time': '1995-05-24(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/f8e9d5a90224746d15dfdbd53d4fae3d209420.jpg@160w_220h_1e_1c'&#125;&#123;'index': '49', 'name': 'é—»é¦™è¯†å¥³äºº', 'actor': 'ä¸»æ¼”ï¼šé˜¿å°”Â·å¸•è¥¿è¯º,å…‹é‡Œæ–¯Â·å¥¥å”çº³,åŠ å¸ƒé‡ŒåŸƒå°”Â·å®‰ç“¦å°”', 'time': '1992-12-23(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/8d7b0b902afd4ec1a3dd7a9c6149463c187734.jpg@160w_220h_1e_1c'&#125;&#123;'index': '50', 'name': 'ç¥žå·å¥¶çˆ¸', 'actor': 'ä¸»æ¼”ï¼šå²è’‚å¤«Â·å¡ç‘žå°”,æ°æ£®Â·å¸­æ ¼å°”,æ‹‰å¡žå°”Â·å¸ƒå…°å¾·', 'time': '2010-07-09(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/85c2bfba6025bfbfb53291ae5924c215308805.jpg@160w_220h_1e_1c'&#125;&#123;'index': '51', 'name': 'é»‘å®¢å¸å›½3ï¼šçŸ©é˜µé©å‘½', 'actor': 'ä¸»æ¼”ï¼šåŸºåŠªÂ·é‡Œç»´æ–¯,é›¨æžœÂ·ç»´æ–‡,å‡¯ç‘ž-å®‰Â·èŽ«æ–¯', 'time': '2003-11-05', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/2e383b5f5f306f10f9f26d9f1c28cf1d825537.jpg@160w_220h_1e_1c'&#125;&#123;'index': '52', 'name': 'é£žå±‹çŽ¯æ¸¸è®°', 'actor': 'ä¸»æ¼”ï¼šçˆ±å¾·åŽÂ·é˜¿æ–¯çº³,ä¹”ä¸¹Â·é•¿äº•,é²å‹ƒÂ·å½¼å¾·æ£®', 'time': '2009-08-04', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/47dd790e19dad72b50580641de5608c5199014.jpg@160w_220h_1e_1c'&#125;&#123;'index': '53', 'name': 'æ–­èƒŒå±±', 'actor': 'ä¸»æ¼”ï¼šå¸Œæ–¯Â·èŽ±æ°,æ°å…‹Â·å‰ä¼¦å“ˆå°”,ç±³æ­‡å°”Â·å¨å»‰å§†æ–¯', 'time': '2006-01-13(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/e71affe126eeb4f8bfcc738cbddeebc8288766.jpg@160w_220h_1e_1c'&#125;&#123;'index': '54', 'name': 'æ€¦ç„¶å¿ƒåŠ¨', 'actor': 'ä¸»æ¼”ï¼šçŽ›å¾·ç³Â·å¡ç½—å°”,å¡å…°Â·éº¦å…‹å¥¥åˆ©è²,è‰¾ä¸¹Â·å¥Žå› ', 'time': '2010-08-06(ç¾Žå›½)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/15f1ac49b6d1ff7b71207672993ed6901536456.jpg@160w_220h_1e_1c'&#125;&#123;'index': '55', 'name': 'ä¸‰å‚»å¤§é—¹å®èŽ±åž', 'actor': 'ä¸»æ¼”ï¼šé˜¿ç±³å°”Â·æ±—,é»„æ¸¤,å¡ç³å¨œÂ·å¡æ™®', 'time': '2011-12-08', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/ca4a128a5a54d5b5e35ceba622636c831810197.jpg@160w_220h_1e_1c'&#125;&#123;'index': '56', 'name': 'æœ«ä»£çš‡å¸', 'actor': 'ä¸»æ¼”ï¼šå°Šé¾™,é™ˆå†²,å½¼å¾—Â·å¥¥å›¾å°”', 'time': '1987-10-23', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/21b9211eb1094af360842472018db634286646.jpg@160w_220h_1e_1c'&#125;&#123;'index': '57', 'name': 'æ— æ•Œç ´åçŽ‹', 'actor': 'ä¸»æ¼”ï¼šçº¦ç¿°Â·CÂ·èµ–åˆ©,è¨æ‹‰Â·è¥¿å°”å¼—æ›¼,ç®€Â·æž—å¥‡', 'time': '2012-11-06', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/fcc17667b8343131101eeb4c67d90bf9150883.jpg@160w_220h_1e_1c'&#125;&#123;'index': '58', 'name': 'è‡´å‘½é­”æœ¯', 'actor': 'ä¸»æ¼”ï¼šä¼‘Â·æ°å…‹æ›¼,å…‹é‡Œæ–¯è’‚å®‰Â·è´å°”,è¿ˆå…‹å°”Â·å‡¯æ©', 'time': '2006-10-20(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/75c0d3eb584be030a01f2e26741a8f41251454.jpg@160w_220h_1e_1c'&#125;&#123;'index': '59', 'name': 'å°‘å¹´æ´¾çš„å¥‡å¹»æ¼‚æµ', 'actor': 'ä¸»æ¼”ï¼šè‹æ‹‰Â·æ²™çŽ›,ä¼Šå°”å‡¡Â·å¯æ±—,å¡”å¸ƒ', 'time': '2012-11-22', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/34998e31c6d07475f1add6b8b16fd21d192579.jpg@160w_220h_1e_1c'&#125;&#123;'index': '60', 'name': 'é¬¼å­æ¥äº†', 'actor': 'ä¸»æ¼”ï¼šå§œæ–‡,å§œå®æ³¢,é™ˆå¼º', 'time': '2000-05-12(æ³•å›½æˆ›çº³)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/0b507aa44c4dfbbcc91949b69b1b39a168922.jpg@160w_220h_1e_1c'&#125;&#123;'index': '61', 'name': 'è™è ä¾ ï¼šé»‘æš—éª‘å£«å´›èµ·', 'actor': 'ä¸»æ¼”ï¼šå…‹é‡Œæ–¯è’‚å®‰Â·è´å°”,è¿ˆå…‹å°”Â·å‡¯æ©,åŠ é‡ŒÂ·å¥¥å¾·æ›¼', 'time': '2012-08-27', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/96bb58f3e9d213fb0438987d16d27561379209.jpg@160w_220h_1e_1c'&#125;&#123;'index': '62', 'name': 'ç¾Žä¸½å¿ƒçµ', 'actor': 'ä¸»æ¼”ï¼šç½—ç´ Â·å…‹æ´›,è©¹å¦®å¼—Â·åº·çº³åˆ©,è‰¾å¾·Â·å“ˆé‡Œæ–¯', 'time': '2001-12-21(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/7b7d1f8aa36d7a15463ce6942708a1a7265296.jpg@160w_220h_1e_1c'&#125;&#123;'index': '63', 'name': 'å“ˆåˆ©Â·æ³¢ç‰¹ä¸Žæ­»äº¡åœ£å™¨ï¼ˆä¸‹ï¼‰', 'actor': 'ä¸»æ¼”ï¼šä¸¹å°¼å°”Â·é›·å¾·å…‹é‡Œå¤«,é²ä¼¯ç‰¹Â·æ ¼æž—ç‰¹,è‰¾çŽ›Â·æ²ƒç‰¹æ£®', 'time': '2011-08-04', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/bb0eca029cd25329776a4549b3fbe262924727.jpg@160w_220h_1e_1c'&#125;&#123;'index': '64', 'name': 'å€©å¥³å¹½é­‚', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,çŽ‹ç¥–è´¤,åˆé©¬', 'time': '2011-04-30', 'score': '9.2', 'post_img': 'https://p1.meituan.net/movie/96d98200d2afb4b87ff189f9c15b6545568339.jpg@160w_220h_1e_1c'&#125;&#123;'index': '65', 'name': 'å¤œè®¿å¸è¡€é¬¼', 'actor': 'ä¸»æ¼”ï¼šæ±¤å§†Â·å…‹é²æ–¯,å¸ƒæ‹‰å¾·Â·çš®ç‰¹,å…‹å°”æ–¯æ»•Â·é‚“æ–¯ç‰¹', 'time': '1994-11-11(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/7ec873ba943f13e3c63789d899bd0e23256871.jpg@160w_220h_1e_1c'&#125;&#123;'index': '66', 'name': 'é’¢ç´å®¶', 'actor': 'ä¸»æ¼”ï¼šè‰¾å¾·é‡Œå®‰Â·å¸ƒæ´›è¿ª,è‰¾ç±³èŽ‰å¨…Â·ç¦å…‹æ–¯,ç±³å“ˆä¹ŒÂ·çƒ­å¸ƒç½—å¤«æ–¯åŸº', 'time': '2002-09-25(æ³•å›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/484171372de45945e8bbbcc97db57e09136701.jpg@160w_220h_1e_1c'&#125;&#123;'index': '67', 'name': 'è§¦ä¸å¯åŠ', 'actor': 'ä¸»æ¼”ï¼šå¼—æœ—ç´¢ç“¦Â·å…‹é²å¡ž,å¥¥çŽ›Â·å¸Œ,å®‰å¨œÂ·å‹’å°¼', 'time': '2011-11-02(æ³•å›½)', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/1e700e53e4fe29dd5942381bb353c8532239179.jpg@160w_220h_1e_1c'&#125;&#123;'index': '68', 'name': 'æœ¬æ°æ˜ŽÂ·å·´é¡¿å¥‡äº‹', 'actor': 'ä¸»æ¼”ï¼šå¸ƒæ‹‰å¾·Â·çš®ç‰¹,å‡¯ç‰¹Â·å¸ƒå…°åˆ‡ç‰¹,å¡”æ‹‰å‰Â·PÂ·æ±‰æ£®', 'time': '2008-12-25(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/2526f77c650bf7cf3d5ee2dccdeac332244951.jpg@160w_220h_1e_1c'&#125;&#123;'index': '69', 'name': 'ç”œèœœèœœ', 'actor': 'ä¸»æ¼”ï¼šé»Žæ˜Ž,å¼ æ›¼çŽ‰,æ›¾å¿—ä¼Ÿ', 'time': '2015-02-13', 'score': '9.2', 'post_img': 'https://p1.meituan.net/movie/0b0d45b58946078dd24d4945dd6be3b51329411.jpg@160w_220h_1e_1c'&#125;&#123;'index': '70', 'name': 'å¤§è¯è¥¿æ¸¸ä¹‹å¤§åœ£å¨¶äº²', 'actor': 'ä¸»æ¼”ï¼šå‘¨æ˜Ÿé©°,æœ±èŒµ,èŽ«æ–‡è”š', 'time': '2014-10-24', 'score': '8.8', 'post_img': 'https://p1.meituan.net/moviemachine/508056769092059fe43a611b949f27d14863831.jpg@160w_220h_1e_1c'&#125;&#123;'index': '71', 'name': 'åˆæ‹è¿™ä»¶å°äº‹', 'actor': 'ä¸»æ¼”ï¼šé©¬é‡Œå¥¥Â·æ¯›ç‘žå°”,å¹³é‡‡å¨œÂ·ä¹ç»´ç‘Ÿæ´¾å¸ƒæ©,é˜¿æŸ¥æ‹‰é‚£Â·é˜¿ç‘žäºšå«è€ƒ', 'time': '2012-06-05', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/7ed07b8ea8c0e0d0c7b685d20e3ec64e232004.jpg@160w_220h_1e_1c'&#125;&#123;'index': '72', 'name': 'ç†”ç‚‰', 'actor': 'ä¸»æ¼”ï¼šå­”åˆ˜,éƒ‘æœ‰ç¾Ž,é‡‘æ™ºè‹±', 'time': '2011-09-22(éŸ©å›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/2a0783b4fd95566568f24adfad2181bb5392280.jpg@160w_220h_1e_1c'&#125;&#123;'index': '73', 'name': 'æ–°é¾™é—¨å®¢æ ˆ', 'actor': 'ä¸»æ¼”ï¼šå¼ æ›¼çŽ‰,æ¢å®¶è¾‰,ç”„å­ä¸¹', 'time': '2012-02-24', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/7833126c8c21a11571bb52fbdece0acb811449.jpg@160w_220h_1e_1c'&#125;&#123;'index': '74', 'name': 'ç´ åª›', 'actor': 'ä¸»æ¼”ï¼šæŽæ¥,è–›è€¿æ±‚,ä¸¥å¿—åª›', 'time': '2013-10-02(éŸ©å›½)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/19653e8af59cf473cd40f9ccc0658d93692304.jpg@160w_220h_1e_1c'&#125;&#123;'index': '75', 'name': 'å°éž‹å­', 'actor': 'ä¸»æ¼”ï¼šé»˜ç½•é»˜å¾·Â·é˜¿ç±³å°”Â·çº³å‰,Kamal Mirkarimi,Behzad Rafi', 'time': '1999-01-22(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/135c612860fae899df2220149664d97a173555.jpg@160w_220h_1e_1c'&#125;&#123;'index': '76', 'name': 'è¤ç«ä¹‹æ£®', 'actor': 'ä¸»æ¼”ï¼šå†…å±±æ˜‚è¾‰,ä½ä»“ç»«éŸ³,åŽè—¤å¼˜æ ‘', 'time': '2011-09-17(æ—¥æœ¬)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/5420be40e3b755ffe04779b9b199e935256906.jpg@160w_220h_1e_1c'&#125;&#123;'index': '77', 'name': 'æ•™çˆ¶', 'actor': 'ä¸»æ¼”ï¼šé©¬é¾™Â·ç™½å…°åº¦,é˜¿å°”Â·å¸•è¥¿è¯º,è©¹å§†æ–¯Â·è‚¯æ©', 'time': '2015-04-18', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/1199dc6273680f175fd9b06c9c36d08a219658.jpg@160w_220h_1e_1c'&#125;&#123;'index': '78', 'name': 'ç©¿æ¡çº¹ç¡è¡£çš„ç”·å­©', 'actor': 'ä¸»æ¼”ï¼šé˜¿æ²™Â·å·´ç‰¹è²å°”å¾·,ç»´æ‹‰Â·æ³•æ¢…åŠ ,å¤§å«Â·ä¼‘é‡Œæ–¯', 'time': '2008-09-12(è‹±å›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/d5970e36c8868a4b746c80f3b3f8a404174615.jpg@160w_220h_1e_1c'&#125;&#123;'index': '79', 'name': 'æ—¶ç©ºæ‹æ—…äºº', 'actor': 'ä¸»æ¼”ï¼šç‘žç§‹Â·éº¦å…‹äºšå½“æ–¯,å¤šå§†çº³å°”Â·æ ¼é‡Œæ£®,æ¯”å°”Â·å¥ˆä¼Š', 'time': '2013-09-04(è‹±å›½)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/4abc8c932cfacfc0089e2883765d02d1295222.jpg@160w_220h_1e_1c'&#125;&#123;'index': '80', 'name': 'çªƒå¬é£Žæš´', 'actor': 'ä¸»æ¼”ï¼šä¹Œå°”é‡Œå¸ŒÂ·ç©†åŸƒ,å¡žå·´æ–¯è’‚å®‰Â·ç§‘èµ«,é©¬è’‚å¨œÂ·æ ¼å¾·å…‹', 'time': '2006-03-23(å¾·å›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/3985eaf3858bea0f2a3d966bf7ee2103178217.jpg@160w_220h_1e_1c'&#125;&#123;'index': '81', 'name': '7å·æˆ¿çš„ç¤¼ç‰©', 'actor': 'ä¸»æ¼”ï¼šæŸ³æ‰¿é¾™,éƒ‘é•‡è£,æœ´ä¿¡æƒ ', 'time': '2013-01-23(éŸ©å›½)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/6a6e74b2c289f9fa4433dd2dc04a7741331638.jpg@160w_220h_1e_1c'&#125;&#123;'index': '82', 'name': 'ææ€–ç›´æ’­', 'actor': 'ä¸»æ¼”ï¼šæ²³æ­£å®‡,æŽç’Ÿè£,æŽå¤§ä¸º', 'time': '2013-07-31(éŸ©å›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/b5ff0216e689b3fcc065590c48cd5105255305.jpg@160w_220h_1e_1c'&#125;&#123;'index': '83', 'name': 'æµ·è±šæ¹¾', 'actor': 'ä¸»æ¼”ï¼šé‡Œå…‹Â·å¥¥å·´ç‘ž,è·¯æ˜“Â·è¥¿éœå°¤æ–¯,å“ˆè¿ªÂ·ç¼æ–¯', 'time': '2009-07-31(ç¾Žå›½)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/7373dbba07b50ce6f24336edb96b2ea4271536.jpg@160w_220h_1e_1c'&#125;&#123;'index': '84', 'name': 'å¿ çŠ¬å…«å…¬ç‰©è¯­', 'actor': 'ä¸»æ¼”ï¼šä»²ä»£è¾¾çŸ¢,æ˜¥å·çœŸæ¾„,äº•å·æ¯”ä½å¿—', 'time': '1987-08-01(æ—¥æœ¬)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/c835b3588d0061ed3b992388a0a96f15160913.jpg@160w_220h_1e_1c'&#125;&#123;'index': '85', 'name': 'ä¸Šå¸ä¹‹åŸŽ', 'actor': 'ä¸»æ¼”ï¼šäºšåŽ†æ¡‘å¾·é›·Â·ç½—å¾·é‡Œæ ¼æ–¯,è‰¾èŽ‰ä¸Â·å¸ƒæ‹‰åŠ ,èŽ±å®‰å¾·é²Â·è²å°”ç±³è¯º', 'time': '2002-08-30(å·´è¥¿)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/b553d13f30100db731ab6cf45668e52d94703.jpg@160w_220h_1e_1c'&#125;&#123;'index': '86', 'name': 'è¾©æŠ¤äºº', 'actor': 'ä¸»æ¼”ï¼šå®‹åº·æ˜Š,éƒ­åº¦æ²…,å´è¾¾æ´™', 'time': '2013-12-18(éŸ©å›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/8fabf3894b7d12d3d2f6e66404813670265761.jpg@160w_220h_1e_1c'&#125;&#123;'index': '87', 'name': 'ç¾Žå›½å¾€äº‹', 'actor': 'ä¸»æ¼”ï¼šç½—ä¼¯ç‰¹Â·å¾·å°¼ç½—,è©¹å§†æ–¯Â·ä¼å…¹,ä¼Šä¸½èŽŽç™½Â·éº¦æˆˆæ–‡', 'time': '2015-04-23', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/92198a6fc8c3f5d13aa1bdf203572c0f99438.jpg@160w_220h_1e_1c'&#125;&#123;'index': '88', 'name': 'å®Œç¾Žçš„ä¸–ç•Œ', 'actor': 'ä¸»æ¼”ï¼šå‡¯æ–‡Â·ç§‘æ–¯ç‰¹çº³,å…‹æž—ç‰¹Â·ä¼Šæ–¯ç‰¹ä¼å¾·,TÂ·JÂ·åŠ³ç‘Ÿ', 'time': '1993-11-24(ç¾Žå›½)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/30310858fdab34c7a17cfd7ec8ad8bfc112201.jpg@160w_220h_1e_1c'&#125;&#123;'index': '89', 'name': 'ä¸ƒæ­¦å£«', 'actor': 'ä¸»æ¼”ï¼šä¸‰èˆ¹æ•éƒŽ,å¿—æ‘ä¹”,åƒç§‹å®ž', 'time': '1954-04-26(æ—¥æœ¬)', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/4ffca83fd972f71e291f8ea8d78a4b58594878.jpg@160w_220h_1e_1c'&#125;&#123;'index': '90', 'name': 'ä¸€ä¸€', 'actor': 'ä¸»æ¼”ï¼šå´å¿µçœŸ,é‡‘ç‡•çŽ²,æŽå‡¯èŽ‰', 'time': '2000-09-20(æ³•å›½)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/2c0a5fedf4b43d142121b91c6ccabe1b59051.jpg@160w_220h_1e_1c'&#125;&#123;'index': '91', 'name': 'è‹±é›„æœ¬è‰²', 'actor': 'ä¸»æ¼”ï¼šç‹„é¾™,å¼ å›½è£,å‘¨æ¶¦å‘', 'time': '2017-11-17', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/3e5f5f3aa4b7e5576521e26c2c7c894d253975.jpg@160w_220h_1e_1c'&#125;&#123;'index': '92', 'name': 'é˜¿é£žæ­£ä¼ ', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,å¼ æ›¼çŽ‰,åˆ˜å¾·åŽ', 'time': '2018-06-25', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/885fc379c614a2b4175587b95ac98eb95045650.jpg@160w_220h_1e_1c'&#125;&#123;'index': '93', 'name': 'çˆ±Â·å›žå®¶', 'actor': 'ä¸»æ¼”ï¼šä¿žæ‰¿è±ª,é‡‘è‰ºèŠ¬,ç«¥å­ç†™', 'time': '2002-04-05(éŸ©å›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/36a893c53a13f9bb934071b86ae3b5c492427.jpg@160w_220h_1e_1c'&#125;&#123;'index': '94', 'name': 'æµ·æ´‹', 'actor': 'ä¸»æ¼”ï¼šé›…å…‹Â·è´æ±‰,å§œæ–‡,å…°æ–¯æ´›ç‰¹Â·ä½©æž—', 'time': '2011-08-12', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/0018b57299d0d4540330a31244c880a9112971.jpg@160w_220h_1e_1c'&#125;&#123;'index': '95', 'name': 'æˆ‘çˆ±ä½ ', 'actor': 'ä¸»æ¼”ï¼šå®‹åœ¨æµ©,æŽé¡ºæ‰,å°¹ç§€æ™¶', 'time': '2011-02-17(éŸ©å›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/ed50b58bf636d207c56989872a91f4cf305138.jpg@160w_220h_1e_1c'&#125;&#123;'index': '96', 'name': 'é»„é‡‘ä¸‰é•–å®¢', 'actor': 'ä¸»æ¼”ï¼šå…‹æž—ç‰¹Â·ä¼Šæ–¯ç‰¹ä¼å¾·,æŽÂ·èŒƒÂ·å…‹é‡Œå¤«,åŸƒé‡ŒÂ·ç“¦æ‹‰èµ«', 'time': '1966-12-23(æ„å¤§åˆ©)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/cd18ed2c5cda9e71e17e5e6ef61ced172912303.jpg@160w_220h_1e_1c'&#125;&#123;'index': '97', 'name': 'è¿å¾™çš„é¸Ÿ', 'actor': 'ä¸»æ¼”ï¼šé›…å…‹Â·è´æ±‰,Philippe Labro', 'time': '2001-12-12(æ³•å›½)', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/a1634f4e49c8517ae0a3e4adcac6b0dc43994.jpg@160w_220h_1e_1c'&#125;&#123;'index': '98', 'name': 'åƒä¸Žåƒå¯»', 'actor': 'ä¸»æ¼”ï¼šæŸŠç‘ ç¾Ž,å‘¨å†¬é›¨,å…¥é‡Žè‡ªç”±', 'time': '2019-06-21', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/30b20139e68c46d02e0893277d633b701292458.jpg@160w_220h_1e_1c'&#125;&#123;'index': '99', 'name': 'å¤©å ‚ç”µå½±é™¢', 'actor': 'ä¸»æ¼”ï¼šè²åˆ©æµ¦Â·è¯ºç“¦é›·,èµ›å°”ä¹”Â·å¡æ–¯ç‰¹åˆ©æ‰˜,è’‚å…¹äºšå¨œÂ·ç½—è¾¾æ‰˜', 'time': '2019-06-15', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/76fc92cfa6c8f2959431b8aa604ef7ae126414.jpg@160w_220h_1e_1c'&#125;&#123;'index': '100', 'name': 'é¾™çŒ«', 'actor': 'ä¸»æ¼”ï¼šç§¦å²š,ç³¸äº•é‡é‡Œ,å²›æœ¬é¡»ç¾Ž', 'time': '2018-12-14', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/c304c687e287c7c2f9e22cf78257872d277201.jpg@160w_220h_1e_1c'&#125; æ€»ç»“å…¶å®žè¿˜å¯ä»¥åˆ©ç”¨å…¶ä»–è§£æžåº“è¿›è¡Œè§£æžï¼Œæ¯”å¦‚Beautiful Soup 4å’ŒPyQueryåº“,è¿™ä¸¤ä¸ªåº“ç›¸æ¯”æ­£åˆ™å’ŒXpathè§£æžè½»å·§ç®€å•ï¼Œä½†æ˜¯ç›¸æ¯”ä¹‹ä¸‹æ€§èƒ½ä¼šæœ‰æ‰€ç‰ºç‰²ã€‚ Beautiful Soup 4 è§£æžåº“å¯¹XMlæ–‡æ¡£çš„å®½å®¹åº¦ä¸å¥½ï¼Œåœ¨å½“ä¸‹çš„äº’è”ç½‘çŽ¯å¢ƒä¸‹ï¼Œç½‘ç«™ç»“æž„å¼€å‘ã€å‡çº§å’Œç»´æŠ¤å˜çš„å¾ˆå¤æ‚ï¼Œå¯¹äºŽä¸€äº›ä¸è§„èŒƒçš„ç½‘ç«™è€Œè¨€ï¼Œè§£æžä¼šæœ‰é—®é¢˜ï¼Œè€Œlxmlè§£å†³äº†è¯¥é—®é¢˜ã€‚å¦å¤–ï¼Œ Beautiful Soup 4 è§£æžæ—¶å€™ä¼šå°†æ‰€æœ‰çš„XMlèŠ‚ç‚¹åŠ è½½åˆ°å†…å­˜ä¸­å½¢æˆDOMæ ‘ï¼Œæ€§èƒ½ç›¸æ¯”æ­£åˆ™ä¸‹é™äº†å¾ˆå¤šã€‚ PyQueryè§£æžåº“ï¼Œå…¶å®žè¯­æ³•ç»“æž„å…¶å®žå°±æ˜¯ç”±JavaScriptçš„JQueryåº“æ¼”å˜è€Œæ¥çš„ï¼Œè¯¥åº“CSSé€‰æ‹©å™¨æ”¯æŒæ€§ç‰¹åˆ«å¥½ï¼Œç†Ÿç»ƒä½¿ç”¨JQueryçš„æœ‹å‹ä¹Ÿå¿…å®šä¼šä½¿ç”¨è¯¥ä¼šã€‚ å› ä¸ºæˆ‘æœ¬äººä¸å–œæ¬¢ç”¨è¿™ä¸ªBeautiful Soup 4 åº“ï¼Œæ‰€ä»¥ä¸æ‰“ç®—æ·±å…¥ç ”ç©¶ï¼Œå¦å¤–,PyQueryå’ŒJQueryæ“ä½œç±»ä¼¼ï¼Œæˆ‘åœ¨æœ¬æ–‡ä¹Ÿä¸åšç´¯è¿°ã€‚è‹¥æœ‰è¯»è€…å¯¹è¯¥åº“æ„Ÿå…´è¶£å¯è‡ªè¡Œç ”ç©¶ã€‚ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools ä¸‹ä¸€ç¯‡ Nginxè®¾ç½®é»‘ç™½åå• new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• çˆ¬è™«åˆ†æžçˆ¬è™«éœ€æ±‚ä»£ç ç¼–å†™åˆ©ç”¨æ­£åˆ™è¿›è¡Œè§£æžåˆ©ç”¨xlmlåŠXpathè§£æžçˆ¬å–ç»“æžœæ€»ç»“ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.699Z","updated":"2019-11-27T15:22:16.699Z","comments":true,"path":"public/2019/04/02/èŠèŠJavaé”çš„é‚£äº›äº‹/index.html","permalink":"http://ltyeamin.github.io/public/2019/04/02/èŠèŠJavaé”çš„é‚£äº›äº‹/index.html","excerpt":"","text":"èŠèŠJavaé”çš„é‚£äº›äº‹ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ èŠèŠJavaé”çš„é‚£äº›äº‹ backend JVMåŠå¹¶å‘ç¼–ç¨‹ 2019/04/02 æ˜¨å¤©æˆ‘ä»¬å­¦ä¹ äº†HashMapç›¸å…³çš„æºç ï¼Œæœ¬æ¥æ‰“ç®—ä»Šå¤©å†™ConcurrentHashMapæºç åˆ†æžï¼Œä½†æ˜¯ConcurrentHashMapæ¶‰åŠåˆ°ä¸€äº›é”çš„æ¦‚å¿µï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¶Šæ˜¯åº•å±‚çš„ä¸œè¥¿ï¼Œè¶Šæ˜¯è¦å¥½å¥½ç ”ç©¶ä¸€ç•ªï¼Œä»Šå¤©è¶æ­¤æœºä¼šå¥½å¥½çš„ç³»ç»Ÿå­¦ä¹ ä¸€ä¸‹ã€‚ é‚£ä¹ˆä»Šå¤©å°±æ¥èŠèŠJavaé”çš„é‚£äº›äº‹æƒ…ã€‚Javaä¸ºæˆ‘ä»¬æä¾›äº†ç§ç±»ä¸°å¯Œçš„é”ï¼Œæ¯ç§é”å› å…¶ç‰¹æ€§çš„ä¸åŒï¼Œåœ¨é€‚å½“çš„åœºæ™¯ä¸‹èƒ½å¤Ÿå±•çŽ°å‡ºéžå¸¸é«˜çš„æ•ˆçŽ‡ã€‚æœ¬æ–‡æ—¨åœ¨å¯¹é”ç›¸å…³æºç ï¼ˆæœ¬æ–‡ä¸­çš„æºç æ¥è‡ªJDK 8å’ŒNetty 3.10.6ï¼‰ã€ä½¿ç”¨åœºæ™¯è¿›è¡Œä¸¾ä¾‹ï¼Œä¸ºè¯»è€…ä»‹ç»ä¸»æµé”çš„çŸ¥è¯†ç‚¹ï¼Œä»¥åŠä¸åŒçš„é”çš„é€‚ç”¨åœºæ™¯ã€‚ Javaä¸­å¾€å¾€æ˜¯æŒ‰ç…§æ˜¯å¦å«æœ‰æŸä¸€ç‰¹æ€§æ¥å®šä¹‰é”ï¼Œæˆ‘ä»¬é€šè¿‡ç‰¹æ€§å°†é”è¿›è¡Œåˆ†ç»„å½’ç±»ï¼Œå†ä½¿ç”¨å¯¹æ¯”çš„æ–¹å¼è¿›è¡Œä»‹ç»ï¼Œå¸®åŠ©å¤§å®¶æ›´å¿«æ·çš„ç†è§£ç›¸å…³çŸ¥è¯†ã€‚ä¸‹é¢ç»™å‡ºæœ¬æ–‡å†…å®¹çš„æ€»ä½“åˆ†ç±»ç›®å½•ï¼š ä¹è§‚é” VS æ‚²è§‚é”ä¹è§‚é”ä¸Žæ‚²è§‚é”æ˜¯ä¸€ç§å¹¿ä¹‰ä¸Šçš„æ¦‚å¿µï¼Œä½“çŽ°äº†çœ‹å¾…çº¿ç¨‹åŒæ­¥çš„ä¸åŒè§’åº¦ã€‚åœ¨Javaå’Œæ•°æ®åº“ä¸­éƒ½æœ‰æ­¤æ¦‚å¿µå¯¹åº”çš„å®žé™…åº”ç”¨ã€‚ å…ˆè¯´æ¦‚å¿µã€‚å¯¹äºŽåŒä¸€ä¸ªæ•°æ®çš„å¹¶å‘æ“ä½œï¼Œæ‚²è§‚é”è®¤ä¸ºè‡ªå·±åœ¨ä½¿ç”¨æ•°æ®çš„æ—¶å€™ä¸€å®šæœ‰åˆ«çš„çº¿ç¨‹æ¥ä¿®æ”¹æ•°æ®(æ¯”è¾ƒæ‚²è§‚)ï¼Œå› æ­¤åœ¨èŽ·å–æ•°æ®çš„æ—¶å€™ä¼šå…ˆåŠ é”ï¼Œç¡®ä¿æ•°æ®ä¸ä¼šè¢«åˆ«çš„çº¿ç¨‹ä¿®æ”¹ã€‚Javaä¸­ï¼Œsynchronizedå…³é”®å­—å’ŒLockçš„å®žçŽ°ç±»éƒ½æ˜¯æ‚²è§‚é”ã€‚ è€Œä¹è§‚é”è®¤ä¸ºè‡ªå·±åœ¨ä½¿ç”¨æ•°æ®æ—¶ä¸ä¼šæœ‰åˆ«çš„çº¿ç¨‹ä¿®æ”¹æ•°æ®ï¼Œæ‰€ä»¥ä¸ä¼šæ·»åŠ é”ï¼Œåªæ˜¯åœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™åŽ»åˆ¤æ–­ä¹‹å‰æœ‰æ²¡æœ‰åˆ«çš„çº¿ç¨‹æ›´æ–°äº†è¿™ä¸ªæ•°æ®ã€‚å¦‚æžœè¿™ä¸ªæ•°æ®æ²¡æœ‰è¢«æ›´æ–°ï¼Œå½“å‰çº¿ç¨‹å°†è‡ªå·±ä¿®æ”¹çš„æ•°æ®æˆåŠŸå†™å…¥ã€‚å¦‚æžœæ•°æ®å·²ç»è¢«å…¶ä»–çº¿ç¨‹æ›´æ–°ï¼Œåˆ™æ ¹æ®ä¸åŒçš„å®žçŽ°æ–¹å¼æ‰§è¡Œä¸åŒçš„æ“ä½œï¼ˆä¾‹å¦‚æŠ¥é”™æˆ–è€…è‡ªåŠ¨é‡è¯•ï¼‰ã€‚ ä¹è§‚é”åœ¨Javaä¸­æ˜¯é€šè¿‡ä½¿ç”¨æ— é”ç¼–ç¨‹æ¥å®žçŽ°ï¼Œæœ€å¸¸é‡‡ç”¨çš„æ˜¯CASç®—æ³•ï¼ŒJavaåŽŸå­ç±»ä¸­çš„é€’å¢žæ“ä½œå°±é€šè¿‡CASè‡ªæ—‹å®žçŽ°çš„ã€‚ æ ¹æ®ä»Žä¸Šé¢çš„æ¦‚å¿µæè¿°æˆ‘ä»¬å¯ä»¥å‘çŽ°ï¼š æ‚²è§‚é”é€‚åˆå†™æ“ä½œå¤šçš„åœºæ™¯ï¼Œå…ˆåŠ é”å¯ä»¥ä¿è¯å†™æ“ä½œæ—¶æ•°æ®æ­£ç¡®ã€‚ ä¹è§‚é”é€‚åˆè¯»æ“ä½œå¤šçš„åœºæ™¯ï¼Œä¸åŠ é”çš„ç‰¹ç‚¹èƒ½å¤Ÿä½¿å…¶è¯»æ“ä½œçš„æ€§èƒ½å¤§å¹…æå‡ã€‚ åªè¯´æ¦‚å¿µæœ‰äº›æŠ½è±¡ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ä¹è§‚é”å’Œæ‚²è§‚é”çš„è°ƒç”¨æ–¹å¼ç¤ºä¾‹ï¼š 1234567891011121314151617181920// ------------------------- æ‚²è§‚é”çš„è°ƒç”¨æ–¹å¼ -------------------------// synchronizedpublic void testMethod() &#123; synchronized &#123; // æ“ä½œåŒæ­¥èµ„æº &#125;&#125;// ReentrantLock// éœ€è¦ä¿è¯å¤šä¸ªçº¿ç¨‹ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªé”private ReentrantLock lock = new ReentrantLock(); public void modifyPublicResources() &#123; lock.lock(); // æ“ä½œåŒæ­¥èµ„æº lock.unlock();&#125;// ------------------------- ä¹è§‚é”çš„è°ƒç”¨æ–¹å¼ -------------------------// éœ€è¦ä¿è¯å¤šä¸ªçº¿ç¨‹ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªprivate AtomicInteger atomicInteger = new AtomicInteger();// æ‰§è¡Œè‡ªå¢ž1AtomicInteger atomicInteger.incrementAndGet(); é€šè¿‡è°ƒç”¨æ–¹å¼ç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å‘çŽ°æ‚²è§‚é”åŸºæœ¬éƒ½æ˜¯åœ¨æ˜¾å¼çš„é”å®šä¹‹åŽå†æ“ä½œåŒæ­¥èµ„æºï¼Œè€Œä¹è§‚é”åˆ™ç›´æŽ¥åŽ»æ“ä½œåŒæ­¥èµ„æºã€‚é‚£ä¹ˆï¼Œä¸ºä½•ä¹è§‚é”èƒ½å¤Ÿåšåˆ°ä¸é”å®šåŒæ­¥èµ„æºä¹Ÿå¯ä»¥æ­£ç¡®çš„å®žçŽ°çº¿ç¨‹åŒæ­¥å‘¢ï¼Ÿæˆ‘ä»¬é€šè¿‡ä»‹ç»ä¹è§‚é”çš„ä¸»è¦å®žçŽ°æ–¹å¼ â€œCASâ€ çš„æŠ€æœ¯åŽŸç†æ¥ä¸ºå¤§å®¶è§£æƒ‘ã€‚ CASå…¨ç§° Compare And Swapï¼ˆæ¯”è¾ƒä¸Žäº¤æ¢ï¼‰ï¼Œæ˜¯ä¸€ç§æ— é”ç®—æ³•ã€‚åœ¨ä¸ä½¿ç”¨é”ï¼ˆæ²¡æœ‰çº¿ç¨‹è¢«é˜»å¡žï¼‰çš„æƒ…å†µä¸‹å®žçŽ°å¤šçº¿ç¨‹ä¹‹é—´çš„å˜é‡åŒæ­¥ã€‚java.util.concurrentåŒ…ä¸­çš„åŽŸå­ç±»å°±æ˜¯é€šè¿‡CASæ¥å®žçŽ°äº†ä¹è§‚é”ã€‚ CASç®—æ³•æ¶‰åŠåˆ°ä¸‰ä¸ªæ“ä½œæ•°ï¼š éœ€è¦è¯»å†™çš„å†…å­˜å€¼ Vï¼› è¿›è¡Œæ¯”è¾ƒçš„å€¼ Aï¼› è¦å†™å…¥çš„æ–°å€¼ Bã€‚ å½“ä¸”ä»…å½“ V å†…å­˜å€¼æŒ‡å‘çš„å€¼ç­‰äºŽ A æ—¶ï¼ŒCASé€šè¿‡åŽŸå­æ–¹å¼ç”¨æ–°å€¼Bæ¥æ›´æ–°Vçš„å€¼ï¼ˆâ€œæ¯”è¾ƒ+æ›´æ–°â€æ•´ä½“æ˜¯ä¸€ä¸ªåŽŸå­æ“ä½œï¼‰ï¼Œå¦åˆ™ä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œâ€œæ›´æ–°â€æ˜¯ä¸€ä¸ªä¸æ–­é‡è¯•çš„æ“ä½œã€‚ ä¹‹å‰æåˆ°java.util.concurrentåŒ…ä¸­çš„åŽŸå­ç±»ï¼Œå°±æ˜¯é€šè¿‡CASæ¥å®žçŽ°äº†ä¹è§‚é”ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›å…¥åŽŸå­ç±»AtomicIntegerçš„æºç ï¼Œçœ‹ä¸€ä¸‹AtomicIntegerçš„å®šä¹‰ï¼š 12345678910111213141516public class AtomicInteger extends Number implements java.io.Serializable &#123; private static final long serialVersionUID = 6214790243416807050L; // setup to use Unsafe.compareAndSwapInt for updates private static final Unsafe unsafe = Unsafe.getUnsafe(); private static final long valueOffset; static &#123; try &#123; valueOffset = unsafe.objectFieldOffset (AtomicInteger.class.getDeclaredField(&quot;value&quot;)); &#125; catch (Exception ex) &#123; throw new Error(ex); &#125; &#125; private volatile int value; &#125; æ ¹æ®å®šä¹‰æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå„å±žæ€§çš„ä½œç”¨ï¼š unsafeï¼š èŽ·å–å¹¶æ“ä½œå†…å­˜çš„æ•°æ®ã€‚ valueOffsetï¼š å­˜å‚¨valueåœ¨AtomicIntegerä¸­çš„åç§»é‡ã€‚ valueï¼š å­˜å‚¨AtomicIntegerçš„intå€¼ï¼Œè¯¥å±žæ€§éœ€è¦å€ŸåŠ©volatileå…³é”®å­—ä¿è¯å…¶åœ¨çº¿ç¨‹é—´æ˜¯å¯è§çš„ã€‚ æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŸ¥çœ‹AtomicIntegerçš„è‡ªå¢žå‡½æ•°incrementAndGet()çš„æºç æ—¶ï¼Œå‘çŽ°è‡ªå¢žå‡½æ•°åº•å±‚è°ƒç”¨çš„æ˜¯unsafe.getAndAddInt()ã€‚ä½†æ˜¯ç”±äºŽJDKæœ¬èº«åªæœ‰Unsafe.classï¼Œåªé€šè¿‡classæ–‡ä»¶ä¸­çš„å‚æ•°åï¼Œå¹¶ä¸èƒ½å¾ˆå¥½çš„äº†è§£æ–¹æ³•çš„ä½œç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡OpenJDK 8 æ¥æŸ¥çœ‹Unsafeçš„æºç ï¼š 123456789101112131415161718192021222324/ ------------------------- JDK 8 -------------------------// AtomicInteger è‡ªå¢žæ–¹æ³•public final int incrementAndGet() &#123; return unsafe.getAndAddInt(this, valueOffset, 1) + 1;&#125;// Unsafe.classpublic final int getAndAddInt(Object var1, long var2, int var4) &#123; int var5; do &#123; var5 = this.getIntVolatile(var1, var2); &#125; while(!this.compareAndSwapInt(var1, var2, var5, var5 + var4)); return var5;&#125;// ------------------------- OpenJDK 8 -------------------------// Unsafe.javapublic final int getAndAddInt(Object o, long offset, int delta) &#123; int v; do &#123; v = getIntVolatile(o, offset); &#125; while (!compareAndSwapInt(o, offset, v, v + delta)); return v;&#125; æ ¹æ®OpenJDK 8çš„æºç æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒgetAndAddInt()å¾ªçŽ¯èŽ·å–ç»™å®šå¯¹è±¡oä¸­çš„åç§»é‡å¤„çš„å€¼vï¼Œç„¶åŽåˆ¤æ–­å†…å­˜å€¼æ˜¯å¦ç­‰äºŽvã€‚å¦‚æžœç›¸ç­‰åˆ™å°†å†…å­˜å€¼è®¾ç½®ä¸º v + deltaï¼Œå¦åˆ™è¿”å›žfalseï¼Œç»§ç»­å¾ªçŽ¯è¿›è¡Œé‡è¯•ï¼Œç›´åˆ°è®¾ç½®æˆåŠŸæ‰èƒ½é€€å‡ºå¾ªçŽ¯ï¼Œå¹¶ä¸”å°†æ—§å€¼è¿”å›žã€‚æ•´ä¸ªâ€œæ¯”è¾ƒ+æ›´æ–°â€æ“ä½œå°è£…åœ¨compareAndSwapInt()ä¸­ï¼Œåœ¨JNIé‡Œæ˜¯å€ŸåŠ©äºŽä¸€ä¸ªCPUæŒ‡ä»¤å®Œæˆçš„ï¼Œå±žäºŽåŽŸå­æ“ä½œï¼Œå¯ä»¥ä¿è¯å¤šä¸ªçº¿ç¨‹éƒ½èƒ½å¤Ÿçœ‹åˆ°åŒä¸€ä¸ªå˜é‡çš„ä¿®æ”¹å€¼ã€‚ åŽç»­JDKé€šè¿‡CPUçš„cmpxchgæŒ‡ä»¤ï¼ŒåŽ»æ¯”è¾ƒå¯„å­˜å™¨ä¸­çš„ A å’Œ å†…å­˜ä¸­çš„å€¼ Vã€‚å¦‚æžœç›¸ç­‰ï¼Œå°±æŠŠè¦å†™å…¥çš„æ–°å€¼ B å­˜å…¥å†…å­˜ä¸­ã€‚å¦‚æžœä¸ç›¸ç­‰ï¼Œå°±å°†å†…å­˜å€¼ V èµ‹å€¼ç»™å¯„å­˜å™¨ä¸­çš„å€¼ Aã€‚ç„¶åŽé€šè¿‡Javaä»£ç ä¸­çš„whileå¾ªçŽ¯å†æ¬¡è°ƒç”¨cmpxchgæŒ‡ä»¤è¿›è¡Œé‡è¯•ï¼Œç›´åˆ°è®¾ç½®æˆåŠŸä¸ºæ­¢ã€‚ CASè™½ç„¶å¾ˆé«˜æ•ˆï¼Œä½†æ˜¯å®ƒä¹Ÿå­˜åœ¨ä¸‰å¤§é—®é¢˜ï¼Œè¿™é‡Œä¹Ÿç®€å•è¯´ä¸€ä¸‹ï¼š ABAé—®é¢˜ã€‚CASéœ€è¦åœ¨æ“ä½œå€¼çš„æ—¶å€™æ£€æŸ¥å†…å­˜å€¼æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œæ²¡æœ‰å‘ç”Ÿå˜åŒ–æ‰ä¼šæ›´æ–°å†…å­˜å€¼ã€‚ä½†æ˜¯å¦‚æžœå†…å­˜å€¼åŽŸæ¥æ˜¯Aï¼ŒåŽæ¥å˜æˆäº†Bï¼Œç„¶åŽåˆå˜æˆäº†Aï¼Œé‚£ä¹ˆCASè¿›è¡Œæ£€æŸ¥æ—¶ä¼šå‘çŽ°å€¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯å®žé™…ä¸Šæ˜¯æœ‰å˜åŒ–çš„ã€‚ABAé—®é¢˜çš„è§£å†³æ€è·¯å°±æ˜¯åœ¨å˜é‡å‰é¢æ·»åŠ ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡å˜é‡æ›´æ–°çš„æ—¶å€™éƒ½æŠŠç‰ˆæœ¬å·åŠ ä¸€ï¼Œè¿™æ ·å˜åŒ–è¿‡ç¨‹å°±ä»Žâ€œAï¼Bï¼Aâ€å˜æˆäº†â€œ1Aï¼2Bï¼3Aâ€ã€‚ JDKä»Ž1.5å¼€å§‹æä¾›äº†AtomicStampedReferenceç±»æ¥è§£å†³ABAé—®é¢˜ï¼Œå…·ä½“æ“ä½œå°è£…åœ¨compareAndSet()ä¸­ã€‚compareAndSet()é¦–å…ˆæ£€æŸ¥å½“å‰å¼•ç”¨å’Œå½“å‰æ ‡å¿—ä¸Žé¢„æœŸå¼•ç”¨å’Œé¢„æœŸæ ‡å¿—æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æžœéƒ½ç›¸ç­‰ï¼Œåˆ™ä»¥åŽŸå­æ–¹å¼å°†å¼•ç”¨å€¼å’Œæ ‡å¿—çš„å€¼è®¾ç½®ä¸ºç»™å®šçš„æ›´æ–°å€¼ã€‚ å¾ªçŽ¯æ—¶é—´é•¿å¼€é”€å¤§ã€‚CASæ“ä½œå¦‚æžœé•¿æ—¶é—´ä¸æˆåŠŸï¼Œä¼šå¯¼è‡´å…¶ä¸€ç›´è‡ªæ—‹ï¼Œç»™CPUå¸¦æ¥éžå¸¸å¤§çš„å¼€é”€ã€‚ åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŽŸå­æ“ä½œ ã€‚å¯¹ä¸€ä¸ªå…±äº«å˜é‡æ‰§è¡Œæ“ä½œæ—¶ï¼ŒCASèƒ½å¤Ÿä¿è¯åŽŸå­æ“ä½œï¼Œä½†æ˜¯å¯¹å¤šä¸ªå…±äº«å˜é‡æ“ä½œæ—¶ï¼ŒCASæ˜¯æ— æ³•ä¿è¯æ“ä½œçš„åŽŸå­æ€§çš„ã€‚ Javaä»Ž1.5å¼€å§‹JDKæä¾›äº†AtomicReferenceç±»æ¥ä¿è¯å¼•ç”¨å¯¹è±¡ä¹‹é—´çš„åŽŸå­æ€§ï¼Œå¯ä»¥æŠŠå¤šä¸ªå˜é‡æ”¾åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œæ¥è¿›è¡ŒCASæ“ä½œã€‚ æœ‰å…³äºŽCASå’ŒUnsafeçš„å…·ä½“è¯¦è§£ï¼Œæˆ‘åŽç»­ä¸ºå¤§å®¶æ¢³ç†ã€‚ è‡ªæ—‹é” VS é€‚åº”æ€§è‡ªæ—‹é”åœ¨ä»‹ç»è‡ªæ—‹é”å‰ï¼Œæˆ‘ä»¬éœ€è¦ä»‹ç»ä¸€äº›å‰æçŸ¥è¯†æ¥å¸®åŠ©å¤§å®¶æ˜Žç™½è‡ªæ—‹é”çš„æ¦‚å¿µã€‚ é˜»å¡žæˆ–å”¤é†’ä¸€ä¸ªJavaçº¿ç¨‹éœ€è¦æ“ä½œç³»ç»Ÿåˆ‡æ¢CPUçŠ¶æ€æ¥å®Œæˆï¼Œè¿™ç§çŠ¶æ€è½¬æ¢éœ€è¦è€—è´¹å¤„ç†å™¨æ—¶é—´ã€‚å¦‚æžœåŒæ­¥ä»£ç å—ä¸­çš„å†…å®¹è¿‡äºŽç®€å•ï¼ŒçŠ¶æ€è½¬æ¢æ¶ˆè€—çš„æ—¶é—´æœ‰å¯èƒ½æ¯”ç”¨æˆ·ä»£ç æ‰§è¡Œçš„æ—¶é—´è¿˜è¦é•¿ã€‚ åœ¨è®¸å¤šåœºæ™¯ä¸­ï¼ŒåŒæ­¥èµ„æºçš„é”å®šæ—¶é—´å¾ˆçŸ­ï¼Œä¸ºäº†è¿™ä¸€å°æ®µæ—¶é—´åŽ»åˆ‡æ¢çº¿ç¨‹ï¼Œçº¿ç¨‹æŒ‚èµ·å’Œæ¢å¤çŽ°åœºçš„èŠ±è´¹å¯èƒ½ä¼šè®©ç³»ç»Ÿå¾—ä¸å¿å¤±ã€‚å¦‚æžœç‰©ç†æœºå™¨æœ‰å¤šä¸ªå¤„ç†å™¨ï¼Œèƒ½å¤Ÿè®©ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„çº¿ç¨‹åŒæ—¶å¹¶è¡Œæ‰§è¡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥è®©åŽé¢é‚£ä¸ªè¯·æ±‚é”çš„çº¿ç¨‹ä¸æ”¾å¼ƒCPUçš„æ‰§è¡Œæ—¶é—´ï¼Œçœ‹çœ‹æŒæœ‰é”çš„çº¿ç¨‹æ˜¯å¦å¾ˆå¿«å°±ä¼šé‡Šæ”¾é”ã€‚ è€Œä¸ºäº†è®©å½“å‰çº¿ç¨‹â€œç¨ç­‰ä¸€ä¸‹â€ï¼Œæˆ‘ä»¬éœ€è®©å½“å‰çº¿ç¨‹è¿›è¡Œè‡ªæ—‹ï¼Œå¦‚æžœåœ¨è‡ªæ—‹å®ŒæˆåŽå‰é¢é”å®šåŒæ­¥èµ„æºçš„çº¿ç¨‹å·²ç»é‡Šæ”¾äº†é”ï¼Œé‚£ä¹ˆå½“å‰çº¿ç¨‹å°±å¯ä»¥ä¸å¿…é˜»å¡žè€Œæ˜¯ç›´æŽ¥èŽ·å–åŒæ­¥èµ„æºï¼Œä»Žè€Œé¿å…åˆ‡æ¢çº¿ç¨‹çš„å¼€é”€ã€‚è¿™å°±æ˜¯è‡ªæ—‹é”ã€‚ è‡ªæ—‹é”æœ¬èº«æ˜¯æœ‰ç¼ºç‚¹çš„ï¼Œå®ƒä¸èƒ½ä»£æ›¿é˜»å¡žã€‚è‡ªæ—‹ç­‰å¾…è™½ç„¶é¿å…äº†çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼Œä½†å®ƒè¦å ç”¨å¤„ç†å™¨æ—¶é—´ã€‚å¦‚æžœé”è¢«å ç”¨çš„æ—¶é—´å¾ˆçŸ­ï¼Œè‡ªæ—‹ç­‰å¾…çš„æ•ˆæžœå°±ä¼šéžå¸¸å¥½ã€‚åä¹‹ï¼Œå¦‚æžœé”è¢«å ç”¨çš„æ—¶é—´å¾ˆé•¿ï¼Œé‚£ä¹ˆè‡ªæ—‹çš„çº¿ç¨‹åªä¼šç™½æµªè´¹å¤„ç†å™¨èµ„æºã€‚æ‰€ä»¥ï¼Œè‡ªæ—‹ç­‰å¾…çš„æ—¶é—´å¿…é¡»è¦æœ‰ä¸€å®šçš„é™åº¦ï¼Œå¦‚æžœè‡ªæ—‹è¶…è¿‡äº†é™å®šæ¬¡æ•°ï¼ˆé»˜è®¤æ˜¯10æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨-XX:PreBlockSpinæ¥æ›´æ”¹ï¼‰æ²¡æœ‰æˆåŠŸèŽ·å¾—é”ï¼Œå°±åº”å½“æŒ‚èµ·çº¿ç¨‹ã€‚ è‡ªæ—‹é”çš„å®žçŽ°åŽŸç†åŒæ ·ä¹Ÿæ˜¯CASï¼ŒAtomicIntegerä¸­è°ƒç”¨unsafeè¿›è¡Œè‡ªå¢žæ“ä½œçš„æºç ä¸­çš„do-whileå¾ªçŽ¯å°±æ˜¯ä¸€ä¸ªè‡ªæ—‹æ“ä½œï¼Œå¦‚æžœä¿®æ”¹æ•°å€¼å¤±è´¥åˆ™é€šè¿‡å¾ªçŽ¯æ¥æ‰§è¡Œè‡ªæ—‹ï¼Œç›´è‡³ä¿®æ”¹æˆåŠŸã€‚ æ—‹é”åœ¨JDK1.4.2ä¸­å¼•å…¥ï¼Œä½¿ç”¨-XX:+UseSpinningæ¥å¼€å¯ã€‚JDK 6ä¸­å˜ä¸ºé»˜è®¤å¼€å¯ï¼Œå¹¶ä¸”å¼•å…¥äº†è‡ªé€‚åº”çš„è‡ªæ—‹é”ï¼ˆé€‚åº”æ€§è‡ªæ—‹é”ï¼‰ã€‚ è‡ªé€‚åº”æ„å‘³ç€è‡ªæ—‹çš„æ—¶é—´ï¼ˆæ¬¡æ•°ï¼‰ä¸å†å›ºå®šï¼Œè€Œæ˜¯ç”±å‰ä¸€æ¬¡åœ¨åŒä¸€ä¸ªé”ä¸Šçš„è‡ªæ—‹æ—¶é—´åŠé”çš„æ‹¥æœ‰è€…çš„çŠ¶æ€æ¥å†³å®šã€‚å¦‚æžœåœ¨åŒä¸€ä¸ªé”å¯¹è±¡ä¸Šï¼Œè‡ªæ—‹ç­‰å¾…åˆšåˆšæˆåŠŸèŽ·å¾—è¿‡é”ï¼Œå¹¶ä¸”æŒæœ‰é”çš„çº¿ç¨‹æ­£åœ¨è¿è¡Œä¸­ï¼Œé‚£ä¹ˆè™šæ‹Ÿæœºå°±ä¼šè®¤ä¸ºè¿™æ¬¡è‡ªæ—‹ä¹Ÿæ˜¯å¾ˆæœ‰å¯èƒ½å†æ¬¡æˆåŠŸï¼Œè¿›è€Œå®ƒå°†å…è®¸è‡ªæ—‹ç­‰å¾…æŒç»­ç›¸å¯¹æ›´é•¿çš„æ—¶é—´ã€‚å¦‚æžœå¯¹äºŽæŸä¸ªé”ï¼Œè‡ªæ—‹å¾ˆå°‘æˆåŠŸèŽ·å¾—è¿‡ï¼Œé‚£åœ¨ä»¥åŽå°è¯•èŽ·å–è¿™ä¸ªé”æ—¶å°†å¯èƒ½çœç•¥æŽ‰è‡ªæ—‹è¿‡ç¨‹ï¼Œç›´æŽ¥é˜»å¡žçº¿ç¨‹ï¼Œé¿å…æµªè´¹å¤„ç†å™¨èµ„æºã€‚ åœ¨è‡ªæ—‹é”ä¸­ å¦æœ‰ä¸‰ç§å¸¸è§çš„é”å½¢å¼:TicketLockã€CLHlockå’ŒMCSlockï¼Œæœ¬æ–‡ä¸­ä»…åšåè¯ä»‹ç»ï¼Œä¸åšæ·±å…¥è®²è§£ï¼Œæ„Ÿå…´è¶£çš„å¤§å®¶å¯ä»¥è‡ªè¡ŒæŸ¥é˜…ç›¸å…³èµ„æ–™ã€‚ æ— é” VS åå‘é” VS è½»é‡çº§é” VS é‡é‡çº§é”è¿™å››ç§é”æ˜¯æŒ‡é”çš„çŠ¶æ€ï¼Œä¸“é—¨é’ˆå¯¹synchronizedçš„ã€‚åœ¨ä»‹ç»è¿™å››ç§é”çŠ¶æ€ä¹‹å‰è¿˜éœ€è¦ä»‹ç»ä¸€äº›é¢å¤–çš„çŸ¥è¯†ã€‚ é¦–å…ˆä¸ºä»€ä¹ˆSynchronizedèƒ½å®žçŽ°çº¿ç¨‹åŒæ­¥ï¼Ÿ åœ¨å›žç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰æˆ‘ä»¬éœ€è¦äº†è§£ä¸¤ä¸ªé‡è¦çš„æ¦‚å¿µï¼šâ€œJavaå¯¹è±¡å¤´â€ã€â€œMonitorâ€ã€‚ Javaå¯¹è±¡å¤´synchronizedæ˜¯æ‚²è§‚é”ï¼Œåœ¨æ“ä½œåŒæ­¥èµ„æºä¹‹å‰éœ€è¦ç»™åŒæ­¥èµ„æºå…ˆåŠ é”ï¼Œè¿™æŠŠé”å°±æ˜¯å­˜åœ¨Javaå¯¹è±¡å¤´é‡Œçš„ï¼Œè€ŒJavaå¯¹è±¡å¤´åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æˆ‘ä»¬ä»¥Hotspotè™šæ‹Ÿæœºä¸ºä¾‹ï¼ŒHotspotçš„å¯¹è±¡å¤´ä¸»è¦åŒ…æ‹¬ä¸¤éƒ¨åˆ†æ•°æ®ï¼šMark Wordï¼ˆæ ‡è®°å­—æ®µï¼‰ã€Klass Pointerï¼ˆç±»åž‹æŒ‡é’ˆï¼‰ã€‚ Mark Wordï¼šé»˜è®¤å­˜å‚¨å¯¹è±¡çš„HashCodeï¼Œåˆ†ä»£å¹´é¾„å’Œé”æ ‡å¿—ä½ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯éƒ½æ˜¯ä¸Žå¯¹è±¡è‡ªèº«å®šä¹‰æ— å…³çš„æ•°æ®ï¼Œæ‰€ä»¥Mark Wordè¢«è®¾è®¡æˆä¸€ä¸ªéžå›ºå®šçš„æ•°æ®ç»“æž„ä»¥ä¾¿åœ¨æžå°çš„ç©ºé—´å†…å­˜å­˜å‚¨å°½é‡å¤šçš„æ•°æ®ã€‚å®ƒä¼šæ ¹æ®å¯¹è±¡çš„çŠ¶æ€å¤ç”¨è‡ªå·±çš„å­˜å‚¨ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è¿è¡ŒæœŸé—´Mark Wordé‡Œå­˜å‚¨çš„æ•°æ®ä¼šéšç€é”æ ‡å¿—ä½çš„å˜åŒ–è€Œå˜åŒ–ã€‚ Klass Pointï¼šå¯¹è±¡æŒ‡å‘å®ƒçš„ç±»å…ƒæ•°æ®çš„æŒ‡é’ˆï¼Œè™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥ç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®žä¾‹ã€‚ MonitorMonitorå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªåŒæ­¥å·¥å…·æˆ–ä¸€ç§åŒæ­¥æœºåˆ¶ï¼Œé€šå¸¸è¢«æè¿°ä¸ºä¸€ä¸ªå¯¹è±¡ã€‚æ¯ä¸€ä¸ªJavaå¯¹è±¡å°±æœ‰ä¸€æŠŠçœ‹ä¸è§çš„é”ï¼Œç§°ä¸ºå†…éƒ¨é”æˆ–è€…Monitoré”ã€‚ Monitoræ˜¯çº¿ç¨‹ç§æœ‰çš„æ•°æ®ç»“æž„ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªå¯ç”¨monitor recordåˆ—è¡¨ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªå…¨å±€çš„å¯ç”¨åˆ—è¡¨ã€‚æ¯ä¸€ä¸ªè¢«é”ä½çš„å¯¹è±¡éƒ½ä¼šå’Œä¸€ä¸ªmonitorå…³è”ï¼ŒåŒæ—¶monitorä¸­æœ‰ä¸€ä¸ªOwnerå­—æ®µå­˜æ”¾æ‹¥æœ‰è¯¥é”çš„çº¿ç¨‹çš„å”¯ä¸€æ ‡è¯†ï¼Œè¡¨ç¤ºè¯¥é”è¢«è¿™ä¸ªçº¿ç¨‹å ç”¨ã€‚ çŽ°åœ¨è¯é¢˜å›žåˆ°synchronizedï¼Œsynchronizedé€šè¿‡Monitoræ¥å®žçŽ°çº¿ç¨‹åŒæ­¥ï¼ŒMonitoræ˜¯ä¾èµ–äºŽåº•å±‚çš„æ“ä½œç³»ç»Ÿçš„Mutex Lockï¼ˆäº’æ–¥é”ï¼‰æ¥å®žçŽ°çš„çº¿ç¨‹åŒæ­¥ã€‚ å¦‚åŒæˆ‘ä»¬åœ¨è‡ªæ—‹é”ä¸­æåˆ°çš„â€œé˜»å¡žæˆ–å”¤é†’ä¸€ä¸ªJavaçº¿ç¨‹éœ€è¦æ“ä½œç³»ç»Ÿåˆ‡æ¢CPUçŠ¶æ€æ¥å®Œæˆï¼Œè¿™ç§çŠ¶æ€è½¬æ¢éœ€è¦è€—è´¹å¤„ç†å™¨æ—¶é—´ã€‚å¦‚æžœåŒæ­¥ä»£ç å—ä¸­çš„å†…å®¹è¿‡äºŽç®€å•ï¼ŒçŠ¶æ€è½¬æ¢æ¶ˆè€—çš„æ—¶é—´æœ‰å¯èƒ½æ¯”ç”¨æˆ·ä»£ç æ‰§è¡Œçš„æ—¶é—´è¿˜è¦é•¿â€ã€‚è¿™ç§æ–¹å¼å°±æ˜¯synchronizedæœ€åˆå®žçŽ°åŒæ­¥çš„æ–¹å¼ï¼Œè¿™å°±æ˜¯JDK 6ä¹‹å‰synchronizedæ•ˆçŽ‡ä½Žçš„åŽŸå› ã€‚è¿™ç§ä¾èµ–äºŽæ“ä½œç³»ç»ŸMutex Lockæ‰€å®žçŽ°çš„é”æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œé‡é‡çº§é”â€ï¼ŒJDK 6ä¸­ä¸ºäº†å‡å°‘èŽ·å¾—é”å’Œé‡Šæ”¾é”å¸¦æ¥çš„æ€§èƒ½æ¶ˆè€—ï¼Œå¼•å…¥äº†â€œåå‘é”â€å’Œâ€œè½»é‡çº§é”â€ã€‚ æ‰€ä»¥ç›®å‰é”ä¸€å…±æœ‰4ç§çŠ¶æ€ï¼Œçº§åˆ«ä»Žä½Žåˆ°é«˜ä¾æ¬¡æ˜¯ï¼šæ— é”ã€åå‘é”ã€è½»é‡çº§é”å’Œé‡é‡çº§é”ã€‚é”çŠ¶æ€åªèƒ½å‡çº§ä¸èƒ½é™çº§ã€‚ é€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œæˆ‘ä»¬å¯¹synchronizedçš„åŠ é”æœºåˆ¶ä»¥åŠç›¸å…³çŸ¥è¯†æœ‰äº†ä¸€ä¸ªäº†è§£ï¼Œé‚£ä¹ˆä¸‹é¢æˆ‘ä»¬ç»™å‡ºå››ç§é”çŠ¶æ€å¯¹åº”çš„çš„Mark Wordå†…å®¹ï¼Œç„¶åŽå†åˆ†åˆ«è®²è§£å››ç§é”çŠ¶æ€çš„æ€è·¯ä»¥åŠç‰¹ç‚¹ï¼š é”çŠ¶æ€ å­˜å‚¨å†…å®¹ å­˜å‚¨å†…å®¹ æ— é” å¯¹è±¡çš„hashCodeã€å¯¹è±¡åˆ†ä»£å¹´é¾„ã€æ˜¯å¦æ˜¯åå‘é”ï¼ˆ0ï¼‰ 01 åå‘é” åå‘çº¿ç¨‹IDã€åå‘æ—¶é—´æˆ³ã€å¯¹è±¡åˆ†ä»£å¹´é¾„ã€æ˜¯å¦æ˜¯åå‘é”ï¼ˆ1ï¼‰ 01 è½»é‡çº§é” æŒ‡å‘æ ˆä¸­é”è®°å½•çš„æŒ‡é’ˆ 00 é‡é‡çº§é” æŒ‡å‘äº’æ–¥é‡ï¼ˆé‡é‡çº§é”ï¼‰çš„æŒ‡é’ˆ 10 æ— é”æ— é”æ²¡æœ‰å¯¹èµ„æºè¿›è¡Œé”å®šï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½èƒ½è®¿é—®å¹¶ä¿®æ”¹åŒä¸€ä¸ªèµ„æºï¼Œä½†åŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½ä¿®æ”¹æˆåŠŸã€‚ æ— é”çš„ç‰¹ç‚¹å°±æ˜¯ä¿®æ”¹æ“ä½œåœ¨å¾ªçŽ¯å†…è¿›è¡Œï¼Œçº¿ç¨‹ä¼šä¸æ–­çš„å°è¯•ä¿®æ”¹å…±äº«èµ„æºã€‚å¦‚æžœæ²¡æœ‰å†²çªå°±ä¿®æ”¹æˆåŠŸå¹¶é€€å‡ºï¼Œå¦åˆ™å°±ä¼šç»§ç»­å¾ªçŽ¯å°è¯•ã€‚å¦‚æžœæœ‰å¤šä¸ªçº¿ç¨‹ä¿®æ”¹åŒä¸€ä¸ªå€¼ï¼Œå¿…å®šä¼šæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½ä¿®æ”¹æˆåŠŸï¼Œè€Œå…¶ä»–ä¿®æ”¹å¤±è´¥çš„çº¿ç¨‹ä¼šä¸æ–­é‡è¯•ç›´åˆ°ä¿®æ”¹æˆåŠŸã€‚ä¸Šé¢æˆ‘ä»¬ä»‹ç»çš„CASåŽŸç†åŠåº”ç”¨å³æ˜¯æ— é”çš„å®žçŽ°ã€‚æ— é”æ— æ³•å…¨é¢ä»£æ›¿æœ‰é”ï¼Œä½†æ— é”åœ¨æŸäº›åœºåˆä¸‹çš„æ€§èƒ½æ˜¯éžå¸¸é«˜çš„ã€‚ åå‘é”åå‘é”æ˜¯æŒ‡ä¸€æ®µåŒæ­¥ä»£ç ä¸€ç›´è¢«ä¸€ä¸ªçº¿ç¨‹æ‰€è®¿é—®ï¼Œé‚£ä¹ˆè¯¥çº¿ç¨‹ä¼šè‡ªåŠ¨èŽ·å–é”ï¼Œé™ä½ŽèŽ·å–é”çš„ä»£ä»·ã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé”æ€»æ˜¯ç”±åŒä¸€çº¿ç¨‹å¤šæ¬¡èŽ·å¾—ï¼Œä¸å­˜åœ¨å¤šçº¿ç¨‹ç«žäº‰ï¼Œæ‰€ä»¥å‡ºçŽ°äº†åå‘é”ã€‚å…¶ç›®æ ‡å°±æ˜¯åœ¨åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç å—æ—¶èƒ½å¤Ÿæé«˜æ€§èƒ½ã€‚ å½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®åŒæ­¥ä»£ç å—å¹¶èŽ·å–é”æ—¶ï¼Œä¼šåœ¨Mark Wordé‡Œå­˜å‚¨é”åå‘çš„çº¿ç¨‹IDã€‚åœ¨çº¿ç¨‹è¿›å…¥å’Œé€€å‡ºåŒæ­¥å—æ—¶ä¸å†é€šè¿‡CASæ“ä½œæ¥åŠ é”å’Œè§£é”ï¼Œè€Œæ˜¯æ£€æµ‹Mark Wordé‡Œæ˜¯å¦å­˜å‚¨ç€æŒ‡å‘å½“å‰çº¿ç¨‹çš„åå‘é”ã€‚å¼•å…¥åå‘é”æ˜¯ä¸ºäº†åœ¨æ— å¤šçº¿ç¨‹ç«žäº‰çš„æƒ…å†µä¸‹å°½é‡å‡å°‘ä¸å¿…è¦çš„è½»é‡çº§é”æ‰§è¡Œè·¯å¾„ï¼Œå› ä¸ºè½»é‡çº§é”çš„èŽ·å–åŠé‡Šæ”¾ä¾èµ–å¤šæ¬¡CASåŽŸå­æŒ‡ä»¤ï¼Œè€Œåå‘é”åªéœ€è¦åœ¨ç½®æ¢ThreadIDçš„æ—¶å€™ä¾èµ–ä¸€æ¬¡CASåŽŸå­æŒ‡ä»¤å³å¯ã€‚ åå‘é”åªæœ‰é‡åˆ°å…¶ä»–çº¿ç¨‹å°è¯•ç«žäº‰åå‘é”æ—¶ï¼ŒæŒæœ‰åå‘é”çš„çº¿ç¨‹æ‰ä¼šé‡Šæ”¾é”ï¼Œçº¿ç¨‹ä¸ä¼šä¸»åŠ¨é‡Šæ”¾åå‘é”ã€‚åå‘é”çš„æ’¤é”€ï¼Œéœ€è¦ç­‰å¾…å…¨å±€å®‰å…¨ç‚¹ï¼ˆåœ¨è¿™ä¸ªæ—¶é—´ç‚¹ä¸Šæ²¡æœ‰å­—èŠ‚ç æ­£åœ¨æ‰§è¡Œï¼‰ï¼Œå®ƒä¼šé¦–å…ˆæš‚åœæ‹¥æœ‰åå‘é”çš„çº¿ç¨‹ï¼Œåˆ¤æ–­é”å¯¹è±¡æ˜¯å¦å¤„äºŽè¢«é”å®šçŠ¶æ€ã€‚æ’¤é”€åå‘é”åŽæ¢å¤åˆ°æ— é”ï¼ˆæ ‡å¿—ä½ä¸ºâ€œ01â€ï¼‰æˆ–è½»é‡çº§é”ï¼ˆæ ‡å¿—ä½ä¸ºâ€œ00â€ï¼‰çš„çŠ¶æ€ã€‚ åå‘é”åœ¨JDK 6åŠä»¥åŽçš„JVMé‡Œæ˜¯é»˜è®¤å¯ç”¨çš„ã€‚å¯ä»¥é€šè¿‡JVMå‚æ•°å…³é—­åå‘é”ï¼š-XX:-UseBiasedLocking=falseï¼Œå…³é—­ä¹‹åŽç¨‹åºé»˜è®¤ä¼šè¿›å…¥è½»é‡çº§é”çŠ¶æ€ã€‚ è½»é‡çº§é”æ˜¯æŒ‡å½“é”æ˜¯åå‘é”çš„æ—¶å€™ï¼Œè¢«å¦å¤–çš„çº¿ç¨‹æ‰€è®¿é—®ï¼Œåå‘é”å°±ä¼šå‡çº§ä¸ºè½»é‡çº§é”ï¼Œå…¶ä»–çº¿ç¨‹ä¼šé€šè¿‡è‡ªæ—‹çš„å½¢å¼å°è¯•èŽ·å–é”ï¼Œä¸ä¼šé˜»å¡žï¼Œä»Žè€Œæé«˜æ€§èƒ½ã€‚ åœ¨ä»£ç è¿›å…¥åŒæ­¥å—çš„æ—¶å€™ï¼Œå¦‚æžœåŒæ­¥å¯¹è±¡é”çŠ¶æ€ä¸ºæ— é”çŠ¶æ€ï¼ˆé”æ ‡å¿—ä½ä¸ºâ€œ01â€çŠ¶æ€ï¼Œæ˜¯å¦ä¸ºåå‘é”ä¸ºâ€œ0â€ï¼‰ï¼Œè™šæ‹Ÿæœºé¦–å…ˆå°†åœ¨å½“å‰çº¿ç¨‹çš„æ ˆå¸§ä¸­å»ºç«‹ä¸€ä¸ªåä¸ºé”è®°å½•ï¼ˆLock Recordï¼‰çš„ç©ºé—´ï¼Œç”¨äºŽå­˜å‚¨é”å¯¹è±¡ç›®å‰çš„Mark Wordçš„æ‹·è´ï¼Œç„¶åŽæ‹·è´å¯¹è±¡å¤´ä¸­çš„Mark Wordå¤åˆ¶åˆ°é”è®°å½•ä¸­ã€‚ æ‹·è´æˆåŠŸåŽï¼Œè™šæ‹Ÿæœºå°†ä½¿ç”¨CASæ“ä½œå°è¯•å°†å¯¹è±¡çš„Mark Wordæ›´æ–°ä¸ºæŒ‡å‘Lock Recordçš„æŒ‡é’ˆï¼Œå¹¶å°†Lock Recordé‡Œçš„owneræŒ‡é’ˆæŒ‡å‘å¯¹è±¡çš„Mark Wordã€‚ å¦‚æžœè¿™ä¸ªæ›´æ–°åŠ¨ä½œæˆåŠŸäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±æ‹¥æœ‰äº†è¯¥å¯¹è±¡çš„é”ï¼Œå¹¶ä¸”å¯¹è±¡Mark Wordçš„é”æ ‡å¿—ä½è®¾ç½®ä¸ºâ€œ00â€ï¼Œè¡¨ç¤ºæ­¤å¯¹è±¡å¤„äºŽè½»é‡çº§é”å®šçŠ¶æ€ã€‚ å¦‚æžœè½»é‡çº§é”çš„æ›´æ–°æ“ä½œå¤±è´¥äº†ï¼Œè™šæ‹Ÿæœºé¦–å…ˆä¼šæ£€æŸ¥å¯¹è±¡çš„Mark Wordæ˜¯å¦æŒ‡å‘å½“å‰çº¿ç¨‹çš„æ ˆå¸§ï¼Œå¦‚æžœæ˜¯å°±è¯´æ˜Žå½“å‰çº¿ç¨‹å·²ç»æ‹¥æœ‰äº†è¿™ä¸ªå¯¹è±¡çš„é”ï¼Œé‚£å°±å¯ä»¥ç›´æŽ¥è¿›å…¥åŒæ­¥å—ç»§ç»­æ‰§è¡Œï¼Œå¦åˆ™è¯´æ˜Žå¤šä¸ªçº¿ç¨‹ç«žäº‰é”ã€‚ è‹¥å½“å‰åªæœ‰ä¸€ä¸ªç­‰å¾…çº¿ç¨‹ï¼Œåˆ™è¯¥çº¿ç¨‹é€šè¿‡è‡ªæ—‹è¿›è¡Œç­‰å¾…ã€‚ä½†æ˜¯å½“è‡ªæ—‹è¶…è¿‡ä¸€å®šçš„æ¬¡æ•°ï¼Œæˆ–è€…ä¸€ä¸ªçº¿ç¨‹åœ¨æŒæœ‰é”ï¼Œä¸€ä¸ªåœ¨è‡ªæ—‹ï¼Œåˆæœ‰ç¬¬ä¸‰ä¸ªæ¥è®¿æ—¶ï¼Œè½»é‡çº§é”å‡çº§ä¸ºé‡é‡çº§é”ã€‚ é‡é‡çº§é”å‡çº§ä¸ºé‡é‡çº§é”æ—¶ï¼Œé”æ ‡å¿—çš„çŠ¶æ€å€¼å˜ä¸ºâ€œ10â€ï¼Œæ­¤æ—¶Mark Wordä¸­å­˜å‚¨çš„æ˜¯æŒ‡å‘é‡é‡çº§é”çš„æŒ‡é’ˆï¼Œæ­¤æ—¶ç­‰å¾…é”çš„çº¿ç¨‹éƒ½ä¼šè¿›å…¥é˜»å¡žçŠ¶æ€ã€‚ æ•´ä½“çš„é”çŠ¶æ€å‡çº§æµç¨‹å¦‚ä¸‹ï¼š ç»¼ä¸Šï¼Œåå‘é”é€šè¿‡å¯¹æ¯”Mark Wordè§£å†³åŠ é”é—®é¢˜ï¼Œé¿å…æ‰§è¡ŒCASæ“ä½œã€‚è€Œè½»é‡çº§é”æ˜¯é€šè¿‡ç”¨CASæ“ä½œå’Œè‡ªæ—‹æ¥è§£å†³åŠ é”é—®é¢˜ï¼Œé¿å…çº¿ç¨‹é˜»å¡žå’Œå”¤é†’è€Œå½±å“æ€§èƒ½ã€‚é‡é‡çº§é”æ˜¯å°†é™¤äº†æ‹¥æœ‰é”çš„çº¿ç¨‹ä»¥å¤–çš„çº¿ç¨‹éƒ½é˜»å¡žã€‚ å…¬å¹³é” VS éžå…¬å¹³é”å…¬å¹³é”æ˜¯æŒ‡å¤šä¸ªçº¿ç¨‹æŒ‰ç…§ç”³è¯·é”çš„é¡ºåºæ¥èŽ·å–é”ï¼Œçº¿ç¨‹ç›´æŽ¥è¿›å…¥é˜Ÿåˆ—ä¸­æŽ’é˜Ÿï¼Œé˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‰èƒ½èŽ·å¾—é”ã€‚å…¬å¹³é”çš„ä¼˜ç‚¹æ˜¯ç­‰å¾…é”çš„çº¿ç¨‹ä¸ä¼šé¥¿æ­»ã€‚ç¼ºç‚¹æ˜¯æ•´ä½“åžåæ•ˆçŽ‡ç›¸å¯¹éžå…¬å¹³é”è¦ä½Žï¼Œç­‰å¾…é˜Ÿåˆ—ä¸­é™¤ç¬¬ä¸€ä¸ªçº¿ç¨‹ä»¥å¤–çš„æ‰€æœ‰çº¿ç¨‹éƒ½ä¼šé˜»å¡žï¼ŒCPUå”¤é†’é˜»å¡žçº¿ç¨‹çš„å¼€é”€æ¯”éžå…¬å¹³é”å¤§ã€‚ éžå…¬å¹³é”æ˜¯å¤šä¸ªçº¿ç¨‹åŠ é”æ—¶ç›´æŽ¥å°è¯•èŽ·å–é”ï¼ŒèŽ·å–ä¸åˆ°æ‰ä¼šåˆ°ç­‰å¾…é˜Ÿåˆ—çš„é˜Ÿå°¾ç­‰å¾…ã€‚ä½†å¦‚æžœæ­¤æ—¶é”åˆšå¥½å¯ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å¯ä»¥æ— éœ€é˜»å¡žç›´æŽ¥èŽ·å–åˆ°é”ï¼Œæ‰€ä»¥éžå…¬å¹³é”æœ‰å¯èƒ½å‡ºçŽ°åŽç”³è¯·é”çš„çº¿ç¨‹å…ˆèŽ·å–é”çš„åœºæ™¯ã€‚éžå…¬å¹³é”çš„ä¼˜ç‚¹æ˜¯å¯ä»¥å‡å°‘å”¤èµ·çº¿ç¨‹çš„å¼€é”€ï¼Œæ•´ä½“çš„åžåæ•ˆçŽ‡é«˜ï¼Œå› ä¸ºçº¿ç¨‹æœ‰å‡ çŽ‡ä¸é˜»å¡žç›´æŽ¥èŽ·å¾—é”ï¼ŒCPUä¸å¿…å”¤é†’æ‰€æœ‰çº¿ç¨‹ã€‚ç¼ºç‚¹æ˜¯å¤„äºŽç­‰å¾…é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹å¯èƒ½ä¼šé¥¿æ­»ï¼Œæˆ–è€…ç­‰å¾ˆä¹…æ‰ä¼šèŽ·å¾—é”ã€‚ ç›´æŽ¥ç”¨è¯­è¨€æè¿°å¯èƒ½æœ‰ç‚¹æŠ½è±¡ï¼Œè¿™é‡Œç¬”è€…ç”¨ä»Žåˆ«å¤„çœ‹åˆ°çš„ä¸€ä¸ªä¾‹å­æ¥è®²è¿°ä¸€ä¸‹å…¬å¹³é”å’Œéžå…¬å¹³é”ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‡è®¾æœ‰ä¸€å£æ°´äº•ï¼Œæœ‰ç®¡ç†å‘˜çœ‹å®ˆï¼Œç®¡ç†å‘˜æœ‰ä¸€æŠŠé”ï¼Œåªæœ‰æ‹¿åˆ°é”çš„äººæ‰èƒ½å¤Ÿæ‰“æ°´ï¼Œæ‰“å®Œæ°´è¦æŠŠé”è¿˜ç»™ç®¡ç†å‘˜ã€‚æ¯ä¸ªè¿‡æ¥æ‰“æ°´çš„äººéƒ½è¦ç®¡ç†å‘˜çš„å…è®¸å¹¶æ‹¿åˆ°é”ä¹‹åŽæ‰èƒ½åŽ»æ‰“æ°´ï¼Œå¦‚æžœå‰é¢æœ‰äººæ­£åœ¨æ‰“æ°´ï¼Œé‚£ä¹ˆè¿™ä¸ªæƒ³è¦æ‰“æ°´çš„äººå°±å¿…é¡»æŽ’é˜Ÿã€‚ç®¡ç†å‘˜ä¼šæŸ¥çœ‹ä¸‹ä¸€ä¸ªè¦åŽ»æ‰“æ°´çš„äººæ˜¯ä¸æ˜¯é˜Ÿä¼é‡ŒæŽ’æœ€å‰é¢çš„äººï¼Œå¦‚æžœæ˜¯çš„è¯ï¼Œæ‰ä¼šç»™ä½ é”è®©ä½ åŽ»æ‰“æ°´ï¼›å¦‚æžœä½ ä¸æ˜¯æŽ’ç¬¬ä¸€çš„äººï¼Œå°±å¿…é¡»åŽ»é˜Ÿå°¾æŽ’é˜Ÿï¼Œè¿™å°±æ˜¯å…¬å¹³é”ã€‚ ä½†æ˜¯å¯¹äºŽéžå…¬å¹³é”ï¼Œç®¡ç†å‘˜å¯¹æ‰“æ°´çš„äººæ²¡æœ‰è¦æ±‚ã€‚å³ä½¿ç­‰å¾…é˜Ÿä¼é‡Œæœ‰æŽ’é˜Ÿç­‰å¾…çš„äººï¼Œä½†å¦‚æžœåœ¨ä¸Šä¸€ä¸ªäººåˆšæ‰“å®Œæ°´æŠŠé”è¿˜ç»™ç®¡ç†å‘˜è€Œä¸”ç®¡ç†å‘˜è¿˜æ²¡æœ‰å…è®¸ç­‰å¾…é˜Ÿä¼é‡Œä¸‹ä¸€ä¸ªäººåŽ»æ‰“æ°´æ—¶ï¼Œåˆšå¥½æ¥äº†ä¸€ä¸ªæ’é˜Ÿçš„äººï¼Œè¿™ä¸ªæ’é˜Ÿçš„äººæ˜¯å¯ä»¥ç›´æŽ¥ä»Žç®¡ç†å‘˜é‚£é‡Œæ‹¿åˆ°é”åŽ»æ‰“æ°´ï¼Œä¸éœ€è¦æŽ’é˜Ÿï¼ŒåŽŸæœ¬æŽ’é˜Ÿç­‰å¾…çš„äººåªèƒ½ç»§ç»­ç­‰å¾…ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æŽ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ReentrantLockçš„æºç æ¥è®²è§£å…¬å¹³é”å’Œéžå…¬å¹³é”ã€‚ æ ¹æ®ä»£ç å¯çŸ¥ï¼ŒReentrantLocké‡Œé¢æœ‰ä¸€ä¸ªå†…éƒ¨ç±»Syncï¼ŒSyncç»§æ‰¿AQSï¼ˆAbstractQueuedSynchronizerï¼‰ï¼Œæ·»åŠ é”å’Œé‡Šæ”¾é”çš„å¤§éƒ¨åˆ†æ“ä½œå®žé™…ä¸Šéƒ½æ˜¯åœ¨Syncä¸­å®žçŽ°çš„ã€‚å®ƒæœ‰å…¬å¹³é”FairSyncå’Œéžå…¬å¹³é”NonfairSyncä¸¤ä¸ªå­ç±»ã€‚ReentrantLocké»˜è®¤ä½¿ç”¨éžå…¬å¹³é”ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æž„é€ å™¨æ¥æ˜¾ç¤ºçš„æŒ‡å®šä½¿ç”¨å…¬å¹³é”ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å…¬å¹³é”ä¸Žéžå…¬å¹³é”çš„åŠ é”æ–¹æ³•çš„æºç : é€šè¿‡ä¸Šå›¾ä¸­çš„æºä»£ç å¯¹æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥æ˜Žæ˜¾çš„çœ‹å‡ºå…¬å¹³é”ä¸Žéžå…¬å¹³é”çš„lock()æ–¹æ³•å”¯ä¸€çš„åŒºåˆ«å°±åœ¨äºŽå…¬å¹³é”åœ¨èŽ·å–åŒæ­¥çŠ¶æ€æ—¶å¤šäº†ä¸€ä¸ªé™åˆ¶æ¡ä»¶ï¼šhasQueuedPredecessors()ã€‚ å†è¿›å…¥hasQueuedPredecessors()ï¼Œå¯ä»¥çœ‹åˆ°è¯¥æ–¹æ³•ä¸»è¦åšä¸€ä»¶äº‹æƒ…ï¼šä¸»è¦æ˜¯åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦ä½äºŽåŒæ­¥é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªã€‚å¦‚æžœæ˜¯åˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalseã€‚ ç»¼ä¸Šï¼Œå…¬å¹³é”å°±æ˜¯é€šè¿‡åŒæ­¥é˜Ÿåˆ—æ¥å®žçŽ°å¤šä¸ªçº¿ç¨‹æŒ‰ç…§ç”³è¯·é”çš„é¡ºåºæ¥èŽ·å–é”ï¼Œä»Žè€Œå®žçŽ°å…¬å¹³çš„ç‰¹æ€§ã€‚éžå…¬å¹³é”åŠ é”æ—¶ä¸è€ƒè™‘æŽ’é˜Ÿç­‰å¾…é—®é¢˜ï¼Œç›´æŽ¥å°è¯•èŽ·å–é”ï¼Œæ‰€ä»¥å­˜åœ¨åŽç”³è¯·å´å…ˆèŽ·å¾—é”çš„æƒ…å†µã€‚ å¯é‡å…¥é” VS éžå¯é‡å…¥é”å¯é‡å…¥é”åˆåé€’å½’é”ï¼Œæ˜¯æŒ‡åœ¨åŒä¸€ä¸ªçº¿ç¨‹åœ¨å¤–å±‚æ–¹æ³•èŽ·å–é”çš„æ—¶å€™ï¼Œå†è¿›å…¥è¯¥çº¿ç¨‹çš„å†…å±‚æ–¹æ³•ä¼šè‡ªåŠ¨èŽ·å–é”ï¼ˆå‰æé”å¯¹è±¡å¾—æ˜¯åŒä¸€ä¸ªå¯¹è±¡æˆ–è€…classï¼‰ï¼Œä¸ä¼šå› ä¸ºä¹‹å‰å·²ç»èŽ·å–è¿‡è¿˜æ²¡é‡Šæ”¾è€Œé˜»å¡žã€‚Javaä¸­ReentrantLockå’Œsynchronizedéƒ½æ˜¯å¯é‡å…¥é”ï¼Œå¯é‡å…¥é”çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯å¯ä¸€å®šç¨‹åº¦é¿å…æ­»é”ã€‚ä¸‹é¢ç”¨ç¤ºä¾‹ä»£ç æ¥è¿›è¡Œåˆ†æžï¼š 12345678910public class Widget &#123; public synchronized void doSomething() &#123; System.out.println(\"æ–¹æ³•1æ‰§è¡Œ...\"); doOthers(); &#125; public synchronized void doOthers() &#123; System.out.println(\"æ–¹æ³•2æ‰§è¡Œ...\"); &#125;&#125; åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç±»ä¸­çš„ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯è¢«å†…ç½®é”synchronizedä¿®é¥°çš„ï¼ŒdoSomething()æ–¹æ³•ä¸­è°ƒç”¨doOthers()æ–¹æ³•ã€‚å› ä¸ºå†…ç½®é”æ˜¯å¯é‡å…¥çš„ï¼Œæ‰€ä»¥åŒä¸€ä¸ªçº¿ç¨‹åœ¨è°ƒç”¨doOthers()æ—¶å¯ä»¥ç›´æŽ¥èŽ·å¾—å½“å‰å¯¹è±¡çš„é”ï¼Œè¿›å…¥doOthers()è¿›è¡Œæ“ä½œã€‚ å¦‚æžœæ˜¯ä¸€ä¸ªä¸å¯é‡å…¥é”ï¼Œé‚£ä¹ˆå½“å‰çº¿ç¨‹åœ¨è°ƒç”¨doOthers()ä¹‹å‰éœ€è¦å°†æ‰§è¡ŒdoSomething()æ—¶èŽ·å–å½“å‰å¯¹è±¡çš„é”é‡Šæ”¾æŽ‰ï¼Œå®žé™…ä¸Šè¯¥å¯¹è±¡é”å·²è¢«å½“å‰çº¿ç¨‹æ‰€æŒæœ‰ï¼Œä¸”æ— æ³•é‡Šæ”¾ã€‚æ‰€ä»¥æ­¤æ—¶ä¼šå‡ºçŽ°æ­»é”ã€‚ è€Œä¸ºä»€ä¹ˆå¯é‡å…¥é”å°±å¯ä»¥åœ¨åµŒå¥—è°ƒç”¨æ—¶å¯ä»¥è‡ªåŠ¨èŽ·å¾—é”å‘¢ï¼Ÿæˆ‘ä»¬é€šè¿‡å›¾ç¤ºå’Œæºç æ¥åˆ†åˆ«è§£æžä¸€ä¸‹ã€‚ è¿˜æ˜¯æ‰“æ°´çš„ä¾‹å­ï¼Œæœ‰å¤šä¸ªäººåœ¨æŽ’é˜Ÿæ‰“æ°´ï¼Œæ­¤æ—¶ç®¡ç†å‘˜å…è®¸é”å’ŒåŒä¸€ä¸ªäººçš„å¤šä¸ªæ°´æ¡¶ç»‘å®šã€‚è¿™ä¸ªäººç”¨å¤šä¸ªæ°´æ¡¶æ‰“æ°´æ—¶ï¼Œç¬¬ä¸€ä¸ªæ°´æ¡¶å’Œé”ç»‘å®šå¹¶æ‰“å®Œæ°´ä¹‹åŽï¼Œç¬¬äºŒä¸ªæ°´æ¡¶ä¹Ÿå¯ä»¥ç›´æŽ¥å’Œé”ç»‘å®šå¹¶å¼€å§‹æ‰“æ°´ï¼Œæ‰€æœ‰çš„æ°´æ¡¶éƒ½æ‰“å®Œæ°´ä¹‹åŽæ‰“æ°´äººæ‰ä¼šå°†é”è¿˜ç»™ç®¡ç†å‘˜ã€‚è¿™ä¸ªäººçš„æ‰€æœ‰æ‰“æ°´æµç¨‹éƒ½èƒ½å¤ŸæˆåŠŸæ‰§è¡Œï¼ŒåŽç»­ç­‰å¾…çš„äººä¹Ÿèƒ½å¤Ÿæ‰“åˆ°æ°´ã€‚è¿™å°±æ˜¯å¯é‡å…¥é”ã€‚ ä½†å¦‚æžœæ˜¯éžå¯é‡å…¥é”çš„è¯ï¼Œæ­¤æ—¶ç®¡ç†å‘˜åªå…è®¸é”å’ŒåŒä¸€ä¸ªäººçš„ä¸€ä¸ªæ°´æ¡¶ç»‘å®šã€‚ç¬¬ä¸€ä¸ªæ°´æ¡¶å’Œé”ç»‘å®šæ‰“å®Œæ°´ä¹‹åŽå¹¶ä¸ä¼šé‡Šæ”¾é”ï¼Œå¯¼è‡´ç¬¬äºŒä¸ªæ°´æ¡¶ä¸èƒ½å’Œé”ç»‘å®šä¹Ÿæ— æ³•æ‰“æ°´ã€‚å½“å‰çº¿ç¨‹å‡ºçŽ°æ­»é”ï¼Œæ•´ä¸ªç­‰å¾…é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰çº¿ç¨‹éƒ½æ— æ³•è¢«å”¤é†’ã€‚ ä¹‹å‰æˆ‘ä»¬è¯´è¿‡ReentrantLockå’Œsynchronizedéƒ½æ˜¯é‡å…¥é”ï¼Œé‚£ä¹ˆæˆ‘ä»¬é€šè¿‡é‡å…¥é”ReentrantLockä»¥åŠéžå¯é‡å…¥é”NonReentrantLockçš„æºç æ¥å¯¹æ¯”åˆ†æžä¸€ä¸‹ä¸ºä»€ä¹ˆéžå¯é‡å…¥é”åœ¨é‡å¤è°ƒç”¨åŒæ­¥èµ„æºæ—¶ä¼šå‡ºçŽ°æ­»é”ã€‚ é¦–å…ˆReentrantLockå’ŒNonReentrantLockéƒ½ç»§æ‰¿çˆ¶ç±»AQSï¼Œå…¶çˆ¶ç±»AQSä¸­ç»´æŠ¤äº†ä¸€ä¸ªåŒæ­¥çŠ¶æ€statusæ¥è®¡æ•°é‡å…¥æ¬¡æ•°ï¼Œstatusåˆå§‹å€¼ä¸º0ã€‚ å½“çº¿ç¨‹å°è¯•èŽ·å–é”æ—¶ï¼Œå¯é‡å…¥é”å…ˆå°è¯•èŽ·å–å¹¶æ›´æ–°statuså€¼ï¼Œå¦‚æžœstatus == 0è¡¨ç¤ºæ²¡æœ‰å…¶ä»–çº¿ç¨‹åœ¨æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œåˆ™æŠŠstatusç½®ä¸º1ï¼Œå½“å‰çº¿ç¨‹å¼€å§‹æ‰§è¡Œã€‚å¦‚æžœstatus != 0ï¼Œåˆ™åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦æ˜¯èŽ·å–åˆ°è¿™ä¸ªé”çš„çº¿ç¨‹ï¼Œå¦‚æžœæ˜¯çš„è¯æ‰§è¡Œstatus+1ï¼Œä¸”å½“å‰çº¿ç¨‹å¯ä»¥å†æ¬¡èŽ·å–é”ã€‚è€Œéžå¯é‡å…¥é”æ˜¯ç›´æŽ¥åŽ»èŽ·å–å¹¶å°è¯•æ›´æ–°å½“å‰statusçš„å€¼ï¼Œå¦‚æžœstatus != 0çš„è¯ä¼šå¯¼è‡´å…¶èŽ·å–é”å¤±è´¥ï¼Œå½“å‰çº¿ç¨‹é˜»å¡žã€‚ é‡Šæ”¾é”æ—¶ï¼Œå¯é‡å…¥é”åŒæ ·å…ˆèŽ·å–å½“å‰statusçš„å€¼ï¼Œåœ¨å½“å‰çº¿ç¨‹æ˜¯æŒæœ‰é”çš„çº¿ç¨‹çš„å‰æä¸‹ã€‚å¦‚æžœstatus-1 == 0ï¼Œåˆ™è¡¨ç¤ºå½“å‰çº¿ç¨‹æ‰€æœ‰é‡å¤èŽ·å–é”çš„æ“ä½œéƒ½å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œç„¶åŽè¯¥çº¿ç¨‹æ‰ä¼šçœŸæ­£é‡Šæ”¾é”ã€‚è€Œéžå¯é‡å…¥é”åˆ™æ˜¯åœ¨ç¡®å®šå½“å‰çº¿ç¨‹æ˜¯æŒæœ‰é”çš„çº¿ç¨‹ä¹‹åŽï¼Œç›´æŽ¥å°†statusç½®ä¸º0ï¼Œå°†é”é‡Šæ”¾ã€‚ ç‹¬äº«é” VS å…±äº«é”ç‹¬äº«é”å’Œå…±äº«é”åŒæ ·æ˜¯ä¸€ç§æ¦‚å¿µã€‚æˆ‘ä»¬å…ˆä»‹ç»ä¸€ä¸‹å…·ä½“çš„æ¦‚å¿µï¼Œç„¶åŽé€šè¿‡ReentrantLockå’ŒReentrantReadWriteLockçš„æºç æ¥ä»‹ç»ç‹¬äº«é”å’Œå…±äº«é”ã€‚ ç‹¬äº«é”ä¹Ÿå«æŽ’ä»–é”ï¼Œæ˜¯æŒ‡è¯¥é”ä¸€æ¬¡åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹æ‰€æŒæœ‰ã€‚å¦‚æžœçº¿ç¨‹Tå¯¹æ•°æ®AåŠ ä¸ŠæŽ’å®ƒé”åŽï¼Œåˆ™å…¶ä»–çº¿ç¨‹ä¸èƒ½å†å¯¹AåŠ ä»»ä½•ç±»åž‹çš„é”ã€‚èŽ·å¾—æŽ’å®ƒé”çš„çº¿ç¨‹å³èƒ½è¯»æ•°æ®åˆèƒ½ä¿®æ”¹æ•°æ®ã€‚JDKä¸­çš„synchronizedå’ŒJUCä¸­Lockçš„å®žçŽ°ç±»å°±æ˜¯äº’æ–¥é”ã€‚ å…±äº«é”æ˜¯æŒ‡è¯¥é”å¯è¢«å¤šä¸ªçº¿ç¨‹æ‰€æŒæœ‰ã€‚å¦‚æžœçº¿ç¨‹Tå¯¹æ•°æ®AåŠ ä¸Šå…±äº«é”åŽï¼Œåˆ™å…¶ä»–çº¿ç¨‹åªèƒ½å¯¹Aå†åŠ å…±äº«é”ï¼Œä¸èƒ½åŠ æŽ’å®ƒé”ã€‚èŽ·å¾—å…±äº«é”çš„çº¿ç¨‹åªèƒ½è¯»æ•°æ®ï¼Œä¸èƒ½ä¿®æ”¹æ•°æ®ã€‚ ç‹¬äº«é”ä¸Žå…±äº«é”ä¹Ÿæ˜¯é€šè¿‡AQSæ¥å®žçŽ°çš„ï¼Œé€šè¿‡å®žçŽ°ä¸åŒçš„æ–¹æ³•ï¼Œæ¥å®žçŽ°ç‹¬äº«æˆ–è€…å…±äº«ã€‚ ä¸‹å›¾ä¸ºReentrantReadWriteLockçš„éƒ¨åˆ†æºç ï¼š æˆ‘ä»¬çœ‹åˆ°ReentrantReadWriteLockæœ‰ä¸¤æŠŠé”ï¼šReadLockå’ŒWriteLockï¼Œç”±è¯çŸ¥æ„ï¼Œä¸€ä¸ªè¯»é”ä¸€ä¸ªå†™é”ï¼Œåˆç§°â€œè¯»å†™é”â€ã€‚å†è¿›ä¸€æ­¥è§‚å¯Ÿå¯ä»¥å‘çŽ°ReadLockå’ŒWriteLockæ˜¯é å†…éƒ¨ç±»Syncå®žçŽ°çš„é”ã€‚Syncæ˜¯AQSçš„ä¸€ä¸ªå­ç±»ï¼Œè¿™ç§ç»“æž„åœ¨CountDownLatchã€ReentrantLockã€Semaphoreé‡Œé¢ä¹Ÿéƒ½å­˜åœ¨ã€‚ åœ¨ReentrantReadWriteLocké‡Œé¢ï¼Œè¯»é”å’Œå†™é”çš„é”ä¸»ä½“éƒ½æ˜¯Syncï¼Œä½†è¯»é”å’Œå†™é”çš„åŠ é”æ–¹å¼ä¸ä¸€æ ·ã€‚è¯»é”æ˜¯å…±äº«é”ï¼Œå†™é”æ˜¯ç‹¬äº«é”ã€‚è¯»é”çš„å…±äº«é”å¯ä¿è¯å¹¶å‘è¯»éžå¸¸é«˜æ•ˆï¼Œè€Œè¯»å†™ã€å†™è¯»ã€å†™å†™çš„è¿‡ç¨‹äº’æ–¥ï¼Œå› ä¸ºè¯»é”å’Œå†™é”æ˜¯åˆ†ç¦»çš„ã€‚æ‰€ä»¥ReentrantReadWriteLockçš„å¹¶å‘æ€§ç›¸æ¯”ä¸€èˆ¬çš„äº’æ–¥é”æœ‰äº†å¾ˆå¤§æå‡ã€‚ é‚£è¯»é”å’Œå†™é”çš„å…·ä½“åŠ é”æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿåœ¨äº†è§£æºç ä¹‹å‰æˆ‘ä»¬éœ€è¦å›žé¡¾ä¸€ä¸‹å…¶ä»–çŸ¥è¯†ã€‚ åœ¨æœ€å¼€å§‹æåŠAQSçš„æ—¶å€™æˆ‘ä»¬ä¹Ÿæåˆ°äº†stateå­—æ®µï¼ˆintç±»åž‹ï¼Œ32ä½ï¼‰ï¼Œè¯¥å­—æ®µç”¨æ¥æè¿°æœ‰å¤šå°‘çº¿ç¨‹èŽ·æŒæœ‰é”ã€‚ åœ¨ç‹¬äº«é”ä¸­è¿™ä¸ªå€¼é€šå¸¸æ˜¯0æˆ–è€…1ï¼ˆå¦‚æžœæ˜¯é‡å…¥é”çš„è¯stateå€¼å°±æ˜¯é‡å…¥çš„æ¬¡æ•°ï¼‰ï¼Œåœ¨å…±äº«é”ä¸­stateå°±æ˜¯æŒæœ‰é”çš„æ•°é‡ã€‚ä½†æ˜¯åœ¨ReentrantReadWriteLockä¸­æœ‰è¯»ã€å†™ä¸¤æŠŠé”ï¼Œæ‰€ä»¥éœ€è¦åœ¨ä¸€ä¸ªæ•´åž‹å˜é‡stateä¸Šåˆ†åˆ«æè¿°è¯»é”å’Œå†™é”çš„æ•°é‡ï¼ˆæˆ–è€…ä¹Ÿå¯ä»¥å«çŠ¶æ€ï¼‰ã€‚äºŽæ˜¯å°†stateå˜é‡â€œæŒ‰ä½åˆ‡å‰²â€åˆ‡åˆ†æˆäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼Œé«˜16ä½è¡¨ç¤ºè¯»é”çŠ¶æ€ï¼ˆè¯»é”ä¸ªæ•°ï¼‰ï¼Œä½Ž16ä½è¡¨ç¤ºå†™é”çŠ¶æ€ï¼ˆå†™é”ä¸ªæ•°ï¼‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š äº†è§£äº†æ¦‚å¿µä¹‹åŽæˆ‘ä»¬å†æ¥çœ‹ä»£ç ï¼Œå…ˆçœ‹å†™é”çš„åŠ é”æºç ï¼š 12345678910111213141516171819protected final boolean tryAcquire(int acquires) &#123; Thread current = Thread.currentThread(); int c = getState(); // å–åˆ°å½“å‰é”çš„ä¸ªæ•° int w = exclusiveCount(c); // å–å†™é”çš„ä¸ªæ•°w if (c != 0) &#123; // å¦‚æžœå·²ç»æœ‰çº¿ç¨‹æŒæœ‰äº†é”(c!=0) // (Note: if c != 0 and w == 0 then shared count != 0) if (w == 0 || current != getExclusiveOwnerThread()) // å¦‚æžœå†™çº¿ç¨‹æ•°ï¼ˆwï¼‰ä¸º0ï¼ˆæ¢è¨€ä¹‹å­˜åœ¨è¯»é”ï¼‰ æˆ–è€…æŒæœ‰é”çš„çº¿ç¨‹ä¸æ˜¯å½“å‰çº¿ç¨‹å°±è¿”å›žå¤±è´¥ return false; if (w + exclusiveCount(acquires) &gt; MAX_COUNT) // å¦‚æžœå†™å…¥é”çš„æ•°é‡å¤§äºŽæœ€å¤§æ•°ï¼ˆ65535ï¼Œ2çš„16æ¬¡æ–¹-1ï¼‰å°±æŠ›å‡ºä¸€ä¸ªErrorã€‚ throw new Error(\"Maximum lock count exceeded\"); // Reentrant acquire setState(c + acquires); return true; &#125; if (writerShouldBlock() || !compareAndSetState(c, c + acquires)) // å¦‚æžœå½“ä¸”å†™çº¿ç¨‹æ•°ä¸º0ï¼Œå¹¶ä¸”å½“å‰çº¿ç¨‹éœ€è¦é˜»å¡žé‚£ä¹ˆå°±è¿”å›žå¤±è´¥ï¼›æˆ–è€…å¦‚æžœé€šè¿‡CASå¢žåŠ å†™çº¿ç¨‹æ•°å¤±è´¥ä¹Ÿè¿”å›žå¤±è´¥ã€‚ return false; setExclusiveOwnerThread(current); // å¦‚æžœc=0ï¼Œw=0æˆ–è€…c&gt;0ï¼Œw&gt;0ï¼ˆé‡å…¥ï¼‰ï¼Œåˆ™è®¾ç½®å½“å‰çº¿ç¨‹æˆ–é”çš„æ‹¥æœ‰è€… return true;&#125; è¿™æ®µä»£ç é¦–å…ˆå–åˆ°å½“å‰é”çš„ä¸ªæ•°cï¼Œç„¶åŽå†é€šè¿‡cæ¥èŽ·å–å†™é”çš„ä¸ªæ•°wã€‚å› ä¸ºå†™é”æ˜¯ä½Ž16ä½ï¼Œæ‰€ä»¥å–ä½Ž16ä½çš„æœ€å¤§å€¼ä¸Žå½“å‰çš„cåšä¸Žè¿ç®—ï¼ˆ int w = exclusiveCountÂ©; ï¼‰ï¼Œé«˜16ä½å’Œ0ä¸Žè¿ç®—åŽæ˜¯0ï¼Œå‰©ä¸‹çš„å°±æ˜¯ä½Žä½è¿ç®—çš„å€¼ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æŒæœ‰å†™é”çš„çº¿ç¨‹æ•°ç›®ã€‚ åœ¨å–åˆ°å†™é”çº¿ç¨‹çš„æ•°ç›®åŽï¼Œé¦–å…ˆåˆ¤æ–­æ˜¯å¦å·²ç»æœ‰çº¿ç¨‹æŒæœ‰äº†é”ã€‚å¦‚æžœå·²ç»æœ‰çº¿ç¨‹æŒæœ‰äº†é”(c!=0)ï¼Œåˆ™æŸ¥çœ‹å½“å‰å†™é”çº¿ç¨‹çš„æ•°ç›®ï¼Œå¦‚æžœå†™çº¿ç¨‹æ•°ä¸º0ï¼ˆå³æ­¤æ—¶å­˜åœ¨è¯»é”ï¼‰æˆ–è€…æŒæœ‰é”çš„çº¿ç¨‹ä¸æ˜¯å½“å‰çº¿ç¨‹å°±è¿”å›žå¤±è´¥ï¼ˆæ¶‰åŠåˆ°å…¬å¹³é”å’Œéžå…¬å¹³é”çš„å®žçŽ°ï¼‰ã€‚ å¦‚æžœå†™å…¥é”çš„æ•°é‡å¤§äºŽæœ€å¤§æ•°ï¼ˆ65535ï¼Œ2çš„16æ¬¡æ–¹-1ï¼‰å°±æŠ›å‡ºä¸€ä¸ªErrorã€‚ å¦‚æžœå½“ä¸”å†™çº¿ç¨‹æ•°ä¸º0ï¼ˆé‚£ä¹ˆè¯»çº¿ç¨‹ä¹Ÿåº”è¯¥ä¸º0ï¼Œå› ä¸ºä¸Šé¢å·²ç»å¤„ç†c!=0çš„æƒ…å†µï¼‰ï¼Œå¹¶ä¸”å½“å‰çº¿ç¨‹éœ€è¦é˜»å¡žé‚£ä¹ˆå°±è¿”å›žå¤±è´¥ï¼›å¦‚æžœé€šè¿‡CASå¢žåŠ å†™çº¿ç¨‹æ•°å¤±è´¥ä¹Ÿè¿”å›žå¤±è´¥ã€‚ å¦‚æžœc=0,w=0æˆ–è€…c&gt;0,w&gt;0ï¼ˆé‡å…¥ï¼‰ï¼Œåˆ™è®¾ç½®å½“å‰çº¿ç¨‹æˆ–é”çš„æ‹¥æœ‰è€…ï¼Œè¿”å›žæˆåŠŸï¼ tryAcquire()é™¤äº†é‡å…¥æ¡ä»¶ï¼ˆå½“å‰çº¿ç¨‹ä¸ºèŽ·å–äº†å†™é”çš„çº¿ç¨‹ï¼‰ä¹‹å¤–ï¼Œå¢žåŠ äº†ä¸€ä¸ªè¯»é”æ˜¯å¦å­˜åœ¨çš„åˆ¤æ–­ã€‚å¦‚æžœå­˜åœ¨è¯»é”ï¼Œåˆ™å†™é”ä¸èƒ½è¢«èŽ·å–ï¼ŒåŽŸå› åœ¨äºŽï¼šå¿…é¡»ç¡®ä¿å†™é”çš„æ“ä½œå¯¹è¯»é”å¯è§ï¼Œå¦‚æžœå…è®¸è¯»é”åœ¨å·²è¢«èŽ·å–çš„æƒ…å†µä¸‹å¯¹å†™é”çš„èŽ·å–ï¼Œé‚£ä¹ˆæ­£åœ¨è¿è¡Œçš„å…¶ä»–è¯»çº¿ç¨‹å°±æ— æ³•æ„ŸçŸ¥åˆ°å½“å‰å†™çº¿ç¨‹çš„æ“ä½œã€‚ å› æ­¤ï¼Œåªæœ‰ç­‰å¾…å…¶ä»–è¯»çº¿ç¨‹éƒ½é‡Šæ”¾äº†è¯»é”ï¼Œå†™é”æ‰èƒ½è¢«å½“å‰çº¿ç¨‹èŽ·å–ï¼Œè€Œå†™é”ä¸€æ—¦è¢«èŽ·å–ï¼Œåˆ™å…¶ä»–è¯»å†™çº¿ç¨‹çš„åŽç»­è®¿é—®å‡è¢«é˜»å¡žã€‚å†™é”çš„é‡Šæ”¾ä¸ŽReentrantLockçš„é‡Šæ”¾è¿‡ç¨‹åŸºæœ¬ç±»ä¼¼ï¼Œæ¯æ¬¡é‡Šæ”¾å‡å‡å°‘å†™çŠ¶æ€ï¼Œå½“å†™çŠ¶æ€ä¸º0æ—¶è¡¨ç¤ºå†™é”å·²è¢«é‡Šæ”¾ï¼Œç„¶åŽç­‰å¾…çš„è¯»å†™çº¿ç¨‹æ‰èƒ½å¤Ÿç»§ç»­è®¿é—®è¯»å†™é”ï¼ŒåŒæ—¶å‰æ¬¡å†™çº¿ç¨‹çš„ä¿®æ”¹å¯¹åŽç»­çš„è¯»å†™çº¿ç¨‹å¯è§ã€‚ æŽ¥ç€æ˜¯è¯»é”çš„ä»£ç ï¼š 123456789101112131415161718192021222324252627protected final int tryAcquireShared(int unused) &#123; Thread current = Thread.currentThread(); int c = getState(); if (exclusiveCount(c) != 0 &amp;&amp; getExclusiveOwnerThread() != current) return -1; // å¦‚æžœå…¶ä»–çº¿ç¨‹å·²ç»èŽ·å–äº†å†™é”ï¼Œåˆ™å½“å‰çº¿ç¨‹èŽ·å–è¯»é”å¤±è´¥ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ int r = sharedCount(c); if (!readerShouldBlock() &amp;&amp; r &lt; MAX_COUNT &amp;&amp; compareAndSetState(c, c + SHARED_UNIT)) &#123; if (r == 0) &#123; firstReader = current; firstReaderHoldCount = 1; &#125; else if (firstReader == current) &#123; firstReaderHoldCount++; &#125; else &#123; HoldCounter rh = cachedHoldCounter; if (rh == null || rh.tid != getThreadId(current)) cachedHoldCounter = rh = readHolds.get(); else if (rh.count == 0) readHolds.set(rh); rh.count++; &#125; return 1; &#125; return fullTryAcquireShared(current);&#125; å¯ä»¥çœ‹åˆ°åœ¨tryAcquireShared(int unused)æ–¹æ³•ä¸­ï¼Œå¦‚æžœå…¶ä»–çº¿ç¨‹å·²ç»èŽ·å–äº†å†™é”ï¼Œåˆ™å½“å‰çº¿ç¨‹èŽ·å–è¯»é”å¤±è´¥ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚å¦‚æžœå½“å‰çº¿ç¨‹èŽ·å–äº†å†™é”æˆ–è€…å†™é”æœªè¢«èŽ·å–ï¼Œåˆ™å½“å‰çº¿ç¨‹ï¼ˆçº¿ç¨‹å®‰å…¨ï¼Œä¾é CASä¿è¯ï¼‰å¢žåŠ è¯»çŠ¶æ€ï¼ŒæˆåŠŸèŽ·å–è¯»é”ã€‚è¯»é”çš„æ¯æ¬¡é‡Šæ”¾ï¼ˆçº¿ç¨‹å®‰å…¨çš„ï¼Œå¯èƒ½æœ‰å¤šä¸ªè¯»çº¿ç¨‹åŒæ—¶é‡Šæ”¾è¯»é”ï¼‰å‡å‡å°‘è¯»çŠ¶æ€ï¼Œå‡å°‘çš„å€¼æ˜¯â€œ1&lt;&lt;16â€ã€‚æ‰€ä»¥è¯»å†™é”æ‰èƒ½å®žçŽ°è¯»è¯»çš„è¿‡ç¨‹å…±äº«ï¼Œè€Œè¯»å†™ã€å†™è¯»ã€å†™å†™çš„è¿‡ç¨‹äº’æ–¥ã€‚ æ­¤æ—¶ï¼Œæˆ‘ä»¬å†å›žå¤´çœ‹ä¸€ä¸‹äº’æ–¥é”ReentrantLockä¸­å…¬å¹³é”å’Œéžå…¬å¹³é”çš„åŠ é”æºç ï¼š æˆ‘ä»¬å‘çŽ°åœ¨ReentrantLockè™½ç„¶æœ‰å…¬å¹³é”å’Œéžå…¬å¹³é”ä¸¤ç§ï¼Œä½†æ˜¯å®ƒä»¬æ·»åŠ çš„éƒ½æ˜¯ç‹¬äº«é”ã€‚æ ¹æ®æºç æ‰€ç¤ºï¼Œå½“æŸä¸€ä¸ªçº¿ç¨‹è°ƒç”¨lockæ–¹æ³•èŽ·å–é”æ—¶ï¼Œå¦‚æžœåŒæ­¥èµ„æºæ²¡æœ‰è¢«å…¶ä»–çº¿ç¨‹é”ä½ï¼Œé‚£ä¹ˆå½“å‰çº¿ç¨‹åœ¨ä½¿ç”¨CASæ›´æ–°stateæˆåŠŸåŽå°±ä¼šæˆåŠŸæŠ¢å è¯¥èµ„æºã€‚è€Œå¦‚æžœå…¬å…±èµ„æºè¢«å ç”¨ä¸”ä¸æ˜¯è¢«å½“å‰çº¿ç¨‹å ç”¨ï¼Œé‚£ä¹ˆå°±ä¼šåŠ é”å¤±è´¥ã€‚æ‰€ä»¥å¯ä»¥ç¡®å®šReentrantLockæ— è®ºè¯»æ“ä½œè¿˜æ˜¯å†™æ“ä½œï¼Œæ·»åŠ çš„é”éƒ½æ˜¯éƒ½æ˜¯ç‹¬äº«é”ã€‚ é—­é” VS æ­»é” VS æ´»é”é—­é”é—­é”æ˜¯ä¸€ç§åŒæ­¥å·¥å…·ç±»ï¼Œå¯ä»¥å»¶è¿Ÿçº¿ç¨‹çš„è¿›åº¦ç›´åˆ°å…¶åˆ°è¾¾ç»ˆæ­¢çŠ¶æ€ã€‚é—­é”çš„ä½œç”¨ç›¸å½“äºŽä¸€æ‰‡é—¨ï¼šåœ¨é—­é”åˆ°è¾¾ç»“æŸçŠ¶æ€ä¹‹å‰ï¼Œè¿™æ‰‡é—¨ä¸€ç›´æ˜¯å…³é—­çš„ï¼Œå¹¶ä¸”æ²¡æœ‰ä»»ä½•çº¿ç¨‹èƒ½é€šè¿‡ï¼Œå½“åˆ°è¾¾ç»“æŸçŠ¶æ€æ—¶ï¼Œè¿™æ‰‡é—¨ä¼šæ‰“å¼€å…è®¸æ‰€æœ‰çš„çº¿ç¨‹é€šè¿‡ã€‚å½“é—­é”åˆ°è¾¾ç»“æŸçŠ¶æ€åŽï¼Œå°†ä¸ä¼šå†æ”¹å˜çŠ¶æ€ï¼Œå› æ­¤è¿™æ‰‡é—¨å°†æ°¸è¿œä¿æŒæ‰“å¼€çŠ¶æ€ã€‚é—­é”å¯ä»¥ç”¨æ¥ç¡®ä¿æŸäº›æ´»åŠ¨æŒ‡å¯¼å…¶ä»–æ´»åŠ¨éƒ½å®ŒæˆåŽæ‰ç»§ç»­æ‰§è¡Œã€‚CountDownLatchå°±æ˜¯ä¸€ç§çµæ´»çš„é—­é”å®žçŽ°ã€‚ æ­»é”æ­»é”æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå› äº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§äº’ç›¸ç­‰å¾…ï¼ˆé”åµŒå¥—ï¼‰çš„çŽ°è±¡ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œä»–ä»¬éƒ½å°†æ— æ³•æŽ¨è¿›ä¸‹åŽ»ã€‚è¿™æ˜¯ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼Œå› ä¸ºæ­»é”ä¼šè®©ä½ çš„ç¨‹åºæŒ‚èµ·æ— æ³•å®Œæˆä»»åŠ¡ï¼Œæ­»é”çš„å‘ç”Ÿå¿…é¡»æ»¡è¶³ä¸€ä¸‹4ä¸ªæ¡ä»¶ï¼š äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ã€‚ è¯·æ±‚ä¸Žä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡žæ—¶ï¼Œå¯¹å·²èŽ·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚ ä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹å·²èŽ·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤ºã€‚ å¾ªçŽ¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æŽ¥çš„å¾ªçŽ¯ç­‰å¾…èµ„æºå…³ç³»ã€‚ é¿å…æ­»é”æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯é˜»æ­¢å¾ªçŽ¯ç­‰å¾…æ¡ä»¶ï¼Œå°†ç³»ç»Ÿä¸­æ‰€æœ‰çš„èµ„æºè®¾ç½®æ ‡å¿—ä½ã€æŽ’åºï¼Œè§„å®šæ‰€æœ‰çš„è¿›ç¨‹ç”³è¯·èµ„æºå¿…é¡»ä»¥ä¸€å®šçš„é¡ºåºåšæ“ä½œæ¥é¿å…æ­»é”ã€‚ æ´»é”LiveLockæ˜¯ä¸€ç§å½¢å¼æ´»è·ƒæ€§é—®é¢˜ï¼Œè¯¥é—®é¢˜å°½ç®¡ä¸ä¼šé˜»å¡žçº¿ç¨‹ï¼Œä½†ä¹Ÿä¸èƒ½ç»§ç»­æ‰§è¡Œï¼Œå› ä¸ºçº¿ç¨‹å°†ä¸æ–­é‡å¤æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œè€Œä¸”æ€»ä¼šå¤±è´¥ã€‚æ´»é”é€šå¸¸å‘é€åœ¨å¤„ç†äº‹åŠ¡æ¶ˆæ¯çš„åº”ç”¨ç¨‹åºä¸­ï¼šå¦‚æžœä¸èƒ½æˆåŠŸåœ°å¤„ç†æŸä¸ªæ¶ˆæ¯ï¼Œé‚£ä¹ˆæ¶ˆæ¯å¤„ç†æœºåˆ¶å°†å›žæ»šæ•´ä¸ªäº‹åŠ¡ï¼Œå¹¶å°†å®ƒé‡æ–°æ”¾åˆ°é˜Ÿåˆ—çš„å¼€å¤´ï¼šå¦‚æžœä¸èƒ½æˆåŠŸåœ°å¤„ç†æŸä¸ªæ¶ˆæ¯ï¼Œé‚£ä¹ˆæ¶ˆæ¯å¤„ç†æœºåˆ¶å°†å›žæ»šæ•´ä¸ªäº‹åŠ¡ï¼Œå¹¶å°†å®ƒé‡æ–°æ”¾åˆ°é˜Ÿåˆ—çš„å¼€å¤´ã€‚å¦‚æžœæ¶ˆæ¯å¤„ç†å™¨åœ¨å¤„ç†æŸç§ç‰¹å®šç±»åž‹çš„æ¶ˆæ¯æ—¶å­˜åœ¨é”™è¯¯å¹¶å¯¼è‡´å®ƒå¤±è´¥ï¼Œé‚£ä¹ˆæ¯å½“è¿™ä¸ªæ¶ˆæ¯ä»Žé˜Ÿåˆ—ä¸­å–å‡ºå¹¶ä¼ é€’åˆ°å­˜åœ¨é”™è¯¯çš„å¤„ç†å™¨æ—¶ï¼Œéƒ½ä¼šå‘ç”Ÿäº‹åŠ¡å›žæ»šã€‚ç”±äºŽè¿™æ¡æ¶ˆæ¯åˆè¢«æ”¾å›žåˆ°é˜Ÿåˆ—å¼€å¤´ï¼Œå› æ­¤å¤„ç†å™¨å°†è¢«åå¤è°ƒç”¨ï¼Œå¹¶è¿”å›žç›¸åŒçš„ç»“æžœã€‚ æ€»ç»“æœ¬æ–‡Javaä¸­å¸¸ç”¨çš„é”ä»¥åŠå¸¸è§çš„é”çš„æ¦‚å¿µè¿›è¡Œäº†åŸºæœ¬ä»‹ç»ï¼Œå¹¶ä»Žæºç ä»¥åŠå®žé™…åº”ç”¨çš„è§’åº¦è¿›è¡Œäº†å¯¹æ¯”åˆ†æžã€‚é™äºŽç¯‡å¹…ä»¥åŠä¸ªäººæ°´å¹³ï¼Œæ²¡æœ‰åœ¨æœ¬ç¯‡æ–‡ç« ä¸­å¯¹æ‰€æœ‰å†…å®¹è¿›è¡Œæ·±å±‚æ¬¡çš„è®²è§£ã€‚åŽç»­æˆ‘æœ¬äººå°†ä¼šå¯¹Javaçš„é”è¿›è¡Œä¾æ¬¡è®²è§£ã€‚ å…¶å®žJavaæœ¬èº«å·²ç»å¯¹é”æœ¬èº«è¿›è¡Œäº†è‰¯å¥½çš„å°è£…ï¼Œé™ä½Žäº†æˆ‘ä»¬åœ¨å¹³æ—¶å·¥ä½œä¸­çš„ä½¿ç”¨éš¾åº¦ã€‚ä½†æ˜¯æˆ‘ä»¬ä¹Ÿéœ€è¦ç†Ÿæ‚‰é”çš„åº•å±‚åŽŸç†ï¼Œä¸åŒåœºæ™¯ä¸‹é€‰æ‹©æœ€é€‚åˆçš„é”ã€‚è€Œä¸”æºç ä¸­çš„æ€è·¯éƒ½æ˜¯éžå¸¸å¥½çš„æ€è·¯ï¼Œä¹Ÿæ˜¯å€¼å¾—å¤§å®¶åŽ»å­¦ä¹ å’Œå€Ÿé‰´çš„ã€‚ å‚è€ƒæ–‡çŒ® ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆç¬¬2ç‰ˆï¼‰ã€‹å‘¨å¿—æ˜Žè‘— ã€ŠJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹æ–¹è…¾é£žç­‰è‘— Java CAS åŽŸç†å‰–æž Javaä¸­çš„é” Java synchronizedåŽŸç†æ€»ç»“ Javaå¹¶å‘â€”å…³é”®å­—synchronizedè§£æž èŠèŠå¹¶å‘ï¼ˆäºŒï¼‰â€”Java SE1.6ä¸­çš„Synchronized æ·±å…¥ç†è§£è¯»å†™é”â€”ReadWriteLockæºç åˆ†æž ã€JUCã€‘JDK1.8æºç åˆ†æžä¹‹ReentrantReadWriteLock Javaå¤šçº¿ç¨‹ï¼ˆåï¼‰ä¹‹ReentrantReadWriteLockæ·±å…¥åˆ†æž Javaâ€“è¯»å†™é”çš„å®žçŽ°åŽŸç† èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜ ä¸‹ä¸€ç¯‡ æ·±å…¥åˆ†æžHashMapæºç  new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• ä¹è§‚é” VS æ‚²è§‚é”è‡ªæ—‹é” VS é€‚åº”æ€§è‡ªæ—‹é”æ— é” VS åå‘é” VS è½»é‡çº§é” VS é‡é‡çº§é”Javaå¯¹è±¡å¤´Monitoræ— é”åå‘é”è½»é‡çº§é”é‡é‡çº§é”å…¬å¹³é” VS éžå…¬å¹³é”å¯é‡å…¥é” VS éžå¯é‡å…¥é”ç‹¬äº«é” VS å…±äº«é”é—­é” VS æ­»é” VS æ´»é”é—­é”æ­»é”æ´»é”æ€»ç»“å‚è€ƒæ–‡çŒ® è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:34.121Z","updated":"2020-01-08T13:06:33.979Z","comments":true,"path":"public/2018/06/08/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€/index.html","permalink":"http://ltyeamin.github.io/public/2018/06/08/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€/index.html","excerpt":"","text":"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€ backend JVMåŠå¹¶å‘ç¼–ç¨‹ 2018/06/08 æœ¬æ–‡äºŽ537å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ çº¿ç¨‹æ± æ˜¯é™åˆ¶ç³»ç»Ÿä¸­æ‰§è¡Œçº¿ç¨‹çš„æ•°é‡ï¼Œå¹¶èƒ½å¤Ÿæ ¹æ®ä¸€å®šçš„ç­–ç•¥å›žæ”¶çº¿ç¨‹å¹¶é‡å¤ä½¿ç”¨ã€‚JDK1.5ä¹‹åŽåŠ å…¥äº†java.util.concurrentåŒ…ï¼Œæˆ‘ä»¬æ—¥å¸¸ç§°ä¹‹ä¸ºJ.U.Cå¹¶å‘åŒ…ï¼Œè¿™ä¸ªåŒ…å¯¹æˆ‘ä»¬æ—¥å¸¸è§£å†³å¹¶å‘æä¾›äº†éžå¸¸å¤§çš„å¸®åŠ©ã€‚ æ ¹æ®ç³»ç»Ÿçš„çŽ¯å¢ƒæƒ…å†µï¼Œå¯ä»¥è‡ªåŠ¨æˆ–æ‰‹åŠ¨è®¾ç½®çº¿ç¨‹æ•°é‡ï¼Œè¾¾åˆ°è¿è¡Œçš„æœ€ä½³æ•ˆæžœï¼›å°‘äº†æµªè´¹äº†ç³»ç»Ÿèµ„æºï¼Œå¤šäº†é€ æˆç³»ç»Ÿæ‹¥æŒ¤æ•ˆçŽ‡ä¸é«˜ã€‚ç”¨çº¿ç¨‹æ± æŽ§åˆ¶çº¿ç¨‹æ•°é‡ï¼Œå…¶ä»–çº¿ç¨‹æŽ’é˜Ÿç­‰å€™ã€‚ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå†ä»Žé˜Ÿåˆ—çš„ä¸­å–æœ€å‰é¢çš„ä»»åŠ¡å¼€å§‹æ‰§è¡Œã€‚è‹¥é˜Ÿåˆ—ä¸­æ²¡æœ‰ç­‰å¾…è¿›ç¨‹ï¼Œçº¿ç¨‹æ± çš„è¿™ä¸€èµ„æºå¤„äºŽç­‰å¾…ã€‚å½“ä¸€ä¸ªæ–°ä»»åŠ¡éœ€è¦è¿è¡Œæ—¶ï¼Œå¦‚æžœçº¿ç¨‹æ± ä¸­æœ‰ç­‰å¾…çš„å·¥ä½œçº¿ç¨‹ï¼Œå°±å¯ä»¥å¼€å§‹è¿è¡Œäº†ï¼›å¦åˆ™è¿›å…¥ç­‰å¾…é˜Ÿåˆ—ã€‚ ä¸“ä¸šè§£é‡Š:çº¿ç¨‹æ± ç®¡ç†ä¸€ä¸ªå·¥ä½œè€…çº¿ç¨‹çš„åŒæž„æ± ï¼Œçº¿ç¨‹æ± æ˜¯ä¸Žå·¥ä½œé˜Ÿåˆ—ç´§å¯†ç»‘å®šã€‚æ‰€è°“å·¥ä½œé˜Ÿåˆ—ï¼Œå…¶ä½œç”¨æ˜¯æŒæœ‰æ‰€æœ‰ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡ã€‚å·¥ä½œè€…çº¿ç¨‹çš„ç”Ÿæ´»ä»Žæ­¤è½»æ¾èµ·æ¥:å®ƒä»Žå·¥ä½œé˜Ÿåˆ—ä¸­èŽ·å–ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œæ‰§è¡Œå®ƒï¼Œç„¶åŽå›žæ¥ç»§ç»­ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹ã€‚ æ˜¾ç¤ºåˆ›å»ºçº¿ç¨‹å¼Šç«¯åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¦‚æžœæ¯æ¬¡æ˜¾ç¤ºçš„new Thread().start()ï¼Œä¼šå­˜åœ¨å¾ˆå¤§çš„æ€§èƒ½ç¼ºé™·: çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸçš„å¼€é”€æ¯”è¾ƒå¤§ã€‚çº¿ç¨‹çš„åˆ›å»ºä¸Žå…³é—­éƒ½å¾ˆè€—æ—¶ï¼Œå¯¹äºŽè®¡ç®—æœºæ¥è®²ï¼Œæ˜¯ä¸ªä¸å®¹æ˜“çš„äº‹æƒ…ã€‚ æ´»åŠ¨çº¿ç¨‹ä¼šå¾ˆæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œå°¤å…¶æ˜¯å†…å­˜ã€‚å¦‚æžœå¯è¿è¡Œçš„çº¿ç¨‹æ•°å¤šäºŽå¯ç”¨çš„å¤„ç†å™¨å†…æ ¸æ•°é‡ã€‚å¦‚æžœå¤§é‡çº¿ç¨‹ç©ºé—²ï¼Œä¼šå ç”¨æ›´å¤šçš„å†…å­˜ï¼Œç»™åžƒåœ¾å›žæ”¶å¸¦æ¥åŽ‹åŠ›ã€‚å¦‚æžœå¤§é‡çº¿ç¨‹ç¹å¿™ï¼Œå¯¼è‡´å¤§é‡çº¿ç¨‹åŒæ—¶ç«žäº‰CPUèµ„æºï¼Œæ€§èƒ½å¼€é”€å¤šï¼Œé€ æˆç¨‹åºå‡æ­»ï¼Œè®¡ç®—æœºæ­»æœºç­‰å±å®³ã€‚ ç¨³å®šæ€§å’Œå¯ç»´æŠ¤æ€§å·®ã€‚åˆ†æ•£çš„çº¿ç¨‹å¤šäº†æ— æ³•é›†ä¸­å¼ç®¡ç†ï¼Œä»Žè€Œå¯¼è‡´æ„æƒ³ä¸åˆ°çš„BUGï¼Œæ¯”å¦‚ä¸€ç›´åˆ›å»ºçº¿ç¨‹é€ æˆçš„OOMé—®é¢˜ã€‚ Executoræ¡†æž¶ä½œä¸ºçº¿ç¨‹æ± çš„ä¸€éƒ¨åˆ†ï¼ŒJDK1.5ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªä½¿ç”¨æœ‰ç•Œé˜Ÿåˆ—é˜²æ­¢åº”ç”¨ç¨‹åºè¿‡è½½è€Œè€—å°½å†…å­˜çš„Executoræ¡†æž¶ï¼Œè¯¥çº¿ç¨‹æ± å®žçŽ°ç»†èŠ‚åœ¨java.util.comcurrentåŒ…ä¸‹ï¼ˆç®€ç§°å¹¶å‘åŒ…/J.U.CåŒ…ï¼‰ã€‚åœ¨Javaç±»åº“ä¸­ï¼Œä»»åŠ¡æ‰§è¡Œçš„é¦–è¦æŠ½è±¡ä¸æ˜¯Threadï¼Œè€Œæ˜¯Executorï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ˜¯ç®€å•Executoræ¡†æž¶æŠ½è±¡ä¾èµ–: Executoråªæ˜¯ç®€å•çš„æŽ¥å£ï¼Œè¿™ä¸ªæ¡†æž¶å¯ä»¥ç”¨äºŽå¼‚æ­¥ä»»åŠ¡æ‰§è¡Œï¼Œè€Œä¸”æ”¯æŒå¤šç§ç±»åž‹çš„ä»»åŠ¡æ‰§è¡Œç­–ç•¥ã€‚å®ƒä¸ºä»»åŠ¡æäº¤å’Œä»»åŠ¡æ‰§è¡Œä¹‹é—´çš„è§£è€¦æä¾›äº†æ ‡å‡†çš„æ–¹æ³•ï¼Œä¸ºä½¿ç”¨Runnableæè¿°ä»»åŠ¡æä¾›äº†é€šç”¨æ–¹å¼ã€‚Executorçš„å®žçŽ°è¿˜æä¾›äº†å¯¹ç”Ÿå‘½å‘¨æœŸçš„æ”¯æŒä»¥åŠé’©å­å‡½æ•°ï¼Œå¯ä»¥æ·»åŠ è¯¸å¦‚ç»Ÿè®¡æ”¶é›†ã€åº”ç”¨ç¨‹åºç®¡ç†æœºåˆ¶å’Œç›‘è§†å™¨ç­‰æ‰©å±•ã€‚ ExecutoråŸºäºŽç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ã€‚æäº¤ä»»åŠ¡çš„æ‰§è¡Œè€…æ˜¯ç”Ÿäº§è€…(äº§ç”Ÿå¾…å®Œæˆçš„å·¥ä½œå•å…ƒ)ï¼Œæ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹æ˜¯æ¶ˆè´¹è€…(æ¶ˆè€—æŽ‰è¿™äº›å·¥ä½œå•å…ƒ)ã€‚Executorï¼Œä»»åŠ¡çš„æ‰§è¡Œè€…ï¼Œçº¿ç¨‹æ± æ¡†æž¶ä¸­å‡ ä¹Žæ‰€æœ‰ç±»éƒ½ç›´æŽ¥æˆ–è€…é—´æŽ¥å®žçŽ°ExecutoræŽ¥å£ï¼Œå®ƒæ˜¯çº¿ç¨‹æ± æ¡†æž¶çš„åŸºç¡€ã€‚Executoræä¾›äº†ä¸€ç§å°†â€œä»»åŠ¡æäº¤â€ä¸Žâ€œä»»åŠ¡æ‰§è¡Œâ€åˆ†ç¦»å¼€æ¥çš„æœºåˆ¶ï¼Œå®ƒä»…æä¾›äº†ä¸€ä¸ªExecute()æ–¹æ³•ç”¨æ¥æ‰§è¡Œå·²ç»æäº¤çš„Runnableä»»åŠ¡ã€‚ ExecutoræŽ¥å£æ¦‚è¿°12345678package java.util.concurrent;public interface Executor &#123; /** * æ–¹æ³•æè¿°ï¼šæŠ½è±¡å‡ºæ¥çš„ä»»åŠ¡æ‰§è¡Œæ–¹æ³•ï¼Œæ–¹ä¾¿åŽç»­ä¸åŒç±»åž‹çš„çº¿ç¨‹æ± çš„æ‰§è¡Œ * å‚æ•°æè¿°ï¼šRunnableçº¿ç¨‹ä»»åŠ¡å¯¹è±¡ */ void execute(Runnable command);&#125; ExcutorServiceæŽ¥å£æ¦‚è¿°ç»§æ‰¿Executorï¼Œå®ƒæ˜¯â€œæ‰§è¡Œè€…æœåŠ¡â€æŽ¥å£ï¼Œå®ƒæ˜¯ä¸ºâ€æ‰§è¡Œè€…æŽ¥å£Executorâ€æœåŠ¡è€Œå­˜åœ¨çš„ã€‚å‡†ç¡®çš„åœ°è¯´ï¼ŒExecutorServiceæä¾›äº†â€å°†ä»»åŠ¡æäº¤ç»™æ‰§è¡Œè€…çš„æŽ¥å£(submitæ–¹æ³•)â€ï¼Œâ€è®©æ‰§è¡Œè€…æ‰§è¡Œä»»åŠ¡(invokeAll, invokeAnyæ–¹æ³•)â€çš„æŽ¥å£ç­‰ç­‰ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778package java.util.concurrent;import java.util.List;import java.util.Collection;public interface ExecutorService extends Executor &#123; /** * å¯åŠ¨ä¸€æ¬¡é¡ºåºå…³é—­ï¼Œæ‰§è¡Œä»¥å‰æäº¤çš„ä»»åŠ¡ï¼Œä½†ä¸æŽ¥å—æ–°ä»»åŠ¡ */ void shutdown(); /** * è¯•å›¾åœæ­¢æ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„æ´»åŠ¨ä»»åŠ¡ï¼Œæš‚åœå¤„ç†æ­£åœ¨ç­‰å¾…çš„ä»»åŠ¡ï¼Œå¹¶è¿”å›žç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ */ List&lt;Runnable&gt; shutdownNow(); /** * å¦‚æžœæ­¤æ‰§è¡Œç¨‹åºå·²å…³é—­ï¼Œåˆ™è¿”å›ž trueã€‚ */ boolean isShutdown(); /** * å¦‚æžœå…³é—­åŽæ‰€æœ‰ä»»åŠ¡éƒ½å·²å®Œæˆï¼Œåˆ™è¿”å›ž true */ boolean isTerminated(); /** * è¯·æ±‚å…³é—­ã€å‘ç”Ÿè¶…æ—¶æˆ–è€…å½“å‰çº¿ç¨‹ä¸­æ–­ï¼Œæ— è®ºå“ªä¸€ä¸ªé¦–å…ˆå‘ç”Ÿä¹‹åŽï¼Œéƒ½å°†å¯¼è‡´é˜»å¡žï¼Œç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆæ‰§è¡Œ */ boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException; /** * æäº¤ä¸€ä¸ªè¿”å›žå€¼çš„ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œè¿”å›žä¸€ä¸ªè¡¨ç¤ºä»»åŠ¡çš„æœªå†³ç»“æžœçš„ Future */ &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task); /** * æäº¤ä¸€ä¸ª Runnable ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œå¹¶è¿”å›žä¸€ä¸ªè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ Future */ &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result); /** * æäº¤å¯è¿è¡Œçš„ä»»åŠ¡ä»¥ä¾›æ‰§è¡Œï¼Œå¹¶è¿”å›žæœªæ¥çš„ç»“æžœï¼Œå¹¶è¿”å›žç»™ç»™å®šç»“æžœ */ &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result); /** * æäº¤ä¸€ä¸ª Runnable ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œå¹¶è¿”å›žä¸€ä¸ªè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ Future */ Future&lt;?&gt; submit(Runnable task); /** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå½“æ‰€æœ‰ä»»åŠ¡å®Œæˆæ—¶ï¼Œè¿”å›žä¿æŒä»»åŠ¡çŠ¶æ€å’Œç»“æžœçš„ Future åˆ—è¡¨ */ &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException; /** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå½“æ‰€æœ‰ä»»åŠ¡å®Œæˆæˆ–è¶…æ—¶æœŸæ»¡æ—¶ï¼ˆæ— è®ºå“ªä¸ªé¦–å…ˆå‘ç”Ÿï¼‰ï¼Œè¿”å›žä¿æŒä»»åŠ¡çŠ¶æ€å’Œç»“æžœçš„ Future åˆ—è¡¨ */ &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException; /** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå¦‚æžœæŸä¸ªä»»åŠ¡å·²æˆåŠŸå®Œæˆï¼ˆä¹Ÿå°±æ˜¯æœªæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™è¿”å›žå…¶ç»“æžœ */ &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException, ExecutionException; /** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå¦‚æžœåœ¨ç»™å®šçš„è¶…æ—¶æœŸæ»¡å‰æŸä¸ªä»»åŠ¡å·²æˆåŠŸå®Œæˆï¼ˆä¹Ÿå°±æ˜¯æœªæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™è¿”å›žå…¶ç»“æžœ */ &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException;&#125; ExecutorServiceæŽ¥å£æ¦‚è¿°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172package java.util.concurrent;import java.util.List;import java.util.Collection;public interface ExecutorService extends Executor &#123;/** * å¯åŠ¨ä¸€æ¬¡é¡ºåºå…³é—­ï¼Œæ‰§è¡Œä»¥å‰æäº¤çš„ä»»åŠ¡ï¼Œä½†ä¸æŽ¥å—æ–°ä»»åŠ¡ */void shutdown();/** * è¯•å›¾åœæ­¢æ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„æ´»åŠ¨ä»»åŠ¡ï¼Œæš‚åœå¤„ç†æ­£åœ¨ç­‰å¾…çš„ä»»åŠ¡ï¼Œå¹¶è¿”å›žç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ */List&lt;Runnable&gt; shutdownNow();/** * å¦‚æžœæ­¤æ‰§è¡Œç¨‹åºå·²å…³é—­ï¼Œåˆ™è¿”å›ž trueã€‚ */boolean isShutdown();/** * å¦‚æžœå…³é—­åŽæ‰€æœ‰ä»»åŠ¡éƒ½å·²å®Œæˆï¼Œåˆ™è¿”å›ž true. */boolean isTerminated();/** * è¯·æ±‚å…³é—­ã€å‘ç”Ÿè¶…æ—¶æˆ–è€…å½“å‰çº¿ç¨‹ä¸­æ–­ï¼Œæ— è®ºå“ªä¸€ä¸ªé¦–å…ˆå‘ç”Ÿä¹‹åŽï¼Œéƒ½å°†å¯¼è‡´é˜»å¡žï¼Œç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆæ‰§è¡Œ */boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException;/** * æäº¤ä¸€ä¸ªè¿”å›žå€¼çš„ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œè¿”å›žä¸€ä¸ªè¡¨ç¤ºä»»åŠ¡çš„æœªå†³ç»“æžœçš„ Future */&lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task);/** * æäº¤ä¸€ä¸ª Runnable ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œå¹¶è¿”å›žä¸€ä¸ªè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ Future */&lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result);/** * æäº¤ä¸€ä¸ª Runnable ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œå¹¶è¿”å›žä¸€ä¸ªè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ Future */Future&lt;?&gt; submit(Runnable task);/** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå½“æ‰€æœ‰ä»»åŠ¡å®Œæˆæ—¶ï¼Œè¿”å›žä¿æŒä»»åŠ¡çŠ¶æ€å’Œç»“æžœçš„ Future åˆ—è¡¨ */&lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException;/** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå½“æ‰€æœ‰ä»»åŠ¡å®Œæˆæˆ–è¶…æ—¶æœŸæ»¡æ—¶ï¼ˆæ— è®ºå“ªä¸ªé¦–å…ˆå‘ç”Ÿï¼‰ï¼Œè¿”å›žä¿æŒä»»åŠ¡çŠ¶æ€å’Œç»“æžœçš„ Future åˆ—è¡¨ */&lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException;/** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå¦‚æžœæŸä¸ªä»»åŠ¡å·²æˆåŠŸå®Œæˆï¼ˆä¹Ÿå°±æ˜¯æœªæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™è¿”å›žå…¶ç»“æžœ */&lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException, ExecutionException;/** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå¦‚æžœåœ¨ç»™å®šçš„è¶…æ—¶æœŸæ»¡å‰æŸä¸ªä»»åŠ¡å·²æˆåŠŸå®Œæˆï¼ˆä¹Ÿå°±æ˜¯æœªæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™è¿”å›žå…¶ç»“æžœ */&lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException;&#125; AbstractExecutorServiceç±»æ¦‚è¿°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196package java.util.concurrent;import java.util.*;public abstract class AbstractExecutorService implements ExecutorService &#123; protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Runnable runnable, T value) &#123; return new FutureTask&lt;T&gt;(runnable, value); &#125; protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Callable&lt;T&gt; callable) &#123; return new FutureTask&lt;T&gt;(callable); &#125; public Future&lt;?&gt; submit(Runnable task) &#123; if (task == null) throw new NullPointerException(); RunnableFuture&lt;Void&gt; ftask = newTaskFor(task, null); execute(ftask); return ftask; &#125; public &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result) &#123; if (task == null) throw new NullPointerException(); RunnableFuture&lt;T&gt; ftask = newTaskFor(task, result); execute(ftask); return ftask; &#125; public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) &#123; if (task == null) throw new NullPointerException(); RunnableFuture&lt;T&gt; ftask = newTaskFor(task); execute(ftask); return ftask; &#125; private &lt;T&gt; T doInvokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, boolean timed, long nanos) throws InterruptedException, ExecutionException, TimeoutException &#123; if (tasks == null) throw new NullPointerException(); int ntasks = tasks.size(); if (ntasks == 0) throw new IllegalArgumentException(); ArrayList&lt;Future&lt;T&gt;&gt; futures = new ArrayList&lt;Future&lt;T&gt;&gt;(ntasks); ExecutorCompletionService&lt;T&gt; ecs = new ExecutorCompletionService&lt;T&gt;(this); try &#123; // Record exceptions so that if we fail to obtain any // result, we can throw the last exception we got. ExecutionException ee = null; final long deadline = timed ? System.nanoTime() + nanos : 0L; Iterator&lt;? extends Callable&lt;T&gt;&gt; it = tasks.iterator(); // Start one task for sure; the rest incrementally futures.add(ecs.submit(it.next())); --ntasks; int active = 1; for (;;) &#123; Future&lt;T&gt; f = ecs.poll(); if (f == null) &#123; if (ntasks &gt; 0) &#123; --ntasks; futures.add(ecs.submit(it.next())); ++active; &#125; else if (active == 0) break; else if (timed) &#123; f = ecs.poll(nanos, TimeUnit.NANOSECONDS); if (f == null) throw new TimeoutException(); nanos = deadline - System.nanoTime(); &#125; else f = ecs.take(); &#125; if (f != null) &#123; --active; try &#123; return f.get(); &#125; catch (ExecutionException eex) &#123; ee = eex; &#125; catch (RuntimeException rex) &#123; ee = new ExecutionException(rex); &#125; &#125; &#125; if (ee == null) ee = new ExecutionException(); throw ee; &#125; finally &#123; for (int i = 0, size = futures.size(); i &lt; size; i++) futures.get(i).cancel(true); &#125; &#125; public &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException, ExecutionException &#123; try &#123; return doInvokeAny(tasks, false, 0); &#125; catch (TimeoutException cannotHappen) &#123; assert false; return null; &#125; &#125; public &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException &#123; return doInvokeAny(tasks, true, unit.toNanos(timeout)); &#125; public &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException &#123; if (tasks == null) throw new NullPointerException(); ArrayList&lt;Future&lt;T&gt;&gt; futures = new ArrayList&lt;Future&lt;T&gt;&gt;(tasks.size()); boolean done = false; try &#123; for (Callable&lt;T&gt; t : tasks) &#123; RunnableFuture&lt;T&gt; f = newTaskFor(t); futures.add(f); execute(f); &#125; for (int i = 0, size = futures.size(); i &lt; size; i++) &#123; Future&lt;T&gt; f = futures.get(i); if (!f.isDone()) &#123; try &#123; f.get(); &#125; catch (CancellationException ignore) &#123; &#125; catch (ExecutionException ignore) &#123; &#125; &#125; &#125; done = true; return futures; &#125; finally &#123; if (!done) for (int i = 0, size = futures.size(); i &lt; size; i++) futures.get(i).cancel(true); &#125; &#125; public &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException &#123; if (tasks == null) throw new NullPointerException(); long nanos = unit.toNanos(timeout); ArrayList&lt;Future&lt;T&gt;&gt; futures = new ArrayList&lt;Future&lt;T&gt;&gt;(tasks.size()); boolean done = false; try &#123; for (Callable&lt;T&gt; t : tasks) futures.add(newTaskFor(t)); final long deadline = System.nanoTime() + nanos; final int size = futures.size(); // Interleave time checks and calls to execute in case // executor doesn't have any/much parallelism. for (int i = 0; i &lt; size; i++) &#123; execute((Runnable)futures.get(i)); nanos = deadline - System.nanoTime(); if (nanos &lt;= 0L) return futures; &#125; for (int i = 0; i &lt; size; i++) &#123; Future&lt;T&gt; f = futures.get(i); if (!f.isDone()) &#123; if (nanos &lt;= 0L) return futures; try &#123; f.get(nanos, TimeUnit.NANOSECONDS); &#125; catch (CancellationException ignore) &#123; &#125; catch (ExecutionException ignore) &#123; &#125; catch (TimeoutException toe) &#123; return futures; &#125; nanos = deadline - System.nanoTime(); &#125; &#125; done = true; return futures; &#125; finally &#123; if (!done) for (int i = 0, size = futures.size(); i &lt; size; i++) futures.get(i).cancel(true); &#125; &#125;&#125; æŠ½è±¡ç±»ï¼Œå®žçŽ°ExecutorServiceæŽ¥å£ï¼Œä¸ºå…¶æä¾›é»˜è®¤å®žçŽ°ã€‚AbstractExecutorServiceé™¤äº†å®žçŽ°ExecutorServiceæŽ¥å£å¤–ï¼Œè¿˜æä¾›äº†ä¸¤ä¸ªnewTaskFor()é‡è½½æ–¹æ³•ï¼Œä¸€ä¸ªæ”¯æŒRunnableä»»åŠ¡ï¼Œä¸€ä¸ªæ”¯æŒå¸¦æœ‰æ‰§è¡Œç»“æžœçš„Callableä»»åŠ¡ï¼Œæ‰§è¡ŒåŽè¿”å›žä¸€ä¸ªRunnableFutureï¼Œåœ¨è¿è¡Œçš„æ—¶å€™ï¼Œå®ƒå°†è°ƒç”¨åº•å±‚å¯è°ƒç”¨ä»»åŠ¡ï¼Œä½œä¸º Future ä»»åŠ¡ï¼Œå®ƒå°†ç”Ÿæˆå¯è°ƒç”¨çš„ç»“æžœä½œä¸ºå…¶ç»“æžœï¼Œå¹¶ä¸ºåº•å±‚ä»»åŠ¡æä¾›å–æ¶ˆæ“ä½œã€‚ åŒæ—¶è¯¥æŠ½è±¡ç±»ä¹Ÿæä¾›äº†ä¸¤ä¸ªsubmit()æ–¹æ³•ï¼Œä¸€ä¸ªåªæäº¤Runnableä»»åŠ¡ï¼Œä¸€ä¸ªæäº¤Runnableçš„ä»»åŠ¡å¹¶å°†è¿”å›žçš„æœªæ¥çš„é»˜è®¤å€¼å°è£…åˆ°ç¬¬äºŒä¸ªè¿”å›žå‚æ•°ä¸­ã€‚ ScheduledExecutorServiceæŽ¥å£æ¦‚è¿°1234567891011121314151617181920212223242526package java.util.concurrent;public interface ScheduledExecutorService extends ExecutorService &#123; /** * åˆ›å»ºå¹¶æ‰§è¡Œåœ¨ç»™å®šå»¶è¿ŸåŽå¯ç”¨çš„ ScheduledFutureã€‚ */ public ScheduledFuture&lt;?&gt; schedule(Runnable command, long delay, TimeUnit unit); /** * åˆ›å»ºå¹¶æ‰§è¡Œåœ¨ç»™å®šå»¶è¿ŸåŽå¯ç”¨çš„ä¸€æ¬¡æ€§æ“ä½œã€‚ */ public &lt;V&gt; ScheduledFuture&lt;V&gt; schedule(Callable&lt;V&gt; callable,long delay, TimeUnit unit); /** * åˆ›å»ºå¹¶æ‰§è¡Œä¸€ä¸ªåœ¨ç»™å®šåˆå§‹å»¶è¿ŸåŽé¦–æ¬¡å¯ç”¨çš„å®šæœŸæ“ä½œï¼ŒåŽç»­æ“ä½œå…·æœ‰ç»™å®šçš„å‘¨æœŸï¼› * ä¹Ÿå°±æ˜¯å°†åœ¨ initialDelay åŽå¼€å§‹æ‰§è¡Œï¼Œç„¶åŽåœ¨ initialDelay+period åŽæ‰§è¡Œï¼ŒæŽ¥ç€åœ¨ initialDelay+2* period åŽæ‰§è¡Œï¼Œä¾æ­¤ç±»æŽ¨ã€‚ */ public ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable command,long initialDelay, long period,TimeUnit unit); /** * åˆ›å»ºå¹¶æ‰§è¡Œä¸€ä¸ªåœ¨ç»™å®šåˆå§‹å»¶è¿ŸåŽé¦–æ¬¡å¯ç”¨çš„å®šæœŸæ“ä½œï¼ŒéšåŽï¼Œåœ¨æ¯ä¸€æ¬¡æ‰§è¡Œç»ˆæ­¢å’Œä¸‹ä¸€æ¬¡æ‰§è¡Œå¼€å§‹ä¹‹é—´éƒ½å­˜åœ¨ç»™å®šçš„å»¶è¿Ÿã€‚ */ public ScheduledFuture&lt;?&gt; scheduleWithFixedDelay(Runnable command,long initialDelay,long delay, TimeUnit unit);&#125; ThreadPoolExecutorç±»æ¦‚è¿°æˆ‘ä»¬Javaçº¿ç¨‹æ± ä¸»è¦æ˜¯å›´ç»•ThreadPoolExecutorç±»å±•å¼€çš„ï¼ŒåŽç»­ä¼šå¯¹ThreadPoolExecutorè¯¦è§£ã€‚ Executorsç±»æ¦‚è¿°å’ŒThreadPoolExecutorä¸€æ ·åŽç»­ä¼šè¯¦è§£ï¼Œè¯¥ç±»æ˜¯çº¿ç¨‹æ± çš„é™æ€å·¥åŽ‚ç±»ï¼Œæä¾›äº†Executorã€ExecutorServiceã€ScheduledExecutorServiceã€ThreadFactory ã€Callable ç­‰ç±»çš„é™æ€å·¥åŽ‚æ–¹æ³•ï¼Œé€šè¿‡è¿™äº›å·¥åŽ‚æ–¹æ³•æˆ‘ä»¬å¯ä»¥å¾—åˆ°ç›¸å¯¹åº”çš„å¯¹è±¡ã€‚ åˆ›å»ºå¹¶è¿”å›žè®¾ç½®æœ‰å¸¸ç”¨é…ç½®å­—ç¬¦ä¸²çš„ ExecutorService çš„æ–¹æ³•ã€‚ åˆ›å»ºå¹¶è¿”å›žè®¾ç½®æœ‰å¸¸ç”¨é…ç½®å­—ç¬¦ä¸²çš„ ScheduledExecutorService çš„æ–¹æ³•ã€‚ åˆ›å»ºå¹¶è¿”å›žâ€œåŒ…è£…çš„â€ExecutorService æ–¹æ³•ï¼Œå®ƒé€šè¿‡ä½¿ç‰¹å®šäºŽå®žçŽ°çš„æ–¹æ³•ä¸å¯è®¿é—®æ¥ç¦ç”¨é‡æ–°é…ç½®ã€‚ åˆ›å»ºå¹¶è¿”å›ž ThreadFactory çš„æ–¹æ³•ï¼Œå®ƒå¯å°†æ–°åˆ›å»ºçš„çº¿ç¨‹è®¾ç½®ä¸ºå·²çŸ¥çš„çŠ¶æ€ã€‚ åˆ›å»ºå¹¶è¿”å›žéžé—­åŒ…å½¢å¼çš„ Callable çš„æ–¹æ³•ï¼Œè¿™æ ·å¯å°†å…¶ç”¨äºŽéœ€è¦ Callable çš„æ‰§è¡Œæ–¹æ³•ä¸­ã€‚ FutureæŽ¥å£FutureæŽ¥å£å’Œå®žçŽ°FutureæŽ¥å£çš„FutureTaskä»£è¡¨äº†çº¿ç¨‹æ± çš„å¼‚æ­¥è®¡ç®—ç»“æžœã€‚ AbstractExecutorServiceæä¾›äº†newTaskFor()æ–¹æ³•è¿”å›žä¸€ä¸ªRunnableFutureï¼Œé™¤æ­¤ä¹‹å¤–å½“æˆ‘ä»¬æŠŠä¸€ä¸ªRunnableæˆ–è€…Callableæäº¤ç»™ï¼ˆsubmit()ï¼‰ThreadPoolExecutoræˆ–è€…ScheduledThreadPoolExecutoræ—¶ï¼Œä»–ä»¬åˆ™ä¼šå‘æˆ‘ä»¬è¿”å›žä¸€ä¸ªFutureTaskå¯¹è±¡ã€‚å¦‚ä¸‹ï¼š 1234567891011protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Runnable runnable, T value) &#123; return new FutureTask&lt;T&gt;(runnable, value);&#125;protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Callable&lt;T&gt; callable) &#123; return new FutureTask&lt;T&gt;(callable);&#125;&lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result) Future&lt;&gt; submit(Runnable task) FutureæŽ¥å£æ¦‚è¿°ä½œä¸ºå¼‚æ­¥è®¡ç®—çš„é¡¶å±‚æŽ¥å£ï¼ŒFutureå¯¹å…·ä½“çš„Runnableæˆ–è€…Callableä»»åŠ¡æä¾›äº†ä¸‰ç§æ“ä½œï¼šæ‰§è¡Œä»»åŠ¡çš„å–æ¶ˆã€æŸ¥è¯¢ä»»åŠ¡æ˜¯å¦å®Œæˆã€èŽ·å–ä»»åŠ¡çš„æ‰§è¡Œç»“æžœã€‚å…¶æŽ¥å£å®šä¹‰å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233package java.util.concurrent;public interface Future&lt;V&gt; &#123; /** * è¯•å›¾å–æ¶ˆå¯¹æ­¤ä»»åŠ¡çš„æ‰§è¡Œ * å¦‚æžœä»»åŠ¡å·²å®Œæˆã€æˆ–å·²å–æ¶ˆï¼Œæˆ–è€…ç”±äºŽæŸäº›å…¶ä»–åŽŸå› è€Œæ— æ³•å–æ¶ˆï¼Œåˆ™æ­¤å°è¯•å°†å¤±è´¥ã€‚ * å½“è°ƒç”¨ cancel æ—¶ï¼Œå¦‚æžœè°ƒç”¨æˆåŠŸï¼Œè€Œæ­¤ä»»åŠ¡å°šæœªå¯åŠ¨ï¼Œåˆ™æ­¤ä»»åŠ¡å°†æ°¸ä¸è¿è¡Œã€‚ * å¦‚æžœä»»åŠ¡å·²ç»å¯åŠ¨ï¼Œåˆ™ mayInterruptIfRunning å‚æ•°ç¡®å®šæ˜¯å¦åº”è¯¥ä»¥è¯•å›¾åœæ­¢ä»»åŠ¡çš„æ–¹å¼æ¥ä¸­æ–­æ‰§è¡Œæ­¤ä»»åŠ¡çš„çº¿ç¨‹ */ boolean cancel(boolean mayInterruptIfRunning); /** * å¦‚æžœåœ¨ä»»åŠ¡æ­£å¸¸å®Œæˆå‰å°†å…¶å–æ¶ˆï¼Œåˆ™è¿”å›ž true */ boolean isCancelled(); /** * å¦‚æžœä»»åŠ¡å·²å®Œæˆï¼Œåˆ™è¿”å›ž true */ boolean isDone(); /** * å¦‚æœ‰å¿…è¦ï¼Œç­‰å¾…è®¡ç®—å®Œæˆï¼Œç„¶åŽèŽ·å–å…¶ç»“æžœ */ V get() throws InterruptedException, ExecutionException; /** * å¦‚æœ‰å¿…è¦ï¼Œæœ€å¤šç­‰å¾…ä¸ºä½¿è®¡ç®—å®Œæˆæ‰€ç»™å®šçš„æ—¶é—´ä¹‹åŽï¼ŒèŽ·å–å…¶ç»“æžœï¼ˆå¦‚æžœç»“æžœå¯ç”¨ï¼‰ */ V get(long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException;&#125; RunnableFutureæŽ¥å£æ¦‚è¿°ç»§æ‰¿Futureã€Runnableä¸¤ä¸ªæŽ¥å£ï¼Œä¸ºä¸¤è€…çš„åˆä½“ï¼Œå³æ‰€è°“çš„Runnableçš„Futureã€‚æä¾›äº†ä¸€ä¸ªrun()æ–¹æ³•å¯ä»¥å®ŒæˆFutureå¹¶å…è®¸è®¿é—®å…¶ç»“æžœï¼Œå…¶æºç å¦‚ä¸‹ï¼š 123456package java.util.concurrent;public interface RunnableFuture&lt;V&gt; extends Runnable, Future&lt;V&gt; &#123; //åœ¨æœªè¢«å–æ¶ˆçš„æƒ…å†µä¸‹ï¼Œå°†æ­¤ Future è®¾ç½®ä¸ºè®¡ç®—çš„ç»“æžœ void run();&#125; FutureTaskæŽ¥å£æ¦‚è¿°å®žçŽ°RunnableFutureæŽ¥å£ï¼Œæ—¢å¯ä»¥ä½œä¸ºRunnableè¢«æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥ä½œä¸ºFutureå¾—åˆ°Callableçš„è¿”å›žå€¼ã€‚ å‚è€ƒèµ„æ–™ ã€ŠJavaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‹ ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾ J.U.Cä¹‹çº¿ç¨‹æ± ï¼šçº¿ç¨‹æ± çš„åŸºç¡€æž¶æž„ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ ä¸‹ä¸€ç¯‡ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• æ˜¾ç¤ºåˆ›å»ºçº¿ç¨‹å¼Šç«¯Executoræ¡†æž¶ExecutoræŽ¥å£æ¦‚è¿°ExcutorServiceæŽ¥å£æ¦‚è¿°ExecutorServiceæŽ¥å£æ¦‚è¿°AbstractExecutorServiceç±»æ¦‚è¿°ScheduledExecutorServiceæŽ¥å£æ¦‚è¿°ThreadPoolExecutorç±»æ¦‚è¿°Executorsç±»æ¦‚è¿°FutureæŽ¥å£FutureæŽ¥å£æ¦‚è¿°RunnableFutureæŽ¥å£æ¦‚è¿°FutureTaskæŽ¥å£æ¦‚è¿°å‚è€ƒèµ„æ–™ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:20.740Z","updated":"2019-11-27T15:22:20.740Z","comments":true,"path":"public/static/api/js/base/tangram.js","permalink":"http://ltyeamin.github.io/public/static/api/js/base/tangram.js","excerpt":"","text":"window._bd_share_main.F.module(\"base/tangram\",function(e,t){var n,r=n=function(){var e,t=e=t||function(e,n){return t.dom?t.dom(e,n):null};t.version=\"2.0.2.5\",t.guid=\"$BAIDU$\",t.key=\"tangram_guid\";var n=window[t.guid]=window[t.guid]||{};return(n.versions||(n.versions=[])).push(t.version),t.check=t.check||function(){},t.lang=t.lang||{},t.forEach=function(e,t,n){var r,i,o;if(\"function\"==typeof t&&e)if(\"number\"==typeof(i=\"number\"==typeof e.length?e.length:e.byteLength)){if(\"[object Function]\"===Object.prototype.toString.call(e))return e;for(r=0;r-1;r--)e.prototype[t[r]]=n(t[r]);return e},t.object=t.object||{},t.object.isPlain=t.isPlainObject,t.createChain(\"string\",function(e){var n=t.type(e),r=new String(~\"string|number\".indexOf(n)?e:n),i=String.prototype;return t.forEach(t.string.$String.prototype,function(e,t){i[t]||(r[t]=e)}),r}),t.string.extend({trim:function(){var e=new RegExp(\"(^[\\\\s\\\\t\\\\xa0\\\\u3000]+)|([\\\\u3000\\\\xa0\\\\s\\\\t]+$)\",\"g\");return function(){return this.replace(e,\"\")}}()}),t.createChain(\"array\",function(e){var n,r=t.array.$Array.prototype;Array.prototype,\"array\"!=t.type(e)&&(e=[]);for(n in r)e[n]=r[n];return e}),t.overwrite(t.array.$Array,\"concat slice\".split(\" \"),function(e){return function(){return t.array(Array.prototype[e].apply(this,arguments))}}),t.array.extend({indexOf:function(e,n){t.check(\".+(,number)?\",\"baidu.array.indexOf\");var r=this.length;for((n|=0)1?arguments:i,n===r?c.notifyWith(t,n):--u||c.resolveWith(t,n)}}var r,i,o,a=arguments,s=arguments.length,u=1!==s||e&&\"function\"===t.type(e.promise)?s:0,c=1===u?e:t.Deferred();if(s>1){r=new Array(s),i=new Array(s),o=new Array(s);for(var l=0;l0;)for(n=i[r],t=r;t--;)if(e(n,i[t])){i.splice(r,1);break}for(r=this.length=i.length,t=0;t1&&C.exec(e))if(2===y.length&&P.relative[y[0]])a=U(y[0]+y[1],t,r,i);else for(a=P.relative[y[0]]?[t]:j(y.shift(),t);y.length;)e=y.shift(),P.relative[e]&&(e+=y.shift()),a=U(e,a,r,i);else if(!r&&y.length>1&&9===t.nodeType&&!i&&T.ID.test(y[0])&&!T.ID.test(y[y.length-1])&&(l=F(y.shift(),t,i),t=l.expr?I(l.expr,l.set)[0]:l.set[0]),t)for(l=r?{expr:y.pop(),set:$(r)}:F(y.pop(),y.length>=1&&(\"~\"===y[0]||\"+\"===y[0])&&t.parentNode||t,i),a=l.expr?I(l.expr,l.set):l.set,y.length>0?s=$(a):g=!1;y.length;)f=y.pop(),d=f,P.relative[f]?d=y.pop():f=\"\",null==d&&(d=t),P.relative[f](s,d,i);else s=y=[];if(s||(s=a),s||R(f||e),\"[object Array]\"===u.call(s))if(g)if(t&&1===t.nodeType)for(h=0;null!=s[h];h++)s[h]&&(!0===s[h]||1===s[h].nodeType&&B(t,s[h]))&&n.push(a[h]);else for(h=0;null!=s[h];h++)s[h]&&1===s[h].nodeType&&n.push(a[h]);else n.push.apply(n,s);else $(s,n);return c&&(D(c,m,n,r,i),H(n)),n},M=t._util_.isXML,$=t.makeArray,H=function(e){if(q&&(l=f,e.sort(q),l))for(var t=1;t"},{"title":"","date":"2019-11-27T15:22:17.400Z","updated":"2019-11-27T15:22:17.400Z","comments":true,"path":"public/2018/06/10/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚/index.html","permalink":"http://ltyeamin.github.io/public/2018/06/10/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚/index.html","excerpt":"","text":"ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ backend JVMåŠå¹¶å‘ç¼–ç¨‹ 2018/06/10 æœ¬æ–‡äºŽ535å¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ ä»Šå¤©æˆ‘ä»¬æ¥è®¤è¯†ä¸€ä¸‹ï¼Œçº¿ç¨‹æ± çš„é™æ€å·¥åŽ‚Executorsç±»ï¼Œå¹³æ—¶å†™æµ‹è¯•ä»£ç çš„æ—¶å€™å¯ç”¨ä¸€ç”¨ï¼Œç”Ÿäº§ä»£ç å°½é‡å°‘ç”¨ã€‚ä¸ºä»€ä¹ˆè¯´ç”Ÿäº§ä¸Šå°½é‡å°‘ç”¨å‘¢ï¼Ÿè¿™æ˜¯æœ‰åŽŸå› çš„ï¼Œè¯·è€å¿ƒå¬å½¤å“¥è®²è§£ã€‚ é˜¿é‡Œçš„ä»£ç è§„çº¦ä¸å»ºè®®ä½¿ç”¨è¿™æ ·çš„å·¥åŽ‚ç±»ï¼Œè€Œå»ºè®®ä½¿ç”¨æ‰‹åŠ¨åˆ›å»ºå¹¶ç®¡ç†ThreadPoolExecutorï¼Œåœ¨é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œä¸­ï¼Œç¼–ç¨‹è§„çº¦ä¸‹çš„å¹¶å‘å¤„ç†è§„çº¦ç¬¬4ç‚¹å¦‚ä¸‹ï¼š ã€å¼ºåˆ¶ã€‘çº¿ç¨‹æ± ä¸å…è®¸ä½¿ç”¨ExecutorsåŽ»åˆ›å»ºï¼Œè€Œæ˜¯é€šè¿‡ThreadPoolExecutorçš„æ–¹å¼ï¼Œè¿™æ ·çš„å¤„ç†æ–¹å¼è®©å†™çš„åŒå­¦æ›´åŠ æ˜Žç¡®çº¿ç¨‹æ± çš„è¿è¡Œè§„åˆ™ï¼Œè§„é¿èµ„æºè€—å°½çš„é£Žé™©ã€‚è¯´æ˜Žï¼šExecutorsè¿”å›žçš„çº¿ç¨‹æ± å¯¹è±¡çš„å¼Šç«¯å¦‚ä¸‹ï¼š 1ï¼‰FixedThreadPoolå’ŒSingleThreadPool: å…è®¸çš„è¯·æ±‚é˜Ÿåˆ—é•¿åº¦ä¸ºInteger.MAX_VALUEï¼Œå¯èƒ½ä¼šå †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»Žè€Œå¯¼è‡´OOMã€‚ 2ï¼‰CachedThreadPoolå’ŒScheduledThreadPool: å…è®¸çš„åˆ›å»ºçº¿ç¨‹æ•°é‡ä¸ºInteger.MAX_VALUEï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤§é‡çš„çº¿ç¨‹ï¼Œä»Žè€Œå¯¼è‡´OOMã€‚ æ­£ä¾‹ 1ï¼š 1234&gt; //org.apache.commons.lang3.concurrent.BasicThreadFactory&gt; ScheduledExecutorService executorService = new ScheduledThreadPoolExecutor(1,&gt; new BasicThreadFactory.Builder().namingPattern(\"example-schedule-pool-%d\").daemon(true).build());&gt; æ­£ä¾‹ 2ï¼š 123456789&gt; ThreadFactory namedThreadFactory = new ThreadFactoryBuilder()&gt; .setNameFormat(\"demo-pool-%d\").build();&gt; //Common Thread Pool&gt; ExecutorService pool = new ThreadPoolExecutor(5, 200,&gt; 0L, TimeUnit.MILLISECONDS,&gt; new LinkedBlockingQueue&lt;Runnable&gt;(1024), namedThreadFactory, new ThreadPoolExecutor.AbortPolicy());&gt; pool.execute(()-&gt; System.out.println(Thread.currentThread().getName()));&gt; pool.shutdown();//gracefully shutdown &gt; 12345678910111213&gt; æ­£ä¾‹ 3ï¼š&gt; &lt;bean id=\"userThreadPool\" class=\"org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor\"&gt;&gt; &lt;property name=\"corePoolSize\" value=\"10\" /&gt;&gt; &lt;property name=\"maxPoolSize\" value=\"100\" /&gt;&gt; &lt;property name=\"queueCapacity\" value=\"2000\" /&gt;&gt; &lt;property name=\"threadFactory\" value= threadFactory /&gt;&gt; &lt;property name=\"rejectedExecutionHandler\"&gt;&gt; &lt;ref local=\"rejectedExecutionHandler\" /&gt;&gt; &lt;/property&gt;&gt; &lt;/bean&gt;&gt; //in code&gt; userThreadPool.execute(thread);&gt; çœ‹åˆ°å¦‚ä¸‹çš„è§„çº¦ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯æ²¡å¿…è¦å¾€ä¸‹å­¦äº†ï¼Ÿç­”æ¡ˆæ˜¯å½“ç„¶ä¸è¡Œçš„ï¼Œæˆ‘ä»¬è™½ç„¶ä¸æ€Žä¹ˆç”¨ï¼Œä½†æ˜¯ç ”ç©¶å…¶æºç ï¼Œå¯ä»¥è®©æˆ‘ä»¬æ›´æ·±å…¥çº¿ç¨‹æ± åŽŸç†ï¼ˆå¢žå¼ºå†…åŠ›ï¼‰ï¼Œä½¿å¾—æˆ‘ä»¬ä»¥åŽæ›´å®¹æ˜“è®¾è®¡çº¿ç¨‹æ± å¹¶èƒ½å¤Ÿé«˜æ•ˆç®¡ç†çº¿ç¨‹ï¼Œä»¥è‡³äºŽä¸åƒä»£ç è§„çº¦æè¿°çš„é‚£æ ·ï¼šç”¨è€Œä¸å½“å¯¼è‡´OOMçš„é—®é¢˜ã€‚ æºç åˆ†æžå¥½äº†ï¼Œè¯ä¸å¤šè¯´ï¼Œç›´æŽ¥ä¸Šèœ(æºç )ï¼Œå¤Ÿæˆ‘ä»¬ä»Šå¤©å–å‡ å£¶äº†ï¼Œå“ˆå“ˆã€‚ã€‚ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573package java.util.concurrent;import java.util.*;import java.util.concurrent.atomic.AtomicInteger;import java.security.AccessControlContext;import java.security.AccessController;import java.security.PrivilegedAction;import java.security.PrivilegedExceptionAction;import java.security.PrivilegedActionException;import java.security.AccessControlException;import sun.security.util.SecurityConstants;/** * Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ç±» */public class Executors &#123; /** * åˆ›å»ºé‡ç”¨å›ºå®šæ•°é‡çº¿ç¨‹çš„çº¿ç¨‹æ± ,ä½¿ç”¨çš„æ˜¯å…±äº«æ— å‚æ— è¾¹ç•Œé˜Ÿåˆ—ã€‚ * åœ¨ä»»ä½•æ—¶å€™ï¼Œæœ€å¤šçº¿ç¨‹å°†æ˜¯æ´»åŠ¨çš„å¤„ç†ä»»åŠ¡ã€‚ * å¦‚æžœåœ¨æ‰€æœ‰çº¿ç¨‹éƒ½å¤„äºŽæ´»åŠ¨çŠ¶æ€æ—¶æäº¤äº†å…¶ä»–ä»»åŠ¡ï¼Œå®ƒä»¬å°†åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ï¼Œç›´åˆ°çº¿ç¨‹å¯ç”¨ã€‚ * åœ¨å…³é—­ä¹‹å‰ï¼Œå¦‚æžœä»»ä½•çº¿ç¨‹åœ¨æ‰§è¡ŒæœŸé—´å› å¤±è´¥è€Œç»ˆæ­¢,å¦‚æžœéœ€è¦ï¼Œå°†æ›´æ¢ä¸€ä¸ªæ–°çš„ï¼Œæ‰§è¡ŒåŽç»­ä»»åŠ¡ã€‚ * æ± ä¸­çš„çº¿ç¨‹å°†å­˜åœ¨ç›´åˆ°å®ƒæ˜¾å¼executerserviceå…³é—­ã€‚ */ public static ExecutorService newFixedThreadPool(int nThreads) &#123; return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;()); &#125; /** * è¯¥æ–¹æ³•æ˜¯JDk8æä¾›çš„ã€‚ç‰¹æ®Šçš„çº¿ç¨‹æ± ï¼Œé‡‡ç”¨JDK1.7çš„ForkJoinPoolå®žçŽ° * åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œä»¥ç»´æŠ¤è¶³å¤Ÿçš„çº¿ç¨‹æ¥æ”¯æŒç»™å®šçš„å¹¶è¡Œçº§åˆ«ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šä¸ªé˜Ÿåˆ—æ¥å‡å°‘äº‰ç”¨ã€‚ * å¹³è¡Œåº¦çº§åˆ«å¯¹åº”äºŽä¸»åŠ¨å‚ä¸Žæˆ–å¯ç”¨äºŽçš„çº¿ç¨‹çš„æœ€å¤§æ•°ç›®ä»Žäº‹ï¼Œä»»åŠ¡å¤„ç†ã€‚ * å®žé™…çº¿ç¨‹æ•°å¯èƒ½åŠ¨æ€å¢žé•¿å’Œæ”¶ç¼©ã€‚å·å·¥å‡æ–™æ˜¯ä¸è¡Œçš„ï¼Œä¿è¯æäº¤ä»»åŠ¡çš„é¡ºåºæ‰§è¡Œã€‚ * * @param å¹¶è¡Œçº§åˆ« */ public static ExecutorService newWorkStealingPool(int parallelism) &#123; return new ForkJoinPool (parallelism, ForkJoinPool.defaultForkJoinWorkerThreadFactory, null, true); &#125; /** * é‡è½½æ–¹æ³•: åªæ˜¯é»˜è®¤å‚æ•°ç”¨çš„æ˜¯å½“å‰æœºå™¨å¯åˆ©ç”¨CPUæ ¸æ•° */ public static ExecutorService newWorkStealingPool() &#123; return new ForkJoinPool (Runtime.getRuntime().availableProcessors(), ForkJoinPool.defaultForkJoinWorkerThreadFactory, null, true); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºé‡ç”¨å›ºå®šæ•°é‡çº¿ç¨‹çš„çº¿ç¨‹æ±  * åªä¸è¿‡å‚æ•°å¤šäº†ä¸€ä¸ªï¼Œå¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± å·¥åŽ‚ */ public static ExecutorService newFixedThreadPool(int nThreads, ThreadFactory threadFactory) &#123; return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(), threadFactory); &#125; /** * åˆ›å»ºä½¿ç”¨å•ä¸ªå·¥ä½œçº¿ç¨‹æ“ä½œçš„æ‰§è¡Œå™¨ï¼Œå³å•çº¿ç¨‹å·¥ä½œæ¨¡å¼ï¼Œä¸å¯é…ç½®çº¿ç¨‹çš„å¤§å°ã€‚ * ä¹Ÿæ˜¯åœ¨ä¸€ä¸ªæ— è¾¹ç•Œçš„é˜Ÿåˆ—ä¸­è¿è¡Œçš„ã€‚ç›¸å½“äºŽnewFixedThreadPool(1)ï¼Œ * åœ¨ä»»ä½•æ—¶åˆ»ï¼Œå½“å‰çº¿ç¨‹æ± åªæœ‰1ä¸ªæ´»åŠ¨çº¿ç¨‹ï¼Œä¸å¯èƒ½å‡ºçŽ°å…¶ä»–çš„å·¥ä½œçº¿ç¨‹ã€‚ */ public static ExecutorService newSingleThreadExecutor() &#123; return new FinalizableDelegatedExecutorService (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;())); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä½¿ç”¨å•ä¸ªå·¥ä½œçº¿ç¨‹æ“ä½œçš„æ‰§è¡Œå™¨ï¼Œå³å•çº¿ç¨‹å·¥ä½œæ¨¡å¼ï¼Œä¸å¯é…ç½®çº¿ç¨‹çš„å¤§å°ã€‚ * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± å·¥åŽ‚ */ public static ExecutorService newSingleThreadExecutor(ThreadFactory threadFactory) &#123; return new FinalizableDelegatedExecutorService (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(), threadFactory)); &#125; /** * åˆ›å»ºä¸€ä¸ªå¯é‡ç”¨çš„çº¿ç¨‹æ± : æ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹ï¼Œä½†å°†é‡ç”¨ä»¥å‰æž„é€ çš„çº¿ç¨‹å¯ç”¨ã€‚ * æ‰§è¡Œè®¸å¤šçŸ­æœŸå¼‚æ­¥ä»»åŠ¡çš„ç¨‹åºï¼Œä½¿ç”¨è¿™ç±»çº¿ç¨‹æ± å¯ä»¥æå‡ç¨‹åºæ€§èƒ½ã€‚ * å¦‚æžœæ²¡æœ‰çº¿ç¨‹å¯ç”¨ï¼Œåˆ™çº¿ç¨‹è¢«åˆ›å»ºå¹¶æ·»åŠ åˆ°æ± ä¸­ã€‚ * å…·æœ‰60ç§’æœªä½¿ç”¨çš„çº¿ç¨‹ï¼Œçº¿ç¨‹æ± åˆ™å›žæ”¶è¯¥çº¿ç¨‹ã€‚ * å¦‚æžœçº¿ç¨‹å¯ç”¨ï¼Œåˆ™é‡ç”¨ä¹‹å‰çš„æ´»åŠ¨çº¿ç¨‹ã€‚ * å¦‚æžœä½¿ç”¨ä¸å½“å¯èƒ½å¯¼è‡´OOMã€‚ */ public static ExecutorService newCachedThreadPool() &#123; return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;()); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä¸€ä¸ªå¯é‡ç”¨çš„çº¿ç¨‹æ±  * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± å·¥åŽ‚ * å¦‚æžœä½¿ç”¨ä¸å½“å¯èƒ½å¯¼è‡´OOMã€‚ */ public static ExecutorService newCachedThreadPool(ThreadFactory threadFactory) &#123; return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;(), threadFactory); &#125; /** * åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹çš„å»¶è¿Ÿä»»åŠ¡çº¿ç¨‹æ± ï¼Œå¯ä»£æ›¿Timer(ä½¿ç”¨ç¹çï¼Œçº¿ç¨‹ä¸å®‰å…¨ç±»)ï¼Œ */ public static ScheduledExecutorService newSingleThreadScheduledExecutor() &#123; return new DelegatedScheduledExecutorService (new ScheduledThreadPoolExecutor(1)); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹çš„å»¶è¿Ÿä»»åŠ¡çº¿ç¨‹æ± ï¼Œå¯ä»£æ›¿Timer(ä½¿ç”¨ç¹çï¼Œçº¿ç¨‹ä¸å®‰å…¨ç±»)ï¼Œ * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± å·¥åŽ‚ * */ public static ScheduledExecutorService newSingleThreadScheduledExecutor(ThreadFactory threadFactory) &#123; return new DelegatedScheduledExecutorService (new ScheduledThreadPoolExecutor(1, threadFactory)); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä¸€ä¸ªå»¶è¿Ÿä»»åŠ¡çº¿ç¨‹æ±  * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± æ ¸å¿ƒå¤§å° * */ public static ScheduledExecutorService newScheduledThreadPool(int corePoolSize) &#123; return new ScheduledThreadPoolExecutor(corePoolSize); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä¸€ä¸ªå»¶è¿Ÿä»»åŠ¡çº¿ç¨‹æ±  * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± æ ¸å¿ƒå¤§å°å’Œæœ€å¤§çº¿ç¨‹æ•°é‡ * */ public static ScheduledExecutorService newScheduledThreadPool( int corePoolSize, ThreadFactory threadFactory) &#123; return new ScheduledThreadPoolExecutor(corePoolSize, threadFactory); &#125; /** * Returns an object that delegates all defined &#123;@link * ExecutorService&#125; methods to the given executor, but not any * other methods that might otherwise be accessible using * casts. This provides a way to safely \"freeze\" configuration and * disallow tuning of a given concrete implementation. * @param executor the underlying implementation * @return an &#123;@code ExecutorService&#125; instance * @throws NullPointerException if executor null */ public static ExecutorService unconfigurableExecutorService(ExecutorService executor) &#123; if (executor == null) throw new NullPointerException(); return new DelegatedExecutorService(executor); &#125; /** * Returns an object that delegates all defined &#123;@link * ScheduledExecutorService&#125; methods to the given executor, but * not any other methods that might otherwise be accessible using * casts. This provides a way to safely \"freeze\" configuration and * disallow tuning of a given concrete implementation. * @param executor the underlying implementation * @return a &#123;@code ScheduledExecutorService&#125; instance * @throws NullPointerException if executor null */ public static ScheduledExecutorService unconfigurableScheduledExecutorService(ScheduledExecutorService executor) &#123; if (executor == null) throw new NullPointerException(); return new DelegatedScheduledExecutorService(executor); &#125; /** * Returns a default thread factory used to create new threads. * This factory creates all new threads used by an Executor in the * same &#123;@link ThreadGroup&#125;. If there is a &#123;@link * java.lang.SecurityManager&#125;, it uses the group of &#123;@link * System#getSecurityManager&#125;, else the group of the thread * invoking this &#123;@code defaultThreadFactory&#125; method. Each new * thread is created as a non-daemon thread with priority set to * the smaller of &#123;@code Thread.NORM_PRIORITY&#125; and the maximum * priority permitted in the thread group. New threads have names * accessible via &#123;@link Thread#getName&#125; of * &lt;em&gt;pool-N-thread-M&lt;/em&gt;, where &lt;em&gt;N&lt;/em&gt; is the sequence * number of this factory, and &lt;em&gt;M&lt;/em&gt; is the sequence number * of the thread created by this factory. * @return a thread factory */ public static ThreadFactory defaultThreadFactory() &#123; return new DefaultThreadFactory(); &#125; /** * Returns a thread factory used to create new threads that * have the same permissions as the current thread. * This factory creates threads with the same settings as &#123;@link * Executors#defaultThreadFactory&#125;, additionally setting the * AccessControlContext and contextClassLoader of new threads to * be the same as the thread invoking this * &#123;@code privilegedThreadFactory&#125; method. A new * &#123;@code privilegedThreadFactory&#125; can be created within an * &#123;@link AccessController#doPrivileged AccessController.doPrivileged&#125; * action setting the current thread's access control context to * create threads with the selected permission settings holding * within that action. * * &lt;p&gt;Note that while tasks running within such threads will have * the same access control and class loader settings as the * current thread, they need not have the same &#123;@link * java.lang.ThreadLocal&#125; or &#123;@link * java.lang.InheritableThreadLocal&#125; values. If necessary, * particular values of thread locals can be set or reset before * any task runs in &#123;@link ThreadPoolExecutor&#125; subclasses using * &#123;@link ThreadPoolExecutor#beforeExecute(Thread, Runnable)&#125;. * Also, if it is necessary to initialize worker threads to have * the same InheritableThreadLocal settings as some other * designated thread, you can create a custom ThreadFactory in * which that thread waits for and services requests to create * others that will inherit its values. * * @return a thread factory * @throws AccessControlException if the current access control * context does not have permission to both get and set context * class loader */ public static ThreadFactory privilegedThreadFactory() &#123; return new PrivilegedThreadFactory(); &#125; /** * Returns a &#123;@link Callable&#125; object that, when * called, runs the given task and returns the given result. This * can be useful when applying methods requiring a * &#123;@code Callable&#125; to an otherwise resultless action. * @param task the task to run * @param result the result to return * @param &lt;T&gt; the type of the result * @return a callable object * @throws NullPointerException if task null */ public static &lt;T&gt; Callable&lt;T&gt; callable(Runnable task, T result) &#123; if (task == null) throw new NullPointerException(); return new RunnableAdapter&lt;T&gt;(task, result); &#125; /** * Returns a &#123;@link Callable&#125; object that, when * called, runs the given task and returns &#123;@code null&#125;. * @param task the task to run * @return a callable object * @throws NullPointerException if task null */ public static Callable&lt;Object&gt; callable(Runnable task) &#123; if (task == null) throw new NullPointerException(); return new RunnableAdapter&lt;Object&gt;(task, null); &#125; /** * Returns a &#123;@link Callable&#125; object that, when * called, runs the given privileged action and returns its result. * @param action the privileged action to run * @return a callable object * @throws NullPointerException if action null */ public static Callable&lt;Object&gt; callable(final PrivilegedAction&lt;?&gt; action) &#123; if (action == null) throw new NullPointerException(); return new Callable&lt;Object&gt;() &#123; public Object call() &#123; return action.run(); &#125;&#125;; &#125; /** * Returns a &#123;@link Callable&#125; object that, when * called, runs the given privileged exception action and returns * its result. * @param action the privileged exception action to run * @return a callable object * @throws NullPointerException if action null */ public static Callable&lt;Object&gt; callable(final PrivilegedExceptionAction&lt;?&gt; action) &#123; if (action == null) throw new NullPointerException(); return new Callable&lt;Object&gt;() &#123; public Object call() throws Exception &#123; return action.run(); &#125;&#125;; &#125; /** * Returns a &#123;@link Callable&#125; object that will, when called, * execute the given &#123;@code callable&#125; under the current access * control context. This method should normally be invoked within * an &#123;@link AccessController#doPrivileged AccessController.doPrivileged&#125; * action to create callables that will, if possible, execute * under the selected permission settings holding within that * action; or if not possible, throw an associated &#123;@link * AccessControlException&#125;. * @param callable the underlying task * @param &lt;T&gt; the type of the callable's result * @return a callable object * @throws NullPointerException if callable null */ public static &lt;T&gt; Callable&lt;T&gt; privilegedCallable(Callable&lt;T&gt; callable) &#123; if (callable == null) throw new NullPointerException(); return new PrivilegedCallable&lt;T&gt;(callable); &#125; public static &lt;T&gt; Callable&lt;T&gt; privilegedCallableUsingCurrentClassLoader(Callable&lt;T&gt; callable) &#123; if (callable == null) throw new NullPointerException(); return new PrivilegedCallableUsingCurrentClassLoader&lt;T&gt;(callable); &#125; // Non-public classes supporting the public methods /** * è¿è¡Œç»™å®šä»»åŠ¡å¹¶è¿”å›žç»™å®šç»“æžœçš„å¯è°ƒç”¨æ–‡ä»¶ */ static final class RunnableAdapter&lt;T&gt; implements Callable&lt;T&gt; &#123; final Runnable task; final T result; RunnableAdapter(Runnable task, T result) &#123; this.task = task; this.result = result; &#125; public T call() &#123; task.run(); return result; &#125; &#125; /** * åœ¨å·²å»ºç«‹çš„è®¿é—®æŽ§åˆ¶è®¾ç½®ä¸‹è¿è¡Œçš„å¯è°ƒç”¨æ–‡ä»¶ */ static final class PrivilegedCallable&lt;T&gt; implements Callable&lt;T&gt; &#123; private final Callable&lt;T&gt; task; private final AccessControlContext acc; PrivilegedCallable(Callable&lt;T&gt; task) &#123; this.task = task; this.acc = AccessController.getContext(); &#125; public T call() throws Exception &#123; try &#123; return AccessController.doPrivileged( new PrivilegedExceptionAction&lt;T&gt;() &#123; public T run() throws Exception &#123; return task.call(); &#125; &#125;, acc); &#125; catch (PrivilegedActionException e) &#123; throw e.getException(); &#125; &#125; &#125; /** * åœ¨å·²å»ºç«‹çš„è®¿é—®æŽ§åˆ¶è®¾ç½®å’Œå½“å‰ç±»åŠ è½½å™¨ä¸‹è¿è¡Œçš„å¯è°ƒç”¨æ–‡ä»¶ã€‚ */ static final class PrivilegedCallableUsingCurrentClassLoader&lt;T&gt; implements Callable&lt;T&gt; &#123; private final Callable&lt;T&gt; task; private final AccessControlContext acc; private final ClassLoader ccl; PrivilegedCallableUsingCurrentClassLoader(Callable&lt;T&gt; task) &#123; SecurityManager sm = System.getSecurityManager(); if (sm != null) &#123; // Calls to getContextClassLoader from this class // never trigger a security check, but we check // whether our callers have this permission anyways. sm.checkPermission(SecurityConstants.GET_CLASSLOADER_PERMISSION); // Whether setContextClassLoader turns out to be necessary // or not, we fail fast if permission is not available. sm.checkPermission(new RuntimePermission(\"setContextClassLoader\")); &#125; this.task = task; this.acc = AccessController.getContext(); this.ccl = Thread.currentThread().getContextClassLoader(); &#125; public T call() throws Exception &#123; try &#123; return AccessController.doPrivileged( new PrivilegedExceptionAction&lt;T&gt;() &#123; public T run() throws Exception &#123; Thread t = Thread.currentThread(); ClassLoader cl = t.getContextClassLoader(); if (ccl == cl) &#123; return task.call(); &#125; else &#123; t.setContextClassLoader(ccl); try &#123; return task.call(); &#125; finally &#123; t.setContextClassLoader(cl); &#125; &#125; &#125; &#125;, acc); &#125; catch (PrivilegedActionException e) &#123; throw e.getException(); &#125; &#125; &#125; /** * é»˜è®¤çº¿ç¨‹å·¥åŽ‚ */ static class DefaultThreadFactory implements ThreadFactory &#123; private static final AtomicInteger poolNumber = new AtomicInteger(1); private final ThreadGroup group; private final AtomicInteger threadNumber = new AtomicInteger(1); private final String namePrefix; DefaultThreadFactory() &#123; SecurityManager s = System.getSecurityManager(); group = (s != null) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup(); namePrefix = \"pool-\" + poolNumber.getAndIncrement() + \"-thread-\"; &#125; public Thread newThread(Runnable r) &#123; Thread t = new Thread(group, r, namePrefix + threadNumber.getAndIncrement(), 0); if (t.isDaemon()) t.setDaemon(false); if (t.getPriority() != Thread.NORM_PRIORITY) t.setPriority(Thread.NORM_PRIORITY); return t; &#125; &#125; /** * çº¿ç¨‹å·¥åŽ‚æ•èŽ·è®¿é—®æŽ§åˆ¶ä¸Šä¸‹æ–‡å’Œç±»åŠ è½½å™¨ */ static class PrivilegedThreadFactory extends DefaultThreadFactory &#123; private final AccessControlContext acc; private final ClassLoader ccl; PrivilegedThreadFactory() &#123; super(); SecurityManager sm = System.getSecurityManager(); if (sm != null) &#123; // Calls to getContextClassLoader from this class // never trigger a security check, but we check // whether our callers have this permission anyways. sm.checkPermission(SecurityConstants.GET_CLASSLOADER_PERMISSION); // Fail fast sm.checkPermission(new RuntimePermission(\"setContextClassLoader\")); &#125; this.acc = AccessController.getContext(); this.ccl = Thread.currentThread().getContextClassLoader(); &#125; public Thread newThread(final Runnable r) &#123; return super.newThread(new Runnable() &#123; public void run() &#123; AccessController.doPrivileged(new PrivilegedAction&lt;Void&gt;() &#123; public Void run() &#123; Thread.currentThread().setContextClassLoader(ccl); r.run(); return null; &#125; &#125;, acc); &#125; &#125;); &#125; &#125; /** * ä»…å…¬å¼€ExecutorServiceæ–¹æ³•çš„åŒ…è£…ç±» * æ‰§è¡Œå™¨æœåŠ¡çš„å®žçŽ°ç±» */ static class DelegatedExecutorService extends AbstractExecutorService &#123; private final ExecutorService e; DelegatedExecutorService(ExecutorService executor) &#123; e = executor; &#125; public void execute(Runnable command) &#123; e.execute(command); &#125; public void shutdown() &#123; e.shutdown(); &#125; public List&lt;Runnable&gt; shutdownNow() &#123; return e.shutdownNow(); &#125; public boolean isShutdown() &#123; return e.isShutdown(); &#125; public boolean isTerminated() &#123; return e.isTerminated(); &#125; public boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException &#123; return e.awaitTermination(timeout, unit); &#125; public Future&lt;?&gt; submit(Runnable task) &#123; return e.submit(task); &#125; public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) &#123; return e.submit(task); &#125; public &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result) &#123; return e.submit(task, result); &#125; public &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException &#123; return e.invokeAll(tasks); &#125; public &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException &#123; return e.invokeAll(tasks, timeout, unit); &#125; public &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException, ExecutionException &#123; return e.invokeAny(tasks); &#125; public &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException &#123; return e.invokeAny(tasks, timeout, unit); &#125; &#125; static class FinalizableDelegatedExecutorService extends DelegatedExecutorService &#123; FinalizableDelegatedExecutorService(ExecutorService executor) &#123; super(executor); &#125; protected void finalize() &#123; super.shutdown(); &#125; &#125; /** * ä»…å…¬å¼€ScheduledExecutorServiceçš„åŒ…è£…ç±» * ScheduledExecutorServiceå®žçŽ°çš„æ–¹æ³• */ static class DelegatedScheduledExecutorService extends DelegatedExecutorService implements ScheduledExecutorService &#123; private final ScheduledExecutorService e; DelegatedScheduledExecutorService(ScheduledExecutorService executor) &#123; super(executor); e = executor; &#125; public ScheduledFuture&lt;?&gt; schedule(Runnable command, long delay, TimeUnit unit) &#123; return e.schedule(command, delay, unit); &#125; public &lt;V&gt; ScheduledFuture&lt;V&gt; schedule(Callable&lt;V&gt; callable, long delay, TimeUnit unit) &#123; return e.schedule(callable, delay, unit); &#125; public ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable command, long initialDelay, long period, TimeUnit unit) &#123; return e.scheduleAtFixedRate(command, initialDelay, period, unit); &#125; public ScheduledFuture&lt;?&gt; scheduleWithFixedDelay(Runnable command, long initialDelay, long delay, TimeUnit unit) &#123; return e.scheduleWithFixedDelay(command, initialDelay, delay, unit); &#125; &#125; /** ä¸å…è®¸å®žä¾‹åŒ– */ private Executors() &#123;&#125;&#125; å¸¸ç”¨æ–¹æ³•FixedThreadPoolFixedThreadPoolï¼Œå¯é‡ç”¨å›ºå®šçº¿ç¨‹æ•°çš„çº¿ç¨‹æ± ã€‚ corePoolSize å’Œ maximumPoolSizeéƒ½è®¾ç½®ä¸ºåˆ›å»ºFixedThreadPoolæ—¶æŒ‡å®šçš„å‚æ•°nThreadsï¼Œæ„å‘³ç€å½“çº¿ç¨‹æ± æ»¡æ—¶ä¸”é˜»å¡žé˜Ÿåˆ—ä¹Ÿå·²ç»æ»¡æ—¶ï¼Œå¦‚æžœç»§ç»­æäº¤ä»»åŠ¡ï¼Œåˆ™ä¼šç›´æŽ¥èµ°æ‹’ç»ç­–ç•¥ï¼Œè¯¥çº¿ç¨‹æ± ä¸ä¼šå†æ–°å»ºçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œè€Œæ˜¯ç›´æŽ¥èµ°æ‹’ç»ç­–ç•¥ã€‚FixedThreadPoolä½¿ç”¨çš„æ˜¯é»˜è®¤çš„æ‹’ç»ç­–ç•¥ï¼Œå³AbortPolicyï¼Œåˆ™ç›´æŽ¥æŠ›å‡ºå¼‚å¸¸ã€‚ keepAliveTimeè®¾ç½®ä¸º0Lï¼Œè¡¨ç¤ºç©ºé—²çš„çº¿ç¨‹ä¼šç«‹åˆ»ç»ˆæ­¢ã€‚ workQueueåˆ™æ˜¯ä½¿ç”¨LinkedBlockingQueueï¼Œä½†æ˜¯æ²¡æœ‰è®¾ç½®èŒƒå›´ï¼Œé‚£ä¹ˆåˆ™æ˜¯æœ€å¤§å€¼ï¼ˆInteger.MAX_VALUEï¼‰ï¼Œè¿™åŸºæœ¬å°±ç›¸å½“äºŽä¸€ä¸ªæ— ç•Œé˜Ÿåˆ—äº†ã€‚ä½¿ç”¨è¯¥â€œæ— ç•Œé˜Ÿåˆ—â€åˆ™ä¼šå¸¦æ¥å“ªäº›å½±å“å‘¢ï¼Ÿå½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°é‡ç­‰äºŽcorePoolSize æ—¶ï¼Œå¦‚æžœç»§ç»­æäº¤ä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡ä¼šè¢«æ·»åŠ åˆ°é˜»å¡žé˜Ÿåˆ—workQueueä¸­ï¼Œå½“é˜»å¡žé˜Ÿåˆ—ä¹Ÿæ»¡äº†ä¹‹åŽï¼Œåˆ™çº¿ç¨‹æ± ä¼šæ–°å»ºçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ç›´åˆ°maximumPoolSizeã€‚ç”±äºŽFixedThreadPoolä½¿ç”¨çš„æ˜¯â€œæ— ç•Œé˜Ÿåˆ—â€LinkedBlockingQueueï¼Œé‚£ä¹ˆmaximumPoolSizeå‚æ•°æ— æ•ˆï¼ŒåŒæ—¶æŒ‡å®šçš„æ‹’ç»ç­–ç•¥AbortPolicyä¹Ÿå°†æ— æ•ˆã€‚è€Œä¸”è¯¥çº¿ç¨‹æ± ä¹Ÿä¸ä¼šæ‹’ç»æäº¤çš„ä»»åŠ¡ï¼Œå¦‚æžœå®¢æˆ·ç«¯æäº¤ä»»åŠ¡çš„é€Ÿåº¦å¿«äºŽä»»åŠ¡çš„æ‰§è¡Œï¼Œé‚£ä¹ˆkeepAliveTimeä¹Ÿæ˜¯ä¸€ä¸ªæ— æ•ˆå‚æ•°ã€‚ SingleThreadExecutorSingleThreadExecutoræ˜¯ä½¿ç”¨å•ä¸ªworkerçº¿ç¨‹çš„Executorï¼Œå³å•çº¿ç¨‹å·¥ä½œæ¨¡å¼ã€‚ ä½œä¸ºå•ä¸€workerçº¿ç¨‹çš„çº¿ç¨‹æ± ï¼ŒSingleThreadExecutoræŠŠcorePoolå’ŒmaximumPoolSizeå‡è¢«è®¾ç½®ä¸º1ï¼Œå’ŒFixedThreadPoolä¸€æ ·ä½¿ç”¨çš„æ˜¯æ— ç•Œé˜Ÿåˆ—LinkedBlockingQueue,æ‰€ä»¥å¸¦æ¥çš„å½±å“å’ŒFixedThreadPoolä¸€æ ·ã€‚ CachedThreadPoolCachedThreadPoolæ˜¯ä¸€ä¸ªä¼šæ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹çš„çº¿ç¨‹æ±  ã€‚ CachedThreadPoolçš„corePoolä¸º0ï¼ŒmaximumPoolSizeä¸ºInteger.MAX_VALUEï¼Œè¿™å°±æ„å‘³ç€æ‰€æœ‰çš„ä»»åŠ¡ä¸€æäº¤å°±ä¼šåŠ å…¥åˆ°é˜»å¡žé˜Ÿåˆ—ä¸­ã€‚keepAliveTimeè¿™æ˜¯ä¸º60Lï¼Œunitè®¾ç½®ä¸ºTimeUnit.SECONDSï¼Œæ„å‘³ç€ç©ºé—²çº¿ç¨‹ç­‰å¾…æ–°ä»»åŠ¡çš„æœ€é•¿æ—¶é—´ä¸º60ç§’ï¼Œç©ºé—²çº¿ç¨‹è¶…è¿‡60ç§’åŽå°†ä¼šè¢«ç»ˆæ­¢ã€‚é˜»å¡žé˜Ÿåˆ—é‡‡ç”¨çš„SynchronousQueueï¼Œæˆ‘ä»¬äº†è§£åˆ°SynchronousQueueæ˜¯ä¸€ä¸ªæ²¡æœ‰å…ƒç´ çš„é˜»å¡žé˜Ÿåˆ—(æ¦‚å¿µä¸Šçš„æ— ç•Œï¼Œå…¶å®žæ˜¯æœ‰ç•Œçš„)ï¼ŒåŠ ä¸ŠcorePool = 0 ï¼ŒmaximumPoolSize = Integer.MAX_VALUEï¼Œè¿™æ ·å°±ä¼šå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æžœä¸»çº¿ç¨‹æäº¤ä»»åŠ¡çš„é€Ÿåº¦è¿œè¿œå¤§äºŽCachedThreadPoolçš„å¤„ç†é€Ÿåº¦ï¼Œåˆ™CachedThreadPoolä¼šä¸æ–­åœ°åˆ›å»ºæ–°çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œè¿™æ ·æœ‰å¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿè€—å°½CPUå’Œå†…å­˜èµ„æºï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨è¯¥çº¿ç¨‹æ± æ˜¯ï¼Œä¸€å®šè¦æ³¨æ„æŽ§åˆ¶å¹¶å‘çš„ä»»åŠ¡æ•°ï¼Œå¦åˆ™åˆ›å»ºå¤§é‡çš„çº¿ç¨‹å¯èƒ½å¯¼è‡´ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚ ScheduledThreadPoolScheduledThreadPoolï¼Œåˆ›å»ºä¸€ä¸ªå¯å»¶è¿Ÿè°ƒåº¦çš„çº¿ç¨‹æ± ã€‚ ScheduledThreadPoolçš„çº¿ç¨‹æ± å¤„ç†ç±»ä¸ºScheduledThreadPoolExecutorï¼Œé€šè¿‡æž„é€ æˆ‘ä»¬å¯ä»¥å¾—å‡ºcorePoolæ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼ŒmaximumPoolSizeä¸ºInteger.MAX_VALUEï¼Œè¿™å°±æ„å‘³ç€æ‰€æœ‰çš„ä»»åŠ¡ä¸€æäº¤å°±ä¼šåŠ å…¥åˆ°é˜»å¡žé˜Ÿåˆ—ä¸­ã€‚keepAliveTimeä¸º0ï¼Œunitè®¾ç½®ä¸ºTimeUnit.NANOSECONDSï¼Œæ„å‘³ç€æ‰§è¡Œå®Œå»¶è¿Ÿä»»åŠ¡åŽä¼šç«‹é©¬å›žæ”¶çº¿ç¨‹ã€‚é˜»å¡žé˜Ÿåˆ—é‡‡ç”¨DelayedWorkQueue(ä¸“ä¸ºå»¶è¿Ÿé˜Ÿåˆ—è€Œç”Ÿ),DelayedWorkQueueåŸºäºŽå †çš„æ•°æ®ç»“æž„ï¼Œé»˜è®¤åˆå§‹åŒ–å®¹é‡ä¸º16ã€‚ æˆ‘ä»¬çŸ¥é“Timerä¸ŽTimerTaskè™½ç„¶å¯ä»¥å®žçŽ°çº¿ç¨‹çš„å‘¨æœŸå’Œå»¶è¿Ÿè°ƒåº¦ï¼Œä½†æ˜¯Timerä¸ŽTimerTaskå­˜åœ¨ä¸€äº›ç¼ºé™·ï¼Œæ‰€ä»¥å¯¹äºŽè¿™ç§å®šæœŸã€å‘¨æœŸæ‰§è¡Œä»»åŠ¡çš„è°ƒåº¦ç­–ç•¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯æŽ¨èScheduledThreadPoolExecutoræ¥å®žçŽ°ã€‚ å…·ä½“åˆ†æžè¯·é˜…è¯»å¤§ç‰›åšæ–‡: ScheduledThreadPoolExecutorè¯¦è§£ä¸€ ScheduledThreadPoolExecutorè¯¦è§£äºŒ WorkStealingPoolWorkStealingPoolæ˜¯ä¸ªç‰¹æ®Šçš„çº¿ç¨‹æ± ï¼Œä½†ä¸é•¿ç”¨ï¼Œé¢è¯•æœ‰æ—¶å€™å¯èƒ½ä¼šé—®åˆ°ï¼Œå†…éƒ¨å®žçŽ°åŽŸç†å…¶å®žæ˜¯åŸºäºŽJDK1.7çš„ForkJoinPoolæ¡†æž¶ï¼Œå…·ä½“æž„é€ å®žçŽ°ç»†èŠ‚å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435/** * Creates a &#123;@code ForkJoinPool&#125; with the given parameters. * * @param parallelism the parallelism level. For default value, * use &#123;@link java.lang.Runtime#availableProcessors&#125;. * @param factory the factory for creating new threads. For default value, * use &#123;@link #defaultForkJoinWorkerThreadFactory&#125;. * @param handler the handler for internal worker threads that * terminate due to unrecoverable errors encountered while executing * tasks. For default value, use &#123;@code null&#125;. * @param asyncMode if true, * establishes local first-in-first-out scheduling mode for forked * tasks that are never joined. This mode may be more appropriate * than default locally stack-based mode in applications in which * worker threads only process event-style asynchronous tasks. * For default value, use &#123;@code false&#125;. * @throws IllegalArgumentException if parallelism less than or * equal to zero, or greater than implementation limit * @throws NullPointerException if the factory is null * @throws SecurityException if a security manager exists and * the caller is not permitted to modify threads * because it does not hold &#123;@link * java.lang.RuntimePermission&#125;&#123;@code (\"modifyThread\")&#125; */public ForkJoinPool(int parallelism, ForkJoinWorkerThreadFactory factory, UncaughtExceptionHandler handler, boolean asyncMode) &#123; this(checkParallelism(parallelism), checkFactory(factory), handler, asyncMode ? FIFO_QUEUE : LIFO_QUEUE, \"ForkJoinPool-\" + nextPoolId() + \"-worker-\"); checkPermission();&#125; ForkJoinPoolæ¡†æž¶æ˜¯ä¸ªå¹¶è¡Œæ¡†æž¶ï¼Œåœ¨å¤šæ ¸CPUä¸­æœ‰ç€é«˜æ•ˆçš„æ€§èƒ½ä½“éªŒã€‚Java7 æä¾›äº†ForkJoinPoolæ¥æ”¯æŒå°†ä¸€ä¸ªä»»åŠ¡æ‹†åˆ†æˆå¤šä¸ªâ€œå°ä»»åŠ¡â€å¹¶è¡Œè®¡ç®—ï¼Œå†æŠŠå¤šä¸ªâ€œå°ä»»åŠ¡â€çš„ç»“æžœåˆå¹¶æˆæ€»çš„è®¡ç®—ç»“æžœã€‚æœ‰å…³äºŽForkJoinPoolçŸ¥è¯†ï¼Œæˆ‘ä»¬åŽç»­è®²è§£ã€‚ å‚è€ƒèµ„æ–™ é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ å”¯å“ä¼šJavaå¼€å‘æ‰‹å†Œ ã€ŠJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ ä¸‹ä¸€ç¯‡ ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶ new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• æºç åˆ†æžå¸¸ç”¨æ–¹æ³•FixedThreadPoolSingleThreadExecutorCachedThreadPoolScheduledThreadPoolWorkStealingPoolå‚è€ƒèµ„æ–™ è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.208Z","updated":"2019-11-27T15:22:16.208Z","comments":true,"path":"public/2019/03/29/çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ°/index.html","permalink":"http://ltyeamin.github.io/public/2019/03/29/çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ°/index.html","excerpt":"","text":"çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° algorithm äºŒå‰æ ‘ 2019/03/29 è°ˆåˆ°æ•°æ®ç»“æž„çš„æ ‘ï¼Œç¬”è€…çš„å°è±¡ä¸­è¿˜æ˜¯åœ¨å¤§å­¦æ—¶æœŸçš„æ¦‚å¿µï¼Œæœ€æ—©çš„æ¦‚å¿µæºè‡ªäºŽå“ˆå¤«æ›¼æ ‘(æœ€ä¼˜äºŒå‰æ ‘)ï¼Œå…¶ä»–çš„æ ‘ç»“æž„è¿˜æœ‰äºŒå‰æŸ¥æ‰¾æ ‘ã€å®Œå…¨äºŒå‰æ ‘ã€å¹³è¡¡äºŒå‰æ ‘(åˆåˆ†ä¸ºAVLæ ‘ã€RBçº¢é»‘æ ‘ã€SBTã€ä¼¸å±•æ ‘ã€TREAPã€æ›¿ç½ªç¾Šæ ‘ ï¼‰ã€å¹³è¡¡å¤šå‰æ ‘ï¼ˆB - Tree å’ŒB+ Tree)ç­‰ï¼Œä»Šå¤©æˆ‘ä»¬æ¥ç ”ç©¶ä¸€ä¸‹å¹³è¡¡äºŒå‰æ ‘çš„RBçº¢é»‘æ ‘ï¼Œå› ä¸ºRBçº¢é»‘æ ‘åœ¨JAVAä¸­çš„å®žçŽ°è¿˜æ˜¯è›®å¤šçš„ã€‚ çº¢é»‘æ ‘æ˜¯å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘çš„ä¸€ç§ã€‚ä¸ºäº†æ·±å…¥ç†è§£çº¢é»‘æ ‘ï¼Œæˆ‘ä»¬å…ˆå›žå¿†ä¸€ä¸‹å¤§å­¦æ•°æ®ç»“æž„ä¸­çš„äºŒå‰æŸ¥æ‰¾æ ‘ã€‚ äºŒå‰æŸ¥æ‰¾æ ‘åŸºæœ¬æ¦‚å¿µç™¾åº¦ç™¾ç§‘å®šä¹‰å¦‚ä¸‹ï¼š äºŒå‰æŽ’åºæ ‘ï¼ˆBinary Sort Treeï¼‰ï¼Œåˆç§°äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary Search Treeï¼‰ï¼Œäº¦ç§°äºŒå‰æœç´¢æ ‘ã€‚ äºŒå‰æŽ’åºæ ‘æˆ–è€…æ˜¯ä¸€æ£µç©ºæ ‘ï¼Œæˆ–è€…æ˜¯å…·æœ‰ä¸‹åˆ—æ€§è´¨çš„äºŒå‰æ ‘ï¼š ï¼ˆ1ï¼‰è‹¥å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºŽå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› ï¼ˆ2ï¼‰è‹¥å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºŽæˆ–ç­‰äºŽå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› ï¼ˆ3ï¼‰å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æŽ’åºæ ‘ï¼› äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary Search Treeï¼Œç®€ç§°BSTï¼‰æ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼Œå®ƒçš„å·¦å­èŠ‚ç‚¹çš„å€¼æ¯”çˆ¶èŠ‚ç‚¹çš„å€¼è¦å°ï¼Œå³èŠ‚ç‚¹çš„å€¼è¦æ¯”çˆ¶èŠ‚ç‚¹çš„å€¼å¤§ã€‚å®ƒçš„é«˜åº¦å†³å®šäº†å®ƒçš„æŸ¥æ‰¾æ•ˆçŽ‡ã€‚ åœ¨ç†æƒ³çš„æƒ…å†µä¸‹ï¼ŒäºŒå‰æŸ¥æ‰¾æ ‘å¢žåˆ æŸ¥æ”¹çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(logN)ï¼ˆå…¶ä¸­Nä¸ºèŠ‚ç‚¹æ•°ï¼‰ï¼Œæœ€åçš„æƒ…å†µä¸‹ä¸ºO(N)ã€‚å½“å®ƒçš„é«˜åº¦ä¸ºlogN+1æ—¶ï¼Œæˆ‘ä»¬å°±è¯´äºŒå‰æŸ¥æ‰¾æ ‘æ˜¯å¹³è¡¡çš„ã€‚ åŸºæœ¬æ“ä½œæŸ¥æ‰¾1234567891011121314151617181920212223242526// å®šä¹‰ä¸€ä¸ªæœç´¢çš„KeyT key = a search key// æ ‘çš„èŠ‚ç‚¹ï¼Œå½“å‰èŠ‚ç‚¹æŒ‡çš„æ˜¯æ ‘çš„æ ¹èŠ‚ç‚¹Node root = point to the root of a BST//å¾ªçŽ¯æŸ¥æ‰¾æ ‘while(true)&#123; // æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œç›´æŽ¥ç»“æŸï¼Œæ— æ³•ç»§ç»­æŸ¥è¯¢ if(root==null)&#123; break; &#125; // å¦‚æžœæŸ¥æ‰¾åˆ°ï¼Œç›´æŽ¥è¿”å›žå½“å‰çš„èŠ‚ç‚¹ if(root.value.equals(key))&#123; return root; &#125; // æ²¡æœ‰æŸ¥åˆ°åˆ™åšæ¯”è¾ƒç»§ç»­æŸ¥è¯¢ï¼Œå¦‚æžœå½“å‰è¦æŸ¥æ‰¾çš„keyä¸Žå½“å‰èŠ‚ç‚¹valueåšæ¯”è¾ƒï¼Œè‹¥keyå°äºŽå½“å‰èŠ‚ç‚¹çš„valueåœ¨å·¦å­æ ‘æŸ¥æ‰¾ else if(key.compareTo(root.value)&lt;0)&#123; root = root.left; &#125; // è‹¥keyå¤§äºŽå½“å‰èŠ‚ç‚¹çš„valueåœ¨å³å­æ ‘æŸ¥æ‰¾ else&#123; // å°†å³å­—æ•°æŒ‡å‘çš„rootèŠ‚ç‚¹ï¼Œç»§ç»­æŸ¥æ‰¾ root = root.right; &#125;&#125;// æ²¡æœ‰æŸ¥æ‰¾åˆ™è¿”å›žnullreturn null; ä»Žç¨‹åºä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“BSTæŸ¥æ‰¾çš„æ—¶å€™ï¼Œå…ˆä¸Žå½“å‰èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼š å¦‚æžœç›¸ç­‰çš„è¯å°±è¿”å›žå½“å‰èŠ‚ç‚¹ï¼› å¦‚æžœå°‘äºŽå½“å‰èŠ‚ç‚¹åˆ™ç»§ç»­æŸ¥æ‰¾å½“å‰èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼› å¦‚æžœå¤§äºŽå½“å‰èŠ‚ç‚¹åˆ™ç»§ç»­æŸ¥æ‰¾å½“å‰èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ ç›´åˆ°å½“å‰èŠ‚ç‚¹æŒ‡é’ˆä¸ºç©ºæˆ–è€…æŸ¥æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹ï¼Œç¨‹åºæŸ¥æ‰¾ç»“æŸã€‚ æ’å…¥1234567891011121314151617181920212223242526272829303132333435// æ–°èŠ‚ç‚¹Node node = create a new node with specify value// æ ‘çš„èŠ‚ç‚¹ï¼Œé»˜è®¤å½“å‰èŠ‚ç‚¹æŒ‡çš„æ˜¯æ ‘çš„æ ¹èŠ‚ç‚¹Node root = point the root node of a BST// çˆ¶èŠ‚ç‚¹å¼•ç”¨Node parent = null;//find the parent node to append the new node// åœ¨å¾ªçŽ¯ä¸­ï¼Œæ‰¾å¾…æ’å…¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹while(true)&#123; // å¦‚æžœæ ¹èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œåˆ™ç›´æŽ¥ç»“æŸï¼Œæ·»åŠ å¤±è´¥ã€‚ if(root==null) break; // å°†çˆ¶èŠ‚ç‚¹æŒ‡å‘æ ¹èŠ‚ç‚¹ parent = root; // å¦‚æžœæ–°èŠ‚ç‚¹çš„valueå€¼å°äºŽç­‰äºŽrootèŠ‚ç‚¹valueçš„ï¼Œæ·»åŠ åˆ°å·¦å­æ ‘ï¼Œæ‰¾å·¦å­æ ‘çš„çˆ¶èŠ‚ç‚¹ if(node.value.compareTo(root.value)&lt;=0)&#123; root = root.left; &#125;else&#123; // å¦åˆ™ï¼Œæ·»åŠ åˆ°å³å­æ ‘ï¼Œæ‰¾å³å­æ ‘çš„çˆ¶èŠ‚ç‚¹ root = root.right; &#125; &#125;//å¦‚æžœçˆ¶èŠ‚ç‚¹ä¸ä¸ºnullï¼Œæ‰§è¡Œæ·»åŠ æ“ä½œif(parent!=null)&#123; // å¼€å§‹æ·»åŠ æ“ä½œ if(node.value.compareTo(parent.value)&lt;=0)&#123; // æ·»åŠ å·¦å­æ ‘ //append to left parent.left = node; &#125;else&#123; // append to right // å¼€å§‹æ·»åŠ æ“ä½œï¼Œæ·»åŠ å³å­æ ‘ parent.right = node; &#125;&#125; æ’å…¥æ“ä½œå…ˆé€šè¿‡å¾ªçŽ¯æŸ¥æ‰¾åˆ°å¾…æ’å…¥çš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œå’ŒæŸ¥æ‰¾çˆ¶èŠ‚ç‚¹çš„é€»è¾‘ä¸€æ ·ï¼Œéƒ½æ˜¯æ¯”å¤§å°ï¼Œå°çš„å¾€å·¦ï¼Œå¤§çš„å¾€å³ã€‚æ‰¾åˆ°çˆ¶èŠ‚ç‚¹åŽï¼Œå¯¹æ¯”çˆ¶èŠ‚ç‚¹ï¼Œå°çš„å°±æ’å…¥åˆ°çˆ¶èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œå¤§å°±æ’å…¥åˆ°çˆ¶èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ä¸Šã€‚ åˆ é™¤1234567891011121314151617181920212223242526272829// å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œå¯æ ¹æ®æŸ¥æ‰¾ä»£ç æŸ¥æ‰¾å‡ºå¾…åˆ é™¤çš„èŠ‚ç‚¹Node node = delete a new node with specify value// å¦‚æžœèŠ‚ç‚¹å­˜åœ¨ï¼Œåˆ™è¿›è¡Œåˆ é™¤if (node != null) &#123; // å¦‚æžœèŠ‚ç‚¹æœ‰å·¦å­æ ‘ï¼Œåˆ™ç»§ç»­æ“ä½œ if (node.left != null) &#123; // æ‰¾åˆ°å…¶å·¦å­æ ‘çš„æœ€å³è¾¹çš„å¶å­ç»“ç‚¹leftRï¼Œç”¨è¯¥å¶å­ç»“ç‚¹leftRæ¥æ›¿ä»£å¾…åˆ é™¤çš„èŠ‚ç‚¹node.æŠŠleftRçš„å·¦å­©å­ä½œä¸ºleftRçš„çˆ¶äº²çš„å³å­©å­ã€‚ Node leftR = node.left; // å…ˆå‰çš„èŠ‚ç‚¹çš„å¤‡ä»½ Node prev = node.left; while(leftR.left != null) &#123; prev = leftR; leftR = leftR.right; &#125; // å°†æŸ¥æ‰¾åˆ°çš„leftR.valueèµ‹å€¼åˆ°node.value node.value = leftR.value; // è‹¥leftRä¸æ˜¯nodeçš„å·¦å­æ ‘,nodeçš„å·¦å­æ ‘ä¸å˜ï¼ŒleftRçš„å·¦å­æ ‘ä½œä¸ºleftRçš„çˆ¶ç»“ç‚¹çš„å³å­©å­ç»“ç‚¹ if(prev != leftR) &#123; prev.right = leftR.left; &#125; else &#123; // è‹¥æ˜¯leftRçš„å·¦å­æ ‘ï¼Œåˆ™nodeçš„å·¦å­æ ‘æŒ‡å‘leftRçš„å·¦å­æ ‘ node.left=leftR.right; &#125; &#125; else &#123; // å¦‚æžœèŠ‚ç‚¹æœ‰å·¦å­æ ‘ï¼Œç›´æŽ¥ç”¨nodeèŠ‚ç‚¹çš„å³å­©å­å–ä»£å®ƒ node = node.right; &#125;&#125; åˆ é™¤æ“ä½œçš„æ­¥éª¤å¦‚ä¸‹ï¼š æŸ¥æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹ã€‚ å¦‚æžœå¾…åˆ é™¤çš„èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹ï¼Œå³PL(å·¦å­æ ‘)å’ŒPR(å³å­æ ‘)å‡ä¸ºç©ºæ ‘ï¼Œç”±äºŽåˆ åŽ»å¶å­ç»“ç‚¹ä¸ç ´åæ•´æ£µæ ‘çš„ç»“æž„ï¼Œåˆ™ç›´æŽ¥åˆ é™¤ã€‚ å¦‚æžœå¾…åˆ é™¤çš„èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œåˆ™å…ˆæ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹çš„ä¸­åºéåŽ†çš„åŽç»§èŠ‚ç‚¹ï¼Œç”¨è¯¥åŽç»§èŠ‚ç‚¹çš„å€¼æ›¿æ¢å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„å€¼ï¼Œç„¶åŽåˆ é™¤åŽç»§èŠ‚ç‚¹ã€‚ å­˜åœ¨çš„å¼Šç«¯BSTå­˜åœ¨çš„ä¸»è¦é—®é¢˜æ˜¯ï¼Œæ•°åœ¨æ’å…¥çš„æ—¶å€™ä¼šå¯¼è‡´æ ‘å€¾æ–œï¼Œä¸åŒçš„æ’å…¥é¡ºåºä¼šå¯¼è‡´æ ‘çš„é«˜åº¦ä¸ä¸€æ ·ï¼Œè€Œæ ‘çš„é«˜åº¦ç›´æŽ¥çš„å½±å“äº†æ ‘çš„æŸ¥æ‰¾æ•ˆçŽ‡ã€‚ç†æƒ³çš„é«˜åº¦æ˜¯logNï¼Œæœ€åçš„æƒ…å†µæ˜¯æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½åœ¨ä¸€æ¡æ–œçº¿ä¸Šï¼Œè¿™æ ·çš„æ ‘çš„é«˜åº¦ä¸ºNã€‚ ä»‹äºŽä»¥ä¸Šçš„å¼Šç«¯ï¼Œæˆ‘ä»¬æœ‰å…¶ä»–æ–°çš„çš„æ ‘ç»“æž„é€‰æ‹©ï¼šSize Balanced Tree(SBT)ã€AVLæ ‘ã€RBçº¢é»‘æ ‘ã€Treap(Tree+Heap)ã€‚è¿™äº›å‡å¯ä»¥ä½¿æŸ¥æ‰¾æ ‘çš„é«˜åº¦ä¸ºO(log(n))ã€‚ RBçº¢é»‘æ ‘åŸºæœ¬æ¦‚å¿µ çº¢é»‘æ ‘ï¼ˆRed Black Treeï¼‰ æ˜¯ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œåˆç§°å¯¹ç§°äºŒå‰Bæ ‘ï¼Œæ˜¯åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ç”¨åˆ°çš„ä¸€ç§æ•°æ®ç»“æž„ï¼Œå…¸åž‹çš„ç”¨é€”æ˜¯å®žçŽ°å…³è”æ•°ç»„ã€‚ å®ƒæ˜¯åœ¨1972å¹´ç”±Rudolf Bayerå‘æ˜Žçš„ï¼Œå½“æ—¶è¢«ç§°ä¸ºå¹³è¡¡äºŒå‰Bæ ‘ï¼ˆsymmetric binary B-treesï¼‰ã€‚åŽæ¥ï¼Œåœ¨1978å¹´è¢« Leo J. Guibas å’Œ Robert Sedgewick ä¿®æ”¹ä¸ºå¦‚ä»Šçš„â€œçº¢é»‘æ ‘â€ã€‚ çº¢é»‘æ ‘å’ŒAVLæ ‘ç±»ä¼¼ï¼Œéƒ½æ˜¯åœ¨è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶é€šè¿‡ç‰¹å®šæ“ä½œä¿æŒäºŒå‰æŸ¥æ‰¾æ ‘çš„å¹³è¡¡ï¼Œä»Žè€ŒèŽ·å¾—è¾ƒé«˜çš„æŸ¥æ‰¾æ€§èƒ½ã€‚ å®ƒè™½ç„¶æ˜¯å¤æ‚çš„ï¼Œä½†å®ƒçš„æœ€åæƒ…å†µè¿è¡Œæ—¶é—´ä¹Ÿæ˜¯éžå¸¸è‰¯å¥½çš„ï¼Œå¹¶ä¸”åœ¨å®žè·µä¸­æ˜¯é«˜æ•ˆçš„ï¼š å®ƒå¯ä»¥åœ¨O(log n)æ—¶é—´å†…åšæŸ¥æ‰¾ï¼Œæ’å…¥å’Œåˆ é™¤ï¼Œè¿™é‡Œçš„n æ˜¯æ ‘ä¸­å…ƒç´ çš„æ•°ç›®ã€‚ åŸºäºŽBSTå­˜åœ¨çš„é—®é¢˜ï¼Œä¸€ç§æ–°çš„æ ‘â€”â€”å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘(Balanced BST)äº§ç”Ÿäº†ã€‚å¹³è¡¡æ ‘åœ¨æ’å…¥å’Œåˆ é™¤çš„æ—¶å€™ï¼Œä¼šé€šè¿‡æ—‹è½¬æ“ä½œå°†é«˜åº¦ä¿æŒåœ¨logNã€‚å…¶ä¸­ä¸¤æ¬¾å…·æœ‰ä»£è¡¨æ€§çš„å¹³è¡¡æ ‘åˆ†åˆ«ä¸ºAVLæ ‘å’Œçº¢é»‘æ ‘ã€‚AVLæ ‘ç”±äºŽå®žçŽ°æ¯”è¾ƒå¤æ‚ï¼Œè€Œä¸”æ’å…¥å’Œåˆ é™¤æ€§èƒ½å·®ï¼Œåœ¨å®žé™…çŽ¯å¢ƒä¸‹çš„åº”ç”¨ä¸å¦‚çº¢é»‘æ ‘ã€‚ çº¢é»‘æ ‘ï¼ˆRed-Black Treeï¼Œä»¥ä¸‹ç®€ç§°RBTreeï¼‰çš„å®žé™…åº”ç”¨éžå¸¸å¹¿æ³›ï¼Œæ¯”å¦‚Linuxå†…æ ¸ä¸­çš„å®Œå…¨å…¬å¹³è°ƒåº¦å™¨ã€é«˜ç²¾åº¦è®¡æ—¶å™¨ã€ext3æ–‡ä»¶ç³»ç»Ÿç­‰ç­‰ï¼Œå„ç§è¯­è¨€çš„å‡½æ•°åº“å¦‚Javaçš„TreeMapå’ŒTreeSetï¼ŒC++ STLçš„mapã€multimapã€multisetç­‰ã€‚ RBTreeä¹Ÿæ˜¯å‡½æ•°å¼è¯­è¨€ä¸­æœ€å¸¸ç”¨çš„æŒä¹…æ•°æ®ç»“æž„ä¹‹ä¸€ï¼Œåœ¨è®¡ç®—å‡ ä½•ä¸­ä¹Ÿæœ‰é‡è¦ä½œç”¨ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒJava 8ä¸­HashMapçš„å®žçŽ°ä¹Ÿå› ä¸ºç”¨RBTreeå–ä»£é“¾è¡¨ï¼Œæ€§èƒ½æœ‰æ‰€æå‡ã€‚ åŸºæœ¬å®šä¹‰RBTreeçš„å®šä¹‰å¦‚ä¸‹: ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹éƒ½æœ‰é¢œè‰²ï¼Œé»‘è‰²æˆ–è€…çº¢è‰²ï¼› æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ï¼› çˆ¶å­èŠ‚ç‚¹ä¹‹é—´ä¸èƒ½å‡ºçŽ°ä¸¤ä¸ªè¿žç»­çš„çº¢èŠ‚ç‚¹ ï¼› ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹å‘ä¸‹éåŽ†åˆ°å…¶å­å­™çš„å¶å­èŠ‚ç‚¹ï¼Œæ‰€ç»è¿‡çš„é»‘èŠ‚ç‚¹ä¸ªæ•°å¿…é¡»ç›¸ç­‰ ï¼› ç©ºèŠ‚ç‚¹è¢«è®¤ä¸ºæ˜¯é»‘è‰²çš„ã€‚ æ•°æ®ç»“æž„è¡¨ç¤ºå¦‚ä¸‹ï¼š 1234567lass Node&lt;T&gt;&#123; public T value; public Node&lt;T&gt; parent; public boolean isRed; public Node&lt;T&gt; left; public Node&lt;T&gt; right;&#125; RBTreeåœ¨ç†è®ºä¸Šè¿˜æ˜¯ä¸€æ£µBSTæ ‘ï¼Œä½†æ˜¯å®ƒåœ¨å¯¹BSTçš„æ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶ä¼šç»´æŒæ ‘çš„å¹³è¡¡ï¼Œå³ä¿è¯æ ‘çš„é«˜åº¦åœ¨[logN,logN+1]ï¼ˆç†è®ºä¸Šï¼Œæžç«¯çš„æƒ…å†µä¸‹å¯ä»¥å‡ºçŽ°RBTreeçš„é«˜åº¦è¾¾åˆ°2*logNï¼Œä½†å®žé™…ä¸Šå¾ˆéš¾é‡åˆ°ï¼‰ã€‚è¿™æ ·RBTreeçš„æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦å§‹ç»ˆä¿æŒåœ¨O(logN)ä»Žè€ŒæŽ¥è¿‘äºŽç†æƒ³çš„BSTã€‚RBTreeçš„åˆ é™¤å’Œæ’å…¥æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(logN)ã€‚RBTreeçš„æŸ¥æ‰¾æ“ä½œå°±æ˜¯BSTçš„æŸ¥æ‰¾æ“ä½œã€‚ åŸºæœ¬æ“ä½œæ—‹è½¬æ“ä½œæ—‹è½¬æ“ä½œ(Rotate)çš„ç›®çš„æ˜¯ä½¿èŠ‚ç‚¹é¢œè‰²ç¬¦åˆå®šä¹‰ï¼Œè®©RBTreeçš„é«˜åº¦è¾¾åˆ°å¹³è¡¡ã€‚ Rotateåˆ†ä¸ºleft-rotateï¼ˆå·¦æ—‹ï¼‰å’Œright-rotateï¼ˆå³æ—‹ï¼‰ï¼ŒåŒºåˆ†å·¦æ—‹å’Œå³æ—‹çš„æ–¹æ³•æ˜¯ï¼šå¾…æ—‹è½¬çš„èŠ‚ç‚¹ä»Žå·¦è¾¹ä¸Šå‡åˆ°çˆ¶èŠ‚ç‚¹å°±æ˜¯å³æ—‹ï¼Œå¾…æ—‹è½¬çš„èŠ‚ç‚¹ä»Žå³è¾¹ä¸Šå‡åˆ°çˆ¶èŠ‚ç‚¹å°±æ˜¯å·¦æ—‹ã€‚ æŸ¥æ‰¾æ“ä½œRBTreeçš„æŸ¥æ‰¾æ“ä½œå’ŒBSTçš„æŸ¥æ‰¾æ“ä½œæ˜¯ä¸€æ ·çš„ã€‚è¯·å‚è€ƒBSTçš„æŸ¥æ‰¾æ“ä½œä»£ç ã€‚ æ’å…¥æ“ä½œRBTreeçš„æ’å…¥ä¸ŽBSTçš„æ’å…¥æ–¹å¼æ˜¯ä¸€è‡´çš„ï¼Œåªä¸è¿‡æ˜¯åœ¨æ’å…¥è¿‡åŽï¼Œå¯èƒ½ä¼šå¯¼è‡´æ ‘çš„ä¸å¹³è¡¡ï¼Œè¿™æ—¶å°±éœ€è¦å¯¹æ ‘è¿›è¡Œæ—‹è½¬æ“ä½œå’Œé¢œè‰²ä¿®å¤ï¼ˆåœ¨è¿™é‡Œç®€ç§°æ’å…¥ä¿®å¤ï¼‰ï¼Œä½¿å¾—å®ƒç¬¦åˆRBTreeçš„å®šä¹‰ã€‚ æ–°æ’å…¥çš„èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œæ’å…¥ä¿®å¤æ“ä½œå¦‚æžœé‡åˆ°çˆ¶èŠ‚ç‚¹çš„é¢œè‰²ä¸ºé»‘åˆ™ä¿®å¤æ“ä½œç»“æŸã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åœ¨çˆ¶èŠ‚ç‚¹ä¸ºçº¢è‰²èŠ‚ç‚¹çš„æ—¶å€™æ˜¯éœ€è¦æ’å…¥ä¿®å¤æ“ä½œçš„ã€‚ æ’å…¥ä¿®å¤æ“ä½œåˆ†ä¸ºä»¥ä¸‹çš„ä¸‰ç§æƒ…å†µï¼Œè€Œä¸”æ–°æ’å…¥çš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯çº¢è‰²çš„ï¼š å”å”èŠ‚ç‚¹ä¹Ÿä¸ºçº¢è‰²ã€‚ å”å”èŠ‚ç‚¹ä¸ºç©ºï¼Œä¸”ç¥–çˆ¶èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹å¤„äºŽä¸€æ¡æ–œçº¿ä¸Šã€‚ å”å”èŠ‚ç‚¹ä¸ºç©ºï¼Œä¸”ç¥–çˆ¶èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹ä¸å¤„äºŽä¸€æ¡æ–œçº¿ä¸Šã€‚ æ’å…¥æ“ä½œç¤ºä¾‹1 ç¤ºä¾‹1çš„æ“ä½œæ˜¯å°†çˆ¶èŠ‚ç‚¹å’Œå”å”èŠ‚ç‚¹ä¸Žç¥–çˆ¶èŠ‚ç‚¹çš„é¢œè‰²äº’æ¢ï¼Œè¿™æ ·å°±ç¬¦åˆäº†RBTReeçš„å®šä¹‰ã€‚å³ç»´æŒäº†é«˜åº¦çš„å¹³è¡¡ï¼Œä¿®å¤åŽé¢œè‰²ä¹Ÿç¬¦åˆRBTreeå®šä¹‰çš„ç¬¬ä¸‰æ¡å’Œç¬¬å››æ¡ã€‚ä¸‹å›¾ä¸­ï¼Œæ“ä½œå®ŒæˆåŽAèŠ‚ç‚¹å˜æˆäº†æ–°çš„èŠ‚ç‚¹ã€‚å¦‚æžœAèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸æ˜¯é»‘è‰²çš„è¯ï¼Œåˆ™ç»§ç»­åšä¿®å¤æ“ä½œã€‚ æ’å…¥æ“ä½œç¤ºä¾‹2 ç¤ºä¾‹2çš„æ“ä½œæ˜¯å°†BèŠ‚ç‚¹è¿›è¡Œå³æ—‹æ“ä½œï¼Œå¹¶ä¸”å’Œçˆ¶èŠ‚ç‚¹Aäº’æ¢é¢œè‰²ã€‚é€šè¿‡è¯¥ä¿®å¤æ“ä½œRBTReeçš„é«˜åº¦å’Œé¢œè‰²éƒ½ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ã€‚å¦‚æžœBå’ŒCèŠ‚ç‚¹éƒ½æ˜¯å³èŠ‚ç‚¹çš„è¯ï¼Œåªè¦å°†æ“ä½œå˜æˆå·¦æ—‹å°±å¯ä»¥äº†ã€‚ æ’å…¥æ“ä½œç¤ºä¾‹3 ç¤ºä¾‹ 3çš„æ“ä½œæ˜¯å°†CèŠ‚ç‚¹è¿›è¡Œå·¦æ—‹ï¼Œè¿™æ ·å°±ä»Žç¤ºä¾‹ 3è½¬æ¢æˆç¤ºä¾‹ 2äº†ï¼Œç„¶åŽé’ˆå¯¹ç¤ºä¾‹ 2è¿›è¡Œæ“ä½œå¤„ç†å°±è¡Œäº†ã€‚ç¤ºä¾‹ 2æ“ä½œåšäº†ä¸€ä¸ªå³æ—‹æ“ä½œå’Œé¢œè‰²äº’æ¢æ¥è¾¾åˆ°ç›®çš„ã€‚å¦‚æžœæ ‘çš„ç»“æž„æ˜¯ä¸‹å›¾çš„é•œåƒç»“æž„ï¼Œåˆ™åªéœ€è¦å°†å¯¹åº”çš„å·¦æ—‹å˜æˆå³æ—‹ï¼Œå³æ—‹å˜æˆå·¦æ—‹å³å¯ã€‚ æ’å…¥æ“ä½œçš„æ€»ç»“: æ’å…¥åŽçš„ä¿®å¤æ“ä½œæ˜¯ä¸€ä¸ªå‘rootèŠ‚ç‚¹å›žæº¯çš„æ“ä½œï¼Œä¸€æ—¦ç‰µæ¶‰çš„èŠ‚ç‚¹éƒ½ç¬¦åˆäº†çº¢é»‘æ ‘çš„å®šä¹‰ï¼Œä¿®å¤æ“ä½œç»“æŸã€‚ä¹‹æ‰€ä»¥ä¼šå‘ä¸Šå›žæº¯æ˜¯ç”±äºŽç¤ºä¾‹ 1æ“ä½œä¼šå°†çˆ¶èŠ‚ç‚¹ï¼Œå”å”èŠ‚ç‚¹å’Œç¥–çˆ¶èŠ‚ç‚¹è¿›è¡Œæ¢é¢œè‰²ï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´ç¥–çˆ¶èŠ‚ç‚¹ä¸å¹³è¡¡(çº¢é»‘æ ‘å®šä¹‰3)ã€‚è¿™ä¸ªæ—¶å€™éœ€è¦å¯¹ç¥–çˆ¶èŠ‚ç‚¹ä¸ºèµ·ç‚¹è¿›è¡Œè°ƒèŠ‚ï¼ˆå‘ä¸Šå›žæº¯ï¼‰ã€‚ ç¥–çˆ¶èŠ‚ç‚¹è°ƒèŠ‚åŽå¦‚æžœè¿˜æ˜¯é‡åˆ°å®ƒçš„ç¥–çˆ¶é¢œè‰²é—®é¢˜ï¼Œæ“ä½œå°±ä¼šç»§ç»­å‘ä¸Šå›žæº¯ï¼Œç›´åˆ°rootèŠ‚ç‚¹ä¸ºæ­¢ï¼Œæ ¹æ®å®šä¹‰rootèŠ‚ç‚¹æ°¸è¿œæ˜¯é»‘è‰²çš„ã€‚åœ¨å‘ä¸Šçš„è¿½æº¯çš„è¿‡ç¨‹ä¸­ï¼Œé’ˆå¯¹æ’å…¥çš„3ä¸­æƒ…å†µè¿›è¡Œè°ƒèŠ‚ã€‚ç›´åˆ°ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ä¸ºæ­¢ã€‚ç›´åˆ°ç‰µæ¶‰çš„èŠ‚ç‚¹éƒ½ç¬¦åˆäº†çº¢é»‘æ ‘çš„å®šä¹‰ï¼Œä¿®å¤æ“ä½œç»“æŸã€‚ å¦‚æžœä¸Šé¢çš„3ä¸­æƒ…å†µå¦‚æžœå¯¹åº”çš„æ“ä½œæ˜¯åœ¨å³å­æ ‘ä¸Šï¼Œåšå¯¹åº”çš„é•œåƒæ“ä½œå°±æ˜¯äº†ã€‚ åˆ é™¤æ“ä½œåˆ é™¤æ“ä½œé¦–å…ˆéœ€è¦åšçš„ä¹Ÿæ˜¯BSTçš„åˆ é™¤æ“ä½œï¼Œåˆ é™¤æ“ä½œä¼šåˆ é™¤å¯¹åº”çš„èŠ‚ç‚¹ï¼Œå¦‚æžœæ˜¯å¶å­èŠ‚ç‚¹å°±ç›´æŽ¥åˆ é™¤ï¼Œå¦‚æžœæ˜¯éžå¶å­èŠ‚ç‚¹ï¼Œä¼šç”¨å¯¹åº”çš„ä¸­åºéåŽ†çš„åŽç»§èŠ‚ç‚¹æ¥é¡¶æ›¿è¦åˆ é™¤èŠ‚ç‚¹çš„ä½ç½®ã€‚åˆ é™¤åŽå°±éœ€è¦åšåˆ é™¤ä¿®å¤æ“ä½œï¼Œä½¿çš„æ ‘ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ï¼Œç¬¦åˆå®šä¹‰çš„çº¢é»‘æ ‘é«˜åº¦æ˜¯å¹³è¡¡çš„ã€‚ åˆ é™¤ä¿®å¤æ“ä½œåœ¨é‡åˆ°è¢«åˆ é™¤çš„èŠ‚ç‚¹æ˜¯çº¢è‰²èŠ‚ç‚¹æˆ–è€…åˆ°è¾¾rootèŠ‚ç‚¹æ—¶ï¼Œä¿®å¤æ“ä½œå®Œæ¯•ã€‚ åˆ é™¤ä¿®å¤æ“ä½œæ˜¯é’ˆå¯¹åˆ é™¤é»‘è‰²èŠ‚ç‚¹æ‰æœ‰çš„ï¼Œå½“é»‘è‰²èŠ‚ç‚¹è¢«åˆ é™¤åŽä¼šè®©æ•´ä¸ªæ ‘ä¸ç¬¦åˆRBTreeçš„å®šä¹‰çš„ç¬¬å››æ¡ã€‚éœ€è¦åšçš„å¤„ç†æ˜¯ä»Žå…„å¼ŸèŠ‚ç‚¹ä¸Šå€Ÿè°ƒé»‘è‰²çš„èŠ‚ç‚¹è¿‡æ¥ï¼Œå¦‚æžœå…„å¼ŸèŠ‚ç‚¹æ²¡æœ‰é»‘èŠ‚ç‚¹å¯ä»¥å€Ÿè°ƒçš„è¯ï¼Œå°±åªèƒ½å¾€ä¸Šè¿½æº¯ï¼Œå°†æ¯ä¸€çº§çš„é»‘èŠ‚ç‚¹æ•°å‡åŽ»ä¸€ä¸ªï¼Œä½¿å¾—æ•´æ£µæ ‘ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ã€‚ åˆ é™¤æ“ä½œçš„æ€»ä½“æ€æƒ³æ˜¯ä»Žå…„å¼ŸèŠ‚ç‚¹å€Ÿè°ƒé»‘è‰²èŠ‚ç‚¹ä½¿æ ‘ä¿æŒå±€éƒ¨çš„å¹³è¡¡ï¼Œå¦‚æžœå±€éƒ¨çš„å¹³è¡¡è¾¾åˆ°äº†ï¼Œå°±çœ‹æ•´ä½“çš„æ ‘æ˜¯å¦æ˜¯å¹³è¡¡çš„ï¼Œå¦‚æžœä¸å¹³è¡¡å°±æŽ¥ç€å‘ä¸Šè¿½æº¯è°ƒæ•´ã€‚ åˆ é™¤ä¿®å¤æ“ä½œåˆ†ä¸ºå››ç§æƒ…å†µ(åˆ é™¤é»‘èŠ‚ç‚¹åŽ)ï¼š å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²çš„èŠ‚ç‚¹ã€‚ å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²çš„èŠ‚ç‚¹ï¼Œä¸”å…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ã€‚ å¾…è°ƒæ•´çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²çš„èŠ‚ç‚¹ï¼Œä¸”å…„å¼ŸèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œå³èŠ‚ç‚¹æ˜¯é»‘è‰²çš„(å…„å¼ŸèŠ‚ç‚¹åœ¨å³è¾¹)ï¼Œ å¦‚æžœå…„å¼ŸèŠ‚ç‚¹åœ¨å·¦è¾¹çš„è¯ï¼Œå°±æ˜¯å…„å¼ŸèŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œå·¦èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ã€‚ å¾…è°ƒæ•´çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²çš„èŠ‚ç‚¹ï¼Œä¸”å³å­èŠ‚ç‚¹æ˜¯æ˜¯çº¢è‰²çš„(å…„å¼ŸèŠ‚ç‚¹åœ¨å³è¾¹)ï¼Œå¦‚æžœå…„å¼ŸèŠ‚ç‚¹åœ¨å·¦è¾¹ï¼Œåˆ™å°±æ˜¯å¯¹åº”çš„å°±æ˜¯å·¦èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ã€‚ åˆ é™¤æ“ä½œç¤ºä¾‹1 ç”±äºŽå…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²èŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ— æ³•å€Ÿè°ƒé»‘èŠ‚ç‚¹ï¼Œæ‰€ä»¥éœ€è¦å°†å…„å¼ŸèŠ‚ç‚¹æå‡åˆ°çˆ¶èŠ‚ç‚¹ï¼Œç”±äºŽå…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œæ ¹æ®RBTreeçš„å®šä¹‰ï¼Œå…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ï¼Œå°±å¯ä»¥ä»Žå®ƒçš„å­èŠ‚ç‚¹å€Ÿè°ƒäº†ã€‚ ç¤ºä¾‹1è¿™æ ·è½¬æ¢ä¹‹åŽå°±ä¼šå˜æˆåŽé¢çš„ç¤ºä¾‹2ï¼Œç¤ºä¾‹3ï¼Œæˆ–è€…ç¤ºä¾‹4è¿›è¡Œå¤„ç†äº†ã€‚ä¸Šå‡æ“ä½œéœ€è¦å¯¹Cåšä¸€ä¸ªå·¦æ—‹æ“ä½œï¼Œå¦‚æžœæ˜¯é•œåƒç»“æž„çš„æ ‘åªéœ€è¦åšå¯¹åº”çš„å³æ—‹æ“ä½œå³å¯ã€‚ ä¹‹æ‰€ä»¥è¦åšç¤ºä¾‹1æ“ä½œæ˜¯å› ä¸ºå…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œæ— æ³•å€Ÿåˆ°ä¸€ä¸ªé»‘èŠ‚ç‚¹æ¥å¡«è¡¥åˆ é™¤çš„é»‘èŠ‚ç‚¹ã€‚ åˆ é™¤æ“ä½œç¤ºä¾‹2 ç¤ºä¾‹2çš„åˆ é™¤æ“ä½œæ˜¯ç”±äºŽå…„å¼ŸèŠ‚ç‚¹å¯ä»¥æ¶ˆé™¤ä¸€ä¸ªé»‘è‰²èŠ‚ç‚¹ï¼Œå› ä¸ºå…„å¼ŸèŠ‚ç‚¹å’Œå…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ï¼Œæ‰€ä»¥å¯ä»¥å°†å…„å¼ŸèŠ‚ç‚¹å˜çº¢ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯æ ‘çš„å±€éƒ¨çš„é¢œè‰²ç¬¦åˆå®šä¹‰äº†ã€‚è¿™ä¸ªæ—¶å€™éœ€è¦å°†çˆ¶èŠ‚ç‚¹Aå˜æˆæ–°çš„èŠ‚ç‚¹ï¼Œç»§ç»­å‘ä¸Šè°ƒæ•´ï¼Œç›´åˆ°æ•´é¢—æ ‘çš„é¢œè‰²ç¬¦åˆRBTreeçš„å®šä¹‰ä¸ºæ­¢ã€‚ ç¤ºä¾‹2è¿™ç§æƒ…å†µä¸‹ä¹‹æ‰€ä»¥è¦å°†å…„å¼ŸèŠ‚ç‚¹å˜çº¢ï¼Œæ˜¯å› ä¸ºå¦‚æžœæŠŠå…„å¼ŸèŠ‚ç‚¹å€Ÿè°ƒè¿‡æ¥ï¼Œä¼šå¯¼è‡´å…„å¼Ÿçš„ç»“æž„ä¸ç¬¦åˆRBTreeçš„å®šä¹‰ï¼Œè¿™æ ·çš„æƒ…å†µä¸‹åªèƒ½æ˜¯å°†å…„å¼ŸèŠ‚ç‚¹ä¹Ÿå˜æˆçº¢è‰²æ¥è¾¾åˆ°é¢œè‰²çš„å¹³è¡¡ã€‚å½“å°†å…„å¼ŸèŠ‚ç‚¹ä¹Ÿå˜çº¢ä¹‹åŽï¼Œè¾¾åˆ°äº†å±€éƒ¨çš„å¹³è¡¡äº†ï¼Œä½†æ˜¯å¯¹äºŽç¥–çˆ¶èŠ‚ç‚¹æ¥è¯´æ˜¯ä¸ç¬¦åˆå®šä¹‰4çš„ã€‚è¿™æ ·å°±éœ€è¦å›žæº¯åˆ°çˆ¶èŠ‚ç‚¹ï¼ŒæŽ¥ç€è¿›è¡Œä¿®å¤æ“ä½œã€‚ åˆ é™¤æ“ä½œç¤ºä¾‹3 ç¤ºä¾‹3çš„åˆ é™¤æ“ä½œæ˜¯ä¸€ä¸ªä¸­é—´æ­¥éª¤ï¼Œå®ƒçš„ç›®çš„æ˜¯å°†å·¦è¾¹çš„çº¢è‰²èŠ‚ç‚¹å€Ÿè°ƒè¿‡æ¥ï¼Œè¿™æ ·å°±å¯ä»¥è½¬æ¢æˆç¤ºä¾‹4çŠ¶æ€äº†ï¼Œåœ¨ç¤ºä¾‹4çŠ¶æ€ä¸‹å¯ä»¥å°†Dï¼ŒEèŠ‚ç‚¹éƒ½é˜¶æ®µè¿‡æ¥ï¼Œé€šè¿‡å°†ä¸¤ä¸ªèŠ‚ç‚¹å˜æˆé»‘è‰²æ¥ä¿è¯çº¢é»‘æ ‘çš„æ•´ä½“å¹³è¡¡ã€‚ ä¹‹æ‰€ä»¥è¯´case-3æ˜¯ä¸€ä¸ªä¸­é—´çŠ¶æ€ï¼Œæ˜¯å› ä¸ºæ ¹æ®çº¢é»‘æ ‘çš„å®šä¹‰æ¥è¯´ï¼Œä¸‹å›¾å¹¶ä¸æ˜¯å¹³è¡¡çš„ï¼Œä»–æ˜¯é€šè¿‡ç¤ºä¾‹2æ“ä½œå®ŒåŽå‘ä¸Šå›žæº¯å‡ºçŽ°çš„çŠ¶æ€ã€‚ä¹‹æ‰€ä»¥ä¼šå‡ºçŽ°ç¤ºä¾‹3å’ŒåŽé¢çš„ç¤ºä¾‹4çš„æƒ…å†µï¼Œæ˜¯å› ä¸ºå¯ä»¥é€šè¿‡å€Ÿç”¨ä¾„å­èŠ‚ç‚¹çš„çº¢è‰²ï¼Œå˜æˆé»‘è‰²æ¥ç¬¦åˆçº¢é»‘æ ‘å®šä¹‰4. åˆ é™¤æ“ä½œç¤ºä¾‹4 ç¤ºä¾‹4çš„æ“ä½œæ˜¯çœŸæ­£çš„èŠ‚ç‚¹å€Ÿè°ƒæ“ä½œï¼Œé€šè¿‡å°†å…„å¼ŸèŠ‚ç‚¹ä»¥åŠå…„å¼ŸèŠ‚ç‚¹çš„å³èŠ‚ç‚¹å€Ÿè°ƒè¿‡æ¥ï¼Œå¹¶å°†å…„å¼ŸèŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹å˜æˆçº¢è‰²æ¥è¾¾åˆ°å€Ÿè°ƒä¸¤ä¸ªé»‘èŠ‚ç‚¹çš„ç›®çš„ï¼Œè¿™æ ·çš„è¯ï¼Œæ•´æ£µæ ‘è¿˜æ˜¯ç¬¦åˆRBTreeçš„å®šä¹‰çš„ã€‚ ç¤ºä¾‹4è¿™ç§æƒ…å†µçš„å‘ç”Ÿåªæœ‰åœ¨å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹ä¸ºé»‘ï¼Œä¸”å­èŠ‚ç‚¹ä¸å…¨éƒ¨ä¸ºé»‘ï¼Œæ‰æœ‰å¯èƒ½å€Ÿè°ƒåˆ°ä¸¤ä¸ªèŠ‚ç‚¹æ¥åšé»‘èŠ‚ç‚¹ä½¿ç”¨ï¼Œä»Žè€Œä¿æŒæ•´æ£µæ ‘éƒ½ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ã€‚ åˆ é™¤æ“ä½œçš„æ€»ç»“: çº¢é»‘æ ‘çš„åˆ é™¤æ“ä½œæ˜¯æœ€å¤æ‚çš„æ“ä½œï¼Œå¤æ‚çš„åœ°æ–¹å°±åœ¨äºŽå½“åˆ é™¤äº†é»‘è‰²èŠ‚ç‚¹çš„æ—¶å€™ï¼Œå¦‚ä½•ä»Žå…„å¼ŸèŠ‚ç‚¹åŽ»å€Ÿè°ƒèŠ‚ç‚¹ï¼Œä»¥ä¿è¯æ ‘çš„é¢œè‰²ç¬¦åˆå®šä¹‰ã€‚ç”±äºŽçº¢è‰²çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯æ²¡æ³•å€Ÿè°ƒå‡ºé»‘èŠ‚ç‚¹çš„ï¼Œè¿™æ ·åªèƒ½é€šè¿‡é€‰æ‹©æ“ä½œè®©ä»–ä¸Šå‡åˆ°çˆ¶èŠ‚ç‚¹ï¼Œè€Œç”±äºŽå®ƒæ˜¯çº¢èŠ‚ç‚¹ï¼Œæ‰€ä»¥å®ƒçš„å­èŠ‚ç‚¹å°±æ˜¯é»‘çš„ï¼Œå¯ä»¥å€Ÿè°ƒã€‚ å¯¹äºŽå…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²èŠ‚ç‚¹çš„å¯ä»¥åˆ†æˆ3ç§æƒ…å†µæ¥å¤„ç†ï¼Œå½“æ‰€ä»¥çš„å…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²èŠ‚ç‚¹æ—¶ï¼Œå¯ä»¥ç›´æŽ¥å°†å…„å¼ŸèŠ‚ç‚¹å˜çº¢ï¼Œè¿™æ ·å±€éƒ¨çš„çº¢é»‘æ ‘é¢œè‰²æ˜¯ç¬¦åˆå®šä¹‰çš„ã€‚ä½†æ˜¯æ•´é¢—æ ‘ä¸ä¸€å®šæ˜¯ç¬¦åˆçº¢é»‘æ ‘å®šä¹‰çš„ï¼Œéœ€è¦å¾€ä¸Šè¿½æº¯ç»§ç»­è°ƒæ•´ã€‚ å¯¹äºŽå…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¸ºå·¦çº¢å³é»‘æˆ–è€… (å…¨éƒ¨ä¸ºçº¢ï¼Œå³çº¢å·¦é»‘)è¿™ä¸¤ç§æƒ…å†µï¼Œå¯ä»¥å…ˆå°†å‰é¢çš„æƒ…å†µé€šè¿‡é€‰æ‹©è½¬æ¢ä¸ºåŽä¸€ç§æƒ…å†µï¼Œåœ¨åŽä¸€ç§æƒ…å†µä¸‹ï¼Œå› ä¸ºå…„å¼ŸèŠ‚ç‚¹ä¸ºé»‘ï¼Œå…„å¼ŸèŠ‚ç‚¹çš„å³èŠ‚ç‚¹ä¸ºçº¢ï¼Œå¯ä»¥å€Ÿè°ƒå‡ºä¸¤ä¸ªèŠ‚ç‚¹å‡ºæ¥åšé»‘èŠ‚ç‚¹ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯åˆ é™¤äº†é»‘èŠ‚ç‚¹ï¼Œæ•´æ£µæ ‘è¿˜æ˜¯ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰çš„ï¼Œå› ä¸ºé»‘è‰²èŠ‚ç‚¹çš„ä¸ªæ•°æ²¡æœ‰æ”¹å˜ã€‚ çº¢é»‘æ ‘çš„åˆ é™¤æ“ä½œæ˜¯é‡åˆ°åˆ é™¤çš„èŠ‚ç‚¹ä¸ºçº¢è‰²ï¼Œæˆ–è€…è¿½æº¯è°ƒæ•´åˆ°äº†rootèŠ‚ç‚¹ï¼Œè¿™æ—¶åˆ é™¤çš„ä¿®å¤æ“ä½œå®Œæ¯•ã€‚ RBçº¢é»‘æ ‘çš„Javaå®žçŽ°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584public class RBTreeNode&lt;T extends Comparable&lt;T&gt;&gt; &#123; private T value;//node value private RBTreeNode&lt;T&gt; left;//left child pointer private RBTreeNode&lt;T&gt; right;//right child pointer private RBTreeNode&lt;T&gt; parent;//parent pointer private boolean red;//color is red or not red public RBTreeNode()&#123;&#125; public RBTreeNode(T value)&#123;this.value=value;&#125; public RBTreeNode(T value,boolean isRed)&#123;this.value=value;this.red = isRed;&#125; public T getValue() &#123; return value; &#125; void setValue(T value) &#123; this.value = value; &#125; RBTreeNode&lt;T&gt; getLeft() &#123; return left; &#125; void setLeft(RBTreeNode&lt;T&gt; left) &#123; this.left = left; &#125; RBTreeNode&lt;T&gt; getRight() &#123; return right; &#125; void setRight(RBTreeNode&lt;T&gt; right) &#123; this.right = right; &#125; RBTreeNode&lt;T&gt; getParent() &#123; return parent; &#125; void setParent(RBTreeNode&lt;T&gt; parent) &#123; this.parent = parent; &#125; boolean isRed() &#123; return red; &#125; boolean isBlack()&#123; return !red; &#125; /** * is leaf node **/ boolean isLeaf()&#123; return left==null &amp;&amp; right==null; &#125; void setRed(boolean red) &#123; this.red = red; &#125; void makeRed()&#123; red=true; &#125; void makeBlack()&#123; red=false; &#125; @Override public String toString()&#123; return value.toString(); &#125;&#125;public class RBTree&lt;T extends Comparable&lt;T&gt;&gt; &#123; private final RBTreeNode&lt;T&gt; root; //node number private java.util.concurrent.atomic.AtomicLong size = new java.util.concurrent.atomic.AtomicLong(0); //in overwrite mode,all node's value can not has same value //in non-overwrite mode,node can have same value, suggest don't use non-overwrite mode. private volatile boolean overrideMode=true; public RBTree()&#123; this.root = new RBTreeNode&lt;T&gt;(); &#125; public RBTree(boolean overrideMode)&#123; this(); this.overrideMode=overrideMode; &#125; public boolean isOverrideMode() &#123; return overrideMode; &#125; public void setOverrideMode(boolean overrideMode) &#123; this.overrideMode = overrideMode; &#125; /** * number of tree number * @return */ public long getSize() &#123; return size.get(); &#125; /** * get the root node * @return */ private RBTreeNode&lt;T&gt; getRoot()&#123; return root.getLeft(); &#125; /** * add value to a new node,if this value exist in this tree, * if value exist,it will return the exist value.otherwise return null * if override mode is true,if value exist in the tree, * it will override the old value in the tree * * @param value * @return */ public T addNode(T value)&#123; RBTreeNode&lt;T&gt; t = new RBTreeNode&lt;T&gt;(value); return addNode(t); &#125; /** * find the value by give value(include key,key used for search, * other field is not used,@see compare method).if this value not exist return null * @param value * @return */ public T find(T value)&#123; RBTreeNode&lt;T&gt; dataRoot = getRoot(); while(dataRoot!=null)&#123; int cmp = dataRoot.getValue().compareTo(value); if(cmp&lt;0)&#123; dataRoot = dataRoot.getRight(); &#125;else if(cmp&gt;0)&#123; dataRoot = dataRoot.getLeft(); &#125;else&#123; return dataRoot.getValue(); &#125; &#125; return null; &#125; /** * remove the node by give value,if this value not exists in tree return null * @param value include search key * @return the value contain in the removed node */ public T remove(T value)&#123; RBTreeNode&lt;T&gt; dataRoot = getRoot(); RBTreeNode&lt;T&gt; parent = root; while(dataRoot!=null)&#123; int cmp = dataRoot.getValue().compareTo(value); if(cmp&lt;0)&#123; parent = dataRoot; dataRoot = dataRoot.getRight(); &#125;else if(cmp&gt;0)&#123; parent = dataRoot; dataRoot = dataRoot.getLeft(); &#125;else&#123; if(dataRoot.getRight()!=null)&#123; RBTreeNode&lt;T&gt; min = removeMin(dataRoot.getRight()); //x used for fix color balance RBTreeNode&lt;T&gt; x = min.getRight()==null ? min.getParent() : min.getRight(); boolean isParent = min.getRight()==null; min.setLeft(dataRoot.getLeft()); setParent(dataRoot.getLeft(),min); if(parent.getLeft()==dataRoot)&#123; parent.setLeft(min); &#125;else&#123; parent.setRight(min); &#125; setParent(min,parent); boolean curMinIsBlack = min.isBlack(); //inherit dataRoot's color min.setRed(dataRoot.isRed()); if(min!=dataRoot.getRight())&#123; min.setRight(dataRoot.getRight()); setParent(dataRoot.getRight(),min); &#125; //remove a black node,need fix color if(curMinIsBlack)&#123; if(min!=dataRoot.getRight())&#123; fixRemove(x,isParent); &#125;else if(min.getRight()!=null)&#123; fixRemove(min.getRight(),false); &#125;else&#123; fixRemove(min,true); &#125; &#125; &#125;else&#123; setParent(dataRoot.getLeft(),parent); if(parent.getLeft()==dataRoot)&#123; parent.setLeft(dataRoot.getLeft()); &#125;else&#123; parent.setRight(dataRoot.getLeft()); &#125; //current node is black and tree is not empty if(dataRoot.isBlack() &amp;&amp; !(root.getLeft()==null))&#123; RBTreeNode&lt;T&gt; x = dataRoot.getLeft()==null ? parent :dataRoot.getLeft(); boolean isParent = dataRoot.getLeft()==null; fixRemove(x,isParent); &#125; &#125; setParent(dataRoot,null); dataRoot.setLeft(null); dataRoot.setRight(null); if(getRoot()!=null)&#123; getRoot().setRed(false); getRoot().setParent(null); &#125; size.decrementAndGet(); return dataRoot.getValue(); &#125; &#125; return null; &#125; /** * fix remove action * @param node * @param isParent */ private void fixRemove(RBTreeNode&lt;T&gt; node,boolean isParent)&#123; RBTreeNode&lt;T&gt; cur = isParent ? null : node; boolean isRed = isParent ? false : node.isRed(); RBTreeNode&lt;T&gt; parent = isParent ? node : node.getParent(); while(!isRed &amp;&amp; !isRoot(cur))&#123; RBTreeNode&lt;T&gt; sibling = getSibling(cur,parent); //sibling is not null,due to before remove tree color is balance //if cur is a left node boolean isLeft = parent.getRight()==sibling; if(sibling.isRed() &amp;&amp; !isLeft)&#123;//ç¤ºä¾‹1 //cur in right parent.makeRed(); sibling.makeBlack(); rotateRight(parent); &#125;else if(sibling.isRed() &amp;&amp; isLeft)&#123; //cur in left parent.makeRed(); sibling.makeBlack(); rotateLeft(parent); &#125;else if(isBlack(sibling.getLeft()) &amp;&amp; isBlack(sibling.getRight()))&#123;//ç¤ºä¾‹2 sibling.makeRed(); cur = parent; isRed = cur.isRed(); parent=parent.getParent(); &#125;else if(isLeft &amp;&amp; !isBlack(sibling.getLeft()) &amp;&amp; isBlack(sibling.getRight()))&#123;//ç¤ºä¾‹3 sibling.makeRed(); sibling.getLeft().makeBlack(); rotateRight(sibling); &#125;else if(!isLeft &amp;&amp; !isBlack(sibling.getRight()) &amp;&amp; isBlack(sibling.getLeft()) )&#123; sibling.makeRed(); sibling.getRight().makeBlack(); rotateLeft(sibling); &#125;else if(isLeft &amp;&amp; !isBlack(sibling.getRight()))&#123;//ç¤ºä¾‹4 sibling.setRed(parent.isRed()); parent.makeBlack(); sibling.getRight().makeBlack(); rotateLeft(parent); cur=getRoot(); &#125;else if(!isLeft &amp;&amp; !isBlack(sibling.getLeft()))&#123; sibling.setRed(parent.isRed()); parent.makeBlack(); sibling.getLeft().makeBlack(); rotateRight(parent); cur=getRoot(); &#125; &#125; if(isRed)&#123; cur.makeBlack(); &#125; if(getRoot()!=null)&#123; getRoot().setRed(false); getRoot().setParent(null); &#125; &#125; //get sibling node private RBTreeNode&lt;T&gt; getSibling(RBTreeNode&lt;T&gt; node,RBTreeNode&lt;T&gt; parent)&#123; parent = node==null ? parent : node.getParent(); if(node==null)&#123; return parent.getLeft()==null ? parent.getRight() : parent.getLeft(); &#125; if(node==parent.getLeft())&#123; return parent.getRight(); &#125;else&#123; return parent.getLeft(); &#125; &#125; private boolean isBlack(RBTreeNode&lt;T&gt; node)&#123; return node==null || node.isBlack(); &#125; private boolean isRoot(RBTreeNode&lt;T&gt; node)&#123; return root.getLeft() == node &amp;&amp; node.getParent()==null; &#125; /** * find the successor node * @param node current node's right node * @return */ private RBTreeNode&lt;T&gt; removeMin(RBTreeNode&lt;T&gt; node)&#123; //find the min node RBTreeNode&lt;T&gt; parent = node; while(node!=null &amp;&amp; node.getLeft()!=null)&#123; parent = node; node = node.getLeft(); &#125; //remove min node if(parent==node)&#123; return node; &#125; parent.setLeft(node.getRight()); setParent(node.getRight(),parent); //don't remove right pointer,it is used for fixed color balance //node.setRight(null); return node; &#125; private T addNode(RBTreeNode&lt;T&gt; node)&#123; node.setLeft(null); node.setRight(null); node.setRed(true); setParent(node,null); if(root.getLeft()==null)&#123; root.setLeft(node); //root node is black node.setRed(false); size.incrementAndGet(); &#125;else&#123; RBTreeNode&lt;T&gt; x = findParentNode(node); int cmp = x.getValue().compareTo(node.getValue()); if(this.overrideMode &amp;&amp; cmp==0)&#123; T v = x.getValue(); x.setValue(node.getValue()); return v; &#125;else if(cmp==0)&#123; //value exists,ignore this node return x.getValue(); &#125; setParent(node,x); if(cmp&gt;0)&#123; x.setLeft(node); &#125;else&#123; x.setRight(node); &#125; fixInsert(node); size.incrementAndGet(); &#125; return null; &#125; /** * find the parent node to hold node x,if parent value equals x.value return parent. * @param x * @return */ private RBTreeNode&lt;T&gt; findParentNode(RBTreeNode&lt;T&gt; x)&#123; RBTreeNode&lt;T&gt; dataRoot = getRoot(); RBTreeNode&lt;T&gt; child = dataRoot; while(child!=null)&#123; int cmp = child.getValue().compareTo(x.getValue()); if(cmp==0)&#123; return child; &#125; if(cmp&gt;0)&#123; dataRoot = child; child = child.getLeft(); &#125;else if(cmp&lt;0)&#123; dataRoot = child; child = child.getRight(); &#125; &#125; return dataRoot; &#125; /** * red black tree insert fix. * @param x */ private void fixInsert(RBTreeNode&lt;T&gt; x)&#123; RBTreeNode&lt;T&gt; parent = x.getParent(); while(parent!=null &amp;&amp; parent.isRed())&#123; RBTreeNode&lt;T&gt; uncle = getUncle(x); if(uncle==null)&#123;//need to rotate RBTreeNode&lt;T&gt; ancestor = parent.getParent(); //ancestor is not null due to before before add,tree color is balance if(parent == ancestor.getLeft())&#123; boolean isRight = x == parent.getRight(); if(isRight)&#123; rotateLeft(parent); &#125; rotateRight(ancestor); if(isRight)&#123; x.setRed(false); parent=null;//end loop &#125;else&#123; parent.setRed(false); &#125; ancestor.setRed(true); &#125;else&#123; boolean isLeft = x == parent.getLeft(); if(isLeft)&#123; rotateRight(parent); &#125; rotateLeft(ancestor); if(isLeft)&#123; x.setRed(false); parent=null;//end loop &#125;else&#123; parent.setRed(false); &#125; ancestor.setRed(true); &#125; &#125;else&#123;//uncle is red parent.setRed(false); uncle.setRed(false); parent.getParent().setRed(true); x=parent.getParent(); parent = x.getParent(); &#125; &#125; getRoot().makeBlack(); getRoot().setParent(null); &#125; /** * get uncle node * @param node * @return */ private RBTreeNode&lt;T&gt; getUncle(RBTreeNode&lt;T&gt; node)&#123; RBTreeNode&lt;T&gt; parent = node.getParent(); RBTreeNode&lt;T&gt; ancestor = parent.getParent(); if(ancestor==null)&#123; return null; &#125; if(parent == ancestor.getLeft())&#123; return ancestor.getRight(); &#125;else&#123; return ancestor.getLeft(); &#125; &#125; private void rotateLeft(RBTreeNode&lt;T&gt; node)&#123; RBTreeNode&lt;T&gt; right = node.getRight(); if(right==null)&#123; throw new java.lang.IllegalStateException(\"right node is null\"); &#125; RBTreeNode&lt;T&gt; parent = node.getParent(); node.setRight(right.getLeft()); setParent(right.getLeft(),node); right.setLeft(node); setParent(node,right); if(parent==null)&#123;//node pointer to root //right raise to root node root.setLeft(right); setParent(right,null); &#125;else&#123; if(parent.getLeft()==node)&#123; parent.setLeft(right); &#125;else&#123; parent.setRight(right); &#125; //right.setParent(parent); setParent(right,parent); &#125; &#125; private void rotateRight(RBTreeNode&lt;T&gt; node)&#123; RBTreeNode&lt;T&gt; left = node.getLeft(); if(left==null)&#123; throw new java.lang.IllegalStateException(\"left node is null\"); &#125; RBTreeNode&lt;T&gt; parent = node.getParent(); node.setLeft(left.getRight()); setParent(left.getRight(),node); left.setRight(node); setParent(node,left); if(parent==null)&#123; root.setLeft(left); setParent(left,null); &#125;else&#123; if(parent.getLeft()==node)&#123; parent.setLeft(left); &#125;else&#123; parent.setRight(left); &#125; setParent(left,parent); &#125; &#125; private void setParent(RBTreeNode&lt;T&gt; node,RBTreeNode&lt;T&gt; parent)&#123; if(node!=null)&#123; node.setParent(parent); if(parent==root)&#123; node.setParent(null); &#125; &#125; &#125; /** * debug method,it used print the given node and its children nodes, * every layer output in one line * @param root */ public void printTree(RBTreeNode&lt;T&gt; root)&#123; java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt; queue =new java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt;(); java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt; queue2 =new java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt;(); if(root==null)&#123; return ; &#125; queue.add(root); boolean firstQueue = true; while(!queue.isEmpty() || !queue2.isEmpty())&#123; java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt; q = firstQueue ? queue : queue2; RBTreeNode&lt;T&gt; n = q.poll(); if(n!=null)&#123; String pos = n.getParent()==null ? \"\" : ( n == n.getParent().getLeft() ? \" LE\" : \" RI\"); String pstr = n.getParent()==null ? \"\" : n.getParent().toString(); String cstr = n.isRed()?\"R\":\"B\"; cstr = n.getParent()==null ? cstr : cstr+\" \"; System.out.print(n+\"(\"+(cstr)+pstr+(pos)+\")\"+\"\\t\"); if(n.getLeft()!=null)&#123; (firstQueue ? queue2 : queue).add(n.getLeft()); &#125; if(n.getRight()!=null)&#123; (firstQueue ? queue2 : queue).add(n.getRight()); &#125; &#125;else&#123; System.out.println(); firstQueue = !firstQueue; &#125; &#125; &#125; public static void main(String[] args) &#123; RBTree&lt;String&gt; bst = new RBTree&lt;String&gt;(); bst.addNode(\"d\"); bst.addNode(\"d\"); bst.addNode(\"c\"); bst.addNode(\"c\"); bst.addNode(\"b\"); bst.addNode(\"f\"); bst.addNode(\"a\"); bst.addNode(\"e\"); bst.addNode(\"g\"); bst.addNode(\"h\"); bst.remove(\"c\"); bst.printTree(bst.getRoot()); &#125;&#125; ä»£ç è°ƒè¯•çš„æ—¶å€™ï¼ŒprintTreeè¾“å‡ºæ ¼å¼å¦‚ä¸‹: 12345d(B)b(B d LE) g(R d RI)a(R b LE) e(B g LE) h(B g RI)f(R e RI) æ‹¬å·å·¦è¾¹è¡¨ç¤ºå…ƒç´ çš„å†…å®¹ã€‚æ‹¬å·å†…çš„ç¬¬ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºé¢œè‰²ï¼ŒBè¡¨ç¤ºblackï¼ŒRè¡¨ç¤ºredï¼›ç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºçˆ¶å…ƒç´ çš„å€¼ï¼›ç¬¬ä¸‰ä¸ªå…ƒç´ è¡¨ç¤ºå·¦å³ï¼ŒLEè¡¨ç¤ºåœ¨çˆ¶å…ƒç´ çš„å·¦è¾¹ã€‚RIè¡¨ç¤ºåœ¨çˆ¶å…ƒç´ çš„å³è¾¹ã€‚ ç¬¬ä¸€ä¸ªå…ƒç´ dæ˜¯rootèŠ‚ç‚¹ï¼Œç”±äºŽå®ƒæ²¡æœ‰çˆ¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ‹¬å·å†…åªæœ‰ä¸€ä¸ªå…ƒç´ ã€‚ æ€»ç»“ä½œä¸ºå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘é‡Œé¢ä¼—å¤šçš„å®žçŽ°ä¹‹ä¸€ï¼Œçº¢é»‘æ ‘æ— ç–‘æ˜¯æœ€ç®€æ´ã€å®žçŽ°æœ€ä¸ºç®€å•çš„ã€‚çº¢é»‘æ ‘é€šè¿‡å¼•å…¥é¢œè‰²çš„æ¦‚å¿µï¼Œé€šè¿‡é¢œè‰²è¿™ä¸ªçº¦æŸæ¡ä»¶çš„ä½¿ç”¨æ¥ä¿æŒæ ‘çš„é«˜åº¦å¹³è¡¡ã€‚ä½œä¸ºå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œæ—‹è½¬æ˜¯ä¸€ä¸ªå¿…ä¸å¯å°‘çš„æ“ä½œã€‚é€šè¿‡æ—‹è½¬å¯ä»¥é™ä½Žæ ‘çš„é«˜åº¦ï¼Œåœ¨çº¢é»‘æ ‘é‡Œé¢è¿˜å¯ä»¥è½¬æ¢é¢œè‰²ã€‚ çº¢é»‘æ ‘é‡Œé¢çš„æ’å…¥å’Œåˆ é™¤çš„æ“ä½œæ¯”è¾ƒéš¾ç†è§£ï¼Œè¿™æ—¶è¦æ³¨æ„è®°ä½ä¸€ç‚¹ï¼šæ“ä½œä¹‹å‰çº¢é»‘æ ‘æ˜¯å¹³è¡¡çš„ï¼Œé¢œè‰²æ˜¯ç¬¦åˆå®šä¹‰çš„ã€‚åœ¨æ“ä½œçš„æ—¶å€™å°±éœ€è¦å‘å…„å¼ŸèŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹ã€ä¾„å­èŠ‚ç‚¹å€Ÿè°ƒå’Œäº’æ¢é¢œè‰²ï¼Œè¦è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œå°±éœ€è¦ä¸æ–­çš„è¿›è¡Œæ—‹è½¬ã€‚æ‰€ä»¥çº¢é»‘æ ‘çš„æ’å…¥åˆ é™¤æ“ä½œéœ€è¦ä¸åœçš„æ—‹è½¬ï¼Œä¸€æ—¦å€Ÿè°ƒäº†åˆ«çš„èŠ‚ç‚¹ï¼Œåˆ é™¤å’Œæ’å…¥çš„èŠ‚ç‚¹å°±ä¼šè¾¾åˆ°å±€éƒ¨çš„å¹³è¡¡ï¼ˆå±€éƒ¨ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ï¼‰ï¼Œä½†æ˜¯è¢«å€Ÿè°ƒçš„èŠ‚ç‚¹å°±ä¸ä¼šå¹³è¡¡äº†ï¼Œè¿™æ—¶å°±éœ€è¦ä»¥è¢«å€Ÿè°ƒçš„èŠ‚ç‚¹ä¸ºèµ·ç‚¹ç»§ç»­è¿›è¡Œè°ƒæ•´ï¼Œç›´åˆ°æ•´æ£µæ ‘éƒ½æ˜¯å¹³è¡¡çš„ã€‚åœ¨æ•´ä¸ªä¿®å¤çš„è¿‡ç¨‹ä¸­ï¼Œæ’å…¥å…·ä½“çš„åˆ†ä¸º3ç§æƒ…å†µï¼Œåˆ é™¤åˆ†ä¸º4ç§æƒ…å†µã€‚ æ•´ä¸ªçº¢é»‘æ ‘çš„æŸ¥æ‰¾ï¼Œæ’å…¥å’Œåˆ é™¤éƒ½æ˜¯O(logN)çš„ï¼ŒåŽŸå› å°±æ˜¯æ•´ä¸ªçº¢é»‘æ ‘çš„é«˜åº¦æ˜¯logNï¼ŒæŸ¥æ‰¾ä»Žæ ¹åˆ°å¶ï¼Œèµ°è¿‡çš„è·¯å¾„æ˜¯æ ‘çš„é«˜åº¦ï¼Œåˆ é™¤å’Œæ’å…¥æ“ä½œæ˜¯ä»Žå¶åˆ°æ ¹çš„ï¼Œæ‰€ä»¥ç»è¿‡çš„è·¯å¾„éƒ½æ˜¯logNã€‚ å‚è€ƒæ–‡çŒ® Cormen T H, Leiserson C E, Rivest R L, ç­‰. ç®—æ³•å¯¼è®ºï¼ˆç¬¬3ç‰ˆï¼‰. æ®·å»ºå¹³, ç­‰. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2012. Sedgewick R, Wayne K. ç®—æ³•ï¼ˆç¬¬4ç‰ˆï¼‰. è°¢è·¯äº‘ è¯‘. äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾, 2012. Weiss M A. æ•°æ®ç»“æž„ä¸Žç®—æ³•åˆ†æžï¼ˆç¬¬2ç‰ˆï¼‰. å†¯èˆœçŽº è¯‘. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2004. Knuth D E. è®¡ç®—æœºç¨‹åºè®¾è®¡è‰ºæœ¯ å·3ï¼šæŽ’åºä¸ŽæŸ¥æ‰¾ï¼ˆè‹±æ–‡ç‰ˆ ç¬¬2ç‰ˆï¼‰. äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾, 2010. äºŒå‰æŸ¥æ‰¾æ ‘ç™¾åº¦ç™¾ç§‘ RBçº¢é»‘æ ‘ç™¾åº¦ç™¾ç§‘ èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ æ·±å…¥åˆ†æžHashMapæºç  ä¸‹ä¸€ç¯‡ è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ– new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• äºŒå‰æŸ¥æ‰¾æ ‘åŸºæœ¬æ¦‚å¿µåŸºæœ¬æ“ä½œæŸ¥æ‰¾æ’å…¥åˆ é™¤å­˜åœ¨çš„å¼Šç«¯RBçº¢é»‘æ ‘åŸºæœ¬æ¦‚å¿µåŸºæœ¬å®šä¹‰åŸºæœ¬æ“ä½œæ—‹è½¬æ“ä½œæŸ¥æ‰¾æ“ä½œæ’å…¥æ“ä½œåˆ é™¤æ“ä½œRBçº¢é»‘æ ‘çš„Javaå®žçŽ°æ€»ç»“å‚è€ƒæ–‡çŒ® è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2019-11-27T15:22:16.208Z","updated":"2019-11-27T15:22:16.208Z","comments":true,"path":"public/2019/04/01/æ·±å…¥åˆ†æžHashMapæºç /index.html","permalink":"http://ltyeamin.github.io/public/2019/04/01/æ·±å…¥åˆ†æžHashMapæºç /index.html","excerpt":"","text":"æ·±å…¥åˆ†æžHashMapæºç  | å½¤å“¥å“¥çš„åšå®¢ var _hmt = _hmt || []; (function() { var hm = document.createElement(\"script\"); hm.src = \"https://hm.baidu.com/hm.js?ebfd000c0e7cc1ee84a00f01d419b1e2\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); å½¤å“¥å“¥çš„åšå®¢ é¦–é¡µ åŽç«¯ å‰ç«¯ è¿ç»´ æ•°æ®åº“ ç®—æ³• é¡¹ç›®ç®¡ç† è‡ªåª’ä½“ ç”Ÿæ´» å…³äºŽ æ·±å…¥åˆ†æžHashMapæºç  backend Java 2019/04/01 Mapè¿™ç§Key-Valueæ ¼å¼çš„æ•°æ®ç»“æž„åœ¨æ—¥å¸¸å¼€å‘ä¸­æ˜¯éžå¸¸çš„å¸¸è§ï¼Œå¤§éƒ¨åˆ†çš„é«˜çº§ç¼–ç¨‹è¯­è¨€éƒ½æœ‰Mapç±»åž‹ï¼ŒMapç±»åž‹å¸¸ç”¨äºŽåœ¨å†…å­˜ä¸­å­˜å–æ•°æ®ã€‚ åœ¨Javaä¸­ï¼ŒHashMapæ˜¯Javaç¨‹åºå‘˜ä½¿ç”¨é¢‘çŽ‡æœ€é«˜çš„ç”¨äºŽæ˜ å°„(é”®å€¼å¯¹)å¤„ç†çš„æ•°æ®ç±»åž‹ã€‚éšç€JDKï¼ˆJava Developmet Kitï¼‰ç‰ˆæœ¬çš„æ›´æ–°ï¼ŒJDK1.8å¯¹HashMapåº•å±‚çš„å®žçŽ°è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä¾‹å¦‚å¼•å…¥çº¢é»‘æ ‘çš„æ•°æ®ç»“æž„å’Œæ‰©å®¹çš„ä¼˜åŒ–ç­‰ã€‚æœ¬æ–‡æ·±å…¥æŽ¢è®¨JDK1.8çš„HashMapçš„ç»“æž„å®žçŽ°å’ŒåŠŸèƒ½åŽŸç†ã€‚ Javaä¸ºæ•°æ®ç»“æž„ä¸­çš„æ˜ å°„å®šä¹‰äº†ä¸€ä¸ªæŽ¥å£java.util.Mapï¼Œæ­¤æŽ¥å£ä¸»è¦æœ‰å››ä¸ªå¸¸ç”¨çš„å®žçŽ°ç±»ï¼Œåˆ†åˆ«æ˜¯HashMapã€Hashtableã€LinkedHashMapå’ŒTreeMapï¼Œç±»ç»§æ‰¿å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¸‹é¢é’ˆå¯¹å„ä¸ªå®žçŽ°ç±»çš„ç‰¹ç‚¹åšä¸€äº›è¯´æ˜Žï¼š HashMapï¼šå®ƒæ ¹æ®é”®çš„hashCodeå€¼å­˜å‚¨æ•°æ®ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹å¯ä»¥ç›´æŽ¥å®šä½åˆ°å®ƒçš„å€¼ï¼Œå› è€Œå…·æœ‰å¾ˆå¿«çš„è®¿é—®é€Ÿåº¦ï¼Œä½†éåŽ†é¡ºåºå´æ˜¯ä¸ç¡®å®šçš„ã€‚ HashMapæœ€å¤šåªå…è®¸ä¸€æ¡è®°å½•çš„é”®ä¸ºnullï¼Œå…è®¸å¤šæ¡è®°å½•çš„å€¼ä¸ºnullã€‚HashMapéžçº¿ç¨‹å®‰å…¨ï¼Œå³ä»»ä¸€æ—¶åˆ»å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶å†™HashMapï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚å¦‚æžœéœ€è¦æ»¡è¶³çº¿ç¨‹å®‰å…¨ï¼Œå¯ä»¥ç”¨ Collectionsçš„synchronizedMapæ–¹æ³•ä½¿HashMapå…·æœ‰çº¿ç¨‹å®‰å…¨çš„èƒ½åŠ›ï¼Œæˆ–è€…ä½¿ç”¨ConcurrentHashMapã€‚ Hashtableï¼šHashtableæ˜¯é—ç•™ç±»ï¼Œå¾ˆå¤šæ˜ å°„çš„å¸¸ç”¨åŠŸèƒ½ä¸ŽHashMapç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯å®ƒæ‰¿è‡ªDictionaryç±»ï¼Œå¹¶ä¸”æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä»»ä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å†™Hashtableï¼Œå¹¶å‘æ€§ä¸å¦‚ConcurrentHashMapï¼Œå› ä¸ºConcurrentHashMapå¼•å…¥äº†åˆ†æ®µé”ï¼ˆJDK8è¿˜æœ‰ä¼˜åŒ–ï¼‰ã€‚Hashtableä¸å»ºè®®åœ¨æ–°ä»£ç ä¸­ä½¿ç”¨ï¼Œä¸éœ€è¦çº¿ç¨‹å®‰å…¨çš„åœºåˆå¯ä»¥ç”¨HashMapæ›¿æ¢ï¼Œéœ€è¦çº¿ç¨‹å®‰å…¨çš„åœºåˆå¯ä»¥ç”¨ConcurrentHashMapæ›¿æ¢ã€‚ LinkedHashMapï¼šLinkedHashMapæ˜¯HashMapçš„ä¸€ä¸ªå­ç±»ï¼Œä¿å­˜äº†è®°å½•çš„æ’å…¥é¡ºåºï¼Œåœ¨ç”¨IteratoréåŽ†LinkedHashMapæ—¶ï¼Œå…ˆå¾—åˆ°çš„è®°å½•è‚¯å®šæ˜¯å…ˆæ’å…¥çš„ï¼Œä¹Ÿå¯ä»¥åœ¨æž„é€ æ—¶å¸¦å‚æ•°ï¼ŒæŒ‰ç…§è®¿é—®æ¬¡åºæŽ’åºã€‚ TreeMapï¼šTreeMapå®žçŽ°SortedMapæŽ¥å£ï¼Œèƒ½å¤ŸæŠŠå®ƒä¿å­˜çš„è®°å½•æ ¹æ®é”®æŽ’åºï¼Œé»˜è®¤æ˜¯æŒ‰é”®å€¼çš„å‡åºæŽ’åºï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæŽ’åºçš„æ¯”è¾ƒå™¨ï¼Œå½“ç”¨IteratoréåŽ†TreeMapæ—¶ï¼Œå¾—åˆ°çš„è®°å½•æ˜¯æŽ’è¿‡åºçš„ã€‚å¦‚æžœä½¿ç”¨æŽ’åºçš„æ˜ å°„ï¼Œå»ºè®®ä½¿ç”¨TreeMapã€‚åœ¨ä½¿ç”¨TreeMapæ—¶ï¼Œkeyå¿…é¡»å®žçŽ°ComparableæŽ¥å£æˆ–è€…åœ¨æž„é€ TreeMapä¼ å…¥è‡ªå®šä¹‰çš„Comparatorï¼Œå¦åˆ™ä¼šåœ¨è¿è¡Œæ—¶æŠ›å‡ºjava.lang.ClassCastExceptionç±»åž‹çš„å¼‚å¸¸ã€‚ å¯¹äºŽä¸Šè¿°å››ç§Mapç±»åž‹çš„ç±»ï¼Œè¦æ±‚æ˜ å°„ä¸­çš„keyæ˜¯ä¸å¯å˜å¯¹è±¡ã€‚ä¸å¯å˜å¯¹è±¡æ˜¯è¯¥å¯¹è±¡åœ¨åˆ›å»ºåŽå®ƒçš„å“ˆå¸Œå€¼ä¸ä¼šè¢«æ”¹å˜ã€‚å¦‚æžœå¯¹è±¡çš„å“ˆå¸Œå€¼å‘ç”Ÿå˜åŒ–ï¼ŒMapå¯¹è±¡å¾ˆå¯èƒ½å°±å®šä½ä¸åˆ°æ˜ å°„çš„ä½ç½®äº†ã€‚ é€šè¿‡ä¸Šé¢çš„æ¯”è¾ƒï¼Œæˆ‘ä»¬çŸ¥é“äº†HashMapæ˜¯Javaçš„Mapå®¶æ—ä¸­ä¸€ä¸ªæ™®é€šæˆå‘˜ï¼Œé‰´äºŽå®ƒå¯ä»¥æ»¡è¶³å¤§å¤šæ•°åœºæ™¯çš„ä½¿ç”¨æ¡ä»¶ï¼Œæ‰€ä»¥æ˜¯ä½¿ç”¨é¢‘åº¦æœ€é«˜çš„ä¸€ä¸ªã€‚ä¸‹æ–‡æˆ‘ä»¬ä¸»è¦ç»“åˆæºç ï¼Œä»Žå­˜å‚¨ç»“æž„ã€å¸¸ç”¨æ–¹æ³•åˆ†æžã€æ‰©å®¹ä»¥åŠå®‰å…¨æ€§ç­‰æ–¹é¢æ·±å…¥è®²è§£HashMapçš„å·¥ä½œåŽŸç†ã€‚ æžæ¸…æ¥šHashMapï¼Œé¦–å…ˆéœ€è¦çŸ¥é“HashMapæ˜¯ä»€ä¹ˆï¼Œå³å®ƒçš„å­˜å‚¨ç»“æž„-å­—æ®µï¼›å…¶æ¬¡å¼„æ˜Žç™½å®ƒèƒ½å¹²ä»€ä¹ˆï¼Œå³å®ƒçš„åŠŸèƒ½å®žçŽ°-æ–¹æ³•ã€‚ä¼—æ‰€å‘¨çŸ¥ HashMap åº•å±‚æ˜¯åŸºäºŽæ•°ç»„+é“¾è¡¨ç»„æˆçš„ï¼Œä¸‹é¢æˆ‘ä»¬é’ˆå¯¹è¿™ä¸¤ä¸ªæ–¹é¢è¯¦ç»†å±•å¼€è®²è§£ã€‚ æ•°æ®ç»“æž„åœ¨JDK1.7ä¹‹å‰çš„HashMapçš„ç»“æž„ä¸­ï¼Œå…¶å®žå­˜åœ¨ä¸€ä¸ªå¾ˆæ˜Žæ˜¾çš„ç¼ºé™·å°±æ˜¯: å½“ Hash å†²çªä¸¥é‡æ—¶ï¼Œåœ¨æ¡¶ä¸Šå½¢æˆçš„é“¾è¡¨ä¼šå˜çš„è¶Šæ¥è¶Šé•¿ï¼Œè¿™æ ·åœ¨æŸ¥è¯¢æ—¶çš„æ•ˆçŽ‡å°±ä¼šè¶Šæ¥è¶Šä½Žï¼›æ—¶é—´å¤æ‚åº¦ä¸º O(N)ã€‚ JDK8é‡ç‚¹ä¼˜åŒ–äº†è¿™ä¸ªæŸ¥è¯¢æ•ˆçŽ‡ï¼Œåœ¨åŽŸå…ˆçš„æ•°ç»„+é“¾è¡¨ä¸Šå†å¢žåŠ çº¢é»‘æ ‘ã€‚å½“é“¾è¡¨å¤§å°è¾¾åˆ°ä¸€å®šçš„é˜ˆå€¼(HashMapæ˜¯8)æ—¶ï¼Œä¼šè‡ªåŠ¨è½¬æ¢ä¸ºçº¢é»‘æ ‘çš„æ•°æ®ç»“æž„ã€‚ä¿®æ”¹ä¸ºçº¢é»‘æ ‘ä¹‹åŽæŸ¥è¯¢æ•ˆçŽ‡å³æ—¶é—´å¤æ‚åº¦ç›´æŽ¥æé«˜åˆ°äº† O(logn)ã€‚ æºç åˆ†æžæˆå‘˜å˜é‡123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108/** * é»˜è®¤ä½æ¡¶æ•°ç»„åˆå§‹å®¹é‡,å¿…é¡»æ˜¯2çš„å¹‚,è¿™é‡Œé»˜è®¤æ˜¯16 * The default initial capacity - MUST be a power of two. */static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; // aka 16/** * ä½æ¡¶æ•°ç»„å¤§å°çš„æœ€å¤§å€¼ã€‚æž„é€ å‚æ•°çš„å¤§å°å¿…é¡»æ˜¯2çš„å‡ æ¬¡å¹‚å¹¶ä¸”å°äºŽç­‰äºŽ1&lt;&lt;30 * The maximum capacity, used if a higher value is implicitly specified * by either of the constructors with arguments. * MUST be a power of two &lt;= 1&lt;&lt;30. */static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30;/** * é»˜è®¤è´Ÿè½½å› å­æ˜¯0.75ï¼Œå¯ä»¥åœ¨æž„é€ å‚æ•°é‡Œè®¾ç½® * The load factor used when none specified in constructor. */static final float DEFAULT_LOAD_FACTOR = 0.75f;/** * ä¸€ä¸ªæ¡¶ä¸­çš„binçš„å­˜å‚¨æ–¹å¼ç”±é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘çš„é˜ˆå€¼ï¼Œå½“é“¾è¡¨å¤§å°è¶…è¿‡TREEIFY_THRESHOLDçš„æ—¶å€™è½¬æ¢ä¸ºçº¢é»‘æ ‘ * The bin count threshold for using a tree rather than list for a * bin. Bins are converted to trees when adding an element to a * bin with at least this many nodes. The value must be greater * than 2 and should be at least 8 to mesh with assumptions in * tree removal about conversion back to plain bins upon * shrinkage. */static final int TREEIFY_THRESHOLD = 8;/** * çº¢é»‘æ•°è½¬æ¢ä¸ºé“¾è¡¨(æ”¶ç¼©æœºåˆ¶)ï¼Œå½“æ‰§è¡Œresizeæ“ä½œæ—¶,æ¡¶ä¸­binçš„æ•°é‡å°‘äºŽUNTREEIFY_THRESHOLDæ—¶6æ—¶ï¼Œæ­¤æ—¶æ”¶ * ç¼©ä¸ºæ™®é€šé“¾è¡¨ï¼Œæé«˜æŸ¥è¯¢æ•ˆçŽ‡ * The bin count threshold for untreeifying a (split) bin during a * resize operation. Should be less than TREEIFY_THRESHOLD, and at * most 6 to mesh with shrinkage detection under removal. */static final int UNTREEIFY_THRESHOLD = 6;/** * å½“æ¡¶ä¸­binè¢«æ ‘åŒ–æ—¶æœ€å°çš„hashè¡¨å®¹é‡.(è‹¥æ²¡æœ‰è¾¾åˆ°è¿™ä¸ªé˜ˆå€¼,å³hashè¡¨å®¹é‡å°äºŽMIN_TREEIFY_CAPACITY * å½“æ¡¶ä¸­binæ•°é‡å¤ªå¤šæ—¶ä¼šæ‰§è¡Œresizeæ‰©å®¹æ“ä½œ).è¿™ä¸ªMIN_TREEIFY_CAPACITYçš„å€¼è‡³å°‘TREEIFY_THRESHOLD * çš„4å€ã€‚ * The smallest table capacity for which bins may be treeified. * (Otherwise the table is resized if too many nodes in a bin.) * Should be at least 4 * TREEIFY_THRESHOLD to avoid conflicts * between resizing and treeification thresholds. */static final int MIN_TREEIFY_CAPACITY = 64;/** * ä½æ¡¶æ•°ç»„ï¼Œå³Hashè¡¨ï¼Œå…¶å¤§å°æ€»æ˜¯2çš„å‡ æ¬¡å¹‚ï¼ŒJDK1.7ç±»åž‹æ˜¯Entry&lt;K,V&gt;[],JDK8ä¼˜åŒ–æˆNode&lt;K,V&gt;[] * The table, initialized on first use, and resized as * necessary. When allocated, length is always a power of two. * (We also tolerate length zero in some operations to allow * bootstrapping mechanics that are currently not needed.) */transient Node&lt;K,V&gt;[] table;/** * ç¼“å­˜çš„entrySetï¼Œå³é”®å€¼å¯¹æ˜ å°„å¯¹è±¡ï¼Œè¿™é‡Œä½¿ç”¨äº†AbstractMapçš„keyset()å’Œvalues() * Holds cached entrySet(). Note that AbstractMap fields are used * for keySet() and values(). */transient Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet;/** * å½“å‰mapä¸­åŒ…å«çš„key-valueæ•°ï¼Œå³mapçš„å¤§å° * The number of key-value mappings contained in this map. */transient int size;/** * * HashMapçš„ä¿®æ”¹æ¬¡æ•°ï¼Œåœ¨è¿­ä»£å™¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ä¼šå°†è¿™ä¸ªå€¼èµ‹ç»™è¿­ä»£å™¨çš„expectedModCountï¼Œ * æ¯”å¦‚è¿­ä»£å™¨è¿­ä»£æ—¶å€™æˆ‘ä»¬æ‰‹åŠ¨åˆ é™¤å…ƒç´ æ—¶ï¼ŒmodCountä¼šå¢žåŠ è¿™ä¸ªå€¼ã€‚åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œåˆ¤æ–­modCountå’Œ * expectedModCountæ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰åˆ™æŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ * Fail-Fastæœºåˆ¶ã€‚åŒæ ·ï¼ŒArrayList,LinkedListä¹Ÿæœ‰è¿™ä¸ªå­—æ®µã€‚ * å…·ä½“è¯¦æƒ…è¯·å‚ç…§HashMapæºç ä¸‹çš„æŠ½è±¡è¿­ä»£ç±»HashIteratorï¼Œ * The number of times this HashMap has been structurally modified * Structural modifications are those that change the number of mappings in * the HashMap or otherwise modify its internal structure (e.g., * rehash). This field is used to make iterators on Collection-views of * the HashMap fail-fast. (See ConcurrentModificationException). */transient int modCount;/** * è¦æ ¹æ®thresholdçš„é˜ˆå€¼æ¥åˆ¤æ–­mapæ˜¯å¦è¦æ‰©å®¹ï¼Œå³threshold = capacity * load factorï¼Œ * ç¬¬ä¸€æ¬¡æ‰©å®¹ä¸º16 * 0.75 = 12 ï¼Œ å½“mapçš„æ•°ç»„å®¹é‡ä¸º12çš„æ—¶ï¼Œæ­¤æ—¶éœ€è¦ç»§ç»­æ‰©å®¹ã€‚ * The next size value at which to resize (capacity * load factor). * * @serial */// (The javadoc description is true upon serialization.// Additionally, if the table array has not been allocated, this// field holds the initial array capacity, or zero signifying// DEFAULT_INITIAL_CAPACITY.)int threshold;/** * hash tableçš„é»˜è®¤è´Ÿè½½å› å­ï¼Œé»˜è®¤æ˜¯DEFAULT_LOAD_FACTORï¼Œå³0.75 * The load factor for the hash table. * @serial */final float loadFactor; æ•°æ®ç»“æž„Nodeä½æ¡¶èŠ‚ç‚¹1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859/** * åŸºæœ¬çš„hashæ¡¶èŠ‚ç‚¹ï¼Œå³æ•°ç»„å­˜æ”¾çš„å…ƒç´ ç±»åž‹ï¼Œå®žçŽ°äº†Map.Entry&lt;K,V&gt;æŽ¥å£ã€‚ * JDK1.7çš„ç»“æž„æ˜¯Map.Entry&lt;K, V&gt;çš„å­ç±»HashEntry&lt;K, V&gt; * Basic hash bin node, used for most entries. (See below for * TreeNode subclass, and in LinkedHashMap for its Entry subclass.) */static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; &#123; // keyçš„å“ˆå¸Œå€¼ï¼Œç”¨æ¥å®šä½æ•°ç»„ç´¢å¼•ä½ç½® final int hash; // mapçš„keyï¼Œä¸å¯ä¸å˜å¯¹è±¡ï¼Œä¸€æ—¦è®¾ç½®æ–°Keyï¼Œä¸å¯æ›´æ”¹keyçš„å€¼ï¼ŒHashMapä¸­å¯å­˜nullå€¼ final K key; // mapçš„valueï¼Œä¹Ÿå¯ä»¥å­˜æ”¾nullå€¼ã€‚keyç›¸åŒåˆ™è¦†ç›–value, V value; // é“¾è¡¨çš„ä¸‹ä¸€ä¸ªnode Node&lt;K,V&gt; next; // æž„é€ å‡½æ•° Node(int hash, K key, V value, Node&lt;K,V&gt; next) &#123; this.hash = hash; this.key = key; this.value = value; this.next = next; &#125; // èŽ·å–key public final K getKey() &#123; return key; &#125; // èŽ·å–value public final V getValue() &#123; return value; &#125; // é‡å†™toString public final String toString() &#123; return key + \"=\" + value; &#125; // é‡å†™hashCodeï¼Œnodeçš„hashCodeä¸ºkeyçš„hashCodeä¸Žvalueçš„hashCodeçš„å¼‚æˆ–ç»“æžœ public final int hashCode() &#123; return Objects.hashCode(key) ^ Objects.hashCode(value); &#125; // è®¾ç½®æ–°çš„valueï¼Œè¿”å›žæ—§çš„value public final V setValue(V newValue) &#123; V oldValue = value; value = newValue; return oldValue; &#125; // ä¸€èˆ¬é‡å†™äº†hashCodeæ–¹æ³•ï¼Œequalsä¹Ÿä¼šé‡å†™ã€‚ public final boolean equals(Object o) &#123; // å¼•ç”¨éƒ½æ˜¯ä¸€ä¸ªï¼Œåˆ™åˆ¤æ–­æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œç›´æŽ¥è¿”å›žtrue if (o == this) return true; // åˆ¤æ–­æ˜¯å¦æ˜¯Map.EntryåŒä¸€ç±»åž‹ï¼Œè‹¥ç±»åž‹ä¸åŒï¼Œåˆ™è¿”å›žfalse if (o instanceof Map.Entry) &#123; // è‹¥æ˜¯ Map.Entryç±»åž‹ï¼Œè¿›è¡Œå‘ä¸‹è½¬åž‹ã€‚ Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o; // å¦‚æžœä¸¤ä¸ªå¯¹è±¡çš„keyå’ŒvalueåŒæ—¶éƒ½ç›¸ç­‰ï¼Œåˆ™è®¤ä¸ºæ˜¯ç›¸ç­‰ï¼Œè¿”å›žtrue if (Objects.equals(key, e.getKey()) &amp;&amp; Objects.equals(value, e.getValue())) return true; &#125; return false; &#125;&#125; TreeNodeçº¢é»‘æ ‘123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133/** * çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œç»§æ‰¿LinkedHashMap.Entry&lt;K,V&gt; * Entry for Tree bins. Extends LinkedHashMap.Entry (which in turn * extends Node) so can be used as extension of either regular or * linked node. */static final class TreeNode&lt;K,V&gt; extends LinkedHashMap.Entry&lt;K,V&gt; &#123; TreeNode&lt;K,V&gt; parent; // red-black tree links TreeNode&lt;K,V&gt; left; TreeNode&lt;K,V&gt; right; TreeNode&lt;K,V&gt; prev; // needed to unlink next upon deletion boolean red; TreeNode(int hash, K key, V val, Node&lt;K,V&gt; next) &#123; super(hash, key, val, next); &#125; /** * Returns root of tree containing this node. */ final TreeNode&lt;K,V&gt; root() &#123; for (TreeNode&lt;K,V&gt; r = this, p;;) &#123; if ((p = r.parent) == null) return r; r = p; &#125; &#125; /** * æŠŠçº¢é»‘æ ‘çš„æ ¹èŠ‚ç‚¹è®¾ä¸º å…¶æ‰€åœ¨çš„æ•°ç»„æ§½ çš„ç¬¬ä¸€ä¸ªå…ƒç´  * é¦–å…ˆæ˜Žç¡®ï¼šTreeNodeæ—¢æ˜¯ä¸€ä¸ªçº¢é»‘æ ‘ç»“æž„ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåŒé“¾è¡¨ç»“æž„ * è¿™ä¸ªæ–¹æ³•é‡Œåšçš„äº‹æƒ…ï¼Œå°±æ˜¯ä¿è¯æ ‘çš„æ ¹èŠ‚ç‚¹ä¸€å®šä¹Ÿè¦æˆä¸ºé“¾è¡¨çš„é¦–èŠ‚ç‚¹ */ static &lt;K,V&gt; void moveRootToFront(Node&lt;K,V&gt;[] tab, TreeNode&lt;K,V&gt; root) &#123; int n; if (root != null &amp;&amp; tab != null &amp;&amp; (n = tab.length) &gt; 0) &#123; // æ ¹èŠ‚ç‚¹ä¸ä¸ºç©º å¹¶ä¸” HashMapçš„å…ƒç´ æ•°ç»„ä¸ä¸ºç©º int index = (n - 1) &amp; root.hash; // æ ¹æ®æ ¹èŠ‚ç‚¹çš„Hashå€¼ å’Œ HashMapçš„å…ƒç´ æ•°ç»„é•¿åº¦ å–å¾—æ ¹èŠ‚ç‚¹åœ¨æ•°ç»„ä¸­çš„ä½ç½® TreeNode&lt;K,V&gt; first = (TreeNode&lt;K,V&gt;)tab[index]; // é¦–å…ˆå–å¾—è¯¥ä½ç½®ä¸Šçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¯¹è±¡ if (root != first) &#123; // å¦‚æžœè¯¥èŠ‚ç‚¹å¯¹è±¡ ä¸Ž æ ¹èŠ‚ç‚¹å¯¹è±¡ ä¸åŒ Node&lt;K,V&gt; rn; // å®šä¹‰æ ¹èŠ‚ç‚¹çš„åŽä¸€ä¸ªèŠ‚ç‚¹ tab[index] = root; // æŠŠå…ƒç´ æ•°ç»„indexä½ç½®çš„å…ƒç´ æ›¿æ¢ä¸ºæ ¹èŠ‚ç‚¹å¯¹è±¡ TreeNode&lt;K,V&gt; rp = root.prev; // èŽ·å–æ ¹èŠ‚ç‚¹å¯¹è±¡çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ if ((rn = root.next) != null) // å¦‚æžœåŽèŠ‚ç‚¹ä¸ä¸ºç©º ((TreeNode&lt;K,V&gt;)rn).prev = rp; // rootåŽèŠ‚ç‚¹çš„å‰èŠ‚ç‚¹ æŒ‡å‘åˆ° rootçš„å‰èŠ‚ç‚¹ï¼Œç›¸å½“äºŽæŠŠrootä»Žé“¾è¡¨ä¸­æ‘˜é™¤ if (rp != null) // å¦‚æžœrootçš„å‰èŠ‚ç‚¹ä¸ä¸ºç©º rp.next = rn; // rootå‰èŠ‚ç‚¹çš„åŽèŠ‚ç‚¹ æŒ‡å‘åˆ° rootçš„åŽèŠ‚ç‚¹ if (first != null) // å¦‚æžœæ•°ç»„è¯¥ä½ç½®ä¸ŠåŽŸæ¥çš„å…ƒç´ ä¸ä¸ºç©º first.prev = root; // è¿™ä¸ªåŽŸæœ‰çš„å…ƒç´ çš„ å‰èŠ‚ç‚¹ æŒ‡å‘åˆ° rootï¼Œç›¸å½“äºŽrootç›®å‰ä½äºŽé“¾è¡¨é¦–ä½ root.next = first; // åŽŸæ¥çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çŽ°åœ¨ä½œä¸ºrootçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå˜æˆäº†ç¬¬äºŒä¸ªèŠ‚ç‚¹ root.prev = null; // é¦–èŠ‚ç‚¹æ²¡æœ‰å‰èŠ‚ç‚¹ &#125; /* * è¿™ä¸€æ­¥æ˜¯é˜²å¾¡æ€§çš„ç¼–ç¨‹ * æ ¡éªŒTreeNodeå¯¹è±¡æ˜¯å¦æ»¡è¶³çº¢é»‘æ ‘å’ŒåŒé“¾è¡¨çš„ç‰¹æ€§ * å¦‚æžœè¿™ä¸ªæ–¹æ³•æ ¡éªŒä¸é€šè¿‡ï¼šå¯èƒ½æ˜¯å› ä¸ºç”¨æˆ·ç¼–ç¨‹å¤±è¯¯ï¼Œç ´åäº†ç»“æž„ï¼ˆä¾‹å¦‚ï¼šå¹¶å‘åœºæ™¯ä¸‹ï¼‰ï¼›ä¹Ÿå¯èƒ½æ˜¯TreeNode * çš„å®žçŽ°æœ‰é—®é¢˜ï¼ˆè¿™ä¸ªæ˜¯ç†è®ºä¸Šçš„ä»¥é˜²ä¸‡ä¸€ï¼‰ï¼› */ assert checkInvariants(root); &#125; &#125; /** * å‚æ•°ä¸ºHashMapçš„å…ƒç´ æ•°ç»„ */ final void treeify(Node&lt;K,V&gt;[] tab) &#123; // å®šä¹‰æ ‘çš„æ ¹èŠ‚ç‚¹ TreeNode&lt;K,V&gt; root = null; // éåŽ†é“¾è¡¨ï¼ŒxæŒ‡å‘å½“å‰èŠ‚ç‚¹ã€nextæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ for (TreeNode&lt;K,V&gt; x = this, next; x != null; x = next) &#123; next = (TreeNode&lt;K,V&gt;)x.next; // ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ x.left = x.right = null; // è®¾ç½®å½“å‰èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹ä¸ºç©º if (root == null) &#123; // å¦‚æžœè¿˜æ²¡æœ‰æ ¹èŠ‚ç‚¹ x.parent = null; // å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹è®¾ä¸ºç©º x.red = false; // å½“å‰èŠ‚ç‚¹çš„çº¢è‰²å±žæ€§è®¾ä¸ºfalseï¼ˆæŠŠå½“å‰èŠ‚ç‚¹è®¾ä¸ºé»‘è‰²ï¼‰ root = x; // æ ¹èŠ‚ç‚¹æŒ‡å‘åˆ°å½“å‰èŠ‚ç‚¹ &#125; else &#123; // å¦‚æžœå·²ç»å­˜åœ¨æ ¹èŠ‚ç‚¹äº† K k = x.key; // å–å¾—å½“å‰é“¾è¡¨èŠ‚ç‚¹çš„key int h = x.hash; // å–å¾—å½“å‰é“¾è¡¨èŠ‚ç‚¹çš„hashå€¼ Class&lt;?&gt; kc = null; // å®šä¹‰keyæ‰€å±žçš„Class for (TreeNode&lt;K,V&gt; p = root;;) &#123; // ä»Žæ ¹èŠ‚ç‚¹å¼€å§‹éåŽ†ï¼Œæ­¤éåŽ†æ²¡æœ‰è®¾ç½®è¾¹ç•Œï¼Œåªèƒ½ä»Žå†…éƒ¨è·³å‡º // GOTO1 int dir, ph; // dir æ ‡è¯†æ–¹å‘ï¼ˆå·¦å³ï¼‰ã€phæ ‡è¯†å½“å‰æ ‘èŠ‚ç‚¹çš„hashå€¼ K pk = p.key; // å½“å‰æ ‘èŠ‚ç‚¹çš„key if ((ph = p.hash) &gt; h) // å¦‚æžœå½“å‰æ ‘èŠ‚ç‚¹hashå€¼ å¤§äºŽ å½“å‰é“¾è¡¨èŠ‚ç‚¹çš„hashå€¼ dir = -1; // æ ‡è¯†å½“å‰é“¾è¡¨èŠ‚ç‚¹ä¼šæ”¾åˆ°å½“å‰æ ‘èŠ‚ç‚¹çš„å·¦ä¾§ else if (ph &lt; h) dir = 1; // å³ä¾§ /* * å¦‚æžœä¸¤ä¸ªèŠ‚ç‚¹çš„keyçš„hashå€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆè¿˜è¦é€šè¿‡å…¶ä»–æ–¹å¼å†è¿›è¡Œæ¯”è¾ƒ * å¦‚æžœå½“å‰é“¾è¡¨èŠ‚ç‚¹çš„keyå®žçŽ°äº†comparableæŽ¥å£ï¼Œå¹¶ä¸”å½“å‰æ ‘èŠ‚ç‚¹å’Œé“¾è¡¨èŠ‚ç‚¹æ˜¯ç›¸åŒClassçš„å®ž * ä¾‹ï¼Œé‚£ä¹ˆé€šè¿‡comparableçš„æ–¹å¼å†æ¯”è¾ƒä¸¤è€…ã€‚ * å¦‚æžœè¿˜æ˜¯ç›¸ç­‰ï¼Œæœ€åŽå†é€šè¿‡tieBreakOrderæ¯”è¾ƒä¸€æ¬¡ */ else if ((kc == null &amp;&amp; (kc = comparableClassFor(k)) == null) || (dir = compareComparables(kc, k, pk)) == 0) dir = tieBreakOrder(k, pk); TreeNode&lt;K,V&gt; xp = p; // ä¿å­˜å½“å‰æ ‘èŠ‚ç‚¹ /* * å¦‚æžœdir å°äºŽç­‰äºŽ0 ï¼š å½“å‰é“¾è¡¨èŠ‚ç‚¹ä¸€å®šæ”¾ç½®åœ¨å½“å‰æ ‘èŠ‚ç‚¹çš„å·¦ä¾§ï¼Œä½†ä¸ä¸€å®šæ˜¯è¯¥æ ‘èŠ‚ç‚¹çš„å·¦å­© * å­ï¼Œä¹Ÿå¯èƒ½æ˜¯å·¦å­©å­çš„å³å­©å­ æˆ–è€… æ›´æ·±å±‚æ¬¡çš„èŠ‚ç‚¹ã€‚å¦‚æžœdir å¤§äºŽ0 ï¼š å½“å‰é“¾è¡¨èŠ‚ç‚¹ä¸€å®šæ”¾ç½®åœ¨ * å½“å‰æ ‘èŠ‚ç‚¹çš„å³ä¾§ï¼Œä½†ä¸ä¸€å®šæ˜¯è¯¥æ ‘èŠ‚ç‚¹çš„å³å­©å­ï¼Œä¹Ÿå¯èƒ½æ˜¯å³å­©å­çš„å·¦å­©å­ æˆ–è€… æ›´æ·±å±‚æ¬¡çš„èŠ‚ * ç‚¹ã€‚ * * å¦‚æžœå½“å‰æ ‘èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæœ€ç»ˆä¼šä»¥å½“å‰æ ‘èŠ‚ç‚¹çš„å·¦å­©å­æˆ–è€…å³å­©å­ä¸ºèµ·å§‹èŠ‚ç‚¹ å†ä»Ž * GOTO1 å¤„å¼€å§‹ é‡æ–°å¯»æ‰¾è‡ªå·±ï¼ˆå½“å‰é“¾è¡¨èŠ‚ç‚¹ï¼‰çš„ä½ç½®ã€‚ * å¦‚æžœå½“å‰æ ‘èŠ‚ç‚¹å°±æ˜¯å¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ ¹æ®dirçš„å€¼ï¼Œå°±å¯ä»¥æŠŠå½“å‰é“¾è¡¨èŠ‚ç‚¹æŒ‚è½½åˆ°å½“å‰æ ‘èŠ‚ç‚¹çš„å·¦æˆ– * è€…å³ä¾§äº†ã€‚ * æŒ‚è½½ä¹‹åŽï¼Œè¿˜éœ€è¦é‡æ–°æŠŠæ ‘è¿›è¡Œå¹³è¡¡ã€‚å¹³è¡¡ä¹‹åŽï¼Œå°±å¯ä»¥é’ˆå¯¹ä¸‹ä¸€ä¸ªé“¾è¡¨èŠ‚ç‚¹è¿›è¡Œå¤„ç†äº†ã€‚ */ if ((p = (dir &lt;= 0) ? p.left : p.right) == null) &#123; x.parent = xp; // å½“å‰é“¾è¡¨èŠ‚ç‚¹ ä½œä¸º å½“å‰æ ‘èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ if (dir &lt;= 0) xp.left = x; // ä½œä¸ºå·¦å­©å­ else xp.right = x; // ä½œä¸ºå³å­©å­ root = balanceInsertion(root, x); // é‡æ–°å¹³è¡¡ break; &#125; &#125; &#125; &#125; // æŠŠæ‰€æœ‰çš„é“¾è¡¨èŠ‚ç‚¹éƒ½éåŽ†å®Œä¹‹åŽï¼Œæœ€ç»ˆæž„é€ å‡ºæ¥çš„æ ‘å¯èƒ½ç»åŽ†å¤šä¸ªå¹³è¡¡æ“ä½œï¼Œæ ¹èŠ‚ç‚¹ç›®å‰åˆ°åº•æ˜¯é“¾è¡¨çš„å“ªä¸€ä¸ªèŠ‚ç‚¹æ˜¯ä¸ç¡®å®šçš„ // å› ä¸ºæˆ‘ä»¬è¦åŸºäºŽæ ‘æ¥åšæŸ¥æ‰¾ï¼Œæ‰€ä»¥å°±åº”è¯¥æŠŠ tab[N] å¾—åˆ°çš„å¯¹è±¡ä¸€å®šæ ¹èŠ‚ç‚¹å¯¹è±¡ï¼Œè€Œç›®å‰åªæ˜¯é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¯¹è±¡ï¼Œæ‰€ä»¥è¦åšç›¸åº”çš„å¤„ç†ã€‚ moveRootToFront(tab, root); &#125;&#125; é‡è¦æ–¹æ³•hashæ–¹æ³•1234567891011121314151617181920212223242526272829303132/** * è®¡ç®—keyçš„hashå€¼ï¼Œ * keyä¸ºnullåˆ™hashCodeä¸º0;ä¸ä¸ºnullåˆ™å°†keyçš„hashCodeèµ‹å€¼ç»™hï¼Œæœ€ç»ˆçš„hashCode = h ^ (h &gt;&gt;&gt; 16); * è¿™é‡Œæˆ‘ä»¬è¦è®²è®²æ•°ç»„ç´¢å¼•çš„è®¡ç®—æ–¹å¼ï¼š(n- 1) &amp; hash,nè¡¨ç¤ºtable.length * è¿™é‡Œé€šè¿‡key.hashCode()è®¡ç®—å‡ºkeyçš„å“ˆå¸Œå€¼ï¼Œç„¶åŽå°†å“ˆå¸Œå€¼hå³ç§»16ä½ï¼Œå†ä¸ŽåŽŸæ¥çš„håšå¼‚æˆ–^è¿ç®—ï¼Œè¿™ä¸€æ­¥æ˜¯é«˜ä½è¿ * ç®—ã€‚è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æžœæ²¡æœ‰é«˜ä½è¿ç®—ï¼Œé‚£ä¹ˆhashå€¼å°†æ˜¯ä¸€ä¸ªintåž‹çš„32ä½æ•°ã€‚è€Œä»Ž2çš„-31æ¬¡å¹‚åˆ°2çš„31æ¬¡å¹‚ä¹‹é—´ï¼Œæœ‰å°†è¿‘å‡  * åäº¿çš„ç©ºé—´ï¼Œå¦‚æžœæˆ‘ä»¬çš„HashMapçš„tableæœ‰è¿™ä¹ˆé•¿ï¼Œå†…å­˜æ—©å°±çˆ†äº†ã€‚æ‰€ä»¥è¿™ä¸ªæ•£åˆ—å€¼ä¸èƒ½ç›´æŽ¥ç”¨æ¥æœ€ç»ˆçš„å–æ¨¡è¿ç®—ï¼Œè€Œ * éœ€è¦å…ˆåŠ å…¥é«˜ä½è¿ç®—ï¼Œå°†é«˜16ä½å’Œä½Ž16ä½çš„ä¿¡æ¯\"èžåˆ\"åˆ°ä¸€èµ·ï¼Œä¹Ÿç§°ä¸º\"æ‰°åŠ¨å‡½æ•°\"ã€‚è¿™æ ·æ‰èƒ½ä¿è¯hashå€¼æ‰€æœ‰ä½çš„æ•°å€¼ * ç‰¹å¾éƒ½ä¿å­˜ä¸‹æ¥è€Œæ²¡æœ‰é—æ¼ï¼Œä»Žè€Œä½¿æ˜ å°„ç»“æžœå°½å¯èƒ½çš„æ¾æ•£ã€‚æœ€åŽï¼Œæ ¹æ® n-1 åšä¸Žæ“ä½œçš„å–æ¨¡è¿ç®—ã€‚è¿™é‡Œä¹Ÿèƒ½çœ‹å‡ºä¸ºä»€ä¹ˆ * HashMapè¦é™åˆ¶tableçš„é•¿åº¦ä¸º2çš„næ¬¡å¹‚ï¼Œå› ä¸ºè¿™æ ·ï¼Œn-1å¯ä»¥ä¿è¯äºŒè¿›åˆ¶å±•ç¤ºå½¢å¼æ˜¯ï¼ˆä»¥16ä¸ºä¾‹ï¼‰0000 0000 0000 * 0000 0000 0000 0000 1111ã€‚åœ¨åš\"ä¸Ž\"æ“ä½œæ—¶ï¼Œå°±ç­‰åŒäºŽæˆªå–hashäºŒè¿›åˆ¶å€¼å¾—åŽå››ä½æ•°æ®ä½œä¸ºä¸‹æ ‡ã€‚è¿™é‡Œä¹Ÿå¯ä»¥çœ‹ * å‡º\"æ‰°åŠ¨å‡½æ•°\"çš„é‡è¦æ€§äº†ï¼Œå¦‚æžœé«˜ä½ä¸å‚ä¸Žè¿ç®—ï¼Œé‚£ä¹ˆé«˜16ä½çš„hashç‰¹å¾å‡ ä¹Žæ°¸è¿œå¾—ä¸åˆ°å±•çŽ°ï¼Œå‘ç”Ÿhashç¢°æ’žçš„å‡ çŽ‡å°± * ä¼šå¢žå¤§ï¼Œä»Žè€Œå½±å“æ€§èƒ½ã€‚ * Computes key.hashCode() and spreads (XORs) higher bits of hash * to lower. Because the table uses power-of-two masking, sets of * hashes that vary only in bits above the current mask will * always collide. (Among known examples are sets of Float keys * holding consecutive whole numbers in small tables.) So we * apply a transform that spreads the impact of higher bits * downward. There is a tradeoff between speed, utility, and * quality of bit-spreading. Because many common sets of hashes * are already reasonably distributed (so don't benefit from * spreading), and because we use trees to handle large sets of * collisions in bins, we just XOR some shifted bits in the * cheapest possible way to reduce systematic lossage, as well as * to incorporate impact of the highest bits that would otherwise * never be used in index calculations because of table bounds. */static final int hash(Object key) &#123; int h; return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);&#125; putæ–¹æ³•1234// æˆ‘ä»¬å®žé™…ç”¨çš„putæ–¹æ³•ï¼Œåº•å±‚è°ƒç”¨çš„æ˜¯putValæ–¹æ³•public V put(K key, V value) &#123; return putVal(hash(key), key, value, false, true);&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586/** * Implements Map.put and related methods. * * @param hash hash for key * @param key the key * @param value the value to put * @param onlyIfAbsent if true, don't change existing value * (onlyIfAbsentä¸ºtrueæ—¶ï¼Œå¦‚æžœkeyå­˜åœ¨ï¼Œå°±ä¸ä¼šè¿›è¡Œputæ“ä½œï¼ŒåŽŸæœ‰çš„å¯¹åº”çš„valueä¸ä¼šè¢«è¦†ç›–) * @param evict if false, the table is in creation mode. * (evictå‚æ•°ç”¨äºŽLinkedHashMapä¸­çš„å°¾éƒ¨æ“ä½œï¼Œè¿™é‡Œæ²¡æœ‰å®žé™…æ„ä¹‰ã€‚) * @return previous value, or null if none */final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) &#123; // å®šä¹‰å˜é‡tabæ˜¯å°†è¦æ“ä½œçš„Nodeæ•°ç»„å¼•ç”¨ï¼Œpè¡¨ç¤ºtabä¸Šçš„æŸNodeèŠ‚ç‚¹ï¼Œnä¸ºtabçš„é•¿åº¦ï¼Œiä¸ºtabçš„ä¸‹æ ‡ã€‚ Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i; // åˆ¤æ–­å½“tableä¸ºnullæˆ–è€…tabçš„é•¿åº¦ä¸º0æ—¶ï¼Œå³tableå°šæœªåˆå§‹åŒ–ï¼Œæ­¤æ—¶é€šè¿‡resize()æ–¹æ³•å¾—åˆ°åˆå§‹åŒ–çš„tableã€‚ if ((tab = table) == null || (n = tab.length) == 0) // è¿™ç§æƒ…å†µæ˜¯å¯èƒ½å‘ç”Ÿçš„ï¼ŒHashMapçš„tableå­—æ®µæ³¨é‡Šä¸­æåˆ°ï¼šThe table, initialized on first use, and resized as necessaryã€‚ n = (tab = resize()).length; // æ­¤å¤„é€šè¿‡(n - 1)&amp; hashè®¡ç®—å‡ºçš„å€¼ä½œä¸ºtabçš„ä¸‹æ ‡iï¼Œå¹¶å¦pè¡¨ç¤ºtab[i]ï¼Œä¹Ÿå°±æ˜¯è¯¥é“¾è¡¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®ã€‚å¹¶åˆ¤æ–­pæ˜¯å¦ä¸ºnullã€‚ if ((p = tab[i = (n - 1) &amp; hash]) == null) // å½“pä¸ºnullæ—¶ï¼Œè¡¨æ˜Žtab[i]ä¸Šæ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œå³ä¸å­˜åœ¨Hashå†²çªï¼Œé‚£ä¹ˆæŽ¥ä¸‹æ¥å°±newç¬¬ä¸€ä¸ªNodeèŠ‚ç‚¹ï¼Œè°ƒç”¨newNodeæ–¹æ³•è¿”å›žæ–°èŠ‚ç‚¹èµ‹å€¼ç»™tab[i]ã€‚è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯i = (n - 1) &amp; hashç›¸å½“äºŽå¯¹hashå¯¹nçš„å–æ¨¡ tab[i] = newNode(hash, key, value, null); // ä¸‹é¢è¿›å…¥pä¸ä¸ºnullçš„æƒ…å†µï¼Œæœ‰ä¸‰ç§æƒ…å†µï¼špä¸ºé“¾è¡¨èŠ‚ç‚¹ï¼›pä¸ºçº¢é»‘æ ‘èŠ‚ç‚¹ï¼›pæ˜¯é“¾è¡¨èŠ‚ç‚¹ä½†é•¿åº¦ä¸ºä¸´ç•Œé•¿åº¦TREEIFY_THRESHOLDï¼Œå†æ’å…¥ä»»ä½•å…ƒç´ å°±è¦å˜æˆçº¢é»‘æ ‘äº†ã€‚ else &#123; // å®šä¹‰eå¼•ç”¨,è¡¨ç¤ºå³å°†æ’å…¥çš„NodeèŠ‚ç‚¹ï¼Œå¹¶ä¸”ä¸‹æ–‡å¯ä»¥çœ‹å‡º k = p.keyã€‚ Node&lt;K,V&gt; e; K k; if (p.hash == hash &amp;&amp; // HashMapä¸­åˆ¤æ–­keyç›¸åŒçš„æ¡ä»¶æ˜¯keyçš„hashç›¸åŒï¼ˆHashæ˜¯å¦å†²çªï¼‰ï¼Œå¹¶ä¸”ç¬¦åˆequalsæ–¹æ³•ã€‚è¿™é‡Œåˆ¤æ–­äº†p.keyæ˜¯å¦å’Œæ’å…¥çš„keyç›¸ç­‰ï¼Œå¦‚æžœç›¸ç­‰ï¼Œåˆ™å°†pçš„å¼•ç”¨èµ‹ç»™eã€‚eä¼šåœ¨æœ€åŽç»Ÿä¸€è¿›è¡Œèµ‹å€¼åŠè¿”å›žã€‚ ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) // è¿™ä¸€æ­¥çš„åˆ¤æ–­å…¶å®žæ˜¯å±žäºŽä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œä¸Šè¿°ä¸‰ä¸ªæ¡ä»¶éƒ½æ»¡è¶³ï¼Œå³ä¸¤è€…hashå€¼ç›¸åŒä¸”keyå®Œå…¨ç›¸åŒï¼ŒäºŽæ˜¯æ’å…¥æ“ä½œå°±ä¸éœ€è¦äº†ï¼Œåªè¦æŠŠåŽŸæ¥çš„valueè¦†ç›–å°±å¯ä»¥äº†ã€‚eä¼šåœ¨æœ€åŽç»Ÿä¸€è¿›è¡Œèµ‹å€¼åŠè¿”å›žï¼Œè¿™é‡Œå…ˆä¸è¿›è¡Œè¦†ç›–æ“ä½œã€‚ e = p; else if (p instanceof TreeNode) // çŽ°åœ¨å¼€å§‹äº†ç¬¬ä¸€ç§æƒ…å†µï¼Œå½“å‰æ¡¶pæ˜¯çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè‚¯å®šæ’å…¥åŽä»ç„¶æ˜¯çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œå°±è¦æŒ‰ç…§çº¢é»‘æ ‘çš„æ–¹å¼å†™å…¥æ•°æ®ã€‚æ‰€ä»¥æˆ‘ä»¬ç›´æŽ¥å¼ºåˆ¶è½¬åž‹påŽè°ƒç”¨TreeNode.putTreeValæ–¹æ³•ï¼Œè¿”å›žçš„å¼•ç”¨èµ‹ç»™eã€‚ // ä½ å¯èƒ½å¥½å¥‡ï¼Œè¿™é‡Œæ€Žä¹ˆä¸éåŽ†treeçœ‹çœ‹æœ‰æ²¡æœ‰keyç›¸åŒçš„èŠ‚ç‚¹å‘¢ï¼Ÿå…¶å®žï¼ŒputTreeValå†…éƒ¨è¿›è¡Œäº†éåŽ†ï¼Œå­˜åœ¨ç›¸åŒhashæ—¶è¿”å›žè¢«è¦†ç›–çš„TreeNodeï¼Œå¦åˆ™è¿”å›žnullã€‚ e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value); // æŽ¥ä¸‹é‡Œå°±æ˜¯pä¸ºé“¾è¡¨èŠ‚ç‚¹çš„æƒ…å½¢ï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°è¯´çš„å¦å¤–ä¸¤ç±»æƒ…å†µï¼šæ’å…¥åŽè¿˜æ˜¯é“¾è¡¨/æ’å…¥åŽè½¬çº¢é»‘æ ‘ã€‚å¦å¤–ï¼Œä¸Šè¡Œè½¬åž‹ä»£ç ä¹Ÿè¯´æ˜Žäº†TreeNodeæ˜¯Nodeçš„ä¸€ä¸ªå­ç±»ã€‚ else &#123; // æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè®¡æ•°å™¨æ¥è®¡ç®—å½“å‰é“¾è¡¨çš„å…ƒç´ ä¸ªæ•°ï¼Œå¹¶éåŽ†é“¾è¡¨ï¼ŒbinCountå°±æ˜¯è¿™ä¸ªè®¡æ•°å™¨ã€‚ for (int binCount = 0; ; ++binCount) &#123; // éåŽ†è¿‡ç¨‹ä¸­å½“å‘çŽ°p.nextä¸ºnullæ—¶ï¼Œè¯´æ˜Žé“¾è¡¨åˆ°å¤´äº†ï¼Œå°±éœ€è¦å°†å½“å‰çš„keyã€valueå°è£…æˆä¸€ä¸ªæ–°èŠ‚ç‚¹,å°†æ–°çš„é“¾è¡¨èŠ‚ç‚¹ç›´æŽ¥åœ¨pçš„åŽé¢æ’å…¥å³å¯ï¼Œå³æŠŠæ–°èŠ‚ç‚¹çš„å¼•ç”¨èµ‹ç»™p.nextï¼Œæ’å…¥æ“ä½œå°±å®Œæˆäº†ã€‚æ³¨æ„æ­¤æ—¶eèµ‹ç»™pã€‚ if ((e = p.next) == null) &#123; // æœ€åŽä¸€ä¸ªå‚æ•°ä¸ºæ–°èŠ‚ç‚¹çš„nextï¼Œè¿™é‡Œä¼ å…¥nullï¼Œä¿è¯äº†æ–°èŠ‚ç‚¹ç»§ç»­ä¸ºè¯¥é“¾è¡¨çš„æœ«ç«¯ã€‚ p.next = newNode(hash, key, value, null); // æ’å…¥æˆåŠŸåŽï¼Œè¦åˆ¤æ–­æ˜¯å¦éœ€è¦è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œå› ä¸ºæ’å…¥åŽé“¾è¡¨é•¿åº¦åŠ 1ï¼Œè€ŒbinCountå¹¶ä¸åŒ…å«æ–°èŠ‚ç‚¹ï¼Œæ‰€ä»¥åˆ¤æ–­æ—¶è¦å°†ä¸´ç•Œé˜ˆå€¼å‡1ã€‚binCountå¤§äºŽç­‰äºŽ7ï¼ˆå…¶å®žå®žé™…ä¸Šé“¾è¡¨æ­¤æ—¶çš„å¤§å°ä¸º8ï¼‰æ—¶è½¬æ¢ä¸ºçº¢é»‘æ ‘è¿›è¡Œå¤„ç† if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st // å½“æ»¡è¶³ä¸Šè¿°è½¬æ¢æ¡ä»¶æ—¶ï¼Œè°ƒç”¨treeifyBinæ–¹æ³•ï¼Œå°†è¯¥é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚ treeifyBin(tab, hash); // å½“ç„¶å¦‚æžœä¸æ»¡è¶³è½¬æ¢æ¡ä»¶ï¼Œé‚£ä¹ˆæ’å…¥æ•°æ®åŽç»“æž„ä¹Ÿæ— éœ€å˜åŠ¨ï¼Œæ‰€æœ‰æ’å…¥æ“ä½œä¹Ÿåˆ°æ­¤ç»“æŸäº†ï¼Œbreaké€€å‡ºå³å¯ã€‚ break; &#125; // åœ¨éåŽ†é“¾è¡¨çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½éåŽ†åˆ°ä¸Žæ’å…¥çš„keyç›¸åŒçš„èŠ‚ç‚¹ï¼Œæ­¤æ—¶åªè¦å°†è¿™ä¸ªèŠ‚ç‚¹å¼•ç”¨èµ‹å€¼ç»™eï¼Œæœ€åŽé€šè¿‡eåŽ»æŠŠæ–°çš„valueè¦†ç›–æŽ‰å°±å¯ä»¥äº†ã€‚ if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) // æ‰¾åˆ°äº†ç›¸åŒkeyçš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ’å…¥æ“ä½œä¹Ÿä¸éœ€è¦äº†ï¼Œç›´æŽ¥breaké€€å‡ºå¾ªçŽ¯è¿›è¡Œæœ€åŽçš„valueè¦†ç›–æ“ä½œã€‚ break; // eæ˜¯å½“å‰éåŽ†çš„èŠ‚ç‚¹pçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œp = e å°±æ˜¯ä¾æ¬¡éåŽ†é“¾è¡¨çš„æ ¸å¿ƒè¯­å¥ã€‚æ¯æ¬¡å¾ªçŽ¯æ—¶péƒ½æ˜¯ä¸‹ä¸€ä¸ªnodeèŠ‚ç‚¹ã€‚ p = e; &#125; &#125; // ä¸‹é¢JDKæ³¨é‡Šå·²ç»å¾ˆæ¸…æ™°äº†ï¼Œé’ˆå¯¹å·²ç»å­˜åœ¨keyçš„æƒ…å†µåšå¤„ç†ã€‚å³æˆ‘ä»¬å¯¹eè¿›è¡Œå¤„ç†ã€‚ if (e != null) &#123; // existing mapping for key //å®šä¹‰oldValueï¼Œå³åŽŸå­˜åœ¨çš„èŠ‚ç‚¹eçš„valueå€¼ã€‚ V oldValue = e.value; // æ–¹æ³•æ³¨é‡Šæåˆ°ï¼ŒonlyIfAbsentä¸ºtrueæ—¶ï¼Œè‹¥å­˜åœ¨keyç›¸åŒæ—¶ä¸åšè¦†ç›–å¤„ç†ï¼Œè¿™é‡Œä½œä¸ºåˆ¤æ–­æ¡ä»¶ï¼Œå¯ä»¥çœ‹å‡ºå½“onlyIfAbsentä¸ºé»˜è®¤å€¼falseæˆ–è€…oldValueä¸ºnullæ—¶ï¼Œè¿›è¡Œè¦†ç›–æ“ä½œã€‚ if (!onlyIfAbsent || oldValue == null) // è¦†ç›–æ“ä½œï¼Œå°†åŽŸèŠ‚ç‚¹eä¸Šçš„valueè®¾ç½®ä¸ºæ’å…¥çš„æ–°valueã€‚ e.value = value; // è¿™ä¸ªå‡½æ•°åœ¨hashmapä¸­æ²¡æœ‰ä»»ä½•æ“ä½œï¼Œæ˜¯ä¸ªç©ºå‡½æ•°ï¼Œå®ƒå­˜åœ¨ä¸»è¦æ˜¯ä¸ºäº†linkedHashMapçš„ä¸€äº›åŽç»­å¤„ç†å·¥ä½œã€‚ afterNodeAccess(e); // è¿”å›žçš„æ˜¯è¢«è¦†ç›–çš„oldValueã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨putæ–¹æ³•æ—¶å¾ˆå°‘ç”¨ä»–çš„è¿”å›žå€¼ï¼Œç”šè‡³å¿˜äº†å®ƒçš„å­˜åœ¨ï¼Œè¿™é‡Œæˆ‘ä»¬çŸ¥é“ï¼Œä»–è¿”å›žçš„æ˜¯è¢«è¦†ç›–çš„oldValueã€‚ return oldValue; &#125; &#125; // æ”¶å°¾å·¥ä½œï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¯¹keyç›¸åŒè€Œè¦†ç›–oldValueçš„æƒ…å†µï¼Œåœ¨å‰é¢å·²ç»returnï¼Œä¸ä¼šæ‰§è¡Œè¿™é‡Œï¼Œæ‰€ä»¥é‚£ä¸€ç±»æƒ…å†µä¸ç®—æ•°æ®ç»“æž„å˜åŒ–ï¼Œå¹¶ä¸æ”¹å˜modCountå€¼ã€‚å¦‚æžœèµ°åˆ°è¿™é‡Œï¼Œè¯´æ˜Žå·²ç»æ–°å¢žä¸€ä¸ªKey-Valueçš„NodeèŠ‚ç‚¹ï¼ŒmodCountè¦è‡ªå¢ž ++modCount; // åŒç†ï¼Œè¦†ç›–oldValueæ—¶æ˜¾ç„¶æ²¡æœ‰æ–°å…ƒç´ æ·»åŠ ï¼Œé™¤æ­¤ä¹‹å¤–éƒ½æ–°å¢žäº†ä¸€ä¸ªå…ƒç´ ï¼Œè¿™é‡Œ++sizeå¹¶ä¸Žthresholdåˆ¤æ–­æ˜¯å¦è¾¾åˆ°äº†æ‰©å®¹æ ‡å‡†ã€‚ if (++size &gt; threshold) // å½“HashMapä¸­å­˜åœ¨çš„nodeèŠ‚ç‚¹å¤§äºŽthresholdæ—¶ï¼Œhashmapè¿›è¡Œæ‰©å®¹ã€‚ resize(); // è¿™é‡Œä¸Žå‰é¢çš„afterNodeAccessåŒç†ï¼Œæ˜¯ç”¨äºŽlinkedHashMapçš„å°¾éƒ¨æ“ä½œï¼ŒHashMapä¸­å¹¶æ— å®žé™…æ„ä¹‰ã€‚ afterNodeInsertion(evict); // æœ€ç»ˆï¼Œå¯¹äºŽçœŸæ­£è¿›è¡Œæ’å…¥å…ƒç´ (ä¸æ˜¯è¦†ç›–çš„æ“ä½œ)çš„æƒ…å†µï¼Œputå‡½æ•°ä¸€å¾‹è¿”å›žnullã€‚ return null;&#125; getæ–¹æ³•123456// æˆ‘ä»¬å®žé™…ç”¨çš„getæ–¹æ³•ï¼Œåº•å±‚è°ƒç”¨çš„æ˜¯getNodeæ–¹æ³•public V get(Object key) &#123; Node&lt;K,V&gt; e; // æ ¹æ®keyåŠå…¶hashå€¼æŸ¥è¯¢nodeèŠ‚ç‚¹ï¼Œå¦‚æžœå­˜åœ¨ï¼Œåˆ™è¿”å›žè¯¥èŠ‚ç‚¹çš„valueå€¼ï¼›å¦‚æžœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›žnullã€‚ return (e = getNode(hash(key), key)) == null ? null : e.value;&#125; 1234567891011121314151617181920212223242526272829303132333435363738/** * Implements Map.get and related methods. * * @param hash hash for key * @param key the key * @return the node, or null if none ã€‚ * å¦‚æžœæ‰¾åˆ°nodeè¿”å›žnodeï¼Œæ²¡æœ‰æ‰¾åˆ°nodeåˆ™è¿”å›žnull * æ ¹æ®keyæœç´¢èŠ‚ç‚¹çš„æ–¹æ³•ã€‚è®°ä½åˆ¤æ–­keyç›¸ç­‰çš„æ¡ä»¶ï¼šhashå€¼ç›¸åŒ å¹¶ä¸” ç¬¦åˆequalsæ–¹æ³•ã€‚ */final Node&lt;K,V&gt; getNode(int hash, Object key) &#123; // å®šä¹‰å˜é‡tabæ˜¯å°†è¦éåŽ†æŸ¥æ‰¾çš„Nodeæ•°ç»„å¼•ç”¨ï¼Œfirstå’Œeè¡¨ç¤ºtabä¸Šçš„æ‰¾åˆ°çš„NodeèŠ‚ç‚¹ï¼Œnä¸ºtabçš„é•¿åº¦ï¼Œkä¸ºKey Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k; // æ ¹æ®è¾“å…¥çš„hashå€¼ï¼Œå¯ä»¥ç›´æŽ¥è®¡ç®—å‡ºå¯¹åº”çš„ä¸‹æ ‡(n - 1) &amp; hashï¼Œç¼©å°æŸ¥è¯¢èŒƒå›´ï¼Œå¦‚æžœå­˜åœ¨ç»“æžœï¼Œåˆ™å¿…å®šåœ¨tableçš„è¿™ä¸ªä½ç½®ä¸Šã€‚ if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (first = tab[(n - 1) &amp; hash]) != null) &#123; if (first.hash == hash &amp;&amp; // always check first node ((k = first.key) == key || (key != null &amp;&amp; key.equals(k)))) // åˆ¤æ–­ç¬¬ä¸€ä¸ªå­˜åœ¨çš„èŠ‚ç‚¹çš„keyæ˜¯å¦å’ŒæŸ¥è¯¢çš„keyç›¸ç­‰ã€‚å¦‚æžœç›¸ç­‰ï¼Œç›´æŽ¥è¿”å›žè¯¥èŠ‚ç‚¹ã€‚ return first; // å¦‚æžœç¬¬ä¸€ä¸ªä¸åŒ¹é…ï¼Œåˆ™åˆ¤æ–­å®ƒçš„ä¸‹ä¸€ä¸ªæ˜¯çº¢é»‘æ ‘è¿˜æ˜¯é“¾è¡¨ã€‚éåŽ†è¯¥é“¾è¡¨/çº¢é»‘æ ‘ç›´åˆ°nextä¸ºnullã€‚ if ((e = first.next) != null) &#123; // çº¢é»‘æ ‘å°±æŒ‰ç…§æ ‘çš„æŸ¥æ‰¾æ–¹å¼è¿”å›žå€¼ã€‚ if (first instanceof TreeNode) // å½“è¿™ä¸ªtableèŠ‚ç‚¹ä¸Šå­˜å‚¨çš„æ˜¯çº¢é»‘æ ‘ç»“æž„æ—¶ï¼Œåœ¨æ ¹èŠ‚ç‚¹firstä¸Šè°ƒç”¨getTreeNodeæ–¹æ³•ï¼Œåœ¨å†…éƒ¨éåŽ†çº¢é»‘æ ‘èŠ‚ç‚¹ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰åŒ¹é…çš„TreeNodeã€‚ return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key); // é“¾è¡¨çš„æ–¹å¼éåŽ†åŒ¹é…è¿”å›žå€¼ã€‚ do &#123; // å½“è¿™ä¸ªtableèŠ‚ç‚¹ä¸Šå­˜å‚¨çš„æ˜¯é“¾è¡¨ç»“æž„æ—¶ï¼Œè‹¥ä¸¤è€…hashç›¸åŒä¸”keyæ˜¯å¦å®Œå…¨ç›¸åŒåˆ™ç›´æŽ¥è¿”å›žã€‚ if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) return e; // å¦‚æžœkeyä¸åŒï¼Œä¸€ç›´éåŽ†ä¸‹åŽ»ç›´åˆ°é“¾è¡¨å°½å¤´ï¼Œç›´åˆ°e.next == nullæ‰ç»ˆæ­¢å¾ªçŽ¯ã€‚ &#125; while ((e = e.next) != null); &#125; &#125; // æ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å›žnullã€‚ return null;&#125; resizeæ–¹æ³•123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151/** * mapæ‰©å®¹æœºåˆ¶ * Initializes or doubles table size. If null, allocates in * accord with initial capacity target held in field threshold. * Otherwise, because we are using power-of-two expansion, the * elements from each bin must either stay at same index, or move * with a power of two offset in the new table. * * @return the table */final Node&lt;K,V&gt;[] resize() &#123; // å½“å‰æ‰€æœ‰å…ƒç´ æ‰€åœ¨çš„æ•°ç»„ï¼Œç§°ä¸ºè€çš„å…ƒç´ æ•°ç»„ Node&lt;K,V&gt;[] oldTab = table; // è€çš„å…ƒç´ æ•°ç»„é•¿åº¦ int oldCap = (oldTab == null) ? 0 : oldTab.length; // è€çš„æ‰©å®¹é˜€å€¼è®¾ç½® int oldThr = threshold; // æ–°æ•°ç»„çš„å®¹é‡ï¼Œæ–°æ•°ç»„çš„æ‰©å®¹é˜€å€¼éƒ½åˆå§‹åŒ–ä¸º0 int newCap, newThr = 0; // å¦‚æžœè€æ•°ç»„é•¿åº¦å¤§äºŽ0ï¼Œè¯´æ˜Žå·²ç»å­˜åœ¨å…ƒç´  if (oldCap &gt; 0) &#123; // è¶…è¿‡æœ€å¤§å€¼å°±ä¸å†æ‰©å……äº†ï¼Œå³2çš„30æ¬¡æ–¹æ—¶ï¼Œå°±åªå¥½éšä½ ç¢°æ’žåŽ»å§ if (oldCap &gt;= MAXIMUM_CAPACITY) &#123; // æ‰©å®¹é˜€å€¼è®¾ç½®ä¸ºintæœ€å¤§å€¼ï¼ˆ2çš„31æ¬¡æ–¹ -1 ï¼‰ï¼Œå› ä¸ºoldCapå†ä¹˜2å°±æº¢å‡ºäº†ã€‚ threshold = Integer.MAX_VALUE; // è¶…è¿‡äº†æœ€å¤§çš„å®¹é‡ï¼Œä¸èƒ½æ‰©å®¹ï¼Œç›´æŽ¥è¿”å›žè€çš„å…ƒç´ æ•°ç»„ return oldTab; &#125; /* æ²¡è¶…è¿‡æœ€å¤§å€¼ï¼Œå°±æ‰©å……ä¸ºåŽŸæ¥çš„2å€ * å¦‚æžœæ•°ç»„å…ƒç´ ä¸ªæ•°åœ¨æ­£å¸¸èŒƒå›´å†…ï¼Œé‚£ä¹ˆæ–°çš„æ•°ç»„å®¹é‡ä¸ºè€çš„æ•°ç»„å®¹é‡çš„2å€ï¼ˆå·¦ç§»1ä½ç›¸å½“äºŽä¹˜ä»¥2ï¼‰ * å¦‚æžœæ‰©å®¹ä¹‹åŽçš„æ–°å®¹é‡å°äºŽæœ€å¤§å®¹é‡å¹¶ä¸”è€çš„æ•°ç»„å®¹é‡å¤§äºŽç­‰äºŽé»˜è®¤åˆå§‹åŒ–å®¹é‡ï¼ˆ16ï¼‰ï¼Œé‚£ä¹ˆæ–°æ•°ç»„çš„æ‰© * å®¹é˜€å€¼è®¾ç½®ä¸ºè€é˜€å€¼çš„2å€ã€‚ï¼ˆè€çš„æ•°ç»„å®¹é‡å¤§äºŽ16æ„å‘³ç€ï¼šè¦ä¹ˆæž„é€ å‡½æ•°æŒ‡å®šäº†ä¸€ä¸ªå¤§äºŽ16çš„åˆå§‹åŒ–å®¹é‡å€¼ï¼Œ * è¦ä¹ˆå·²ç»ç»åŽ†è¿‡äº†è‡³å°‘ä¸€æ¬¡æ‰©å®¹ï¼‰ */ else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp; oldCap &gt;= DEFAULT_INITIAL_CAPACITY) newThr = oldThr &lt;&lt; 1; // double threshold &#125; // è¿è¡Œåˆ°è¿™ä¸ªelse if,è¯´æ˜Žè€æ•°ç»„æ²¡æœ‰ä»»ä½•å…ƒç´  else if (oldThr &gt; 0) // initial capacity was placed in threshold // å¦‚æžœè€æ•°ç»„çš„æ‰©å®¹é˜€å€¼å¤§äºŽ0ï¼Œé‚£ä¹ˆè®¾ç½®æ–°æ•°ç»„çš„å®¹é‡ä¸ºè¯¥é˜€å€¼,è¿™ä¸€æ­¥ä¹Ÿå°±æ„å‘³ç€æž„é€ è¯¥mapçš„æ—¶å€™ï¼ŒæŒ‡å®šäº†åˆå§‹åŒ–å®¹é‡ newCap = oldThr; else &#123; // zero initial threshold signifies using defaults // èƒ½è¿è¡Œåˆ°è¿™é‡Œçš„è¯ï¼Œè¯´æ˜Žæ˜¯è°ƒç”¨æ— å‚æž„é€ å‡½æ•°åˆ›å»ºçš„è¯¥mapï¼Œå¹¶ä¸”ç¬¬ä¸€æ¬¡æ·»åŠ å…ƒç´  // è®¾ç½®æ–°æ•°ç»„å®¹é‡ä¸º16 newCap = DEFAULT_INITIAL_CAPACITY; // è®¾ç½®æ–°æ•°ç»„æ‰©å®¹é˜€å€¼ä¸º 16 * 0.75 = 12ã€‚0.75ä¸ºè´Ÿè½½å› å­(å½“å…ƒç´ ä¸ªæ•°è¾¾åˆ°å®¹é‡äº†4åˆ†ä¹‹3ï¼Œé‚£ä¹ˆæ‰©å®¹) newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY); &#125; // å¦‚æžœæ‰©å®¹é˜€å€¼ä¸º0 if (newThr == 0) &#123; // è®¡ç®—æ–°çš„resizeä¸Šé™ float ft = (float)newCap * loadFactor; // è®¡ç®—æ‰©å®¹é˜€å€¼ newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ? (int)ft : Integer.MAX_VALUE); &#125; // è®¾ç½®æ–°æ•°ç»„çš„æ‰©å®¹é˜€å€¼ threshold = newThr; @SuppressWarnings(&#123;\"rawtypes\",\"unchecked\"&#125;) // åˆ›å»ºæ–°çš„æ•°ç»„ï¼ˆå¯¹äºŽç¬¬ä¸€æ¬¡æ·»åŠ å…ƒç´ ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„å°±æ˜¯ç¬¬ä¸€ä¸ªæ•°ç»„ï¼›å¯¹äºŽå­˜åœ¨oldTabçš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„å°±æ˜¯è¦éœ€è¦æ‰©å®¹åˆ°çš„æ–°æ•°ç»„ï¼‰ Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap]; // å°†è¯¥mapçš„tableå±žæ€§æŒ‡å‘åˆ°è¯¥æ–°æ•°ç»„newTab table = newTab; // å¦‚æžœè€æ•°ç»„ä¸ä¸ºç©ºï¼Œè¯´æ˜Žæ˜¯æ‰©å®¹æ“ä½œï¼Œé‚£ä¹ˆæ¶‰åŠåˆ°å…ƒç´ çš„è½¬ç§»æ“ä½œ if (oldTab != null) &#123; // éåŽ†è€æ•°ç»„æŠŠæ¯ä¸ªbucketéƒ½ç§»åŠ¨åˆ°æ–°çš„bucketsä¸­ for (int j = 0; j &lt; oldCap; ++j) &#123; // æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´  Node&lt;K,V&gt; e; // å¦‚æžœå½“å‰ä½ç½®å…ƒç´ ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆéœ€è¦è½¬ç§»è¯¥å…ƒç´ åˆ°æ–°æ•°ç»„ if ((e = oldTab[j]) != null) &#123; // é‡Šæ”¾æŽ‰è€æ•°ç»„å¯¹äºŽè¦è½¬ç§»èµ°çš„å…ƒç´ çš„å¼•ç”¨ï¼ˆä¸»è¦ä¸ºäº†ä½¿å¾—æ•°ç»„å¯è¢«å›žæ”¶ï¼‰ oldTab[j] = null; // å¦‚æžœå…ƒç´ æ²¡æœ‰æœ‰ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¯´æ˜Žè¯¥å…ƒç´ ä¸å­˜åœ¨hashå†²çª if (e.next == null) // æŠŠå…ƒç´ å­˜å‚¨åˆ°æ–°çš„æ•°ç»„ä¸­ï¼Œå­˜å‚¨åˆ°æ•°ç»„çš„å“ªä¸ªä½ç½®éœ€è¦æ ¹æ®hashå€¼å’Œæ•°ç»„é•¿åº¦æ¥è¿›è¡Œå–æ¨¡ // ã€hashå€¼ % æ•°ç»„é•¿åº¦ã€‘ = ã€ hashå€¼ &amp; ï¼ˆæ•°ç»„é•¿åº¦-1ï¼‰ã€‘ // è¿™ç§ä¸Žè¿ç®—æ±‚æ¨¡çš„æ–¹å¼è¦æ±‚ æ•°ç»„é•¿åº¦å¿…é¡»æ˜¯2çš„Næ¬¡æ–¹ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡æž„é€ å‡½æ•°éšæ„æŒ‡å®šåˆå§‹åŒ–å®¹é‡å‘€ï¼Œå¦‚æžœæŒ‡å®šäº†17,15è¿™ç§ï¼Œå²‚ä¸æ˜¯å‡ºé—®é¢˜äº†å°±ï¼Ÿæ²¡å…³ç³»ï¼Œæœ€ç»ˆä¼šé€šè¿‡tableSizeForæ–¹æ³•å°†ç”¨æˆ·æŒ‡å®šçš„è½¬åŒ–ä¸ºå¤§äºŽå…¶å¹¶ä¸”æœ€ç›¸è¿‘çš„2çš„Næ¬¡æ–¹ã€‚ 15 -&gt; 16ã€17-&gt; 32 newTab[e.hash &amp; (newCap - 1)] = e; /* * å¦‚æžœè¯¥å…ƒç´ æœ‰ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯´æ˜Žè¯¥ä½ç½®ä¸Šå­˜åœ¨ä¸€ä¸ªé“¾è¡¨äº†ï¼ˆhashç›¸åŒçš„å¤šä¸ªå…ƒç´ ä»¥é“¾è¡¨çš„æ–¹å¼å­˜ * å‚¨åˆ°äº†è€æ•°ç»„çš„è¿™ä¸ªä½ç½®ä¸Šäº†ï¼‰ã€‚ä¾‹å¦‚ï¼šæ•°ç»„é•¿åº¦ä¸º16ï¼Œé‚£ä¹ˆhashå€¼ä¸º1ï¼ˆ1%16=1ï¼‰çš„å’Œhashå€¼ä¸º * 17ï¼ˆ17%16=1ï¼‰çš„ä¸¤ä¸ªå…ƒç´ éƒ½æ˜¯ä¼šå­˜å‚¨åœ¨æ•°ç»„çš„ç¬¬2ä¸ªä½ç½®ä¸Šï¼ˆå¯¹åº”æ•°ç»„ä¸‹æ ‡ä¸º1ï¼‰ï¼Œå½“æ•°ç»„æ‰©å®¹ä¸º * 32ï¼ˆ1%32=1ï¼‰æ—¶ï¼Œhashå€¼ä¸º1çš„è¿˜åº”è¯¥å­˜å‚¨åœ¨æ–°æ•°ç»„çš„ç¬¬äºŒä¸ªä½ç½®ä¸Šï¼Œä½†æ˜¯hashå€¼ä¸º17(17%32=1 * 7)çš„å°±åº”è¯¥å­˜å‚¨åœ¨æ–°æ•°ç»„çš„ç¬¬18ä¸ªä½ç½®ä¸Šäº†ã€‚æ‰€ä»¥ï¼Œæ•°ç»„æ‰©å®¹åŽï¼Œæ‰€æœ‰å…ƒç´ éƒ½éœ€è¦é‡æ–°è®¡ç®—åœ¨æ–°æ•°ç»„ * ä¸­çš„ä½ç½®ã€‚ */ else if (e instanceof TreeNode) // å¦‚æžœè¯¥èŠ‚ç‚¹ä¸ºTreeNodeç±»åž‹ ((TreeNode&lt;K,V&gt;)e).split(this, newTab, j, oldCap); else &#123; // preserve order // é“¾è¡¨ä¼˜åŒ–é‡hashçš„ä»£ç å— // æŒ‰å‘½åæ¥ç¿»è¯‘çš„è¯ï¼Œåº”è¯¥å«ä½Žä½é¦–å°¾èŠ‚ç‚¹ Node&lt;K,V&gt; loHead = null, loTail = null; // æŒ‰å‘½åæ¥ç¿»è¯‘çš„è¯ï¼Œåº”è¯¥å«é«˜ä½é¦–å°¾èŠ‚ç‚¹ Node&lt;K,V&gt; hiHead = null, hiTail = null; // ä»¥ä¸Šçš„ä½Žä½æŒ‡çš„æ˜¯æ–°æ•°ç»„çš„ 0 åˆ° oldCap-1 ã€é«˜ä½æŒ‡å®šçš„æ˜¯oldCap åˆ° newCap - 1 Node&lt;K,V&gt; next; // éåŽ†é“¾è¡¨ do &#123; // nextè¡¨ç¤ºä¸‹ä¸€ä¸ªnodeèŠ‚ç‚¹ next = e.next; // åŽŸç´¢å¼• // è¿™ä¸€æ­¥åˆ¤æ–­å¥½ç‹ ï¼Œæ‹¿å…ƒç´ çš„hashå€¼å’Œè€æ•°ç»„çš„é•¿åº¦åšä¸Žè¿ç®— // æ•°ç»„çš„é•¿åº¦ä¸€å®šæ˜¯2çš„Næ¬¡æ–¹(ä¾‹å¦‚16)ï¼Œå¦‚æžœhashå€¼å’Œè¯¥é•¿åº¦åšä¸Žè¿ç®—ï¼Œç»“æžœä¸º0ï¼Œå°±è¯´æ˜Žè¯¥hashå€¼å’Œæ•°ç»„é•¿åº¦å–æ¨¡åŽçš„å€¼ä¸€å®šå°äºŽæ•°ç»„é•¿åº¦ï¼ˆä¾‹å¦‚modå€¼ä¸º1ï¼‰ã€‚ // é‚£ä¹ˆè¯¥hashå€¼å†å’Œæ–°æ•°ç»„çš„é•¿åº¦å–æ‘¸çš„è¯modå€¼ä¹Ÿä¸ä¼šæ”¾ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥è¯¥å…ƒç´ çš„åœ¨æ–°æ•°ç»„çš„ä½ç½®å’Œåœ¨è€æ•°ç»„çš„ä½ç½®æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥è¯¥å…ƒç´ å¯ä»¥æ”¾ç½®åœ¨ä½Žä½é“¾è¡¨ä¸­ã€‚ if ((e.hash &amp; oldCap) == 0) &#123; if (loTail == null) // å¦‚æžœæ²¡æœ‰å°¾ï¼Œè¯´æ˜Žé“¾è¡¨ä¸ºç©ºï¼Œé“¾è¡¨ä¸ºç©ºæ—¶ï¼Œå¤´èŠ‚ç‚¹æŒ‡å‘è¯¥å…ƒç´ ã€‚ loHead = e; else // å¦‚æžœæœ‰å°¾ï¼Œé‚£ä¹ˆé“¾è¡¨ä¸ä¸ºç©ºï¼ŒæŠŠè¯¥å…ƒç´ æŒ‚åˆ°é“¾è¡¨çš„æœ€åŽã€‚ loTail.next = e; // æŠŠå°¾èŠ‚ç‚¹è®¾ç½®ä¸ºå½“å‰å…ƒç´ ã€‚ loTail = e; &#125; // åŽŸç´¢å¼•+oldCap // å¦‚æžœä¸Žè¿ç®—ç»“æžœä¸ä¸º0ï¼Œè¯´æ˜Žhashå€¼å¤§äºŽè€æ•°ç»„é•¿åº¦ï¼ˆä¾‹å¦‚hashå€¼ä¸º17ï¼‰ã€‚ // æ­¤æ—¶è¯¥å…ƒç´ åº”è¯¥æ”¾ç½®åˆ°æ–°æ•°ç»„çš„é«˜ä½ä½ç½®ä¸Šã€‚ // ä¾‹ï¼šè€æ•°ç»„é•¿åº¦16ï¼Œé‚£ä¹ˆæ–°æ•°ç»„é•¿åº¦ä¸º32ï¼Œhashä¸º17çš„åº”è¯¥æ”¾ç½®åœ¨æ•°ç»„çš„ç¬¬17ä¸ªä½ç½®ä¸Šï¼Œä¹Ÿå°±æ˜¯ä¸‹æ ‡ä¸º16ï¼Œé‚£ä¹ˆä¸‹æ ‡ä¸º16å·²ç»å±žäºŽé«˜ä½äº†ï¼Œä½Žä½æ˜¯[0-15]ï¼Œé«˜ä½æ˜¯[16-31]ã€‚ else &#123; if (hiTail == null) // å¦‚æžœæ²¡æœ‰å°¾ï¼Œè¯´æ˜Žé“¾è¡¨ä¸ºç©ºï¼Œé“¾è¡¨ä¸ºç©ºæ—¶ï¼Œå¤´èŠ‚ç‚¹æŒ‡å‘è¯¥å…ƒç´ ã€‚ hiHead = e; else // å¦‚æžœæœ‰å°¾ï¼Œé‚£ä¹ˆé“¾è¡¨ä¸ä¸ºç©ºï¼ŒæŠŠè¯¥å…ƒç´ æŒ‚åˆ°é“¾è¡¨çš„æœ€åŽã€‚ hiTail.next = e; // æŠŠå°¾èŠ‚ç‚¹è®¾ç½®ä¸ºå½“å‰å…ƒç´ ã€‚ hiTail = e; &#125; &#125; while ((e = next) != null); // åŽŸç´¢å¼•æ”¾åˆ°bucketé‡Œï¼Œå³ä½Žä½çš„å…ƒç´ ç»„æˆçš„é“¾è¡¨è¿˜æ˜¯æ”¾ç½®åœ¨åŽŸæ¥çš„ä½ç½® if (loTail != null) &#123; loTail.next = null; newTab[j] = loHead; &#125; // åŽŸç´¢å¼•+oldCapæ”¾åˆ°bucketé‡Œï¼Œå³é«˜ä½çš„å…ƒç´ ç»„æˆçš„é“¾è¡¨æ”¾ç½®çš„ä½ç½®åªæ˜¯åœ¨åŽŸæœ‰ä½ç½®ä¸Šåç§»äº†è€æ•°ç»„çš„é•¿åº¦ä¸ªä½ç½®ã€‚ if (hiTail != null) &#123; hiTail.next = null; // ä¾‹1:hashä¸º17åœ¨è€æ•°ç»„æ”¾ç½®åœ¨0ä¸‹æ ‡,åœ¨æ–°æ•°ç»„æ”¾ç½®åœ¨16ä¸‹æ ‡; // ä¾‹2:hashä¸º18åœ¨è€æ•°ç»„æ”¾ç½®åœ¨1ä¸‹æ ‡,åœ¨æ–°æ•°ç»„æ”¾ç½®åœ¨17ä¸‹æ ‡ã€‚ newTab[j + oldCap] = hiHead; &#125; &#125; &#125; &#125; &#125; // è¿”å›žæ–°çš„ä½æ¡¶æ•°ç»„ return newTab;&#125; treeifyBinæ–¹æ³•1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** * è½¬æ¢ä¸ºçº¢é»‘æ ‘çš„æ“ä½œ * å‚æ•°tab: å…ƒç´ æ•°ç»„ * å‚æ•°hash: keyçš„hashCode * Replaces all linked nodes in bin at index for given hash unless * table is too small, in which case resizes instead. */final void treeifyBin(Node&lt;K,V&gt;[] tab, int hash) &#123; int n, index; Node&lt;K,V&gt; e; /* * å¦‚æžœå…ƒç´ æ•°ç»„ä¸ºç©ºæˆ–è€…æ•°ç»„é•¿åº¦å°äºŽ æ ‘ç»“æž„åŒ–çš„æœ€å°é™åˆ¶ * MIN_TREEIFY_CAPACITY é»˜è®¤å€¼64ï¼Œå¯¹äºŽè¿™ä¸ªå€¼å¯ä»¥ç†è§£ä¸ºï¼š * å¦‚æžœå…ƒç´ æ•°ç»„é•¿åº¦å°äºŽè¿™ä¸ªå€¼ï¼Œæ²¡æœ‰å¿…è¦åŽ»è¿›è¡Œç»“æž„è½¬æ¢; * å½“ä¸€ä¸ªæ•°ç»„ä½ç½®ä¸Šé›†ä¸­äº†å¤šä¸ªé”®å€¼å¯¹ï¼Œé‚£æ˜¯å› ä¸ºè¿™äº›keyçš„hashå€¼å’Œæ•°ç»„é•¿åº¦å–æ¨¡ä¹‹åŽç»“æžœç›¸åŒ.(å¹¶ä¸æ˜¯å› ä¸ºè¿™äº› * keyçš„hashå€¼ç›¸åŒ).å› ä¸ºhashå€¼ç›¸åŒçš„æ¦‚çŽ‡ä¸é«˜ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡æ‰©å®¹çš„æ–¹å¼ï¼Œæ¥ä½¿å¾—æœ€ç»ˆè¿™äº›keyçš„hashå€¼åœ¨å’Œæ–° * çš„æ•°ç»„é•¿åº¦å–æ¨¡ä¹‹åŽï¼Œæ‹†åˆ†åˆ°å¤šä¸ªæ•°ç»„ä½ç½®ä¸Šã€‚ */ if (tab == null || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY) // å¦‚æžœæ•°ç»„ä¸ºnullæˆ–è€…å°äºŽMIN_TREEIFY_CAPACITY=64åˆ™è¿›è¡Œæ‰©å®¹æ“ä½œ resize(); // å¦‚æžœå…ƒç´ æ•°ç»„é•¿åº¦å·²ç»å¤§äºŽç­‰äºŽäº† MIN_TREEIFY_CAPACITYï¼Œé‚£ä¹ˆå°±æœ‰å¿…è¦è¿›è¡Œç»“æž„è½¬æ¢äº†ã€‚ // æ ¹æ®hashå€¼å’Œæ•°ç»„é•¿åº¦è¿›è¡Œå–æ¨¡è¿ç®—åŽï¼Œå¾—åˆ°é“¾è¡¨çš„é¦–èŠ‚ç‚¹ã€‚ else if ((e = tab[index = (n - 1) &amp; hash]) != null) &#123; // å®šä¹‰é¦–ã€å°¾èŠ‚ç‚¹ã€‚ TreeNode&lt;K,V&gt; hd = null, tl = null; do &#123; // å°†è¯¥èŠ‚ç‚¹è½¬æ¢ä¸ºæ ‘èŠ‚ç‚¹ã€‚ TreeNode&lt;K,V&gt; p = replacementTreeNode(e, null); // å¦‚æžœå°¾èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯´æ˜Žè¿˜æ²¡æœ‰æ ¹èŠ‚ç‚¹ã€‚ if (tl == null) // é¦–èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰æŒ‡å‘å½“å‰èŠ‚ç‚¹ hd = p; else &#123; // å°¾èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œä»¥ä¸‹ä¸¤è¡Œä»£ç æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ç»“æž„ // å½“å‰æ ‘èŠ‚ç‚¹çš„ å‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å°¾èŠ‚ç‚¹ p.prev = tl; // å°¾èŠ‚ç‚¹çš„ åŽä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å½“å‰èŠ‚ç‚¹ tl.next = p; &#125; // æŠŠå½“å‰èŠ‚ç‚¹è®¾ä¸ºå°¾èŠ‚ tl = p; // å½“éåŽ†å°¾èŠ‚ç‚¹ä¸ºnullæ—¶å€™ï¼Œåˆ™ç»“æŸï¼Œå¦åˆ™æœ‰èŠ‚ç‚¹ç»§ç»­éåŽ†é“¾è¡¨ &#125; while ((e = e.next) != null); // åˆ°ç›®å‰ä¸ºæ­¢ ä¹Ÿåªæ˜¯æŠŠNodeå¯¹è±¡è½¬æ¢æˆäº†TreeNodeå¯¹è±¡ï¼ŒæŠŠå•å‘é“¾è¡¨è½¬æ¢æˆäº†åŒå‘é“¾è¡¨ // æŠŠè½¬æ¢åŽçš„åŒå‘é“¾è¡¨ï¼Œæ›¿æ¢åŽŸæ¥ä½ç½®ä¸Šçš„å•å‘é“¾è¡¨ if ((tab[index] = hd) != null) hd.treeify(tab); &#125;&#125; tableSizeForæ–¹æ³•1234567891011121314/** * è¿”å›žå¤§äºŽè¾“å…¥å‚æ•°ä¸”æœ€è¿‘çš„2çš„æ•´æ•°æ¬¡å¹‚çš„æ•°ï¼Œä¾‹å¦‚è¾“å…¥14ï¼Œåˆ™è¿”å›ž2çš„4æ¬¡å¹‚ï¼Œå³16ã€‚ * å¦‚æžœç®—å‡ºæ¥çš„nå¤§äºŽç­‰äºŽæœ€å¤§çš„å®¹é‡ï¼Œåˆ™å–æœ€å¤§çš„å®¹é‡ã€‚ * Returns a power of two size for the given target capacity. */static final int tableSizeFor(int cap) &#123; int n = cap - 1; n |= n &gt;&gt;&gt; 1; n |= n &gt;&gt;&gt; 2; n |= n &gt;&gt;&gt; 4; n |= n &gt;&gt;&gt; 8; n |= n &gt;&gt;&gt; 16; return (n &lt; 0) ? 1 : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;&#125; å…ˆæ¥åˆ†æžæœ‰å…³nä½æ“ä½œéƒ¨åˆ†ï¼šå…ˆæ¥å‡è®¾nçš„äºŒè¿›åˆ¶ä¸º01xxxâ€¦xxxã€‚æŽ¥ç€ å¯¹nå³ç§»1ä½ï¼š001xxâ€¦xxxï¼Œå†ä½æˆ–ï¼š011xxâ€¦xxx å¯¹nå³ç§»2ä¸ºï¼š00011â€¦xxxï¼Œå†ä½æˆ–ï¼š01111â€¦xxx æ­¤æ—¶å‰é¢å·²ç»æœ‰å››ä¸ª1äº†ï¼Œå†å³ç§»4ä½ä¸”ä½æˆ–å¯å¾—8ä¸ª1 åŒç†ï¼Œæœ‰8ä¸ª1ï¼Œå³ç§»8ä½è‚¯å®šä¼šè®©åŽå…«ä½ä¹Ÿä¸º1ã€‚ ç»¼ä¸Šå¯å¾—ï¼Œè¯¥ç®—æ³•è®©æœ€é«˜ä½çš„1åŽé¢çš„ä½å…¨å˜ä¸º1ã€‚ æœ€åŽå†è®©ç»“æžœn+1ï¼Œå³å¾—åˆ°äº†2çš„æ•´æ•°æ¬¡å¹‚çš„å€¼äº†ã€‚ çŽ°åœ¨å›žæ¥çœ‹çœ‹ç¬¬ä¸€æ¡è¯­å¥ï¼š 1int n = cap - 1; è®©cap-1å†èµ‹å€¼ç»™nçš„ç›®çš„æ˜¯å¦æ‰¾åˆ°çš„ç›®æ ‡å€¼å¤§äºŽæˆ–ç­‰äºŽåŽŸå€¼ã€‚ä¾‹å¦‚äºŒè¿›åˆ¶1000ï¼Œåè¿›åˆ¶æ•°å€¼ä¸º8ã€‚å¦‚æžœä¸å¯¹å®ƒå‡1è€Œç›´æŽ¥æ“ä½œï¼Œå°†å¾—åˆ°ç­”æ¡ˆ10000ï¼Œå³16ã€‚æ˜¾ç„¶ä¸æ˜¯ç»“æžœã€‚å‡1åŽäºŒè¿›åˆ¶ä¸º111ï¼Œå†è¿›è¡Œæ“ä½œåˆ™ä¼šå¾—åˆ°åŽŸæ¥çš„æ•°å€¼1000ï¼Œå³8ã€‚ å‚è€ƒæ–‡çŒ® Java8ç³»åˆ—ä¹‹é‡æ–°è®¤è¯†HashMap Java7HashMapçŸ¥è¯†ç‚¹æ•´ç† èµ æ”¯ä»˜å®æ‰“èµ å¾®ä¿¡æ‰“èµ è¯·ä½œè€…å–æ¯å’–å•¡å§ window._bd_share_config={\"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"16\"},\"share\":{},\"image\":{\"viewList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"],\"viewText\":\"åˆ†äº«åˆ°ï¼š\",\"viewSize\":\"16\"},\"selectShare\":{\"bdContainerClass\":null,\"bdSelectMiniList\":[\"qzone\",\"tsina\",\"tqq\",\"renren\",\"weixin\"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; è½¬è½½å£°æ˜Žï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒ,éžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ Â© å½¤å“¥å“¥ ä¸Šä¸€ç¯‡ èŠèŠJavaé”çš„é‚£äº›äº‹ ä¸‹ä¸€ç¯‡ çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ° new Valine({ av: AV, el: '#vcomments', appId: 'wA3iNQOiAuhrRJkNgIjirA8f-gzGzoHsz', appKey: 'iGL0JyEnJQ8HIMlLd4Sm0oOp', placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§', notify: false, verify: false, avatar: 'mm', meta: 'nick,mail,link'.split(','), pageSize: '10', path: window.location.pathname, lang: 'zh-CN'.toLowerCase() }) æ–‡ç« ç›®å½• æ•°æ®ç»“æž„æºç åˆ†æžæˆå‘˜å˜é‡æ•°æ®ç»“æž„Nodeä½æ¡¶èŠ‚ç‚¹TreeNodeçº¢é»‘æ ‘é‡è¦æ–¹æ³•hashæ–¹æ³•putæ–¹æ³•getæ–¹æ³•resizeæ–¹æ³•treeifyBinæ–¹æ³•tableSizeForæ–¹æ³•å‚è€ƒæ–‡çŒ® è®¿é—®é‡: &nbsp; | &nbsp; è®¿å®¢æ•°: Copyright &copy; 2019 | Powered by litong | Blog by å½¤å“¥å“¥ var tagOption = { textColour: '#e67e22', // å­—ä½“é¢œè‰² outlineMethod: 'block', // é€‰ä¸­æ¨¡å¼ outlineColour: ' #FDF5E6', // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 || 30, // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ textHeight: 13, outlineRadius: 3, freezeActive: true || '', // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true || '', // ä¸é€‰æ ‡ç­¾äº‘åŽéƒ¨çš„æ ‡ç­¾ initial: [0.1, -0.1], depth: 0.5, decel: 0.95, maxSpeed: 0.03, reverse: true || '', // æ˜¯å¦åå‘è§¦å‘ fadeIn: 500, // è¿›å…¥åŠ¨ç”»æ—¶é—´ wheelZoom: true || '' // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½® } TagCanvas.Start('tag-cloud-3d','',tagOption); (function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/0f81ff2f.js\",\"daovoice\") daovoice('init', { app_id: \"10b503a1\" }); daovoice('update'); function siteTime(){ window.setTimeout(\"siteTime()\", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); /* Date.UTC() -- è¿”å›ždateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³) year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼ month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½ day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•° hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•° minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•° seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•° microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */ var t1 = Date.UTC(2016,12,1,00,00,00); //åŒ—äº¬æ—¶é—´2016-12-1 00:00:00 var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById(\"sitetime\").innerHTML=\" æœ¬ç«™å·²è¿è¡Œ \"+ diffYears+\" å¹´ \"+ diffDays+\" å¤© \"+diffHours+\" å°æ—¶ \"+diffMinutes+\" åˆ† \"+diffSeconds+\" ç§’\"; } siteTime();"},{"title":"","date":"2020-01-08T13:06:42.856Z","updated":"2020-01-08T13:06:42.647Z","comments":true,"path":"public/content.json","permalink":"http://ltyeamin.github.io/public/content.json","excerpt":"","text":"{\"meta\":{\"title\":\"å½¤å“¥å“¥çš„åšå®¢\",\"subtitle\":\"ä¸ºæ¢¦æƒ³è€Œæˆ˜\",\"description\":\"95åŽ,æŠ€æœ¯çˆ±å¥½è€…\",\"author\":\"YeaMin\",\"url\":\"http://ltyeamin.github.io\"},\"pages\":[{\"title\":\"æŽå½¤\",\"date\":\"2017-12-02T08:42:39.000Z\",\"updated\":\"2019-05-29T14:03:53.000Z\",\"comments\":true,\"path\":\"about/index.html\",\"permalink\":\"http://ltyeamin.github.io/about/index.html\",\"excerpt\":\"\",\"text\":\"ðŸ‘±ç®€ä»‹æŽå½¤,90åŽ,é™•è¥¿è¥¿å®‰äºº,ç›®å‰åœ¨ä¸Šæµ·å·¥ä½œ.é—²æš‡æ—¶é—´å–œæ¬¢æŠ€æœ¯é’»ç ”,æŠ€æœ¯ç•¥æ‚,ä½†å°æœ‰æˆå°±.æ¬¢è¿ŽæŠ€æœ¯äººå‘˜å¤šå¤šäº¤æµ.ä¸šä½™çˆ±å¥½å–œæ¬¢æ‘„å½±å’Œæ—…æ¸¸,æ­£å‡†å¤‡å…¥æ‰‹Canon 80Då•åç›¸æœº,è¿™æ˜¯æˆ‘ä¸€ç›´ä»¥æ¥çš„è¿½æ±‚. ðŸ’»æˆ‘çš„æŠ€æœ¯æ ˆJava: æ—¥å¸¸å¼€å‘è¯­è¨€,ä¸»è¦æž„å»ºä¼ä¸šçº§Webåº”ç”¨.ç†Ÿæ‚‰Maven+Spring Boot+Spring Cloud+MybatisJavaScript: Webå¼€å‘å¿…ä¼šè¯­è¨€.ç†Ÿæ‚‰ES6+Vue2.0+NodeJs+Express/KoaPython: ç›®å‰æš‚æ—¶ç”¨ä¸åˆ°,æˆ‘ä¸»è¦ç”¨äºŽåšçˆ¬è™«ä»¥åŠæ•°æ®åˆ†æž.è¿ç»´: Linux+Jenkins+Docker ðŸŽµæˆ‘æ‰€å–œæ¬¢çš„éŸ³ä¹ ðŸ’«æ¢¦æƒ³ æ›¾ç»çš„æ¢¦æƒ³:ç»„å»ºä¸€å®¶å±žäºŽè‡ªå·±çš„å…¬å¸-ã€å¥•æ˜Žåˆ›æ„ä¼ åª’-YeaMinã€‘,å¾ˆæ˜Žæ˜¾è¿™ä¸ªè®¡åˆ’å¤±è´¥äº†. çŽ°åœ¨çš„æ¢¦æƒ³: ä¹°æˆ¿+å¥åº·+å®¶åº­ = æé«˜äººç”Ÿå“è´¨ â˜Žï¸è”ç³»æ–¹å¼ é‚®ç®±: ltyeamin@gmail.com å¾®ä¿¡: YeaMin2014 QQ: 1301015490\"}],\"posts\":[{\"title\":\"Zookeeperé›†ç¾¤æ­å»º\",\"slug\":\"Zookeeperé›†ç¾¤æ­å»º\",\"date\":\"2019-11-27T14:10:14.000Z\",\"updated\":\"2019-11-27T15:21:11.708Z\",\"comments\":true,\"path\":\"2019/11/27/Zookeeperé›†ç¾¤æ­å»º/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/11/27/Zookeeperé›†ç¾¤æ­å»º/\",\"excerpt\":\"\",\"text\":\"1. å‡†å¤‡å·¥ä½œ å®‰è£…JDK Zookeeperå®‰è£…åŒ…ä¸‹è½½ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©3.5.6è¿›è¡Œä¸‹è½½ å‡†å¤‡ä¸‰å°æœºå™¨ï¼Œåˆ†åˆ«æ˜¯192.168.5.1,192.168.5.100,192.168.5.101 å°†zookeeperçš„å®‰è£…åŒ…ä¸Šä¼ åˆ°è¿™ä¸‰å°æœºå™¨ç›¸åŒçš„ç›®å½•ä¸Š(æ–¹ä¾¿ç®¡ç†) 2. å¼€å§‹æ­å»º1ï¼‰é…ç½®é›†ç¾¤ åœ¨ä¸‰å°æœºå™¨ä¾æ¬¡è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š è§£åŽ‹Zookeeperï¼Œå¹¶åˆ›å»ºdataç›®å½•ï¼Œå¦å¤–å°†confä¸‹çš„zoo_sample.cfgæ–‡ä»¶å¤åˆ¶å¹¶æ”¹åä¸ºzoo.cfg 1234tar -xzvf apache-zookeeper-3.5.6-bin.tar.gzcd apache-zookeeper-3.5.6-bin/mkdir datacp conf/zoo_sample.cfg conf/zoo.cfg åœ¨ä¸‰å°æœºå™¨ä¸Šé…ç½®zoo.cfgé›†ç¾¤çŽ¯å¢ƒ 1vi conf/zoo.cf ä¿®æ”¹å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536# The number of milliseconds of each ticktickTime=2000# The number of ticks that the initial # synchronization phase can takeinitLimit=10# The number of ticks that can pass between # sending a request and getting an acknowledgementsyncLimit=5# the directory where the snapshot is stored.# do not use /tmp for storage, /tmp here is just # example sakes.# è¿™é‡Œæ”¹æˆdataç›®å½•ï¼Œç”¨äºŽå­˜æ”¾æ•°æ®ï¼Œç”¨ç›¸å¯¹è·¯å¾„dataDir=../data# the port at which the clients will connect# é»˜è®¤ç«¯å£ä¸º2181å¯ä»¥ä¸æ”¹ï¼Œå¦‚æžœåœ¨ä¸€å°æœºå™¨æ­å»ºä¼ªé›†ç¾¤åˆ™éœ€è¦ä¿®æ”¹clientPort=2181# the maximum number of client connections.# increase this if you need to handle more clients#maxClientCnxns=60## Be sure to read the maintenance section of the # administrator guide before turning on autopurge.## http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance## The number of snapshots to retain in dataDir#autopurge.snapRetainCount=3# Purge task interval in hours# Set to \\\"0\\\" to disable auto purge feature#autopurge.purgeInterval=1# åœ¨æ¯ä¸€ä¸ª zookeeperçš„zoo.cfgé…ç½®å®¢æˆ·ç«¯è®¿é—®ç«¯å£ï¼ˆclientPortï¼‰å’Œé›†ç¾¤æœåŠ¡å™¨IPåˆ—è¡¨ã€‚# è§£é‡Šï¼šserver.æœåŠ¡å™¨ID=æœåŠ¡å™¨ IP åœ°å€ï¼šæœåŠ¡å™¨ä¹‹é—´é€šä¿¡ç«¯å£ï¼šæœåŠ¡å™¨ä¹‹é—´æŠ•ç¥¨é€‰ä¸¾ç«¯å£# é›†ç¾¤æœåŠ¡å™¨IPåˆ—è¡¨å¦‚ä¸‹server.1=192.168.5.100:2881:3881server.2=192.168.5.101:2881:3881server.3=192.168.5.1:2881:3881 æ ¹æ®ä¸Šè¿°çš„é…ç½®ï¼Œåœ¨æ¯ä¸ª zookeeperçš„data ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª myid æ–‡ä»¶ï¼Œå†…å®¹åˆ†åˆ«æ˜¯ 1ã€2ã€3 ã€‚è¿™ä¸ªæ–‡ä»¶å°±æ˜¯è®°å½•æ¯ä¸ªæœåŠ¡å™¨çš„ IDã€‚æ¯”å¦‚è¿™é‡ŒæœåŠ¡1ã€2ã€3åˆ†åˆ«ä»£è¡¨192.168.5.100ã€192.168.5.101ã€192.168.5.1è¿™ä¸‰å°æœºå™¨ã€‚ 123456# åœ¨192.168.5.100æ‰§è¡Œtouch data/myid &amp;&amp; echo 1 &gt; data/myid# åœ¨192.168.5.101æ‰§è¡Œtouch data/myid &amp;&amp; echo 2 &gt; data/myid# åœ¨192.168.5.1æ‰§è¡Œtouch data/myid &amp;&amp; echo 3 &gt; data/myid 2ï¼‰å¯åŠ¨é›†ç¾¤å¯åŠ¨é›†ç¾¤å°±æ˜¯åˆ†åˆ«å¯åŠ¨æ¯ä¸ªå®žä¾‹,å³åœ¨ä¸‰å°å¯åŠ¨Zookeeperï¼š 1./bin/zkServer.sh start å¯åŠ¨æˆåŠŸåŽä¼šæ˜¾ç¤ºSTARTEDï¼Œå¦‚ä¸‹ï¼š 1234[litong@localhost apache-zookeeper-3.5.6-bin]# ./bin/zkServer.sh startZooKeeper JMX enabled by defaultUsing config: /usr/local/bin/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfgStarting zookeeper ... STARTED 3ï¼‰é›†ç¾¤éªŒè¯å¯åŠ¨æˆåŠŸåŽï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸‰å°æœºå™¨ä¸Šè¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯æŸ¥è¯¢é›†ç¾¤çŠ¶æ€ï¼š 1./bin/zkServer.sh status 192.168.5.100æœºå™¨çš„è¾“å‡ºç»“æžœï¼š 12345[root@localhost apache-zookeeper-3.5.6-bin]# ./bin/zkServer.sh statusZooKeeper JMX enabled by defaultUsing config: /usr/local/bin/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfgClient port found: 2181. Client address: localhost.Mode: follower 192.168.5.101æœºå™¨çš„è¾“å‡ºç»“æžœï¼š 12345[root@localhost apache-zookeeper-3.5.6-bin]# ./bin/zkServer.sh statusZooKeeper JMX enabled by defaultUsing config: /usr/local/bin/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfgClient port found: 2181. Client address: localhost.Mode: leader 192.168.5.1æœºå™¨çš„è¾“å‡ºç»“æžœï¼š 12345litong@LT:/media/litong/è½¯ä»¶/programs/tools/apache-zookeeper-3.5.6-bin/bin$ ./zkServer.sh statusZooKeeper JMX enabled by defaultUsing config: /media/litong/è½¯ä»¶/programs/tools/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfgClient port found: 2181. Client address: localhost.Mode: follower ä»Žä¸‰å°æœºå™¨çš„çŠ¶æ€å¯ä»¥æŸ¥çœ‹ï¼Œ192.168.5.101æœºå™¨ä¸Šæ˜¾ç¤ºMode: leaderï¼Œæ˜¯ä¸»èŠ‚ç‚¹(master)ï¼Œå…¶ä»–ä¸¤å°æœºå™¨ä¸Šæ˜¾ç¤ºMode: followerï¼Œåˆ™æ˜¯ä¸¤ä¸ªslaveã€‚ 3. å‚è€ƒæ–‡æ¡£â€‹ 1. Zookeeperä¸»é¡µ â€‹ 2. Zookeeperæ–‡æ¡£\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Zookeeper\",\"slug\":\"Zookeeper\",\"permalink\":\"http://ltyeamin.github.io/tags/Zookeeper/\"}]},{\"title\":\"LinuxåŸºç¡€-SSHå…å¯†ç™»å½•\",\"slug\":\"LinuxåŸºç¡€-SSHå…å¯†ç™»å½•\",\"date\":\"2019-11-23T05:01:17.000Z\",\"updated\":\"2019-11-23T05:32:34.209Z\",\"comments\":true,\"path\":\"2019/11/23/LinuxåŸºç¡€-SSHå…å¯†ç™»å½•/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/11/23/LinuxåŸºç¡€-SSHå…å¯†ç™»å½•/\",\"excerpt\":\"\",\"text\":\"Linux SSHç™»å½•ç”±ä¸¤ç§æ–¹å¼: è´¦æˆ·å¯†ç ç™»å½• å¯†é’¥ç™»å½• æˆ‘æœ‰ä¸¤å°ä¸»æœºï¼Œipåˆ†åˆ«ä¸º192.168.5.1å’Œ192.168.5.100ï¼Œæˆ‘è¦ä»Žå‰è€…è¿œç¨‹ç™»å½•åˆ°åŽè€…ä¸»æœºä¸Šï¼Œä¸‹é¢æˆ‘åˆ†åˆ«æ¥æ¼”ç¤ºä¸€ä¸‹ä¸¤ç§æ–¹å¼: è´¦å·å¯†ç ç™»å½•1ssh root@192.168.5.100 æ³¨æ„ï¼š é»˜è®¤ç«¯å£å·æ˜¯22,å¦‚æžœä¸æ˜¯22éœ€è¦åŠ å…¥-p+ç«¯å£å·è¿›è¡Œç™»å½•ï¼Œæ¯”å¦‚è¿œç¨‹ç™»å½•ç¤ºä¾‹: 123456789101112litong@LT:~$ ssh -p22 root@192.168.5.100root@192.168.5.100's password: Last login: Sat Nov 23 18:34:53 2019 from 192.168.5.1[root@localhost ~]# ifconfig ens33ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet 192.168.5.100 netmask 255.255.255.0 broadcast 192.168.5.255 inet6 fe80::79ad:6fa6:c473:3647 prefixlen 64 scopeid 0x20&lt;link&gt; ether 00:0c:29:b3:a4:0f txqueuelen 1000 (Ethernet) RX packets 281 bytes 40054 (39.1 KiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 211 bytes 37007 (36.1 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 å…¬é’¥å…å¯†ç™»å½• å…ˆåœ¨192.168.5.1è¿™å¤ªæœºå™¨ä¸Šç”Ÿæˆå…¬é’¥ï¼› 1ssh-keygen -t rsa æ‰§è¡Œä¸Šè¿°å‘½ä»¤åŽï¼Œæ•²ä¸‰æ¬¡å›žè½¦å³å¯ç”Ÿæˆï¼Œç”ŸæˆåŽä¼šåœ¨å½“å‰è´¦å·çš„homeçš„.sshç›®å½•ä¸­ã€‚ 12345678910litong@LT:~$ ssh-keygen -t rsaGenerating public/private rsa key pair.Enter file in which to save the key (/home/litong/.ssh/id_rsa): /home/litong/.ssh/id_rsa already exists.Overwrite (y/n)? litong@LT:~$ ls -l ~/.ssh/æ€»ç”¨é‡ 12-rw------- 1 litong litong 1675 9æœˆ 10 22:03 id_rsa-rw-r--r-- 1 litong litong 400 9æœˆ 10 22:03 id_rsa.pub-rw-r--r-- 1 litong litong 2214 11æœˆ 20 21:54 known_hosts â€‹ authorized_keys:å­˜æ”¾è¿œç¨‹å…å¯†ç™»å½•çš„å…¬é’¥,ä¸»è¦é€šè¿‡è¿™ä¸ªæ–‡ä»¶è®°å½•å¤šå°æœºå™¨çš„å…¬é’¥,è¿™ä¸ªæ–‡ä»¶å¯ä»¥æ²¡æœ‰ï¼› id_rsa : ç”Ÿæˆçš„ç§é’¥æ–‡ä»¶ï¼› id_rsa.pub ï¼š ç”Ÿæˆçš„å…¬é’¥æ–‡ä»¶ï¼› know_hosts : å·²çŸ¥çš„ä¸»æœºå…¬é’¥æ¸…å•ã€‚ æ³¨æ„: â€‹ 1). sshç›®å½•çš„æƒé™å¿…é¡»æ˜¯700 â€‹ 2). .ssh/authorized_keysæ–‡ä»¶æƒé™å¿…é¡»æ˜¯600 ç¡®è®¤å…¬é’¥æ–‡ä»¶id_rsa.pubæ˜¯å¦å­˜åœ¨ï¼Œå¹¶æŠŠå…¬é’¥æ–‡ä»¶ä¸Šä¼ åˆ°è¿œç¨‹ç™»å½•çš„æœºå™¨ä¸Šã€‚ å¤åˆ¶æ–‡ä»¶æœ‰å¤šç§æ–¹å¼ï¼š é€šè¿‡ssh-copy-idçš„æ–¹å¼ 1sudo ssh-copy-id -i ~/.ssh/id_rsa.pub 192.168.5.100 é€šè¿‡scpå°†å†…å®¹å†™åˆ°å¯¹æ–¹çš„æ–‡ä»¶ä¸­ 1scp -p ~/.ssh/id_rsa.pub root@192.168.5.100:/root/.ssh/authorized_keys ä¸Šä¼ æˆåŠŸåŽï¼ŒæŸ¥çœ‹è¿œç¨‹ä¸»æœº~/.ssh/authorized_keysæ–‡ä»¶çš„å†…å®¹ï¼Œå…¶ä¸­å†…å®¹åŒ…å«è¦è¿œç¨‹ä¸»æœºçš„å…¬é’¥åˆ™è¯´å—é…ç½®å®Œæˆ 192.168.5.1æœºå™¨å…¬é’¥12litong@LT:~/.ssh$ cat id_rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEeCQP2arzLybGinLvKEgN6cJtINUhDL8uLIwaCJdsv7FbYrBK9R2I01F+pftjiiILCrg0GgwSThAJ7cCxbmriw+D1ZoZdC+MJPONiv4PF9KBWNTGdZ1fLjpEifUI3Aax23TdQqkHs+4+T8zOK2v4MsDgit4nqJheV2I+cXuumPlCONndfr43KxPsGJqAtb8yzkMA20/r8fnnOMbfblDnsAOTGWjC+ond2Eph5AlY2tW+s9JiFBHVawalheqYBVmKlNT3vqVp5IKrnJrIVagN59FKqSOAYTFc/7eR61npGtf0+Ftew137FICGp7F6v4JxjqNuSkxsXsH6+2Z071A3X ltyeamin@gmail.com 192.168.5.100è¿œç¨‹æœºå™¨å…å¯†ç™»å½•å…¬é’¥12root@localhost .ssh]# cat authorized_keys ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEeCQP2arzLybGinLvKEgN6cJtINUhDL8uLIwaCJdsv7FbYrBK9R2I01F+pftjiiILCrg0GgwSThAJ7cCxbmriw+D1ZoZdC+MJPONiv4PF9KBWNTGdZ1fLjpEifUI3Aax23TdQqkHs+4+T8zOK2v4MsDgit4nqJheV2I+cXuumPlCONndfr43KxPsGJqAtb8yzkMA20/r8fnnOMbfblDnsAOTGWjC+ond2Eph5AlY2tW+s9JiFBHVawalheqYBVmKlNT3vqVp5IKrnJrIVagN59FKqSOAYTFc/7eR61npGtf0+Ftew137FICGp7F6v4JxjqNuSkxsXsH6+2Z071A3X ltyeamin@gmail.com å°è¯•å…å¯†ç™»å½•ã€‚ 12litong@LT:~/.ssh$ ssh root@192.168.5.100Last login: Sat Nov 23 19:07:01 2019 from 192.168.5.1 æ€»ç»“ æ—¥å¸¸å·¥ä½œä¸­ï¼Œå…å¯†ç™»å½•ç”¨å¤„ç‰¹åˆ«å¤šï¼Œé¡¹ç›®éƒ¨ç½²çš„æ—¶å€™ä¸Šä¼ æ—¶å€™éœ€è¦å…å¯†ç™»å½•ï¼Œä¸å¯èƒ½å°†å¯†ç åŽŸæ–‡è®¾ç½®åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿™æ ·ç‰¹åˆ«ä¸å®‰å…¨ã€‚\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"Linux\",\"slug\":\"Linux\",\"permalink\":\"http://ltyeamin.github.io/tags/Linux/\"}]},{\"title\":\"RocketMQé›†ç¾¤æ­å»º\",\"slug\":\"RocketMQé›†ç¾¤æ­å»º\",\"date\":\"2019-11-09T02:20:14.000Z\",\"updated\":\"2019-11-27T14:56:25.737Z\",\"comments\":true,\"path\":\"2019/11/09/RocketMQé›†ç¾¤æ­å»º/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/11/09/RocketMQé›†ç¾¤æ­å»º/\",\"excerpt\":\"\",\"text\":\"1. RocketMQå¿«é€Ÿå…¥é—¨RocketMQæ˜¯é˜¿é‡Œå·´å·´2016å¹´MQä¸­é—´ä»¶ï¼Œä½¿ç”¨Javaè¯­è¨€å¼€å‘ï¼Œåœ¨é˜¿é‡Œå†…éƒ¨ï¼ŒRocketMQæ‰¿æŽ¥äº†ä¾‹å¦‚â€œåŒ11â€ç­‰é«˜å¹¶å‘åœºæ™¯çš„æ¶ˆæ¯æµè½¬ï¼Œèƒ½å¤Ÿå¤„ç†ä¸‡äº¿çº§åˆ«çš„æ¶ˆæ¯ã€‚ 1.1 å‡†å¤‡å·¥ä½œ1.1.1 ä¸‹è½½RocketMQRocketMQæœ€æ–°ç‰ˆæœ¬ï¼š4.5.2 Release ä¸‹è½½åœ°å€ 1.2.2 çŽ¯å¢ƒè¦æ±‚ Linux64ä½ç³»ç»Ÿ JDK1.8(64ä½) æºç å®‰è£…éœ€è¦å®‰è£…Maven 3.2.x 1.2 å®‰è£…RocketMQ1.2.1 å®‰è£…æ­¥éª¤æœ¬æ•™ç¨‹ä»¥äºŒè¿›åˆ¶åŒ…æ–¹å¼å®‰è£… è§£åŽ‹å®‰è£…åŒ… è¿›å…¥å®‰è£…ç›®å½• 2.2.2 ç›®å½•ä»‹ç» binï¼šå¯åŠ¨è„šæœ¬ï¼ŒåŒ…æ‹¬shellè„šæœ¬å’ŒCMDè„šæœ¬ confï¼šå®žä¾‹é…ç½®æ–‡ä»¶ ï¼ŒåŒ…æ‹¬brokeré…ç½®æ–‡ä»¶ã€logbacké…ç½®æ–‡ä»¶ç­‰ libï¼šä¾èµ–jaråŒ…ï¼ŒåŒ…æ‹¬Nettyã€commons-langã€FastJSONç­‰ 1.3 å¯åŠ¨RocketMQ å¯åŠ¨NameServer 1234# 1.å¯åŠ¨NameServernohup sh bin/mqnamesrv &amp;# 2.æŸ¥çœ‹å¯åŠ¨æ—¥å¿—tail -f ~/logs/rocketmqlogs/namesrv.log å¯åŠ¨Broker 1234# 1.å¯åŠ¨Brokernohup sh bin/mqbroker -n localhost:9876 &amp;# 2.æŸ¥çœ‹å¯åŠ¨æ—¥å¿—tail -f ~/logs/rocketmqlogs/broker.log é—®é¢˜æè¿°ï¼š RocketMQé»˜è®¤çš„è™šæ‹Ÿæœºå†…å­˜è¾ƒå¤§ï¼Œå¯åŠ¨Brokerå¦‚æžœå› ä¸ºå†…å­˜ä¸è¶³å¤±è´¥ï¼Œéœ€è¦ç¼–è¾‘å¦‚ä¸‹ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹JVMå†…å­˜å¤§å° 123# ç¼–è¾‘runbroker.shå’Œrunserver.shä¿®æ”¹é»˜è®¤JVMå¤§å°vi runbroker.shvi runserver.sh å‚è€ƒè®¾ç½®ï¼š 1JAVA_OPT=\\\"$&#123;JAVA_OPT&#125; -server -Xms256m -Xmx256m -Xmn128m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=320m\\\" 1.4 æµ‹è¯•RocketMQ1.4.1 å‘é€æ¶ˆæ¯1234# 1.è®¾ç½®çŽ¯å¢ƒå˜é‡export NAMESRV_ADDR=localhost:9876# 2.ä½¿ç”¨å®‰è£…åŒ…çš„Demoå‘é€æ¶ˆæ¯sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer 1.4.2 æŽ¥æ”¶æ¶ˆæ¯1234# 1.è®¾ç½®çŽ¯å¢ƒå˜é‡export NAMESRV_ADDR=localhost:9876# 2.æŽ¥æ”¶æ¶ˆæ¯sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer 1.5 å…³é—­RocketMQ1234# 1.å…³é—­NameServersh bin/mqshutdown namesrv# 2.å…³é—­Brokersh bin/mqshutdown broker 2. RocketMQé›†ç¾¤æ­å»º2.1 å„è§’è‰²ä»‹ç» Producerï¼šæ¶ˆæ¯çš„å‘é€è€…ï¼›ä¸¾ä¾‹ï¼šå‘ä¿¡è€… Consumerï¼šæ¶ˆæ¯æŽ¥æ”¶è€…ï¼›ä¸¾ä¾‹ï¼šæ”¶ä¿¡è€… Brokerï¼šæš‚å­˜å’Œä¼ è¾“æ¶ˆæ¯ï¼›ä¸¾ä¾‹ï¼šé‚®å±€ NameServerï¼šç®¡ç†Brokerï¼›ä¸¾ä¾‹ï¼šå„ä¸ªé‚®å±€çš„ç®¡ç†æœºæž„ Topicï¼šåŒºåˆ†æ¶ˆæ¯çš„ç§ç±»ï¼›ä¸€ä¸ªå‘é€è€…å¯ä»¥å‘é€æ¶ˆæ¯ç»™ä¸€ä¸ªæˆ–è€…å¤šä¸ªTopicï¼›ä¸€ä¸ªæ¶ˆæ¯çš„æŽ¥æ”¶è€…å¯ä»¥è®¢é˜…ä¸€ä¸ªæˆ–è€…å¤šä¸ªTopicæ¶ˆæ¯ Message Queueï¼šç›¸å½“äºŽæ˜¯Topicçš„åˆ†åŒºï¼›ç”¨äºŽå¹¶è¡Œå‘é€å’ŒæŽ¥æ”¶æ¶ˆæ¯ 2.2 é›†ç¾¤æ­å»ºæ–¹å¼2.2.1 é›†ç¾¤ç‰¹ç‚¹ NameServeræ˜¯ä¸€ä¸ªå‡ ä¹Žæ— çŠ¶æ€èŠ‚ç‚¹ï¼Œå¯é›†ç¾¤éƒ¨ç½²ï¼ŒèŠ‚ç‚¹ä¹‹é—´æ— ä»»ä½•ä¿¡æ¯åŒæ­¥ã€‚ Brokeréƒ¨ç½²ç›¸å¯¹å¤æ‚ï¼ŒBrokeråˆ†ä¸ºMasterä¸ŽSlaveï¼Œä¸€ä¸ªMasterå¯ä»¥å¯¹åº”å¤šä¸ªSlaveï¼Œä½†æ˜¯ä¸€ä¸ªSlaveåªèƒ½å¯¹åº”ä¸€ä¸ªMasterï¼ŒMasterä¸ŽSlaveçš„å¯¹åº”å…³ç³»é€šè¿‡æŒ‡å®šç›¸åŒçš„BrokerNameï¼Œä¸åŒçš„BrokerIdæ¥å®šä¹‰ï¼ŒBrokerIdä¸º0è¡¨ç¤ºMasterï¼Œéž0è¡¨ç¤ºSlaveã€‚Masterä¹Ÿå¯ä»¥éƒ¨ç½²å¤šä¸ªã€‚æ¯ä¸ªBrokerä¸ŽNameServeré›†ç¾¤ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å»ºç«‹é•¿è¿žæŽ¥ï¼Œå®šæ—¶æ³¨å†ŒTopicä¿¡æ¯åˆ°æ‰€æœ‰NameServerã€‚ Producerä¸ŽNameServeré›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆéšæœºé€‰æ‹©ï¼‰å»ºç«‹é•¿è¿žæŽ¥ï¼Œå®šæœŸä»ŽNameServerå–Topicè·¯ç”±ä¿¡æ¯ï¼Œå¹¶å‘æä¾›TopicæœåŠ¡çš„Masterå»ºç«‹é•¿è¿žæŽ¥ï¼Œä¸”å®šæ—¶å‘Masterå‘é€å¿ƒè·³ã€‚Producerå®Œå…¨æ— çŠ¶æ€ï¼Œå¯é›†ç¾¤éƒ¨ç½²ã€‚ Consumerä¸ŽNameServeré›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆéšæœºé€‰æ‹©ï¼‰å»ºç«‹é•¿è¿žæŽ¥ï¼Œå®šæœŸä»ŽNameServerå–Topicè·¯ç”±ä¿¡æ¯ï¼Œå¹¶å‘æä¾›TopicæœåŠ¡çš„Masterã€Slaveå»ºç«‹é•¿è¿žæŽ¥ï¼Œä¸”å®šæ—¶å‘Masterã€Slaveå‘é€å¿ƒè·³ã€‚Consumeræ—¢å¯ä»¥ä»ŽMasterè®¢é˜…æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥ä»ŽSlaveè®¢é˜…æ¶ˆæ¯ï¼Œè®¢é˜…è§„åˆ™ç”±Brokeré…ç½®å†³å®šã€‚ 2.2.3 é›†ç¾¤æ¨¡å¼1ï¼‰å•Masteræ¨¡å¼è¿™ç§æ–¹å¼é£Žé™©è¾ƒå¤§ï¼Œä¸€æ—¦Brokeré‡å¯æˆ–è€…å®•æœºæ—¶ï¼Œä¼šå¯¼è‡´æ•´ä¸ªæœåŠ¡ä¸å¯ç”¨ã€‚ä¸å»ºè®®çº¿ä¸ŠçŽ¯å¢ƒä½¿ç”¨,å¯ä»¥ç”¨äºŽæœ¬åœ°æµ‹è¯•ã€‚ 2ï¼‰å¤šMasteræ¨¡å¼ä¸€ä¸ªé›†ç¾¤æ— Slaveï¼Œå…¨æ˜¯Masterï¼Œä¾‹å¦‚2ä¸ªMasteræˆ–è€…3ä¸ªMasterï¼Œè¿™ç§æ¨¡å¼çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œå•ä¸ªMasterå®•æœºæˆ–é‡å¯ç»´æŠ¤å¯¹åº”ç”¨æ— å½±å“ï¼Œåœ¨ç£ç›˜é…ç½®ä¸ºRAID10æ—¶ï¼Œå³ä½¿æœºå™¨å®•æœºä¸å¯æ¢å¤æƒ…å†µä¸‹ï¼Œç”±äºŽRAID10ç£ç›˜éžå¸¸å¯é ï¼Œæ¶ˆæ¯ä¹Ÿä¸ä¼šä¸¢ï¼ˆå¼‚æ­¥åˆ·ç›˜ä¸¢å¤±å°‘é‡æ¶ˆæ¯ï¼ŒåŒæ­¥åˆ·ç›˜ä¸€æ¡ä¸ä¸¢ï¼‰ï¼Œæ€§èƒ½æœ€é«˜ï¼› ç¼ºç‚¹ï¼šå•å°æœºå™¨å®•æœºæœŸé—´ï¼Œè¿™å°æœºå™¨ä¸Šæœªè¢«æ¶ˆè´¹çš„æ¶ˆæ¯åœ¨æœºå™¨æ¢å¤ä¹‹å‰ä¸å¯è®¢é˜…ï¼Œæ¶ˆæ¯å®žæ—¶æ€§ä¼šå—åˆ°å½±å“ã€‚ 3ï¼‰å¤šMasterå¤šSlaveæ¨¡å¼ï¼ˆå¼‚æ­¥ï¼‰æ¯ä¸ªMasteré…ç½®ä¸€ä¸ªSlaveï¼Œæœ‰å¤šå¯¹Master-Slaveï¼ŒHAé‡‡ç”¨å¼‚æ­¥å¤åˆ¶æ–¹å¼ï¼Œä¸»å¤‡æœ‰çŸ­æš‚æ¶ˆæ¯å»¶è¿Ÿï¼ˆæ¯«ç§’çº§ï¼‰ï¼Œè¿™ç§æ¨¡å¼çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š ä¼˜ç‚¹ï¼šå³ä½¿ç£ç›˜æŸåï¼Œæ¶ˆæ¯ä¸¢å¤±çš„éžå¸¸å°‘ï¼Œä¸”æ¶ˆæ¯å®žæ—¶æ€§ä¸ä¼šå—å½±å“ï¼ŒåŒæ—¶Masterå®•æœºåŽï¼Œæ¶ˆè´¹è€…ä»ç„¶å¯ä»¥ä»ŽSlaveæ¶ˆè´¹ï¼Œè€Œä¸”æ­¤è¿‡ç¨‹å¯¹åº”ç”¨é€æ˜Žï¼Œä¸éœ€è¦äººå·¥å¹²é¢„ï¼Œæ€§èƒ½åŒå¤šMasteræ¨¡å¼å‡ ä¹Žä¸€æ ·ï¼› ç¼ºç‚¹ï¼šMasterå®•æœºï¼Œç£ç›˜æŸåæƒ…å†µä¸‹ä¼šä¸¢å¤±å°‘é‡æ¶ˆæ¯ã€‚ 4ï¼‰å¤šMasterå¤šSlaveæ¨¡å¼ï¼ˆåŒæ­¥ï¼‰æ¯ä¸ªMasteré…ç½®ä¸€ä¸ªSlaveï¼Œæœ‰å¤šå¯¹Master-Slaveï¼ŒHAé‡‡ç”¨åŒæ­¥åŒå†™æ–¹å¼ï¼Œå³åªæœ‰ä¸»å¤‡éƒ½å†™æˆåŠŸï¼Œæ‰å‘åº”ç”¨è¿”å›žæˆåŠŸï¼Œè¿™ç§æ¨¡å¼çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š ä¼˜ç‚¹ï¼šæ•°æ®ä¸ŽæœåŠ¡éƒ½æ— å•ç‚¹æ•…éšœï¼ŒMasterå®•æœºæƒ…å†µä¸‹ï¼Œæ¶ˆæ¯æ— å»¶è¿Ÿï¼ŒæœåŠ¡å¯ç”¨æ€§ä¸Žæ•°æ®å¯ç”¨æ€§éƒ½éžå¸¸é«˜ï¼› ç¼ºç‚¹ï¼šæ€§èƒ½æ¯”å¼‚æ­¥å¤åˆ¶æ¨¡å¼ç•¥ä½Žï¼ˆå¤§çº¦ä½Ž10%å·¦å³ï¼‰ï¼Œå‘é€å•ä¸ªæ¶ˆæ¯çš„RTä¼šç•¥é«˜ï¼Œä¸”ç›®å‰ç‰ˆæœ¬åœ¨ä¸»èŠ‚ç‚¹å®•æœºåŽï¼Œå¤‡æœºä¸èƒ½è‡ªåŠ¨åˆ‡æ¢ä¸ºä¸»æœºã€‚ 2.3 åŒä¸»åŒä»Žé›†ç¾¤æ­å»º2.3.1 æ€»ä½“æž¶æž„æ¶ˆæ¯é«˜å¯ç”¨é‡‡ç”¨2m-2sï¼ˆåŒæ­¥åŒå†™ï¼‰æ–¹å¼ 2.3.2 é›†ç¾¤å·¥ä½œæµç¨‹ å¯åŠ¨NameServerï¼ŒNameServerèµ·æ¥åŽç›‘å¬ç«¯å£ï¼Œç­‰å¾…Brokerã€Producerã€Consumerè¿žä¸Šæ¥ï¼Œç›¸å½“äºŽä¸€ä¸ªè·¯ç”±æŽ§åˆ¶ä¸­å¿ƒã€‚ Brokerå¯åŠ¨ï¼Œè·Ÿæ‰€æœ‰çš„NameServerä¿æŒé•¿è¿žæŽ¥ï¼Œå®šæ—¶å‘é€å¿ƒè·³åŒ…ã€‚å¿ƒè·³åŒ…ä¸­åŒ…å«å½“å‰Brokerä¿¡æ¯(IP+ç«¯å£ç­‰)ä»¥åŠå­˜å‚¨æ‰€æœ‰Topicä¿¡æ¯ã€‚æ³¨å†ŒæˆåŠŸåŽï¼ŒNameServeré›†ç¾¤ä¸­å°±æœ‰Topicè·ŸBrokerçš„æ˜ å°„å…³ç³»ã€‚ æ”¶å‘æ¶ˆæ¯å‰ï¼Œå…ˆåˆ›å»ºTopicï¼Œåˆ›å»ºTopicæ—¶éœ€è¦æŒ‡å®šè¯¥Topicè¦å­˜å‚¨åœ¨å“ªäº›Brokerä¸Šï¼Œä¹Ÿå¯ä»¥åœ¨å‘é€æ¶ˆæ¯æ—¶è‡ªåŠ¨åˆ›å»ºTopicã€‚ Producerå‘é€æ¶ˆæ¯ï¼Œå¯åŠ¨æ—¶å…ˆè·ŸNameServeré›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€å°å»ºç«‹é•¿è¿žæŽ¥ï¼Œå¹¶ä»ŽNameServerä¸­èŽ·å–å½“å‰å‘é€çš„Topicå­˜åœ¨å“ªäº›Brokerä¸Šï¼Œè½®è¯¢ä»Žé˜Ÿåˆ—åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åŽä¸Žé˜Ÿåˆ—æ‰€åœ¨çš„Brokerå»ºç«‹é•¿è¿žæŽ¥ä»Žè€Œå‘Brokerå‘æ¶ˆæ¯ã€‚ Consumerè·ŸProducerç±»ä¼¼ï¼Œè·Ÿå…¶ä¸­ä¸€å°NameServerå»ºç«‹é•¿è¿žæŽ¥ï¼ŒèŽ·å–å½“å‰è®¢é˜…Topicå­˜åœ¨å“ªäº›Brokerä¸Šï¼Œç„¶åŽç›´æŽ¥è·ŸBrokerå»ºç«‹è¿žæŽ¥é€šé“ï¼Œå¼€å§‹æ¶ˆè´¹æ¶ˆæ¯ã€‚ 2.3.3 æœåŠ¡å™¨çŽ¯å¢ƒ åºå· IP è§’è‰² æž¶æž„æ¨¡å¼ 1 192.168.5.100 nameserverã€brokerserver Master1ã€Slave2 2 192.168.5.101 nameserverã€brokerserver Master2ã€Slave1 2.3.4 Hostæ·»åŠ ä¿¡æ¯1vim /etc/hosts é…ç½®å¦‚ä¸‹: 12345678# nameserver192.168.5.100 rocketmq-nameserver1192.168.5.101 rocketmq-nameserver2# broker192.168.5.100 rocketmq-master1192.168.5.100 rocketmq-slave2192.168.5.101 rocketmq-master2192.168.5.101 rocketmq-slave1 é…ç½®å®ŒæˆåŽ, é‡å¯ç½‘å¡ 1systemctl restart network 2.3.5 é˜²ç«å¢™é…ç½®å®¿ä¸»æœºéœ€è¦è¿œç¨‹è®¿é—®è™šæ‹Ÿæœºçš„rocketmqæœåŠ¡å’ŒwebæœåŠ¡ï¼Œéœ€è¦å¼€æ”¾ç›¸å…³çš„ç«¯å£å·ï¼Œç®€å•ç²—æš´çš„æ–¹å¼æ˜¯ç›´æŽ¥å…³é—­é˜²ç«å¢™ 123456# å…³é—­é˜²ç«å¢™systemctl stop firewalld.service # æŸ¥çœ‹é˜²ç«å¢™çš„çŠ¶æ€firewall-cmd --state # ç¦æ­¢firewallå¼€æœºå¯åŠ¨systemctl disable firewalld.service æˆ–è€…ä¸ºäº†å®‰å…¨ï¼Œåªå¼€æ”¾ç‰¹å®šçš„ç«¯å£å·ï¼ŒRocketMQé»˜è®¤ä½¿ç”¨3ä¸ªç«¯å£ï¼š9876 ã€10911 ã€11011 ã€‚å¦‚æžœé˜²ç«å¢™æ²¡æœ‰å…³é—­çš„è¯ï¼Œé‚£ä¹ˆé˜²ç«å¢™å°±å¿…é¡»å¼€æ”¾è¿™äº›ç«¯å£ï¼š nameserver é»˜è®¤ä½¿ç”¨ 9876 ç«¯å£ master é»˜è®¤ä½¿ç”¨ 10911 ç«¯å£ slave é»˜è®¤ä½¿ç”¨11011 ç«¯å£ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 12345678# å¼€æ”¾name serveré»˜è®¤ç«¯å£firewall-cmd --remove-port=9876/tcp --permanent# å¼€æ”¾masteré»˜è®¤ç«¯å£firewall-cmd --remove-port=10911/tcp --permanent# å¼€æ”¾slaveé»˜è®¤ç«¯å£ (å½“å‰é›†ç¾¤æ¨¡å¼å¯ä¸å¼€å¯)firewall-cmd --remove-port=11011/tcp --permanent # é‡å¯é˜²ç«å¢™firewall-cmd --reload 2.3.6 çŽ¯å¢ƒå˜é‡é…ç½®1vim /etc/profile åœ¨profileæ–‡ä»¶çš„æœ«å°¾åŠ å…¥å¦‚ä¸‹å‘½ä»¤ 1234#set rocketmqROCKETMQ_HOME=/usr/local/bin/rocketmq-all-4.5.2-bin-releasePATH=$PATH:$ROCKETMQ_HOME/binexport ROCKETMQ_HOME PATH è¾“å…¥:wq! ä¿å­˜å¹¶é€€å‡ºï¼Œ å¹¶ä½¿å¾—é…ç½®ç«‹åˆ»ç”Ÿæ•ˆï¼š 1source /etc/profile 2.3.7 åˆ›å»ºæ¶ˆæ¯å­˜å‚¨è·¯å¾„1234567mkdir $ROCKETMQ_HOME/storemkdir $ROCKETMQ_HOME/store/commitlogmkdir $ROCKETMQ_HOME/store/consumequeuemkdir $ROCKETMQ_HOME/store/indexmkdir $ROCKETMQ_HOME/store/abortmkdir $ROCKETMQ_HOMEcheckpointcp -r $ROCKETMQ_HOME/store/ $ROCKETMQ_HOME/slave-store 2.3.8 brokeré…ç½®æ–‡ä»¶1ï¼‰master1æœåŠ¡å™¨ï¼š192.168.5.100 1vi $ROCKETMQ_HOME/conf/2m-2s-sync/broker-a.properties ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#æ‰€å±žé›†ç¾¤åå­—brokerClusterName=rocketmq-cluster#brokeråå­—ï¼Œæ³¨æ„æ­¤å¤„ä¸åŒçš„é…ç½®æ–‡ä»¶å¡«å†™çš„ä¸ä¸€æ ·brokerName=broker-a#0 è¡¨ç¤º Masterï¼Œ&gt;0 è¡¨ç¤º SlavebrokerId=0#nameServeråœ°å€ï¼Œåˆ†å·åˆ†å‰²ï¼Œæ³¨æ„è¿™é‡Œä¸€ä¸‹ç”±ä¸ªå‘ï¼Œå°±æ˜¯;åŽé¢è¦æœ‰ç©ºæ ¼namesrvAddr=rocketmq-nameserver1:9876; rocketmq-nameserver2:9876#åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ä¸å­˜åœ¨çš„topicï¼Œé»˜è®¤åˆ›å»ºçš„é˜Ÿåˆ—æ•°defaultTopicQueueNums=4#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºTopicï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateTopicEnable=true#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºè®¢é˜…ç»„ï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateSubscriptionGroup=true#Broker å¯¹å¤–æœåŠ¡çš„ç›‘å¬ç«¯å£listenPort=10911#åˆ é™¤æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4ç‚¹deleteWhen=04#æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶fileReservedTime=120#commitLogæ¯ä¸ªæ–‡ä»¶çš„å¤§å°é»˜è®¤1GmappedFileSizeCommitLog=1073741824#ConsumeQueueæ¯ä¸ªæ–‡ä»¶é»˜è®¤å­˜30Wæ¡ï¼Œæ ¹æ®ä¸šåŠ¡æƒ…å†µè°ƒæ•´mappedFileSizeConsumeQueue=300000#destroyMappedFileIntervalForcibly=120000#redeleteHangedFileInterval=120000#æ£€æµ‹ç‰©ç†æ–‡ä»¶ç£ç›˜ç©ºé—´diskMaxUsedSpaceRatio=88#å­˜å‚¨è·¯å¾„storePathRootDir=$ROCKETMQ_HOME/store#commitLog å­˜å‚¨è·¯å¾„storePathCommitLog=$ROCKETMQ_HOME/store/commitlog#æ¶ˆè´¹é˜Ÿåˆ—å­˜å‚¨è·¯å¾„å­˜å‚¨è·¯å¾„storePathConsumeQueue=$ROCKETMQ_HOME/store/consumequeue#æ¶ˆæ¯ç´¢å¼•å­˜å‚¨è·¯å¾„storePathIndex=$ROCKETMQ_HOME/store/index#checkpoint æ–‡ä»¶å­˜å‚¨è·¯å¾„storeCheckpoint=$ROCKETMQ_HOME/store/checkpoint#abort æ–‡ä»¶å­˜å‚¨è·¯å¾„abortFile=$ROCKETMQ_HOME/store/abort#é™åˆ¶çš„æ¶ˆæ¯å¤§å°maxMessageSize=65536#flushCommitLogLeastPages=4#flushConsumeQueueLeastPages=2#flushCommitLogThoroughInterval=10000#flushConsumeQueueThoroughInterval=60000#Broker çš„è§’è‰²#- ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master#- SYNC_MASTER åŒæ­¥åŒå†™Master#- SLAVEbrokerRole=SYNC_MASTER#åˆ·ç›˜æ–¹å¼#- ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜#- SYNC_FLUSH åŒæ­¥åˆ·ç›˜flushDiskType=SYNC_FLUSH#checkTransactionMessageEnable=false#å‘æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#sendMessageThreadPoolNums=128#æ‹‰æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#pullMessageThreadPoolNums=128 2ï¼‰slave2æœåŠ¡å™¨ï¼š192.168.5.100 1vi $ROCKETMQ_HOME/conf/2m-2s-sync/broker-b-s.properties ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#æ‰€å±žé›†ç¾¤åå­—brokerClusterName=rocketmq-cluster#brokeråå­—ï¼Œæ³¨æ„æ­¤å¤„ä¸åŒçš„é…ç½®æ–‡ä»¶å¡«å†™çš„ä¸ä¸€æ ·brokerName=broker-b#0 è¡¨ç¤º Masterï¼Œ&gt;0 è¡¨ç¤º SlavebrokerId=1#nameServeråœ°å€ï¼Œåˆ†å·åˆ†å‰²ï¼Œæ³¨æ„è¿™é‡Œä¸€ä¸‹ç”±ä¸ªå‘ï¼Œå°±æ˜¯;åŽé¢è¦æœ‰ç©ºæ ¼namesrvAddr=rocketmq-nameserver1:9876; rocketmq-nameserver2:9876#åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ä¸å­˜åœ¨çš„topicï¼Œé»˜è®¤åˆ›å»ºçš„é˜Ÿåˆ—æ•°defaultTopicQueueNums=4#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºTopicï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateTopicEnable=true#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºè®¢é˜…ç»„ï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateSubscriptionGroup=true#Broker å¯¹å¤–æœåŠ¡çš„ç›‘å¬ç«¯å£listenPort=11011#åˆ é™¤æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4ç‚¹deleteWhen=04#æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶fileReservedTime=120#commitLogæ¯ä¸ªæ–‡ä»¶çš„å¤§å°é»˜è®¤1GmappedFileSizeCommitLog=1073741824#ConsumeQueueæ¯ä¸ªæ–‡ä»¶é»˜è®¤å­˜30Wæ¡ï¼Œæ ¹æ®ä¸šåŠ¡æƒ…å†µè°ƒæ•´# mapedFileSizeConsumeQueue=300000 è¿™ä¸ªé…ç½®åœ¨4.5.2ç‰ˆæœ¬æ²¡ç”¨ï¼Œç‰ˆæœ¬å‡çº§å¸¦æ¥çš„é…ç½®ç¼–å·mappedFileSizeConsumeQueue=300000#destroyMappedFileIntervalForcibly=120000#redeleteHangedFileInterval=120000#æ£€æµ‹ç‰©ç†æ–‡ä»¶ç£ç›˜ç©ºé—´diskMaxUsedSpaceRatio=88#å­˜å‚¨è·¯å¾„storePathRootDir=$ROCKETMQ_HOME/slave-store#commitLog å­˜å‚¨è·¯å¾„storePathCommitLog=$ROCKETMQ_HOME/slave-store/commitlog#æ¶ˆè´¹é˜Ÿåˆ—å­˜å‚¨è·¯å¾„å­˜å‚¨è·¯å¾„storePathConsumeQueue=$ROCKETMQ_HOME/slave-store/consumequeue#æ¶ˆæ¯ç´¢å¼•å­˜å‚¨è·¯å¾„storePathIndex=$ROCKETMQ_HOME/slave-store/index#checkpoint æ–‡ä»¶å­˜å‚¨è·¯å¾„storeCheckpoint=$ROCKETMQ_HOME/slave-store/checkpoint#abort æ–‡ä»¶å­˜å‚¨è·¯å¾„abortFile=$ROCKETMQ_HOME/slave-store/abort#é™åˆ¶çš„æ¶ˆæ¯å¤§å°maxMessageSize=65536#flushCommitLogLeastPages=4#flushConsumeQueueLeastPages=2#flushCommitLogThoroughInterval=10000#flushConsumeQueueThoroughInterval=60000#Broker çš„è§’è‰²#- ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master#- SYNC_MASTER åŒæ­¥åŒå†™Master#- SLAVEbrokerRole=SLAVE#åˆ·ç›˜æ–¹å¼#- ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜#- SYNC_FLUSH åŒæ­¥åˆ·ç›˜flushDiskType=ASYNC_FLUSH#checkTransactionMessageEnable=false#å‘æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#sendMessageThreadPoolNums=128#æ‹‰æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#pullMessageThreadPoolNums=128 3ï¼‰master2æœåŠ¡å™¨ï¼š192.168.5.101 1vi $ROCKETMQ_HOME/conf/2m-2s-sync/broker-b.properties ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#æ‰€å±žé›†ç¾¤åå­—brokerClusterName=rocketmq-cluster#brokeråå­—ï¼Œæ³¨æ„æ­¤å¤„ä¸åŒçš„é…ç½®æ–‡ä»¶å¡«å†™çš„ä¸ä¸€æ ·brokerName=broker-b#0 è¡¨ç¤º Masterï¼Œ&gt;0 è¡¨ç¤º SlavebrokerId=0#nameServeråœ°å€ï¼Œåˆ†å·åˆ†å‰²ï¼Œæ³¨æ„è¿™é‡Œä¸€ä¸‹ç”±ä¸ªå‘ï¼Œå°±æ˜¯;åŽé¢è¦æœ‰ç©ºæ ¼namesrvAddr=rocketmq-nameserver1:9876; rocketmq-nameserver2:9876#åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ä¸å­˜åœ¨çš„topicï¼Œé»˜è®¤åˆ›å»ºçš„é˜Ÿåˆ—æ•°defaultTopicQueueNums=4#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºTopicï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateTopicEnable=true#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºè®¢é˜…ç»„ï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateSubscriptionGroup=true#Broker å¯¹å¤–æœåŠ¡çš„ç›‘å¬ç«¯å£listenPort=10911#åˆ é™¤æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4ç‚¹deleteWhen=04#æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶fileReservedTime=120#commitLogæ¯ä¸ªæ–‡ä»¶çš„å¤§å°é»˜è®¤1GmappedFileSizeCommitLog=1073741824#ConsumeQueueæ¯ä¸ªæ–‡ä»¶é»˜è®¤å­˜30Wæ¡ï¼Œæ ¹æ®ä¸šåŠ¡æƒ…å†µè°ƒæ•´mappedFileSizeConsumeQueue=300000#destroyMappedFileIntervalForcibly=120000#redeleteHangedFileInterval=120000#æ£€æµ‹ç‰©ç†æ–‡ä»¶ç£ç›˜ç©ºé—´diskMaxUsedSpaceRatio=88#å­˜å‚¨è·¯å¾„storePathRootDir=$ROCKETMQ_HOME/store#commitLog å­˜å‚¨è·¯å¾„storePathCommitLog=$ROCKETMQ_HOME/store/commitlog#æ¶ˆè´¹é˜Ÿåˆ—å­˜å‚¨è·¯å¾„å­˜å‚¨è·¯å¾„storePathConsumeQueue=$ROCKETMQ_HOME/store/consumequeue#æ¶ˆæ¯ç´¢å¼•å­˜å‚¨è·¯å¾„storePathIndex=$ROCKETMQ_HOME/store/index#checkpoint æ–‡ä»¶å­˜å‚¨è·¯å¾„storeCheckpoint=$ROCKETMQ_HOME/store/checkpoint#abort æ–‡ä»¶å­˜å‚¨è·¯å¾„abortFile=$ROCKETMQ_HOME/store/abort#é™åˆ¶çš„æ¶ˆæ¯å¤§å°maxMessageSize=65536#flushCommitLogLeastPages=4#flushConsumeQueueLeastPages=2#flushCommitLogThoroughInterval=10000#flushConsumeQueueThoroughInterval=60000#Broker çš„è§’è‰²#- ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master#- SYNC_MASTER åŒæ­¥åŒå†™Master#- SLAVEbrokerRole=SYNC_MASTER#åˆ·ç›˜æ–¹å¼#- ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜#- SYNC_FLUSH åŒæ­¥åˆ·ç›˜flushDiskType=SYNC_FLUSH#checkTransactionMessageEnable=false#å‘æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#sendMessageThreadPoolNums=128#æ‹‰æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#pullMessageThreadPoolNums=128 4ï¼‰slave1æœåŠ¡å™¨ï¼š192.168.5.101 1vi $ROCKETMQ_HOME/conf/2m-2s-sync/broker-a-s.properties ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#æ‰€å±žé›†ç¾¤åå­—brokerClusterName=rocketmq-cluster#brokeråå­—ï¼Œæ³¨æ„æ­¤å¤„ä¸åŒçš„é…ç½®æ–‡ä»¶å¡«å†™çš„ä¸ä¸€æ ·brokerName=broker-a#0 è¡¨ç¤º Masterï¼Œ&gt;0 è¡¨ç¤º SlavebrokerId=1#nameServeråœ°å€ï¼Œåˆ†å·åˆ†å‰²namesrvAddr=rocketmq-nameserver1:9876; rocketmq-nameserver2:9876#åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ä¸å­˜åœ¨çš„topicï¼Œé»˜è®¤åˆ›å»ºçš„é˜Ÿåˆ—æ•°defaultTopicQueueNums=4#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºTopicï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateTopicEnable=true#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºè®¢é˜…ç»„ï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateSubscriptionGroup=true#Broker å¯¹å¤–æœåŠ¡çš„ç›‘å¬ç«¯å£listenPort=11011#åˆ é™¤æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4ç‚¹deleteWhen=04#æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶fileReservedTime=120#commitLogæ¯ä¸ªæ–‡ä»¶çš„å¤§å°é»˜è®¤1GmapedFileSizeCommitLog=1073741824#ConsumeQueueæ¯ä¸ªæ–‡ä»¶é»˜è®¤å­˜30Wæ¡ï¼Œæ ¹æ®ä¸šåŠ¡æƒ…å†µè°ƒæ•´mappedFileSizeConsumeQueue=300000#destroyMappedFileIntervalForcibly=120000#redeleteHangedFileInterval=120000#æ£€æµ‹ç‰©ç†æ–‡ä»¶ç£ç›˜ç©ºé—´diskMaxUsedSpaceRatio=88#å­˜å‚¨è·¯å¾„storePathRootDir=$ROCKETMQ_HOME/slave-store#commitLog å­˜å‚¨è·¯å¾„storePathCommitLog=$ROCKETMQ_HOME/slave-store/commitlog#æ¶ˆè´¹é˜Ÿåˆ—å­˜å‚¨è·¯å¾„å­˜å‚¨è·¯å¾„storePathConsumeQueue=$ROCKETMQ_HOME/slave-store/consumequeue#æ¶ˆæ¯ç´¢å¼•å­˜å‚¨è·¯å¾„storePathIndex=$ROCKETMQ_HOME/slave-store/index#checkpoint æ–‡ä»¶å­˜å‚¨è·¯å¾„storeCheckpoint=$ROCKETMQ_HOME/checkpoint#abort æ–‡ä»¶å­˜å‚¨è·¯å¾„abortFile=/$ROCKETMQ_HOME/slave-store/abort#é™åˆ¶çš„æ¶ˆæ¯å¤§å°maxMessageSize=65536#flushCommitLogLeastPages=4#flushConsumeQueueLeastPages=2#flushCommitLogThoroughInterval=10000#flushConsumeQueueThoroughInterval=60000#Broker çš„è§’è‰²#- ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master#- SYNC_MASTER åŒæ­¥åŒå†™Master#- SLAVEbrokerRole=SLAVE#åˆ·ç›˜æ–¹å¼#- ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜#- SYNC_FLUSH åŒæ­¥åˆ·ç›˜flushDiskType=ASYNC_FLUSH#checkTransactionMessageEnable=false#å‘æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#sendMessageThreadPoolNums=128#æ‹‰æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#pullMessageThreadPoolNums=128 2.3.9 ä¿®æ”¹å¯åŠ¨è„šæœ¬æ–‡ä»¶1ï¼‰runbroker.sh1vi $ROCKETMQ_HOME/bin/runbroker.sh éœ€è¦æ ¹æ®å†…å­˜å¤§å°è¿›è¡Œé€‚å½“çš„å¯¹JVMå‚æ•°è¿›è¡Œè°ƒæ•´ï¼š 123#===================================================# å¼€å‘çŽ¯å¢ƒé…ç½® JVM ConfigurationJAVA_OPT=\\\"$&#123;JAVA_OPT&#125; -server -Xms256m -Xmx256m -Xmn128m\\\" 2ï¼‰runserver.sh1vim $ROCKETMQ_HOME/bin/runserver.sh 1JAVA_OPT=\\\"$&#123;JAVA_OPT&#125; -server -Xms256m -Xmx256m -Xmn128m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=320m\\\" 3.3.10 æœåŠ¡å¯åŠ¨1ï¼‰å¯åŠ¨NameServeé›†ç¾¤åˆ†åˆ«åœ¨192.168.5.100å’Œ192.168.5.101å¯åŠ¨NameServer 12cd $ROCKETMQ_HOME/binnohup sh mqnamesrv &amp; 2ï¼‰å¯åŠ¨Brokeré›†ç¾¤ åœ¨192.168.5.100ä¸Šå¯åŠ¨master1å’Œslave2 master1ï¼š 1nohup sh mqbroker -c $ROCKETMQ_HOME/conf/2m-2s-sync/broker-a.properties &amp; slave2ï¼š 1nohup sh mqbroker -c $ROCKETMQ_HOME/conf/2m-2s-sync/broker-b-s.properties &amp; åœ¨192.168.5.101ä¸Šå¯åŠ¨master2å’Œslave2 master2 12cd /usr/local/bin/rocketmq-all-4.5.2-bin-release/binnohup sh mqbroker -c $ROCKETMQ_HOME/conf/2m-2s-sync/broker-b.properties &amp; slave1 12cd /usr/local/bin/rocketmq-all-4.5.2-bin-release/binnohup sh mqbroker -c $ROCKETMQ_HOME/conf/2m-2s-sync/broker-a-s.properties &amp; 2.3.11 æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€å¯åŠ¨åŽé€šè¿‡JPSæŸ¥çœ‹å¯åŠ¨è¿›ç¨‹ 2.3.12 æŸ¥çœ‹æ—¥å¿—1234# æŸ¥çœ‹nameServeræ—¥å¿—tail -500f ~/logs/rocketmqlogs/namesrv.log# æŸ¥çœ‹brokeræ—¥å¿—tail -500f ~/logs/rocketmqlogs/broker.log 3. å‚è€ƒæ–‡æ¡£ RocketMQå‡çº§Bug RocketMQé›†ç¾¤æ­å»º\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"RocketMQ\",\"slug\":\"RocketMQ\",\"permalink\":\"http://ltyeamin.github.io/tags/RocketMQ/\"}]},{\"title\":\"RocketMQæ¦‚è¿°\",\"slug\":\"RocketMQæ¦‚è¿°\",\"date\":\"2019-11-08T14:15:16.000Z\",\"updated\":\"2019-11-23T09:29:33.946Z\",\"comments\":true,\"path\":\"2019/11/08/RocketMQæ¦‚è¿°/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/11/08/RocketMQæ¦‚è¿°/\",\"excerpt\":\"\",\"text\":\"1. MQä»‹ç»1.1 ä¸ºä»€ä¹ˆè¦ç”¨MQæ¶ˆæ¯é˜Ÿåˆ—æ˜¯ä¸€ç§â€œå…ˆè¿›å…ˆå‡ºâ€çš„æ•°æ®ç»“æž„ å…¶åº”ç”¨åœºæ™¯ä¸»è¦åŒ…å«ä»¥ä¸‹3ä¸ªæ–¹é¢ åº”ç”¨è§£è€¦ ç³»ç»Ÿçš„è€¦åˆæ€§è¶Šé«˜ï¼Œå®¹é”™æ€§å°±è¶Šä½Žã€‚ä»¥ç”µå•†åº”ç”¨ä¸ºä¾‹ï¼Œç”¨æˆ·åˆ›å»ºè®¢å•åŽï¼Œå¦‚æžœè€¦åˆè°ƒç”¨åº“å­˜ç³»ç»Ÿã€ç‰©æµç³»ç»Ÿã€æ”¯ä»˜ç³»ç»Ÿï¼Œä»»ä½•ä¸€ä¸ªå­ç³»ç»Ÿå‡ºäº†æ•…éšœæˆ–è€…å› ä¸ºå‡çº§ç­‰åŽŸå› æš‚æ—¶ä¸å¯ç”¨ï¼Œéƒ½ä¼šé€ æˆä¸‹å•æ“ä½œå¼‚å¸¸ï¼Œå½±å“ç”¨æˆ·ä½¿ç”¨ä½“éªŒã€‚ ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è§£è€¦åˆï¼Œç³»ç»Ÿçš„è€¦åˆæ€§å°±ä¼šæé«˜äº†ã€‚æ¯”å¦‚ç‰©æµç³»ç»Ÿå‘ç”Ÿæ•…éšœï¼Œéœ€è¦å‡ åˆ†é’Ÿæ‰èƒ½æ¥ä¿®å¤ï¼Œåœ¨è¿™æ®µæ—¶é—´å†…ï¼Œç‰©æµç³»ç»Ÿè¦å¤„ç†çš„æ•°æ®è¢«ç¼“å­˜åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç”¨æˆ·çš„ä¸‹å•æ“ä½œæ­£å¸¸å®Œæˆã€‚å½“ç‰©æµç³»ç»Ÿå›žå¤åŽï¼Œè¡¥å……å¤„ç†å­˜åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„è®¢å•æ¶ˆæ¯å³å¯ï¼Œç»ˆç«¯ç³»ç»Ÿæ„ŸçŸ¥ä¸åˆ°ç‰©æµç³»ç»Ÿå‘ç”Ÿè¿‡å‡ åˆ†é’Ÿæ•…éšœã€‚ æµé‡å‰Šå³° åº”ç”¨ç³»ç»Ÿå¦‚æžœé‡åˆ°ç³»ç»Ÿè¯·æ±‚æµé‡çš„çž¬é—´çŒ›å¢žï¼Œæœ‰å¯èƒ½ä¼šå°†ç³»ç»ŸåŽ‹åž®ã€‚æœ‰äº†æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥å°†å¤§é‡è¯·æ±‚ç¼“å­˜èµ·æ¥ï¼Œåˆ†æ•£åˆ°å¾ˆé•¿ä¸€æ®µæ—¶é—´å¤„ç†ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§æåˆ°ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œç”¨æˆ·ä½“éªŒã€‚ ä¸€èˆ¬æƒ…å†µï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œå¦‚æžœç³»ç»Ÿè´Ÿè½½è¶…è¿‡é˜ˆå€¼ï¼Œå°±ä¼šé˜»æ­¢ç”¨æˆ·è¯·æ±‚ï¼Œè¿™ä¼šå½±å“ç”¨æˆ·ä½“éªŒï¼Œè€Œå¦‚æžœä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å°†è¯·æ±‚ç¼“å­˜èµ·æ¥ï¼Œç­‰å¾…ç³»ç»Ÿå¤„ç†å®Œæ¯•åŽé€šçŸ¥ç”¨æˆ·ä¸‹å•å®Œæ¯•ï¼Œè¿™æ ·æ€»ä¸èƒ½ä¸‹å•ä½“éªŒè¦å¥½ã€‚ å¤„äºŽç»æµŽè€ƒé‡ç›®çš„ï¼š ä¸šåŠ¡ç³»ç»Ÿæ­£å¸¸æ—¶æ®µçš„QPSå¦‚æžœæ˜¯1000ï¼Œæµé‡æœ€é«˜å³°æ˜¯10000ï¼Œä¸ºäº†åº”å¯¹æµé‡é«˜å³°é…ç½®é«˜æ€§èƒ½çš„æœåŠ¡å™¨æ˜¾ç„¶ä¸åˆ’ç®—ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å¯¹å³°å€¼æµé‡å‰Šå³° æ•°æ®åˆ†å‘ é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥è®©æ•°æ®åœ¨å¤šä¸ªç³»ç»Ÿæ›´åŠ ä¹‹é—´è¿›è¡Œæµé€šã€‚æ•°æ®çš„äº§ç”Ÿæ–¹ä¸éœ€è¦å…³å¿ƒè°æ¥ä½¿ç”¨æ•°æ®ï¼Œåªéœ€è¦å°†æ•°æ®å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ•°æ®ä½¿ç”¨æ–¹ç›´æŽ¥åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­ç›´æŽ¥èŽ·å–æ•°æ®å³å¯ 1.2 MQçš„ä¼˜ç‚¹å’Œç¼ºç‚¹ä¼˜ç‚¹ï¼šè§£è€¦ã€å‰Šå³°ã€æ•°æ®åˆ†å‘ ç¼ºç‚¹åŒ…å«ä»¥ä¸‹å‡ ç‚¹ï¼š ç³»ç»Ÿå¯ç”¨æ€§é™ä½Ž ç³»ç»Ÿå¼•å…¥çš„å¤–éƒ¨ä¾èµ–è¶Šå¤šï¼Œç³»ç»Ÿç¨³å®šæ€§è¶Šå·®ã€‚ä¸€æ—¦MQå®•æœºï¼Œå°±ä¼šå¯¹ä¸šåŠ¡é€ æˆå½±å“ã€‚ å¦‚ä½•ä¿è¯MQçš„é«˜å¯ç”¨ï¼Ÿ ç³»ç»Ÿå¤æ‚åº¦æé«˜ MQçš„åŠ å…¥å¤§å¤§å¢žåŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼Œä»¥å‰ç³»ç»Ÿé—´æ˜¯åŒæ­¥çš„è¿œç¨‹è°ƒç”¨ï¼ŒçŽ°åœ¨æ˜¯é€šè¿‡MQè¿›è¡Œå¼‚æ­¥è°ƒç”¨ã€‚ å¦‚ä½•ä¿è¯æ¶ˆæ¯æ²¡æœ‰è¢«é‡å¤æ¶ˆè´¹ï¼Ÿæ€Žä¹ˆå¤„ç†æ¶ˆæ¯ä¸¢å¤±æƒ…å†µï¼Ÿé‚£ä¹ˆä¿è¯æ¶ˆæ¯ä¼ é€’çš„é¡ºåºæ€§ï¼Ÿ ä¸€è‡´æ€§é—®é¢˜ Aç³»ç»Ÿå¤„ç†å®Œä¸šåŠ¡ï¼Œé€šè¿‡MQç»™Bã€Cã€Dä¸‰ä¸ªç³»ç»Ÿå‘æ¶ˆæ¯æ•°æ®ï¼Œå¦‚æžœBç³»ç»Ÿã€Cç³»ç»Ÿå¤„ç†æˆåŠŸï¼ŒDç³»ç»Ÿå¤„ç†å¤±è´¥ã€‚ å¦‚ä½•ä¿è¯æ¶ˆæ¯æ•°æ®å¤„ç†çš„ä¸€è‡´æ€§ï¼Ÿ 1.3 RocetMQåŽ†å²åŠå…¶ç‰¹å¾â€‹ é˜¿é‡Œçš„æ¶ˆæ¯ä¸­é—´ä»¶æœ‰å¾ˆé•¿çš„åŽ†å²ï¼Œä»Ž2007å¹´çš„Notifyåˆ°2010å¹´çš„Napoli, 2011å¹´å‡çº§åŽæ”¹ä¸ºMetaQï¼Œç„¶åŽåˆ°2012å¹´å¼€å§‹åšRocketMQ, RocketMQä½¿ç”¨Javaè¯­è¨€å¼€å‘ï¼ŒäºŽ2016å¹´å¼€æºã€‚ç¬¬ä¸€ä»£çš„Notifyä¸»è¦ä½¿ç”¨äº†æŽ¨æ¨¡åž‹ï¼Œè§£å†³äº†äº‹åŠ¡æ¶ˆæ¯ï¼›ç¬¬äºŒä»£çš„MetaQä¸»è¦ä½¿ç”¨äº†æ‹‰æ¨¡åž‹ï¼Œè§£å†³äº†é¡ºåºæ¶ˆæ¯å’Œæµ·é‡å †ç§¯çš„é—®é¢˜ã€‚RocketMQåŸºäºŽé•¿è½®è¯¢çš„æ‹‰å–æ–¹å¼ï¼Œå…¼æœ‰ä¸¤è€…çš„ä¼˜ç‚¹ã€‚â€‹ æ¯ä¸€æ¬¡äº§å“è¿­ä»£ï¼Œéƒ½å¸å–äº†ä¹‹å‰çš„ç»éªŒæ•™è®­ï¼Œç›®å‰RocketMQå·²ç»æˆä¸ºApacheé¡¶çº§é¡¹ç›®ã€‚åœ¨é˜¿é‡Œå†…éƒ¨ï¼ŒRocketMQå¾ˆå¥½åœ°æœåŠ¡äº†é›†å›¢å¤§å¤§å°å°ä¸Šåƒä¸ªåº”ç”¨ï¼Œåœ¨æ¯å¹´çš„åŒåä¸€å½“å¤©ï¼Œæ›´æœ‰ä¸å¯æ€è®®çš„ä¸‡äº¿çº§æ¶ˆæ¯é€šè¿‡RocketMQæµè½¬ï¼ˆåœ¨2017å¹´çš„åŒåä¸€å½“å¤©ï¼Œæ•´ä¸ªé˜¿é‡Œå·´å·´é›†å›¢é€šè¿‡RocketMQæµè½¬çš„çº¿ä¸Šæ¶ˆæ¯è¾¾åˆ°äº†ä¸‡äº¿çº§ï¼Œå³°å€¼TPSè¾¾åˆ°5600ä¸‡ï¼‰ï¼Œåœ¨é˜¿é‡Œå¤§ä¸­å°ç­–ç•¥ä¸Šå‘æŒ¥ç€ä¸¾è¶³è½»é‡çš„ä½œç”¨ã€‚æ­¤å¤–ï¼ŒRocketMQæ˜¯ä½¿ç”¨Javaè¯­è¨€å¼€å‘çš„ï¼Œæ¯”èµ·Kafkaçš„Scalaè¯­è¨€å’ŒRabbitMQçš„Erlangè¯­è¨€ï¼Œæ›´å®¹æ˜“æ‰¾åˆ°æŠ€æœ¯äººå‘˜è¿›è¡Œå®šåˆ¶å¼€å‘ã€‚ ä»ŽRocketMQ Githubä¸»é¡µä¸Šå¯ä»¥æ‰¾åˆ°å¦‚ä¸‹è¡¨è¿°ã€‚ Apache RocketMQ is a distributed messaging and streaming platform with low latency, high performance and reliability, trillion-level capacity and flexible scalability. It offers a variety of features: Pub/Sub messaging model Financial grade transactional message A variety of cross language clients, such as Java, C/C++, Python, Go Pluggable transport protocols, such as TCP, SSL, AIO Inbuilt message tracing capability, also support opentracing Versatile big-data and streaming ecosytem integration Message retroactivity by time or offset Reliable FIFO and strict ordered messaging in the same queue Efficient pull&amp;push consumption model Million-level message accumulation capacity in a single queue Multiple messaging protocols like JMS and OpenMessaging Flexible distributed scale-out deployment architecture Lightning-fast batch message exchange system Various message filter mechanics such as SQL and Tag Docker images for isolated testing and cloud isolated clusters Feature-rich administrative dashboard for configuration, metrics and monitoring Authentication and authorisation å¤§æ¦‚æ„æ€æˆ‘åœ¨è¿™é‡Œç¿»è¯‘ä¸€ä¸‹: â€‹ Apache RocketMQæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ¶ˆæ¯ä¼ é€’å’Œæµåª’ä½“å¹³å°ï¼Œå…·æœ‰ä½Žå»¶è¿Ÿï¼Œé«˜æ€§èƒ½å’Œå¯é æ€§ï¼Œä¸‡äº¿çº§å®¹é‡å’Œçµæ´»çš„å¯ä¼¸ç¼©æ€§ã€‚ å®ƒå…·æœ‰å¤šç§åŠŸèƒ½ï¼š å‘å¸ƒ/è®¢é˜…æ¶ˆæ¯ä¼ é€’æ¨¡åž‹ é‡‘èžçº§äº¤æ˜“æ¶ˆæ¯ å„ç§è·¨è¯­è¨€å®¢æˆ·ç«¯ï¼Œä¾‹å¦‚Javaï¼ŒC / C ++ï¼ŒPythonï¼ŒGo å¯æ’æ‹”çš„ä¼ è¾“åè®®ï¼Œä¾‹å¦‚TCPï¼ŒSSLï¼ŒAIO å†…ç½®çš„æ¶ˆæ¯è·Ÿè¸ªåŠŸèƒ½ï¼Œè¿˜æ”¯æŒå¼€æ”¾å¼è·Ÿè¸ª å¤šåŠŸèƒ½çš„å¤§æ•°æ®å’Œæµç”Ÿæ€ç³»ç»Ÿé›†æˆ æŒ‰æ—¶é—´æˆ–åç§»é‡è¿½æº¯æ¶ˆæ¯ å¯é çš„FIFOå’Œä¸¥æ ¼çš„æœ‰åºæ¶ˆæ¯ä¼ é€’åœ¨åŒä¸€é˜Ÿåˆ—ä¸­ é«˜æ•ˆçš„æŽ¨æ‹‰æ¶ˆè´¹æ¨¡åž‹ å•ä¸ªé˜Ÿåˆ—ä¸­çš„ç™¾ä¸‡çº§æ¶ˆæ¯ç´¯ç§¯å®¹é‡ å¤šç§æ¶ˆæ¯ä¼ é€’åè®®ï¼Œä¾‹å¦‚JMSå’ŒOpenMessaging çµæ´»çš„åˆ†å¸ƒå¼æ¨ªå‘æ‰©å±•éƒ¨ç½²æž¶æž„ å¿«å¦‚é—ªç”µçš„æ‰¹é‡æ¶ˆæ¯äº¤æ¢ç³»ç»Ÿ å¦‚SQLå’ŒTagå„ç§æ¶ˆæ¯è¿‡æ»¤å™¨æœºåˆ¶ ç”¨äºŽéš”ç¦»æµ‹è¯•å’Œäº‘éš”ç¦»ç¾¤é›†çš„Dockeræ˜ åƒ åŠŸèƒ½ä¸°å¯Œçš„ç®¡ç†ä»ªè¡¨æ¿ï¼Œç”¨äºŽé…ç½®ï¼ŒæŒ‡æ ‡å’Œç›‘è§† è®¤è¯ä¸ŽæŽˆæƒç®¡ç† 1.4 å„ç§MQäº§å“çš„æ¯”è¾ƒå¸¸è§çš„MQäº§å“åŒ…æ‹¬Kafkaã€ActiveMQã€RabbitMQã€RocketMQã€‚ 2. æ€»ç»“â€‹ RocketMQåŸºäºŽJavaå¼€å‘çš„ï¼Œå®Œå…¨çš„åˆ†å¸ƒå¼æž¶æž„ï¼ŒAPIç›¸å¯¹æ¯”è¾ƒç®€å•(ç›¸æ¯”RabbitMQ)ï¼Œå®¹æ˜“æŽŒæ¡ï¼Œå¹¶åœ¨é˜¿é‡Œå·´å·´é›†å›¢å†…éƒ¨ç»è¿‡äº†å¤§é‡(åŒ11)çš„å®žè·µï¼Œåˆ†æ€§èƒ½å¼ºæ‚ã€‚å”¯ä¸€ä¸è¶³çš„ä¸€ç‚¹æ˜¯æ–‡æ¡£ç›¸å¯¹ä¸æ˜¯å¾ˆå¤šï¼Œè‹¥èƒ½è·Ÿéšæºç æ·±å…¥äº†è§£å…¶å†…éƒ¨æœºåˆ¶ï¼Œè¿™ä¹Ÿä¸ç®—ç¼ºç‚¹ã€‚ 3. å‚è€ƒæ–‡æ¡£ RocketMQä¸»é¡µ ä¸ºä»€ä¹ˆé€‰æ‹©RocketMQ RocketMQ Github å¸¸è§MQäº§å“å¯¹æ¯” 17ä¸ªæ–¹é¢å¯¹æ¯”ä¸»æµMQå·®å¼‚ RocketæŠ€æœ¯å†…å¹• Rocketå®žæˆ˜ä¸ŽåŽŸç†\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"RocketMQ\",\"slug\":\"RocketMQ\",\"permalink\":\"http://ltyeamin.github.io/tags/RocketMQ/\"}]},{\"title\":\"ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬\",\"slug\":\"ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬\",\"date\":\"2019-11-02T10:15:00.000Z\",\"updated\":\"2019-11-23T03:14:33.631Z\",\"comments\":true,\"path\":\"2019/11/02/ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/11/02/ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬/\",\"excerpt\":\"\",\"text\":\"å‰è¨€çŽ°åœ¨åšå®¢çš„å›¾ç‰‡éƒ½æ”¾åœ¨ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ä¸Šé¢ï¼Œä¸ªäººç”¨æˆ·æœ‰å…è´¹10GBçš„å­˜å‚¨ç©ºé—´ã€‚ å› ä¸ºæ¯ä¸€ä¸ªçš„bucketç©ºé—´åˆ†é…ä¸€ä¸ªä¸ƒç‰›äº‘çš„ç©ºé—´åŸŸåï¼Œå¦‚ä¸‹ç¤ºä¾‹ï¼š S3 åŸŸå Endpoint(åŒºåŸŸèŠ‚ç‚¹)ï¼š s3-cn-east-1.qiniucs.com ç©ºé—´åŸŸåï¼š 20191119.s3-cn-east-1.qiniucs.com èžåˆ CDN æµ‹è¯•åŸŸå ä¸ƒç‰›èžåˆ CDN æµ‹è¯•åŸŸåï¼ˆä»¥ clouddn.com/qiniucdn.com/qiniudn.com/qnssl.com/qbox.me ç»“å°¾ï¼‰ï¼Œæ¯ä¸ªåŸŸåæ¯æ—¥é™æ€»æµé‡ 10GBï¼Œæ¯ä¸ªæµ‹è¯•åŸŸåè‡ªåˆ›å»ºèµ· 30 ä¸ªè‡ªç„¶æ—¥åŽç³»ç»Ÿä¼šè‡ªåŠ¨å›žæ”¶ï¼Œä»…ä¾›æµ‹è¯•ä½¿ç”¨å¹¶ä¸”ä¸æ”¯æŒ Https è®¿é—®ï¼Œè¯¦æƒ…æŸ¥çœ‹ ä¸ƒç‰›æµ‹è¯•åŸŸåä½¿ç”¨è§„èŒƒ ã€‚ç‚¹å‡»åŸŸåå¯æŸ¥çœ‹å‰©ä½™å›žæ”¶æ—¶é—´ã€‚ q176n8af9.bkt.clouddn.com ä¸ƒç‰›äº‘å¾ˆå‘çš„ä¸€ç‚¹å°±æ˜¯è¿™ä¸ªæµ‹è¯•åŸŸåæœ‰æ•ˆæœŸæ˜¯30å¤©(éšå£ä¸€è¯´ï¼Œäººå®¶å…è´¹ç»™ä½ çš„10Gå­˜å‚¨å·²ç»å¾ˆä¸é”™äº†)ï¼Œæ‰€ä»¥30å¤©ä»¥åŽåŸŸåä¼šè‡ªåŠ¨è¿‡æœŸï¼Œæ„å‘³ç€é‡Œé¢å­˜å‚¨çš„å›¾ç‰‡ä»¥åŠå¯¹è±¡éƒ½ä¸èƒ½è®¿é—®ã€‚ è§£å†³è¿™ç§é—®é¢˜æœ‰ä¸¤ç§æ–¹æ³•ï¼š ç»‘å®šä¸€ä¸ªå¤‡æ¡ˆçš„åŸŸå(éžå¸¸å»ºè®®)ï¼› ä¼˜ç‚¹ï¼šå¿«é€Ÿå¥½ç®¡ç†ï¼Œåªæœ‰åŸŸåä¸è¿‡æœŸï¼Œç»ˆèº«äº«å—ï¼› ç¼ºç‚¹ï¼šæ¡ä»¶é™åˆ¶æ¯”è¾ƒå¤§ï¼ŒåŸŸåè¦å¤‡æ¡ˆã€‚ åˆ‡æ¢bucketç©ºé—´ï¼Œå³æ–°å»ºä¸€ä¸ªæ–°çš„bucketï¼Œç„¶åŽå°†æ—§çš„bucketè¿ç§»è¿‡åŽ»ã€‚ ä¼˜ç‚¹ï¼šå…è´¹ ç¼ºç‚¹ï¼šéº»çƒ¦ï¼Œæ¯éš”30å¤©è¿ç§»ä¸€æ¬¡ è¿ç§»æˆ‘åªæœ‰å›½å†…çš„åŸŸåï¼šhttp://yeamin.top ã€‚ æˆ‘çš„BlogåŸŸåæ˜¯http://blog.yeamin.top ã€‚ å› ä¸ºæˆ‘ä¸ªäººæ²¡æœ‰æœåŠ¡å™¨ï¼Œä¸»åŸŸåéƒ½æ²¡æœ‰åœ¨å›½å†…å¤‡æ¡ˆï¼Œåœ¨æˆ‘è¿™é‡Œé€‰æ‹©äº†ç¬¬äºŒç§æ–¹å¼ï¼šè¿ç§»ç©ºé—´æ¢å–æ–°çš„bucketå’ŒåŸŸåã€‚ å‡†å¤‡å·¥ä½œæ‰“å¼€ä¸ƒç‰›äº‘å®˜ç½‘ï¼Œç™»å½•è¿›å…¥åˆ°ç®¡ç†æŽ§åˆ¶å°ï¼Œå·¦ä¾§é€‰æ‹©å¯¹è±¡å­˜å‚¨ æ‰¾åˆ°è¦è¿ç§»çš„bucket,å³æºå­˜å‚¨ï¼› æ–°å»ºä¸€ä¸ªbucketï¼Œå³ä¾¿ç›®æ ‡å­˜å‚¨ç©ºé—´ï¼› ä¸‹è½½å¹¶è§£åŽ‹ä¸ƒç‰›äº‘å®˜æ–¹æä¾›çš„åŒæ­¥è¿ç§»å·¥å…·ï¼šhttp://developer.qiniu.com/docs/v6/tools/qshell.htmlï¼› åœ¨å³ä¸Šè§’æ‰¾åˆ°æˆ‘çš„å›¾åƒæ‚¬æµ®å‡ºæ¥èœå•åŽï¼Œé€‰æ‹©ç§˜é’¥ç®¡ç†ï¼Œå‡†å¤‡å¥½AKå’ŒSK(AccessKey/SecretKey)ã€‚ å…·ä½“è¿ç§»å¯ä»¥å‚ç…§ä¸ƒç‰›äº‘çš„è¿ç§»æ–‡æ¡£å¯å®Œæˆè¿ç§»å·¥ä½œï¼Œä½†æ˜¯æˆ‘è§‰å¾—æ¯æ¬¡éƒ½è¿™æ ·ä¸€ä¸ªä¸€ä¸ªè¿™æ ·è¿ç§»å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘ä»Šå¤©æŠ½ç©ºå†™äº†ä¸€æ®µè„šæœ¬åŽ»å¤„ç†è¿ç§»å·¥ä½œã€‚ è„šæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869#!/bin/bash## author: tong.li# description: qshell bucket transfer# date: 2019-11-02 14:45:22#å‡†å¤‡é…ç½®çŽ¯å¢ƒecho \\\"Prepare Environment...\\\"if [ ! -x './qshell-windows-x64-v2.4.0' ] then echo \\\"qshell script file not exist\\\"fiif [[ !\\\"$1\\\" ]]; then echo -n \\\"please input account:\\\" read accountfiecho -n 'please input your AK:'read AKecho -n 'please input your SK:'read SKif [[ ! \\\"$AK\\\" || ! \\\"$SK\\\" ]]; then echo \\\"AK OR SK is null, please try again\\\" exit 0fi# å·²æœ‰è´¦æˆ·åˆ—è¡¨rs=`./qshell-windows-x64-v2.4.0 user ls | awk '&#123;print $2&#125;'`if [[ $rs=~$AK &amp;&amp; $rs=~$SK &amp;&amp; $rs=~$account ]]; then echo \\\"Config OK...\\\"else echo \\\"Starting AKã€SK Config...\\\" ./qshell-windows-x64-v2.4.0 account ak sk namefiecho \\\"account: $account\\\"echo \\\"AK is : $AK\\\"echo \\\"SK is: $SK\\\"if [[ !\\\"$sourcebucket\\\" ]]; then echo -n \\\"please input sourcebucket:\\\" read sourcebucketfiif [[ !\\\"$desbucket\\\" ]]; then echo -n \\\"please input desbucket:\\\" read desbucketfi# åˆ—ä¸¾å½“å‰éœ€è¦å¤åˆ¶bucketæ•°æ®./qshell-windows-x64-v2.4.0 listbucket $sourcebucket -o cp.txt# ç”Ÿæˆæ–‡ä»¶åˆ—è¡¨cat cp.txt | awk '&#123;print $1&#125;' &gt; cpp.txtsize=$(du -sb cpp.txt|cut -f1)if [[ size &lt;=0 ]]; then echo \\\"cpp.txt size is 0KB\\\" exit 0fi# å¼€å§‹æ‰¹é‡è¿ç§»./qshell-windows-x64-v2.4.0 batchcopy $sourcebucket $desbucket -i cpp.txtif [ $? -eq 0 ]; then echo \\\"==============transfer bucket From $sourcebucket to $desbucket success==============================\\\"else echo \\\"=============================transfer bucket failed,please try again==================================\\\"fi æ‰§è¡Œè¿ç§» å°†ä¸Šè¿°ä»£ç ä¿å­˜batchcopy.shï¼Œå¹¶èµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼› æ‰§è¡Œ./batchcopy.sh ä½ çš„ä¸ƒç‰›äº‘è´¦æˆ·å ä¹‹åŽæŒ‰è¾“å…¥æç¤ºè¾“å…¥AKã€SKã€æºbucketã€ç›®æ ‡bucketå³å¯å®Œæˆè¿ç§»æ“ä½œã€‚ æ€»ç»“â€‹ ç»å¸¸çœ‹åˆ«äººçš„shellè„šæœ¬ï¼Œè‡ªå·±ä»Žæ¥ä¹Ÿæ²¡å†™è¿‡ï¼Œè¿™æ˜¯æ˜¯ç¬¬ä¸€æ¬¡å†™è„šæœ¬ï¼Œå¤šå°‘å¯èƒ½æœ‰äº›bugã€‚åŽç»­å‘çŽ°äº†ä¼šåŠæ—¶æ›´æ­£ä»–ã€‚æ€»ä¹‹è¿˜æ˜¯å¤šå­¦å¤šå®žè·µä¸€ä¸‹æ²¡åå¤„ã€‚ å‚è€ƒæ–‡æ¡£ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨è¿ç§»æ–‡æ¡£ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è¯¦è§£\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"slug\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"permalink\":\"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/\"}]},{\"title\":\"è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools\",\"slug\":\"è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools\",\"date\":\"2019-10-12T14:40:10.000Z\",\"updated\":\"2019-11-09T03:44:53.969Z\",\"comments\":true,\"path\":\"2019/10/12/è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/10/12/è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools/\",\"excerpt\":\"\",\"text\":\"ä¹‹å‰ä¹ æƒ¯äº†Mac Pro çš„Spotlightæ¨¡å¼è¿›è¡Œæ£€ç´¢åº”ç”¨å’Œæ–‡ä»¶ï¼Œåœ¨å‰æ®µæ—¥å­ä¸­ï¼Œæˆ‘æˆåŠŸçš„æ‰¾åˆ°äº†ä¸€æ¬¾Windowsä¸Šç±»ä¼¼çš„è½¯ä»¶Everything+Woxï¼Œä»åœ¨ä½¿ç”¨Windowsçš„æœ‹å‹æœ‰å…´è¶£å¯ä»¥çœ‹æˆ‘é˜…è¯»è¿™è¾¹æ–‡ç« è¿›è¡Œæ“ä½œä½“éªŒã€‚ è¨€å½’æ­£ä¼ ï¼Œæˆ‘åœ¨å®¶ä½¿ç”¨çš„ç”µè„‘ç³»ç»Ÿæ˜¯Deepin Linux,æ›¾ç»ä¹Ÿæƒ³æ‰¾åˆ°è¿™ç§æ¬¾é€Ÿæ£€ç´¢å·¥å…·ï¼Œä½†æ˜¯æ‰¾äº†å¾ˆé•¿æ—¶é—´å´æ²¡æœ‰æ‰¾åˆ°ã€‚ ä»Šå¤©æˆ‘å¶å°”åœ¨æ·±åº¦åº”ç”¨å•†åº—å‘çŽ°ä¸€æ¬¾åå«utoolsçš„è½¯ä»¶ï¼Œç±»ä¼¼äºŽSpotlightæ¨¡å¼ã€‚ äºŽæ˜¯æˆ‘æ‰“å¼€å®˜ç½‘ï¼Œå®˜ç½‘æ˜¯è¿™æ ·ä»‹ç»çš„ï¼š ä½ çš„ç”Ÿäº§åŠ›å·¥å…·é›†uToolsæ˜¯ä¸€ä¸ªæžç®€ã€æ’ä»¶åŒ–ã€è·¨å¹³å°çš„çŽ°ä»£æ¡Œé¢è½¯ä»¶ã€‚é€šè¿‡è‡ªç”±é€‰é…ä¸°å¯Œçš„æ’ä»¶ï¼Œæ‰“é€ ä½ å¾—å¿ƒåº”æ‰‹çš„å·¥å…·é›†åˆã€‚å½“ä½ ç†Ÿæ‚‰å®ƒåŽï¼Œèƒ½å¤Ÿä¸ºä½ èŠ‚çº¦å¤§é‡æ—¶é—´ï¼Œè®©ä½ å¯ä»¥æ›´åŠ ä¸“æ³¨åœ°æ”¹å˜ä¸–ç•Œã€‚ uToolsæ˜¯è·¨å¹³å°çš„è½¯ä»¶,åŒæ—¶æ”¯æŒWindowsã€Macã€Linuxç­‰å¹³å°ï¼Œä¸åŒå¹³å°ç¨å¾®æœ‰äº›å·®åˆ«ã€‚Linuxå¹³å°æ²¡æœ‰æ–‡ä»¶æ£€ç´¢ï¼Œè¿™ç‚¹æ˜¯å¾ˆé—æ†¾çš„ï¼Œä½†æ˜¯ç¬”è€…ç›¸ä¿¡å¼€å‘è€…åŽç»­ä¼šæ…¢æ…¢å®Œå–„ã€‚ utoolså¸¸ç”¨ä½“éªŒæ’ä»¶ä¸­å¿ƒ å¿«é€Ÿå¯åŠ¨ æœ¬åœ°æœç´¢æ³¨æ„ï¼šä»…æ”¯æŒWindowså’ŒMacå¹³å°ï¼ŒLinuxå¹³å°ä¸‹ä¼šå¾ˆå¿«å¼€å‘ å›¾ç•¥ è‡ªåŠ¨è¯†åˆ« æ•°æ®åŒæ­¥ HttpæŠ“åŒ… å›¾ç•¥ å‰ªè´´æ¿ å›¾ç•¥ å›¾åºŠ å›¾ç•¥ hostsåˆ‡æ¢ å›¾ç•¥ ç¿»è¯‘ å›¾ç•¥ è®¡ç®—å™¨ å›¾ç•¥ å†…ç½‘ç©¿é€ å›¾ç•¥ ç›¸å…³ç«™ç‚¹ å®˜ç½‘åœ°å€ï¼šhttps://www.u.tools/ å®˜ç½‘ä¸‹è½½åœ°å€ï¼šhttps://www.u.tools/download.html ä½¿ç”¨æ–‡æ¡£åœ°å€: https://www.u.tools/docs/guide/about-uTools.html è®¨è®ºç¤¾åŒº: https://yuanliao.info/\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"slug\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"permalink\":\"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/\"}]},{\"title\":\"ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®\",\"slug\":\"ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®\",\"date\":\"2019-10-12T12:23:11.000Z\",\"updated\":\"2019-11-09T03:25:49.482Z\",\"comments\":true,\"path\":\"2019/10/12/ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/10/12/ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®/\",\"excerpt\":\"\",\"text\":\"çˆ¬è™«åˆ†æžçˆ¬è™«éœ€æ±‚æè¿°: çˆ¬å–çŒ«çœ¼ç”µå½±TOP100çš„ç”µå½±åç§°ã€æ—¶é—´ã€è¯„åˆ†ã€æµ·æŠ¥å›¾ç‰‡ç­‰ä¿¡æ¯ ç«™ç‚¹: https://maoyan.com/board/4 åˆ†æž: æ‰“å¼€ç«™ç‚¹å³æ˜¯çŒ«çœ¼ç”µå½±TOP100çš„ç¬¬ä¸€é¡µ,ç‚¹å‡»ä¸‹ä¸€é¡µï¼Œæˆ‘ä»¬è§‚å¯Ÿåœ°å€æ URLåŽè¾¹è¿½åŠ äº†?offset=10çš„å‚æ•°ï¼Œæ˜¾ç„¶offsetå‚æ•°ä»£è¡¨åç§»é‡ï¼Œoffset=10è¡¨ç¤ºç¬¬ä¸€é¡µï¼Œoffset=20è¡¨ç¤ºç¬¬äºŒé¡µï¼Œç”±æ­¤å¯æŽ¨ï¼Œè‹¥åç§»é‡æœªnï¼Œåˆ™ç”µå½±åºå·å°±æ˜¯n+1åˆ°n+10ï¼Œæ¯é¡µæ˜¾ç¤º10ä¸ªã€‚å› æ­¤ï¼Œæƒ³è¦èŽ·å–TOP100ï¼Œè¦åˆ†å¼€è¯·æ±‚10æ¬¡ï¼Œè€Œ10æ¬¡çš„offsetå‚æ•°å€¼åˆ†åˆ«è®¾ç½®ä¸º0ã€10ã€20â€¦90å³å¯ï¼Œè¿™æ ·èŽ·å–ä¸åŒçš„é¡µé¢ä¹‹åŽï¼Œå†é€šè¿‡ä»»æ„ä¸€ä¸ªçš„è§£æžå™¨æå–ç›¸å…³çš„æ•°æ®å³å¯å®Œæˆã€‚ ä»£ç ç¼–å†™åˆ©ç”¨æ­£åˆ™è¿›è¡Œè§£æž1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#!/usr/bin python3.6# -*- encoding: utf-8 -*-\\\"\\\"\\\"@File : __init__.py.py@Description : åˆ©ç”¨requestsåº“å’Œlxmlè§£æžåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®@Author : tong.li@Email : lt_alex@163.com@Blog : http://blog.yeamin.top@Time : 2019/10/12 ä¸‹åˆ8:31\\\"\\\"\\\"import requestsimport reimport timefrom requests.exceptions import RequestExceptiondef request_page(url): try: # è®¾ç½®è¯·æ±‚å¤´ headers = &#123; 'User-Agent' : 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36' &#125; response = requests.get(url, headers=headers) if response.status_code == 200: text = response.text # èŽ·å–ç”µå½±æŽ’åã€æµ·æŠ¥ã€åç§°ã€ä¸»æ¼”ã€å‘å¸ƒæ—¶é—´ã€è¯„åˆ† regx = re.compile('&lt;dd&gt;.*?board-index.*?&gt;(.*?)&lt;/i&gt;.*?data-src=\\\"(.*?)\\\".*?name.*?a.*?&gt;(.*?)&lt;/a&gt;' '.*?star.*?&gt;.*?ï¼š(.*?)\\\\s*&lt;/p&gt;.*?releasetime.*?&gt;.*?ï¼š(.*?)&lt;/p&gt;.*?integer.*?&gt;(.*?)&lt;/i&gt;' '.*?fraction.*?&gt;(.*?)&lt;/i&gt;.*?&lt;/dd&gt;', re.S) items = re.findall(regx, text) for item in items: yield &#123; 'index': item[0], 'name': item[2], 'actor': item[3], 'post_img': item[1], 'time': item[4], 'score': item[5]+item[6] &#125; return items return None except RequestException: return None# å­˜å‚¨:æ–‡ä»¶/æ•°æ®åº“def store(text,filename): with open(filename, 'a', encoding='utf-8') as file: file.write(str(text) + '\\\\n')def getData(url): datas = request_page(url) for data in datas: # æŽ§åˆ¶å°æ‰“å°æ•°æ® print(data) # å°†æ•°æ®å†™å…¥txtçº¯æ–‡æœ¬æ–‡ä»¶ä¸­ store(data,'result.txt')if __name__ == '__main__': # çŒ«çœ¼ç”µå½±TOP100æ¦œå• url = 'https://maoyan.com/board/4?offset=' for i in range(10): getData(url + str(i * 10)) # çŒ«çœ¼ç”µå½±æœ‰åçˆ¬è™«é™åˆ¶,çˆ¬çš„å¤ªå¤šä¼šæœ‰IPæˆ–éªŒè¯ç é™åˆ¶,ç­‰å¾…0.5æ¯«ç§’å†æ¬¡è¯·æ±‚ time.sleep(0.5) åˆ©ç”¨xlmlåŠXpathè§£æž12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#!/usr/bin python3.6# -*- encoding: utf-8 -*-\\\"\\\"\\\"@File : __init__.py.py@Description : åˆ©ç”¨requestsåº“å’Œlxmlè§£æžåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®@Author : tong.li@Email : lt_alex@163.com@Blog : http://blog.yeamin.top@Time : 2019/10/12 ä¸‹åˆ8:31\\\"\\\"\\\"from lxml import etreeimport requestsimport timefrom requests.exceptions import RequestExceptiondef request_page(url): try: # è®¾ç½®è¯·æ±‚å¤´ headers = &#123; 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36' &#125; response = requests.get(url, headers=headers) if response.status_code == 200: text = response.text return text return None except RequestException: return Nonedef dealData(items): for item in items: yield &#123; 'index': item[0], 'name': item[1], 'actor': item[2].strip(), 'time': item[3][5:], 'score': item[4] + item[5], 'post_img': item[6] &#125; return itemsif __name__ == '__main__': for i in range(10): # çŒ«çœ¼ç”µå½±TOP100æ¦œå• url = 'https://maoyan.com/board/4?offset='+ str(i * 10) html = etree.HTML(request_page(url)) indexs = html.xpath('//*[@id=\\\"app\\\"]/div/div/div[1]/dl/dd/i/text()') name = html.xpath('//*[@id=\\\"app\\\"]/div/div/div[1]/dl/dd/div/div/div[1]/p[1]/a/text()') actor = html.xpath('//*[@id=\\\"app\\\"]/div/div/div[1]/dl/dd/div/div/div[1]/p[2]/text()') times = html.xpath('//*[@id=\\\"app\\\"]/div/div/div[1]/dl/dd/div/div/div[1]/p[3]/text()') score1 = html.xpath('//*[@id=\\\"app\\\"]/div/div/div[1]/dl/dd/div/div/div[2]/p/i[1]/text()') score2 = html.xpath('//*[@id=\\\"app\\\"]/div/div/div[1]/dl/dd/div/div/div[2]/p/i[2]/text()') # å–å›¾ç‰‡åœ°å€çš„æ—¶å€™å‘çŽ°é—®é¢˜,æ‰“å¼€æµè§ˆå™¨F12æŽ§åˆ¶å°,åœ¨Elementçœ‹åˆ°çš„imgæ ‡ç­¾å›¾ç‰‡åœ°å€å±žæ€§åä¸ºsrc, # ä½†æ˜¯åœ¨Sourceä¸‹çœ‹åˆ°çš„å±žæ€§åæ˜¯data-src,åŽŸå› å¯èƒ½æ˜¯æµè§ˆå™¨å¯¹JavaScriptä»£ç è¿›è¡Œäº†æ¸²æŸ“ images = html.xpath('//*[@class=\\\"board-img\\\"]/@data-src') datas = zip(indexs,name,actor,times,score1,score2,images) for data in dealData(datas): print(data) # çŒ«çœ¼ç”µå½±æœ‰åçˆ¬è™«é™åˆ¶,çˆ¬çš„å¤ªå¤šä¼šæœ‰IPæˆ–éªŒè¯ç é™åˆ¶,ç­‰å¾…0.5æ¯«ç§’å†æ¬¡è¯·æ±‚ time.sleep(0.5) çˆ¬å–ç»“æžœ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100&#123;'index': '1', 'name': 'éœ¸çŽ‹åˆ«å§¬', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,å¼ ä¸°æ¯…,å·©ä¿', 'time': '1993-07-26', 'score': '9.5', 'post_img': 'https://p1.meituan.net/movie/20803f59291c47e1e116c11963ce019e68711.jpg@160w_220h_1e_1c'&#125;&#123;'index': '2', 'name': 'è‚–ç”³å…‹çš„æ•‘èµŽ', 'actor': 'ä¸»æ¼”ï¼šè’‚å§†Â·ç½—å®¾æ–¯,æ‘©æ ¹Â·å¼—é‡Œæ›¼,é²å‹ƒÂ·å†ˆé¡¿', 'time': '1994-09-10(åŠ æ‹¿å¤§)', 'score': '9.5', 'post_img': 'https://p0.meituan.net/movie/283292171619cdfd5b240c8fd093f1eb255670.jpg@160w_220h_1e_1c'&#125;&#123;'index': '3', 'name': 'ç½—é©¬å‡æ—¥', 'actor': 'ä¸»æ¼”ï¼šæ ¼åˆ©é«˜é‡ŒÂ·æ´¾å…‹,å¥¥é»›ä¸½Â·èµ«æœ¬,åŸƒè¿ªÂ·è‰¾ä¼¯ç‰¹', 'time': '1953-09-02(ç¾Žå›½)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/289f98ceaa8a0ae737d3dc01cd05ab052213631.jpg@160w_220h_1e_1c'&#125;&#123;'index': '4', 'name': 'è¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·', 'actor': 'ä¸»æ¼”ï¼šè®©Â·é›·è¯º,åŠ é‡ŒÂ·å¥¥å¾·æ›¼,å¨œå¡”èŽ‰Â·æ³¢ç‰¹æ›¼', 'time': '1994-09-14(æ³•å›½)', 'score': '9.5', 'post_img': 'https://p1.meituan.net/movie/6bea9af4524dfbd0b668eaa7e187c3df767253.jpg@160w_220h_1e_1c'&#125;&#123;'index': '5', 'name': 'æ³°å¦å°¼å…‹å·', 'actor': 'ä¸»æ¼”ï¼šèŽ±æ˜‚çº³å¤šÂ·è¿ªå¡æ™®é‡Œå¥¥,å‡¯ç‰¹Â·æ¸©ä¸èŽ±ç‰¹,æ¯”åˆ©Â·èµžæ©', 'time': '1998-04-03', 'score': '9.5', 'post_img': 'https://p1.meituan.net/movie/b607fba7513e7f15eab170aac1e1400d878112.jpg@160w_220h_1e_1c'&#125;&#123;'index': '6', 'name': 'å”ä¼¯è™Žç‚¹ç§‹é¦™', 'actor': 'ä¸»æ¼”ï¼šå‘¨æ˜Ÿé©°,å·©ä¿,éƒ‘ä½©ä½©', 'time': '1993-07-01(ä¸­å›½é¦™æ¸¯)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/da64660f82b98cdc1b8a3804e69609e041108.jpg@160w_220h_1e_1c'&#125;&#123;'index': '7', 'name': 'é­‚æ–­è“æ¡¥', 'actor': 'ä¸»æ¼”ï¼šè´¹é›¯Â·ä¸½,ç½—ä¼¯ç‰¹Â·æ³°å‹’,éœ²å¡žå°”Â·æ²ƒç‰¹æ£®', 'time': '1940-05-17(ç¾Žå›½)', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/46c29a8b8d8424bdda7715e6fd779c66235684.jpg@160w_220h_1e_1c'&#125;&#123;'index': '8', 'name': 'ä¹±ä¸–ä½³äºº', 'actor': 'ä¸»æ¼”ï¼šè´¹é›¯Â·ä¸½,å…‹æ‹‰å…‹Â·ç›–åš,å¥¥åˆ©ç»´å¨…Â·å¾·å“ˆç»´å…°', 'time': '1939-12-15(ç¾Žå›½)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/223c3e186db3ab4ea3bb14508c709400427933.jpg@160w_220h_1e_1c'&#125;&#123;'index': '9', 'name': 'å¤©ç©ºä¹‹åŸŽ', 'actor': 'ä¸»æ¼”ï¼šå¯ºç”°å†œ,é¹«å°¾çœŸçŸ¥å­,é¾Ÿå±±åŠ©æ¸…', 'time': '1992-05-01', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/ba1ed511668402605ed369350ab779d6319397.jpg@160w_220h_1e_1c'&#125;&#123;'index': '10', 'name': 'è¾›å¾·å‹’çš„åå•', 'actor': 'ä¸»æ¼”ï¼šè¿žå§†Â·å°¼æ£®,æ‹‰å°”å¤«Â·è´¹å› æ–¯,æœ¬Â·é‡‘æ–¯åˆ©', 'time': '1993-12-15(ç¾Žå›½)', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/b0d986a8bf89278afbb19f6abaef70f31206570.jpg@160w_220h_1e_1c'&#125;&#123;'index': '11', 'name': 'éŸ³ä¹ä¹‹å£°', 'actor': 'ä¸»æ¼”ï¼šæœ±èŽ‰Â·å®‰å¾·é²æ–¯,å…‹é‡Œæ–¯æ‰˜å¼—Â·æ™®å¢é»˜,åŸƒç³è¯ºÂ·å¸•å…‹', 'time': '1965-03-02(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/6bc004d57358ee6875faa5e9a1239140128550.jpg@160w_220h_1e_1c'&#125;&#123;'index': '12', 'name': 'å–œå‰§ä¹‹çŽ‹', 'actor': 'ä¸»æ¼”ï¼šå‘¨æ˜Ÿé©°,èŽ«æ–‡è”š,å¼ æŸèŠ', 'time': '1999-02-13(ä¸­å›½é¦™æ¸¯)', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/18e3191039d5e71562477659301f04aa61905.jpg@160w_220h_1e_1c'&#125;&#123;'index': '13', 'name': 'å¤§é—¹å¤©å®«', 'actor': 'ä¸»æ¼”ï¼šé‚±å²³å³°,æ¯•å…‹,å¯Œæ¶¦ç”Ÿ', 'time': '1965-12-31', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/14a7b337e8063e3ce05a5993ed80176b74208.jpg@160w_220h_1e_1c'&#125;&#123;'index': '14', 'name': 'æ˜¥å…‰ä¹æ³„', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,æ¢æœä¼Ÿ,å¼ éœ‡', 'time': '1997-05-30(ä¸­å›½é¦™æ¸¯)', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/ae7245920d95c03765fe1615f3a1fe3865785.jpg@160w_220h_1e_1c'&#125;&#123;'index': '15', 'name': 'å‰ªåˆ€æ‰‹çˆ±å¾·åŽ', 'actor': 'ä¸»æ¼”ï¼šçº¦ç¿°å°¼Â·å¾·æ™®,è–‡è¯ºå¨œÂ·ç‘žå¾·,é»›å®‰Â·éŸ¦æ–¯ç‰¹', 'time': '1990-12-06(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/6a964e9cee699267053bd6a4bf6f2671195394.jpg@160w_220h_1e_1c'&#125;&#123;'index': '16', 'name': 'ç¾Žä¸½äººç”Ÿ', 'actor': 'ä¸»æ¼”ï¼šç½—ä¼¯æ‰˜Â·è´å°¼å°¼,å°¼å¯èŽ±å¡”Â·å¸ƒæ‹‰æ–¯åŸº,ä¹”æ²»Â·åŽå¡”é‡Œå°¼', 'time': '1997-12-20(æ„å¤§åˆ©)', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/43d259ecbcd53e8bbe902632772281d6327525.jpg@160w_220h_1e_1c'&#125;&#123;'index': '17', 'name': 'é»‘å®¢å¸å›½', 'actor': 'ä¸»æ¼”ï¼šåŸºåŠªÂ·é‡Œç»´æ–¯,å‡¯ç‘ž-å®‰Â·èŽ«æ–¯,åŠ³ä¼¦æ–¯Â·è²ä»€ä¼¯æ©', 'time': '2000-01-14', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/ad974d3527879f00be2eec29135118163728582.jpg@160w_220h_1e_1c'&#125;&#123;'index': '18', 'name': 'å“ˆåˆ©Â·æ³¢ç‰¹ä¸Žé­”æ³•çŸ³', 'actor': 'ä¸»æ¼”ï¼šä¸¹å°¼å°”Â·é›·å¾·å…‹é‡Œå¤«,é²ä¼¯ç‰¹Â·æ ¼æž—ç‰¹,è‰¾çŽ›Â·æ²ƒç‰¹æ£®', 'time': '2002-01-26', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/aacb9ed2a6601bfe515ef0970add1715623792.jpg@160w_220h_1e_1c'&#125;&#123;'index': '19', 'name': 'æŒ‡çŽ¯çŽ‹3ï¼šçŽ‹è€…æ— æ•Œ', 'actor': 'ä¸»æ¼”ï¼šä¼ŠèŽ±è´¾Â·ä¼å¾·,ä¼Šæ©Â·éº¦å…‹èŽ±æ©,ä¸½èŠ™Â·æ³°å‹’', 'time': '2004-03-15', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/932bdfbef5be3543e6b136246aeb99b8123736.jpg@160w_220h_1e_1c'&#125;&#123;'index': '20', 'name': 'æ— é—´é“', 'actor': 'ä¸»æ¼”ï¼šåˆ˜å¾·åŽ,æ¢æœä¼Ÿ,é»„ç§‹ç”Ÿ', 'time': '2003-09-05', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/606de8f394d40dbcbb9b87943fec71a2130408.jpg@160w_220h_1e_1c'&#125;&#123;'index': '21', 'name': 'è™è ä¾ ï¼šé»‘æš—éª‘å£«', 'actor': 'ä¸»æ¼”ï¼šå…‹é‡Œæ–¯è’‚å®‰Â·è´å°”,å¸Œæ–¯Â·èŽ±æ°,é˜¿ä¼¦Â·ä¼Šå…‹å“ˆç‰¹', 'time': '2008-07-18(ç¾Žå›½)', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/09658109acfea0e248a63932337d8e6a4268980.jpg@160w_220h_1e_1c'&#125;&#123;'index': '22', 'name': 'æ¥šé—¨çš„ä¸–ç•Œ', 'actor': 'ä¸»æ¼”ï¼šé‡‘Â·å‡¯ç‘ž,åŠ³æ‹‰Â·ç³å¦®,è¯ºäºšÂ·è‰¾é»˜é‡Œå¥‡', 'time': '1998-06-01(ç¾Žå›½)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/8959888ee0c399b0fe53a714bc8a5a17460048.jpg@160w_220h_1e_1c'&#125;&#123;'index': '23', 'name': 'åŠ å‹’æ¯”æµ·ç›—', 'actor': 'ä¸»æ¼”ï¼šçº¦ç¿°å°¼Â·å¾·æ™®,å‡¯æ‹‰Â·å¥ˆç‰¹èŽ‰,å¥¥å…°å¤šÂ·å¸ƒé²å§†', 'time': '2003-11-21', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/b05b94b28eca53f325ae8d807fcd4ce01798036.jpg@160w_220h_1e_1c'&#125;&#123;'index': '24', 'name': 'æ•™çˆ¶2', 'actor': 'ä¸»æ¼”ï¼šé˜¿å°”Â·å¸•è¥¿è¯º,ç½—ä¼¯ç‰¹Â·å¾·å°¼ç½—,é»›å®‰Â·åŸºé¡¿', 'time': '1974-12-12(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/bb1dee5e0b25889a2410211c1d5010ae190824.jpg@160w_220h_1e_1c'&#125;&#123;'index': '25', 'name': 'å°„é›•è‹±é›„ä¼ ä¹‹ä¸œæˆè¥¿å°±', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,æ¢æœä¼Ÿ,å¼ å­¦å‹', 'time': '1993-02-05(ä¸­å›½é¦™æ¸¯)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/53b6f0b66882a53b08896c92076515a8236400.jpg@160w_220h_1e_1c'&#125;&#123;'index': '26', 'name': 'æœºå™¨äººæ€»åŠ¨å‘˜', 'actor': 'ä¸»æ¼”ï¼šæœ¬Â·è´å°”ç‰¹,è‰¾ä¸½èŽŽÂ·å¥ˆç‰¹,æ°å¤«Â·æ ¼å°”æž—', 'time': '2008-06-27(ç¾Žå›½)', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/267dd2483f0fb57081474c00fbea38451415571.jpg@160w_220h_1e_1c'&#125;&#123;'index': '27', 'name': 'æŒ‡çŽ¯çŽ‹1ï¼šæŠ¤æˆ’ä½¿è€…', 'actor': 'ä¸»æ¼”ï¼šä¼ŠèŽ±è´¾Â·ä¼å¾·,ä¼Šæ©Â·éº¦å…‹èŽ±æ©,ä¸½èŠ™Â·æ³°å‹’', 'time': '2002-04-04', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/dd08154878aac7c8c649fe3eeb8ccd0a2498277.jpg@160w_220h_1e_1c'&#125;&#123;'index': '28', 'name': 'æŒ‡çŽ¯çŽ‹2ï¼šåŒå¡”å¥‡å…µ', 'actor': 'ä¸»æ¼”ï¼šä¼ŠèŽ±è´¾Â·ä¼å¾·,ä¼Šæ©Â·éº¦å…‹èŽ±æ©,ä¸½èŠ™Â·æ³°å‹’', 'time': '2003-04-25', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/02bb9fd161c05bad6089133098efcdb5546589.jpg@160w_220h_1e_1c'&#125;&#123;'index': '29', 'name': 'ç‹®å­çŽ‹', 'actor': 'ä¸»æ¼”ï¼šé©¬ä¿®Â·å¸ƒç½—å¾·é‡Œå…‹,å°¼åŸºå¡”Â·å¡å…°å§†,è©¹å§†æ–¯Â·åŽ„å°”Â·ç¼æ–¯', 'time': '1995-07-15', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/27b76fe6cf3903f3d74963f70786001e1438406.jpg@160w_220h_1e_1c'&#125;&#123;'index': '30', 'name': 'æ´»ç€', 'actor': 'ä¸»æ¼”ï¼šè‘›ä¼˜,å·©ä¿,ç‰›çŠ‡', 'time': '1994-05-18(æ³•å›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/4c41068ef7608c1d4fbfbe6016e589f7204391.jpg@160w_220h_1e_1c'&#125;&#123;'index': '31', 'name': 'æ‹¯æ•‘å¤§å…µç‘žæ©', 'actor': 'ä¸»æ¼”ï¼šæ±¤å§†Â·æ±‰å…‹æ–¯,é©¬ç‰¹Â·è¾¾è’™,æ±¤å§†Â·å¡žå…¹æ‘©å°”', 'time': '1998-11-13', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/a2a287c77415dc1f85b04d288f7d63ab1089754.jpg@160w_220h_1e_1c'&#125;&#123;'index': '32', 'name': 'ç›—æ¢¦ç©ºé—´', 'actor': 'ä¸»æ¼”ï¼šèŽ±æ˜‚çº³å¤šÂ·è¿ªå¡æ™®é‡Œå¥¥,æ¸¡è¾¹è°¦,çº¦ç‘Ÿå¤«Â·é«˜ç™»-èŽ±ç»´ç‰¹', 'time': '2010-09-01', 'score': '9.2', 'post_img': 'https://p1.meituan.net/movie/2f344a9f9575edbcae9f0abe0578bc90339773.jpg@160w_220h_1e_1c'&#125;&#123;'index': '33', 'name': 'å“ˆå°”çš„ç§»åŠ¨åŸŽå ¡', 'actor': 'ä¸»æ¼”ï¼šå€èµåƒæƒ å­,æœ¨æ‘æ‹“å“‰,ç¾Žè½®æ˜Žå®', 'time': '2004-11-20(æ—¥æœ¬)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/0127b451d5b8f0679c6f81c8ed414bb2432442.jpg@160w_220h_1e_1c'&#125;&#123;'index': '34', 'name': 'å¿ çŠ¬å…«å…¬çš„æ•…äº‹', 'actor': 'ä¸»æ¼”ï¼šForest,ç†æŸ¥Â·åŸºå°”,ç¼Â·è‰¾ä¼¦', 'time': '2010-03-12(è‹±å›½)', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/7787c10ad5e95b03cf83ef9473500d8e282796.jpg@160w_220h_1e_1c'&#125;&#123;'index': '35', 'name': 'ç–¯ç‹‚åŽŸå§‹äºº', 'actor': 'ä¸»æ¼”ï¼šå°¼å¤æ‹‰æ–¯Â·å‡¯å¥‡,è‰¾çŽ›Â·æ–¯é€š,ç‘žå®‰Â·é›·è¯ºå…¹', 'time': '2013-04-20', 'score': '9.5', 'post_img': 'https://p1.meituan.net/movie/bc022b86345c643ca21d759166f77a553679589.jpg@160w_220h_1e_1c'&#125;&#123;'index': '36', 'name': 'æå‡»ä¿±ä¹éƒ¨', 'actor': 'ä¸»æ¼”ï¼šçˆ±å¾·åŽÂ·å“ˆé‡Œæ£®Â·è¯ºé¡¿,å¸ƒæ‹‰å¾·Â·çš®ç‰¹,æµ·ä¼¦å¨œÂ·ä¼¯ç¿°Â·å¡ç‰¹', 'time': '1999-10-15(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/b3defc07dfaa1b6f5b74852ce38a3f8f242792.jpg@160w_220h_1e_1c'&#125;&#123;'index': '37', 'name': 'ä¸œé‚ªè¥¿æ¯’', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,æ¢æœä¼Ÿ,åˆ˜å˜‰çŽ²', 'time': '1994-09-17', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/7e471a9171a410ebc9413b2f1de67afc130067.jpg@160w_220h_1e_1c'&#125;&#123;'index': '38', 'name': 'å¹½çµå…¬ä¸»', 'actor': 'ä¸»æ¼”ï¼šæ¾ç”°æ´‹æ²»,çŸ³ç”°ç™¾åˆå­,ç”°ä¸­è£•å­', 'time': '1998-05-01', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/a08f65e6cb50fab32df5da69ff116f593095363.jpg@160w_220h_1e_1c'&#125;&#123;'index': '39', 'name': 'é˜¿å‡¡è¾¾', 'actor': 'ä¸»æ¼”ï¼šè¨å§†Â·æ²ƒè¾›é¡¿,ä½ä¼ŠÂ·ç´¢å°”è¾¾å¨œ,ç±³æ­‡å°”Â·ç½—å¾·é‡Œæ ¼å…¹', 'time': '2010-01-04', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/91f575ec93f019f428d1f33e3ceca7c5115495.jpg@160w_220h_1e_1c'&#125;&#123;'index': '40', 'name': 'é£Žä¹‹è°·', 'actor': 'ä¸»æ¼”ï¼šå²›æœ¬é¡»ç¾Ž,æ°¸äº•ä¸€éƒŽ,å‚æœ¬åƒå¤', 'time': '1992', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/4f9638ba234c3fb673f23a09968db875371576.jpg@160w_220h_1e_1c'&#125;&#123;'index': '41', 'name': 'åäºŒæ€’æ±‰', 'actor': 'ä¸»æ¼”ï¼šäº¨åˆ©Â·æ–¹è¾¾,æŽÂ·ç§‘å¸ƒ,é©¬ä¸Â·é²å°”è¨å§†', 'time': '1957-04-13(ç¾Žå›½)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/df15efd261060d3094a73ef679888d4f238149.jpg@160w_220h_1e_1c'&#125;&#123;'index': '42', 'name': 'å¤§è¯è¥¿æ¸¸ä¹‹æœˆå…‰å®ç›’', 'actor': 'ä¸»æ¼”ï¼šå‘¨æ˜Ÿé©°,èŽ«æ–‡è”š,å´å­Ÿè¾¾', 'time': '2014-10-24', 'score': '9.6', 'post_img': 'https://p0.meituan.net/movie/92eb862c42c49f8e41e459c369c4512b226610.jpg@160w_220h_1e_1c'&#125;&#123;'index': '43', 'name': 'Vå­—ä»‡æ€é˜Ÿ', 'actor': 'ä¸»æ¼”ï¼šå¨œå¡”èŽ‰Â·æ³¢ç‰¹æ›¼,é›¨æžœÂ·ç»´æ–‡,æ–¯è’‚èŠ¬Â·ç‘ž', 'time': '2006-03-17(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/06ec3c1c647942b1e40bca84036014e9490863.jpg@160w_220h_1e_1c'&#125;&#123;'index': '44', 'name': 'æ”¾ç‰›ç­çš„æ˜¥å¤©', 'actor': 'ä¸»æ¼”ï¼šçƒ­æ‹‰å°”Â·æœ±å°¼å¥¥,è®©-å·´è’‚æ–¯ç‰¹Â·èŽ«å°¼è€¶,çŽ›ä¸½Â·å¸ƒå¥ˆå°”', 'time': '2004-10-16', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/70de97ebb6b5251ecb7c3f6d7a782a7f189340.jpg@160w_220h_1e_1c'&#125;&#123;'index': '45', 'name': 'å½“å¹¸ç¦æ¥æ•²é—¨', 'actor': 'ä¸»æ¼”ï¼šå¨å°”Â·å²å¯†æ–¯,è´¾ç™»Â·å²å¯†æ–¯,å¦è¿ªÂ·ç‰›é¡¿', 'time': '2008-01-17', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/5896de3c1474277730e321c9b1db04a9205644.jpg@160w_220h_1e_1c'&#125;&#123;'index': '46', 'name': 'é€Ÿåº¦ä¸Žæ¿€æƒ…5', 'actor': 'ä¸»æ¼”ï¼šèŒƒÂ·è¿ªå¡žå°”,ä¿ç½—Â·æ²ƒå…‹,é“æ©Â·å¼ºæ£®', 'time': '2011-05-12', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/845ce32778a1b3f258de089f91a3979b5766154.jpg@160w_220h_1e_1c'&#125;&#123;'index': '47', 'name': 'é©¯é¾™é«˜æ‰‹', 'actor': 'ä¸»æ¼”ï¼šæ°ä¼ŠÂ·å·´é²åˆ‡å°”,æ°æ‹‰å¾·Â·å·´ç‰¹å‹’,äºšç¾ŽèŽ‰å¡Â·è´¹é›·æ‹‰', 'time': '2010-05-14', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/b0d97e4158b47d653d7a81d66f7dd3092146907.jpg@160w_220h_1e_1c'&#125;&#123;'index': '48', 'name': 'å‹‡æ•¢çš„å¿ƒ', 'actor': 'ä¸»æ¼”ï¼šæ¢…å°”Â·å‰å¸ƒæ£®,è‹è²Â·çŽ›ç´¢,å¸•ç‰¹é‡Œå…‹Â·éº¦é«˜æ±‰', 'time': '1995-05-24(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/f8e9d5a90224746d15dfdbd53d4fae3d209420.jpg@160w_220h_1e_1c'&#125;&#123;'index': '49', 'name': 'é—»é¦™è¯†å¥³äºº', 'actor': 'ä¸»æ¼”ï¼šé˜¿å°”Â·å¸•è¥¿è¯º,å…‹é‡Œæ–¯Â·å¥¥å”çº³,åŠ å¸ƒé‡ŒåŸƒå°”Â·å®‰ç“¦å°”', 'time': '1992-12-23(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/8d7b0b902afd4ec1a3dd7a9c6149463c187734.jpg@160w_220h_1e_1c'&#125;&#123;'index': '50', 'name': 'ç¥žå·å¥¶çˆ¸', 'actor': 'ä¸»æ¼”ï¼šå²è’‚å¤«Â·å¡ç‘žå°”,æ°æ£®Â·å¸­æ ¼å°”,æ‹‰å¡žå°”Â·å¸ƒå…°å¾·', 'time': '2010-07-09(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/85c2bfba6025bfbfb53291ae5924c215308805.jpg@160w_220h_1e_1c'&#125;&#123;'index': '51', 'name': 'é»‘å®¢å¸å›½3ï¼šçŸ©é˜µé©å‘½', 'actor': 'ä¸»æ¼”ï¼šåŸºåŠªÂ·é‡Œç»´æ–¯,é›¨æžœÂ·ç»´æ–‡,å‡¯ç‘ž-å®‰Â·èŽ«æ–¯', 'time': '2003-11-05', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/2e383b5f5f306f10f9f26d9f1c28cf1d825537.jpg@160w_220h_1e_1c'&#125;&#123;'index': '52', 'name': 'é£žå±‹çŽ¯æ¸¸è®°', 'actor': 'ä¸»æ¼”ï¼šçˆ±å¾·åŽÂ·é˜¿æ–¯çº³,ä¹”ä¸¹Â·é•¿äº•,é²å‹ƒÂ·å½¼å¾·æ£®', 'time': '2009-08-04', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/47dd790e19dad72b50580641de5608c5199014.jpg@160w_220h_1e_1c'&#125;&#123;'index': '53', 'name': 'æ–­èƒŒå±±', 'actor': 'ä¸»æ¼”ï¼šå¸Œæ–¯Â·èŽ±æ°,æ°å…‹Â·å‰ä¼¦å“ˆå°”,ç±³æ­‡å°”Â·å¨å»‰å§†æ–¯', 'time': '2006-01-13(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/e71affe126eeb4f8bfcc738cbddeebc8288766.jpg@160w_220h_1e_1c'&#125;&#123;'index': '54', 'name': 'æ€¦ç„¶å¿ƒåŠ¨', 'actor': 'ä¸»æ¼”ï¼šçŽ›å¾·ç³Â·å¡ç½—å°”,å¡å…°Â·éº¦å…‹å¥¥åˆ©è²,è‰¾ä¸¹Â·å¥Žå› ', 'time': '2010-08-06(ç¾Žå›½)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/15f1ac49b6d1ff7b71207672993ed6901536456.jpg@160w_220h_1e_1c'&#125;&#123;'index': '55', 'name': 'ä¸‰å‚»å¤§é—¹å®èŽ±åž', 'actor': 'ä¸»æ¼”ï¼šé˜¿ç±³å°”Â·æ±—,é»„æ¸¤,å¡ç³å¨œÂ·å¡æ™®', 'time': '2011-12-08', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/ca4a128a5a54d5b5e35ceba622636c831810197.jpg@160w_220h_1e_1c'&#125;&#123;'index': '56', 'name': 'æœ«ä»£çš‡å¸', 'actor': 'ä¸»æ¼”ï¼šå°Šé¾™,é™ˆå†²,å½¼å¾—Â·å¥¥å›¾å°”', 'time': '1987-10-23', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/21b9211eb1094af360842472018db634286646.jpg@160w_220h_1e_1c'&#125;&#123;'index': '57', 'name': 'æ— æ•Œç ´åçŽ‹', 'actor': 'ä¸»æ¼”ï¼šçº¦ç¿°Â·CÂ·èµ–åˆ©,è¨æ‹‰Â·è¥¿å°”å¼—æ›¼,ç®€Â·æž—å¥‡', 'time': '2012-11-06', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/fcc17667b8343131101eeb4c67d90bf9150883.jpg@160w_220h_1e_1c'&#125;&#123;'index': '58', 'name': 'è‡´å‘½é­”æœ¯', 'actor': 'ä¸»æ¼”ï¼šä¼‘Â·æ°å…‹æ›¼,å…‹é‡Œæ–¯è’‚å®‰Â·è´å°”,è¿ˆå…‹å°”Â·å‡¯æ©', 'time': '2006-10-20(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/75c0d3eb584be030a01f2e26741a8f41251454.jpg@160w_220h_1e_1c'&#125;&#123;'index': '59', 'name': 'å°‘å¹´æ´¾çš„å¥‡å¹»æ¼‚æµ', 'actor': 'ä¸»æ¼”ï¼šè‹æ‹‰Â·æ²™çŽ›,ä¼Šå°”å‡¡Â·å¯æ±—,å¡”å¸ƒ', 'time': '2012-11-22', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/34998e31c6d07475f1add6b8b16fd21d192579.jpg@160w_220h_1e_1c'&#125;&#123;'index': '60', 'name': 'é¬¼å­æ¥äº†', 'actor': 'ä¸»æ¼”ï¼šå§œæ–‡,å§œå®æ³¢,é™ˆå¼º', 'time': '2000-05-12(æ³•å›½æˆ›çº³)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/0b507aa44c4dfbbcc91949b69b1b39a168922.jpg@160w_220h_1e_1c'&#125;&#123;'index': '61', 'name': 'è™è ä¾ ï¼šé»‘æš—éª‘å£«å´›èµ·', 'actor': 'ä¸»æ¼”ï¼šå…‹é‡Œæ–¯è’‚å®‰Â·è´å°”,è¿ˆå…‹å°”Â·å‡¯æ©,åŠ é‡ŒÂ·å¥¥å¾·æ›¼', 'time': '2012-08-27', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/96bb58f3e9d213fb0438987d16d27561379209.jpg@160w_220h_1e_1c'&#125;&#123;'index': '62', 'name': 'ç¾Žä¸½å¿ƒçµ', 'actor': 'ä¸»æ¼”ï¼šç½—ç´ Â·å…‹æ´›,è©¹å¦®å¼—Â·åº·çº³åˆ©,è‰¾å¾·Â·å“ˆé‡Œæ–¯', 'time': '2001-12-21(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/7b7d1f8aa36d7a15463ce6942708a1a7265296.jpg@160w_220h_1e_1c'&#125;&#123;'index': '63', 'name': 'å“ˆåˆ©Â·æ³¢ç‰¹ä¸Žæ­»äº¡åœ£å™¨ï¼ˆä¸‹ï¼‰', 'actor': 'ä¸»æ¼”ï¼šä¸¹å°¼å°”Â·é›·å¾·å…‹é‡Œå¤«,é²ä¼¯ç‰¹Â·æ ¼æž—ç‰¹,è‰¾çŽ›Â·æ²ƒç‰¹æ£®', 'time': '2011-08-04', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/bb0eca029cd25329776a4549b3fbe262924727.jpg@160w_220h_1e_1c'&#125;&#123;'index': '64', 'name': 'å€©å¥³å¹½é­‚', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,çŽ‹ç¥–è´¤,åˆé©¬', 'time': '2011-04-30', 'score': '9.2', 'post_img': 'https://p1.meituan.net/movie/96d98200d2afb4b87ff189f9c15b6545568339.jpg@160w_220h_1e_1c'&#125;&#123;'index': '65', 'name': 'å¤œè®¿å¸è¡€é¬¼', 'actor': 'ä¸»æ¼”ï¼šæ±¤å§†Â·å…‹é²æ–¯,å¸ƒæ‹‰å¾·Â·çš®ç‰¹,å…‹å°”æ–¯æ»•Â·é‚“æ–¯ç‰¹', 'time': '1994-11-11(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/7ec873ba943f13e3c63789d899bd0e23256871.jpg@160w_220h_1e_1c'&#125;&#123;'index': '66', 'name': 'é’¢ç´å®¶', 'actor': 'ä¸»æ¼”ï¼šè‰¾å¾·é‡Œå®‰Â·å¸ƒæ´›è¿ª,è‰¾ç±³èŽ‰å¨…Â·ç¦å…‹æ–¯,ç±³å“ˆä¹ŒÂ·çƒ­å¸ƒç½—å¤«æ–¯åŸº', 'time': '2002-09-25(æ³•å›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/484171372de45945e8bbbcc97db57e09136701.jpg@160w_220h_1e_1c'&#125;&#123;'index': '67', 'name': 'è§¦ä¸å¯åŠ', 'actor': 'ä¸»æ¼”ï¼šå¼—æœ—ç´¢ç“¦Â·å…‹é²å¡ž,å¥¥çŽ›Â·å¸Œ,å®‰å¨œÂ·å‹’å°¼', 'time': '2011-11-02(æ³•å›½)', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/1e700e53e4fe29dd5942381bb353c8532239179.jpg@160w_220h_1e_1c'&#125;&#123;'index': '68', 'name': 'æœ¬æ°æ˜ŽÂ·å·´é¡¿å¥‡äº‹', 'actor': 'ä¸»æ¼”ï¼šå¸ƒæ‹‰å¾·Â·çš®ç‰¹,å‡¯ç‰¹Â·å¸ƒå…°åˆ‡ç‰¹,å¡”æ‹‰å‰Â·PÂ·æ±‰æ£®', 'time': '2008-12-25(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/2526f77c650bf7cf3d5ee2dccdeac332244951.jpg@160w_220h_1e_1c'&#125;&#123;'index': '69', 'name': 'ç”œèœœèœœ', 'actor': 'ä¸»æ¼”ï¼šé»Žæ˜Ž,å¼ æ›¼çŽ‰,æ›¾å¿—ä¼Ÿ', 'time': '2015-02-13', 'score': '9.2', 'post_img': 'https://p1.meituan.net/movie/0b0d45b58946078dd24d4945dd6be3b51329411.jpg@160w_220h_1e_1c'&#125;&#123;'index': '70', 'name': 'å¤§è¯è¥¿æ¸¸ä¹‹å¤§åœ£å¨¶äº²', 'actor': 'ä¸»æ¼”ï¼šå‘¨æ˜Ÿé©°,æœ±èŒµ,èŽ«æ–‡è”š', 'time': '2014-10-24', 'score': '8.8', 'post_img': 'https://p1.meituan.net/moviemachine/508056769092059fe43a611b949f27d14863831.jpg@160w_220h_1e_1c'&#125;&#123;'index': '71', 'name': 'åˆæ‹è¿™ä»¶å°äº‹', 'actor': 'ä¸»æ¼”ï¼šé©¬é‡Œå¥¥Â·æ¯›ç‘žå°”,å¹³é‡‡å¨œÂ·ä¹ç»´ç‘Ÿæ´¾å¸ƒæ©,é˜¿æŸ¥æ‹‰é‚£Â·é˜¿ç‘žäºšå«è€ƒ', 'time': '2012-06-05', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/7ed07b8ea8c0e0d0c7b685d20e3ec64e232004.jpg@160w_220h_1e_1c'&#125;&#123;'index': '72', 'name': 'ç†”ç‚‰', 'actor': 'ä¸»æ¼”ï¼šå­”åˆ˜,éƒ‘æœ‰ç¾Ž,é‡‘æ™ºè‹±', 'time': '2011-09-22(éŸ©å›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/2a0783b4fd95566568f24adfad2181bb5392280.jpg@160w_220h_1e_1c'&#125;&#123;'index': '73', 'name': 'æ–°é¾™é—¨å®¢æ ˆ', 'actor': 'ä¸»æ¼”ï¼šå¼ æ›¼çŽ‰,æ¢å®¶è¾‰,ç”„å­ä¸¹', 'time': '2012-02-24', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/7833126c8c21a11571bb52fbdece0acb811449.jpg@160w_220h_1e_1c'&#125;&#123;'index': '74', 'name': 'ç´ åª›', 'actor': 'ä¸»æ¼”ï¼šæŽæ¥,è–›è€¿æ±‚,ä¸¥å¿—åª›', 'time': '2013-10-02(éŸ©å›½)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/19653e8af59cf473cd40f9ccc0658d93692304.jpg@160w_220h_1e_1c'&#125;&#123;'index': '75', 'name': 'å°éž‹å­', 'actor': 'ä¸»æ¼”ï¼šé»˜ç½•é»˜å¾·Â·é˜¿ç±³å°”Â·çº³å‰,Kamal Mirkarimi,Behzad Rafi', 'time': '1999-01-22(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/135c612860fae899df2220149664d97a173555.jpg@160w_220h_1e_1c'&#125;&#123;'index': '76', 'name': 'è¤ç«ä¹‹æ£®', 'actor': 'ä¸»æ¼”ï¼šå†…å±±æ˜‚è¾‰,ä½ä»“ç»«éŸ³,åŽè—¤å¼˜æ ‘', 'time': '2011-09-17(æ—¥æœ¬)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/5420be40e3b755ffe04779b9b199e935256906.jpg@160w_220h_1e_1c'&#125;&#123;'index': '77', 'name': 'æ•™çˆ¶', 'actor': 'ä¸»æ¼”ï¼šé©¬é¾™Â·ç™½å…°åº¦,é˜¿å°”Â·å¸•è¥¿è¯º,è©¹å§†æ–¯Â·è‚¯æ©', 'time': '2015-04-18', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/1199dc6273680f175fd9b06c9c36d08a219658.jpg@160w_220h_1e_1c'&#125;&#123;'index': '78', 'name': 'ç©¿æ¡çº¹ç¡è¡£çš„ç”·å­©', 'actor': 'ä¸»æ¼”ï¼šé˜¿æ²™Â·å·´ç‰¹è²å°”å¾·,ç»´æ‹‰Â·æ³•æ¢…åŠ ,å¤§å«Â·ä¼‘é‡Œæ–¯', 'time': '2008-09-12(è‹±å›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/d5970e36c8868a4b746c80f3b3f8a404174615.jpg@160w_220h_1e_1c'&#125;&#123;'index': '79', 'name': 'æ—¶ç©ºæ‹æ—…äºº', 'actor': 'ä¸»æ¼”ï¼šç‘žç§‹Â·éº¦å…‹äºšå½“æ–¯,å¤šå§†çº³å°”Â·æ ¼é‡Œæ£®,æ¯”å°”Â·å¥ˆä¼Š', 'time': '2013-09-04(è‹±å›½)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/4abc8c932cfacfc0089e2883765d02d1295222.jpg@160w_220h_1e_1c'&#125;&#123;'index': '80', 'name': 'çªƒå¬é£Žæš´', 'actor': 'ä¸»æ¼”ï¼šä¹Œå°”é‡Œå¸ŒÂ·ç©†åŸƒ,å¡žå·´æ–¯è’‚å®‰Â·ç§‘èµ«,é©¬è’‚å¨œÂ·æ ¼å¾·å…‹', 'time': '2006-03-23(å¾·å›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/3985eaf3858bea0f2a3d966bf7ee2103178217.jpg@160w_220h_1e_1c'&#125;&#123;'index': '81', 'name': '7å·æˆ¿çš„ç¤¼ç‰©', 'actor': 'ä¸»æ¼”ï¼šæŸ³æ‰¿é¾™,éƒ‘é•‡è£,æœ´ä¿¡æƒ ', 'time': '2013-01-23(éŸ©å›½)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/6a6e74b2c289f9fa4433dd2dc04a7741331638.jpg@160w_220h_1e_1c'&#125;&#123;'index': '82', 'name': 'ææ€–ç›´æ’­', 'actor': 'ä¸»æ¼”ï¼šæ²³æ­£å®‡,æŽç’Ÿè£,æŽå¤§ä¸º', 'time': '2013-07-31(éŸ©å›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/b5ff0216e689b3fcc065590c48cd5105255305.jpg@160w_220h_1e_1c'&#125;&#123;'index': '83', 'name': 'æµ·è±šæ¹¾', 'actor': 'ä¸»æ¼”ï¼šé‡Œå…‹Â·å¥¥å·´ç‘ž,è·¯æ˜“Â·è¥¿éœå°¤æ–¯,å“ˆè¿ªÂ·ç¼æ–¯', 'time': '2009-07-31(ç¾Žå›½)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/7373dbba07b50ce6f24336edb96b2ea4271536.jpg@160w_220h_1e_1c'&#125;&#123;'index': '84', 'name': 'å¿ çŠ¬å…«å…¬ç‰©è¯­', 'actor': 'ä¸»æ¼”ï¼šä»²ä»£è¾¾çŸ¢,æ˜¥å·çœŸæ¾„,äº•å·æ¯”ä½å¿—', 'time': '1987-08-01(æ—¥æœ¬)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/c835b3588d0061ed3b992388a0a96f15160913.jpg@160w_220h_1e_1c'&#125;&#123;'index': '85', 'name': 'ä¸Šå¸ä¹‹åŸŽ', 'actor': 'ä¸»æ¼”ï¼šäºšåŽ†æ¡‘å¾·é›·Â·ç½—å¾·é‡Œæ ¼æ–¯,è‰¾èŽ‰ä¸Â·å¸ƒæ‹‰åŠ ,èŽ±å®‰å¾·é²Â·è²å°”ç±³è¯º', 'time': '2002-08-30(å·´è¥¿)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/b553d13f30100db731ab6cf45668e52d94703.jpg@160w_220h_1e_1c'&#125;&#123;'index': '86', 'name': 'è¾©æŠ¤äºº', 'actor': 'ä¸»æ¼”ï¼šå®‹åº·æ˜Š,éƒ­åº¦æ²…,å´è¾¾æ´™', 'time': '2013-12-18(éŸ©å›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/8fabf3894b7d12d3d2f6e66404813670265761.jpg@160w_220h_1e_1c'&#125;&#123;'index': '87', 'name': 'ç¾Žå›½å¾€äº‹', 'actor': 'ä¸»æ¼”ï¼šç½—ä¼¯ç‰¹Â·å¾·å°¼ç½—,è©¹å§†æ–¯Â·ä¼å…¹,ä¼Šä¸½èŽŽç™½Â·éº¦æˆˆæ–‡', 'time': '2015-04-23', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/92198a6fc8c3f5d13aa1bdf203572c0f99438.jpg@160w_220h_1e_1c'&#125;&#123;'index': '88', 'name': 'å®Œç¾Žçš„ä¸–ç•Œ', 'actor': 'ä¸»æ¼”ï¼šå‡¯æ–‡Â·ç§‘æ–¯ç‰¹çº³,å…‹æž—ç‰¹Â·ä¼Šæ–¯ç‰¹ä¼å¾·,TÂ·JÂ·åŠ³ç‘Ÿ', 'time': '1993-11-24(ç¾Žå›½)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/30310858fdab34c7a17cfd7ec8ad8bfc112201.jpg@160w_220h_1e_1c'&#125;&#123;'index': '89', 'name': 'ä¸ƒæ­¦å£«', 'actor': 'ä¸»æ¼”ï¼šä¸‰èˆ¹æ•éƒŽ,å¿—æ‘ä¹”,åƒç§‹å®ž', 'time': '1954-04-26(æ—¥æœ¬)', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/4ffca83fd972f71e291f8ea8d78a4b58594878.jpg@160w_220h_1e_1c'&#125;&#123;'index': '90', 'name': 'ä¸€ä¸€', 'actor': 'ä¸»æ¼”ï¼šå´å¿µçœŸ,é‡‘ç‡•çŽ²,æŽå‡¯èŽ‰', 'time': '2000-09-20(æ³•å›½)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/2c0a5fedf4b43d142121b91c6ccabe1b59051.jpg@160w_220h_1e_1c'&#125;&#123;'index': '91', 'name': 'è‹±é›„æœ¬è‰²', 'actor': 'ä¸»æ¼”ï¼šç‹„é¾™,å¼ å›½è£,å‘¨æ¶¦å‘', 'time': '2017-11-17', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/3e5f5f3aa4b7e5576521e26c2c7c894d253975.jpg@160w_220h_1e_1c'&#125;&#123;'index': '92', 'name': 'é˜¿é£žæ­£ä¼ ', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,å¼ æ›¼çŽ‰,åˆ˜å¾·åŽ', 'time': '2018-06-25', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/885fc379c614a2b4175587b95ac98eb95045650.jpg@160w_220h_1e_1c'&#125;&#123;'index': '93', 'name': 'çˆ±Â·å›žå®¶', 'actor': 'ä¸»æ¼”ï¼šä¿žæ‰¿è±ª,é‡‘è‰ºèŠ¬,ç«¥å­ç†™', 'time': '2002-04-05(éŸ©å›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/36a893c53a13f9bb934071b86ae3b5c492427.jpg@160w_220h_1e_1c'&#125;&#123;'index': '94', 'name': 'æµ·æ´‹', 'actor': 'ä¸»æ¼”ï¼šé›…å…‹Â·è´æ±‰,å§œæ–‡,å…°æ–¯æ´›ç‰¹Â·ä½©æž—', 'time': '2011-08-12', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/0018b57299d0d4540330a31244c880a9112971.jpg@160w_220h_1e_1c'&#125;&#123;'index': '95', 'name': 'æˆ‘çˆ±ä½ ', 'actor': 'ä¸»æ¼”ï¼šå®‹åœ¨æµ©,æŽé¡ºæ‰,å°¹ç§€æ™¶', 'time': '2011-02-17(éŸ©å›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/ed50b58bf636d207c56989872a91f4cf305138.jpg@160w_220h_1e_1c'&#125;&#123;'index': '96', 'name': 'é»„é‡‘ä¸‰é•–å®¢', 'actor': 'ä¸»æ¼”ï¼šå…‹æž—ç‰¹Â·ä¼Šæ–¯ç‰¹ä¼å¾·,æŽÂ·èŒƒÂ·å…‹é‡Œå¤«,åŸƒé‡ŒÂ·ç“¦æ‹‰èµ«', 'time': '1966-12-23(æ„å¤§åˆ©)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/cd18ed2c5cda9e71e17e5e6ef61ced172912303.jpg@160w_220h_1e_1c'&#125;&#123;'index': '97', 'name': 'è¿å¾™çš„é¸Ÿ', 'actor': 'ä¸»æ¼”ï¼šé›…å…‹Â·è´æ±‰,Philippe Labro', 'time': '2001-12-12(æ³•å›½)', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/a1634f4e49c8517ae0a3e4adcac6b0dc43994.jpg@160w_220h_1e_1c'&#125;&#123;'index': '98', 'name': 'åƒä¸Žåƒå¯»', 'actor': 'ä¸»æ¼”ï¼šæŸŠç‘ ç¾Ž,å‘¨å†¬é›¨,å…¥é‡Žè‡ªç”±', 'time': '2019-06-21', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/30b20139e68c46d02e0893277d633b701292458.jpg@160w_220h_1e_1c'&#125;&#123;'index': '99', 'name': 'å¤©å ‚ç”µå½±é™¢', 'actor': 'ä¸»æ¼”ï¼šè²åˆ©æµ¦Â·è¯ºç“¦é›·,èµ›å°”ä¹”Â·å¡æ–¯ç‰¹åˆ©æ‰˜,è’‚å…¹äºšå¨œÂ·ç½—è¾¾æ‰˜', 'time': '2019-06-15', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/76fc92cfa6c8f2959431b8aa604ef7ae126414.jpg@160w_220h_1e_1c'&#125;&#123;'index': '100', 'name': 'é¾™çŒ«', 'actor': 'ä¸»æ¼”ï¼šç§¦å²š,ç³¸äº•é‡é‡Œ,å²›æœ¬é¡»ç¾Ž', 'time': '2018-12-14', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/c304c687e287c7c2f9e22cf78257872d277201.jpg@160w_220h_1e_1c'&#125; æ€»ç»“å…¶å®žè¿˜å¯ä»¥åˆ©ç”¨å…¶ä»–è§£æžåº“è¿›è¡Œè§£æžï¼Œæ¯”å¦‚Beautiful Soup 4å’ŒPyQueryåº“,è¿™ä¸¤ä¸ªåº“ç›¸æ¯”æ­£åˆ™å’ŒXpathè§£æžè½»å·§ç®€å•ï¼Œä½†æ˜¯ç›¸æ¯”ä¹‹ä¸‹æ€§èƒ½ä¼šæœ‰æ‰€ç‰ºç‰²ã€‚ Beautiful Soup 4 è§£æžåº“å¯¹XMlæ–‡æ¡£çš„å®½å®¹åº¦ä¸å¥½ï¼Œåœ¨å½“ä¸‹çš„äº’è”ç½‘çŽ¯å¢ƒä¸‹ï¼Œç½‘ç«™ç»“æž„å¼€å‘ã€å‡çº§å’Œç»´æŠ¤å˜çš„å¾ˆå¤æ‚ï¼Œå¯¹äºŽä¸€äº›ä¸è§„èŒƒçš„ç½‘ç«™è€Œè¨€ï¼Œè§£æžä¼šæœ‰é—®é¢˜ï¼Œè€Œlxmlè§£å†³äº†è¯¥é—®é¢˜ã€‚å¦å¤–ï¼Œ Beautiful Soup 4 è§£æžæ—¶å€™ä¼šå°†æ‰€æœ‰çš„XMlèŠ‚ç‚¹åŠ è½½åˆ°å†…å­˜ä¸­å½¢æˆDOMæ ‘ï¼Œæ€§èƒ½ç›¸æ¯”æ­£åˆ™ä¸‹é™äº†å¾ˆå¤šã€‚ PyQueryè§£æžåº“ï¼Œå…¶å®žè¯­æ³•ç»“æž„å…¶å®žå°±æ˜¯ç”±JavaScriptçš„JQueryåº“æ¼”å˜è€Œæ¥çš„ï¼Œè¯¥åº“CSSé€‰æ‹©å™¨æ”¯æŒæ€§ç‰¹åˆ«å¥½ï¼Œç†Ÿç»ƒä½¿ç”¨JQueryçš„æœ‹å‹ä¹Ÿå¿…å®šä¼šä½¿ç”¨è¯¥ä¼šã€‚ å› ä¸ºæˆ‘æœ¬äººä¸å–œæ¬¢ç”¨è¿™ä¸ªBeautiful Soup 4 åº“ï¼Œæ‰€ä»¥ä¸æ‰“ç®—æ·±å…¥ç ”ç©¶ï¼Œå¦å¤–,PyQueryå’ŒJQueryæ“ä½œç±»ä¼¼ï¼Œæˆ‘åœ¨æœ¬æ–‡ä¹Ÿä¸åšç´¯è¿°ã€‚è‹¥æœ‰è¯»è€…å¯¹è¯¥åº“æ„Ÿå…´è¶£å¯è‡ªè¡Œç ”ç©¶ã€‚\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Python\",\"slug\":\"Python\",\"permalink\":\"http://ltyeamin.github.io/tags/Python/\"}]},{\"title\":\"Nginxè®¾ç½®é»‘ç™½åå•\",\"slug\":\"Nginxè®¾ç½®é»‘ç™½åå•\",\"date\":\"2019-09-02T10:15:00.000Z\",\"updated\":\"2019-11-20T15:08:56.125Z\",\"comments\":true,\"path\":\"2019/09/02/Nginxè®¾ç½®é»‘ç™½åå•/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/09/02/Nginxè®¾ç½®é»‘ç™½åå•/\",\"excerpt\":\"\",\"text\":\"åœ¨æ—¥å¸¸è¿ç»´å·¥ä½œä¸­ï¼Œä¼šç¢°åˆ°è¿™æ ·çš„éœ€æ±‚ï¼Œå¯¹äºŽä¸€äº›httpè¯·æ±‚åªå¯¹æŸäº›ipå¼€å‘ï¼Œå…¶ä»–çš„ipçš„å®¢æˆ·ç«¯éƒ½ä¸èƒ½è®¿é—®ã€‚ åœ¨æµ‹è¯•ä¹‹å‰æˆ‘åˆ—ä¸€ä¸‹æœ¬æ¬¡æµ‹è¯•çš„ç»ˆç«¯IPã€‚ å®¿ä¸»æœºDeepin Linux ï¼š 192.168.1.106 è™šæ‹ŸæœºWindows 10 : 192.168.1.107 ç§»åŠ¨Androidç»ˆç«¯æœº MIUI10: 192.168.1.100 Nginxæ˜¯åœ¨Deepinéƒ¨ç½²çš„ï¼ŒçŽ°åœ¨æˆ‘ä»¬å¯åŠ¨Nginx 12cd /usr/local/nginx/sbin./nginx 1å¯åŠ¨åŽï¼Œåœ¨å®¿ä¸»æœºéšä¾¿è®¿é—®ä¸€ä¸ªè¯·æ±‚(è¿™é‡Œæ˜¯æˆ‘ä¹‹å‰æ–‡ç« é…ç½®çš„é™æ€å›¾ç‰‡èµ„æºçš„è½¬å‘)ï¼Œæ¯”å¦‚http://127.0.0.1æˆ–http://192.168.1.106 æ­¤å¤–ï¼Œæˆ‘ä»¬ç”¨Androidæ‰‹æœºå’ŒWindows 10è™šæ‹ŸæœºåŒæ ·è®¿é—®http://192.168.1.106ä¹Ÿèƒ½è®¿é—®åˆ°ï¼Œæ‰‹æœºå’Œå®¿ä¸»æœºæ˜¯åŒä¸€ä¸ªè·¯ç”±å™¨ï¼Œè€Œè™šæ‹Ÿæœºç½‘ç»œæ˜¯æ¡¥æŽ¥æ¨¡å¼ã€‚æ‰€ä»¥æ˜¯åœ¨åŒä¸€å±€åŸŸç½‘éƒ½èƒ½å¤Ÿäº’é€šã€‚ æˆ‘ä»¬è®©æ‰‹æœºæ— æ³•è®¿é—®ï¼Œè®©è™šæ‹Ÿæœºå¯ä»¥é€šè¿‡ã€‚ åˆ©ç”¨allowã€denyå‚æ•°è¿›è¡Œè®¿é—®é™åˆ¶ æ›´æ”¹nginx.confã€‚ 12345678location / &#123; deny 192.168.1.100; #ç¦æ­¢IPä¸º192.168.1.100è®¿é—® allow all; # é™¤è¿‡ä¸Šè¿°é»‘åå•çš„é™åˆ¶å¤–ï¼Œå…è®¸å…¶ä»–IPè®¿é—® autoindex on; #å¼€å¯ç´¢å¼•åŠŸèƒ½ autoindex_exact_size off; # å…³é—­è®¡ç®—æ–‡ä»¶ç¡®åˆ‡å¤§å°ï¼ˆå•ä½bytesï¼‰ï¼Œåªæ˜¾ç¤ºå¤§æ¦‚å¤§å°ï¼ˆå•ä½kbã€mbã€gbï¼‰ autoindex_localtime on; # æ˜¾ç¤ºæœ¬æœºæ—¶é—´è€Œéž GMT æ—¶é—´ &#125; é‡æ–°åŠ è½½é…ç½®ã€‚ 1sudo ./nginx -s reload é»‘åå•é™åˆ¶æ•ˆæžœã€‚\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"Nginx\",\"slug\":\"Nginx\",\"permalink\":\"http://ltyeamin.github.io/tags/Nginx/\"}]},{\"title\":\"Deepin Linuxå®‰è£…Docker\",\"slug\":\"Deepin Linuxå®‰è£…Docker\",\"date\":\"2019-09-01T04:45:00.000Z\",\"updated\":\"2019-09-13T02:55:05.743Z\",\"comments\":true,\"path\":\"2019/09/01/Deepin Linuxå®‰è£…Docker/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/09/01/Deepin Linuxå®‰è£…Docker/\",\"excerpt\":\"\",\"text\":\"æ™®é€šå®‰è£…ä¸€èˆ¬çš„Linux(Debianã€Unbantu)å‘è¡Œç‰ˆå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š 1wget -qO- https://get.docker.com/ | sh ä½†æ˜¯åœ¨Deepinæ‰§è¡Œè¿™å‘½ä»¤ä¼šå®‰è£…å¤±è´¥ã€‚ æŸ¥é˜…èµ„æ–™å¯ä»¥æ‰¾åˆ°dockeræ”¯æŒçš„Linuxå‘è¡Œç‰ˆã€‚ 123456789101112131415161718192021222324252627282930313233343536x86_64-centos-7x86_64-fedora-28x86_64-fedora-29x86_64-debian-jessiex86_64-debian-stretchx86_64-debian-busterx86_64-ubuntu-trustyx86_64-ubuntu-xenialx86_64-ubuntu-bionicx86_64-ubuntu-cosmics390x-ubuntu-xenials390x-ubuntu-bionics390x-ubuntu-cosmicppc64le-ubuntu-xenialppc64le-ubuntu-bionicppc64le-ubuntu-cosmicaarch64-ubuntu-xenialaarch64-ubuntu-bionicaarch64-ubuntu-cosmicaarch64-debian-jessieaarch64-debian-stretchaarch64-debian-busteraarch64-fedora-28aarch64-fedora-29aarch64-centos-7armv6l-raspbian-jessiearmv7l-raspbian-jessiearmv6l-raspbian-stretcharmv7l-raspbian-stretcharmv7l-debian-jessiearmv7l-debian-stretcharmv7l-debian-busterarmv7l-ubuntu-trustyarmv7l-ubuntu-xenialarmv7l-ubuntu-bionicarmv7l-ubuntu-cosmic æŸ¥çœ‹äº†æˆ‘çš„ç³»ç»Ÿçš„ç‰ˆæœ¬ï¼š 123456litong@LT:~$ cat /etc/issueDeepin GNU/Linux 15.10.2 \\\\n \\\\llitong@LT:~$ cat /etc/debian_version 9.0litong@LT:~$ uname -r4.15.0-29deepin-generic è¿™é‡Œæˆ‘çš„ç³»ç»Ÿæ˜¯Deepin 15.10.2ï¼Œè€Œæˆ‘çš„Deepin Linuxæ˜¯åŸºäºŽDebian 9.0ï¼Œå³ä¸Šè¿°çš„ç‰ˆæœ¬x86_64-debian-stretchè¿›è¡Œçš„æ·±åº¦å¼€å‘ï¼Œæˆ‘ç³»ç»ŸDebian 9.0æ˜¯sidç‰ˆçš„ï¼Œå¹¶ä¸æ˜¯releaseç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¸æ˜¯dockerå®˜æ–¹è®¤è¯çš„stableç‰ˆæœ¬ï¼Œæ•…ä¸æ”¯æŒDeepin Linuxã€‚ Deepinä¸Šå®‰è£…Docker è‹¥ä»¥å‰å®‰è£…è¿‡æ—§ç‰ˆæœ¬åˆ™å…ˆå¸è½½æ—§ç‰ˆæœ¬ï¼Œå¦‚æ²¡æœ‰å®‰è£…è¿‡ï¼Œåˆ™è·³è¿‡ï¼› 1sudo apt-get remove docker.io docker-engine å®‰è£…docker-ceä¸Žå¯†é’¥ç®¡ç†ä¸Žä¸‹è½½ç›¸å…³ä¾èµ–å·¥å…·ï¼› 1sudo apt-get install apt-transport-https ca-certificates curl python-software-properties software-properties-common ä¸‹è½½å¹¶å®‰è£…å¯†åŒ™å¹¶éªŒè¯ç§˜é’¥ï¼Œè‹¥æˆåŠŸåˆ™è¿”å›žOKï¼› 1curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add - å¦‚æžœä¸æˆåŠŸï¼ˆdockerå®˜æ–¹åœ¨å¢™å¤–ï¼Œéœ€ç§‘å­¦ä¸Šç½‘ï¼‰ï¼Œåˆ™ä½¿ç”¨å›½å†…é•œåƒæºå°†ä¸Šè¿°å‘½ä»¤æ¢æˆ 1curl -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/debian/gpg | sudo apt-key add - éªŒè¯ç§˜é’¥æ˜¯å¦å®‰è£…æˆåŠŸï¼› 123456litong@LT:~$ sudo apt-key fingerprint 0EBFCD88[sudo] litong çš„å¯†ç ï¼špub rsa4096 2017-02-22 [SCEA] 9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88uid [ æœªçŸ¥ ] Docker Release (CE deb) &lt;docker@docker.com&gt;sub rsa4096 2017-02-22 [S] å®‰è£…docker-ceç»„ä»¶ï¼› 1sudo apt-get install docker-ce æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸï¼› 123456789101112131415161718192021222324252627litong@LT:~$ docker versionClient: Docker Engine - Community Version: 19.03.2 API version: 1.40 Go version: go1.12.8 Git commit: 6a30dfca03 Built: Thu Aug 29 05:29:49 2019 OS/Arch: linux/amd64 Experimental: falseServer: Docker Engine - Community Engine: Version: 19.03.2 API version: 1.40 (minimum version 1.12) Go version: go1.12.8 Git commit: 6a30dfca03 Built: Thu Aug 29 05:28:23 2019 OS/Arch: linux/amd64 Experimental: false containerd: Version: 1.2.6 GitCommit: 894b81a4b802e4eb2a91d1ce216b8817763c29fb runc: Version: 1.0.0-rc8 GitCommit: 425e105d5a03fabd737a126ad93d62a9eeede87f docker-init: Version: 0.18.0 GitCommit: fec3683 æ™®é€šç”¨æˆ·è¿è¡Œdocker å®‰è£…dockerå®ŒæˆåŽï¼Œæ™®é€šç”¨æˆ·æ‰§è¡Œdockerå‘½ä»¤æ—¶å€™ï¼Œæœ‰å¯èƒ½ä¼šå‡ºçŽ°é”™è¯¯æç¤ºï¼š 1Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.26/images/json: dial unix /var/run/docker.sock: connect: permission denied é€šè¿‡æŸ¥é˜…èµ„æ–™ï¼Œåœ¨docker mannualæ‰¾åˆ°è§£å†³æ€è·¯ï¼š Manage Docker as a non-root userThe docker daemon binds to a Unix socket instead of a TCP port. By default that Unix socket is owned by the user root and other users can only access it using sudo. The docker daemon always runs as the root user.If you donâ€™t want to use sudo when you use the docker command, create a Unix group called docker and add users to it. When the docker daemon starts, it makes the ownership of the Unix socket read/writable by the docker group. å¤§æ¦‚ç¿»è¯‘äº†ä¸€ä¸‹ï¼Œæ„æ€æ˜¯ï¼šDockerè¿›ç¨‹ä½¿ç”¨Unix Socketè€Œä¸æ˜¯TCPç«¯å£ã€‚è€Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒUnix socketå±žäºŽrootç”¨æˆ·ï¼Œéœ€è¦rootæƒé™æ‰èƒ½è®¿é—®ã€‚ è§£å†³æ–¹æ¡ˆï¼š dockerå®ˆæŠ¤è¿›ç¨‹å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šé»˜è®¤èµ‹äºˆåå­—ä¸ºdockerçš„ç”¨æˆ·ç»„è¯»å†™Unix socketçš„æƒé™ï¼Œå› æ­¤åªè¦åˆ›å»ºdockerç”¨æˆ·ç»„ï¼Œå¹¶å°†å½“å‰ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ä¸­ï¼Œé‚£ä¹ˆå½“å‰ç”¨æˆ·å°±æœ‰æƒé™è®¿é—®Unix socketäº†ï¼Œè¿›è€Œä¹Ÿå°±å¯ä»¥æ‰§è¡Œdockerç›¸å…³å‘½ä»¤ã€‚ æ·»åŠ dockerç”¨æˆ·ç»„ï¼Œè‹¥å·²ç”±dockerç»„åˆ™è·³è¿‡ï¼› 1sudo groupadd docker å°†ç™»é™†ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ä¸­ï¼› 1sudo gpasswd -a $USER docker æ›´æ–°ç”¨æˆ·ç»„ï¼› 1newgrp docker æµ‹è¯•dockerå‘½ä»¤æ˜¯å¦å¯ä»¥ä½¿ç”¨sudoæ­£å¸¸ä½¿ç”¨ã€‚ 1docker ps ä½¿ç”¨é˜¿é‡Œäº‘dockeré•œåƒåŠ é€Ÿ è¿›å…¥é˜¿é‡Œäº‘æŽ§åˆ¶å°ï¼Œé€‰æ‹©å®¹å™¨é•œåƒæœåŠ¡ï¼Œå·¦è¾¹èœå•æœ€ä¸‹æ–¹çš„é•œåƒä¸­å¿ƒ-é•œåƒåŠ é€Ÿå™¨ï¼› æ ¹æ®é˜¿é‡Œäº‘æ“ä½œæ–‡æ¡£é€‰æ‹©ä¸åŒç³»ç»Ÿçš„é•œåƒåŠ é€Ÿå‘½ä»¤ï¼› 12345678sudo mkdir -p /etc/dockersudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'&#123; \\\"registry-mirrors\\\": [\\\"æ›¿æ¢ä½ çš„åŠ é€Ÿå™¨åœ°å€\\\"]&#125;EOFsudo systemctl daemon-reloadsudo systemctl restart docker\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"Docker\",\"slug\":\"Docker\",\"permalink\":\"http://ltyeamin.github.io/tags/Docker/\"}]},{\"title\":\"ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³\",\"slug\":\"ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³\",\"date\":\"2019-08-11T14:22:13.000Z\",\"updated\":\"2019-11-20T15:09:00.757Z\",\"comments\":true,\"path\":\"2019/08/11/ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/08/11/ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³/\",\"excerpt\":\"\",\"text\":\"ä»Šå¤©åœ¨å®¶ä¸‹è½½ä¸€ä¸ªåˆ«äººç»™æˆ‘çš„ç™¾åº¦ç½‘ç›˜èµ„æ–™ï¼Œèµ„æ–™å¤§å°å·®ä¸å¤š2ä¸ªG,ä½†æ˜¯æ‰“å¼€æµè§ˆå™¨å‘çŽ°æœ‰ä¸€ä»¶æ˜¯éžå¸¸çƒ¦èºçš„äº‹æƒ…:å°æ–‡ä»¶å¯ä»¥ç›´æŽ¥åœ¨æµè§ˆå™¨ç«¯è¿›è¡Œä¸‹è½½,ä½†æ˜¯å¤§æ–‡ä»¶å¿…é¡»ä¸‹è½½ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯è¿›è¡Œä¸‹è½½. æ²¡åŠžæ³•,æˆ‘åªå¥½åŽ»åº”ç”¨å•†åº—åŽ»ä¸‹è½½ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯,åœ¨æ·±åº¦åº”ç”¨å•†åº—è¿˜å¥½æ‰¾åˆ°äº†ç™¾åº¦ç½‘ç›˜çš„å®¢æˆ·ç«¯(å›½äº§Deepinç³»ç»Ÿç¬¬ä¸‰æ–¹è½¯ä»¶æºè¿˜æ˜¯æ¯”è¾ƒç»™åŠ›)ã€‚ç´§æŽ¥ç€æˆ‘å°±åœ¨å®¢æˆ·ç«¯ç«¯ç™»å½•ä¸‹è½½,å¦‚ä¸‹å›¾: ç”¨äº†å®¢æˆ·ç«¯ä¹‹åŽå‘çŽ°,ä¸‹è½½é€Ÿåº¦ç‰¹åˆ«æ…¢,äºŽæ˜¯åœ¨ç½‘ä¸Šæ‰¾åˆ°ä¸€äº›è§£å†³æ–¹æ¡ˆ:æµè§ˆå™¨æ’ä»¶+ç¬¬ä¸‰æ–¹ç½‘ç»œä¸‹è½½å·¥å…·(Motrix/Aria2)è¿›è¡Œä¸‹è½½.æˆ‘è¿™é‡Œé‡‡ç”¨Motrixæ–¹å¼,Aria2çš„æ–¹å¼è¯»è€…å¯è‡ªè¡Œç ”ç©¶å®‰è£…ä¸Žä½¿ç”¨ã€‚ å®‰è£…ä¸Žè®¾ç½® å®‰è£…æµè§ˆå™¨æ’ä»¶ Motrix:åœ¨Chromeæµè§ˆå™¨åº”ç”¨å•†åº—æœç´¢ç™¾åº¦ç½‘ç›˜åŠ©æ‰‹å¹¶ä¸‹è½½å®‰è£…ã€‚ Aria2: åœ¨Chromeæµè§ˆå™¨åº”ç”¨å•†åº—æœç´¢YAAW for Chromeå¹¶ä¸‹è½½å®‰è£…ã€‚ ç½‘ç»œä¸‹è½½å·¥å…·å®‰è£… Motrix: ä¸‹è½½åœ°å€ Aria2:ä¸‹è½½åœ°å€ ä½¿ç”¨ä½“éªŒ æ€»ç»“ç”±ä¸Šå¯çŸ¥,ç™¾åº¦äº‘ç½‘ç›˜ç¡®å®žåšäº†ç½‘é€Ÿé™åˆ¶ã€‚è™½ç„¶é€šè¿‡ç¬¬ä¸‰æ–¹ä¸‹è½½å·¥å…·æå‡äº†ä¸€äº›ä¸‹è½½é€Ÿåº¦,ä½†æ˜¯ä¸‹è½½è¿˜æ˜¯æœ‰ç‚¹æ…¢ï¼Œè¿™ä¸ªå…¶å®žå¯ä»¥ç†è§£çš„ï¼Œå› ä¸ºå½“ä¸‹çš„ç½‘ç»œæ˜¯é•¿åŸŽå®½å¸¦ï¼Œæ…¢ä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"slug\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"permalink\":\"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/\"}]},{\"title\":\"é­”éƒ½ä¸Šæµ·\",\"slug\":\"é­”éƒ½ä¸Šæµ·\",\"date\":\"2019-06-09T04:57:10.000Z\",\"updated\":\"2019-11-20T15:09:02.024Z\",\"comments\":true,\"path\":\"2019/06/09/é­”éƒ½ä¸Šæµ·/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/06/09/é­”éƒ½ä¸Šæµ·/\",\"excerpt\":\"\",\"text\":\"ä¸Šæµ·å®£ä¼ ç‰‡ const dp0 = new DPlayer({ container: document.getElementById('dplayer0'), screenshot: true, video: { url: 'http://q3j85ddid.bkt.clouddn.com/videos/lvyou/shanghai2.mp4' }, subtitle: { url: 'webvtt.vtt' }, danmaku: { id: 'demo', api: 'https://api.prprpr.me/dplayer/' } }); const dp1 = new DPlayer({ container: document.getElementById('dplayer1'), screenshot: true, video: { url: 'http://q3j85ddid.bkt.clouddn.com/videos/lvyou/shanghai1.mp4' }, subtitle: { url: 'webvtt.vtt' }, danmaku: { id: 'demo', api: 'https://api.prprpr.me/dplayer/' } });\",\"categories\":[{\"name\":\"others\",\"slug\":\"others\",\"permalink\":\"http://ltyeamin.github.io/categories/others/\"}],\"tags\":[{\"name\":\"è‡ªåª’ä½“\",\"slug\":\"è‡ªåª’ä½“\",\"permalink\":\"http://ltyeamin.github.io/tags/è‡ªåª’ä½“/\"}]},{\"title\":\"SambaæœåŠ¡å™¨æ­å»º\",\"slug\":\"SambaæœåŠ¡å™¨æ­å»º\",\"date\":\"2019-06-08T07:17:23.000Z\",\"updated\":\"2019-11-20T15:08:55.207Z\",\"comments\":true,\"path\":\"2019/06/08/SambaæœåŠ¡å™¨æ­å»º/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/06/08/SambaæœåŠ¡å™¨æ­å»º/\",\"excerpt\":\"\",\"text\":\"\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"Samba\",\"slug\":\"Samba\",\"permalink\":\"http://ltyeamin.github.io/tags/Samba/\"}]},{\"title\":\"è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜\",\"slug\":\"è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜\",\"date\":\"2019-06-04T14:22:13.000Z\",\"updated\":\"2019-11-20T15:08:56.465Z\",\"comments\":true,\"path\":\"2019/06/04/è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/06/04/è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜/\",\"excerpt\":\"\",\"text\":\"é—®é¢˜æè¿°ä»Šå¤©æ‰“å¼€IDEAåŠ è½½é¡¹ç›®æ—¶ï¼Œå‘çŽ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„é—®é¢˜ï¼šé¡¹ç›®ä¾èµ–åŠä»£ç æ²¡ä»»ä½•é—®é¢˜ï¼ŒMavenä¾èµ–æ£€æµ‹çº¢è‰²æ³¢æµªçº¿ä¾æ—§å­˜åœ¨ã€‚è™½è¯´é¡¹ç›®ä¾æ—§èƒ½è·‘èµ·æ¥ä¸å½±å“å¼€å‘ï¼Œä½†æ˜¯mavenå‘½ä»¤æ“ä½œç”¨ä¸äº†ã€‚ é‡åˆ°é—®é¢˜åŽï¼Œæˆ‘å¤§åƒä¸€æƒŠã€‚æ˜¨å¤©çœ‹é¡¹ç›®è¿˜å¥½å¥½çš„ï¼Œä»Šå¤©å°±æŠ¥å‡ºæŸä¸ªé¡¹ç›®ä¸€ä¸ªä¾èµ–åŒ…æ‰¾ä¸åˆ°ã€‚å¯å®žé™…ä¸Šã€‚è¯¥ä¾èµ–åŒ…åœ¨æœ¬åœ°åº“æ˜¯å­˜åœ¨çš„ã€‚äºŽæ˜¯ï¼Œæˆ‘åˆ æŽ‰äº†ä¾èµ–åŒ…ï¼Œé‡æ–°è¿œç¨‹ä»“åº“ä¸‹è½½ã€‚ ç§æœå’Œä¸­å¤®ä»“åº“åˆ‡æ¢å¥½å‡ æ¬¡ï¼Œé‡æ–°ä¸‹è½½çš„ä¾èµ–åŒ…éƒ½æ˜¯å®Œæ•´æ²¡é—®é¢˜çš„ã€‚åŒæ ·Mavençš„Cleanæˆ–Installæ­é…ä½¿ç”¨å¤šæ¬¡ï¼Œè¿™è®©æˆ‘æ›´åŠ éƒé—·ï¼Œå¯»æ‰¾ç€è§£å†³æ–¹æ¡ˆã€‚ é—®é¢˜æŽ’æŸ¥ä¸Žè§£å†³è§£å†³ä¸€åœ¨é¡¹ç›®ä¸­çš„pom.xmlæ–‡ä»¶é‡ŒæŠŠçº¢è‰²æ³¢æµªçº¿çš„ä¾èµ–çº¿æ³¨é‡ŠæŽ‰ï¼Œç„¶åŽé‡æ–°åŠ è½½ä¹‹åŽï¼Œå°±ä¸ä¼šå‡ºçŽ°ã€‚ ç„¶åŽæ’¤é”€æ³¨é‡Šï¼Œç„¶åŽåŠ è½½å°±OKäº†ï¼Œç½‘ä¸Šä¸Šè¯´è¿™æ˜¯IDEAå¼€å‘å·¥å…·çš„BUGï¼Œè¿™è°æ™“å¾—ï¼Œå…ˆè¿™æ ·å¹²å§ã€‚ è§£å†³äºŒè§£å†³ä¸€è™½ç„¶è§£å†³äº†ä¾èµ–æ‰¾ä¸åˆ°çº¢è‰²æ³¢æµªçº¿é—®é¢˜ï¼Œä½†è¿˜æ˜¯é¢„ç•™ä¸€äº›é—®é¢˜ï¼Œé‚£å°±æ˜¯Mavençš„åŸºæœ¬å‘½ä»¤æ“ä½œç”¨ä¸äº†ã€‚æ¯”å¦‚æˆ‘ä½¿ç”¨äº†mvn cleanè¿›è¡Œæ“ä½œï¼ŒæŽ§åˆ¶å°åˆ™æŠ¥å‡ºä¸€æ®µæ—¥å¿—: 12345D:\\\\applications\\\\develop\\\\JDK8\\\\bin\\\\java.exe -Dmaven.multiModuleProjectDirectory=E:\\\\work\\\\code\\\\cashloan-api -Dmaven.home=D:\\\\applications\\\\develop\\\\apache-maven-3.6.1 -Dclassworlds.conf=D:\\\\applications\\\\develop\\\\apache-maven-3.6.1\\\\bin\\\\m2.conf \\\"-javaagent:D:\\\\applications\\\\develop\\\\IntelliJ IDEA 2019.1.3\\\\lib\\\\idea_rt.jar=57134:D:\\\\applications\\\\develop\\\\IntelliJ IDEA 2019.1.3\\\\bin\\\" -Dfile.encoding=UTF-8 -classpath D:\\\\applications\\\\develop\\\\apache-maven-3.6.1\\\\boot\\\\plexus-classworlds-2.6.0.jar org.codehaus.classworlds.Launcher -Didea.version2019.1.3 -s D:\\\\applications\\\\develop\\\\apache-maven-3.6.1\\\\conf\\\\settings.xml -Dmaven.repo.local=D:\\\\applications\\\\develop\\\\apache-maven-3.6.1\\\\repo install[ERROR] Error executing Maven.[ERROR] 2 problems were encountered while building the effective settings[FATAL] Non-parseable settings D:\\\\applications\\\\develop\\\\apache-maven-3.6.1\\\\conf\\\\settings.xml: in epilog non whitespace content is not allowed but got j (position: END_TAG seen ...&lt;/settings&gt;\\\\n\\\\nj... @300:2) @ D:\\\\applications\\\\develop\\\\apache-maven-3.6.1\\\\conf\\\\settings.xml, line 300, column 2[FATAL] Non-parseable settings D:\\\\applications\\\\develop\\\\apache-maven-3.6.1\\\\conf\\\\settings.xml: in epilog non whitespace content is not allowed but got j (position: END_TAG seen ...&lt;/settings&gt;\\\\n\\\\nj... @300:2) @ D:\\\\applications\\\\develop\\\\apache-maven-3.6.1\\\\conf\\\\settings.xml, line 300, column 2 é€šè¿‡æ—¥å¿—æˆ‘è§‰å¾—Mavençš„é…ç½®æ–‡ä»¶settings.xmlæœ‰é—®é¢˜ï¼Œç¬¬300è¡Œç¬¬2åˆ—æœ‰ç–‘æƒ‘ã€‚ æˆ‘æ‰“å¼€settings.xmlsæ–‡ä»¶ï¼Œæ²¡æœ‰300è¡Œï¼ŒæŸ¥çœ‹å¥½åƒå¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯ä»”ç»†é˜…è¯»æ—¥å¿—END_TAG seen â€¦\\\\n\\\\njâ€¦ @300:2ï¼Œè¿™ä¸ªè®©æˆ‘æœ‰æ‰€å¯ç¤ºï¼ŒçŒœæµ‹æ˜¯æ¢è¡Œçš„é—®é¢˜ã€‚ Whatï¼Ÿxmlæ–‡ä»¶å°¾ä¸èƒ½æœ‰å›žè½¦æ¢è¡Œï¼Œæˆ‘ä¸ä¿¡è¿™ä¸ªé‚ªï¼Œæˆ‘å°±åŽ»è¯•è¯•ã€‚ è¯•äº†ä»¥åŽï¼Œæ‰çŸ¥é“çœŸçš„æ˜¯è¿™ä¸ªé—®é¢˜ã€‚è¯¥æ­»ï¼Œæƒ³äº†ä¸€ä¸‹ï¼Œè‡ªå·±ä»Šå¤©æ—©ä¸Šæ”¹åŠ¨è¿‡é…ç½®æ–‡ä»¶ï¼Œå¯èƒ½åœ¨ä¿å­˜ä¹‹å‰æ•²äº†å›žè½¦ï¼ŒçœŸæ˜¯è¯¥æ­»ï¼ï¼ï¼ æ€»ç»“æœ‰å‘ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯å¦‚ä½•åŽ»å¡«å‘ã€‚\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Maven\",\"slug\":\"Maven\",\"permalink\":\"http://ltyeamin.github.io/tags/Maven/\"}]},{\"title\":\"Windowsæœç´¢åˆ©å™¨\",\"slug\":\"Windowsæœç´¢åˆ©å™¨\",\"date\":\"2019-06-03T14:22:13.000Z\",\"updated\":\"2019-11-20T15:09:00.464Z\",\"comments\":true,\"path\":\"2019/06/03/Windowsæœç´¢åˆ©å™¨/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/06/03/Windowsæœç´¢åˆ©å™¨/\",\"excerpt\":\"\",\"text\":\"å‰å‡ å‘¨å¿™äºŽæ¢å·¥ä½œï¼Œåšå®¢æ²¡æœ‰å¤ªå¤šçš„æ›´æ–°ã€‚ä»Šå¤©åˆšå¥½å…¥èŒæ–°å…¬å¸çš„ç¬¬ä¸€å¤©ï¼ŒåŠžå…¬ç”µè„‘æ˜¯å°å¼DELL+Intel i5ä¸ƒä»£(å››æ ¸å››çº¿ç¨‹ï¼Œä¸»é¢‘3.1HZï¼Œç¿é¢‘3.6HZ)+8G DDR4ã€‚ç¬”è€…å‰å…¬å¸åŠžå…¬çŽ¯å¢ƒæ˜¯Mac Pro + Mac OS X 10ï¼Œå®¶é‡Œæ—¥å¸¸çŽ¯å¢ƒæ˜¯è”æƒ³Lenovo+Deepin Linuxã€‚å¯ä»¥è¯´å·²ç»ä¸€å¹´å¤šæ²¡æŽ¥è§¦Windowsç³»ç»Ÿäº†ï¼ŒçŽ°åœ¨ä½¿ç”¨èµ·æ¥å¤šå°‘æœ‰äº›ä¸ä¹ æƒ¯ï¼Œä¸»è¦æ˜¯å„ä¸ªæ“ä½œç³»ç»Ÿæ“ä½œç†å¿µä¸åŒã€‚ æˆ‘å‡ ä¹Žæ¯å¤©éƒ½åœ¨ä½¿ç”¨è®¡ç®—æœºè¿›è¡Œå·¥ä½œå’Œä¸ªäººç”Ÿæ´»ï¼Œé‚£ä¹ˆæˆ‘å¯èƒ½ä¼šåœ¨è®¡ç®—æœºä¸Šæ‹¥æœ‰å¤§é‡æ–‡ä»¶ï¼Œç…§ç‰‡ï¼Œæ–‡ä»¶å¤¹ï¼Œæ–‡æ¡£å’Œå…¶ä»–æ•°æ®ã€‚å¦‚æžœæ‰¾åˆ°ä¸€ä¸ªç‰¹å®šçš„æ–‡ä»¶æ˜¯éžå¸¸ç—›è‹¦çš„ã€‚å¹¸è¿çš„æ˜¯ï¼ŒMacä¸­çš„Spotlightæ¨¡å¼å¯è®©æˆ‘åœ¨Macä¸Šæœç´¢å‡ ä¹Žä»»ä½•å†…å®¹ï¼Œä»Žè€Œè½»æ¾æ‰¾åˆ°æ‚¨éœ€è¦çš„ä»»ä½•å†…å®¹ã€‚å¦‚ä¸‹å›¾ï¼š æ­£æ˜¯å› ä¸ºä¹ æƒ¯äº†åœ¨Mac OS Xé€šè¿‡Spotlightæ¨¡å¼è¿›è¡Œæœç´¢åº”ç”¨ã€æ–‡ä»¶ï¼Œæ‰€ä»¥ä»Šå¤©è£…æœºçš„æ—¶å€™æ‰¾äº†ä¸€ä¸‹Windowsçš„æ›¿ä»£æ–¹æ¡ˆã€‚ æ–‡ä»¶æœç´¢ç¥žå™¨-EverythingåŸºæœ¬ç®€ä»‹åŸºäºŽåç§°å¿«é€Ÿå®šä½æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚ è½»é‡å®‰è£…æ–‡ä»¶ å¹²å‡€ç®€æ´çš„ç”¨æˆ·ç•Œé¢ å¿«é€Ÿæ–‡ä»¶ç´¢å¼• å¿«é€Ÿæœç´¢ æœ€å°èµ„æºä½¿ç”¨ ä¾¿äºŽæ–‡ä»¶åˆ†äº« å®žæ—¶æ›´æ–° æ›´å¤šâ€¦ ä¸­æ–‡å®˜ç½‘ ä¸‹è½½åœ°å€ ä¸­æ–‡æ–‡æ¡£ ä½¿ç”¨ä½“éªŒ Spotlightå¿«é€Ÿæ£€ç´¢æ›¿ä»£æ–¹æ¡ˆ-WoxåŸºæœ¬ç®€ä»‹Woxæ˜¯ä¸€æ¬¾å›½äº§å¼€æºå…è´¹çš„è½¯ä»¶å¿«æ·å¯åŠ¨å·¥å…·ï¼Œå®ƒå¯ä»¥å¿«é€Ÿæœç´¢å¹¶æ‰“å¼€ä½ ç”µè„‘ä¸Šçš„ç¨‹åºã€æ–‡ä»¶ã€æŸ¥è¯ç¿»è¯‘ã€ç½‘ç«™æŸ¥æ‰¾ç­‰å…¶ä»–æ“ä½œï¼ŒåŒæ—¶è¿˜æ”¯æŒæ’ä»¶å®‰è£…ã€‚ Tips: å¦‚æžœä½ éœ€è¦ç”¨åˆ°æ–‡ä»¶çš„å¿«é€Ÿæœç´¢ã€æ‰“å¼€åŠŸèƒ½ï¼Œéœ€è¦é¢„å…ˆå®‰è£…Everythingã€‚ å®˜ç½‘ ä¸‹è½½åœ°å€ ä¸­æ–‡æ–‡æ¡£ Githubåœ°å€ ä½¿ç”¨ä½“éªŒå¯åŠ¨æ–¹å¼å¿«æ·é”®å¯åŠ¨æŒ‰ä¸‹ã€Alt+Spaceã€‘å³å¯ï¼Œå¯ä»¥åœ¨settingé‡Œè®¾ç½®ã€‚æˆ‘è®¾ç½®çš„å¿«æ·é”®è®¾ç½®ä¸ºã€Ctrl+Spaceã€‘,å’ŒMacå¿«æ·é”®ä¿æŒä¸€è‡´ã€‚ è®¾ç½®åˆšåˆšä½¿ç”¨Woxçš„ç”¨æˆ·ï¼Œå¸¸å¸¸ä¼šæ‰¾ä¸åˆ°Woxçš„è®¾ç½®é¡µé¢ã€‚ç›®å‰ï¼Œç”¨æˆ·æœ‰ä¸¤ç§æ–¹å¼æ‰“å¼€è®¾ç½®ç•Œé¢ï¼š é€šè¿‡settingå‘½ä»¤ï¼ˆæŽ¨èï¼‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç›´æŽ¥è¾“å…¥settingç„¶åŽé€‰æ‹©ç¬¬ä¸€é¡¹ï¼› é€šè¿‡å³é”®æ‰˜ç›˜å›¾æ ‡ã€‚ åœ¨settingé‡Œï¼Œå¯ä»¥è®¾ç½®ä¸»é¢˜ã€çª—å£è®¾ç½®ã€å¿«æ·é”®è®¾ç½®ã€æœç´¢è®¾ç½®ã€æ’ä»¶è®¾ç½®ï¼Œè¯»è€…å¯æ ¹æ®è‡ªèº«éœ€æ±‚è¿›è¡Œç›¸åº”çš„è®¾ç½®å³å¯ã€‚ åº”ç”¨æœç´¢ æµè§ˆå™¨æœç´¢ å‘½ä»¤ç»ˆç«¯æ‰§è¡Œæ›¿æ¢Windowsçš„å‘½ä»¤ç»ˆç«¯ï¼Œæ›¿æ¢Windowsé”®+Ré”®ã€‚\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"slug\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"permalink\":\"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/\"}]},{\"title\":\"Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜\",\"slug\":\"Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜\",\"date\":\"2019-05-28T01:27:55.000Z\",\"updated\":\"2019-05-29T14:03:53.000Z\",\"comments\":true,\"path\":\"2019/05/28/Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/05/28/Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜/\",\"excerpt\":\"\",\"text\":\"é—®é¢˜æè¿°ä»Šå¤©å‘çŽ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„äº‹æƒ…ï¼Œå°±æ˜¯æœ¬åœ°å†™æ­»çš„FeignClientçš„urlå±žæ€§é…ç½®è¿›è¡Œfeignè°ƒç”¨æ²¡é—®é¢˜ï¼Œä½†æ˜¯æŠŠé…ç½®è¿ç§»åˆ°Ctrip Apolloé…ç½®ä¸­å¿ƒfeignè°ƒç”¨å°±æœ‰é—®é¢˜ã€‚ ä»£ç ç‰‡æ®µ123456789101112131415@FeignClient(url = \\\"$&#123;api.service.baseUrl&#125;\\\",name = \\\"sms-service\\\")public interface SmsClient &#123; /** * å‘é€çŸ­ä¿¡éªŒè¯ç ,4ä½æ•°å­—,5åˆ†é’Ÿæœ‰æ•ˆ */ @PostMapping(\\\"xxxx/xxxxx\\\") ApiResult&lt;String&gt; sendSmsVerifyCode(String xxx, Integer xxx) ; /** * æ ¡éªŒçŸ­ä¿¡éªŒè¯ç  */ @PostMapping(\\\"xxxx/xxxxx\\\") ApiResult&lt;String&gt; checkSmsVerifyCode(String xxx, Integer codeType, String xxx) ;&#125; æŠ¥é”™æ—¥å¿—123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115feign.RetryableException: $&#123;api.service.baseUrl&#125; executing POST http://$&#123;api.service.baseUrl&#125;/xxx/xxx?xxx=18800009999&amp;xxx=8 at feign.FeignException.errorExecuting(FeignException.java:65) at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:105) at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:77) at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:102) at com.sun.proxy.$Proxy148.sendSmsVerifyCode(Unknown Source) at com.yimi.darwin.biz.open.copartner.service.impl.SmsServiceImpl.sendVerifyCode(SmsServiceImpl.java:33) at com.yimi.darwin.biz.open.copartner.controller.SmsController.sendVerifyCode(SmsController.java:62) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at com.yimi.tools.filter.RequestAndResponseLoggingFilter.doFilterWrapped(RequestAndResponseLoggingFilter.java:55) at com.yimi.tools.filter.RequestAndResponseLoggingFilter.doFilterInternal(RequestAndResponseLoggingFilter.java:47) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.cloud.sleuth.instrument.web.ExceptionLoggingFilter.doFilter(ExceptionLoggingFilter.java:48) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at brave.servlet.TracingFilter.doFilter(TracingFilter.java:86) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:65) at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292) at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81) at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138) at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135) at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272) at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81) at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104) at io.undertow.server.Connectors.executeRootHandler(Connectors.java:336) at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread.run(Thread.java:748)Caused by: java.net.UnknownHostException: $&#123;api.service.baseUrl&#125; at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184) at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) at java.net.Socket.connect(Socket.java:589) at sun.net.NetworkClient.doConnect(NetworkClient.java:175) at sun.net.www.http.HttpClient.openServer(HttpClient.java:463) at sun.net.www.http.HttpClient.openServer(HttpClient.java:558) at sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242) at sun.net.www.http.HttpClient.New(HttpClient.java:339) at sun.net.www.http.HttpClient.New(HttpClient.java:357) at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220) at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156) at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050) at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984) at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1564) at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492) at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480) at feign.Client$Default.convertResponse(Client.java:150) at feign.Client$Default.execute(Client.java:72) at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:91) at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:55) at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:98) ... 89 common frames omitted é—®é¢˜åˆ†æžä¸Žè§£å†³æˆ‘ä»¬ä»ŽæŠ¥é”™æ—¥å¿—å‘çŽ°ï¼Œapi.service.baseUrlè¿™ä¸ªé…ç½®æ³¨å…¥å¤±è´¥ã€‚ æˆ‘ä¸ºäº†éªŒè¯ï¼Œä¸“é—¨å†™ä¸€ä¸ªæµ‹è¯•æŽ¥å£ï¼ŒæŸ¥çœ‹é…ç½®åˆ°åº•æœ‰æ²¡æœ‰åŠ è½½ï¼š 1234567@Value(\\\"$&#123;api.service.baseUrl&#125;\\\")private String url;@GetMapping(\\\"/url\\\")public String getUrl() &#123; return url;&#125; é€šè¿‡è°ƒç”¨localhost:8301/urlï¼ŒæŽ¥å£å“åº”äº†ç»“æžœï¼šhttps://xxx.com/, æ­¤æ—¶ï¼Œæˆ‘ä»¬å‘çŽ°ï¼Œé¡¹ç›®ä¸­api.service.baseUrlå´èƒ½æ‹¿åˆ°å€¼ï¼Œè¯´æ˜Žæ•´ä¸ªé¡¹ç›®é…ç½®æ˜¯OKçš„ã€‚ ç´§æŽ¥ç€æˆ‘ä»¬åŽ»apolloå®˜æ–¹çš„githubä¸Šæ‰¾ç­”æ¡ˆï¼Œä¹Ÿæ˜¯åœ¨å®˜æ–¹issueå’Œwikiæ‰¾åˆ°ç­”æ¡ˆçš„ã€‚ å½“é¡¹ç›®å¯åŠ¨æ—¶å€™ï¼Œä¼šæ‰«æ@FeignClientæ³¨è§£ï¼Œæ‰«æçš„è¿‡ç¨‹ä¸­ï¼Œä¼šæ³¨å…¥urlçš„å€¼ã€‚ä½†æ­¤æ—¶apolloé…ç½®æ˜¯åœ¨Feignæ‰«æåŽåŠ è½½çš„ï¼Œå…¶å®žè§£å†³æ–¹æ¡ˆå°±æ˜¯è®©apolloå…ˆäºŽfeignçš„æ‰«æåŠ è½½ï¼Œå³apolloé…ç½®é¥¥é¥¿åŠ è½½ã€‚ 1234# will inject &apos;application&apos; namespace in bootstrap phaseapollo.bootstrap.enabled = true# put apollo initialization before logging system initializationapollo.bootstrap.eagerLoad.enabled=true Spring Booté™¤äº†æ”¯æŒä¸Šè¿°ä¸¤ç§é›†æˆæ–¹å¼ä»¥å¤–ï¼Œè¿˜æ”¯æŒé€šè¿‡application.properties/bootstrap.propertiesæ¥é…ç½®ï¼Œè¯¥æ–¹å¼èƒ½ä½¿é…ç½®åœ¨æ›´æ—©çš„é˜¶æ®µæ³¨å…¥ï¼Œæ¯”å¦‚ä½¿ç”¨@ConditionalOnPropertyçš„åœºæ™¯æˆ–è€…æ˜¯æœ‰ä¸€äº›spring-boot-starteråœ¨å¯åŠ¨é˜¶æ®µå°±éœ€è¦è¯»å–é…ç½®åšä¸€äº›äº‹æƒ…ï¼ˆå¦‚dubbo-spring-boot-projectï¼‰ï¼Œæ‰€ä»¥å¯¹äºŽSpring BootçŽ¯å¢ƒå»ºè®®é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥æŽ¥å…¥Apollo(éœ€è¦0.10.0åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ã€‚ ä»Ž1.2.0ç‰ˆæœ¬å¼€å§‹ï¼Œå¦‚æžœå¸Œæœ›æŠŠæ—¥å¿—ç›¸å…³çš„é…ç½®ï¼ˆå¦‚logging.level.root=infoæˆ–logback-spring.xmlä¸­çš„å‚æ•°ï¼‰ä¹Ÿæ”¾åœ¨Apolloç®¡ç†ï¼Œé‚£ä¹ˆå¯ä»¥é¢å¤–é…ç½®apollo.bootstrap.eagerLoad.enabled=trueæ¥ä½¿Apolloçš„åŠ è½½é¡ºåºæ”¾åˆ°æ—¥å¿—ç³»ç»ŸåŠ è½½ä¹‹å‰ï¼Œä¸è¿‡è¿™ä¼šå¯¼è‡´Apolloçš„å¯åŠ¨è¿‡ç¨‹æ— æ³•é€šè¿‡æ—¥å¿—çš„æ–¹å¼è¾“å‡º(å› ä¸ºæ‰§è¡ŒApolloåŠ è½½çš„æ—¶å€™ï¼Œæ—¥å¿—ç³»ç»ŸåŽ‹æ ¹æ²¡æœ‰å‡†å¤‡å¥½å‘¢ï¼æ‰€ä»¥åœ¨Apolloä»£ç ä¸­ä½¿ç”¨Slf4jçš„æ—¥å¿—è¾“å‡ºä¾¿æ²¡æœ‰ä»»ä½•å†…å®¹)ï¼Œæ›´å¤šä¿¡æ¯å¯ä»¥å‚è€ƒPR 1614ã€‚å‚è€ƒé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š # will inject â€˜applicationâ€™ namespace in bootstrap phase apollo.bootstrap.enabled = true # put apollo initialization before logging system initialization apollo.bootstrap.eagerLoad.enabled=true å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœæ‚¨çš„apollo clientä¾èµ–ç‰ˆæœ¬æ˜¯1.1.0åŠä»¥ä¸‹çš„ï¼ŒåŠ äº†ä»¥ä¸Šçš„é…ç½®ï¼Œå‘çŽ°æ˜¯æ²¡æœ‰ç”¨çš„ã€‚æˆ‘ä»¬å¯ä»¥å°è¯•æ‰‹åŠ¨åŽ»åŠ è½½ã€‚ 12345678910111213import com.ctrip.framework.apollo.ConfigService;public class ClientUrlConfig &#123; public void init() &#123; this.initSet(\\\"æ­¤å¤„å†™ä½ éœ€è¦æå‰åˆå§‹åŒ–çš„key\\\"); &#125; private void initSet(String... keys) &#123; for (String key : keys) &#123; String val = ConfigService.getAppConfig().getProperty(key, null); System.setProperty(key, val); &#125; &#125;&#125; ç„¶åŽåœ¨SpringApplication.run() ä¹‹å‰åŠ è½½ 1234public static void main(String[] args) &#123; new ClientUrlConfig().init(); SpringApplication.run(Application.class, args);&#125; æ‰‹åŠ¨åŠ è½½åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ ${api.service.baseUrl}è¿›è¡ŒåŠ è½½ä»¥åŠFeignè°ƒç”¨äº†ã€‚\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Spring Cloud\",\"slug\":\"Spring-Cloud\",\"permalink\":\"http://ltyeamin.github.io/tags/Spring-Cloud/\"}]},{\"title\":\"èŠèŠJavaé”çš„é‚£äº›äº‹\",\"slug\":\"èŠèŠJavaé”çš„é‚£äº›äº‹\",\"date\":\"2019-04-02T13:12:49.000Z\",\"updated\":\"2019-05-29T14:03:52.000Z\",\"comments\":true,\"path\":\"2019/04/02/èŠèŠJavaé”çš„é‚£äº›äº‹/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/04/02/èŠèŠJavaé”çš„é‚£äº›äº‹/\",\"excerpt\":\"\",\"text\":\"æ˜¨å¤©æˆ‘ä»¬å­¦ä¹ äº†HashMapç›¸å…³çš„æºç ï¼Œæœ¬æ¥æ‰“ç®—ä»Šå¤©å†™ConcurrentHashMapæºç åˆ†æžï¼Œä½†æ˜¯ConcurrentHashMapæ¶‰åŠåˆ°ä¸€äº›é”çš„æ¦‚å¿µï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¶Šæ˜¯åº•å±‚çš„ä¸œè¥¿ï¼Œè¶Šæ˜¯è¦å¥½å¥½ç ”ç©¶ä¸€ç•ªï¼Œä»Šå¤©è¶æ­¤æœºä¼šå¥½å¥½çš„ç³»ç»Ÿå­¦ä¹ ä¸€ä¸‹ã€‚ é‚£ä¹ˆä»Šå¤©å°±æ¥èŠèŠJavaé”çš„é‚£äº›äº‹æƒ…ã€‚Javaä¸ºæˆ‘ä»¬æä¾›äº†ç§ç±»ä¸°å¯Œçš„é”ï¼Œæ¯ç§é”å› å…¶ç‰¹æ€§çš„ä¸åŒï¼Œåœ¨é€‚å½“çš„åœºæ™¯ä¸‹èƒ½å¤Ÿå±•çŽ°å‡ºéžå¸¸é«˜çš„æ•ˆçŽ‡ã€‚æœ¬æ–‡æ—¨åœ¨å¯¹é”ç›¸å…³æºç ï¼ˆæœ¬æ–‡ä¸­çš„æºç æ¥è‡ªJDK 8å’ŒNetty 3.10.6ï¼‰ã€ä½¿ç”¨åœºæ™¯è¿›è¡Œä¸¾ä¾‹ï¼Œä¸ºè¯»è€…ä»‹ç»ä¸»æµé”çš„çŸ¥è¯†ç‚¹ï¼Œä»¥åŠä¸åŒçš„é”çš„é€‚ç”¨åœºæ™¯ã€‚ Javaä¸­å¾€å¾€æ˜¯æŒ‰ç…§æ˜¯å¦å«æœ‰æŸä¸€ç‰¹æ€§æ¥å®šä¹‰é”ï¼Œæˆ‘ä»¬é€šè¿‡ç‰¹æ€§å°†é”è¿›è¡Œåˆ†ç»„å½’ç±»ï¼Œå†ä½¿ç”¨å¯¹æ¯”çš„æ–¹å¼è¿›è¡Œä»‹ç»ï¼Œå¸®åŠ©å¤§å®¶æ›´å¿«æ·çš„ç†è§£ç›¸å…³çŸ¥è¯†ã€‚ä¸‹é¢ç»™å‡ºæœ¬æ–‡å†…å®¹çš„æ€»ä½“åˆ†ç±»ç›®å½•ï¼š ä¹è§‚é” VS æ‚²è§‚é”ä¹è§‚é”ä¸Žæ‚²è§‚é”æ˜¯ä¸€ç§å¹¿ä¹‰ä¸Šçš„æ¦‚å¿µï¼Œä½“çŽ°äº†çœ‹å¾…çº¿ç¨‹åŒæ­¥çš„ä¸åŒè§’åº¦ã€‚åœ¨Javaå’Œæ•°æ®åº“ä¸­éƒ½æœ‰æ­¤æ¦‚å¿µå¯¹åº”çš„å®žé™…åº”ç”¨ã€‚ å…ˆè¯´æ¦‚å¿µã€‚å¯¹äºŽåŒä¸€ä¸ªæ•°æ®çš„å¹¶å‘æ“ä½œï¼Œæ‚²è§‚é”è®¤ä¸ºè‡ªå·±åœ¨ä½¿ç”¨æ•°æ®çš„æ—¶å€™ä¸€å®šæœ‰åˆ«çš„çº¿ç¨‹æ¥ä¿®æ”¹æ•°æ®(æ¯”è¾ƒæ‚²è§‚)ï¼Œå› æ­¤åœ¨èŽ·å–æ•°æ®çš„æ—¶å€™ä¼šå…ˆåŠ é”ï¼Œç¡®ä¿æ•°æ®ä¸ä¼šè¢«åˆ«çš„çº¿ç¨‹ä¿®æ”¹ã€‚Javaä¸­ï¼Œsynchronizedå…³é”®å­—å’ŒLockçš„å®žçŽ°ç±»éƒ½æ˜¯æ‚²è§‚é”ã€‚ è€Œä¹è§‚é”è®¤ä¸ºè‡ªå·±åœ¨ä½¿ç”¨æ•°æ®æ—¶ä¸ä¼šæœ‰åˆ«çš„çº¿ç¨‹ä¿®æ”¹æ•°æ®ï¼Œæ‰€ä»¥ä¸ä¼šæ·»åŠ é”ï¼Œåªæ˜¯åœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™åŽ»åˆ¤æ–­ä¹‹å‰æœ‰æ²¡æœ‰åˆ«çš„çº¿ç¨‹æ›´æ–°äº†è¿™ä¸ªæ•°æ®ã€‚å¦‚æžœè¿™ä¸ªæ•°æ®æ²¡æœ‰è¢«æ›´æ–°ï¼Œå½“å‰çº¿ç¨‹å°†è‡ªå·±ä¿®æ”¹çš„æ•°æ®æˆåŠŸå†™å…¥ã€‚å¦‚æžœæ•°æ®å·²ç»è¢«å…¶ä»–çº¿ç¨‹æ›´æ–°ï¼Œåˆ™æ ¹æ®ä¸åŒçš„å®žçŽ°æ–¹å¼æ‰§è¡Œä¸åŒçš„æ“ä½œï¼ˆä¾‹å¦‚æŠ¥é”™æˆ–è€…è‡ªåŠ¨é‡è¯•ï¼‰ã€‚ ä¹è§‚é”åœ¨Javaä¸­æ˜¯é€šè¿‡ä½¿ç”¨æ— é”ç¼–ç¨‹æ¥å®žçŽ°ï¼Œæœ€å¸¸é‡‡ç”¨çš„æ˜¯CASç®—æ³•ï¼ŒJavaåŽŸå­ç±»ä¸­çš„é€’å¢žæ“ä½œå°±é€šè¿‡CASè‡ªæ—‹å®žçŽ°çš„ã€‚ æ ¹æ®ä»Žä¸Šé¢çš„æ¦‚å¿µæè¿°æˆ‘ä»¬å¯ä»¥å‘çŽ°ï¼š æ‚²è§‚é”é€‚åˆå†™æ“ä½œå¤šçš„åœºæ™¯ï¼Œå…ˆåŠ é”å¯ä»¥ä¿è¯å†™æ“ä½œæ—¶æ•°æ®æ­£ç¡®ã€‚ ä¹è§‚é”é€‚åˆè¯»æ“ä½œå¤šçš„åœºæ™¯ï¼Œä¸åŠ é”çš„ç‰¹ç‚¹èƒ½å¤Ÿä½¿å…¶è¯»æ“ä½œçš„æ€§èƒ½å¤§å¹…æå‡ã€‚ åªè¯´æ¦‚å¿µæœ‰äº›æŠ½è±¡ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ä¹è§‚é”å’Œæ‚²è§‚é”çš„è°ƒç”¨æ–¹å¼ç¤ºä¾‹ï¼š 1234567891011121314151617181920// ------------------------- æ‚²è§‚é”çš„è°ƒç”¨æ–¹å¼ -------------------------// synchronizedpublic void testMethod() &#123; synchronized &#123; // æ“ä½œåŒæ­¥èµ„æº &#125;&#125;// ReentrantLock// éœ€è¦ä¿è¯å¤šä¸ªçº¿ç¨‹ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªé”private ReentrantLock lock = new ReentrantLock(); public void modifyPublicResources() &#123; lock.lock(); // æ“ä½œåŒæ­¥èµ„æº lock.unlock();&#125;// ------------------------- ä¹è§‚é”çš„è°ƒç”¨æ–¹å¼ -------------------------// éœ€è¦ä¿è¯å¤šä¸ªçº¿ç¨‹ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªprivate AtomicInteger atomicInteger = new AtomicInteger();// æ‰§è¡Œè‡ªå¢ž1AtomicInteger atomicInteger.incrementAndGet(); é€šè¿‡è°ƒç”¨æ–¹å¼ç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å‘çŽ°æ‚²è§‚é”åŸºæœ¬éƒ½æ˜¯åœ¨æ˜¾å¼çš„é”å®šä¹‹åŽå†æ“ä½œåŒæ­¥èµ„æºï¼Œè€Œä¹è§‚é”åˆ™ç›´æŽ¥åŽ»æ“ä½œåŒæ­¥èµ„æºã€‚é‚£ä¹ˆï¼Œä¸ºä½•ä¹è§‚é”èƒ½å¤Ÿåšåˆ°ä¸é”å®šåŒæ­¥èµ„æºä¹Ÿå¯ä»¥æ­£ç¡®çš„å®žçŽ°çº¿ç¨‹åŒæ­¥å‘¢ï¼Ÿæˆ‘ä»¬é€šè¿‡ä»‹ç»ä¹è§‚é”çš„ä¸»è¦å®žçŽ°æ–¹å¼ â€œCASâ€ çš„æŠ€æœ¯åŽŸç†æ¥ä¸ºå¤§å®¶è§£æƒ‘ã€‚ CASå…¨ç§° Compare And Swapï¼ˆæ¯”è¾ƒä¸Žäº¤æ¢ï¼‰ï¼Œæ˜¯ä¸€ç§æ— é”ç®—æ³•ã€‚åœ¨ä¸ä½¿ç”¨é”ï¼ˆæ²¡æœ‰çº¿ç¨‹è¢«é˜»å¡žï¼‰çš„æƒ…å†µä¸‹å®žçŽ°å¤šçº¿ç¨‹ä¹‹é—´çš„å˜é‡åŒæ­¥ã€‚java.util.concurrentåŒ…ä¸­çš„åŽŸå­ç±»å°±æ˜¯é€šè¿‡CASæ¥å®žçŽ°äº†ä¹è§‚é”ã€‚ CASç®—æ³•æ¶‰åŠåˆ°ä¸‰ä¸ªæ“ä½œæ•°ï¼š éœ€è¦è¯»å†™çš„å†…å­˜å€¼ Vï¼› è¿›è¡Œæ¯”è¾ƒçš„å€¼ Aï¼› è¦å†™å…¥çš„æ–°å€¼ Bã€‚ å½“ä¸”ä»…å½“ V å†…å­˜å€¼æŒ‡å‘çš„å€¼ç­‰äºŽ A æ—¶ï¼ŒCASé€šè¿‡åŽŸå­æ–¹å¼ç”¨æ–°å€¼Bæ¥æ›´æ–°Vçš„å€¼ï¼ˆâ€œæ¯”è¾ƒ+æ›´æ–°â€æ•´ä½“æ˜¯ä¸€ä¸ªåŽŸå­æ“ä½œï¼‰ï¼Œå¦åˆ™ä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œâ€œæ›´æ–°â€æ˜¯ä¸€ä¸ªä¸æ–­é‡è¯•çš„æ“ä½œã€‚ ä¹‹å‰æåˆ°java.util.concurrentåŒ…ä¸­çš„åŽŸå­ç±»ï¼Œå°±æ˜¯é€šè¿‡CASæ¥å®žçŽ°äº†ä¹è§‚é”ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›å…¥åŽŸå­ç±»AtomicIntegerçš„æºç ï¼Œçœ‹ä¸€ä¸‹AtomicIntegerçš„å®šä¹‰ï¼š 12345678910111213141516public class AtomicInteger extends Number implements java.io.Serializable &#123; private static final long serialVersionUID = 6214790243416807050L; // setup to use Unsafe.compareAndSwapInt for updates private static final Unsafe unsafe = Unsafe.getUnsafe(); private static final long valueOffset; static &#123; try &#123; valueOffset = unsafe.objectFieldOffset (AtomicInteger.class.getDeclaredField(&quot;value&quot;)); &#125; catch (Exception ex) &#123; throw new Error(ex); &#125; &#125; private volatile int value; &#125; æ ¹æ®å®šä¹‰æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå„å±žæ€§çš„ä½œç”¨ï¼š unsafeï¼š èŽ·å–å¹¶æ“ä½œå†…å­˜çš„æ•°æ®ã€‚ valueOffsetï¼š å­˜å‚¨valueåœ¨AtomicIntegerä¸­çš„åç§»é‡ã€‚ valueï¼š å­˜å‚¨AtomicIntegerçš„intå€¼ï¼Œè¯¥å±žæ€§éœ€è¦å€ŸåŠ©volatileå…³é”®å­—ä¿è¯å…¶åœ¨çº¿ç¨‹é—´æ˜¯å¯è§çš„ã€‚ æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŸ¥çœ‹AtomicIntegerçš„è‡ªå¢žå‡½æ•°incrementAndGet()çš„æºç æ—¶ï¼Œå‘çŽ°è‡ªå¢žå‡½æ•°åº•å±‚è°ƒç”¨çš„æ˜¯unsafe.getAndAddInt()ã€‚ä½†æ˜¯ç”±äºŽJDKæœ¬èº«åªæœ‰Unsafe.classï¼Œåªé€šè¿‡classæ–‡ä»¶ä¸­çš„å‚æ•°åï¼Œå¹¶ä¸èƒ½å¾ˆå¥½çš„äº†è§£æ–¹æ³•çš„ä½œç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡OpenJDK 8 æ¥æŸ¥çœ‹Unsafeçš„æºç ï¼š 123456789101112131415161718192021222324/ ------------------------- JDK 8 -------------------------// AtomicInteger è‡ªå¢žæ–¹æ³•public final int incrementAndGet() &#123; return unsafe.getAndAddInt(this, valueOffset, 1) + 1;&#125;// Unsafe.classpublic final int getAndAddInt(Object var1, long var2, int var4) &#123; int var5; do &#123; var5 = this.getIntVolatile(var1, var2); &#125; while(!this.compareAndSwapInt(var1, var2, var5, var5 + var4)); return var5;&#125;// ------------------------- OpenJDK 8 -------------------------// Unsafe.javapublic final int getAndAddInt(Object o, long offset, int delta) &#123; int v; do &#123; v = getIntVolatile(o, offset); &#125; while (!compareAndSwapInt(o, offset, v, v + delta)); return v;&#125; æ ¹æ®OpenJDK 8çš„æºç æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒgetAndAddInt()å¾ªçŽ¯èŽ·å–ç»™å®šå¯¹è±¡oä¸­çš„åç§»é‡å¤„çš„å€¼vï¼Œç„¶åŽåˆ¤æ–­å†…å­˜å€¼æ˜¯å¦ç­‰äºŽvã€‚å¦‚æžœç›¸ç­‰åˆ™å°†å†…å­˜å€¼è®¾ç½®ä¸º v + deltaï¼Œå¦åˆ™è¿”å›žfalseï¼Œç»§ç»­å¾ªçŽ¯è¿›è¡Œé‡è¯•ï¼Œç›´åˆ°è®¾ç½®æˆåŠŸæ‰èƒ½é€€å‡ºå¾ªçŽ¯ï¼Œå¹¶ä¸”å°†æ—§å€¼è¿”å›žã€‚æ•´ä¸ªâ€œæ¯”è¾ƒ+æ›´æ–°â€æ“ä½œå°è£…åœ¨compareAndSwapInt()ä¸­ï¼Œåœ¨JNIé‡Œæ˜¯å€ŸåŠ©äºŽä¸€ä¸ªCPUæŒ‡ä»¤å®Œæˆçš„ï¼Œå±žäºŽåŽŸå­æ“ä½œï¼Œå¯ä»¥ä¿è¯å¤šä¸ªçº¿ç¨‹éƒ½èƒ½å¤Ÿçœ‹åˆ°åŒä¸€ä¸ªå˜é‡çš„ä¿®æ”¹å€¼ã€‚ åŽç»­JDKé€šè¿‡CPUçš„cmpxchgæŒ‡ä»¤ï¼ŒåŽ»æ¯”è¾ƒå¯„å­˜å™¨ä¸­çš„ A å’Œ å†…å­˜ä¸­çš„å€¼ Vã€‚å¦‚æžœç›¸ç­‰ï¼Œå°±æŠŠè¦å†™å…¥çš„æ–°å€¼ B å­˜å…¥å†…å­˜ä¸­ã€‚å¦‚æžœä¸ç›¸ç­‰ï¼Œå°±å°†å†…å­˜å€¼ V èµ‹å€¼ç»™å¯„å­˜å™¨ä¸­çš„å€¼ Aã€‚ç„¶åŽé€šè¿‡Javaä»£ç ä¸­çš„whileå¾ªçŽ¯å†æ¬¡è°ƒç”¨cmpxchgæŒ‡ä»¤è¿›è¡Œé‡è¯•ï¼Œç›´åˆ°è®¾ç½®æˆåŠŸä¸ºæ­¢ã€‚ CASè™½ç„¶å¾ˆé«˜æ•ˆï¼Œä½†æ˜¯å®ƒä¹Ÿå­˜åœ¨ä¸‰å¤§é—®é¢˜ï¼Œè¿™é‡Œä¹Ÿç®€å•è¯´ä¸€ä¸‹ï¼š ABAé—®é¢˜ã€‚CASéœ€è¦åœ¨æ“ä½œå€¼çš„æ—¶å€™æ£€æŸ¥å†…å­˜å€¼æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œæ²¡æœ‰å‘ç”Ÿå˜åŒ–æ‰ä¼šæ›´æ–°å†…å­˜å€¼ã€‚ä½†æ˜¯å¦‚æžœå†…å­˜å€¼åŽŸæ¥æ˜¯Aï¼ŒåŽæ¥å˜æˆäº†Bï¼Œç„¶åŽåˆå˜æˆäº†Aï¼Œé‚£ä¹ˆCASè¿›è¡Œæ£€æŸ¥æ—¶ä¼šå‘çŽ°å€¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯å®žé™…ä¸Šæ˜¯æœ‰å˜åŒ–çš„ã€‚ABAé—®é¢˜çš„è§£å†³æ€è·¯å°±æ˜¯åœ¨å˜é‡å‰é¢æ·»åŠ ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡å˜é‡æ›´æ–°çš„æ—¶å€™éƒ½æŠŠç‰ˆæœ¬å·åŠ ä¸€ï¼Œè¿™æ ·å˜åŒ–è¿‡ç¨‹å°±ä»Žâ€œAï¼Bï¼Aâ€å˜æˆäº†â€œ1Aï¼2Bï¼3Aâ€ã€‚ JDKä»Ž1.5å¼€å§‹æä¾›äº†AtomicStampedReferenceç±»æ¥è§£å†³ABAé—®é¢˜ï¼Œå…·ä½“æ“ä½œå°è£…åœ¨compareAndSet()ä¸­ã€‚compareAndSet()é¦–å…ˆæ£€æŸ¥å½“å‰å¼•ç”¨å’Œå½“å‰æ ‡å¿—ä¸Žé¢„æœŸå¼•ç”¨å’Œé¢„æœŸæ ‡å¿—æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æžœéƒ½ç›¸ç­‰ï¼Œåˆ™ä»¥åŽŸå­æ–¹å¼å°†å¼•ç”¨å€¼å’Œæ ‡å¿—çš„å€¼è®¾ç½®ä¸ºç»™å®šçš„æ›´æ–°å€¼ã€‚ å¾ªçŽ¯æ—¶é—´é•¿å¼€é”€å¤§ã€‚CASæ“ä½œå¦‚æžœé•¿æ—¶é—´ä¸æˆåŠŸï¼Œä¼šå¯¼è‡´å…¶ä¸€ç›´è‡ªæ—‹ï¼Œç»™CPUå¸¦æ¥éžå¸¸å¤§çš„å¼€é”€ã€‚ åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŽŸå­æ“ä½œ ã€‚å¯¹ä¸€ä¸ªå…±äº«å˜é‡æ‰§è¡Œæ“ä½œæ—¶ï¼ŒCASèƒ½å¤Ÿä¿è¯åŽŸå­æ“ä½œï¼Œä½†æ˜¯å¯¹å¤šä¸ªå…±äº«å˜é‡æ“ä½œæ—¶ï¼ŒCASæ˜¯æ— æ³•ä¿è¯æ“ä½œçš„åŽŸå­æ€§çš„ã€‚ Javaä»Ž1.5å¼€å§‹JDKæä¾›äº†AtomicReferenceç±»æ¥ä¿è¯å¼•ç”¨å¯¹è±¡ä¹‹é—´çš„åŽŸå­æ€§ï¼Œå¯ä»¥æŠŠå¤šä¸ªå˜é‡æ”¾åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œæ¥è¿›è¡ŒCASæ“ä½œã€‚ æœ‰å…³äºŽCASå’ŒUnsafeçš„å…·ä½“è¯¦è§£ï¼Œæˆ‘åŽç»­ä¸ºå¤§å®¶æ¢³ç†ã€‚ è‡ªæ—‹é” VS é€‚åº”æ€§è‡ªæ—‹é”åœ¨ä»‹ç»è‡ªæ—‹é”å‰ï¼Œæˆ‘ä»¬éœ€è¦ä»‹ç»ä¸€äº›å‰æçŸ¥è¯†æ¥å¸®åŠ©å¤§å®¶æ˜Žç™½è‡ªæ—‹é”çš„æ¦‚å¿µã€‚ é˜»å¡žæˆ–å”¤é†’ä¸€ä¸ªJavaçº¿ç¨‹éœ€è¦æ“ä½œç³»ç»Ÿåˆ‡æ¢CPUçŠ¶æ€æ¥å®Œæˆï¼Œè¿™ç§çŠ¶æ€è½¬æ¢éœ€è¦è€—è´¹å¤„ç†å™¨æ—¶é—´ã€‚å¦‚æžœåŒæ­¥ä»£ç å—ä¸­çš„å†…å®¹è¿‡äºŽç®€å•ï¼ŒçŠ¶æ€è½¬æ¢æ¶ˆè€—çš„æ—¶é—´æœ‰å¯èƒ½æ¯”ç”¨æˆ·ä»£ç æ‰§è¡Œçš„æ—¶é—´è¿˜è¦é•¿ã€‚ åœ¨è®¸å¤šåœºæ™¯ä¸­ï¼ŒåŒæ­¥èµ„æºçš„é”å®šæ—¶é—´å¾ˆçŸ­ï¼Œä¸ºäº†è¿™ä¸€å°æ®µæ—¶é—´åŽ»åˆ‡æ¢çº¿ç¨‹ï¼Œçº¿ç¨‹æŒ‚èµ·å’Œæ¢å¤çŽ°åœºçš„èŠ±è´¹å¯èƒ½ä¼šè®©ç³»ç»Ÿå¾—ä¸å¿å¤±ã€‚å¦‚æžœç‰©ç†æœºå™¨æœ‰å¤šä¸ªå¤„ç†å™¨ï¼Œèƒ½å¤Ÿè®©ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„çº¿ç¨‹åŒæ—¶å¹¶è¡Œæ‰§è¡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥è®©åŽé¢é‚£ä¸ªè¯·æ±‚é”çš„çº¿ç¨‹ä¸æ”¾å¼ƒCPUçš„æ‰§è¡Œæ—¶é—´ï¼Œçœ‹çœ‹æŒæœ‰é”çš„çº¿ç¨‹æ˜¯å¦å¾ˆå¿«å°±ä¼šé‡Šæ”¾é”ã€‚ è€Œä¸ºäº†è®©å½“å‰çº¿ç¨‹â€œç¨ç­‰ä¸€ä¸‹â€ï¼Œæˆ‘ä»¬éœ€è®©å½“å‰çº¿ç¨‹è¿›è¡Œè‡ªæ—‹ï¼Œå¦‚æžœåœ¨è‡ªæ—‹å®ŒæˆåŽå‰é¢é”å®šåŒæ­¥èµ„æºçš„çº¿ç¨‹å·²ç»é‡Šæ”¾äº†é”ï¼Œé‚£ä¹ˆå½“å‰çº¿ç¨‹å°±å¯ä»¥ä¸å¿…é˜»å¡žè€Œæ˜¯ç›´æŽ¥èŽ·å–åŒæ­¥èµ„æºï¼Œä»Žè€Œé¿å…åˆ‡æ¢çº¿ç¨‹çš„å¼€é”€ã€‚è¿™å°±æ˜¯è‡ªæ—‹é”ã€‚ è‡ªæ—‹é”æœ¬èº«æ˜¯æœ‰ç¼ºç‚¹çš„ï¼Œå®ƒä¸èƒ½ä»£æ›¿é˜»å¡žã€‚è‡ªæ—‹ç­‰å¾…è™½ç„¶é¿å…äº†çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼Œä½†å®ƒè¦å ç”¨å¤„ç†å™¨æ—¶é—´ã€‚å¦‚æžœé”è¢«å ç”¨çš„æ—¶é—´å¾ˆçŸ­ï¼Œè‡ªæ—‹ç­‰å¾…çš„æ•ˆæžœå°±ä¼šéžå¸¸å¥½ã€‚åä¹‹ï¼Œå¦‚æžœé”è¢«å ç”¨çš„æ—¶é—´å¾ˆé•¿ï¼Œé‚£ä¹ˆè‡ªæ—‹çš„çº¿ç¨‹åªä¼šç™½æµªè´¹å¤„ç†å™¨èµ„æºã€‚æ‰€ä»¥ï¼Œè‡ªæ—‹ç­‰å¾…çš„æ—¶é—´å¿…é¡»è¦æœ‰ä¸€å®šçš„é™åº¦ï¼Œå¦‚æžœè‡ªæ—‹è¶…è¿‡äº†é™å®šæ¬¡æ•°ï¼ˆé»˜è®¤æ˜¯10æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨-XX:PreBlockSpinæ¥æ›´æ”¹ï¼‰æ²¡æœ‰æˆåŠŸèŽ·å¾—é”ï¼Œå°±åº”å½“æŒ‚èµ·çº¿ç¨‹ã€‚ è‡ªæ—‹é”çš„å®žçŽ°åŽŸç†åŒæ ·ä¹Ÿæ˜¯CASï¼ŒAtomicIntegerä¸­è°ƒç”¨unsafeè¿›è¡Œè‡ªå¢žæ“ä½œçš„æºç ä¸­çš„do-whileå¾ªçŽ¯å°±æ˜¯ä¸€ä¸ªè‡ªæ—‹æ“ä½œï¼Œå¦‚æžœä¿®æ”¹æ•°å€¼å¤±è´¥åˆ™é€šè¿‡å¾ªçŽ¯æ¥æ‰§è¡Œè‡ªæ—‹ï¼Œç›´è‡³ä¿®æ”¹æˆåŠŸã€‚ æ—‹é”åœ¨JDK1.4.2ä¸­å¼•å…¥ï¼Œä½¿ç”¨-XX:+UseSpinningæ¥å¼€å¯ã€‚JDK 6ä¸­å˜ä¸ºé»˜è®¤å¼€å¯ï¼Œå¹¶ä¸”å¼•å…¥äº†è‡ªé€‚åº”çš„è‡ªæ—‹é”ï¼ˆé€‚åº”æ€§è‡ªæ—‹é”ï¼‰ã€‚ è‡ªé€‚åº”æ„å‘³ç€è‡ªæ—‹çš„æ—¶é—´ï¼ˆæ¬¡æ•°ï¼‰ä¸å†å›ºå®šï¼Œè€Œæ˜¯ç”±å‰ä¸€æ¬¡åœ¨åŒä¸€ä¸ªé”ä¸Šçš„è‡ªæ—‹æ—¶é—´åŠé”çš„æ‹¥æœ‰è€…çš„çŠ¶æ€æ¥å†³å®šã€‚å¦‚æžœåœ¨åŒä¸€ä¸ªé”å¯¹è±¡ä¸Šï¼Œè‡ªæ—‹ç­‰å¾…åˆšåˆšæˆåŠŸèŽ·å¾—è¿‡é”ï¼Œå¹¶ä¸”æŒæœ‰é”çš„çº¿ç¨‹æ­£åœ¨è¿è¡Œä¸­ï¼Œé‚£ä¹ˆè™šæ‹Ÿæœºå°±ä¼šè®¤ä¸ºè¿™æ¬¡è‡ªæ—‹ä¹Ÿæ˜¯å¾ˆæœ‰å¯èƒ½å†æ¬¡æˆåŠŸï¼Œè¿›è€Œå®ƒå°†å…è®¸è‡ªæ—‹ç­‰å¾…æŒç»­ç›¸å¯¹æ›´é•¿çš„æ—¶é—´ã€‚å¦‚æžœå¯¹äºŽæŸä¸ªé”ï¼Œè‡ªæ—‹å¾ˆå°‘æˆåŠŸèŽ·å¾—è¿‡ï¼Œé‚£åœ¨ä»¥åŽå°è¯•èŽ·å–è¿™ä¸ªé”æ—¶å°†å¯èƒ½çœç•¥æŽ‰è‡ªæ—‹è¿‡ç¨‹ï¼Œç›´æŽ¥é˜»å¡žçº¿ç¨‹ï¼Œé¿å…æµªè´¹å¤„ç†å™¨èµ„æºã€‚ åœ¨è‡ªæ—‹é”ä¸­ å¦æœ‰ä¸‰ç§å¸¸è§çš„é”å½¢å¼:TicketLockã€CLHlockå’ŒMCSlockï¼Œæœ¬æ–‡ä¸­ä»…åšåè¯ä»‹ç»ï¼Œä¸åšæ·±å…¥è®²è§£ï¼Œæ„Ÿå…´è¶£çš„å¤§å®¶å¯ä»¥è‡ªè¡ŒæŸ¥é˜…ç›¸å…³èµ„æ–™ã€‚ æ— é” VS åå‘é” VS è½»é‡çº§é” VS é‡é‡çº§é”è¿™å››ç§é”æ˜¯æŒ‡é”çš„çŠ¶æ€ï¼Œä¸“é—¨é’ˆå¯¹synchronizedçš„ã€‚åœ¨ä»‹ç»è¿™å››ç§é”çŠ¶æ€ä¹‹å‰è¿˜éœ€è¦ä»‹ç»ä¸€äº›é¢å¤–çš„çŸ¥è¯†ã€‚ é¦–å…ˆä¸ºä»€ä¹ˆSynchronizedèƒ½å®žçŽ°çº¿ç¨‹åŒæ­¥ï¼Ÿ åœ¨å›žç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰æˆ‘ä»¬éœ€è¦äº†è§£ä¸¤ä¸ªé‡è¦çš„æ¦‚å¿µï¼šâ€œJavaå¯¹è±¡å¤´â€ã€â€œMonitorâ€ã€‚ Javaå¯¹è±¡å¤´synchronizedæ˜¯æ‚²è§‚é”ï¼Œåœ¨æ“ä½œåŒæ­¥èµ„æºä¹‹å‰éœ€è¦ç»™åŒæ­¥èµ„æºå…ˆåŠ é”ï¼Œè¿™æŠŠé”å°±æ˜¯å­˜åœ¨Javaå¯¹è±¡å¤´é‡Œçš„ï¼Œè€ŒJavaå¯¹è±¡å¤´åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æˆ‘ä»¬ä»¥Hotspotè™šæ‹Ÿæœºä¸ºä¾‹ï¼ŒHotspotçš„å¯¹è±¡å¤´ä¸»è¦åŒ…æ‹¬ä¸¤éƒ¨åˆ†æ•°æ®ï¼šMark Wordï¼ˆæ ‡è®°å­—æ®µï¼‰ã€Klass Pointerï¼ˆç±»åž‹æŒ‡é’ˆï¼‰ã€‚ Mark Wordï¼šé»˜è®¤å­˜å‚¨å¯¹è±¡çš„HashCodeï¼Œåˆ†ä»£å¹´é¾„å’Œé”æ ‡å¿—ä½ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯éƒ½æ˜¯ä¸Žå¯¹è±¡è‡ªèº«å®šä¹‰æ— å…³çš„æ•°æ®ï¼Œæ‰€ä»¥Mark Wordè¢«è®¾è®¡æˆä¸€ä¸ªéžå›ºå®šçš„æ•°æ®ç»“æž„ä»¥ä¾¿åœ¨æžå°çš„ç©ºé—´å†…å­˜å­˜å‚¨å°½é‡å¤šçš„æ•°æ®ã€‚å®ƒä¼šæ ¹æ®å¯¹è±¡çš„çŠ¶æ€å¤ç”¨è‡ªå·±çš„å­˜å‚¨ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è¿è¡ŒæœŸé—´Mark Wordé‡Œå­˜å‚¨çš„æ•°æ®ä¼šéšç€é”æ ‡å¿—ä½çš„å˜åŒ–è€Œå˜åŒ–ã€‚ Klass Pointï¼šå¯¹è±¡æŒ‡å‘å®ƒçš„ç±»å…ƒæ•°æ®çš„æŒ‡é’ˆï¼Œè™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥ç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®žä¾‹ã€‚ MonitorMonitorå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªåŒæ­¥å·¥å…·æˆ–ä¸€ç§åŒæ­¥æœºåˆ¶ï¼Œé€šå¸¸è¢«æè¿°ä¸ºä¸€ä¸ªå¯¹è±¡ã€‚æ¯ä¸€ä¸ªJavaå¯¹è±¡å°±æœ‰ä¸€æŠŠçœ‹ä¸è§çš„é”ï¼Œç§°ä¸ºå†…éƒ¨é”æˆ–è€…Monitoré”ã€‚ Monitoræ˜¯çº¿ç¨‹ç§æœ‰çš„æ•°æ®ç»“æž„ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªå¯ç”¨monitor recordåˆ—è¡¨ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªå…¨å±€çš„å¯ç”¨åˆ—è¡¨ã€‚æ¯ä¸€ä¸ªè¢«é”ä½çš„å¯¹è±¡éƒ½ä¼šå’Œä¸€ä¸ªmonitorå…³è”ï¼ŒåŒæ—¶monitorä¸­æœ‰ä¸€ä¸ªOwnerå­—æ®µå­˜æ”¾æ‹¥æœ‰è¯¥é”çš„çº¿ç¨‹çš„å”¯ä¸€æ ‡è¯†ï¼Œè¡¨ç¤ºè¯¥é”è¢«è¿™ä¸ªçº¿ç¨‹å ç”¨ã€‚ çŽ°åœ¨è¯é¢˜å›žåˆ°synchronizedï¼Œsynchronizedé€šè¿‡Monitoræ¥å®žçŽ°çº¿ç¨‹åŒæ­¥ï¼ŒMonitoræ˜¯ä¾èµ–äºŽåº•å±‚çš„æ“ä½œç³»ç»Ÿçš„Mutex Lockï¼ˆäº’æ–¥é”ï¼‰æ¥å®žçŽ°çš„çº¿ç¨‹åŒæ­¥ã€‚ å¦‚åŒæˆ‘ä»¬åœ¨è‡ªæ—‹é”ä¸­æåˆ°çš„â€œé˜»å¡žæˆ–å”¤é†’ä¸€ä¸ªJavaçº¿ç¨‹éœ€è¦æ“ä½œç³»ç»Ÿåˆ‡æ¢CPUçŠ¶æ€æ¥å®Œæˆï¼Œè¿™ç§çŠ¶æ€è½¬æ¢éœ€è¦è€—è´¹å¤„ç†å™¨æ—¶é—´ã€‚å¦‚æžœåŒæ­¥ä»£ç å—ä¸­çš„å†…å®¹è¿‡äºŽç®€å•ï¼ŒçŠ¶æ€è½¬æ¢æ¶ˆè€—çš„æ—¶é—´æœ‰å¯èƒ½æ¯”ç”¨æˆ·ä»£ç æ‰§è¡Œçš„æ—¶é—´è¿˜è¦é•¿â€ã€‚è¿™ç§æ–¹å¼å°±æ˜¯synchronizedæœ€åˆå®žçŽ°åŒæ­¥çš„æ–¹å¼ï¼Œè¿™å°±æ˜¯JDK 6ä¹‹å‰synchronizedæ•ˆçŽ‡ä½Žçš„åŽŸå› ã€‚è¿™ç§ä¾èµ–äºŽæ“ä½œç³»ç»ŸMutex Lockæ‰€å®žçŽ°çš„é”æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œé‡é‡çº§é”â€ï¼ŒJDK 6ä¸­ä¸ºäº†å‡å°‘èŽ·å¾—é”å’Œé‡Šæ”¾é”å¸¦æ¥çš„æ€§èƒ½æ¶ˆè€—ï¼Œå¼•å…¥äº†â€œåå‘é”â€å’Œâ€œè½»é‡çº§é”â€ã€‚ æ‰€ä»¥ç›®å‰é”ä¸€å…±æœ‰4ç§çŠ¶æ€ï¼Œçº§åˆ«ä»Žä½Žåˆ°é«˜ä¾æ¬¡æ˜¯ï¼šæ— é”ã€åå‘é”ã€è½»é‡çº§é”å’Œé‡é‡çº§é”ã€‚é”çŠ¶æ€åªèƒ½å‡çº§ä¸èƒ½é™çº§ã€‚ é€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œæˆ‘ä»¬å¯¹synchronizedçš„åŠ é”æœºåˆ¶ä»¥åŠç›¸å…³çŸ¥è¯†æœ‰äº†ä¸€ä¸ªäº†è§£ï¼Œé‚£ä¹ˆä¸‹é¢æˆ‘ä»¬ç»™å‡ºå››ç§é”çŠ¶æ€å¯¹åº”çš„çš„Mark Wordå†…å®¹ï¼Œç„¶åŽå†åˆ†åˆ«è®²è§£å››ç§é”çŠ¶æ€çš„æ€è·¯ä»¥åŠç‰¹ç‚¹ï¼š é”çŠ¶æ€ å­˜å‚¨å†…å®¹ å­˜å‚¨å†…å®¹ æ— é” å¯¹è±¡çš„hashCodeã€å¯¹è±¡åˆ†ä»£å¹´é¾„ã€æ˜¯å¦æ˜¯åå‘é”ï¼ˆ0ï¼‰ 01 åå‘é” åå‘çº¿ç¨‹IDã€åå‘æ—¶é—´æˆ³ã€å¯¹è±¡åˆ†ä»£å¹´é¾„ã€æ˜¯å¦æ˜¯åå‘é”ï¼ˆ1ï¼‰ 01 è½»é‡çº§é” æŒ‡å‘æ ˆä¸­é”è®°å½•çš„æŒ‡é’ˆ 00 é‡é‡çº§é” æŒ‡å‘äº’æ–¥é‡ï¼ˆé‡é‡çº§é”ï¼‰çš„æŒ‡é’ˆ 10 æ— é”æ— é”æ²¡æœ‰å¯¹èµ„æºè¿›è¡Œé”å®šï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½èƒ½è®¿é—®å¹¶ä¿®æ”¹åŒä¸€ä¸ªèµ„æºï¼Œä½†åŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½ä¿®æ”¹æˆåŠŸã€‚ æ— é”çš„ç‰¹ç‚¹å°±æ˜¯ä¿®æ”¹æ“ä½œåœ¨å¾ªçŽ¯å†…è¿›è¡Œï¼Œçº¿ç¨‹ä¼šä¸æ–­çš„å°è¯•ä¿®æ”¹å…±äº«èµ„æºã€‚å¦‚æžœæ²¡æœ‰å†²çªå°±ä¿®æ”¹æˆåŠŸå¹¶é€€å‡ºï¼Œå¦åˆ™å°±ä¼šç»§ç»­å¾ªçŽ¯å°è¯•ã€‚å¦‚æžœæœ‰å¤šä¸ªçº¿ç¨‹ä¿®æ”¹åŒä¸€ä¸ªå€¼ï¼Œå¿…å®šä¼šæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½ä¿®æ”¹æˆåŠŸï¼Œè€Œå…¶ä»–ä¿®æ”¹å¤±è´¥çš„çº¿ç¨‹ä¼šä¸æ–­é‡è¯•ç›´åˆ°ä¿®æ”¹æˆåŠŸã€‚ä¸Šé¢æˆ‘ä»¬ä»‹ç»çš„CASåŽŸç†åŠåº”ç”¨å³æ˜¯æ— é”çš„å®žçŽ°ã€‚æ— é”æ— æ³•å…¨é¢ä»£æ›¿æœ‰é”ï¼Œä½†æ— é”åœ¨æŸäº›åœºåˆä¸‹çš„æ€§èƒ½æ˜¯éžå¸¸é«˜çš„ã€‚ åå‘é”åå‘é”æ˜¯æŒ‡ä¸€æ®µåŒæ­¥ä»£ç ä¸€ç›´è¢«ä¸€ä¸ªçº¿ç¨‹æ‰€è®¿é—®ï¼Œé‚£ä¹ˆè¯¥çº¿ç¨‹ä¼šè‡ªåŠ¨èŽ·å–é”ï¼Œé™ä½ŽèŽ·å–é”çš„ä»£ä»·ã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé”æ€»æ˜¯ç”±åŒä¸€çº¿ç¨‹å¤šæ¬¡èŽ·å¾—ï¼Œä¸å­˜åœ¨å¤šçº¿ç¨‹ç«žäº‰ï¼Œæ‰€ä»¥å‡ºçŽ°äº†åå‘é”ã€‚å…¶ç›®æ ‡å°±æ˜¯åœ¨åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç å—æ—¶èƒ½å¤Ÿæé«˜æ€§èƒ½ã€‚ å½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®åŒæ­¥ä»£ç å—å¹¶èŽ·å–é”æ—¶ï¼Œä¼šåœ¨Mark Wordé‡Œå­˜å‚¨é”åå‘çš„çº¿ç¨‹IDã€‚åœ¨çº¿ç¨‹è¿›å…¥å’Œé€€å‡ºåŒæ­¥å—æ—¶ä¸å†é€šè¿‡CASæ“ä½œæ¥åŠ é”å’Œè§£é”ï¼Œè€Œæ˜¯æ£€æµ‹Mark Wordé‡Œæ˜¯å¦å­˜å‚¨ç€æŒ‡å‘å½“å‰çº¿ç¨‹çš„åå‘é”ã€‚å¼•å…¥åå‘é”æ˜¯ä¸ºäº†åœ¨æ— å¤šçº¿ç¨‹ç«žäº‰çš„æƒ…å†µä¸‹å°½é‡å‡å°‘ä¸å¿…è¦çš„è½»é‡çº§é”æ‰§è¡Œè·¯å¾„ï¼Œå› ä¸ºè½»é‡çº§é”çš„èŽ·å–åŠé‡Šæ”¾ä¾èµ–å¤šæ¬¡CASåŽŸå­æŒ‡ä»¤ï¼Œè€Œåå‘é”åªéœ€è¦åœ¨ç½®æ¢ThreadIDçš„æ—¶å€™ä¾èµ–ä¸€æ¬¡CASåŽŸå­æŒ‡ä»¤å³å¯ã€‚ åå‘é”åªæœ‰é‡åˆ°å…¶ä»–çº¿ç¨‹å°è¯•ç«žäº‰åå‘é”æ—¶ï¼ŒæŒæœ‰åå‘é”çš„çº¿ç¨‹æ‰ä¼šé‡Šæ”¾é”ï¼Œçº¿ç¨‹ä¸ä¼šä¸»åŠ¨é‡Šæ”¾åå‘é”ã€‚åå‘é”çš„æ’¤é”€ï¼Œéœ€è¦ç­‰å¾…å…¨å±€å®‰å…¨ç‚¹ï¼ˆåœ¨è¿™ä¸ªæ—¶é—´ç‚¹ä¸Šæ²¡æœ‰å­—èŠ‚ç æ­£åœ¨æ‰§è¡Œï¼‰ï¼Œå®ƒä¼šé¦–å…ˆæš‚åœæ‹¥æœ‰åå‘é”çš„çº¿ç¨‹ï¼Œåˆ¤æ–­é”å¯¹è±¡æ˜¯å¦å¤„äºŽè¢«é”å®šçŠ¶æ€ã€‚æ’¤é”€åå‘é”åŽæ¢å¤åˆ°æ— é”ï¼ˆæ ‡å¿—ä½ä¸ºâ€œ01â€ï¼‰æˆ–è½»é‡çº§é”ï¼ˆæ ‡å¿—ä½ä¸ºâ€œ00â€ï¼‰çš„çŠ¶æ€ã€‚ åå‘é”åœ¨JDK 6åŠä»¥åŽçš„JVMé‡Œæ˜¯é»˜è®¤å¯ç”¨çš„ã€‚å¯ä»¥é€šè¿‡JVMå‚æ•°å…³é—­åå‘é”ï¼š-XX:-UseBiasedLocking=falseï¼Œå…³é—­ä¹‹åŽç¨‹åºé»˜è®¤ä¼šè¿›å…¥è½»é‡çº§é”çŠ¶æ€ã€‚ è½»é‡çº§é”æ˜¯æŒ‡å½“é”æ˜¯åå‘é”çš„æ—¶å€™ï¼Œè¢«å¦å¤–çš„çº¿ç¨‹æ‰€è®¿é—®ï¼Œåå‘é”å°±ä¼šå‡çº§ä¸ºè½»é‡çº§é”ï¼Œå…¶ä»–çº¿ç¨‹ä¼šé€šè¿‡è‡ªæ—‹çš„å½¢å¼å°è¯•èŽ·å–é”ï¼Œä¸ä¼šé˜»å¡žï¼Œä»Žè€Œæé«˜æ€§èƒ½ã€‚ åœ¨ä»£ç è¿›å…¥åŒæ­¥å—çš„æ—¶å€™ï¼Œå¦‚æžœåŒæ­¥å¯¹è±¡é”çŠ¶æ€ä¸ºæ— é”çŠ¶æ€ï¼ˆé”æ ‡å¿—ä½ä¸ºâ€œ01â€çŠ¶æ€ï¼Œæ˜¯å¦ä¸ºåå‘é”ä¸ºâ€œ0â€ï¼‰ï¼Œè™šæ‹Ÿæœºé¦–å…ˆå°†åœ¨å½“å‰çº¿ç¨‹çš„æ ˆå¸§ä¸­å»ºç«‹ä¸€ä¸ªåä¸ºé”è®°å½•ï¼ˆLock Recordï¼‰çš„ç©ºé—´ï¼Œç”¨äºŽå­˜å‚¨é”å¯¹è±¡ç›®å‰çš„Mark Wordçš„æ‹·è´ï¼Œç„¶åŽæ‹·è´å¯¹è±¡å¤´ä¸­çš„Mark Wordå¤åˆ¶åˆ°é”è®°å½•ä¸­ã€‚ æ‹·è´æˆåŠŸåŽï¼Œè™šæ‹Ÿæœºå°†ä½¿ç”¨CASæ“ä½œå°è¯•å°†å¯¹è±¡çš„Mark Wordæ›´æ–°ä¸ºæŒ‡å‘Lock Recordçš„æŒ‡é’ˆï¼Œå¹¶å°†Lock Recordé‡Œçš„owneræŒ‡é’ˆæŒ‡å‘å¯¹è±¡çš„Mark Wordã€‚ å¦‚æžœè¿™ä¸ªæ›´æ–°åŠ¨ä½œæˆåŠŸäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±æ‹¥æœ‰äº†è¯¥å¯¹è±¡çš„é”ï¼Œå¹¶ä¸”å¯¹è±¡Mark Wordçš„é”æ ‡å¿—ä½è®¾ç½®ä¸ºâ€œ00â€ï¼Œè¡¨ç¤ºæ­¤å¯¹è±¡å¤„äºŽè½»é‡çº§é”å®šçŠ¶æ€ã€‚ å¦‚æžœè½»é‡çº§é”çš„æ›´æ–°æ“ä½œå¤±è´¥äº†ï¼Œè™šæ‹Ÿæœºé¦–å…ˆä¼šæ£€æŸ¥å¯¹è±¡çš„Mark Wordæ˜¯å¦æŒ‡å‘å½“å‰çº¿ç¨‹çš„æ ˆå¸§ï¼Œå¦‚æžœæ˜¯å°±è¯´æ˜Žå½“å‰çº¿ç¨‹å·²ç»æ‹¥æœ‰äº†è¿™ä¸ªå¯¹è±¡çš„é”ï¼Œé‚£å°±å¯ä»¥ç›´æŽ¥è¿›å…¥åŒæ­¥å—ç»§ç»­æ‰§è¡Œï¼Œå¦åˆ™è¯´æ˜Žå¤šä¸ªçº¿ç¨‹ç«žäº‰é”ã€‚ è‹¥å½“å‰åªæœ‰ä¸€ä¸ªç­‰å¾…çº¿ç¨‹ï¼Œåˆ™è¯¥çº¿ç¨‹é€šè¿‡è‡ªæ—‹è¿›è¡Œç­‰å¾…ã€‚ä½†æ˜¯å½“è‡ªæ—‹è¶…è¿‡ä¸€å®šçš„æ¬¡æ•°ï¼Œæˆ–è€…ä¸€ä¸ªçº¿ç¨‹åœ¨æŒæœ‰é”ï¼Œä¸€ä¸ªåœ¨è‡ªæ—‹ï¼Œåˆæœ‰ç¬¬ä¸‰ä¸ªæ¥è®¿æ—¶ï¼Œè½»é‡çº§é”å‡çº§ä¸ºé‡é‡çº§é”ã€‚ é‡é‡çº§é”å‡çº§ä¸ºé‡é‡çº§é”æ—¶ï¼Œé”æ ‡å¿—çš„çŠ¶æ€å€¼å˜ä¸ºâ€œ10â€ï¼Œæ­¤æ—¶Mark Wordä¸­å­˜å‚¨çš„æ˜¯æŒ‡å‘é‡é‡çº§é”çš„æŒ‡é’ˆï¼Œæ­¤æ—¶ç­‰å¾…é”çš„çº¿ç¨‹éƒ½ä¼šè¿›å…¥é˜»å¡žçŠ¶æ€ã€‚ æ•´ä½“çš„é”çŠ¶æ€å‡çº§æµç¨‹å¦‚ä¸‹ï¼š ç»¼ä¸Šï¼Œåå‘é”é€šè¿‡å¯¹æ¯”Mark Wordè§£å†³åŠ é”é—®é¢˜ï¼Œé¿å…æ‰§è¡ŒCASæ“ä½œã€‚è€Œè½»é‡çº§é”æ˜¯é€šè¿‡ç”¨CASæ“ä½œå’Œè‡ªæ—‹æ¥è§£å†³åŠ é”é—®é¢˜ï¼Œé¿å…çº¿ç¨‹é˜»å¡žå’Œå”¤é†’è€Œå½±å“æ€§èƒ½ã€‚é‡é‡çº§é”æ˜¯å°†é™¤äº†æ‹¥æœ‰é”çš„çº¿ç¨‹ä»¥å¤–çš„çº¿ç¨‹éƒ½é˜»å¡žã€‚ å…¬å¹³é” VS éžå…¬å¹³é”å…¬å¹³é”æ˜¯æŒ‡å¤šä¸ªçº¿ç¨‹æŒ‰ç…§ç”³è¯·é”çš„é¡ºåºæ¥èŽ·å–é”ï¼Œçº¿ç¨‹ç›´æŽ¥è¿›å…¥é˜Ÿåˆ—ä¸­æŽ’é˜Ÿï¼Œé˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‰èƒ½èŽ·å¾—é”ã€‚å…¬å¹³é”çš„ä¼˜ç‚¹æ˜¯ç­‰å¾…é”çš„çº¿ç¨‹ä¸ä¼šé¥¿æ­»ã€‚ç¼ºç‚¹æ˜¯æ•´ä½“åžåæ•ˆçŽ‡ç›¸å¯¹éžå…¬å¹³é”è¦ä½Žï¼Œç­‰å¾…é˜Ÿåˆ—ä¸­é™¤ç¬¬ä¸€ä¸ªçº¿ç¨‹ä»¥å¤–çš„æ‰€æœ‰çº¿ç¨‹éƒ½ä¼šé˜»å¡žï¼ŒCPUå”¤é†’é˜»å¡žçº¿ç¨‹çš„å¼€é”€æ¯”éžå…¬å¹³é”å¤§ã€‚ éžå…¬å¹³é”æ˜¯å¤šä¸ªçº¿ç¨‹åŠ é”æ—¶ç›´æŽ¥å°è¯•èŽ·å–é”ï¼ŒèŽ·å–ä¸åˆ°æ‰ä¼šåˆ°ç­‰å¾…é˜Ÿåˆ—çš„é˜Ÿå°¾ç­‰å¾…ã€‚ä½†å¦‚æžœæ­¤æ—¶é”åˆšå¥½å¯ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å¯ä»¥æ— éœ€é˜»å¡žç›´æŽ¥èŽ·å–åˆ°é”ï¼Œæ‰€ä»¥éžå…¬å¹³é”æœ‰å¯èƒ½å‡ºçŽ°åŽç”³è¯·é”çš„çº¿ç¨‹å…ˆèŽ·å–é”çš„åœºæ™¯ã€‚éžå…¬å¹³é”çš„ä¼˜ç‚¹æ˜¯å¯ä»¥å‡å°‘å”¤èµ·çº¿ç¨‹çš„å¼€é”€ï¼Œæ•´ä½“çš„åžåæ•ˆçŽ‡é«˜ï¼Œå› ä¸ºçº¿ç¨‹æœ‰å‡ çŽ‡ä¸é˜»å¡žç›´æŽ¥èŽ·å¾—é”ï¼ŒCPUä¸å¿…å”¤é†’æ‰€æœ‰çº¿ç¨‹ã€‚ç¼ºç‚¹æ˜¯å¤„äºŽç­‰å¾…é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹å¯èƒ½ä¼šé¥¿æ­»ï¼Œæˆ–è€…ç­‰å¾ˆä¹…æ‰ä¼šèŽ·å¾—é”ã€‚ ç›´æŽ¥ç”¨è¯­è¨€æè¿°å¯èƒ½æœ‰ç‚¹æŠ½è±¡ï¼Œè¿™é‡Œç¬”è€…ç”¨ä»Žåˆ«å¤„çœ‹åˆ°çš„ä¸€ä¸ªä¾‹å­æ¥è®²è¿°ä¸€ä¸‹å…¬å¹³é”å’Œéžå…¬å¹³é”ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‡è®¾æœ‰ä¸€å£æ°´äº•ï¼Œæœ‰ç®¡ç†å‘˜çœ‹å®ˆï¼Œç®¡ç†å‘˜æœ‰ä¸€æŠŠé”ï¼Œåªæœ‰æ‹¿åˆ°é”çš„äººæ‰èƒ½å¤Ÿæ‰“æ°´ï¼Œæ‰“å®Œæ°´è¦æŠŠé”è¿˜ç»™ç®¡ç†å‘˜ã€‚æ¯ä¸ªè¿‡æ¥æ‰“æ°´çš„äººéƒ½è¦ç®¡ç†å‘˜çš„å…è®¸å¹¶æ‹¿åˆ°é”ä¹‹åŽæ‰èƒ½åŽ»æ‰“æ°´ï¼Œå¦‚æžœå‰é¢æœ‰äººæ­£åœ¨æ‰“æ°´ï¼Œé‚£ä¹ˆè¿™ä¸ªæƒ³è¦æ‰“æ°´çš„äººå°±å¿…é¡»æŽ’é˜Ÿã€‚ç®¡ç†å‘˜ä¼šæŸ¥çœ‹ä¸‹ä¸€ä¸ªè¦åŽ»æ‰“æ°´çš„äººæ˜¯ä¸æ˜¯é˜Ÿä¼é‡ŒæŽ’æœ€å‰é¢çš„äººï¼Œå¦‚æžœæ˜¯çš„è¯ï¼Œæ‰ä¼šç»™ä½ é”è®©ä½ åŽ»æ‰“æ°´ï¼›å¦‚æžœä½ ä¸æ˜¯æŽ’ç¬¬ä¸€çš„äººï¼Œå°±å¿…é¡»åŽ»é˜Ÿå°¾æŽ’é˜Ÿï¼Œè¿™å°±æ˜¯å…¬å¹³é”ã€‚ ä½†æ˜¯å¯¹äºŽéžå…¬å¹³é”ï¼Œç®¡ç†å‘˜å¯¹æ‰“æ°´çš„äººæ²¡æœ‰è¦æ±‚ã€‚å³ä½¿ç­‰å¾…é˜Ÿä¼é‡Œæœ‰æŽ’é˜Ÿç­‰å¾…çš„äººï¼Œä½†å¦‚æžœåœ¨ä¸Šä¸€ä¸ªäººåˆšæ‰“å®Œæ°´æŠŠé”è¿˜ç»™ç®¡ç†å‘˜è€Œä¸”ç®¡ç†å‘˜è¿˜æ²¡æœ‰å…è®¸ç­‰å¾…é˜Ÿä¼é‡Œä¸‹ä¸€ä¸ªäººåŽ»æ‰“æ°´æ—¶ï¼Œåˆšå¥½æ¥äº†ä¸€ä¸ªæ’é˜Ÿçš„äººï¼Œè¿™ä¸ªæ’é˜Ÿçš„äººæ˜¯å¯ä»¥ç›´æŽ¥ä»Žç®¡ç†å‘˜é‚£é‡Œæ‹¿åˆ°é”åŽ»æ‰“æ°´ï¼Œä¸éœ€è¦æŽ’é˜Ÿï¼ŒåŽŸæœ¬æŽ’é˜Ÿç­‰å¾…çš„äººåªèƒ½ç»§ç»­ç­‰å¾…ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æŽ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ReentrantLockçš„æºç æ¥è®²è§£å…¬å¹³é”å’Œéžå…¬å¹³é”ã€‚ æ ¹æ®ä»£ç å¯çŸ¥ï¼ŒReentrantLocké‡Œé¢æœ‰ä¸€ä¸ªå†…éƒ¨ç±»Syncï¼ŒSyncç»§æ‰¿AQSï¼ˆAbstractQueuedSynchronizerï¼‰ï¼Œæ·»åŠ é”å’Œé‡Šæ”¾é”çš„å¤§éƒ¨åˆ†æ“ä½œå®žé™…ä¸Šéƒ½æ˜¯åœ¨Syncä¸­å®žçŽ°çš„ã€‚å®ƒæœ‰å…¬å¹³é”FairSyncå’Œéžå…¬å¹³é”NonfairSyncä¸¤ä¸ªå­ç±»ã€‚ReentrantLocké»˜è®¤ä½¿ç”¨éžå…¬å¹³é”ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æž„é€ å™¨æ¥æ˜¾ç¤ºçš„æŒ‡å®šä½¿ç”¨å…¬å¹³é”ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å…¬å¹³é”ä¸Žéžå…¬å¹³é”çš„åŠ é”æ–¹æ³•çš„æºç : é€šè¿‡ä¸Šå›¾ä¸­çš„æºä»£ç å¯¹æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥æ˜Žæ˜¾çš„çœ‹å‡ºå…¬å¹³é”ä¸Žéžå…¬å¹³é”çš„lock()æ–¹æ³•å”¯ä¸€çš„åŒºåˆ«å°±åœ¨äºŽå…¬å¹³é”åœ¨èŽ·å–åŒæ­¥çŠ¶æ€æ—¶å¤šäº†ä¸€ä¸ªé™åˆ¶æ¡ä»¶ï¼šhasQueuedPredecessors()ã€‚ å†è¿›å…¥hasQueuedPredecessors()ï¼Œå¯ä»¥çœ‹åˆ°è¯¥æ–¹æ³•ä¸»è¦åšä¸€ä»¶äº‹æƒ…ï¼šä¸»è¦æ˜¯åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦ä½äºŽåŒæ­¥é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªã€‚å¦‚æžœæ˜¯åˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalseã€‚ ç»¼ä¸Šï¼Œå…¬å¹³é”å°±æ˜¯é€šè¿‡åŒæ­¥é˜Ÿåˆ—æ¥å®žçŽ°å¤šä¸ªçº¿ç¨‹æŒ‰ç…§ç”³è¯·é”çš„é¡ºåºæ¥èŽ·å–é”ï¼Œä»Žè€Œå®žçŽ°å…¬å¹³çš„ç‰¹æ€§ã€‚éžå…¬å¹³é”åŠ é”æ—¶ä¸è€ƒè™‘æŽ’é˜Ÿç­‰å¾…é—®é¢˜ï¼Œç›´æŽ¥å°è¯•èŽ·å–é”ï¼Œæ‰€ä»¥å­˜åœ¨åŽç”³è¯·å´å…ˆèŽ·å¾—é”çš„æƒ…å†µã€‚ å¯é‡å…¥é” VS éžå¯é‡å…¥é”å¯é‡å…¥é”åˆåé€’å½’é”ï¼Œæ˜¯æŒ‡åœ¨åŒä¸€ä¸ªçº¿ç¨‹åœ¨å¤–å±‚æ–¹æ³•èŽ·å–é”çš„æ—¶å€™ï¼Œå†è¿›å…¥è¯¥çº¿ç¨‹çš„å†…å±‚æ–¹æ³•ä¼šè‡ªåŠ¨èŽ·å–é”ï¼ˆå‰æé”å¯¹è±¡å¾—æ˜¯åŒä¸€ä¸ªå¯¹è±¡æˆ–è€…classï¼‰ï¼Œä¸ä¼šå› ä¸ºä¹‹å‰å·²ç»èŽ·å–è¿‡è¿˜æ²¡é‡Šæ”¾è€Œé˜»å¡žã€‚Javaä¸­ReentrantLockå’Œsynchronizedéƒ½æ˜¯å¯é‡å…¥é”ï¼Œå¯é‡å…¥é”çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯å¯ä¸€å®šç¨‹åº¦é¿å…æ­»é”ã€‚ä¸‹é¢ç”¨ç¤ºä¾‹ä»£ç æ¥è¿›è¡Œåˆ†æžï¼š 12345678910public class Widget &#123; public synchronized void doSomething() &#123; System.out.println(\\\"æ–¹æ³•1æ‰§è¡Œ...\\\"); doOthers(); &#125; public synchronized void doOthers() &#123; System.out.println(\\\"æ–¹æ³•2æ‰§è¡Œ...\\\"); &#125;&#125; åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç±»ä¸­çš„ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯è¢«å†…ç½®é”synchronizedä¿®é¥°çš„ï¼ŒdoSomething()æ–¹æ³•ä¸­è°ƒç”¨doOthers()æ–¹æ³•ã€‚å› ä¸ºå†…ç½®é”æ˜¯å¯é‡å…¥çš„ï¼Œæ‰€ä»¥åŒä¸€ä¸ªçº¿ç¨‹åœ¨è°ƒç”¨doOthers()æ—¶å¯ä»¥ç›´æŽ¥èŽ·å¾—å½“å‰å¯¹è±¡çš„é”ï¼Œè¿›å…¥doOthers()è¿›è¡Œæ“ä½œã€‚ å¦‚æžœæ˜¯ä¸€ä¸ªä¸å¯é‡å…¥é”ï¼Œé‚£ä¹ˆå½“å‰çº¿ç¨‹åœ¨è°ƒç”¨doOthers()ä¹‹å‰éœ€è¦å°†æ‰§è¡ŒdoSomething()æ—¶èŽ·å–å½“å‰å¯¹è±¡çš„é”é‡Šæ”¾æŽ‰ï¼Œå®žé™…ä¸Šè¯¥å¯¹è±¡é”å·²è¢«å½“å‰çº¿ç¨‹æ‰€æŒæœ‰ï¼Œä¸”æ— æ³•é‡Šæ”¾ã€‚æ‰€ä»¥æ­¤æ—¶ä¼šå‡ºçŽ°æ­»é”ã€‚ è€Œä¸ºä»€ä¹ˆå¯é‡å…¥é”å°±å¯ä»¥åœ¨åµŒå¥—è°ƒç”¨æ—¶å¯ä»¥è‡ªåŠ¨èŽ·å¾—é”å‘¢ï¼Ÿæˆ‘ä»¬é€šè¿‡å›¾ç¤ºå’Œæºç æ¥åˆ†åˆ«è§£æžä¸€ä¸‹ã€‚ è¿˜æ˜¯æ‰“æ°´çš„ä¾‹å­ï¼Œæœ‰å¤šä¸ªäººåœ¨æŽ’é˜Ÿæ‰“æ°´ï¼Œæ­¤æ—¶ç®¡ç†å‘˜å…è®¸é”å’ŒåŒä¸€ä¸ªäººçš„å¤šä¸ªæ°´æ¡¶ç»‘å®šã€‚è¿™ä¸ªäººç”¨å¤šä¸ªæ°´æ¡¶æ‰“æ°´æ—¶ï¼Œç¬¬ä¸€ä¸ªæ°´æ¡¶å’Œé”ç»‘å®šå¹¶æ‰“å®Œæ°´ä¹‹åŽï¼Œç¬¬äºŒä¸ªæ°´æ¡¶ä¹Ÿå¯ä»¥ç›´æŽ¥å’Œé”ç»‘å®šå¹¶å¼€å§‹æ‰“æ°´ï¼Œæ‰€æœ‰çš„æ°´æ¡¶éƒ½æ‰“å®Œæ°´ä¹‹åŽæ‰“æ°´äººæ‰ä¼šå°†é”è¿˜ç»™ç®¡ç†å‘˜ã€‚è¿™ä¸ªäººçš„æ‰€æœ‰æ‰“æ°´æµç¨‹éƒ½èƒ½å¤ŸæˆåŠŸæ‰§è¡Œï¼ŒåŽç»­ç­‰å¾…çš„äººä¹Ÿèƒ½å¤Ÿæ‰“åˆ°æ°´ã€‚è¿™å°±æ˜¯å¯é‡å…¥é”ã€‚ ä½†å¦‚æžœæ˜¯éžå¯é‡å…¥é”çš„è¯ï¼Œæ­¤æ—¶ç®¡ç†å‘˜åªå…è®¸é”å’ŒåŒä¸€ä¸ªäººçš„ä¸€ä¸ªæ°´æ¡¶ç»‘å®šã€‚ç¬¬ä¸€ä¸ªæ°´æ¡¶å’Œé”ç»‘å®šæ‰“å®Œæ°´ä¹‹åŽå¹¶ä¸ä¼šé‡Šæ”¾é”ï¼Œå¯¼è‡´ç¬¬äºŒä¸ªæ°´æ¡¶ä¸èƒ½å’Œé”ç»‘å®šä¹Ÿæ— æ³•æ‰“æ°´ã€‚å½“å‰çº¿ç¨‹å‡ºçŽ°æ­»é”ï¼Œæ•´ä¸ªç­‰å¾…é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰çº¿ç¨‹éƒ½æ— æ³•è¢«å”¤é†’ã€‚ ä¹‹å‰æˆ‘ä»¬è¯´è¿‡ReentrantLockå’Œsynchronizedéƒ½æ˜¯é‡å…¥é”ï¼Œé‚£ä¹ˆæˆ‘ä»¬é€šè¿‡é‡å…¥é”ReentrantLockä»¥åŠéžå¯é‡å…¥é”NonReentrantLockçš„æºç æ¥å¯¹æ¯”åˆ†æžä¸€ä¸‹ä¸ºä»€ä¹ˆéžå¯é‡å…¥é”åœ¨é‡å¤è°ƒç”¨åŒæ­¥èµ„æºæ—¶ä¼šå‡ºçŽ°æ­»é”ã€‚ é¦–å…ˆReentrantLockå’ŒNonReentrantLockéƒ½ç»§æ‰¿çˆ¶ç±»AQSï¼Œå…¶çˆ¶ç±»AQSä¸­ç»´æŠ¤äº†ä¸€ä¸ªåŒæ­¥çŠ¶æ€statusæ¥è®¡æ•°é‡å…¥æ¬¡æ•°ï¼Œstatusåˆå§‹å€¼ä¸º0ã€‚ å½“çº¿ç¨‹å°è¯•èŽ·å–é”æ—¶ï¼Œå¯é‡å…¥é”å…ˆå°è¯•èŽ·å–å¹¶æ›´æ–°statuså€¼ï¼Œå¦‚æžœstatus == 0è¡¨ç¤ºæ²¡æœ‰å…¶ä»–çº¿ç¨‹åœ¨æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œåˆ™æŠŠstatusç½®ä¸º1ï¼Œå½“å‰çº¿ç¨‹å¼€å§‹æ‰§è¡Œã€‚å¦‚æžœstatus != 0ï¼Œåˆ™åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦æ˜¯èŽ·å–åˆ°è¿™ä¸ªé”çš„çº¿ç¨‹ï¼Œå¦‚æžœæ˜¯çš„è¯æ‰§è¡Œstatus+1ï¼Œä¸”å½“å‰çº¿ç¨‹å¯ä»¥å†æ¬¡èŽ·å–é”ã€‚è€Œéžå¯é‡å…¥é”æ˜¯ç›´æŽ¥åŽ»èŽ·å–å¹¶å°è¯•æ›´æ–°å½“å‰statusçš„å€¼ï¼Œå¦‚æžœstatus != 0çš„è¯ä¼šå¯¼è‡´å…¶èŽ·å–é”å¤±è´¥ï¼Œå½“å‰çº¿ç¨‹é˜»å¡žã€‚ é‡Šæ”¾é”æ—¶ï¼Œå¯é‡å…¥é”åŒæ ·å…ˆèŽ·å–å½“å‰statusçš„å€¼ï¼Œåœ¨å½“å‰çº¿ç¨‹æ˜¯æŒæœ‰é”çš„çº¿ç¨‹çš„å‰æä¸‹ã€‚å¦‚æžœstatus-1 == 0ï¼Œåˆ™è¡¨ç¤ºå½“å‰çº¿ç¨‹æ‰€æœ‰é‡å¤èŽ·å–é”çš„æ“ä½œéƒ½å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œç„¶åŽè¯¥çº¿ç¨‹æ‰ä¼šçœŸæ­£é‡Šæ”¾é”ã€‚è€Œéžå¯é‡å…¥é”åˆ™æ˜¯åœ¨ç¡®å®šå½“å‰çº¿ç¨‹æ˜¯æŒæœ‰é”çš„çº¿ç¨‹ä¹‹åŽï¼Œç›´æŽ¥å°†statusç½®ä¸º0ï¼Œå°†é”é‡Šæ”¾ã€‚ ç‹¬äº«é” VS å…±äº«é”ç‹¬äº«é”å’Œå…±äº«é”åŒæ ·æ˜¯ä¸€ç§æ¦‚å¿µã€‚æˆ‘ä»¬å…ˆä»‹ç»ä¸€ä¸‹å…·ä½“çš„æ¦‚å¿µï¼Œç„¶åŽé€šè¿‡ReentrantLockå’ŒReentrantReadWriteLockçš„æºç æ¥ä»‹ç»ç‹¬äº«é”å’Œå…±äº«é”ã€‚ ç‹¬äº«é”ä¹Ÿå«æŽ’ä»–é”ï¼Œæ˜¯æŒ‡è¯¥é”ä¸€æ¬¡åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹æ‰€æŒæœ‰ã€‚å¦‚æžœçº¿ç¨‹Tå¯¹æ•°æ®AåŠ ä¸ŠæŽ’å®ƒé”åŽï¼Œåˆ™å…¶ä»–çº¿ç¨‹ä¸èƒ½å†å¯¹AåŠ ä»»ä½•ç±»åž‹çš„é”ã€‚èŽ·å¾—æŽ’å®ƒé”çš„çº¿ç¨‹å³èƒ½è¯»æ•°æ®åˆèƒ½ä¿®æ”¹æ•°æ®ã€‚JDKä¸­çš„synchronizedå’ŒJUCä¸­Lockçš„å®žçŽ°ç±»å°±æ˜¯äº’æ–¥é”ã€‚ å…±äº«é”æ˜¯æŒ‡è¯¥é”å¯è¢«å¤šä¸ªçº¿ç¨‹æ‰€æŒæœ‰ã€‚å¦‚æžœçº¿ç¨‹Tå¯¹æ•°æ®AåŠ ä¸Šå…±äº«é”åŽï¼Œåˆ™å…¶ä»–çº¿ç¨‹åªèƒ½å¯¹Aå†åŠ å…±äº«é”ï¼Œä¸èƒ½åŠ æŽ’å®ƒé”ã€‚èŽ·å¾—å…±äº«é”çš„çº¿ç¨‹åªèƒ½è¯»æ•°æ®ï¼Œä¸èƒ½ä¿®æ”¹æ•°æ®ã€‚ ç‹¬äº«é”ä¸Žå…±äº«é”ä¹Ÿæ˜¯é€šè¿‡AQSæ¥å®žçŽ°çš„ï¼Œé€šè¿‡å®žçŽ°ä¸åŒçš„æ–¹æ³•ï¼Œæ¥å®žçŽ°ç‹¬äº«æˆ–è€…å…±äº«ã€‚ ä¸‹å›¾ä¸ºReentrantReadWriteLockçš„éƒ¨åˆ†æºç ï¼š æˆ‘ä»¬çœ‹åˆ°ReentrantReadWriteLockæœ‰ä¸¤æŠŠé”ï¼šReadLockå’ŒWriteLockï¼Œç”±è¯çŸ¥æ„ï¼Œä¸€ä¸ªè¯»é”ä¸€ä¸ªå†™é”ï¼Œåˆç§°â€œè¯»å†™é”â€ã€‚å†è¿›ä¸€æ­¥è§‚å¯Ÿå¯ä»¥å‘çŽ°ReadLockå’ŒWriteLockæ˜¯é å†…éƒ¨ç±»Syncå®žçŽ°çš„é”ã€‚Syncæ˜¯AQSçš„ä¸€ä¸ªå­ç±»ï¼Œè¿™ç§ç»“æž„åœ¨CountDownLatchã€ReentrantLockã€Semaphoreé‡Œé¢ä¹Ÿéƒ½å­˜åœ¨ã€‚ åœ¨ReentrantReadWriteLocké‡Œé¢ï¼Œè¯»é”å’Œå†™é”çš„é”ä¸»ä½“éƒ½æ˜¯Syncï¼Œä½†è¯»é”å’Œå†™é”çš„åŠ é”æ–¹å¼ä¸ä¸€æ ·ã€‚è¯»é”æ˜¯å…±äº«é”ï¼Œå†™é”æ˜¯ç‹¬äº«é”ã€‚è¯»é”çš„å…±äº«é”å¯ä¿è¯å¹¶å‘è¯»éžå¸¸é«˜æ•ˆï¼Œè€Œè¯»å†™ã€å†™è¯»ã€å†™å†™çš„è¿‡ç¨‹äº’æ–¥ï¼Œå› ä¸ºè¯»é”å’Œå†™é”æ˜¯åˆ†ç¦»çš„ã€‚æ‰€ä»¥ReentrantReadWriteLockçš„å¹¶å‘æ€§ç›¸æ¯”ä¸€èˆ¬çš„äº’æ–¥é”æœ‰äº†å¾ˆå¤§æå‡ã€‚ é‚£è¯»é”å’Œå†™é”çš„å…·ä½“åŠ é”æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿåœ¨äº†è§£æºç ä¹‹å‰æˆ‘ä»¬éœ€è¦å›žé¡¾ä¸€ä¸‹å…¶ä»–çŸ¥è¯†ã€‚ åœ¨æœ€å¼€å§‹æåŠAQSçš„æ—¶å€™æˆ‘ä»¬ä¹Ÿæåˆ°äº†stateå­—æ®µï¼ˆintç±»åž‹ï¼Œ32ä½ï¼‰ï¼Œè¯¥å­—æ®µç”¨æ¥æè¿°æœ‰å¤šå°‘çº¿ç¨‹èŽ·æŒæœ‰é”ã€‚ åœ¨ç‹¬äº«é”ä¸­è¿™ä¸ªå€¼é€šå¸¸æ˜¯0æˆ–è€…1ï¼ˆå¦‚æžœæ˜¯é‡å…¥é”çš„è¯stateå€¼å°±æ˜¯é‡å…¥çš„æ¬¡æ•°ï¼‰ï¼Œåœ¨å…±äº«é”ä¸­stateå°±æ˜¯æŒæœ‰é”çš„æ•°é‡ã€‚ä½†æ˜¯åœ¨ReentrantReadWriteLockä¸­æœ‰è¯»ã€å†™ä¸¤æŠŠé”ï¼Œæ‰€ä»¥éœ€è¦åœ¨ä¸€ä¸ªæ•´åž‹å˜é‡stateä¸Šåˆ†åˆ«æè¿°è¯»é”å’Œå†™é”çš„æ•°é‡ï¼ˆæˆ–è€…ä¹Ÿå¯ä»¥å«çŠ¶æ€ï¼‰ã€‚äºŽæ˜¯å°†stateå˜é‡â€œæŒ‰ä½åˆ‡å‰²â€åˆ‡åˆ†æˆäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼Œé«˜16ä½è¡¨ç¤ºè¯»é”çŠ¶æ€ï¼ˆè¯»é”ä¸ªæ•°ï¼‰ï¼Œä½Ž16ä½è¡¨ç¤ºå†™é”çŠ¶æ€ï¼ˆå†™é”ä¸ªæ•°ï¼‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š äº†è§£äº†æ¦‚å¿µä¹‹åŽæˆ‘ä»¬å†æ¥çœ‹ä»£ç ï¼Œå…ˆçœ‹å†™é”çš„åŠ é”æºç ï¼š 12345678910111213141516171819protected final boolean tryAcquire(int acquires) &#123; Thread current = Thread.currentThread(); int c = getState(); // å–åˆ°å½“å‰é”çš„ä¸ªæ•° int w = exclusiveCount(c); // å–å†™é”çš„ä¸ªæ•°w if (c != 0) &#123; // å¦‚æžœå·²ç»æœ‰çº¿ç¨‹æŒæœ‰äº†é”(c!=0) // (Note: if c != 0 and w == 0 then shared count != 0) if (w == 0 || current != getExclusiveOwnerThread()) // å¦‚æžœå†™çº¿ç¨‹æ•°ï¼ˆwï¼‰ä¸º0ï¼ˆæ¢è¨€ä¹‹å­˜åœ¨è¯»é”ï¼‰ æˆ–è€…æŒæœ‰é”çš„çº¿ç¨‹ä¸æ˜¯å½“å‰çº¿ç¨‹å°±è¿”å›žå¤±è´¥ return false; if (w + exclusiveCount(acquires) &gt; MAX_COUNT) // å¦‚æžœå†™å…¥é”çš„æ•°é‡å¤§äºŽæœ€å¤§æ•°ï¼ˆ65535ï¼Œ2çš„16æ¬¡æ–¹-1ï¼‰å°±æŠ›å‡ºä¸€ä¸ªErrorã€‚ throw new Error(\\\"Maximum lock count exceeded\\\"); // Reentrant acquire setState(c + acquires); return true; &#125; if (writerShouldBlock() || !compareAndSetState(c, c + acquires)) // å¦‚æžœå½“ä¸”å†™çº¿ç¨‹æ•°ä¸º0ï¼Œå¹¶ä¸”å½“å‰çº¿ç¨‹éœ€è¦é˜»å¡žé‚£ä¹ˆå°±è¿”å›žå¤±è´¥ï¼›æˆ–è€…å¦‚æžœé€šè¿‡CASå¢žåŠ å†™çº¿ç¨‹æ•°å¤±è´¥ä¹Ÿè¿”å›žå¤±è´¥ã€‚ return false; setExclusiveOwnerThread(current); // å¦‚æžœc=0ï¼Œw=0æˆ–è€…c&gt;0ï¼Œw&gt;0ï¼ˆé‡å…¥ï¼‰ï¼Œåˆ™è®¾ç½®å½“å‰çº¿ç¨‹æˆ–é”çš„æ‹¥æœ‰è€… return true;&#125; è¿™æ®µä»£ç é¦–å…ˆå–åˆ°å½“å‰é”çš„ä¸ªæ•°cï¼Œç„¶åŽå†é€šè¿‡cæ¥èŽ·å–å†™é”çš„ä¸ªæ•°wã€‚å› ä¸ºå†™é”æ˜¯ä½Ž16ä½ï¼Œæ‰€ä»¥å–ä½Ž16ä½çš„æœ€å¤§å€¼ä¸Žå½“å‰çš„cåšä¸Žè¿ç®—ï¼ˆ int w = exclusiveCountÂ©; ï¼‰ï¼Œé«˜16ä½å’Œ0ä¸Žè¿ç®—åŽæ˜¯0ï¼Œå‰©ä¸‹çš„å°±æ˜¯ä½Žä½è¿ç®—çš„å€¼ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æŒæœ‰å†™é”çš„çº¿ç¨‹æ•°ç›®ã€‚ åœ¨å–åˆ°å†™é”çº¿ç¨‹çš„æ•°ç›®åŽï¼Œé¦–å…ˆåˆ¤æ–­æ˜¯å¦å·²ç»æœ‰çº¿ç¨‹æŒæœ‰äº†é”ã€‚å¦‚æžœå·²ç»æœ‰çº¿ç¨‹æŒæœ‰äº†é”(c!=0)ï¼Œåˆ™æŸ¥çœ‹å½“å‰å†™é”çº¿ç¨‹çš„æ•°ç›®ï¼Œå¦‚æžœå†™çº¿ç¨‹æ•°ä¸º0ï¼ˆå³æ­¤æ—¶å­˜åœ¨è¯»é”ï¼‰æˆ–è€…æŒæœ‰é”çš„çº¿ç¨‹ä¸æ˜¯å½“å‰çº¿ç¨‹å°±è¿”å›žå¤±è´¥ï¼ˆæ¶‰åŠåˆ°å…¬å¹³é”å’Œéžå…¬å¹³é”çš„å®žçŽ°ï¼‰ã€‚ å¦‚æžœå†™å…¥é”çš„æ•°é‡å¤§äºŽæœ€å¤§æ•°ï¼ˆ65535ï¼Œ2çš„16æ¬¡æ–¹-1ï¼‰å°±æŠ›å‡ºä¸€ä¸ªErrorã€‚ å¦‚æžœå½“ä¸”å†™çº¿ç¨‹æ•°ä¸º0ï¼ˆé‚£ä¹ˆè¯»çº¿ç¨‹ä¹Ÿåº”è¯¥ä¸º0ï¼Œå› ä¸ºä¸Šé¢å·²ç»å¤„ç†c!=0çš„æƒ…å†µï¼‰ï¼Œå¹¶ä¸”å½“å‰çº¿ç¨‹éœ€è¦é˜»å¡žé‚£ä¹ˆå°±è¿”å›žå¤±è´¥ï¼›å¦‚æžœé€šè¿‡CASå¢žåŠ å†™çº¿ç¨‹æ•°å¤±è´¥ä¹Ÿè¿”å›žå¤±è´¥ã€‚ å¦‚æžœc=0,w=0æˆ–è€…c&gt;0,w&gt;0ï¼ˆé‡å…¥ï¼‰ï¼Œåˆ™è®¾ç½®å½“å‰çº¿ç¨‹æˆ–é”çš„æ‹¥æœ‰è€…ï¼Œè¿”å›žæˆåŠŸï¼ tryAcquire()é™¤äº†é‡å…¥æ¡ä»¶ï¼ˆå½“å‰çº¿ç¨‹ä¸ºèŽ·å–äº†å†™é”çš„çº¿ç¨‹ï¼‰ä¹‹å¤–ï¼Œå¢žåŠ äº†ä¸€ä¸ªè¯»é”æ˜¯å¦å­˜åœ¨çš„åˆ¤æ–­ã€‚å¦‚æžœå­˜åœ¨è¯»é”ï¼Œåˆ™å†™é”ä¸èƒ½è¢«èŽ·å–ï¼ŒåŽŸå› åœ¨äºŽï¼šå¿…é¡»ç¡®ä¿å†™é”çš„æ“ä½œå¯¹è¯»é”å¯è§ï¼Œå¦‚æžœå…è®¸è¯»é”åœ¨å·²è¢«èŽ·å–çš„æƒ…å†µä¸‹å¯¹å†™é”çš„èŽ·å–ï¼Œé‚£ä¹ˆæ­£åœ¨è¿è¡Œçš„å…¶ä»–è¯»çº¿ç¨‹å°±æ— æ³•æ„ŸçŸ¥åˆ°å½“å‰å†™çº¿ç¨‹çš„æ“ä½œã€‚ å› æ­¤ï¼Œåªæœ‰ç­‰å¾…å…¶ä»–è¯»çº¿ç¨‹éƒ½é‡Šæ”¾äº†è¯»é”ï¼Œå†™é”æ‰èƒ½è¢«å½“å‰çº¿ç¨‹èŽ·å–ï¼Œè€Œå†™é”ä¸€æ—¦è¢«èŽ·å–ï¼Œåˆ™å…¶ä»–è¯»å†™çº¿ç¨‹çš„åŽç»­è®¿é—®å‡è¢«é˜»å¡žã€‚å†™é”çš„é‡Šæ”¾ä¸ŽReentrantLockçš„é‡Šæ”¾è¿‡ç¨‹åŸºæœ¬ç±»ä¼¼ï¼Œæ¯æ¬¡é‡Šæ”¾å‡å‡å°‘å†™çŠ¶æ€ï¼Œå½“å†™çŠ¶æ€ä¸º0æ—¶è¡¨ç¤ºå†™é”å·²è¢«é‡Šæ”¾ï¼Œç„¶åŽç­‰å¾…çš„è¯»å†™çº¿ç¨‹æ‰èƒ½å¤Ÿç»§ç»­è®¿é—®è¯»å†™é”ï¼ŒåŒæ—¶å‰æ¬¡å†™çº¿ç¨‹çš„ä¿®æ”¹å¯¹åŽç»­çš„è¯»å†™çº¿ç¨‹å¯è§ã€‚ æŽ¥ç€æ˜¯è¯»é”çš„ä»£ç ï¼š 123456789101112131415161718192021222324252627protected final int tryAcquireShared(int unused) &#123; Thread current = Thread.currentThread(); int c = getState(); if (exclusiveCount(c) != 0 &amp;&amp; getExclusiveOwnerThread() != current) return -1; // å¦‚æžœå…¶ä»–çº¿ç¨‹å·²ç»èŽ·å–äº†å†™é”ï¼Œåˆ™å½“å‰çº¿ç¨‹èŽ·å–è¯»é”å¤±è´¥ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ int r = sharedCount(c); if (!readerShouldBlock() &amp;&amp; r &lt; MAX_COUNT &amp;&amp; compareAndSetState(c, c + SHARED_UNIT)) &#123; if (r == 0) &#123; firstReader = current; firstReaderHoldCount = 1; &#125; else if (firstReader == current) &#123; firstReaderHoldCount++; &#125; else &#123; HoldCounter rh = cachedHoldCounter; if (rh == null || rh.tid != getThreadId(current)) cachedHoldCounter = rh = readHolds.get(); else if (rh.count == 0) readHolds.set(rh); rh.count++; &#125; return 1; &#125; return fullTryAcquireShared(current);&#125; å¯ä»¥çœ‹åˆ°åœ¨tryAcquireShared(int unused)æ–¹æ³•ä¸­ï¼Œå¦‚æžœå…¶ä»–çº¿ç¨‹å·²ç»èŽ·å–äº†å†™é”ï¼Œåˆ™å½“å‰çº¿ç¨‹èŽ·å–è¯»é”å¤±è´¥ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚å¦‚æžœå½“å‰çº¿ç¨‹èŽ·å–äº†å†™é”æˆ–è€…å†™é”æœªè¢«èŽ·å–ï¼Œåˆ™å½“å‰çº¿ç¨‹ï¼ˆçº¿ç¨‹å®‰å…¨ï¼Œä¾é CASä¿è¯ï¼‰å¢žåŠ è¯»çŠ¶æ€ï¼ŒæˆåŠŸèŽ·å–è¯»é”ã€‚è¯»é”çš„æ¯æ¬¡é‡Šæ”¾ï¼ˆçº¿ç¨‹å®‰å…¨çš„ï¼Œå¯èƒ½æœ‰å¤šä¸ªè¯»çº¿ç¨‹åŒæ—¶é‡Šæ”¾è¯»é”ï¼‰å‡å‡å°‘è¯»çŠ¶æ€ï¼Œå‡å°‘çš„å€¼æ˜¯â€œ1&lt;&lt;16â€ã€‚æ‰€ä»¥è¯»å†™é”æ‰èƒ½å®žçŽ°è¯»è¯»çš„è¿‡ç¨‹å…±äº«ï¼Œè€Œè¯»å†™ã€å†™è¯»ã€å†™å†™çš„è¿‡ç¨‹äº’æ–¥ã€‚ æ­¤æ—¶ï¼Œæˆ‘ä»¬å†å›žå¤´çœ‹ä¸€ä¸‹äº’æ–¥é”ReentrantLockä¸­å…¬å¹³é”å’Œéžå…¬å¹³é”çš„åŠ é”æºç ï¼š æˆ‘ä»¬å‘çŽ°åœ¨ReentrantLockè™½ç„¶æœ‰å…¬å¹³é”å’Œéžå…¬å¹³é”ä¸¤ç§ï¼Œä½†æ˜¯å®ƒä»¬æ·»åŠ çš„éƒ½æ˜¯ç‹¬äº«é”ã€‚æ ¹æ®æºç æ‰€ç¤ºï¼Œå½“æŸä¸€ä¸ªçº¿ç¨‹è°ƒç”¨lockæ–¹æ³•èŽ·å–é”æ—¶ï¼Œå¦‚æžœåŒæ­¥èµ„æºæ²¡æœ‰è¢«å…¶ä»–çº¿ç¨‹é”ä½ï¼Œé‚£ä¹ˆå½“å‰çº¿ç¨‹åœ¨ä½¿ç”¨CASæ›´æ–°stateæˆåŠŸåŽå°±ä¼šæˆåŠŸæŠ¢å è¯¥èµ„æºã€‚è€Œå¦‚æžœå…¬å…±èµ„æºè¢«å ç”¨ä¸”ä¸æ˜¯è¢«å½“å‰çº¿ç¨‹å ç”¨ï¼Œé‚£ä¹ˆå°±ä¼šåŠ é”å¤±è´¥ã€‚æ‰€ä»¥å¯ä»¥ç¡®å®šReentrantLockæ— è®ºè¯»æ“ä½œè¿˜æ˜¯å†™æ“ä½œï¼Œæ·»åŠ çš„é”éƒ½æ˜¯éƒ½æ˜¯ç‹¬äº«é”ã€‚ é—­é” VS æ­»é” VS æ´»é”é—­é”é—­é”æ˜¯ä¸€ç§åŒæ­¥å·¥å…·ç±»ï¼Œå¯ä»¥å»¶è¿Ÿçº¿ç¨‹çš„è¿›åº¦ç›´åˆ°å…¶åˆ°è¾¾ç»ˆæ­¢çŠ¶æ€ã€‚é—­é”çš„ä½œç”¨ç›¸å½“äºŽä¸€æ‰‡é—¨ï¼šåœ¨é—­é”åˆ°è¾¾ç»“æŸçŠ¶æ€ä¹‹å‰ï¼Œè¿™æ‰‡é—¨ä¸€ç›´æ˜¯å…³é—­çš„ï¼Œå¹¶ä¸”æ²¡æœ‰ä»»ä½•çº¿ç¨‹èƒ½é€šè¿‡ï¼Œå½“åˆ°è¾¾ç»“æŸçŠ¶æ€æ—¶ï¼Œè¿™æ‰‡é—¨ä¼šæ‰“å¼€å…è®¸æ‰€æœ‰çš„çº¿ç¨‹é€šè¿‡ã€‚å½“é—­é”åˆ°è¾¾ç»“æŸçŠ¶æ€åŽï¼Œå°†ä¸ä¼šå†æ”¹å˜çŠ¶æ€ï¼Œå› æ­¤è¿™æ‰‡é—¨å°†æ°¸è¿œä¿æŒæ‰“å¼€çŠ¶æ€ã€‚é—­é”å¯ä»¥ç”¨æ¥ç¡®ä¿æŸäº›æ´»åŠ¨æŒ‡å¯¼å…¶ä»–æ´»åŠ¨éƒ½å®ŒæˆåŽæ‰ç»§ç»­æ‰§è¡Œã€‚CountDownLatchå°±æ˜¯ä¸€ç§çµæ´»çš„é—­é”å®žçŽ°ã€‚ æ­»é”æ­»é”æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå› äº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§äº’ç›¸ç­‰å¾…ï¼ˆé”åµŒå¥—ï¼‰çš„çŽ°è±¡ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œä»–ä»¬éƒ½å°†æ— æ³•æŽ¨è¿›ä¸‹åŽ»ã€‚è¿™æ˜¯ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼Œå› ä¸ºæ­»é”ä¼šè®©ä½ çš„ç¨‹åºæŒ‚èµ·æ— æ³•å®Œæˆä»»åŠ¡ï¼Œæ­»é”çš„å‘ç”Ÿå¿…é¡»æ»¡è¶³ä¸€ä¸‹4ä¸ªæ¡ä»¶ï¼š äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ã€‚ è¯·æ±‚ä¸Žä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡žæ—¶ï¼Œå¯¹å·²èŽ·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚ ä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹å·²èŽ·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤ºã€‚ å¾ªçŽ¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æŽ¥çš„å¾ªçŽ¯ç­‰å¾…èµ„æºå…³ç³»ã€‚ é¿å…æ­»é”æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯é˜»æ­¢å¾ªçŽ¯ç­‰å¾…æ¡ä»¶ï¼Œå°†ç³»ç»Ÿä¸­æ‰€æœ‰çš„èµ„æºè®¾ç½®æ ‡å¿—ä½ã€æŽ’åºï¼Œè§„å®šæ‰€æœ‰çš„è¿›ç¨‹ç”³è¯·èµ„æºå¿…é¡»ä»¥ä¸€å®šçš„é¡ºåºåšæ“ä½œæ¥é¿å…æ­»é”ã€‚ æ´»é”LiveLockæ˜¯ä¸€ç§å½¢å¼æ´»è·ƒæ€§é—®é¢˜ï¼Œè¯¥é—®é¢˜å°½ç®¡ä¸ä¼šé˜»å¡žçº¿ç¨‹ï¼Œä½†ä¹Ÿä¸èƒ½ç»§ç»­æ‰§è¡Œï¼Œå› ä¸ºçº¿ç¨‹å°†ä¸æ–­é‡å¤æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œè€Œä¸”æ€»ä¼šå¤±è´¥ã€‚æ´»é”é€šå¸¸å‘é€åœ¨å¤„ç†äº‹åŠ¡æ¶ˆæ¯çš„åº”ç”¨ç¨‹åºä¸­ï¼šå¦‚æžœä¸èƒ½æˆåŠŸåœ°å¤„ç†æŸä¸ªæ¶ˆæ¯ï¼Œé‚£ä¹ˆæ¶ˆæ¯å¤„ç†æœºåˆ¶å°†å›žæ»šæ•´ä¸ªäº‹åŠ¡ï¼Œå¹¶å°†å®ƒé‡æ–°æ”¾åˆ°é˜Ÿåˆ—çš„å¼€å¤´ï¼šå¦‚æžœä¸èƒ½æˆåŠŸåœ°å¤„ç†æŸä¸ªæ¶ˆæ¯ï¼Œé‚£ä¹ˆæ¶ˆæ¯å¤„ç†æœºåˆ¶å°†å›žæ»šæ•´ä¸ªäº‹åŠ¡ï¼Œå¹¶å°†å®ƒé‡æ–°æ”¾åˆ°é˜Ÿåˆ—çš„å¼€å¤´ã€‚å¦‚æžœæ¶ˆæ¯å¤„ç†å™¨åœ¨å¤„ç†æŸç§ç‰¹å®šç±»åž‹çš„æ¶ˆæ¯æ—¶å­˜åœ¨é”™è¯¯å¹¶å¯¼è‡´å®ƒå¤±è´¥ï¼Œé‚£ä¹ˆæ¯å½“è¿™ä¸ªæ¶ˆæ¯ä»Žé˜Ÿåˆ—ä¸­å–å‡ºå¹¶ä¼ é€’åˆ°å­˜åœ¨é”™è¯¯çš„å¤„ç†å™¨æ—¶ï¼Œéƒ½ä¼šå‘ç”Ÿäº‹åŠ¡å›žæ»šã€‚ç”±äºŽè¿™æ¡æ¶ˆæ¯åˆè¢«æ”¾å›žåˆ°é˜Ÿåˆ—å¼€å¤´ï¼Œå› æ­¤å¤„ç†å™¨å°†è¢«åå¤è°ƒç”¨ï¼Œå¹¶è¿”å›žç›¸åŒçš„ç»“æžœã€‚ æ€»ç»“æœ¬æ–‡Javaä¸­å¸¸ç”¨çš„é”ä»¥åŠå¸¸è§çš„é”çš„æ¦‚å¿µè¿›è¡Œäº†åŸºæœ¬ä»‹ç»ï¼Œå¹¶ä»Žæºç ä»¥åŠå®žé™…åº”ç”¨çš„è§’åº¦è¿›è¡Œäº†å¯¹æ¯”åˆ†æžã€‚é™äºŽç¯‡å¹…ä»¥åŠä¸ªäººæ°´å¹³ï¼Œæ²¡æœ‰åœ¨æœ¬ç¯‡æ–‡ç« ä¸­å¯¹æ‰€æœ‰å†…å®¹è¿›è¡Œæ·±å±‚æ¬¡çš„è®²è§£ã€‚åŽç»­æˆ‘æœ¬äººå°†ä¼šå¯¹Javaçš„é”è¿›è¡Œä¾æ¬¡è®²è§£ã€‚ å…¶å®žJavaæœ¬èº«å·²ç»å¯¹é”æœ¬èº«è¿›è¡Œäº†è‰¯å¥½çš„å°è£…ï¼Œé™ä½Žäº†æˆ‘ä»¬åœ¨å¹³æ—¶å·¥ä½œä¸­çš„ä½¿ç”¨éš¾åº¦ã€‚ä½†æ˜¯æˆ‘ä»¬ä¹Ÿéœ€è¦ç†Ÿæ‚‰é”çš„åº•å±‚åŽŸç†ï¼Œä¸åŒåœºæ™¯ä¸‹é€‰æ‹©æœ€é€‚åˆçš„é”ã€‚è€Œä¸”æºç ä¸­çš„æ€è·¯éƒ½æ˜¯éžå¸¸å¥½çš„æ€è·¯ï¼Œä¹Ÿæ˜¯å€¼å¾—å¤§å®¶åŽ»å­¦ä¹ å’Œå€Ÿé‰´çš„ã€‚ å‚è€ƒæ–‡çŒ® ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆç¬¬2ç‰ˆï¼‰ã€‹å‘¨å¿—æ˜Žè‘— ã€ŠJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹æ–¹è…¾é£žç­‰è‘— Java CAS åŽŸç†å‰–æž Javaä¸­çš„é” Java synchronizedåŽŸç†æ€»ç»“ Javaå¹¶å‘â€”å…³é”®å­—synchronizedè§£æž èŠèŠå¹¶å‘ï¼ˆäºŒï¼‰â€”Java SE1.6ä¸­çš„Synchronized æ·±å…¥ç†è§£è¯»å†™é”â€”ReadWriteLockæºç åˆ†æž ã€JUCã€‘JDK1.8æºç åˆ†æžä¹‹ReentrantReadWriteLock Javaå¤šçº¿ç¨‹ï¼ˆåï¼‰ä¹‹ReentrantReadWriteLockæ·±å…¥åˆ†æž Javaâ€“è¯»å†™é”çš„å®žçŽ°åŽŸç†\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"slug\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"permalink\":\"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/\"}]},{\"title\":\"æ·±å…¥åˆ†æžHashMapæºç \",\"slug\":\"æ·±å…¥åˆ†æžHashMapæºç \",\"date\":\"2019-04-01T12:47:22.000Z\",\"updated\":\"2019-05-29T14:03:52.000Z\",\"comments\":true,\"path\":\"2019/04/01/æ·±å…¥åˆ†æžHashMapæºç /\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/04/01/æ·±å…¥åˆ†æžHashMapæºç /\",\"excerpt\":\"\",\"text\":\"Mapè¿™ç§Key-Valueæ ¼å¼çš„æ•°æ®ç»“æž„åœ¨æ—¥å¸¸å¼€å‘ä¸­æ˜¯éžå¸¸çš„å¸¸è§ï¼Œå¤§éƒ¨åˆ†çš„é«˜çº§ç¼–ç¨‹è¯­è¨€éƒ½æœ‰Mapç±»åž‹ï¼ŒMapç±»åž‹å¸¸ç”¨äºŽåœ¨å†…å­˜ä¸­å­˜å–æ•°æ®ã€‚ åœ¨Javaä¸­ï¼ŒHashMapæ˜¯Javaç¨‹åºå‘˜ä½¿ç”¨é¢‘çŽ‡æœ€é«˜çš„ç”¨äºŽæ˜ å°„(é”®å€¼å¯¹)å¤„ç†çš„æ•°æ®ç±»åž‹ã€‚éšç€JDKï¼ˆJava Developmet Kitï¼‰ç‰ˆæœ¬çš„æ›´æ–°ï¼ŒJDK1.8å¯¹HashMapåº•å±‚çš„å®žçŽ°è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä¾‹å¦‚å¼•å…¥çº¢é»‘æ ‘çš„æ•°æ®ç»“æž„å’Œæ‰©å®¹çš„ä¼˜åŒ–ç­‰ã€‚æœ¬æ–‡æ·±å…¥æŽ¢è®¨JDK1.8çš„HashMapçš„ç»“æž„å®žçŽ°å’ŒåŠŸèƒ½åŽŸç†ã€‚ Javaä¸ºæ•°æ®ç»“æž„ä¸­çš„æ˜ å°„å®šä¹‰äº†ä¸€ä¸ªæŽ¥å£java.util.Mapï¼Œæ­¤æŽ¥å£ä¸»è¦æœ‰å››ä¸ªå¸¸ç”¨çš„å®žçŽ°ç±»ï¼Œåˆ†åˆ«æ˜¯HashMapã€Hashtableã€LinkedHashMapå’ŒTreeMapï¼Œç±»ç»§æ‰¿å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¸‹é¢é’ˆå¯¹å„ä¸ªå®žçŽ°ç±»çš„ç‰¹ç‚¹åšä¸€äº›è¯´æ˜Žï¼š HashMapï¼šå®ƒæ ¹æ®é”®çš„hashCodeå€¼å­˜å‚¨æ•°æ®ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹å¯ä»¥ç›´æŽ¥å®šä½åˆ°å®ƒçš„å€¼ï¼Œå› è€Œå…·æœ‰å¾ˆå¿«çš„è®¿é—®é€Ÿåº¦ï¼Œä½†éåŽ†é¡ºåºå´æ˜¯ä¸ç¡®å®šçš„ã€‚ HashMapæœ€å¤šåªå…è®¸ä¸€æ¡è®°å½•çš„é”®ä¸ºnullï¼Œå…è®¸å¤šæ¡è®°å½•çš„å€¼ä¸ºnullã€‚HashMapéžçº¿ç¨‹å®‰å…¨ï¼Œå³ä»»ä¸€æ—¶åˆ»å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶å†™HashMapï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚å¦‚æžœéœ€è¦æ»¡è¶³çº¿ç¨‹å®‰å…¨ï¼Œå¯ä»¥ç”¨ Collectionsçš„synchronizedMapæ–¹æ³•ä½¿HashMapå…·æœ‰çº¿ç¨‹å®‰å…¨çš„èƒ½åŠ›ï¼Œæˆ–è€…ä½¿ç”¨ConcurrentHashMapã€‚ Hashtableï¼šHashtableæ˜¯é—ç•™ç±»ï¼Œå¾ˆå¤šæ˜ å°„çš„å¸¸ç”¨åŠŸèƒ½ä¸ŽHashMapç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯å®ƒæ‰¿è‡ªDictionaryç±»ï¼Œå¹¶ä¸”æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä»»ä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å†™Hashtableï¼Œå¹¶å‘æ€§ä¸å¦‚ConcurrentHashMapï¼Œå› ä¸ºConcurrentHashMapå¼•å…¥äº†åˆ†æ®µé”ï¼ˆJDK8è¿˜æœ‰ä¼˜åŒ–ï¼‰ã€‚Hashtableä¸å»ºè®®åœ¨æ–°ä»£ç ä¸­ä½¿ç”¨ï¼Œä¸éœ€è¦çº¿ç¨‹å®‰å…¨çš„åœºåˆå¯ä»¥ç”¨HashMapæ›¿æ¢ï¼Œéœ€è¦çº¿ç¨‹å®‰å…¨çš„åœºåˆå¯ä»¥ç”¨ConcurrentHashMapæ›¿æ¢ã€‚ LinkedHashMapï¼šLinkedHashMapæ˜¯HashMapçš„ä¸€ä¸ªå­ç±»ï¼Œä¿å­˜äº†è®°å½•çš„æ’å…¥é¡ºåºï¼Œåœ¨ç”¨IteratoréåŽ†LinkedHashMapæ—¶ï¼Œå…ˆå¾—åˆ°çš„è®°å½•è‚¯å®šæ˜¯å…ˆæ’å…¥çš„ï¼Œä¹Ÿå¯ä»¥åœ¨æž„é€ æ—¶å¸¦å‚æ•°ï¼ŒæŒ‰ç…§è®¿é—®æ¬¡åºæŽ’åºã€‚ TreeMapï¼šTreeMapå®žçŽ°SortedMapæŽ¥å£ï¼Œèƒ½å¤ŸæŠŠå®ƒä¿å­˜çš„è®°å½•æ ¹æ®é”®æŽ’åºï¼Œé»˜è®¤æ˜¯æŒ‰é”®å€¼çš„å‡åºæŽ’åºï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæŽ’åºçš„æ¯”è¾ƒå™¨ï¼Œå½“ç”¨IteratoréåŽ†TreeMapæ—¶ï¼Œå¾—åˆ°çš„è®°å½•æ˜¯æŽ’è¿‡åºçš„ã€‚å¦‚æžœä½¿ç”¨æŽ’åºçš„æ˜ å°„ï¼Œå»ºè®®ä½¿ç”¨TreeMapã€‚åœ¨ä½¿ç”¨TreeMapæ—¶ï¼Œkeyå¿…é¡»å®žçŽ°ComparableæŽ¥å£æˆ–è€…åœ¨æž„é€ TreeMapä¼ å…¥è‡ªå®šä¹‰çš„Comparatorï¼Œå¦åˆ™ä¼šåœ¨è¿è¡Œæ—¶æŠ›å‡ºjava.lang.ClassCastExceptionç±»åž‹çš„å¼‚å¸¸ã€‚ å¯¹äºŽä¸Šè¿°å››ç§Mapç±»åž‹çš„ç±»ï¼Œè¦æ±‚æ˜ å°„ä¸­çš„keyæ˜¯ä¸å¯å˜å¯¹è±¡ã€‚ä¸å¯å˜å¯¹è±¡æ˜¯è¯¥å¯¹è±¡åœ¨åˆ›å»ºåŽå®ƒçš„å“ˆå¸Œå€¼ä¸ä¼šè¢«æ”¹å˜ã€‚å¦‚æžœå¯¹è±¡çš„å“ˆå¸Œå€¼å‘ç”Ÿå˜åŒ–ï¼ŒMapå¯¹è±¡å¾ˆå¯èƒ½å°±å®šä½ä¸åˆ°æ˜ å°„çš„ä½ç½®äº†ã€‚ é€šè¿‡ä¸Šé¢çš„æ¯”è¾ƒï¼Œæˆ‘ä»¬çŸ¥é“äº†HashMapæ˜¯Javaçš„Mapå®¶æ—ä¸­ä¸€ä¸ªæ™®é€šæˆå‘˜ï¼Œé‰´äºŽå®ƒå¯ä»¥æ»¡è¶³å¤§å¤šæ•°åœºæ™¯çš„ä½¿ç”¨æ¡ä»¶ï¼Œæ‰€ä»¥æ˜¯ä½¿ç”¨é¢‘åº¦æœ€é«˜çš„ä¸€ä¸ªã€‚ä¸‹æ–‡æˆ‘ä»¬ä¸»è¦ç»“åˆæºç ï¼Œä»Žå­˜å‚¨ç»“æž„ã€å¸¸ç”¨æ–¹æ³•åˆ†æžã€æ‰©å®¹ä»¥åŠå®‰å…¨æ€§ç­‰æ–¹é¢æ·±å…¥è®²è§£HashMapçš„å·¥ä½œåŽŸç†ã€‚ æžæ¸…æ¥šHashMapï¼Œé¦–å…ˆéœ€è¦çŸ¥é“HashMapæ˜¯ä»€ä¹ˆï¼Œå³å®ƒçš„å­˜å‚¨ç»“æž„-å­—æ®µï¼›å…¶æ¬¡å¼„æ˜Žç™½å®ƒèƒ½å¹²ä»€ä¹ˆï¼Œå³å®ƒçš„åŠŸèƒ½å®žçŽ°-æ–¹æ³•ã€‚ä¼—æ‰€å‘¨çŸ¥ HashMap åº•å±‚æ˜¯åŸºäºŽæ•°ç»„+é“¾è¡¨ç»„æˆçš„ï¼Œä¸‹é¢æˆ‘ä»¬é’ˆå¯¹è¿™ä¸¤ä¸ªæ–¹é¢è¯¦ç»†å±•å¼€è®²è§£ã€‚ æ•°æ®ç»“æž„åœ¨JDK1.7ä¹‹å‰çš„HashMapçš„ç»“æž„ä¸­ï¼Œå…¶å®žå­˜åœ¨ä¸€ä¸ªå¾ˆæ˜Žæ˜¾çš„ç¼ºé™·å°±æ˜¯: å½“ Hash å†²çªä¸¥é‡æ—¶ï¼Œåœ¨æ¡¶ä¸Šå½¢æˆçš„é“¾è¡¨ä¼šå˜çš„è¶Šæ¥è¶Šé•¿ï¼Œè¿™æ ·åœ¨æŸ¥è¯¢æ—¶çš„æ•ˆçŽ‡å°±ä¼šè¶Šæ¥è¶Šä½Žï¼›æ—¶é—´å¤æ‚åº¦ä¸º O(N)ã€‚ JDK8é‡ç‚¹ä¼˜åŒ–äº†è¿™ä¸ªæŸ¥è¯¢æ•ˆçŽ‡ï¼Œåœ¨åŽŸå…ˆçš„æ•°ç»„+é“¾è¡¨ä¸Šå†å¢žåŠ çº¢é»‘æ ‘ã€‚å½“é“¾è¡¨å¤§å°è¾¾åˆ°ä¸€å®šçš„é˜ˆå€¼(HashMapæ˜¯8)æ—¶ï¼Œä¼šè‡ªåŠ¨è½¬æ¢ä¸ºçº¢é»‘æ ‘çš„æ•°æ®ç»“æž„ã€‚ä¿®æ”¹ä¸ºçº¢é»‘æ ‘ä¹‹åŽæŸ¥è¯¢æ•ˆçŽ‡å³æ—¶é—´å¤æ‚åº¦ç›´æŽ¥æé«˜åˆ°äº† O(logn)ã€‚ æºç åˆ†æžæˆå‘˜å˜é‡123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108/** * é»˜è®¤ä½æ¡¶æ•°ç»„åˆå§‹å®¹é‡,å¿…é¡»æ˜¯2çš„å¹‚,è¿™é‡Œé»˜è®¤æ˜¯16 * The default initial capacity - MUST be a power of two. */static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; // aka 16/** * ä½æ¡¶æ•°ç»„å¤§å°çš„æœ€å¤§å€¼ã€‚æž„é€ å‚æ•°çš„å¤§å°å¿…é¡»æ˜¯2çš„å‡ æ¬¡å¹‚å¹¶ä¸”å°äºŽç­‰äºŽ1&lt;&lt;30 * The maximum capacity, used if a higher value is implicitly specified * by either of the constructors with arguments. * MUST be a power of two &lt;= 1&lt;&lt;30. */static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30;/** * é»˜è®¤è´Ÿè½½å› å­æ˜¯0.75ï¼Œå¯ä»¥åœ¨æž„é€ å‚æ•°é‡Œè®¾ç½® * The load factor used when none specified in constructor. */static final float DEFAULT_LOAD_FACTOR = 0.75f;/** * ä¸€ä¸ªæ¡¶ä¸­çš„binçš„å­˜å‚¨æ–¹å¼ç”±é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘çš„é˜ˆå€¼ï¼Œå½“é“¾è¡¨å¤§å°è¶…è¿‡TREEIFY_THRESHOLDçš„æ—¶å€™è½¬æ¢ä¸ºçº¢é»‘æ ‘ * The bin count threshold for using a tree rather than list for a * bin. Bins are converted to trees when adding an element to a * bin with at least this many nodes. The value must be greater * than 2 and should be at least 8 to mesh with assumptions in * tree removal about conversion back to plain bins upon * shrinkage. */static final int TREEIFY_THRESHOLD = 8;/** * çº¢é»‘æ•°è½¬æ¢ä¸ºé“¾è¡¨(æ”¶ç¼©æœºåˆ¶)ï¼Œå½“æ‰§è¡Œresizeæ“ä½œæ—¶,æ¡¶ä¸­binçš„æ•°é‡å°‘äºŽUNTREEIFY_THRESHOLDæ—¶6æ—¶ï¼Œæ­¤æ—¶æ”¶ * ç¼©ä¸ºæ™®é€šé“¾è¡¨ï¼Œæé«˜æŸ¥è¯¢æ•ˆçŽ‡ * The bin count threshold for untreeifying a (split) bin during a * resize operation. Should be less than TREEIFY_THRESHOLD, and at * most 6 to mesh with shrinkage detection under removal. */static final int UNTREEIFY_THRESHOLD = 6;/** * å½“æ¡¶ä¸­binè¢«æ ‘åŒ–æ—¶æœ€å°çš„hashè¡¨å®¹é‡.(è‹¥æ²¡æœ‰è¾¾åˆ°è¿™ä¸ªé˜ˆå€¼,å³hashè¡¨å®¹é‡å°äºŽMIN_TREEIFY_CAPACITY * å½“æ¡¶ä¸­binæ•°é‡å¤ªå¤šæ—¶ä¼šæ‰§è¡Œresizeæ‰©å®¹æ“ä½œ).è¿™ä¸ªMIN_TREEIFY_CAPACITYçš„å€¼è‡³å°‘TREEIFY_THRESHOLD * çš„4å€ã€‚ * The smallest table capacity for which bins may be treeified. * (Otherwise the table is resized if too many nodes in a bin.) * Should be at least 4 * TREEIFY_THRESHOLD to avoid conflicts * between resizing and treeification thresholds. */static final int MIN_TREEIFY_CAPACITY = 64;/** * ä½æ¡¶æ•°ç»„ï¼Œå³Hashè¡¨ï¼Œå…¶å¤§å°æ€»æ˜¯2çš„å‡ æ¬¡å¹‚ï¼ŒJDK1.7ç±»åž‹æ˜¯Entry&lt;K,V&gt;[],JDK8ä¼˜åŒ–æˆNode&lt;K,V&gt;[] * The table, initialized on first use, and resized as * necessary. When allocated, length is always a power of two. * (We also tolerate length zero in some operations to allow * bootstrapping mechanics that are currently not needed.) */transient Node&lt;K,V&gt;[] table;/** * ç¼“å­˜çš„entrySetï¼Œå³é”®å€¼å¯¹æ˜ å°„å¯¹è±¡ï¼Œè¿™é‡Œä½¿ç”¨äº†AbstractMapçš„keyset()å’Œvalues() * Holds cached entrySet(). Note that AbstractMap fields are used * for keySet() and values(). */transient Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet;/** * å½“å‰mapä¸­åŒ…å«çš„key-valueæ•°ï¼Œå³mapçš„å¤§å° * The number of key-value mappings contained in this map. */transient int size;/** * * HashMapçš„ä¿®æ”¹æ¬¡æ•°ï¼Œåœ¨è¿­ä»£å™¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ä¼šå°†è¿™ä¸ªå€¼èµ‹ç»™è¿­ä»£å™¨çš„expectedModCountï¼Œ * æ¯”å¦‚è¿­ä»£å™¨è¿­ä»£æ—¶å€™æˆ‘ä»¬æ‰‹åŠ¨åˆ é™¤å…ƒç´ æ—¶ï¼ŒmodCountä¼šå¢žåŠ è¿™ä¸ªå€¼ã€‚åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œåˆ¤æ–­modCountå’Œ * expectedModCountæ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰åˆ™æŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ * Fail-Fastæœºåˆ¶ã€‚åŒæ ·ï¼ŒArrayList,LinkedListä¹Ÿæœ‰è¿™ä¸ªå­—æ®µã€‚ * å…·ä½“è¯¦æƒ…è¯·å‚ç…§HashMapæºç ä¸‹çš„æŠ½è±¡è¿­ä»£ç±»HashIteratorï¼Œ * The number of times this HashMap has been structurally modified * Structural modifications are those that change the number of mappings in * the HashMap or otherwise modify its internal structure (e.g., * rehash). This field is used to make iterators on Collection-views of * the HashMap fail-fast. (See ConcurrentModificationException). */transient int modCount;/** * è¦æ ¹æ®thresholdçš„é˜ˆå€¼æ¥åˆ¤æ–­mapæ˜¯å¦è¦æ‰©å®¹ï¼Œå³threshold = capacity * load factorï¼Œ * ç¬¬ä¸€æ¬¡æ‰©å®¹ä¸º16 * 0.75 = 12 ï¼Œ å½“mapçš„æ•°ç»„å®¹é‡ä¸º12çš„æ—¶ï¼Œæ­¤æ—¶éœ€è¦ç»§ç»­æ‰©å®¹ã€‚ * The next size value at which to resize (capacity * load factor). * * @serial */// (The javadoc description is true upon serialization.// Additionally, if the table array has not been allocated, this// field holds the initial array capacity, or zero signifying// DEFAULT_INITIAL_CAPACITY.)int threshold;/** * hash tableçš„é»˜è®¤è´Ÿè½½å› å­ï¼Œé»˜è®¤æ˜¯DEFAULT_LOAD_FACTORï¼Œå³0.75 * The load factor for the hash table. * @serial */final float loadFactor; æ•°æ®ç»“æž„Nodeä½æ¡¶èŠ‚ç‚¹1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859/** * åŸºæœ¬çš„hashæ¡¶èŠ‚ç‚¹ï¼Œå³æ•°ç»„å­˜æ”¾çš„å…ƒç´ ç±»åž‹ï¼Œå®žçŽ°äº†Map.Entry&lt;K,V&gt;æŽ¥å£ã€‚ * JDK1.7çš„ç»“æž„æ˜¯Map.Entry&lt;K, V&gt;çš„å­ç±»HashEntry&lt;K, V&gt; * Basic hash bin node, used for most entries. (See below for * TreeNode subclass, and in LinkedHashMap for its Entry subclass.) */static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; &#123; // keyçš„å“ˆå¸Œå€¼ï¼Œç”¨æ¥å®šä½æ•°ç»„ç´¢å¼•ä½ç½® final int hash; // mapçš„keyï¼Œä¸å¯ä¸å˜å¯¹è±¡ï¼Œä¸€æ—¦è®¾ç½®æ–°Keyï¼Œä¸å¯æ›´æ”¹keyçš„å€¼ï¼ŒHashMapä¸­å¯å­˜nullå€¼ final K key; // mapçš„valueï¼Œä¹Ÿå¯ä»¥å­˜æ”¾nullå€¼ã€‚keyç›¸åŒåˆ™è¦†ç›–value, V value; // é“¾è¡¨çš„ä¸‹ä¸€ä¸ªnode Node&lt;K,V&gt; next; // æž„é€ å‡½æ•° Node(int hash, K key, V value, Node&lt;K,V&gt; next) &#123; this.hash = hash; this.key = key; this.value = value; this.next = next; &#125; // èŽ·å–key public final K getKey() &#123; return key; &#125; // èŽ·å–value public final V getValue() &#123; return value; &#125; // é‡å†™toString public final String toString() &#123; return key + \\\"=\\\" + value; &#125; // é‡å†™hashCodeï¼Œnodeçš„hashCodeä¸ºkeyçš„hashCodeä¸Žvalueçš„hashCodeçš„å¼‚æˆ–ç»“æžœ public final int hashCode() &#123; return Objects.hashCode(key) ^ Objects.hashCode(value); &#125; // è®¾ç½®æ–°çš„valueï¼Œè¿”å›žæ—§çš„value public final V setValue(V newValue) &#123; V oldValue = value; value = newValue; return oldValue; &#125; // ä¸€èˆ¬é‡å†™äº†hashCodeæ–¹æ³•ï¼Œequalsä¹Ÿä¼šé‡å†™ã€‚ public final boolean equals(Object o) &#123; // å¼•ç”¨éƒ½æ˜¯ä¸€ä¸ªï¼Œåˆ™åˆ¤æ–­æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œç›´æŽ¥è¿”å›žtrue if (o == this) return true; // åˆ¤æ–­æ˜¯å¦æ˜¯Map.EntryåŒä¸€ç±»åž‹ï¼Œè‹¥ç±»åž‹ä¸åŒï¼Œåˆ™è¿”å›žfalse if (o instanceof Map.Entry) &#123; // è‹¥æ˜¯ Map.Entryç±»åž‹ï¼Œè¿›è¡Œå‘ä¸‹è½¬åž‹ã€‚ Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o; // å¦‚æžœä¸¤ä¸ªå¯¹è±¡çš„keyå’ŒvalueåŒæ—¶éƒ½ç›¸ç­‰ï¼Œåˆ™è®¤ä¸ºæ˜¯ç›¸ç­‰ï¼Œè¿”å›žtrue if (Objects.equals(key, e.getKey()) &amp;&amp; Objects.equals(value, e.getValue())) return true; &#125; return false; &#125;&#125; TreeNodeçº¢é»‘æ ‘123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133/** * çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œç»§æ‰¿LinkedHashMap.Entry&lt;K,V&gt; * Entry for Tree bins. Extends LinkedHashMap.Entry (which in turn * extends Node) so can be used as extension of either regular or * linked node. */static final class TreeNode&lt;K,V&gt; extends LinkedHashMap.Entry&lt;K,V&gt; &#123; TreeNode&lt;K,V&gt; parent; // red-black tree links TreeNode&lt;K,V&gt; left; TreeNode&lt;K,V&gt; right; TreeNode&lt;K,V&gt; prev; // needed to unlink next upon deletion boolean red; TreeNode(int hash, K key, V val, Node&lt;K,V&gt; next) &#123; super(hash, key, val, next); &#125; /** * Returns root of tree containing this node. */ final TreeNode&lt;K,V&gt; root() &#123; for (TreeNode&lt;K,V&gt; r = this, p;;) &#123; if ((p = r.parent) == null) return r; r = p; &#125; &#125; /** * æŠŠçº¢é»‘æ ‘çš„æ ¹èŠ‚ç‚¹è®¾ä¸º å…¶æ‰€åœ¨çš„æ•°ç»„æ§½ çš„ç¬¬ä¸€ä¸ªå…ƒç´  * é¦–å…ˆæ˜Žç¡®ï¼šTreeNodeæ—¢æ˜¯ä¸€ä¸ªçº¢é»‘æ ‘ç»“æž„ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåŒé“¾è¡¨ç»“æž„ * è¿™ä¸ªæ–¹æ³•é‡Œåšçš„äº‹æƒ…ï¼Œå°±æ˜¯ä¿è¯æ ‘çš„æ ¹èŠ‚ç‚¹ä¸€å®šä¹Ÿè¦æˆä¸ºé“¾è¡¨çš„é¦–èŠ‚ç‚¹ */ static &lt;K,V&gt; void moveRootToFront(Node&lt;K,V&gt;[] tab, TreeNode&lt;K,V&gt; root) &#123; int n; if (root != null &amp;&amp; tab != null &amp;&amp; (n = tab.length) &gt; 0) &#123; // æ ¹èŠ‚ç‚¹ä¸ä¸ºç©º å¹¶ä¸” HashMapçš„å…ƒç´ æ•°ç»„ä¸ä¸ºç©º int index = (n - 1) &amp; root.hash; // æ ¹æ®æ ¹èŠ‚ç‚¹çš„Hashå€¼ å’Œ HashMapçš„å…ƒç´ æ•°ç»„é•¿åº¦ å–å¾—æ ¹èŠ‚ç‚¹åœ¨æ•°ç»„ä¸­çš„ä½ç½® TreeNode&lt;K,V&gt; first = (TreeNode&lt;K,V&gt;)tab[index]; // é¦–å…ˆå–å¾—è¯¥ä½ç½®ä¸Šçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¯¹è±¡ if (root != first) &#123; // å¦‚æžœè¯¥èŠ‚ç‚¹å¯¹è±¡ ä¸Ž æ ¹èŠ‚ç‚¹å¯¹è±¡ ä¸åŒ Node&lt;K,V&gt; rn; // å®šä¹‰æ ¹èŠ‚ç‚¹çš„åŽä¸€ä¸ªèŠ‚ç‚¹ tab[index] = root; // æŠŠå…ƒç´ æ•°ç»„indexä½ç½®çš„å…ƒç´ æ›¿æ¢ä¸ºæ ¹èŠ‚ç‚¹å¯¹è±¡ TreeNode&lt;K,V&gt; rp = root.prev; // èŽ·å–æ ¹èŠ‚ç‚¹å¯¹è±¡çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ if ((rn = root.next) != null) // å¦‚æžœåŽèŠ‚ç‚¹ä¸ä¸ºç©º ((TreeNode&lt;K,V&gt;)rn).prev = rp; // rootåŽèŠ‚ç‚¹çš„å‰èŠ‚ç‚¹ æŒ‡å‘åˆ° rootçš„å‰èŠ‚ç‚¹ï¼Œç›¸å½“äºŽæŠŠrootä»Žé“¾è¡¨ä¸­æ‘˜é™¤ if (rp != null) // å¦‚æžœrootçš„å‰èŠ‚ç‚¹ä¸ä¸ºç©º rp.next = rn; // rootå‰èŠ‚ç‚¹çš„åŽèŠ‚ç‚¹ æŒ‡å‘åˆ° rootçš„åŽèŠ‚ç‚¹ if (first != null) // å¦‚æžœæ•°ç»„è¯¥ä½ç½®ä¸ŠåŽŸæ¥çš„å…ƒç´ ä¸ä¸ºç©º first.prev = root; // è¿™ä¸ªåŽŸæœ‰çš„å…ƒç´ çš„ å‰èŠ‚ç‚¹ æŒ‡å‘åˆ° rootï¼Œç›¸å½“äºŽrootç›®å‰ä½äºŽé“¾è¡¨é¦–ä½ root.next = first; // åŽŸæ¥çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çŽ°åœ¨ä½œä¸ºrootçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå˜æˆäº†ç¬¬äºŒä¸ªèŠ‚ç‚¹ root.prev = null; // é¦–èŠ‚ç‚¹æ²¡æœ‰å‰èŠ‚ç‚¹ &#125; /* * è¿™ä¸€æ­¥æ˜¯é˜²å¾¡æ€§çš„ç¼–ç¨‹ * æ ¡éªŒTreeNodeå¯¹è±¡æ˜¯å¦æ»¡è¶³çº¢é»‘æ ‘å’ŒåŒé“¾è¡¨çš„ç‰¹æ€§ * å¦‚æžœè¿™ä¸ªæ–¹æ³•æ ¡éªŒä¸é€šè¿‡ï¼šå¯èƒ½æ˜¯å› ä¸ºç”¨æˆ·ç¼–ç¨‹å¤±è¯¯ï¼Œç ´åäº†ç»“æž„ï¼ˆä¾‹å¦‚ï¼šå¹¶å‘åœºæ™¯ä¸‹ï¼‰ï¼›ä¹Ÿå¯èƒ½æ˜¯TreeNode * çš„å®žçŽ°æœ‰é—®é¢˜ï¼ˆè¿™ä¸ªæ˜¯ç†è®ºä¸Šçš„ä»¥é˜²ä¸‡ä¸€ï¼‰ï¼› */ assert checkInvariants(root); &#125; &#125; /** * å‚æ•°ä¸ºHashMapçš„å…ƒç´ æ•°ç»„ */ final void treeify(Node&lt;K,V&gt;[] tab) &#123; // å®šä¹‰æ ‘çš„æ ¹èŠ‚ç‚¹ TreeNode&lt;K,V&gt; root = null; // éåŽ†é“¾è¡¨ï¼ŒxæŒ‡å‘å½“å‰èŠ‚ç‚¹ã€nextæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ for (TreeNode&lt;K,V&gt; x = this, next; x != null; x = next) &#123; next = (TreeNode&lt;K,V&gt;)x.next; // ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ x.left = x.right = null; // è®¾ç½®å½“å‰èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹ä¸ºç©º if (root == null) &#123; // å¦‚æžœè¿˜æ²¡æœ‰æ ¹èŠ‚ç‚¹ x.parent = null; // å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹è®¾ä¸ºç©º x.red = false; // å½“å‰èŠ‚ç‚¹çš„çº¢è‰²å±žæ€§è®¾ä¸ºfalseï¼ˆæŠŠå½“å‰èŠ‚ç‚¹è®¾ä¸ºé»‘è‰²ï¼‰ root = x; // æ ¹èŠ‚ç‚¹æŒ‡å‘åˆ°å½“å‰èŠ‚ç‚¹ &#125; else &#123; // å¦‚æžœå·²ç»å­˜åœ¨æ ¹èŠ‚ç‚¹äº† K k = x.key; // å–å¾—å½“å‰é“¾è¡¨èŠ‚ç‚¹çš„key int h = x.hash; // å–å¾—å½“å‰é“¾è¡¨èŠ‚ç‚¹çš„hashå€¼ Class&lt;?&gt; kc = null; // å®šä¹‰keyæ‰€å±žçš„Class for (TreeNode&lt;K,V&gt; p = root;;) &#123; // ä»Žæ ¹èŠ‚ç‚¹å¼€å§‹éåŽ†ï¼Œæ­¤éåŽ†æ²¡æœ‰è®¾ç½®è¾¹ç•Œï¼Œåªèƒ½ä»Žå†…éƒ¨è·³å‡º // GOTO1 int dir, ph; // dir æ ‡è¯†æ–¹å‘ï¼ˆå·¦å³ï¼‰ã€phæ ‡è¯†å½“å‰æ ‘èŠ‚ç‚¹çš„hashå€¼ K pk = p.key; // å½“å‰æ ‘èŠ‚ç‚¹çš„key if ((ph = p.hash) &gt; h) // å¦‚æžœå½“å‰æ ‘èŠ‚ç‚¹hashå€¼ å¤§äºŽ å½“å‰é“¾è¡¨èŠ‚ç‚¹çš„hashå€¼ dir = -1; // æ ‡è¯†å½“å‰é“¾è¡¨èŠ‚ç‚¹ä¼šæ”¾åˆ°å½“å‰æ ‘èŠ‚ç‚¹çš„å·¦ä¾§ else if (ph &lt; h) dir = 1; // å³ä¾§ /* * å¦‚æžœä¸¤ä¸ªèŠ‚ç‚¹çš„keyçš„hashå€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆè¿˜è¦é€šè¿‡å…¶ä»–æ–¹å¼å†è¿›è¡Œæ¯”è¾ƒ * å¦‚æžœå½“å‰é“¾è¡¨èŠ‚ç‚¹çš„keyå®žçŽ°äº†comparableæŽ¥å£ï¼Œå¹¶ä¸”å½“å‰æ ‘èŠ‚ç‚¹å’Œé“¾è¡¨èŠ‚ç‚¹æ˜¯ç›¸åŒClassçš„å®ž * ä¾‹ï¼Œé‚£ä¹ˆé€šè¿‡comparableçš„æ–¹å¼å†æ¯”è¾ƒä¸¤è€…ã€‚ * å¦‚æžœè¿˜æ˜¯ç›¸ç­‰ï¼Œæœ€åŽå†é€šè¿‡tieBreakOrderæ¯”è¾ƒä¸€æ¬¡ */ else if ((kc == null &amp;&amp; (kc = comparableClassFor(k)) == null) || (dir = compareComparables(kc, k, pk)) == 0) dir = tieBreakOrder(k, pk); TreeNode&lt;K,V&gt; xp = p; // ä¿å­˜å½“å‰æ ‘èŠ‚ç‚¹ /* * å¦‚æžœdir å°äºŽç­‰äºŽ0 ï¼š å½“å‰é“¾è¡¨èŠ‚ç‚¹ä¸€å®šæ”¾ç½®åœ¨å½“å‰æ ‘èŠ‚ç‚¹çš„å·¦ä¾§ï¼Œä½†ä¸ä¸€å®šæ˜¯è¯¥æ ‘èŠ‚ç‚¹çš„å·¦å­© * å­ï¼Œä¹Ÿå¯èƒ½æ˜¯å·¦å­©å­çš„å³å­©å­ æˆ–è€… æ›´æ·±å±‚æ¬¡çš„èŠ‚ç‚¹ã€‚å¦‚æžœdir å¤§äºŽ0 ï¼š å½“å‰é“¾è¡¨èŠ‚ç‚¹ä¸€å®šæ”¾ç½®åœ¨ * å½“å‰æ ‘èŠ‚ç‚¹çš„å³ä¾§ï¼Œä½†ä¸ä¸€å®šæ˜¯è¯¥æ ‘èŠ‚ç‚¹çš„å³å­©å­ï¼Œä¹Ÿå¯èƒ½æ˜¯å³å­©å­çš„å·¦å­©å­ æˆ–è€… æ›´æ·±å±‚æ¬¡çš„èŠ‚ * ç‚¹ã€‚ * * å¦‚æžœå½“å‰æ ‘èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæœ€ç»ˆä¼šä»¥å½“å‰æ ‘èŠ‚ç‚¹çš„å·¦å­©å­æˆ–è€…å³å­©å­ä¸ºèµ·å§‹èŠ‚ç‚¹ å†ä»Ž * GOTO1 å¤„å¼€å§‹ é‡æ–°å¯»æ‰¾è‡ªå·±ï¼ˆå½“å‰é“¾è¡¨èŠ‚ç‚¹ï¼‰çš„ä½ç½®ã€‚ * å¦‚æžœå½“å‰æ ‘èŠ‚ç‚¹å°±æ˜¯å¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ ¹æ®dirçš„å€¼ï¼Œå°±å¯ä»¥æŠŠå½“å‰é“¾è¡¨èŠ‚ç‚¹æŒ‚è½½åˆ°å½“å‰æ ‘èŠ‚ç‚¹çš„å·¦æˆ– * è€…å³ä¾§äº†ã€‚ * æŒ‚è½½ä¹‹åŽï¼Œè¿˜éœ€è¦é‡æ–°æŠŠæ ‘è¿›è¡Œå¹³è¡¡ã€‚å¹³è¡¡ä¹‹åŽï¼Œå°±å¯ä»¥é’ˆå¯¹ä¸‹ä¸€ä¸ªé“¾è¡¨èŠ‚ç‚¹è¿›è¡Œå¤„ç†äº†ã€‚ */ if ((p = (dir &lt;= 0) ? p.left : p.right) == null) &#123; x.parent = xp; // å½“å‰é“¾è¡¨èŠ‚ç‚¹ ä½œä¸º å½“å‰æ ‘èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ if (dir &lt;= 0) xp.left = x; // ä½œä¸ºå·¦å­©å­ else xp.right = x; // ä½œä¸ºå³å­©å­ root = balanceInsertion(root, x); // é‡æ–°å¹³è¡¡ break; &#125; &#125; &#125; &#125; // æŠŠæ‰€æœ‰çš„é“¾è¡¨èŠ‚ç‚¹éƒ½éåŽ†å®Œä¹‹åŽï¼Œæœ€ç»ˆæž„é€ å‡ºæ¥çš„æ ‘å¯èƒ½ç»åŽ†å¤šä¸ªå¹³è¡¡æ“ä½œï¼Œæ ¹èŠ‚ç‚¹ç›®å‰åˆ°åº•æ˜¯é“¾è¡¨çš„å“ªä¸€ä¸ªèŠ‚ç‚¹æ˜¯ä¸ç¡®å®šçš„ // å› ä¸ºæˆ‘ä»¬è¦åŸºäºŽæ ‘æ¥åšæŸ¥æ‰¾ï¼Œæ‰€ä»¥å°±åº”è¯¥æŠŠ tab[N] å¾—åˆ°çš„å¯¹è±¡ä¸€å®šæ ¹èŠ‚ç‚¹å¯¹è±¡ï¼Œè€Œç›®å‰åªæ˜¯é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¯¹è±¡ï¼Œæ‰€ä»¥è¦åšç›¸åº”çš„å¤„ç†ã€‚ moveRootToFront(tab, root); &#125;&#125; é‡è¦æ–¹æ³•hashæ–¹æ³•1234567891011121314151617181920212223242526272829303132/** * è®¡ç®—keyçš„hashå€¼ï¼Œ * keyä¸ºnullåˆ™hashCodeä¸º0;ä¸ä¸ºnullåˆ™å°†keyçš„hashCodeèµ‹å€¼ç»™hï¼Œæœ€ç»ˆçš„hashCode = h ^ (h &gt;&gt;&gt; 16); * è¿™é‡Œæˆ‘ä»¬è¦è®²è®²æ•°ç»„ç´¢å¼•çš„è®¡ç®—æ–¹å¼ï¼š(n- 1) &amp; hash,nè¡¨ç¤ºtable.length * è¿™é‡Œé€šè¿‡key.hashCode()è®¡ç®—å‡ºkeyçš„å“ˆå¸Œå€¼ï¼Œç„¶åŽå°†å“ˆå¸Œå€¼hå³ç§»16ä½ï¼Œå†ä¸ŽåŽŸæ¥çš„håšå¼‚æˆ–^è¿ç®—ï¼Œè¿™ä¸€æ­¥æ˜¯é«˜ä½è¿ * ç®—ã€‚è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æžœæ²¡æœ‰é«˜ä½è¿ç®—ï¼Œé‚£ä¹ˆhashå€¼å°†æ˜¯ä¸€ä¸ªintåž‹çš„32ä½æ•°ã€‚è€Œä»Ž2çš„-31æ¬¡å¹‚åˆ°2çš„31æ¬¡å¹‚ä¹‹é—´ï¼Œæœ‰å°†è¿‘å‡  * åäº¿çš„ç©ºé—´ï¼Œå¦‚æžœæˆ‘ä»¬çš„HashMapçš„tableæœ‰è¿™ä¹ˆé•¿ï¼Œå†…å­˜æ—©å°±çˆ†äº†ã€‚æ‰€ä»¥è¿™ä¸ªæ•£åˆ—å€¼ä¸èƒ½ç›´æŽ¥ç”¨æ¥æœ€ç»ˆçš„å–æ¨¡è¿ç®—ï¼Œè€Œ * éœ€è¦å…ˆåŠ å…¥é«˜ä½è¿ç®—ï¼Œå°†é«˜16ä½å’Œä½Ž16ä½çš„ä¿¡æ¯\\\"èžåˆ\\\"åˆ°ä¸€èµ·ï¼Œä¹Ÿç§°ä¸º\\\"æ‰°åŠ¨å‡½æ•°\\\"ã€‚è¿™æ ·æ‰èƒ½ä¿è¯hashå€¼æ‰€æœ‰ä½çš„æ•°å€¼ * ç‰¹å¾éƒ½ä¿å­˜ä¸‹æ¥è€Œæ²¡æœ‰é—æ¼ï¼Œä»Žè€Œä½¿æ˜ å°„ç»“æžœå°½å¯èƒ½çš„æ¾æ•£ã€‚æœ€åŽï¼Œæ ¹æ® n-1 åšä¸Žæ“ä½œçš„å–æ¨¡è¿ç®—ã€‚è¿™é‡Œä¹Ÿèƒ½çœ‹å‡ºä¸ºä»€ä¹ˆ * HashMapè¦é™åˆ¶tableçš„é•¿åº¦ä¸º2çš„næ¬¡å¹‚ï¼Œå› ä¸ºè¿™æ ·ï¼Œn-1å¯ä»¥ä¿è¯äºŒè¿›åˆ¶å±•ç¤ºå½¢å¼æ˜¯ï¼ˆä»¥16ä¸ºä¾‹ï¼‰0000 0000 0000 * 0000 0000 0000 0000 1111ã€‚åœ¨åš\\\"ä¸Ž\\\"æ“ä½œæ—¶ï¼Œå°±ç­‰åŒäºŽæˆªå–hashäºŒè¿›åˆ¶å€¼å¾—åŽå››ä½æ•°æ®ä½œä¸ºä¸‹æ ‡ã€‚è¿™é‡Œä¹Ÿå¯ä»¥çœ‹ * å‡º\\\"æ‰°åŠ¨å‡½æ•°\\\"çš„é‡è¦æ€§äº†ï¼Œå¦‚æžœé«˜ä½ä¸å‚ä¸Žè¿ç®—ï¼Œé‚£ä¹ˆé«˜16ä½çš„hashç‰¹å¾å‡ ä¹Žæ°¸è¿œå¾—ä¸åˆ°å±•çŽ°ï¼Œå‘ç”Ÿhashç¢°æ’žçš„å‡ çŽ‡å°± * ä¼šå¢žå¤§ï¼Œä»Žè€Œå½±å“æ€§èƒ½ã€‚ * Computes key.hashCode() and spreads (XORs) higher bits of hash * to lower. Because the table uses power-of-two masking, sets of * hashes that vary only in bits above the current mask will * always collide. (Among known examples are sets of Float keys * holding consecutive whole numbers in small tables.) So we * apply a transform that spreads the impact of higher bits * downward. There is a tradeoff between speed, utility, and * quality of bit-spreading. Because many common sets of hashes * are already reasonably distributed (so don't benefit from * spreading), and because we use trees to handle large sets of * collisions in bins, we just XOR some shifted bits in the * cheapest possible way to reduce systematic lossage, as well as * to incorporate impact of the highest bits that would otherwise * never be used in index calculations because of table bounds. */static final int hash(Object key) &#123; int h; return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);&#125; putæ–¹æ³•1234// æˆ‘ä»¬å®žé™…ç”¨çš„putæ–¹æ³•ï¼Œåº•å±‚è°ƒç”¨çš„æ˜¯putValæ–¹æ³•public V put(K key, V value) &#123; return putVal(hash(key), key, value, false, true);&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586/** * Implements Map.put and related methods. * * @param hash hash for key * @param key the key * @param value the value to put * @param onlyIfAbsent if true, don't change existing value * (onlyIfAbsentä¸ºtrueæ—¶ï¼Œå¦‚æžœkeyå­˜åœ¨ï¼Œå°±ä¸ä¼šè¿›è¡Œputæ“ä½œï¼ŒåŽŸæœ‰çš„å¯¹åº”çš„valueä¸ä¼šè¢«è¦†ç›–) * @param evict if false, the table is in creation mode. * (evictå‚æ•°ç”¨äºŽLinkedHashMapä¸­çš„å°¾éƒ¨æ“ä½œï¼Œè¿™é‡Œæ²¡æœ‰å®žé™…æ„ä¹‰ã€‚) * @return previous value, or null if none */final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) &#123; // å®šä¹‰å˜é‡tabæ˜¯å°†è¦æ“ä½œçš„Nodeæ•°ç»„å¼•ç”¨ï¼Œpè¡¨ç¤ºtabä¸Šçš„æŸNodeèŠ‚ç‚¹ï¼Œnä¸ºtabçš„é•¿åº¦ï¼Œiä¸ºtabçš„ä¸‹æ ‡ã€‚ Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i; // åˆ¤æ–­å½“tableä¸ºnullæˆ–è€…tabçš„é•¿åº¦ä¸º0æ—¶ï¼Œå³tableå°šæœªåˆå§‹åŒ–ï¼Œæ­¤æ—¶é€šè¿‡resize()æ–¹æ³•å¾—åˆ°åˆå§‹åŒ–çš„tableã€‚ if ((tab = table) == null || (n = tab.length) == 0) // è¿™ç§æƒ…å†µæ˜¯å¯èƒ½å‘ç”Ÿçš„ï¼ŒHashMapçš„tableå­—æ®µæ³¨é‡Šä¸­æåˆ°ï¼šThe table, initialized on first use, and resized as necessaryã€‚ n = (tab = resize()).length; // æ­¤å¤„é€šè¿‡(n - 1)&amp; hashè®¡ç®—å‡ºçš„å€¼ä½œä¸ºtabçš„ä¸‹æ ‡iï¼Œå¹¶å¦pè¡¨ç¤ºtab[i]ï¼Œä¹Ÿå°±æ˜¯è¯¥é“¾è¡¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®ã€‚å¹¶åˆ¤æ–­pæ˜¯å¦ä¸ºnullã€‚ if ((p = tab[i = (n - 1) &amp; hash]) == null) // å½“pä¸ºnullæ—¶ï¼Œè¡¨æ˜Žtab[i]ä¸Šæ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œå³ä¸å­˜åœ¨Hashå†²çªï¼Œé‚£ä¹ˆæŽ¥ä¸‹æ¥å°±newç¬¬ä¸€ä¸ªNodeèŠ‚ç‚¹ï¼Œè°ƒç”¨newNodeæ–¹æ³•è¿”å›žæ–°èŠ‚ç‚¹èµ‹å€¼ç»™tab[i]ã€‚è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯i = (n - 1) &amp; hashç›¸å½“äºŽå¯¹hashå¯¹nçš„å–æ¨¡ tab[i] = newNode(hash, key, value, null); // ä¸‹é¢è¿›å…¥pä¸ä¸ºnullçš„æƒ…å†µï¼Œæœ‰ä¸‰ç§æƒ…å†µï¼špä¸ºé“¾è¡¨èŠ‚ç‚¹ï¼›pä¸ºçº¢é»‘æ ‘èŠ‚ç‚¹ï¼›pæ˜¯é“¾è¡¨èŠ‚ç‚¹ä½†é•¿åº¦ä¸ºä¸´ç•Œé•¿åº¦TREEIFY_THRESHOLDï¼Œå†æ’å…¥ä»»ä½•å…ƒç´ å°±è¦å˜æˆçº¢é»‘æ ‘äº†ã€‚ else &#123; // å®šä¹‰eå¼•ç”¨,è¡¨ç¤ºå³å°†æ’å…¥çš„NodeèŠ‚ç‚¹ï¼Œå¹¶ä¸”ä¸‹æ–‡å¯ä»¥çœ‹å‡º k = p.keyã€‚ Node&lt;K,V&gt; e; K k; if (p.hash == hash &amp;&amp; // HashMapä¸­åˆ¤æ–­keyç›¸åŒçš„æ¡ä»¶æ˜¯keyçš„hashç›¸åŒï¼ˆHashæ˜¯å¦å†²çªï¼‰ï¼Œå¹¶ä¸”ç¬¦åˆequalsæ–¹æ³•ã€‚è¿™é‡Œåˆ¤æ–­äº†p.keyæ˜¯å¦å’Œæ’å…¥çš„keyç›¸ç­‰ï¼Œå¦‚æžœç›¸ç­‰ï¼Œåˆ™å°†pçš„å¼•ç”¨èµ‹ç»™eã€‚eä¼šåœ¨æœ€åŽç»Ÿä¸€è¿›è¡Œèµ‹å€¼åŠè¿”å›žã€‚ ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) // è¿™ä¸€æ­¥çš„åˆ¤æ–­å…¶å®žæ˜¯å±žäºŽä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œä¸Šè¿°ä¸‰ä¸ªæ¡ä»¶éƒ½æ»¡è¶³ï¼Œå³ä¸¤è€…hashå€¼ç›¸åŒä¸”keyå®Œå…¨ç›¸åŒï¼ŒäºŽæ˜¯æ’å…¥æ“ä½œå°±ä¸éœ€è¦äº†ï¼Œåªè¦æŠŠåŽŸæ¥çš„valueè¦†ç›–å°±å¯ä»¥äº†ã€‚eä¼šåœ¨æœ€åŽç»Ÿä¸€è¿›è¡Œèµ‹å€¼åŠè¿”å›žï¼Œè¿™é‡Œå…ˆä¸è¿›è¡Œè¦†ç›–æ“ä½œã€‚ e = p; else if (p instanceof TreeNode) // çŽ°åœ¨å¼€å§‹äº†ç¬¬ä¸€ç§æƒ…å†µï¼Œå½“å‰æ¡¶pæ˜¯çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè‚¯å®šæ’å…¥åŽä»ç„¶æ˜¯çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œå°±è¦æŒ‰ç…§çº¢é»‘æ ‘çš„æ–¹å¼å†™å…¥æ•°æ®ã€‚æ‰€ä»¥æˆ‘ä»¬ç›´æŽ¥å¼ºåˆ¶è½¬åž‹påŽè°ƒç”¨TreeNode.putTreeValæ–¹æ³•ï¼Œè¿”å›žçš„å¼•ç”¨èµ‹ç»™eã€‚ // ä½ å¯èƒ½å¥½å¥‡ï¼Œè¿™é‡Œæ€Žä¹ˆä¸éåŽ†treeçœ‹çœ‹æœ‰æ²¡æœ‰keyç›¸åŒçš„èŠ‚ç‚¹å‘¢ï¼Ÿå…¶å®žï¼ŒputTreeValå†…éƒ¨è¿›è¡Œäº†éåŽ†ï¼Œå­˜åœ¨ç›¸åŒhashæ—¶è¿”å›žè¢«è¦†ç›–çš„TreeNodeï¼Œå¦åˆ™è¿”å›žnullã€‚ e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value); // æŽ¥ä¸‹é‡Œå°±æ˜¯pä¸ºé“¾è¡¨èŠ‚ç‚¹çš„æƒ…å½¢ï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°è¯´çš„å¦å¤–ä¸¤ç±»æƒ…å†µï¼šæ’å…¥åŽè¿˜æ˜¯é“¾è¡¨/æ’å…¥åŽè½¬çº¢é»‘æ ‘ã€‚å¦å¤–ï¼Œä¸Šè¡Œè½¬åž‹ä»£ç ä¹Ÿè¯´æ˜Žäº†TreeNodeæ˜¯Nodeçš„ä¸€ä¸ªå­ç±»ã€‚ else &#123; // æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè®¡æ•°å™¨æ¥è®¡ç®—å½“å‰é“¾è¡¨çš„å…ƒç´ ä¸ªæ•°ï¼Œå¹¶éåŽ†é“¾è¡¨ï¼ŒbinCountå°±æ˜¯è¿™ä¸ªè®¡æ•°å™¨ã€‚ for (int binCount = 0; ; ++binCount) &#123; // éåŽ†è¿‡ç¨‹ä¸­å½“å‘çŽ°p.nextä¸ºnullæ—¶ï¼Œè¯´æ˜Žé“¾è¡¨åˆ°å¤´äº†ï¼Œå°±éœ€è¦å°†å½“å‰çš„keyã€valueå°è£…æˆä¸€ä¸ªæ–°èŠ‚ç‚¹,å°†æ–°çš„é“¾è¡¨èŠ‚ç‚¹ç›´æŽ¥åœ¨pçš„åŽé¢æ’å…¥å³å¯ï¼Œå³æŠŠæ–°èŠ‚ç‚¹çš„å¼•ç”¨èµ‹ç»™p.nextï¼Œæ’å…¥æ“ä½œå°±å®Œæˆäº†ã€‚æ³¨æ„æ­¤æ—¶eèµ‹ç»™pã€‚ if ((e = p.next) == null) &#123; // æœ€åŽä¸€ä¸ªå‚æ•°ä¸ºæ–°èŠ‚ç‚¹çš„nextï¼Œè¿™é‡Œä¼ å…¥nullï¼Œä¿è¯äº†æ–°èŠ‚ç‚¹ç»§ç»­ä¸ºè¯¥é“¾è¡¨çš„æœ«ç«¯ã€‚ p.next = newNode(hash, key, value, null); // æ’å…¥æˆåŠŸåŽï¼Œè¦åˆ¤æ–­æ˜¯å¦éœ€è¦è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œå› ä¸ºæ’å…¥åŽé“¾è¡¨é•¿åº¦åŠ 1ï¼Œè€ŒbinCountå¹¶ä¸åŒ…å«æ–°èŠ‚ç‚¹ï¼Œæ‰€ä»¥åˆ¤æ–­æ—¶è¦å°†ä¸´ç•Œé˜ˆå€¼å‡1ã€‚binCountå¤§äºŽç­‰äºŽ7ï¼ˆå…¶å®žå®žé™…ä¸Šé“¾è¡¨æ­¤æ—¶çš„å¤§å°ä¸º8ï¼‰æ—¶è½¬æ¢ä¸ºçº¢é»‘æ ‘è¿›è¡Œå¤„ç† if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st // å½“æ»¡è¶³ä¸Šè¿°è½¬æ¢æ¡ä»¶æ—¶ï¼Œè°ƒç”¨treeifyBinæ–¹æ³•ï¼Œå°†è¯¥é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚ treeifyBin(tab, hash); // å½“ç„¶å¦‚æžœä¸æ»¡è¶³è½¬æ¢æ¡ä»¶ï¼Œé‚£ä¹ˆæ’å…¥æ•°æ®åŽç»“æž„ä¹Ÿæ— éœ€å˜åŠ¨ï¼Œæ‰€æœ‰æ’å…¥æ“ä½œä¹Ÿåˆ°æ­¤ç»“æŸäº†ï¼Œbreaké€€å‡ºå³å¯ã€‚ break; &#125; // åœ¨éåŽ†é“¾è¡¨çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½éåŽ†åˆ°ä¸Žæ’å…¥çš„keyç›¸åŒçš„èŠ‚ç‚¹ï¼Œæ­¤æ—¶åªè¦å°†è¿™ä¸ªèŠ‚ç‚¹å¼•ç”¨èµ‹å€¼ç»™eï¼Œæœ€åŽé€šè¿‡eåŽ»æŠŠæ–°çš„valueè¦†ç›–æŽ‰å°±å¯ä»¥äº†ã€‚ if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) // æ‰¾åˆ°äº†ç›¸åŒkeyçš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ’å…¥æ“ä½œä¹Ÿä¸éœ€è¦äº†ï¼Œç›´æŽ¥breaké€€å‡ºå¾ªçŽ¯è¿›è¡Œæœ€åŽçš„valueè¦†ç›–æ“ä½œã€‚ break; // eæ˜¯å½“å‰éåŽ†çš„èŠ‚ç‚¹pçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œp = e å°±æ˜¯ä¾æ¬¡éåŽ†é“¾è¡¨çš„æ ¸å¿ƒè¯­å¥ã€‚æ¯æ¬¡å¾ªçŽ¯æ—¶péƒ½æ˜¯ä¸‹ä¸€ä¸ªnodeèŠ‚ç‚¹ã€‚ p = e; &#125; &#125; // ä¸‹é¢JDKæ³¨é‡Šå·²ç»å¾ˆæ¸…æ™°äº†ï¼Œé’ˆå¯¹å·²ç»å­˜åœ¨keyçš„æƒ…å†µåšå¤„ç†ã€‚å³æˆ‘ä»¬å¯¹eè¿›è¡Œå¤„ç†ã€‚ if (e != null) &#123; // existing mapping for key //å®šä¹‰oldValueï¼Œå³åŽŸå­˜åœ¨çš„èŠ‚ç‚¹eçš„valueå€¼ã€‚ V oldValue = e.value; // æ–¹æ³•æ³¨é‡Šæåˆ°ï¼ŒonlyIfAbsentä¸ºtrueæ—¶ï¼Œè‹¥å­˜åœ¨keyç›¸åŒæ—¶ä¸åšè¦†ç›–å¤„ç†ï¼Œè¿™é‡Œä½œä¸ºåˆ¤æ–­æ¡ä»¶ï¼Œå¯ä»¥çœ‹å‡ºå½“onlyIfAbsentä¸ºé»˜è®¤å€¼falseæˆ–è€…oldValueä¸ºnullæ—¶ï¼Œè¿›è¡Œè¦†ç›–æ“ä½œã€‚ if (!onlyIfAbsent || oldValue == null) // è¦†ç›–æ“ä½œï¼Œå°†åŽŸèŠ‚ç‚¹eä¸Šçš„valueè®¾ç½®ä¸ºæ’å…¥çš„æ–°valueã€‚ e.value = value; // è¿™ä¸ªå‡½æ•°åœ¨hashmapä¸­æ²¡æœ‰ä»»ä½•æ“ä½œï¼Œæ˜¯ä¸ªç©ºå‡½æ•°ï¼Œå®ƒå­˜åœ¨ä¸»è¦æ˜¯ä¸ºäº†linkedHashMapçš„ä¸€äº›åŽç»­å¤„ç†å·¥ä½œã€‚ afterNodeAccess(e); // è¿”å›žçš„æ˜¯è¢«è¦†ç›–çš„oldValueã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨putæ–¹æ³•æ—¶å¾ˆå°‘ç”¨ä»–çš„è¿”å›žå€¼ï¼Œç”šè‡³å¿˜äº†å®ƒçš„å­˜åœ¨ï¼Œè¿™é‡Œæˆ‘ä»¬çŸ¥é“ï¼Œä»–è¿”å›žçš„æ˜¯è¢«è¦†ç›–çš„oldValueã€‚ return oldValue; &#125; &#125; // æ”¶å°¾å·¥ä½œï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¯¹keyç›¸åŒè€Œè¦†ç›–oldValueçš„æƒ…å†µï¼Œåœ¨å‰é¢å·²ç»returnï¼Œä¸ä¼šæ‰§è¡Œè¿™é‡Œï¼Œæ‰€ä»¥é‚£ä¸€ç±»æƒ…å†µä¸ç®—æ•°æ®ç»“æž„å˜åŒ–ï¼Œå¹¶ä¸æ”¹å˜modCountå€¼ã€‚å¦‚æžœèµ°åˆ°è¿™é‡Œï¼Œè¯´æ˜Žå·²ç»æ–°å¢žä¸€ä¸ªKey-Valueçš„NodeèŠ‚ç‚¹ï¼ŒmodCountè¦è‡ªå¢ž ++modCount; // åŒç†ï¼Œè¦†ç›–oldValueæ—¶æ˜¾ç„¶æ²¡æœ‰æ–°å…ƒç´ æ·»åŠ ï¼Œé™¤æ­¤ä¹‹å¤–éƒ½æ–°å¢žäº†ä¸€ä¸ªå…ƒç´ ï¼Œè¿™é‡Œ++sizeå¹¶ä¸Žthresholdåˆ¤æ–­æ˜¯å¦è¾¾åˆ°äº†æ‰©å®¹æ ‡å‡†ã€‚ if (++size &gt; threshold) // å½“HashMapä¸­å­˜åœ¨çš„nodeèŠ‚ç‚¹å¤§äºŽthresholdæ—¶ï¼Œhashmapè¿›è¡Œæ‰©å®¹ã€‚ resize(); // è¿™é‡Œä¸Žå‰é¢çš„afterNodeAccessåŒç†ï¼Œæ˜¯ç”¨äºŽlinkedHashMapçš„å°¾éƒ¨æ“ä½œï¼ŒHashMapä¸­å¹¶æ— å®žé™…æ„ä¹‰ã€‚ afterNodeInsertion(evict); // æœ€ç»ˆï¼Œå¯¹äºŽçœŸæ­£è¿›è¡Œæ’å…¥å…ƒç´ (ä¸æ˜¯è¦†ç›–çš„æ“ä½œ)çš„æƒ…å†µï¼Œputå‡½æ•°ä¸€å¾‹è¿”å›žnullã€‚ return null;&#125; getæ–¹æ³•123456// æˆ‘ä»¬å®žé™…ç”¨çš„getæ–¹æ³•ï¼Œåº•å±‚è°ƒç”¨çš„æ˜¯getNodeæ–¹æ³•public V get(Object key) &#123; Node&lt;K,V&gt; e; // æ ¹æ®keyåŠå…¶hashå€¼æŸ¥è¯¢nodeèŠ‚ç‚¹ï¼Œå¦‚æžœå­˜åœ¨ï¼Œåˆ™è¿”å›žè¯¥èŠ‚ç‚¹çš„valueå€¼ï¼›å¦‚æžœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›žnullã€‚ return (e = getNode(hash(key), key)) == null ? null : e.value;&#125; 1234567891011121314151617181920212223242526272829303132333435363738/** * Implements Map.get and related methods. * * @param hash hash for key * @param key the key * @return the node, or null if none ã€‚ * å¦‚æžœæ‰¾åˆ°nodeè¿”å›žnodeï¼Œæ²¡æœ‰æ‰¾åˆ°nodeåˆ™è¿”å›žnull * æ ¹æ®keyæœç´¢èŠ‚ç‚¹çš„æ–¹æ³•ã€‚è®°ä½åˆ¤æ–­keyç›¸ç­‰çš„æ¡ä»¶ï¼šhashå€¼ç›¸åŒ å¹¶ä¸” ç¬¦åˆequalsæ–¹æ³•ã€‚ */final Node&lt;K,V&gt; getNode(int hash, Object key) &#123; // å®šä¹‰å˜é‡tabæ˜¯å°†è¦éåŽ†æŸ¥æ‰¾çš„Nodeæ•°ç»„å¼•ç”¨ï¼Œfirstå’Œeè¡¨ç¤ºtabä¸Šçš„æ‰¾åˆ°çš„NodeèŠ‚ç‚¹ï¼Œnä¸ºtabçš„é•¿åº¦ï¼Œkä¸ºKey Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k; // æ ¹æ®è¾“å…¥çš„hashå€¼ï¼Œå¯ä»¥ç›´æŽ¥è®¡ç®—å‡ºå¯¹åº”çš„ä¸‹æ ‡(n - 1) &amp; hashï¼Œç¼©å°æŸ¥è¯¢èŒƒå›´ï¼Œå¦‚æžœå­˜åœ¨ç»“æžœï¼Œåˆ™å¿…å®šåœ¨tableçš„è¿™ä¸ªä½ç½®ä¸Šã€‚ if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (first = tab[(n - 1) &amp; hash]) != null) &#123; if (first.hash == hash &amp;&amp; // always check first node ((k = first.key) == key || (key != null &amp;&amp; key.equals(k)))) // åˆ¤æ–­ç¬¬ä¸€ä¸ªå­˜åœ¨çš„èŠ‚ç‚¹çš„keyæ˜¯å¦å’ŒæŸ¥è¯¢çš„keyç›¸ç­‰ã€‚å¦‚æžœç›¸ç­‰ï¼Œç›´æŽ¥è¿”å›žè¯¥èŠ‚ç‚¹ã€‚ return first; // å¦‚æžœç¬¬ä¸€ä¸ªä¸åŒ¹é…ï¼Œåˆ™åˆ¤æ–­å®ƒçš„ä¸‹ä¸€ä¸ªæ˜¯çº¢é»‘æ ‘è¿˜æ˜¯é“¾è¡¨ã€‚éåŽ†è¯¥é“¾è¡¨/çº¢é»‘æ ‘ç›´åˆ°nextä¸ºnullã€‚ if ((e = first.next) != null) &#123; // çº¢é»‘æ ‘å°±æŒ‰ç…§æ ‘çš„æŸ¥æ‰¾æ–¹å¼è¿”å›žå€¼ã€‚ if (first instanceof TreeNode) // å½“è¿™ä¸ªtableèŠ‚ç‚¹ä¸Šå­˜å‚¨çš„æ˜¯çº¢é»‘æ ‘ç»“æž„æ—¶ï¼Œåœ¨æ ¹èŠ‚ç‚¹firstä¸Šè°ƒç”¨getTreeNodeæ–¹æ³•ï¼Œåœ¨å†…éƒ¨éåŽ†çº¢é»‘æ ‘èŠ‚ç‚¹ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰åŒ¹é…çš„TreeNodeã€‚ return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key); // é“¾è¡¨çš„æ–¹å¼éåŽ†åŒ¹é…è¿”å›žå€¼ã€‚ do &#123; // å½“è¿™ä¸ªtableèŠ‚ç‚¹ä¸Šå­˜å‚¨çš„æ˜¯é“¾è¡¨ç»“æž„æ—¶ï¼Œè‹¥ä¸¤è€…hashç›¸åŒä¸”keyæ˜¯å¦å®Œå…¨ç›¸åŒåˆ™ç›´æŽ¥è¿”å›žã€‚ if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) return e; // å¦‚æžœkeyä¸åŒï¼Œä¸€ç›´éåŽ†ä¸‹åŽ»ç›´åˆ°é“¾è¡¨å°½å¤´ï¼Œç›´åˆ°e.next == nullæ‰ç»ˆæ­¢å¾ªçŽ¯ã€‚ &#125; while ((e = e.next) != null); &#125; &#125; // æ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å›žnullã€‚ return null;&#125; resizeæ–¹æ³•123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151/** * mapæ‰©å®¹æœºåˆ¶ * Initializes or doubles table size. If null, allocates in * accord with initial capacity target held in field threshold. * Otherwise, because we are using power-of-two expansion, the * elements from each bin must either stay at same index, or move * with a power of two offset in the new table. * * @return the table */final Node&lt;K,V&gt;[] resize() &#123; // å½“å‰æ‰€æœ‰å…ƒç´ æ‰€åœ¨çš„æ•°ç»„ï¼Œç§°ä¸ºè€çš„å…ƒç´ æ•°ç»„ Node&lt;K,V&gt;[] oldTab = table; // è€çš„å…ƒç´ æ•°ç»„é•¿åº¦ int oldCap = (oldTab == null) ? 0 : oldTab.length; // è€çš„æ‰©å®¹é˜€å€¼è®¾ç½® int oldThr = threshold; // æ–°æ•°ç»„çš„å®¹é‡ï¼Œæ–°æ•°ç»„çš„æ‰©å®¹é˜€å€¼éƒ½åˆå§‹åŒ–ä¸º0 int newCap, newThr = 0; // å¦‚æžœè€æ•°ç»„é•¿åº¦å¤§äºŽ0ï¼Œè¯´æ˜Žå·²ç»å­˜åœ¨å…ƒç´  if (oldCap &gt; 0) &#123; // è¶…è¿‡æœ€å¤§å€¼å°±ä¸å†æ‰©å……äº†ï¼Œå³2çš„30æ¬¡æ–¹æ—¶ï¼Œå°±åªå¥½éšä½ ç¢°æ’žåŽ»å§ if (oldCap &gt;= MAXIMUM_CAPACITY) &#123; // æ‰©å®¹é˜€å€¼è®¾ç½®ä¸ºintæœ€å¤§å€¼ï¼ˆ2çš„31æ¬¡æ–¹ -1 ï¼‰ï¼Œå› ä¸ºoldCapå†ä¹˜2å°±æº¢å‡ºäº†ã€‚ threshold = Integer.MAX_VALUE; // è¶…è¿‡äº†æœ€å¤§çš„å®¹é‡ï¼Œä¸èƒ½æ‰©å®¹ï¼Œç›´æŽ¥è¿”å›žè€çš„å…ƒç´ æ•°ç»„ return oldTab; &#125; /* æ²¡è¶…è¿‡æœ€å¤§å€¼ï¼Œå°±æ‰©å……ä¸ºåŽŸæ¥çš„2å€ * å¦‚æžœæ•°ç»„å…ƒç´ ä¸ªæ•°åœ¨æ­£å¸¸èŒƒå›´å†…ï¼Œé‚£ä¹ˆæ–°çš„æ•°ç»„å®¹é‡ä¸ºè€çš„æ•°ç»„å®¹é‡çš„2å€ï¼ˆå·¦ç§»1ä½ç›¸å½“äºŽä¹˜ä»¥2ï¼‰ * å¦‚æžœæ‰©å®¹ä¹‹åŽçš„æ–°å®¹é‡å°äºŽæœ€å¤§å®¹é‡å¹¶ä¸”è€çš„æ•°ç»„å®¹é‡å¤§äºŽç­‰äºŽé»˜è®¤åˆå§‹åŒ–å®¹é‡ï¼ˆ16ï¼‰ï¼Œé‚£ä¹ˆæ–°æ•°ç»„çš„æ‰© * å®¹é˜€å€¼è®¾ç½®ä¸ºè€é˜€å€¼çš„2å€ã€‚ï¼ˆè€çš„æ•°ç»„å®¹é‡å¤§äºŽ16æ„å‘³ç€ï¼šè¦ä¹ˆæž„é€ å‡½æ•°æŒ‡å®šäº†ä¸€ä¸ªå¤§äºŽ16çš„åˆå§‹åŒ–å®¹é‡å€¼ï¼Œ * è¦ä¹ˆå·²ç»ç»åŽ†è¿‡äº†è‡³å°‘ä¸€æ¬¡æ‰©å®¹ï¼‰ */ else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp; oldCap &gt;= DEFAULT_INITIAL_CAPACITY) newThr = oldThr &lt;&lt; 1; // double threshold &#125; // è¿è¡Œåˆ°è¿™ä¸ªelse if,è¯´æ˜Žè€æ•°ç»„æ²¡æœ‰ä»»ä½•å…ƒç´  else if (oldThr &gt; 0) // initial capacity was placed in threshold // å¦‚æžœè€æ•°ç»„çš„æ‰©å®¹é˜€å€¼å¤§äºŽ0ï¼Œé‚£ä¹ˆè®¾ç½®æ–°æ•°ç»„çš„å®¹é‡ä¸ºè¯¥é˜€å€¼,è¿™ä¸€æ­¥ä¹Ÿå°±æ„å‘³ç€æž„é€ è¯¥mapçš„æ—¶å€™ï¼ŒæŒ‡å®šäº†åˆå§‹åŒ–å®¹é‡ newCap = oldThr; else &#123; // zero initial threshold signifies using defaults // èƒ½è¿è¡Œåˆ°è¿™é‡Œçš„è¯ï¼Œè¯´æ˜Žæ˜¯è°ƒç”¨æ— å‚æž„é€ å‡½æ•°åˆ›å»ºçš„è¯¥mapï¼Œå¹¶ä¸”ç¬¬ä¸€æ¬¡æ·»åŠ å…ƒç´  // è®¾ç½®æ–°æ•°ç»„å®¹é‡ä¸º16 newCap = DEFAULT_INITIAL_CAPACITY; // è®¾ç½®æ–°æ•°ç»„æ‰©å®¹é˜€å€¼ä¸º 16 * 0.75 = 12ã€‚0.75ä¸ºè´Ÿè½½å› å­(å½“å…ƒç´ ä¸ªæ•°è¾¾åˆ°å®¹é‡äº†4åˆ†ä¹‹3ï¼Œé‚£ä¹ˆæ‰©å®¹) newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY); &#125; // å¦‚æžœæ‰©å®¹é˜€å€¼ä¸º0 if (newThr == 0) &#123; // è®¡ç®—æ–°çš„resizeä¸Šé™ float ft = (float)newCap * loadFactor; // è®¡ç®—æ‰©å®¹é˜€å€¼ newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ? (int)ft : Integer.MAX_VALUE); &#125; // è®¾ç½®æ–°æ•°ç»„çš„æ‰©å®¹é˜€å€¼ threshold = newThr; @SuppressWarnings(&#123;\\\"rawtypes\\\",\\\"unchecked\\\"&#125;) // åˆ›å»ºæ–°çš„æ•°ç»„ï¼ˆå¯¹äºŽç¬¬ä¸€æ¬¡æ·»åŠ å…ƒç´ ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„å°±æ˜¯ç¬¬ä¸€ä¸ªæ•°ç»„ï¼›å¯¹äºŽå­˜åœ¨oldTabçš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„å°±æ˜¯è¦éœ€è¦æ‰©å®¹åˆ°çš„æ–°æ•°ç»„ï¼‰ Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap]; // å°†è¯¥mapçš„tableå±žæ€§æŒ‡å‘åˆ°è¯¥æ–°æ•°ç»„newTab table = newTab; // å¦‚æžœè€æ•°ç»„ä¸ä¸ºç©ºï¼Œè¯´æ˜Žæ˜¯æ‰©å®¹æ“ä½œï¼Œé‚£ä¹ˆæ¶‰åŠåˆ°å…ƒç´ çš„è½¬ç§»æ“ä½œ if (oldTab != null) &#123; // éåŽ†è€æ•°ç»„æŠŠæ¯ä¸ªbucketéƒ½ç§»åŠ¨åˆ°æ–°çš„bucketsä¸­ for (int j = 0; j &lt; oldCap; ++j) &#123; // æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´  Node&lt;K,V&gt; e; // å¦‚æžœå½“å‰ä½ç½®å…ƒç´ ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆéœ€è¦è½¬ç§»è¯¥å…ƒç´ åˆ°æ–°æ•°ç»„ if ((e = oldTab[j]) != null) &#123; // é‡Šæ”¾æŽ‰è€æ•°ç»„å¯¹äºŽè¦è½¬ç§»èµ°çš„å…ƒç´ çš„å¼•ç”¨ï¼ˆä¸»è¦ä¸ºäº†ä½¿å¾—æ•°ç»„å¯è¢«å›žæ”¶ï¼‰ oldTab[j] = null; // å¦‚æžœå…ƒç´ æ²¡æœ‰æœ‰ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¯´æ˜Žè¯¥å…ƒç´ ä¸å­˜åœ¨hashå†²çª if (e.next == null) // æŠŠå…ƒç´ å­˜å‚¨åˆ°æ–°çš„æ•°ç»„ä¸­ï¼Œå­˜å‚¨åˆ°æ•°ç»„çš„å“ªä¸ªä½ç½®éœ€è¦æ ¹æ®hashå€¼å’Œæ•°ç»„é•¿åº¦æ¥è¿›è¡Œå–æ¨¡ // ã€hashå€¼ % æ•°ç»„é•¿åº¦ã€‘ = ã€ hashå€¼ &amp; ï¼ˆæ•°ç»„é•¿åº¦-1ï¼‰ã€‘ // è¿™ç§ä¸Žè¿ç®—æ±‚æ¨¡çš„æ–¹å¼è¦æ±‚ æ•°ç»„é•¿åº¦å¿…é¡»æ˜¯2çš„Næ¬¡æ–¹ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡æž„é€ å‡½æ•°éšæ„æŒ‡å®šåˆå§‹åŒ–å®¹é‡å‘€ï¼Œå¦‚æžœæŒ‡å®šäº†17,15è¿™ç§ï¼Œå²‚ä¸æ˜¯å‡ºé—®é¢˜äº†å°±ï¼Ÿæ²¡å…³ç³»ï¼Œæœ€ç»ˆä¼šé€šè¿‡tableSizeForæ–¹æ³•å°†ç”¨æˆ·æŒ‡å®šçš„è½¬åŒ–ä¸ºå¤§äºŽå…¶å¹¶ä¸”æœ€ç›¸è¿‘çš„2çš„Næ¬¡æ–¹ã€‚ 15 -&gt; 16ã€17-&gt; 32 newTab[e.hash &amp; (newCap - 1)] = e; /* * å¦‚æžœè¯¥å…ƒç´ æœ‰ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯´æ˜Žè¯¥ä½ç½®ä¸Šå­˜åœ¨ä¸€ä¸ªé“¾è¡¨äº†ï¼ˆhashç›¸åŒçš„å¤šä¸ªå…ƒç´ ä»¥é“¾è¡¨çš„æ–¹å¼å­˜ * å‚¨åˆ°äº†è€æ•°ç»„çš„è¿™ä¸ªä½ç½®ä¸Šäº†ï¼‰ã€‚ä¾‹å¦‚ï¼šæ•°ç»„é•¿åº¦ä¸º16ï¼Œé‚£ä¹ˆhashå€¼ä¸º1ï¼ˆ1%16=1ï¼‰çš„å’Œhashå€¼ä¸º * 17ï¼ˆ17%16=1ï¼‰çš„ä¸¤ä¸ªå…ƒç´ éƒ½æ˜¯ä¼šå­˜å‚¨åœ¨æ•°ç»„çš„ç¬¬2ä¸ªä½ç½®ä¸Šï¼ˆå¯¹åº”æ•°ç»„ä¸‹æ ‡ä¸º1ï¼‰ï¼Œå½“æ•°ç»„æ‰©å®¹ä¸º * 32ï¼ˆ1%32=1ï¼‰æ—¶ï¼Œhashå€¼ä¸º1çš„è¿˜åº”è¯¥å­˜å‚¨åœ¨æ–°æ•°ç»„çš„ç¬¬äºŒä¸ªä½ç½®ä¸Šï¼Œä½†æ˜¯hashå€¼ä¸º17(17%32=1 * 7)çš„å°±åº”è¯¥å­˜å‚¨åœ¨æ–°æ•°ç»„çš„ç¬¬18ä¸ªä½ç½®ä¸Šäº†ã€‚æ‰€ä»¥ï¼Œæ•°ç»„æ‰©å®¹åŽï¼Œæ‰€æœ‰å…ƒç´ éƒ½éœ€è¦é‡æ–°è®¡ç®—åœ¨æ–°æ•°ç»„ * ä¸­çš„ä½ç½®ã€‚ */ else if (e instanceof TreeNode) // å¦‚æžœè¯¥èŠ‚ç‚¹ä¸ºTreeNodeç±»åž‹ ((TreeNode&lt;K,V&gt;)e).split(this, newTab, j, oldCap); else &#123; // preserve order // é“¾è¡¨ä¼˜åŒ–é‡hashçš„ä»£ç å— // æŒ‰å‘½åæ¥ç¿»è¯‘çš„è¯ï¼Œåº”è¯¥å«ä½Žä½é¦–å°¾èŠ‚ç‚¹ Node&lt;K,V&gt; loHead = null, loTail = null; // æŒ‰å‘½åæ¥ç¿»è¯‘çš„è¯ï¼Œåº”è¯¥å«é«˜ä½é¦–å°¾èŠ‚ç‚¹ Node&lt;K,V&gt; hiHead = null, hiTail = null; // ä»¥ä¸Šçš„ä½Žä½æŒ‡çš„æ˜¯æ–°æ•°ç»„çš„ 0 åˆ° oldCap-1 ã€é«˜ä½æŒ‡å®šçš„æ˜¯oldCap åˆ° newCap - 1 Node&lt;K,V&gt; next; // éåŽ†é“¾è¡¨ do &#123; // nextè¡¨ç¤ºä¸‹ä¸€ä¸ªnodeèŠ‚ç‚¹ next = e.next; // åŽŸç´¢å¼• // è¿™ä¸€æ­¥åˆ¤æ–­å¥½ç‹ ï¼Œæ‹¿å…ƒç´ çš„hashå€¼å’Œè€æ•°ç»„çš„é•¿åº¦åšä¸Žè¿ç®— // æ•°ç»„çš„é•¿åº¦ä¸€å®šæ˜¯2çš„Næ¬¡æ–¹(ä¾‹å¦‚16)ï¼Œå¦‚æžœhashå€¼å’Œè¯¥é•¿åº¦åšä¸Žè¿ç®—ï¼Œç»“æžœä¸º0ï¼Œå°±è¯´æ˜Žè¯¥hashå€¼å’Œæ•°ç»„é•¿åº¦å–æ¨¡åŽçš„å€¼ä¸€å®šå°äºŽæ•°ç»„é•¿åº¦ï¼ˆä¾‹å¦‚modå€¼ä¸º1ï¼‰ã€‚ // é‚£ä¹ˆè¯¥hashå€¼å†å’Œæ–°æ•°ç»„çš„é•¿åº¦å–æ‘¸çš„è¯modå€¼ä¹Ÿä¸ä¼šæ”¾ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥è¯¥å…ƒç´ çš„åœ¨æ–°æ•°ç»„çš„ä½ç½®å’Œåœ¨è€æ•°ç»„çš„ä½ç½®æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥è¯¥å…ƒç´ å¯ä»¥æ”¾ç½®åœ¨ä½Žä½é“¾è¡¨ä¸­ã€‚ if ((e.hash &amp; oldCap) == 0) &#123; if (loTail == null) // å¦‚æžœæ²¡æœ‰å°¾ï¼Œè¯´æ˜Žé“¾è¡¨ä¸ºç©ºï¼Œé“¾è¡¨ä¸ºç©ºæ—¶ï¼Œå¤´èŠ‚ç‚¹æŒ‡å‘è¯¥å…ƒç´ ã€‚ loHead = e; else // å¦‚æžœæœ‰å°¾ï¼Œé‚£ä¹ˆé“¾è¡¨ä¸ä¸ºç©ºï¼ŒæŠŠè¯¥å…ƒç´ æŒ‚åˆ°é“¾è¡¨çš„æœ€åŽã€‚ loTail.next = e; // æŠŠå°¾èŠ‚ç‚¹è®¾ç½®ä¸ºå½“å‰å…ƒç´ ã€‚ loTail = e; &#125; // åŽŸç´¢å¼•+oldCap // å¦‚æžœä¸Žè¿ç®—ç»“æžœä¸ä¸º0ï¼Œè¯´æ˜Žhashå€¼å¤§äºŽè€æ•°ç»„é•¿åº¦ï¼ˆä¾‹å¦‚hashå€¼ä¸º17ï¼‰ã€‚ // æ­¤æ—¶è¯¥å…ƒç´ åº”è¯¥æ”¾ç½®åˆ°æ–°æ•°ç»„çš„é«˜ä½ä½ç½®ä¸Šã€‚ // ä¾‹ï¼šè€æ•°ç»„é•¿åº¦16ï¼Œé‚£ä¹ˆæ–°æ•°ç»„é•¿åº¦ä¸º32ï¼Œhashä¸º17çš„åº”è¯¥æ”¾ç½®åœ¨æ•°ç»„çš„ç¬¬17ä¸ªä½ç½®ä¸Šï¼Œä¹Ÿå°±æ˜¯ä¸‹æ ‡ä¸º16ï¼Œé‚£ä¹ˆä¸‹æ ‡ä¸º16å·²ç»å±žäºŽé«˜ä½äº†ï¼Œä½Žä½æ˜¯[0-15]ï¼Œé«˜ä½æ˜¯[16-31]ã€‚ else &#123; if (hiTail == null) // å¦‚æžœæ²¡æœ‰å°¾ï¼Œè¯´æ˜Žé“¾è¡¨ä¸ºç©ºï¼Œé“¾è¡¨ä¸ºç©ºæ—¶ï¼Œå¤´èŠ‚ç‚¹æŒ‡å‘è¯¥å…ƒç´ ã€‚ hiHead = e; else // å¦‚æžœæœ‰å°¾ï¼Œé‚£ä¹ˆé“¾è¡¨ä¸ä¸ºç©ºï¼ŒæŠŠè¯¥å…ƒç´ æŒ‚åˆ°é“¾è¡¨çš„æœ€åŽã€‚ hiTail.next = e; // æŠŠå°¾èŠ‚ç‚¹è®¾ç½®ä¸ºå½“å‰å…ƒç´ ã€‚ hiTail = e; &#125; &#125; while ((e = next) != null); // åŽŸç´¢å¼•æ”¾åˆ°bucketé‡Œï¼Œå³ä½Žä½çš„å…ƒç´ ç»„æˆçš„é“¾è¡¨è¿˜æ˜¯æ”¾ç½®åœ¨åŽŸæ¥çš„ä½ç½® if (loTail != null) &#123; loTail.next = null; newTab[j] = loHead; &#125; // åŽŸç´¢å¼•+oldCapæ”¾åˆ°bucketé‡Œï¼Œå³é«˜ä½çš„å…ƒç´ ç»„æˆçš„é“¾è¡¨æ”¾ç½®çš„ä½ç½®åªæ˜¯åœ¨åŽŸæœ‰ä½ç½®ä¸Šåç§»äº†è€æ•°ç»„çš„é•¿åº¦ä¸ªä½ç½®ã€‚ if (hiTail != null) &#123; hiTail.next = null; // ä¾‹1:hashä¸º17åœ¨è€æ•°ç»„æ”¾ç½®åœ¨0ä¸‹æ ‡,åœ¨æ–°æ•°ç»„æ”¾ç½®åœ¨16ä¸‹æ ‡; // ä¾‹2:hashä¸º18åœ¨è€æ•°ç»„æ”¾ç½®åœ¨1ä¸‹æ ‡,åœ¨æ–°æ•°ç»„æ”¾ç½®åœ¨17ä¸‹æ ‡ã€‚ newTab[j + oldCap] = hiHead; &#125; &#125; &#125; &#125; &#125; // è¿”å›žæ–°çš„ä½æ¡¶æ•°ç»„ return newTab;&#125; treeifyBinæ–¹æ³•1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** * è½¬æ¢ä¸ºçº¢é»‘æ ‘çš„æ“ä½œ * å‚æ•°tab: å…ƒç´ æ•°ç»„ * å‚æ•°hash: keyçš„hashCode * Replaces all linked nodes in bin at index for given hash unless * table is too small, in which case resizes instead. */final void treeifyBin(Node&lt;K,V&gt;[] tab, int hash) &#123; int n, index; Node&lt;K,V&gt; e; /* * å¦‚æžœå…ƒç´ æ•°ç»„ä¸ºç©ºæˆ–è€…æ•°ç»„é•¿åº¦å°äºŽ æ ‘ç»“æž„åŒ–çš„æœ€å°é™åˆ¶ * MIN_TREEIFY_CAPACITY é»˜è®¤å€¼64ï¼Œå¯¹äºŽè¿™ä¸ªå€¼å¯ä»¥ç†è§£ä¸ºï¼š * å¦‚æžœå…ƒç´ æ•°ç»„é•¿åº¦å°äºŽè¿™ä¸ªå€¼ï¼Œæ²¡æœ‰å¿…è¦åŽ»è¿›è¡Œç»“æž„è½¬æ¢; * å½“ä¸€ä¸ªæ•°ç»„ä½ç½®ä¸Šé›†ä¸­äº†å¤šä¸ªé”®å€¼å¯¹ï¼Œé‚£æ˜¯å› ä¸ºè¿™äº›keyçš„hashå€¼å’Œæ•°ç»„é•¿åº¦å–æ¨¡ä¹‹åŽç»“æžœç›¸åŒ.(å¹¶ä¸æ˜¯å› ä¸ºè¿™äº› * keyçš„hashå€¼ç›¸åŒ).å› ä¸ºhashå€¼ç›¸åŒçš„æ¦‚çŽ‡ä¸é«˜ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡æ‰©å®¹çš„æ–¹å¼ï¼Œæ¥ä½¿å¾—æœ€ç»ˆè¿™äº›keyçš„hashå€¼åœ¨å’Œæ–° * çš„æ•°ç»„é•¿åº¦å–æ¨¡ä¹‹åŽï¼Œæ‹†åˆ†åˆ°å¤šä¸ªæ•°ç»„ä½ç½®ä¸Šã€‚ */ if (tab == null || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY) // å¦‚æžœæ•°ç»„ä¸ºnullæˆ–è€…å°äºŽMIN_TREEIFY_CAPACITY=64åˆ™è¿›è¡Œæ‰©å®¹æ“ä½œ resize(); // å¦‚æžœå…ƒç´ æ•°ç»„é•¿åº¦å·²ç»å¤§äºŽç­‰äºŽäº† MIN_TREEIFY_CAPACITYï¼Œé‚£ä¹ˆå°±æœ‰å¿…è¦è¿›è¡Œç»“æž„è½¬æ¢äº†ã€‚ // æ ¹æ®hashå€¼å’Œæ•°ç»„é•¿åº¦è¿›è¡Œå–æ¨¡è¿ç®—åŽï¼Œå¾—åˆ°é“¾è¡¨çš„é¦–èŠ‚ç‚¹ã€‚ else if ((e = tab[index = (n - 1) &amp; hash]) != null) &#123; // å®šä¹‰é¦–ã€å°¾èŠ‚ç‚¹ã€‚ TreeNode&lt;K,V&gt; hd = null, tl = null; do &#123; // å°†è¯¥èŠ‚ç‚¹è½¬æ¢ä¸ºæ ‘èŠ‚ç‚¹ã€‚ TreeNode&lt;K,V&gt; p = replacementTreeNode(e, null); // å¦‚æžœå°¾èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯´æ˜Žè¿˜æ²¡æœ‰æ ¹èŠ‚ç‚¹ã€‚ if (tl == null) // é¦–èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰æŒ‡å‘å½“å‰èŠ‚ç‚¹ hd = p; else &#123; // å°¾èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œä»¥ä¸‹ä¸¤è¡Œä»£ç æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ç»“æž„ // å½“å‰æ ‘èŠ‚ç‚¹çš„ å‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å°¾èŠ‚ç‚¹ p.prev = tl; // å°¾èŠ‚ç‚¹çš„ åŽä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å½“å‰èŠ‚ç‚¹ tl.next = p; &#125; // æŠŠå½“å‰èŠ‚ç‚¹è®¾ä¸ºå°¾èŠ‚ tl = p; // å½“éåŽ†å°¾èŠ‚ç‚¹ä¸ºnullæ—¶å€™ï¼Œåˆ™ç»“æŸï¼Œå¦åˆ™æœ‰èŠ‚ç‚¹ç»§ç»­éåŽ†é“¾è¡¨ &#125; while ((e = e.next) != null); // åˆ°ç›®å‰ä¸ºæ­¢ ä¹Ÿåªæ˜¯æŠŠNodeå¯¹è±¡è½¬æ¢æˆäº†TreeNodeå¯¹è±¡ï¼ŒæŠŠå•å‘é“¾è¡¨è½¬æ¢æˆäº†åŒå‘é“¾è¡¨ // æŠŠè½¬æ¢åŽçš„åŒå‘é“¾è¡¨ï¼Œæ›¿æ¢åŽŸæ¥ä½ç½®ä¸Šçš„å•å‘é“¾è¡¨ if ((tab[index] = hd) != null) hd.treeify(tab); &#125;&#125; tableSizeForæ–¹æ³•1234567891011121314/** * è¿”å›žå¤§äºŽè¾“å…¥å‚æ•°ä¸”æœ€è¿‘çš„2çš„æ•´æ•°æ¬¡å¹‚çš„æ•°ï¼Œä¾‹å¦‚è¾“å…¥14ï¼Œåˆ™è¿”å›ž2çš„4æ¬¡å¹‚ï¼Œå³16ã€‚ * å¦‚æžœç®—å‡ºæ¥çš„nå¤§äºŽç­‰äºŽæœ€å¤§çš„å®¹é‡ï¼Œåˆ™å–æœ€å¤§çš„å®¹é‡ã€‚ * Returns a power of two size for the given target capacity. */static final int tableSizeFor(int cap) &#123; int n = cap - 1; n |= n &gt;&gt;&gt; 1; n |= n &gt;&gt;&gt; 2; n |= n &gt;&gt;&gt; 4; n |= n &gt;&gt;&gt; 8; n |= n &gt;&gt;&gt; 16; return (n &lt; 0) ? 1 : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;&#125; å…ˆæ¥åˆ†æžæœ‰å…³nä½æ“ä½œéƒ¨åˆ†ï¼šå…ˆæ¥å‡è®¾nçš„äºŒè¿›åˆ¶ä¸º01xxxâ€¦xxxã€‚æŽ¥ç€ å¯¹nå³ç§»1ä½ï¼š001xxâ€¦xxxï¼Œå†ä½æˆ–ï¼š011xxâ€¦xxx å¯¹nå³ç§»2ä¸ºï¼š00011â€¦xxxï¼Œå†ä½æˆ–ï¼š01111â€¦xxx æ­¤æ—¶å‰é¢å·²ç»æœ‰å››ä¸ª1äº†ï¼Œå†å³ç§»4ä½ä¸”ä½æˆ–å¯å¾—8ä¸ª1 åŒç†ï¼Œæœ‰8ä¸ª1ï¼Œå³ç§»8ä½è‚¯å®šä¼šè®©åŽå…«ä½ä¹Ÿä¸º1ã€‚ ç»¼ä¸Šå¯å¾—ï¼Œè¯¥ç®—æ³•è®©æœ€é«˜ä½çš„1åŽé¢çš„ä½å…¨å˜ä¸º1ã€‚ æœ€åŽå†è®©ç»“æžœn+1ï¼Œå³å¾—åˆ°äº†2çš„æ•´æ•°æ¬¡å¹‚çš„å€¼äº†ã€‚ çŽ°åœ¨å›žæ¥çœ‹çœ‹ç¬¬ä¸€æ¡è¯­å¥ï¼š 1int n = cap - 1; è®©cap-1å†èµ‹å€¼ç»™nçš„ç›®çš„æ˜¯å¦æ‰¾åˆ°çš„ç›®æ ‡å€¼å¤§äºŽæˆ–ç­‰äºŽåŽŸå€¼ã€‚ä¾‹å¦‚äºŒè¿›åˆ¶1000ï¼Œåè¿›åˆ¶æ•°å€¼ä¸º8ã€‚å¦‚æžœä¸å¯¹å®ƒå‡1è€Œç›´æŽ¥æ“ä½œï¼Œå°†å¾—åˆ°ç­”æ¡ˆ10000ï¼Œå³16ã€‚æ˜¾ç„¶ä¸æ˜¯ç»“æžœã€‚å‡1åŽäºŒè¿›åˆ¶ä¸º111ï¼Œå†è¿›è¡Œæ“ä½œåˆ™ä¼šå¾—åˆ°åŽŸæ¥çš„æ•°å€¼1000ï¼Œå³8ã€‚ å‚è€ƒæ–‡çŒ® Java8ç³»åˆ—ä¹‹é‡æ–°è®¤è¯†HashMap Java7HashMapçŸ¥è¯†ç‚¹æ•´ç†\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Java\",\"slug\":\"Java\",\"permalink\":\"http://ltyeamin.github.io/tags/Java/\"}]},{\"title\":\"çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ°\",\"slug\":\"çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ°\",\"date\":\"2019-03-29T11:00:09.000Z\",\"updated\":\"2019-05-29T14:03:52.000Z\",\"comments\":true,\"path\":\"2019/03/29/çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ°/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/03/29/çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ°/\",\"excerpt\":\"\",\"text\":\"è°ˆåˆ°æ•°æ®ç»“æž„çš„æ ‘ï¼Œç¬”è€…çš„å°è±¡ä¸­è¿˜æ˜¯åœ¨å¤§å­¦æ—¶æœŸçš„æ¦‚å¿µï¼Œæœ€æ—©çš„æ¦‚å¿µæºè‡ªäºŽå“ˆå¤«æ›¼æ ‘(æœ€ä¼˜äºŒå‰æ ‘)ï¼Œå…¶ä»–çš„æ ‘ç»“æž„è¿˜æœ‰äºŒå‰æŸ¥æ‰¾æ ‘ã€å®Œå…¨äºŒå‰æ ‘ã€å¹³è¡¡äºŒå‰æ ‘(åˆåˆ†ä¸ºAVLæ ‘ã€RBçº¢é»‘æ ‘ã€SBTã€ä¼¸å±•æ ‘ã€TREAPã€æ›¿ç½ªç¾Šæ ‘ ï¼‰ã€å¹³è¡¡å¤šå‰æ ‘ï¼ˆB - Tree å’ŒB+ Tree)ç­‰ï¼Œä»Šå¤©æˆ‘ä»¬æ¥ç ”ç©¶ä¸€ä¸‹å¹³è¡¡äºŒå‰æ ‘çš„RBçº¢é»‘æ ‘ï¼Œå› ä¸ºRBçº¢é»‘æ ‘åœ¨JAVAä¸­çš„å®žçŽ°è¿˜æ˜¯è›®å¤šçš„ã€‚ çº¢é»‘æ ‘æ˜¯å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘çš„ä¸€ç§ã€‚ä¸ºäº†æ·±å…¥ç†è§£çº¢é»‘æ ‘ï¼Œæˆ‘ä»¬å…ˆå›žå¿†ä¸€ä¸‹å¤§å­¦æ•°æ®ç»“æž„ä¸­çš„äºŒå‰æŸ¥æ‰¾æ ‘ã€‚ äºŒå‰æŸ¥æ‰¾æ ‘åŸºæœ¬æ¦‚å¿µç™¾åº¦ç™¾ç§‘å®šä¹‰å¦‚ä¸‹ï¼š äºŒå‰æŽ’åºæ ‘ï¼ˆBinary Sort Treeï¼‰ï¼Œåˆç§°äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary Search Treeï¼‰ï¼Œäº¦ç§°äºŒå‰æœç´¢æ ‘ã€‚ äºŒå‰æŽ’åºæ ‘æˆ–è€…æ˜¯ä¸€æ£µç©ºæ ‘ï¼Œæˆ–è€…æ˜¯å…·æœ‰ä¸‹åˆ—æ€§è´¨çš„äºŒå‰æ ‘ï¼š ï¼ˆ1ï¼‰è‹¥å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºŽå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› ï¼ˆ2ï¼‰è‹¥å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºŽæˆ–ç­‰äºŽå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› ï¼ˆ3ï¼‰å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æŽ’åºæ ‘ï¼› äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary Search Treeï¼Œç®€ç§°BSTï¼‰æ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼Œå®ƒçš„å·¦å­èŠ‚ç‚¹çš„å€¼æ¯”çˆ¶èŠ‚ç‚¹çš„å€¼è¦å°ï¼Œå³èŠ‚ç‚¹çš„å€¼è¦æ¯”çˆ¶èŠ‚ç‚¹çš„å€¼å¤§ã€‚å®ƒçš„é«˜åº¦å†³å®šäº†å®ƒçš„æŸ¥æ‰¾æ•ˆçŽ‡ã€‚ åœ¨ç†æƒ³çš„æƒ…å†µä¸‹ï¼ŒäºŒå‰æŸ¥æ‰¾æ ‘å¢žåˆ æŸ¥æ”¹çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(logN)ï¼ˆå…¶ä¸­Nä¸ºèŠ‚ç‚¹æ•°ï¼‰ï¼Œæœ€åçš„æƒ…å†µä¸‹ä¸ºO(N)ã€‚å½“å®ƒçš„é«˜åº¦ä¸ºlogN+1æ—¶ï¼Œæˆ‘ä»¬å°±è¯´äºŒå‰æŸ¥æ‰¾æ ‘æ˜¯å¹³è¡¡çš„ã€‚ åŸºæœ¬æ“ä½œæŸ¥æ‰¾1234567891011121314151617181920212223242526// å®šä¹‰ä¸€ä¸ªæœç´¢çš„KeyT key = a search key// æ ‘çš„èŠ‚ç‚¹ï¼Œå½“å‰èŠ‚ç‚¹æŒ‡çš„æ˜¯æ ‘çš„æ ¹èŠ‚ç‚¹Node root = point to the root of a BST//å¾ªçŽ¯æŸ¥æ‰¾æ ‘while(true)&#123; // æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œç›´æŽ¥ç»“æŸï¼Œæ— æ³•ç»§ç»­æŸ¥è¯¢ if(root==null)&#123; break; &#125; // å¦‚æžœæŸ¥æ‰¾åˆ°ï¼Œç›´æŽ¥è¿”å›žå½“å‰çš„èŠ‚ç‚¹ if(root.value.equals(key))&#123; return root; &#125; // æ²¡æœ‰æŸ¥åˆ°åˆ™åšæ¯”è¾ƒç»§ç»­æŸ¥è¯¢ï¼Œå¦‚æžœå½“å‰è¦æŸ¥æ‰¾çš„keyä¸Žå½“å‰èŠ‚ç‚¹valueåšæ¯”è¾ƒï¼Œè‹¥keyå°äºŽå½“å‰èŠ‚ç‚¹çš„valueåœ¨å·¦å­æ ‘æŸ¥æ‰¾ else if(key.compareTo(root.value)&lt;0)&#123; root = root.left; &#125; // è‹¥keyå¤§äºŽå½“å‰èŠ‚ç‚¹çš„valueåœ¨å³å­æ ‘æŸ¥æ‰¾ else&#123; // å°†å³å­—æ•°æŒ‡å‘çš„rootèŠ‚ç‚¹ï¼Œç»§ç»­æŸ¥æ‰¾ root = root.right; &#125;&#125;// æ²¡æœ‰æŸ¥æ‰¾åˆ™è¿”å›žnullreturn null; ä»Žç¨‹åºä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“BSTæŸ¥æ‰¾çš„æ—¶å€™ï¼Œå…ˆä¸Žå½“å‰èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼š å¦‚æžœç›¸ç­‰çš„è¯å°±è¿”å›žå½“å‰èŠ‚ç‚¹ï¼› å¦‚æžœå°‘äºŽå½“å‰èŠ‚ç‚¹åˆ™ç»§ç»­æŸ¥æ‰¾å½“å‰èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼› å¦‚æžœå¤§äºŽå½“å‰èŠ‚ç‚¹åˆ™ç»§ç»­æŸ¥æ‰¾å½“å‰èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ ç›´åˆ°å½“å‰èŠ‚ç‚¹æŒ‡é’ˆä¸ºç©ºæˆ–è€…æŸ¥æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹ï¼Œç¨‹åºæŸ¥æ‰¾ç»“æŸã€‚ æ’å…¥1234567891011121314151617181920212223242526272829303132333435// æ–°èŠ‚ç‚¹Node node = create a new node with specify value// æ ‘çš„èŠ‚ç‚¹ï¼Œé»˜è®¤å½“å‰èŠ‚ç‚¹æŒ‡çš„æ˜¯æ ‘çš„æ ¹èŠ‚ç‚¹Node root = point the root node of a BST// çˆ¶èŠ‚ç‚¹å¼•ç”¨Node parent = null;//find the parent node to append the new node// åœ¨å¾ªçŽ¯ä¸­ï¼Œæ‰¾å¾…æ’å…¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹while(true)&#123; // å¦‚æžœæ ¹èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œåˆ™ç›´æŽ¥ç»“æŸï¼Œæ·»åŠ å¤±è´¥ã€‚ if(root==null) break; // å°†çˆ¶èŠ‚ç‚¹æŒ‡å‘æ ¹èŠ‚ç‚¹ parent = root; // å¦‚æžœæ–°èŠ‚ç‚¹çš„valueå€¼å°äºŽç­‰äºŽrootèŠ‚ç‚¹valueçš„ï¼Œæ·»åŠ åˆ°å·¦å­æ ‘ï¼Œæ‰¾å·¦å­æ ‘çš„çˆ¶èŠ‚ç‚¹ if(node.value.compareTo(root.value)&lt;=0)&#123; root = root.left; &#125;else&#123; // å¦åˆ™ï¼Œæ·»åŠ åˆ°å³å­æ ‘ï¼Œæ‰¾å³å­æ ‘çš„çˆ¶èŠ‚ç‚¹ root = root.right; &#125; &#125;//å¦‚æžœçˆ¶èŠ‚ç‚¹ä¸ä¸ºnullï¼Œæ‰§è¡Œæ·»åŠ æ“ä½œif(parent!=null)&#123; // å¼€å§‹æ·»åŠ æ“ä½œ if(node.value.compareTo(parent.value)&lt;=0)&#123; // æ·»åŠ å·¦å­æ ‘ //append to left parent.left = node; &#125;else&#123; // append to right // å¼€å§‹æ·»åŠ æ“ä½œï¼Œæ·»åŠ å³å­æ ‘ parent.right = node; &#125;&#125; æ’å…¥æ“ä½œå…ˆé€šè¿‡å¾ªçŽ¯æŸ¥æ‰¾åˆ°å¾…æ’å…¥çš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œå’ŒæŸ¥æ‰¾çˆ¶èŠ‚ç‚¹çš„é€»è¾‘ä¸€æ ·ï¼Œéƒ½æ˜¯æ¯”å¤§å°ï¼Œå°çš„å¾€å·¦ï¼Œå¤§çš„å¾€å³ã€‚æ‰¾åˆ°çˆ¶èŠ‚ç‚¹åŽï¼Œå¯¹æ¯”çˆ¶èŠ‚ç‚¹ï¼Œå°çš„å°±æ’å…¥åˆ°çˆ¶èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œå¤§å°±æ’å…¥åˆ°çˆ¶èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ä¸Šã€‚ åˆ é™¤1234567891011121314151617181920212223242526272829// å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œå¯æ ¹æ®æŸ¥æ‰¾ä»£ç æŸ¥æ‰¾å‡ºå¾…åˆ é™¤çš„èŠ‚ç‚¹Node node = delete a new node with specify value// å¦‚æžœèŠ‚ç‚¹å­˜åœ¨ï¼Œåˆ™è¿›è¡Œåˆ é™¤if (node != null) &#123; // å¦‚æžœèŠ‚ç‚¹æœ‰å·¦å­æ ‘ï¼Œåˆ™ç»§ç»­æ“ä½œ if (node.left != null) &#123; // æ‰¾åˆ°å…¶å·¦å­æ ‘çš„æœ€å³è¾¹çš„å¶å­ç»“ç‚¹leftRï¼Œç”¨è¯¥å¶å­ç»“ç‚¹leftRæ¥æ›¿ä»£å¾…åˆ é™¤çš„èŠ‚ç‚¹node.æŠŠleftRçš„å·¦å­©å­ä½œä¸ºleftRçš„çˆ¶äº²çš„å³å­©å­ã€‚ Node leftR = node.left; // å…ˆå‰çš„èŠ‚ç‚¹çš„å¤‡ä»½ Node prev = node.left; while(leftR.left != null) &#123; prev = leftR; leftR = leftR.right; &#125; // å°†æŸ¥æ‰¾åˆ°çš„leftR.valueèµ‹å€¼åˆ°node.value node.value = leftR.value; // è‹¥leftRä¸æ˜¯nodeçš„å·¦å­æ ‘,nodeçš„å·¦å­æ ‘ä¸å˜ï¼ŒleftRçš„å·¦å­æ ‘ä½œä¸ºleftRçš„çˆ¶ç»“ç‚¹çš„å³å­©å­ç»“ç‚¹ if(prev != leftR) &#123; prev.right = leftR.left; &#125; else &#123; // è‹¥æ˜¯leftRçš„å·¦å­æ ‘ï¼Œåˆ™nodeçš„å·¦å­æ ‘æŒ‡å‘leftRçš„å·¦å­æ ‘ node.left=leftR.right; &#125; &#125; else &#123; // å¦‚æžœèŠ‚ç‚¹æœ‰å·¦å­æ ‘ï¼Œç›´æŽ¥ç”¨nodeèŠ‚ç‚¹çš„å³å­©å­å–ä»£å®ƒ node = node.right; &#125;&#125; åˆ é™¤æ“ä½œçš„æ­¥éª¤å¦‚ä¸‹ï¼š æŸ¥æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹ã€‚ å¦‚æžœå¾…åˆ é™¤çš„èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹ï¼Œå³PL(å·¦å­æ ‘)å’ŒPR(å³å­æ ‘)å‡ä¸ºç©ºæ ‘ï¼Œç”±äºŽåˆ åŽ»å¶å­ç»“ç‚¹ä¸ç ´åæ•´æ£µæ ‘çš„ç»“æž„ï¼Œåˆ™ç›´æŽ¥åˆ é™¤ã€‚ å¦‚æžœå¾…åˆ é™¤çš„èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œåˆ™å…ˆæ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹çš„ä¸­åºéåŽ†çš„åŽç»§èŠ‚ç‚¹ï¼Œç”¨è¯¥åŽç»§èŠ‚ç‚¹çš„å€¼æ›¿æ¢å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„å€¼ï¼Œç„¶åŽåˆ é™¤åŽç»§èŠ‚ç‚¹ã€‚ å­˜åœ¨çš„å¼Šç«¯BSTå­˜åœ¨çš„ä¸»è¦é—®é¢˜æ˜¯ï¼Œæ•°åœ¨æ’å…¥çš„æ—¶å€™ä¼šå¯¼è‡´æ ‘å€¾æ–œï¼Œä¸åŒçš„æ’å…¥é¡ºåºä¼šå¯¼è‡´æ ‘çš„é«˜åº¦ä¸ä¸€æ ·ï¼Œè€Œæ ‘çš„é«˜åº¦ç›´æŽ¥çš„å½±å“äº†æ ‘çš„æŸ¥æ‰¾æ•ˆçŽ‡ã€‚ç†æƒ³çš„é«˜åº¦æ˜¯logNï¼Œæœ€åçš„æƒ…å†µæ˜¯æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½åœ¨ä¸€æ¡æ–œçº¿ä¸Šï¼Œè¿™æ ·çš„æ ‘çš„é«˜åº¦ä¸ºNã€‚ ä»‹äºŽä»¥ä¸Šçš„å¼Šç«¯ï¼Œæˆ‘ä»¬æœ‰å…¶ä»–æ–°çš„çš„æ ‘ç»“æž„é€‰æ‹©ï¼šSize Balanced Tree(SBT)ã€AVLæ ‘ã€RBçº¢é»‘æ ‘ã€Treap(Tree+Heap)ã€‚è¿™äº›å‡å¯ä»¥ä½¿æŸ¥æ‰¾æ ‘çš„é«˜åº¦ä¸ºO(log(n))ã€‚ RBçº¢é»‘æ ‘åŸºæœ¬æ¦‚å¿µ çº¢é»‘æ ‘ï¼ˆRed Black Treeï¼‰ æ˜¯ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œåˆç§°å¯¹ç§°äºŒå‰Bæ ‘ï¼Œæ˜¯åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ç”¨åˆ°çš„ä¸€ç§æ•°æ®ç»“æž„ï¼Œå…¸åž‹çš„ç”¨é€”æ˜¯å®žçŽ°å…³è”æ•°ç»„ã€‚ å®ƒæ˜¯åœ¨1972å¹´ç”±Rudolf Bayerå‘æ˜Žçš„ï¼Œå½“æ—¶è¢«ç§°ä¸ºå¹³è¡¡äºŒå‰Bæ ‘ï¼ˆsymmetric binary B-treesï¼‰ã€‚åŽæ¥ï¼Œåœ¨1978å¹´è¢« Leo J. Guibas å’Œ Robert Sedgewick ä¿®æ”¹ä¸ºå¦‚ä»Šçš„â€œçº¢é»‘æ ‘â€ã€‚ çº¢é»‘æ ‘å’ŒAVLæ ‘ç±»ä¼¼ï¼Œéƒ½æ˜¯åœ¨è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶é€šè¿‡ç‰¹å®šæ“ä½œä¿æŒäºŒå‰æŸ¥æ‰¾æ ‘çš„å¹³è¡¡ï¼Œä»Žè€ŒèŽ·å¾—è¾ƒé«˜çš„æŸ¥æ‰¾æ€§èƒ½ã€‚ å®ƒè™½ç„¶æ˜¯å¤æ‚çš„ï¼Œä½†å®ƒçš„æœ€åæƒ…å†µè¿è¡Œæ—¶é—´ä¹Ÿæ˜¯éžå¸¸è‰¯å¥½çš„ï¼Œå¹¶ä¸”åœ¨å®žè·µä¸­æ˜¯é«˜æ•ˆçš„ï¼š å®ƒå¯ä»¥åœ¨O(log n)æ—¶é—´å†…åšæŸ¥æ‰¾ï¼Œæ’å…¥å’Œåˆ é™¤ï¼Œè¿™é‡Œçš„n æ˜¯æ ‘ä¸­å…ƒç´ çš„æ•°ç›®ã€‚ åŸºäºŽBSTå­˜åœ¨çš„é—®é¢˜ï¼Œä¸€ç§æ–°çš„æ ‘â€”â€”å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘(Balanced BST)äº§ç”Ÿäº†ã€‚å¹³è¡¡æ ‘åœ¨æ’å…¥å’Œåˆ é™¤çš„æ—¶å€™ï¼Œä¼šé€šè¿‡æ—‹è½¬æ“ä½œå°†é«˜åº¦ä¿æŒåœ¨logNã€‚å…¶ä¸­ä¸¤æ¬¾å…·æœ‰ä»£è¡¨æ€§çš„å¹³è¡¡æ ‘åˆ†åˆ«ä¸ºAVLæ ‘å’Œçº¢é»‘æ ‘ã€‚AVLæ ‘ç”±äºŽå®žçŽ°æ¯”è¾ƒå¤æ‚ï¼Œè€Œä¸”æ’å…¥å’Œåˆ é™¤æ€§èƒ½å·®ï¼Œåœ¨å®žé™…çŽ¯å¢ƒä¸‹çš„åº”ç”¨ä¸å¦‚çº¢é»‘æ ‘ã€‚ çº¢é»‘æ ‘ï¼ˆRed-Black Treeï¼Œä»¥ä¸‹ç®€ç§°RBTreeï¼‰çš„å®žé™…åº”ç”¨éžå¸¸å¹¿æ³›ï¼Œæ¯”å¦‚Linuxå†…æ ¸ä¸­çš„å®Œå…¨å…¬å¹³è°ƒåº¦å™¨ã€é«˜ç²¾åº¦è®¡æ—¶å™¨ã€ext3æ–‡ä»¶ç³»ç»Ÿç­‰ç­‰ï¼Œå„ç§è¯­è¨€çš„å‡½æ•°åº“å¦‚Javaçš„TreeMapå’ŒTreeSetï¼ŒC++ STLçš„mapã€multimapã€multisetç­‰ã€‚ RBTreeä¹Ÿæ˜¯å‡½æ•°å¼è¯­è¨€ä¸­æœ€å¸¸ç”¨çš„æŒä¹…æ•°æ®ç»“æž„ä¹‹ä¸€ï¼Œåœ¨è®¡ç®—å‡ ä½•ä¸­ä¹Ÿæœ‰é‡è¦ä½œç”¨ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒJava 8ä¸­HashMapçš„å®žçŽ°ä¹Ÿå› ä¸ºç”¨RBTreeå–ä»£é“¾è¡¨ï¼Œæ€§èƒ½æœ‰æ‰€æå‡ã€‚ åŸºæœ¬å®šä¹‰RBTreeçš„å®šä¹‰å¦‚ä¸‹: ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹éƒ½æœ‰é¢œè‰²ï¼Œé»‘è‰²æˆ–è€…çº¢è‰²ï¼› æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ï¼› çˆ¶å­èŠ‚ç‚¹ä¹‹é—´ä¸èƒ½å‡ºçŽ°ä¸¤ä¸ªè¿žç»­çš„çº¢èŠ‚ç‚¹ ï¼› ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹å‘ä¸‹éåŽ†åˆ°å…¶å­å­™çš„å¶å­èŠ‚ç‚¹ï¼Œæ‰€ç»è¿‡çš„é»‘èŠ‚ç‚¹ä¸ªæ•°å¿…é¡»ç›¸ç­‰ ï¼› ç©ºèŠ‚ç‚¹è¢«è®¤ä¸ºæ˜¯é»‘è‰²çš„ã€‚ æ•°æ®ç»“æž„è¡¨ç¤ºå¦‚ä¸‹ï¼š 1234567lass Node&lt;T&gt;&#123; public T value; public Node&lt;T&gt; parent; public boolean isRed; public Node&lt;T&gt; left; public Node&lt;T&gt; right;&#125; RBTreeåœ¨ç†è®ºä¸Šè¿˜æ˜¯ä¸€æ£µBSTæ ‘ï¼Œä½†æ˜¯å®ƒåœ¨å¯¹BSTçš„æ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶ä¼šç»´æŒæ ‘çš„å¹³è¡¡ï¼Œå³ä¿è¯æ ‘çš„é«˜åº¦åœ¨[logN,logN+1]ï¼ˆç†è®ºä¸Šï¼Œæžç«¯çš„æƒ…å†µä¸‹å¯ä»¥å‡ºçŽ°RBTreeçš„é«˜åº¦è¾¾åˆ°2*logNï¼Œä½†å®žé™…ä¸Šå¾ˆéš¾é‡åˆ°ï¼‰ã€‚è¿™æ ·RBTreeçš„æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦å§‹ç»ˆä¿æŒåœ¨O(logN)ä»Žè€ŒæŽ¥è¿‘äºŽç†æƒ³çš„BSTã€‚RBTreeçš„åˆ é™¤å’Œæ’å…¥æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(logN)ã€‚RBTreeçš„æŸ¥æ‰¾æ“ä½œå°±æ˜¯BSTçš„æŸ¥æ‰¾æ“ä½œã€‚ åŸºæœ¬æ“ä½œæ—‹è½¬æ“ä½œæ—‹è½¬æ“ä½œ(Rotate)çš„ç›®çš„æ˜¯ä½¿èŠ‚ç‚¹é¢œè‰²ç¬¦åˆå®šä¹‰ï¼Œè®©RBTreeçš„é«˜åº¦è¾¾åˆ°å¹³è¡¡ã€‚ Rotateåˆ†ä¸ºleft-rotateï¼ˆå·¦æ—‹ï¼‰å’Œright-rotateï¼ˆå³æ—‹ï¼‰ï¼ŒåŒºåˆ†å·¦æ—‹å’Œå³æ—‹çš„æ–¹æ³•æ˜¯ï¼šå¾…æ—‹è½¬çš„èŠ‚ç‚¹ä»Žå·¦è¾¹ä¸Šå‡åˆ°çˆ¶èŠ‚ç‚¹å°±æ˜¯å³æ—‹ï¼Œå¾…æ—‹è½¬çš„èŠ‚ç‚¹ä»Žå³è¾¹ä¸Šå‡åˆ°çˆ¶èŠ‚ç‚¹å°±æ˜¯å·¦æ—‹ã€‚ æŸ¥æ‰¾æ“ä½œRBTreeçš„æŸ¥æ‰¾æ“ä½œå’ŒBSTçš„æŸ¥æ‰¾æ“ä½œæ˜¯ä¸€æ ·çš„ã€‚è¯·å‚è€ƒBSTçš„æŸ¥æ‰¾æ“ä½œä»£ç ã€‚ æ’å…¥æ“ä½œRBTreeçš„æ’å…¥ä¸ŽBSTçš„æ’å…¥æ–¹å¼æ˜¯ä¸€è‡´çš„ï¼Œåªä¸è¿‡æ˜¯åœ¨æ’å…¥è¿‡åŽï¼Œå¯èƒ½ä¼šå¯¼è‡´æ ‘çš„ä¸å¹³è¡¡ï¼Œè¿™æ—¶å°±éœ€è¦å¯¹æ ‘è¿›è¡Œæ—‹è½¬æ“ä½œå’Œé¢œè‰²ä¿®å¤ï¼ˆåœ¨è¿™é‡Œç®€ç§°æ’å…¥ä¿®å¤ï¼‰ï¼Œä½¿å¾—å®ƒç¬¦åˆRBTreeçš„å®šä¹‰ã€‚ æ–°æ’å…¥çš„èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œæ’å…¥ä¿®å¤æ“ä½œå¦‚æžœé‡åˆ°çˆ¶èŠ‚ç‚¹çš„é¢œè‰²ä¸ºé»‘åˆ™ä¿®å¤æ“ä½œç»“æŸã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åœ¨çˆ¶èŠ‚ç‚¹ä¸ºçº¢è‰²èŠ‚ç‚¹çš„æ—¶å€™æ˜¯éœ€è¦æ’å…¥ä¿®å¤æ“ä½œçš„ã€‚ æ’å…¥ä¿®å¤æ“ä½œåˆ†ä¸ºä»¥ä¸‹çš„ä¸‰ç§æƒ…å†µï¼Œè€Œä¸”æ–°æ’å…¥çš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯çº¢è‰²çš„ï¼š å”å”èŠ‚ç‚¹ä¹Ÿä¸ºçº¢è‰²ã€‚ å”å”èŠ‚ç‚¹ä¸ºç©ºï¼Œä¸”ç¥–çˆ¶èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹å¤„äºŽä¸€æ¡æ–œçº¿ä¸Šã€‚ å”å”èŠ‚ç‚¹ä¸ºç©ºï¼Œä¸”ç¥–çˆ¶èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹ä¸å¤„äºŽä¸€æ¡æ–œçº¿ä¸Šã€‚ æ’å…¥æ“ä½œç¤ºä¾‹1 ç¤ºä¾‹1çš„æ“ä½œæ˜¯å°†çˆ¶èŠ‚ç‚¹å’Œå”å”èŠ‚ç‚¹ä¸Žç¥–çˆ¶èŠ‚ç‚¹çš„é¢œè‰²äº’æ¢ï¼Œè¿™æ ·å°±ç¬¦åˆäº†RBTReeçš„å®šä¹‰ã€‚å³ç»´æŒäº†é«˜åº¦çš„å¹³è¡¡ï¼Œä¿®å¤åŽé¢œè‰²ä¹Ÿç¬¦åˆRBTreeå®šä¹‰çš„ç¬¬ä¸‰æ¡å’Œç¬¬å››æ¡ã€‚ä¸‹å›¾ä¸­ï¼Œæ“ä½œå®ŒæˆåŽAèŠ‚ç‚¹å˜æˆäº†æ–°çš„èŠ‚ç‚¹ã€‚å¦‚æžœAèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸æ˜¯é»‘è‰²çš„è¯ï¼Œåˆ™ç»§ç»­åšä¿®å¤æ“ä½œã€‚ æ’å…¥æ“ä½œç¤ºä¾‹2 ç¤ºä¾‹2çš„æ“ä½œæ˜¯å°†BèŠ‚ç‚¹è¿›è¡Œå³æ—‹æ“ä½œï¼Œå¹¶ä¸”å’Œçˆ¶èŠ‚ç‚¹Aäº’æ¢é¢œè‰²ã€‚é€šè¿‡è¯¥ä¿®å¤æ“ä½œRBTReeçš„é«˜åº¦å’Œé¢œè‰²éƒ½ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ã€‚å¦‚æžœBå’ŒCèŠ‚ç‚¹éƒ½æ˜¯å³èŠ‚ç‚¹çš„è¯ï¼Œåªè¦å°†æ“ä½œå˜æˆå·¦æ—‹å°±å¯ä»¥äº†ã€‚ æ’å…¥æ“ä½œç¤ºä¾‹3 ç¤ºä¾‹ 3çš„æ“ä½œæ˜¯å°†CèŠ‚ç‚¹è¿›è¡Œå·¦æ—‹ï¼Œè¿™æ ·å°±ä»Žç¤ºä¾‹ 3è½¬æ¢æˆç¤ºä¾‹ 2äº†ï¼Œç„¶åŽé’ˆå¯¹ç¤ºä¾‹ 2è¿›è¡Œæ“ä½œå¤„ç†å°±è¡Œäº†ã€‚ç¤ºä¾‹ 2æ“ä½œåšäº†ä¸€ä¸ªå³æ—‹æ“ä½œå’Œé¢œè‰²äº’æ¢æ¥è¾¾åˆ°ç›®çš„ã€‚å¦‚æžœæ ‘çš„ç»“æž„æ˜¯ä¸‹å›¾çš„é•œåƒç»“æž„ï¼Œåˆ™åªéœ€è¦å°†å¯¹åº”çš„å·¦æ—‹å˜æˆå³æ—‹ï¼Œå³æ—‹å˜æˆå·¦æ—‹å³å¯ã€‚ æ’å…¥æ“ä½œçš„æ€»ç»“: æ’å…¥åŽçš„ä¿®å¤æ“ä½œæ˜¯ä¸€ä¸ªå‘rootèŠ‚ç‚¹å›žæº¯çš„æ“ä½œï¼Œä¸€æ—¦ç‰µæ¶‰çš„èŠ‚ç‚¹éƒ½ç¬¦åˆäº†çº¢é»‘æ ‘çš„å®šä¹‰ï¼Œä¿®å¤æ“ä½œç»“æŸã€‚ä¹‹æ‰€ä»¥ä¼šå‘ä¸Šå›žæº¯æ˜¯ç”±äºŽç¤ºä¾‹ 1æ“ä½œä¼šå°†çˆ¶èŠ‚ç‚¹ï¼Œå”å”èŠ‚ç‚¹å’Œç¥–çˆ¶èŠ‚ç‚¹è¿›è¡Œæ¢é¢œè‰²ï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´ç¥–çˆ¶èŠ‚ç‚¹ä¸å¹³è¡¡(çº¢é»‘æ ‘å®šä¹‰3)ã€‚è¿™ä¸ªæ—¶å€™éœ€è¦å¯¹ç¥–çˆ¶èŠ‚ç‚¹ä¸ºèµ·ç‚¹è¿›è¡Œè°ƒèŠ‚ï¼ˆå‘ä¸Šå›žæº¯ï¼‰ã€‚ ç¥–çˆ¶èŠ‚ç‚¹è°ƒèŠ‚åŽå¦‚æžœè¿˜æ˜¯é‡åˆ°å®ƒçš„ç¥–çˆ¶é¢œè‰²é—®é¢˜ï¼Œæ“ä½œå°±ä¼šç»§ç»­å‘ä¸Šå›žæº¯ï¼Œç›´åˆ°rootèŠ‚ç‚¹ä¸ºæ­¢ï¼Œæ ¹æ®å®šä¹‰rootèŠ‚ç‚¹æ°¸è¿œæ˜¯é»‘è‰²çš„ã€‚åœ¨å‘ä¸Šçš„è¿½æº¯çš„è¿‡ç¨‹ä¸­ï¼Œé’ˆå¯¹æ’å…¥çš„3ä¸­æƒ…å†µè¿›è¡Œè°ƒèŠ‚ã€‚ç›´åˆ°ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ä¸ºæ­¢ã€‚ç›´åˆ°ç‰µæ¶‰çš„èŠ‚ç‚¹éƒ½ç¬¦åˆäº†çº¢é»‘æ ‘çš„å®šä¹‰ï¼Œä¿®å¤æ“ä½œç»“æŸã€‚ å¦‚æžœä¸Šé¢çš„3ä¸­æƒ…å†µå¦‚æžœå¯¹åº”çš„æ“ä½œæ˜¯åœ¨å³å­æ ‘ä¸Šï¼Œåšå¯¹åº”çš„é•œåƒæ“ä½œå°±æ˜¯äº†ã€‚ åˆ é™¤æ“ä½œåˆ é™¤æ“ä½œé¦–å…ˆéœ€è¦åšçš„ä¹Ÿæ˜¯BSTçš„åˆ é™¤æ“ä½œï¼Œåˆ é™¤æ“ä½œä¼šåˆ é™¤å¯¹åº”çš„èŠ‚ç‚¹ï¼Œå¦‚æžœæ˜¯å¶å­èŠ‚ç‚¹å°±ç›´æŽ¥åˆ é™¤ï¼Œå¦‚æžœæ˜¯éžå¶å­èŠ‚ç‚¹ï¼Œä¼šç”¨å¯¹åº”çš„ä¸­åºéåŽ†çš„åŽç»§èŠ‚ç‚¹æ¥é¡¶æ›¿è¦åˆ é™¤èŠ‚ç‚¹çš„ä½ç½®ã€‚åˆ é™¤åŽå°±éœ€è¦åšåˆ é™¤ä¿®å¤æ“ä½œï¼Œä½¿çš„æ ‘ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ï¼Œç¬¦åˆå®šä¹‰çš„çº¢é»‘æ ‘é«˜åº¦æ˜¯å¹³è¡¡çš„ã€‚ åˆ é™¤ä¿®å¤æ“ä½œåœ¨é‡åˆ°è¢«åˆ é™¤çš„èŠ‚ç‚¹æ˜¯çº¢è‰²èŠ‚ç‚¹æˆ–è€…åˆ°è¾¾rootèŠ‚ç‚¹æ—¶ï¼Œä¿®å¤æ“ä½œå®Œæ¯•ã€‚ åˆ é™¤ä¿®å¤æ“ä½œæ˜¯é’ˆå¯¹åˆ é™¤é»‘è‰²èŠ‚ç‚¹æ‰æœ‰çš„ï¼Œå½“é»‘è‰²èŠ‚ç‚¹è¢«åˆ é™¤åŽä¼šè®©æ•´ä¸ªæ ‘ä¸ç¬¦åˆRBTreeçš„å®šä¹‰çš„ç¬¬å››æ¡ã€‚éœ€è¦åšçš„å¤„ç†æ˜¯ä»Žå…„å¼ŸèŠ‚ç‚¹ä¸Šå€Ÿè°ƒé»‘è‰²çš„èŠ‚ç‚¹è¿‡æ¥ï¼Œå¦‚æžœå…„å¼ŸèŠ‚ç‚¹æ²¡æœ‰é»‘èŠ‚ç‚¹å¯ä»¥å€Ÿè°ƒçš„è¯ï¼Œå°±åªèƒ½å¾€ä¸Šè¿½æº¯ï¼Œå°†æ¯ä¸€çº§çš„é»‘èŠ‚ç‚¹æ•°å‡åŽ»ä¸€ä¸ªï¼Œä½¿å¾—æ•´æ£µæ ‘ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ã€‚ åˆ é™¤æ“ä½œçš„æ€»ä½“æ€æƒ³æ˜¯ä»Žå…„å¼ŸèŠ‚ç‚¹å€Ÿè°ƒé»‘è‰²èŠ‚ç‚¹ä½¿æ ‘ä¿æŒå±€éƒ¨çš„å¹³è¡¡ï¼Œå¦‚æžœå±€éƒ¨çš„å¹³è¡¡è¾¾åˆ°äº†ï¼Œå°±çœ‹æ•´ä½“çš„æ ‘æ˜¯å¦æ˜¯å¹³è¡¡çš„ï¼Œå¦‚æžœä¸å¹³è¡¡å°±æŽ¥ç€å‘ä¸Šè¿½æº¯è°ƒæ•´ã€‚ åˆ é™¤ä¿®å¤æ“ä½œåˆ†ä¸ºå››ç§æƒ…å†µ(åˆ é™¤é»‘èŠ‚ç‚¹åŽ)ï¼š å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²çš„èŠ‚ç‚¹ã€‚ å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²çš„èŠ‚ç‚¹ï¼Œä¸”å…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ã€‚ å¾…è°ƒæ•´çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²çš„èŠ‚ç‚¹ï¼Œä¸”å…„å¼ŸèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œå³èŠ‚ç‚¹æ˜¯é»‘è‰²çš„(å…„å¼ŸèŠ‚ç‚¹åœ¨å³è¾¹)ï¼Œ å¦‚æžœå…„å¼ŸèŠ‚ç‚¹åœ¨å·¦è¾¹çš„è¯ï¼Œå°±æ˜¯å…„å¼ŸèŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œå·¦èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ã€‚ å¾…è°ƒæ•´çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²çš„èŠ‚ç‚¹ï¼Œä¸”å³å­èŠ‚ç‚¹æ˜¯æ˜¯çº¢è‰²çš„(å…„å¼ŸèŠ‚ç‚¹åœ¨å³è¾¹)ï¼Œå¦‚æžœå…„å¼ŸèŠ‚ç‚¹åœ¨å·¦è¾¹ï¼Œåˆ™å°±æ˜¯å¯¹åº”çš„å°±æ˜¯å·¦èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ã€‚ åˆ é™¤æ“ä½œç¤ºä¾‹1 ç”±äºŽå…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²èŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ— æ³•å€Ÿè°ƒé»‘èŠ‚ç‚¹ï¼Œæ‰€ä»¥éœ€è¦å°†å…„å¼ŸèŠ‚ç‚¹æå‡åˆ°çˆ¶èŠ‚ç‚¹ï¼Œç”±äºŽå…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œæ ¹æ®RBTreeçš„å®šä¹‰ï¼Œå…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ï¼Œå°±å¯ä»¥ä»Žå®ƒçš„å­èŠ‚ç‚¹å€Ÿè°ƒäº†ã€‚ ç¤ºä¾‹1è¿™æ ·è½¬æ¢ä¹‹åŽå°±ä¼šå˜æˆåŽé¢çš„ç¤ºä¾‹2ï¼Œç¤ºä¾‹3ï¼Œæˆ–è€…ç¤ºä¾‹4è¿›è¡Œå¤„ç†äº†ã€‚ä¸Šå‡æ“ä½œéœ€è¦å¯¹Cåšä¸€ä¸ªå·¦æ—‹æ“ä½œï¼Œå¦‚æžœæ˜¯é•œåƒç»“æž„çš„æ ‘åªéœ€è¦åšå¯¹åº”çš„å³æ—‹æ“ä½œå³å¯ã€‚ ä¹‹æ‰€ä»¥è¦åšç¤ºä¾‹1æ“ä½œæ˜¯å› ä¸ºå…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œæ— æ³•å€Ÿåˆ°ä¸€ä¸ªé»‘èŠ‚ç‚¹æ¥å¡«è¡¥åˆ é™¤çš„é»‘èŠ‚ç‚¹ã€‚ åˆ é™¤æ“ä½œç¤ºä¾‹2 ç¤ºä¾‹2çš„åˆ é™¤æ“ä½œæ˜¯ç”±äºŽå…„å¼ŸèŠ‚ç‚¹å¯ä»¥æ¶ˆé™¤ä¸€ä¸ªé»‘è‰²èŠ‚ç‚¹ï¼Œå› ä¸ºå…„å¼ŸèŠ‚ç‚¹å’Œå…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ï¼Œæ‰€ä»¥å¯ä»¥å°†å…„å¼ŸèŠ‚ç‚¹å˜çº¢ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯æ ‘çš„å±€éƒ¨çš„é¢œè‰²ç¬¦åˆå®šä¹‰äº†ã€‚è¿™ä¸ªæ—¶å€™éœ€è¦å°†çˆ¶èŠ‚ç‚¹Aå˜æˆæ–°çš„èŠ‚ç‚¹ï¼Œç»§ç»­å‘ä¸Šè°ƒæ•´ï¼Œç›´åˆ°æ•´é¢—æ ‘çš„é¢œè‰²ç¬¦åˆRBTreeçš„å®šä¹‰ä¸ºæ­¢ã€‚ ç¤ºä¾‹2è¿™ç§æƒ…å†µä¸‹ä¹‹æ‰€ä»¥è¦å°†å…„å¼ŸèŠ‚ç‚¹å˜çº¢ï¼Œæ˜¯å› ä¸ºå¦‚æžœæŠŠå…„å¼ŸèŠ‚ç‚¹å€Ÿè°ƒè¿‡æ¥ï¼Œä¼šå¯¼è‡´å…„å¼Ÿçš„ç»“æž„ä¸ç¬¦åˆRBTreeçš„å®šä¹‰ï¼Œè¿™æ ·çš„æƒ…å†µä¸‹åªèƒ½æ˜¯å°†å…„å¼ŸèŠ‚ç‚¹ä¹Ÿå˜æˆçº¢è‰²æ¥è¾¾åˆ°é¢œè‰²çš„å¹³è¡¡ã€‚å½“å°†å…„å¼ŸèŠ‚ç‚¹ä¹Ÿå˜çº¢ä¹‹åŽï¼Œè¾¾åˆ°äº†å±€éƒ¨çš„å¹³è¡¡äº†ï¼Œä½†æ˜¯å¯¹äºŽç¥–çˆ¶èŠ‚ç‚¹æ¥è¯´æ˜¯ä¸ç¬¦åˆå®šä¹‰4çš„ã€‚è¿™æ ·å°±éœ€è¦å›žæº¯åˆ°çˆ¶èŠ‚ç‚¹ï¼ŒæŽ¥ç€è¿›è¡Œä¿®å¤æ“ä½œã€‚ åˆ é™¤æ“ä½œç¤ºä¾‹3 ç¤ºä¾‹3çš„åˆ é™¤æ“ä½œæ˜¯ä¸€ä¸ªä¸­é—´æ­¥éª¤ï¼Œå®ƒçš„ç›®çš„æ˜¯å°†å·¦è¾¹çš„çº¢è‰²èŠ‚ç‚¹å€Ÿè°ƒè¿‡æ¥ï¼Œè¿™æ ·å°±å¯ä»¥è½¬æ¢æˆç¤ºä¾‹4çŠ¶æ€äº†ï¼Œåœ¨ç¤ºä¾‹4çŠ¶æ€ä¸‹å¯ä»¥å°†Dï¼ŒEèŠ‚ç‚¹éƒ½é˜¶æ®µè¿‡æ¥ï¼Œé€šè¿‡å°†ä¸¤ä¸ªèŠ‚ç‚¹å˜æˆé»‘è‰²æ¥ä¿è¯çº¢é»‘æ ‘çš„æ•´ä½“å¹³è¡¡ã€‚ ä¹‹æ‰€ä»¥è¯´case-3æ˜¯ä¸€ä¸ªä¸­é—´çŠ¶æ€ï¼Œæ˜¯å› ä¸ºæ ¹æ®çº¢é»‘æ ‘çš„å®šä¹‰æ¥è¯´ï¼Œä¸‹å›¾å¹¶ä¸æ˜¯å¹³è¡¡çš„ï¼Œä»–æ˜¯é€šè¿‡ç¤ºä¾‹2æ“ä½œå®ŒåŽå‘ä¸Šå›žæº¯å‡ºçŽ°çš„çŠ¶æ€ã€‚ä¹‹æ‰€ä»¥ä¼šå‡ºçŽ°ç¤ºä¾‹3å’ŒåŽé¢çš„ç¤ºä¾‹4çš„æƒ…å†µï¼Œæ˜¯å› ä¸ºå¯ä»¥é€šè¿‡å€Ÿç”¨ä¾„å­èŠ‚ç‚¹çš„çº¢è‰²ï¼Œå˜æˆé»‘è‰²æ¥ç¬¦åˆçº¢é»‘æ ‘å®šä¹‰4. åˆ é™¤æ“ä½œç¤ºä¾‹4 ç¤ºä¾‹4çš„æ“ä½œæ˜¯çœŸæ­£çš„èŠ‚ç‚¹å€Ÿè°ƒæ“ä½œï¼Œé€šè¿‡å°†å…„å¼ŸèŠ‚ç‚¹ä»¥åŠå…„å¼ŸèŠ‚ç‚¹çš„å³èŠ‚ç‚¹å€Ÿè°ƒè¿‡æ¥ï¼Œå¹¶å°†å…„å¼ŸèŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹å˜æˆçº¢è‰²æ¥è¾¾åˆ°å€Ÿè°ƒä¸¤ä¸ªé»‘èŠ‚ç‚¹çš„ç›®çš„ï¼Œè¿™æ ·çš„è¯ï¼Œæ•´æ£µæ ‘è¿˜æ˜¯ç¬¦åˆRBTreeçš„å®šä¹‰çš„ã€‚ ç¤ºä¾‹4è¿™ç§æƒ…å†µçš„å‘ç”Ÿåªæœ‰åœ¨å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹ä¸ºé»‘ï¼Œä¸”å­èŠ‚ç‚¹ä¸å…¨éƒ¨ä¸ºé»‘ï¼Œæ‰æœ‰å¯èƒ½å€Ÿè°ƒåˆ°ä¸¤ä¸ªèŠ‚ç‚¹æ¥åšé»‘èŠ‚ç‚¹ä½¿ç”¨ï¼Œä»Žè€Œä¿æŒæ•´æ£µæ ‘éƒ½ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ã€‚ åˆ é™¤æ“ä½œçš„æ€»ç»“: çº¢é»‘æ ‘çš„åˆ é™¤æ“ä½œæ˜¯æœ€å¤æ‚çš„æ“ä½œï¼Œå¤æ‚çš„åœ°æ–¹å°±åœ¨äºŽå½“åˆ é™¤äº†é»‘è‰²èŠ‚ç‚¹çš„æ—¶å€™ï¼Œå¦‚ä½•ä»Žå…„å¼ŸèŠ‚ç‚¹åŽ»å€Ÿè°ƒèŠ‚ç‚¹ï¼Œä»¥ä¿è¯æ ‘çš„é¢œè‰²ç¬¦åˆå®šä¹‰ã€‚ç”±äºŽçº¢è‰²çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯æ²¡æ³•å€Ÿè°ƒå‡ºé»‘èŠ‚ç‚¹çš„ï¼Œè¿™æ ·åªèƒ½é€šè¿‡é€‰æ‹©æ“ä½œè®©ä»–ä¸Šå‡åˆ°çˆ¶èŠ‚ç‚¹ï¼Œè€Œç”±äºŽå®ƒæ˜¯çº¢èŠ‚ç‚¹ï¼Œæ‰€ä»¥å®ƒçš„å­èŠ‚ç‚¹å°±æ˜¯é»‘çš„ï¼Œå¯ä»¥å€Ÿè°ƒã€‚ å¯¹äºŽå…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²èŠ‚ç‚¹çš„å¯ä»¥åˆ†æˆ3ç§æƒ…å†µæ¥å¤„ç†ï¼Œå½“æ‰€ä»¥çš„å…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²èŠ‚ç‚¹æ—¶ï¼Œå¯ä»¥ç›´æŽ¥å°†å…„å¼ŸèŠ‚ç‚¹å˜çº¢ï¼Œè¿™æ ·å±€éƒ¨çš„çº¢é»‘æ ‘é¢œè‰²æ˜¯ç¬¦åˆå®šä¹‰çš„ã€‚ä½†æ˜¯æ•´é¢—æ ‘ä¸ä¸€å®šæ˜¯ç¬¦åˆçº¢é»‘æ ‘å®šä¹‰çš„ï¼Œéœ€è¦å¾€ä¸Šè¿½æº¯ç»§ç»­è°ƒæ•´ã€‚ å¯¹äºŽå…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¸ºå·¦çº¢å³é»‘æˆ–è€… (å…¨éƒ¨ä¸ºçº¢ï¼Œå³çº¢å·¦é»‘)è¿™ä¸¤ç§æƒ…å†µï¼Œå¯ä»¥å…ˆå°†å‰é¢çš„æƒ…å†µé€šè¿‡é€‰æ‹©è½¬æ¢ä¸ºåŽä¸€ç§æƒ…å†µï¼Œåœ¨åŽä¸€ç§æƒ…å†µä¸‹ï¼Œå› ä¸ºå…„å¼ŸèŠ‚ç‚¹ä¸ºé»‘ï¼Œå…„å¼ŸèŠ‚ç‚¹çš„å³èŠ‚ç‚¹ä¸ºçº¢ï¼Œå¯ä»¥å€Ÿè°ƒå‡ºä¸¤ä¸ªèŠ‚ç‚¹å‡ºæ¥åšé»‘èŠ‚ç‚¹ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯åˆ é™¤äº†é»‘èŠ‚ç‚¹ï¼Œæ•´æ£µæ ‘è¿˜æ˜¯ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰çš„ï¼Œå› ä¸ºé»‘è‰²èŠ‚ç‚¹çš„ä¸ªæ•°æ²¡æœ‰æ”¹å˜ã€‚ çº¢é»‘æ ‘çš„åˆ é™¤æ“ä½œæ˜¯é‡åˆ°åˆ é™¤çš„èŠ‚ç‚¹ä¸ºçº¢è‰²ï¼Œæˆ–è€…è¿½æº¯è°ƒæ•´åˆ°äº†rootèŠ‚ç‚¹ï¼Œè¿™æ—¶åˆ é™¤çš„ä¿®å¤æ“ä½œå®Œæ¯•ã€‚ RBçº¢é»‘æ ‘çš„Javaå®žçŽ°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584public class RBTreeNode&lt;T extends Comparable&lt;T&gt;&gt; &#123; private T value;//node value private RBTreeNode&lt;T&gt; left;//left child pointer private RBTreeNode&lt;T&gt; right;//right child pointer private RBTreeNode&lt;T&gt; parent;//parent pointer private boolean red;//color is red or not red public RBTreeNode()&#123;&#125; public RBTreeNode(T value)&#123;this.value=value;&#125; public RBTreeNode(T value,boolean isRed)&#123;this.value=value;this.red = isRed;&#125; public T getValue() &#123; return value; &#125; void setValue(T value) &#123; this.value = value; &#125; RBTreeNode&lt;T&gt; getLeft() &#123; return left; &#125; void setLeft(RBTreeNode&lt;T&gt; left) &#123; this.left = left; &#125; RBTreeNode&lt;T&gt; getRight() &#123; return right; &#125; void setRight(RBTreeNode&lt;T&gt; right) &#123; this.right = right; &#125; RBTreeNode&lt;T&gt; getParent() &#123; return parent; &#125; void setParent(RBTreeNode&lt;T&gt; parent) &#123; this.parent = parent; &#125; boolean isRed() &#123; return red; &#125; boolean isBlack()&#123; return !red; &#125; /** * is leaf node **/ boolean isLeaf()&#123; return left==null &amp;&amp; right==null; &#125; void setRed(boolean red) &#123; this.red = red; &#125; void makeRed()&#123; red=true; &#125; void makeBlack()&#123; red=false; &#125; @Override public String toString()&#123; return value.toString(); &#125;&#125;public class RBTree&lt;T extends Comparable&lt;T&gt;&gt; &#123; private final RBTreeNode&lt;T&gt; root; //node number private java.util.concurrent.atomic.AtomicLong size = new java.util.concurrent.atomic.AtomicLong(0); //in overwrite mode,all node's value can not has same value //in non-overwrite mode,node can have same value, suggest don't use non-overwrite mode. private volatile boolean overrideMode=true; public RBTree()&#123; this.root = new RBTreeNode&lt;T&gt;(); &#125; public RBTree(boolean overrideMode)&#123; this(); this.overrideMode=overrideMode; &#125; public boolean isOverrideMode() &#123; return overrideMode; &#125; public void setOverrideMode(boolean overrideMode) &#123; this.overrideMode = overrideMode; &#125; /** * number of tree number * @return */ public long getSize() &#123; return size.get(); &#125; /** * get the root node * @return */ private RBTreeNode&lt;T&gt; getRoot()&#123; return root.getLeft(); &#125; /** * add value to a new node,if this value exist in this tree, * if value exist,it will return the exist value.otherwise return null * if override mode is true,if value exist in the tree, * it will override the old value in the tree * * @param value * @return */ public T addNode(T value)&#123; RBTreeNode&lt;T&gt; t = new RBTreeNode&lt;T&gt;(value); return addNode(t); &#125; /** * find the value by give value(include key,key used for search, * other field is not used,@see compare method).if this value not exist return null * @param value * @return */ public T find(T value)&#123; RBTreeNode&lt;T&gt; dataRoot = getRoot(); while(dataRoot!=null)&#123; int cmp = dataRoot.getValue().compareTo(value); if(cmp&lt;0)&#123; dataRoot = dataRoot.getRight(); &#125;else if(cmp&gt;0)&#123; dataRoot = dataRoot.getLeft(); &#125;else&#123; return dataRoot.getValue(); &#125; &#125; return null; &#125; /** * remove the node by give value,if this value not exists in tree return null * @param value include search key * @return the value contain in the removed node */ public T remove(T value)&#123; RBTreeNode&lt;T&gt; dataRoot = getRoot(); RBTreeNode&lt;T&gt; parent = root; while(dataRoot!=null)&#123; int cmp = dataRoot.getValue().compareTo(value); if(cmp&lt;0)&#123; parent = dataRoot; dataRoot = dataRoot.getRight(); &#125;else if(cmp&gt;0)&#123; parent = dataRoot; dataRoot = dataRoot.getLeft(); &#125;else&#123; if(dataRoot.getRight()!=null)&#123; RBTreeNode&lt;T&gt; min = removeMin(dataRoot.getRight()); //x used for fix color balance RBTreeNode&lt;T&gt; x = min.getRight()==null ? min.getParent() : min.getRight(); boolean isParent = min.getRight()==null; min.setLeft(dataRoot.getLeft()); setParent(dataRoot.getLeft(),min); if(parent.getLeft()==dataRoot)&#123; parent.setLeft(min); &#125;else&#123; parent.setRight(min); &#125; setParent(min,parent); boolean curMinIsBlack = min.isBlack(); //inherit dataRoot's color min.setRed(dataRoot.isRed()); if(min!=dataRoot.getRight())&#123; min.setRight(dataRoot.getRight()); setParent(dataRoot.getRight(),min); &#125; //remove a black node,need fix color if(curMinIsBlack)&#123; if(min!=dataRoot.getRight())&#123; fixRemove(x,isParent); &#125;else if(min.getRight()!=null)&#123; fixRemove(min.getRight(),false); &#125;else&#123; fixRemove(min,true); &#125; &#125; &#125;else&#123; setParent(dataRoot.getLeft(),parent); if(parent.getLeft()==dataRoot)&#123; parent.setLeft(dataRoot.getLeft()); &#125;else&#123; parent.setRight(dataRoot.getLeft()); &#125; //current node is black and tree is not empty if(dataRoot.isBlack() &amp;&amp; !(root.getLeft()==null))&#123; RBTreeNode&lt;T&gt; x = dataRoot.getLeft()==null ? parent :dataRoot.getLeft(); boolean isParent = dataRoot.getLeft()==null; fixRemove(x,isParent); &#125; &#125; setParent(dataRoot,null); dataRoot.setLeft(null); dataRoot.setRight(null); if(getRoot()!=null)&#123; getRoot().setRed(false); getRoot().setParent(null); &#125; size.decrementAndGet(); return dataRoot.getValue(); &#125; &#125; return null; &#125; /** * fix remove action * @param node * @param isParent */ private void fixRemove(RBTreeNode&lt;T&gt; node,boolean isParent)&#123; RBTreeNode&lt;T&gt; cur = isParent ? null : node; boolean isRed = isParent ? false : node.isRed(); RBTreeNode&lt;T&gt; parent = isParent ? node : node.getParent(); while(!isRed &amp;&amp; !isRoot(cur))&#123; RBTreeNode&lt;T&gt; sibling = getSibling(cur,parent); //sibling is not null,due to before remove tree color is balance //if cur is a left node boolean isLeft = parent.getRight()==sibling; if(sibling.isRed() &amp;&amp; !isLeft)&#123;//ç¤ºä¾‹1 //cur in right parent.makeRed(); sibling.makeBlack(); rotateRight(parent); &#125;else if(sibling.isRed() &amp;&amp; isLeft)&#123; //cur in left parent.makeRed(); sibling.makeBlack(); rotateLeft(parent); &#125;else if(isBlack(sibling.getLeft()) &amp;&amp; isBlack(sibling.getRight()))&#123;//ç¤ºä¾‹2 sibling.makeRed(); cur = parent; isRed = cur.isRed(); parent=parent.getParent(); &#125;else if(isLeft &amp;&amp; !isBlack(sibling.getLeft()) &amp;&amp; isBlack(sibling.getRight()))&#123;//ç¤ºä¾‹3 sibling.makeRed(); sibling.getLeft().makeBlack(); rotateRight(sibling); &#125;else if(!isLeft &amp;&amp; !isBlack(sibling.getRight()) &amp;&amp; isBlack(sibling.getLeft()) )&#123; sibling.makeRed(); sibling.getRight().makeBlack(); rotateLeft(sibling); &#125;else if(isLeft &amp;&amp; !isBlack(sibling.getRight()))&#123;//ç¤ºä¾‹4 sibling.setRed(parent.isRed()); parent.makeBlack(); sibling.getRight().makeBlack(); rotateLeft(parent); cur=getRoot(); &#125;else if(!isLeft &amp;&amp; !isBlack(sibling.getLeft()))&#123; sibling.setRed(parent.isRed()); parent.makeBlack(); sibling.getLeft().makeBlack(); rotateRight(parent); cur=getRoot(); &#125; &#125; if(isRed)&#123; cur.makeBlack(); &#125; if(getRoot()!=null)&#123; getRoot().setRed(false); getRoot().setParent(null); &#125; &#125; //get sibling node private RBTreeNode&lt;T&gt; getSibling(RBTreeNode&lt;T&gt; node,RBTreeNode&lt;T&gt; parent)&#123; parent = node==null ? parent : node.getParent(); if(node==null)&#123; return parent.getLeft()==null ? parent.getRight() : parent.getLeft(); &#125; if(node==parent.getLeft())&#123; return parent.getRight(); &#125;else&#123; return parent.getLeft(); &#125; &#125; private boolean isBlack(RBTreeNode&lt;T&gt; node)&#123; return node==null || node.isBlack(); &#125; private boolean isRoot(RBTreeNode&lt;T&gt; node)&#123; return root.getLeft() == node &amp;&amp; node.getParent()==null; &#125; /** * find the successor node * @param node current node's right node * @return */ private RBTreeNode&lt;T&gt; removeMin(RBTreeNode&lt;T&gt; node)&#123; //find the min node RBTreeNode&lt;T&gt; parent = node; while(node!=null &amp;&amp; node.getLeft()!=null)&#123; parent = node; node = node.getLeft(); &#125; //remove min node if(parent==node)&#123; return node; &#125; parent.setLeft(node.getRight()); setParent(node.getRight(),parent); //don't remove right pointer,it is used for fixed color balance //node.setRight(null); return node; &#125; private T addNode(RBTreeNode&lt;T&gt; node)&#123; node.setLeft(null); node.setRight(null); node.setRed(true); setParent(node,null); if(root.getLeft()==null)&#123; root.setLeft(node); //root node is black node.setRed(false); size.incrementAndGet(); &#125;else&#123; RBTreeNode&lt;T&gt; x = findParentNode(node); int cmp = x.getValue().compareTo(node.getValue()); if(this.overrideMode &amp;&amp; cmp==0)&#123; T v = x.getValue(); x.setValue(node.getValue()); return v; &#125;else if(cmp==0)&#123; //value exists,ignore this node return x.getValue(); &#125; setParent(node,x); if(cmp&gt;0)&#123; x.setLeft(node); &#125;else&#123; x.setRight(node); &#125; fixInsert(node); size.incrementAndGet(); &#125; return null; &#125; /** * find the parent node to hold node x,if parent value equals x.value return parent. * @param x * @return */ private RBTreeNode&lt;T&gt; findParentNode(RBTreeNode&lt;T&gt; x)&#123; RBTreeNode&lt;T&gt; dataRoot = getRoot(); RBTreeNode&lt;T&gt; child = dataRoot; while(child!=null)&#123; int cmp = child.getValue().compareTo(x.getValue()); if(cmp==0)&#123; return child; &#125; if(cmp&gt;0)&#123; dataRoot = child; child = child.getLeft(); &#125;else if(cmp&lt;0)&#123; dataRoot = child; child = child.getRight(); &#125; &#125; return dataRoot; &#125; /** * red black tree insert fix. * @param x */ private void fixInsert(RBTreeNode&lt;T&gt; x)&#123; RBTreeNode&lt;T&gt; parent = x.getParent(); while(parent!=null &amp;&amp; parent.isRed())&#123; RBTreeNode&lt;T&gt; uncle = getUncle(x); if(uncle==null)&#123;//need to rotate RBTreeNode&lt;T&gt; ancestor = parent.getParent(); //ancestor is not null due to before before add,tree color is balance if(parent == ancestor.getLeft())&#123; boolean isRight = x == parent.getRight(); if(isRight)&#123; rotateLeft(parent); &#125; rotateRight(ancestor); if(isRight)&#123; x.setRed(false); parent=null;//end loop &#125;else&#123; parent.setRed(false); &#125; ancestor.setRed(true); &#125;else&#123; boolean isLeft = x == parent.getLeft(); if(isLeft)&#123; rotateRight(parent); &#125; rotateLeft(ancestor); if(isLeft)&#123; x.setRed(false); parent=null;//end loop &#125;else&#123; parent.setRed(false); &#125; ancestor.setRed(true); &#125; &#125;else&#123;//uncle is red parent.setRed(false); uncle.setRed(false); parent.getParent().setRed(true); x=parent.getParent(); parent = x.getParent(); &#125; &#125; getRoot().makeBlack(); getRoot().setParent(null); &#125; /** * get uncle node * @param node * @return */ private RBTreeNode&lt;T&gt; getUncle(RBTreeNode&lt;T&gt; node)&#123; RBTreeNode&lt;T&gt; parent = node.getParent(); RBTreeNode&lt;T&gt; ancestor = parent.getParent(); if(ancestor==null)&#123; return null; &#125; if(parent == ancestor.getLeft())&#123; return ancestor.getRight(); &#125;else&#123; return ancestor.getLeft(); &#125; &#125; private void rotateLeft(RBTreeNode&lt;T&gt; node)&#123; RBTreeNode&lt;T&gt; right = node.getRight(); if(right==null)&#123; throw new java.lang.IllegalStateException(\\\"right node is null\\\"); &#125; RBTreeNode&lt;T&gt; parent = node.getParent(); node.setRight(right.getLeft()); setParent(right.getLeft(),node); right.setLeft(node); setParent(node,right); if(parent==null)&#123;//node pointer to root //right raise to root node root.setLeft(right); setParent(right,null); &#125;else&#123; if(parent.getLeft()==node)&#123; parent.setLeft(right); &#125;else&#123; parent.setRight(right); &#125; //right.setParent(parent); setParent(right,parent); &#125; &#125; private void rotateRight(RBTreeNode&lt;T&gt; node)&#123; RBTreeNode&lt;T&gt; left = node.getLeft(); if(left==null)&#123; throw new java.lang.IllegalStateException(\\\"left node is null\\\"); &#125; RBTreeNode&lt;T&gt; parent = node.getParent(); node.setLeft(left.getRight()); setParent(left.getRight(),node); left.setRight(node); setParent(node,left); if(parent==null)&#123; root.setLeft(left); setParent(left,null); &#125;else&#123; if(parent.getLeft()==node)&#123; parent.setLeft(left); &#125;else&#123; parent.setRight(left); &#125; setParent(left,parent); &#125; &#125; private void setParent(RBTreeNode&lt;T&gt; node,RBTreeNode&lt;T&gt; parent)&#123; if(node!=null)&#123; node.setParent(parent); if(parent==root)&#123; node.setParent(null); &#125; &#125; &#125; /** * debug method,it used print the given node and its children nodes, * every layer output in one line * @param root */ public void printTree(RBTreeNode&lt;T&gt; root)&#123; java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt; queue =new java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt;(); java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt; queue2 =new java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt;(); if(root==null)&#123; return ; &#125; queue.add(root); boolean firstQueue = true; while(!queue.isEmpty() || !queue2.isEmpty())&#123; java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt; q = firstQueue ? queue : queue2; RBTreeNode&lt;T&gt; n = q.poll(); if(n!=null)&#123; String pos = n.getParent()==null ? \\\"\\\" : ( n == n.getParent().getLeft() ? \\\" LE\\\" : \\\" RI\\\"); String pstr = n.getParent()==null ? \\\"\\\" : n.getParent().toString(); String cstr = n.isRed()?\\\"R\\\":\\\"B\\\"; cstr = n.getParent()==null ? cstr : cstr+\\\" \\\"; System.out.print(n+\\\"(\\\"+(cstr)+pstr+(pos)+\\\")\\\"+\\\"\\\\t\\\"); if(n.getLeft()!=null)&#123; (firstQueue ? queue2 : queue).add(n.getLeft()); &#125; if(n.getRight()!=null)&#123; (firstQueue ? queue2 : queue).add(n.getRight()); &#125; &#125;else&#123; System.out.println(); firstQueue = !firstQueue; &#125; &#125; &#125; public static void main(String[] args) &#123; RBTree&lt;String&gt; bst = new RBTree&lt;String&gt;(); bst.addNode(\\\"d\\\"); bst.addNode(\\\"d\\\"); bst.addNode(\\\"c\\\"); bst.addNode(\\\"c\\\"); bst.addNode(\\\"b\\\"); bst.addNode(\\\"f\\\"); bst.addNode(\\\"a\\\"); bst.addNode(\\\"e\\\"); bst.addNode(\\\"g\\\"); bst.addNode(\\\"h\\\"); bst.remove(\\\"c\\\"); bst.printTree(bst.getRoot()); &#125;&#125; ä»£ç è°ƒè¯•çš„æ—¶å€™ï¼ŒprintTreeè¾“å‡ºæ ¼å¼å¦‚ä¸‹: 12345d(B)b(B d LE) g(R d RI)a(R b LE) e(B g LE) h(B g RI)f(R e RI) æ‹¬å·å·¦è¾¹è¡¨ç¤ºå…ƒç´ çš„å†…å®¹ã€‚æ‹¬å·å†…çš„ç¬¬ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºé¢œè‰²ï¼ŒBè¡¨ç¤ºblackï¼ŒRè¡¨ç¤ºredï¼›ç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºçˆ¶å…ƒç´ çš„å€¼ï¼›ç¬¬ä¸‰ä¸ªå…ƒç´ è¡¨ç¤ºå·¦å³ï¼ŒLEè¡¨ç¤ºåœ¨çˆ¶å…ƒç´ çš„å·¦è¾¹ã€‚RIè¡¨ç¤ºåœ¨çˆ¶å…ƒç´ çš„å³è¾¹ã€‚ ç¬¬ä¸€ä¸ªå…ƒç´ dæ˜¯rootèŠ‚ç‚¹ï¼Œç”±äºŽå®ƒæ²¡æœ‰çˆ¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ‹¬å·å†…åªæœ‰ä¸€ä¸ªå…ƒç´ ã€‚ æ€»ç»“ä½œä¸ºå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘é‡Œé¢ä¼—å¤šçš„å®žçŽ°ä¹‹ä¸€ï¼Œçº¢é»‘æ ‘æ— ç–‘æ˜¯æœ€ç®€æ´ã€å®žçŽ°æœ€ä¸ºç®€å•çš„ã€‚çº¢é»‘æ ‘é€šè¿‡å¼•å…¥é¢œè‰²çš„æ¦‚å¿µï¼Œé€šè¿‡é¢œè‰²è¿™ä¸ªçº¦æŸæ¡ä»¶çš„ä½¿ç”¨æ¥ä¿æŒæ ‘çš„é«˜åº¦å¹³è¡¡ã€‚ä½œä¸ºå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œæ—‹è½¬æ˜¯ä¸€ä¸ªå¿…ä¸å¯å°‘çš„æ“ä½œã€‚é€šè¿‡æ—‹è½¬å¯ä»¥é™ä½Žæ ‘çš„é«˜åº¦ï¼Œåœ¨çº¢é»‘æ ‘é‡Œé¢è¿˜å¯ä»¥è½¬æ¢é¢œè‰²ã€‚ çº¢é»‘æ ‘é‡Œé¢çš„æ’å…¥å’Œåˆ é™¤çš„æ“ä½œæ¯”è¾ƒéš¾ç†è§£ï¼Œè¿™æ—¶è¦æ³¨æ„è®°ä½ä¸€ç‚¹ï¼šæ“ä½œä¹‹å‰çº¢é»‘æ ‘æ˜¯å¹³è¡¡çš„ï¼Œé¢œè‰²æ˜¯ç¬¦åˆå®šä¹‰çš„ã€‚åœ¨æ“ä½œçš„æ—¶å€™å°±éœ€è¦å‘å…„å¼ŸèŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹ã€ä¾„å­èŠ‚ç‚¹å€Ÿè°ƒå’Œäº’æ¢é¢œè‰²ï¼Œè¦è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œå°±éœ€è¦ä¸æ–­çš„è¿›è¡Œæ—‹è½¬ã€‚æ‰€ä»¥çº¢é»‘æ ‘çš„æ’å…¥åˆ é™¤æ“ä½œéœ€è¦ä¸åœçš„æ—‹è½¬ï¼Œä¸€æ—¦å€Ÿè°ƒäº†åˆ«çš„èŠ‚ç‚¹ï¼Œåˆ é™¤å’Œæ’å…¥çš„èŠ‚ç‚¹å°±ä¼šè¾¾åˆ°å±€éƒ¨çš„å¹³è¡¡ï¼ˆå±€éƒ¨ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ï¼‰ï¼Œä½†æ˜¯è¢«å€Ÿè°ƒçš„èŠ‚ç‚¹å°±ä¸ä¼šå¹³è¡¡äº†ï¼Œè¿™æ—¶å°±éœ€è¦ä»¥è¢«å€Ÿè°ƒçš„èŠ‚ç‚¹ä¸ºèµ·ç‚¹ç»§ç»­è¿›è¡Œè°ƒæ•´ï¼Œç›´åˆ°æ•´æ£µæ ‘éƒ½æ˜¯å¹³è¡¡çš„ã€‚åœ¨æ•´ä¸ªä¿®å¤çš„è¿‡ç¨‹ä¸­ï¼Œæ’å…¥å…·ä½“çš„åˆ†ä¸º3ç§æƒ…å†µï¼Œåˆ é™¤åˆ†ä¸º4ç§æƒ…å†µã€‚ æ•´ä¸ªçº¢é»‘æ ‘çš„æŸ¥æ‰¾ï¼Œæ’å…¥å’Œåˆ é™¤éƒ½æ˜¯O(logN)çš„ï¼ŒåŽŸå› å°±æ˜¯æ•´ä¸ªçº¢é»‘æ ‘çš„é«˜åº¦æ˜¯logNï¼ŒæŸ¥æ‰¾ä»Žæ ¹åˆ°å¶ï¼Œèµ°è¿‡çš„è·¯å¾„æ˜¯æ ‘çš„é«˜åº¦ï¼Œåˆ é™¤å’Œæ’å…¥æ“ä½œæ˜¯ä»Žå¶åˆ°æ ¹çš„ï¼Œæ‰€ä»¥ç»è¿‡çš„è·¯å¾„éƒ½æ˜¯logNã€‚ å‚è€ƒæ–‡çŒ® Cormen T H, Leiserson C E, Rivest R L, ç­‰. ç®—æ³•å¯¼è®ºï¼ˆç¬¬3ç‰ˆï¼‰. æ®·å»ºå¹³, ç­‰. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2012. Sedgewick R, Wayne K. ç®—æ³•ï¼ˆç¬¬4ç‰ˆï¼‰. è°¢è·¯äº‘ è¯‘. äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾, 2012. Weiss M A. æ•°æ®ç»“æž„ä¸Žç®—æ³•åˆ†æžï¼ˆç¬¬2ç‰ˆï¼‰. å†¯èˆœçŽº è¯‘. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2004. Knuth D E. è®¡ç®—æœºç¨‹åºè®¾è®¡è‰ºæœ¯ å·3ï¼šæŽ’åºä¸ŽæŸ¥æ‰¾ï¼ˆè‹±æ–‡ç‰ˆ ç¬¬2ç‰ˆï¼‰. äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾, 2010. äºŒå‰æŸ¥æ‰¾æ ‘ç™¾åº¦ç™¾ç§‘ RBçº¢é»‘æ ‘ç™¾åº¦ç™¾ç§‘\",\"categories\":[{\"name\":\"algorithm\",\"slug\":\"algorithm\",\"permalink\":\"http://ltyeamin.github.io/categories/algorithm/\"}],\"tags\":[{\"name\":\"äºŒå‰æ ‘\",\"slug\":\"äºŒå‰æ ‘\",\"permalink\":\"http://ltyeamin.github.io/tags/äºŒå‰æ ‘/\"}]},{\"title\":\"è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ–\",\"slug\":\"è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ–\",\"date\":\"2019-03-28T04:57:10.000Z\",\"updated\":\"2019-11-20T15:09:01.274Z\",\"comments\":true,\"path\":\"2019/03/28/è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ–/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/03/28/è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ–/\",\"excerpt\":\"\",\"text\":\"LZæ¯å¤©éƒ½è¦æ‰“å¼€å¼€æºä¸­å›½ç½‘ç«™çœ‹çœ‹äº’è”ç½‘ç™¾æ€ï¼Œåœ¨ä»Šå¤©çš„ç½‘ç«™é‡Œï¼Œçœ‹åˆ°äº†ä¸¤ä»¶æœ‰æ„æ€çš„è¶£äº‹: æŠµåˆ¶996åŠ ç­æ–‡åŒ–996.icuï¼Œå¤§å®¶åœ¨996I.ICU GitHubç•…è°ˆè‡ªç”±ã€åæ§½åŠ ç­ æŸç¨‹åºå‘˜åˆ åº“è·‘è·¯åˆ¶ä½œçš„ç½‘ç«™-å®‰å¾½æ±½è½¦ç½‘æ˜¯ç”±ç®€å•çš„å›¾ç‰‡æ˜¾ç¤ºæ‹¼æŽ¥è€Œæˆçš„ã€‚ 996åŠ ç­æ–‡åŒ–æ— è®ºæ˜¯ä¼ ç»Ÿè¡Œä¸šï¼Œè¿˜æ˜¯äº’è”ç½‘è¡Œä¸šï¼ŒçŽ°åœ¨å…¬å¸åŠ ç­æƒ…å†µå¯ä»¥è¯´å¾—æ˜¯å¸ç©ºè§æƒ¯äº†ã€‚å°¤å…¶æ˜¯åœ¨äº’è”ç½‘è¡Œä¸šèƒ½æ›´åŠ ä½“çŽ°å‡ºæ¥ï¼Œæ¯”å¦‚åŽä¸ºã€äº¬ä¸œæœ€ä¸ºå¸¸è§ã€‚åŠ ç­æ–‡åŒ–å·²ç»æˆä¸ºäº†æ™®éçŽ°è±¡ï¼ŒåŠ³åŠ¨æ³•è§„å®šåœ¨å¿…è¦çš„æƒ…å†µä¸‹ï¼Œå…¬å¸å¯ä»¥é€‚å½“å®‰æŽ’ä¸€ä¸‹åŠ ç­ï¼Œå‘˜å·¥éœ€é…åˆï¼Œå…¬å¸æ‰¿è¯ºå¹¶ç»™æ›´å¥½çš„ç¦åˆ©å¾…é‡ã€‚ åœ¨å¤§å…¬å¸é‡Œï¼Œå·¥ä½œå¼ºåº¦å¤§å¾ˆæ­£å¸¸ï¼Œå‘˜å·¥æ—©å·²ä¹ ä»¥ä¸ºå¸¸ï¼Œä¸ä»…ä»…æ„¿æ„æŽ¥å—åŠ ç­ï¼Œè€Œä¸”åŠ ç­åŠ çš„ä¸€èº«çƒ­è¡€ã€‚æˆ‘æƒ³æŽ¥å—çš„åŽŸå› æ˜¯å„ç§ç¦åˆ©å¾…é‡çš„è¯±æƒ‘ã€‚ä½†æ˜¯ä¸­å°åž‹å…¬å¸é‡Œä¸è§å¾—æ˜¯è¿™æ ·å­çš„ï¼Œå¦‚æžœæ™®é€šå…¬å¸éƒ½å’ŒåŽä¸ºã€äº¬ä¸œè¿™æ ·å¤§åž‹å…¬å¸å¾…é‡ä¸€æ ·çš„è¯ï¼Œå¤§å®¶è‚¯å®šå¯¹åŠ ç­çš„ç§¯æžæ€§å¾ˆå¼ºã€‚ æˆ‘æ›¾ç»å…¥èŒçš„ä¸€å®¶å…¬å¸ä¹Ÿå­˜åœ¨çš„996åŠ ç­æ–‡åŒ–ï¼Œå½“æ—¶å…¬å¸ä¸šåŠ¡æ­£å¤„äºŽé«˜é€Ÿå‘å±•æœŸï¼Œæ•´ä¸ªæŠ€æœ¯éƒ¨é—¨ç»å¸¸åŠ ç­ï¼Œå½“æ—¶ç¦åˆ©å¾…é‡æ˜¯æŒ‰æ—¶æ”¯ä»˜åŠ ç­è´¹æ¥å…‘çŽ°çš„ï¼Œå·¥ä½œæ—¥æ™šä¸Š7ç‚¹ç®—åŠ ç­ï¼ŒåŠ ç­è´¹æŒ‰åŠ ç­å°æ—¶ä¹˜ä»¥1å€å†ä¹˜ä»¥å¹³å‡æ—¥è–ªåŽ»ç®—ï¼Œå‘¨æœ«ä»¥åŠæ³•å®šèŠ‚æ—¥åŠ ç­è´¹æŒ‰åŠ ç­å°æ—¶ä¹˜ä»¥1.5å€å†ä¹˜ä»¥å¹³å‡æ—¥è–ªï¼Œå‡¡æ˜¯åŠ ç­è¶…è¿‡3ä¸ªå°æ—¶çš„ï¼Œæœ‰é¤è¡¥ï¼Œè¶…è¿‡4ä¸ªå°æ—¶çš„ï¼Œæœ‰é¤è¡¥è½¦è¡¥ã€‚ æˆ‘ä¸Šå­¦æœŸé—´æ›¾ç»çœ‹è¿‡é©¬å…‹æ€ä¸»ä¹‰å“²å­¦ï¼Œé©¬å…‹æ€ä¸»ä¹‰è®¤ä¸ºä»»ä½•äº‹ç‰©éƒ½æ˜¯ä½œä¸ºçŸ›ç›¾ç»Ÿä¸€ä½“è€Œå­˜åœ¨çš„ï¼ŒçŸ›ç›¾æ˜¯äº‹ç‰©å‘å±•çš„æºæ³‰å’ŒåŠ¨åŠ›ã€‚ç®€è¨€ä¹‹ï¼ŒçŸ›ç›¾å°±æ˜¯å¯¹ç«‹ç»Ÿä¸€ï¼Œä»»ä½•äº‹æƒ…éƒ½æœ‰ä¸¤é¢æ€§ã€‚æŽ¥ä¸‹æ¥æˆ‘ç«™åœ¨ä¸åŒçš„å®¢è§‚è§’åº¦æ¥åˆ†æžä¸€ä¸‹ä¸Šè¿°åŠ ç­æ–‡åŒ–: ç«™åœ¨å‘˜å·¥çš„è§’åº¦ æˆ‘ä»¬ä¸å¯å¦è®¤åŠ ç­ç¡®å®žèƒ½æé«˜å·¥ä½œæ•ˆçŽ‡ï¼Œå…¬å¸éœ€è¦æˆ‘ä»¬åŠ ç­ï¼Œæˆ‘ä»¬ç»ä¸æŽ¨è¾žï¼Œå› ä¸ºæœ‰äº†ç¦åˆ©å¾…é‡çš„ä¿è¯ã€‚ åªè¦æœ‰ç¦åˆ©å¾…é‡ï¼Œå¤§å®¶éƒ½å¾ˆæ„¿æ„åŠ ç­ï¼Œå¦‚æžœæ²¡æœ‰ç¦åˆ©ï¼Œå¤§å®¶å‡ ä¹Žæ˜¯æ²¡æœ‰æ„å‘ä¸»åŠ¨åŠ ç­ï¼Œé™¤éžæœ‰éžå¸¸ç´§æ€¥çš„ä»»åŠ¡æ‰å‹‰å¼ºæŽ¥å—åŠ ç­ã€‚å¦‚æžœæ²¡æœ‰ç¦åˆ©å¾…é‡ï¼Œä½œä¸ºå‘˜å·¥å®æ„¿æé«˜å·¥ä½œæ•ˆçŽ‡ï¼Œä¹Ÿä¸æ„¿æ„åœ¨å…¬å¸è¿›è¡Œæ— å¿åŠ ç­ã€‚ä½†æ˜¯ï¼Œè¯æœ‰è¯´å›žæ¥ï¼Œå¦‚æžœæœ‰ç¦åˆ©å¾…é‡ï¼Œä¸è§å¾—èƒ½å¤Ÿæé«˜å·¥ä½œæ•ˆçŽ‡ã€‚ ç«™åœ¨å…¬å¸çš„è§’åº¦ ä»Žå…¬å¸çš„è§’åº¦ä¸Šæ¥è®²ï¼ŒåŠ ç­å¯ä»¥è®©äººåŠ›èµ„æºåˆç†åˆ†é…ï¼Œä½¿å¾—å…¬å¸å¤§æ­¥å‘å‰è¿ˆã€‚ä½†æ˜¯å®¢è§‚æ¥è®²ï¼Œä¸€èˆ¬å…¬å¸å¤§è‚†å®£æ‰¬åŠ ç­æ–‡åŒ–ï¼Œæœ‰å¯èƒ½å…¬å¸å‡ºçŽ°å¥åº·çŠ¶å†µï¼Œè¿™ä¸ªæ˜¯ç”±åŠ ç­æ•ˆçŽ‡é«˜ä½Žæ¥å†³å®šçš„ï¼ŒåŠ ç­ä¸ä¸€å®šæé«˜æ•ˆçŽ‡ã€‚è¿™å°±å’Œä¸­å›½50å¹´ä»£å¤§è·ƒè¿›èµ¶è‹±è¶…ç¾Žæ€æƒ³ä¸€æ ·ï¼Œå†’è¿›æ€æƒ³ï¼Œå¹¶æ²¡æœ‰ç«‹è¶³çŽ°å®žã€‚ è¿™ä¸ªè®©æˆ‘æƒ³æˆ‘çš„ä¸€ä¸ªåŒäº‹ï¼Œä»–å¹³æ—¶å‡ ä¹Žä¹Ÿä¸æ€Žä¹ˆåŠ ç­ï¼Œåªæœ‰ç´§æ€¥ä»»åŠ¡çš„æ—¶å€™æ‰ä¼šé€‰æ‹©åŠ ç­ã€‚æœ‰ä¸€æ¬¡ä»–çš„Leaderé—®ï¼šå¤§å®¶éƒ½åœ¨åŠ ç­ï¼Œä¸ºä»€ä¹ˆä½ ä¸åŠ ç­ï¼Ÿå®ƒçš„å›žç­”Leaderå¤§åƒä¸€æƒŠï¼Œä»–è¯´ä»–å½“å¤©çš„ä»»åŠ¡å·²ç»å®Œæˆï¼Œåªè¦æŒ‰ç…§é¢„æœŸæ—¶é—´å®Œæˆå°±å¥½ã€‚å¦‚æžœå…¬å¸æŠ€æœ¯æ°›å›´å’ŒBATå¤§åž‹äº’è”ç½‘å…¬å¸ä¸€ä¸ªçº§åˆ«çš„ï¼Œæˆ‘æ›´æ„¿æ„æ— å¿åŠ åˆ°11ç‚¹ã€‚å¦‚æžœæ²¡æœ‰æŠ€æœ¯æ°›å›´ï¼ŒåŠ ç­å¯¹è‡ªèº«æ¥è®²æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯æ”¶èŽ·å’Œèƒ½åŠ›æå‡ã€‚å¹³æ—¶åªéœ€è¦ä¿è¯æ­£å¸¸çš„ä»»åŠ¡æŒ‰ç‚¹å®Œæˆå³å¯ã€‚ä»–çš„Leaderå¬åˆ°åŽä¹Ÿæ— è¯­äº†ï¼Œçž¬é—´è®¤ä¸ºä»–ä¸åˆç¾¤ã€‚ æˆ‘è§‰å¾—ä»»ä½•è€æ¿å’ŒLeaderéƒ½æ²¡æœ‰å¼ºåˆ¶è¦æ±‚åŠ ç­çš„æƒåˆ©ã€‚æˆ‘é‚£ä¸ªåŒäº‹ä½çš„åœ°æ–¹å’Œå…¬å¸å¾ˆè¿œï¼Œæ—¥å¸¸ä¸Šä¸‹ç­ååœ°é“è¦1ä¸ªå°æ—¶å››ååˆ†é’Ÿï¼Œå³ä¾¿æ™šä¸Š6ç‚¹æ•´ä¸‹ç­ï¼Œå›žåŽ»éƒ½å¿«8ç‚¹äº†ã€‚æˆ‘é—®ä»–ä¸ºä»€ä¹ˆä¸ç»™Leaderååº”è¿™ä¸ªé—®é¢˜ï¼Œè®©Leaderä½“è°…ä¸€ä¸‹ã€‚ä»–è¯´ä¸ç”¨ï¼Œä»–å‘çŽ°å¹¶ä¸æ˜¯ä»–ä¸åˆç¾¤ï¼Œè€Œæ˜¯ä¸ä¹ æƒ¯é‚£ç§å…¬å¸æ°›å›´ï¼Œè€æ¿è¦äº§å‡ºè¦åŠ ç­ï¼ŒåŠ ç­æ²¡å¾…é‡ï¼Œé¢†å¯¼ä¹Ÿæ˜¯å¬è€æ¿çš„å©å’ï¼Œå°±è¦æ±‚åŠ ç­ï¼ŒäºŽæ˜¯æ•ˆæžœå¾ˆæ˜Žæ˜¾ï¼Œå¤§å®¶éƒ½æ˜¯ç™½å¤©å¹²å…¶ä»–äº‹æƒ…ï¼Œæ™šä¸Šå¹²æ´»ï¼Œå¦‚æžœæ˜¯æˆ‘çš„è¯ï¼Œæˆ‘ä¹Ÿå—ä¸äº†ï¼Œæ¯•ç«Ÿæˆ‘ä»¬æ­£å¹´è½»ã€‚åŽæ¥æˆ‘åŒäº‹ç¦»èŒäº†ï¼Œæ¢äº†ä¸€å®¶åªæœ‰20äººçš„å¤©ä½¿è½®åˆ›ä¸šåž‹å…¬å¸ï¼Œä»–ç»™æˆ‘è¯´è™½ç„¶å¾ˆç´¯ï¼Œä½†æ˜¯æ¯å¤©å¾ˆå……å®žï¼Œå¯¹æœªæ¥æœ‰äº†æ›´å¥½çš„å¸Œæœ›ã€‚ å¬åˆ°æˆ‘è¿™ä¸ªåŒäº‹çš„æƒ…å†µï¼Œæˆ‘çš„æ€»ç»“æ˜¯ï¼šä½œä¸ºå‘˜å·¥ï¼Œå°½é‡æé«˜ç™½å¤©çš„å·¥ä½œæ•ˆçŽ‡ï¼ŒæŠŠè‡ªå·±çš„å·¥ä½œåšå¥½ï¼Œè‡ªå·±åšçš„ä¸œè¥¿å°½é‡ä¸è¦å‡ºå¤§é—®é¢˜ã€‚å¦‚æžœçœŸçš„æœ‰éœ€è¦åŠ ç­çš„ï¼Œå¬ä»ŽLeaderçš„å®‰æŽ’ï¼Œå¦‚æžœæœ‰ç¦åˆ©å¾…é‡çš„ä¿è¯ï¼Œå¤šä¸ºå…¬å¸äº§å‡ºï¼Œå¦‚æžœæ²¡æœ‰å¾…é‡ï¼Œé€‚å½“å³å¯ï¼Œæ¯•ç«Ÿè‡ªå·±çš„ç¦åˆ©å¾…é‡ä¹Ÿæ˜¯æœ‰å¿…è¦çš„ã€‚ å¤§å…¬å¸æˆ‘å°±ä¸è¯´äº†ï¼Œä¸­å°åž‹å…¬å¸æˆ‘å»ºè®®æŠµåˆ¶996ã€985ä¸è‰¯çš„åŠ ç­æ–‡åŒ–ï¼Œè€Œæå€¡724çš„åŠ ç­æ–‡åŒ–ï¼Œè¿™é‡Œçš„724å¹¶ä¸æ˜¯å…¬å¸è®©å‘˜å·¥æ¯å‘¨å·¥ä½œ7å¤©ï¼Œæ¯æ—¥å·¥ä½œ24å°æ—¶ã€‚è€Œæ˜¯æ— è®ºä»€ä¹ˆæ—¥å­ï¼Œå¦‚æžœæœ‰ç´§æ€¥ä»»åŠ¡ï¼Œ7å¤©ä¸­ï¼Œäº”å¤©åœ¨å…¬å¸æ­£å¸¸ä¸Šç­ï¼Œæœ‰å¿…è¦åŠ ç­å¯ä»¥åœ¨å®¶å®Œæˆå·¥ä½œï¼Œç¦åˆ©å¾…é‡ä¿è¯ï¼Œè¿™æ ·åšä¸€ä¸ªåè°ƒï¼Œé¿å…å¯èƒ½1ä¸ªå°æ—¶è§£å†³çš„é—®é¢˜ï¼Œéžè¦èµ¶å¾€å…¬å¸é€ æˆå¤šä¸ªå°æ—¶åŠ ç­ï¼Œè§£å†³äº†æ•ˆçŽ‡ä½Žçš„é—®é¢˜ï¼Œåœ¨å®¶åŠ ç­ç›¸ä¿¡å¤§éƒ¨åˆ†ç¨‹åºå‘˜ä¼šä¸è®¡è¾ƒé‚£ä¸€ä¸ªå°æ—¶çš„æ—¶é—´ï¼Œå¦‚æžœåŠ ç­æ—¶é—´è¾ƒé•¿ï¼Œå…¬å¸ç»™äºˆç›¸åº”çš„ç¦åˆ©å¾…é‡ï¼Œå³èŠ‚çœäº†å‘˜å·¥è¿”å…¬å¸çš„æ—¶é—´ï¼Œä¹Ÿè§£å†³äº†å®žé™…æ€§é—®é¢˜ã€‚åœ¨è¿™é‡Œï¼Œæœ‰äº›äººå¯èƒ½è´¨ç–‘ï¼Œå› ä¸ºåœ¨å®¶å…·ä½“æ˜¯å¦åšäº‹ï¼Œå…¬å¸å¹¶ä¸çŸ¥æƒ…ï¼Œä½†æ˜¯è¿™ç§æƒ…å†µï¼Œæ˜¯æ°¸è¿œæ— æ³•é¿å…çš„ï¼Œå› ä¸ºè¿™æ˜¯ç¨‹åºå‘˜çš„èŒä¸šæ“ä½œï¼Œæ˜¯ä¸€ä¸ªäººçš„åŸºæœ¬ç´ å…»é—®é¢˜ã€‚å¦‚æžœäººéƒ½æ˜¯è¿™æ ·è‡ªç§è‡ªåˆ©ã€ç¼ºä¹è´£ä»»å¿ƒï¼Œä¹Ÿå°±æ²¡æœ‰å›¢é˜Ÿï¼Œæ›´æ²¡æœ‰æœ‹å‹ï¼Œæˆ‘ç›¸ä¿¡è¿™ç§äººçš„äººç”Ÿä¸ä¼šèµ°çš„æ›´è¿œã€‚ ç¨‹åºå‘˜çš„æŠ±æ€¨å¤§å®¶ç»å¸¸å¬åˆ°ä¸€å¥è¯å°±æ˜¯ï¼šå¹²çš„ä¸çˆ½ï¼Œåˆ åº“è·‘è·¯ã€‚æ¯å¤©å…¨å›½çš„äº’è”ç½‘å…¬å¸éƒ½å¯èƒ½å‘ç”Ÿè¿™æ ·çš„äº‹æƒ…ï¼ŒæŸç¨‹åºå‘˜å› å’Œå…¬å¸äº§ç”Ÿåˆ©ç›Šçº çº·é”æœåŠ¡å™¨ã€åˆ åº“ã€åˆ ä»£ç ã€æ•…æ„æŒ–å‘ã€‚ å‡ºçŽ°è¿™æ ·çš„æƒ…å†µå·²ç»å¸ç©ºè§æƒ¯äº†ã€‚æˆ‘ä½œä¸ºäº’è”ç½‘è¡Œä¸šçš„ä¸€ä»½å­ï¼Œç«™åœ¨æˆ‘çš„è§’åº¦åˆ†æžï¼Œæ¯ä¸ªç¨‹åºå‘˜éƒ½åº”è¯¥æœ‰è‰¯å¥½çš„èŒä¸šæ“å®ˆï¼Œå¦‚æžœçœŸå‡ºçŽ°åˆ©ç›Šçº çº·ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆæ³•çš„æ–¹å¼åŽ»è§£å†³ï¼Œç”¨æ³•å¾‹æ–¹å¼åŽ»ç»´æƒï¼Œå’Œå¹³è§£å†³ï¼Œå°½å¯èƒ½ä¸è¦èµ·ä»»ä½•å†²çªã€‚è¯´åˆ°è¿™é‡Œæœ‰äº›æ—¶å€™é æ³•å¾‹ç¡®å®žæ²¡åŠžæ³•å æ®æœ‰åˆ©åœ°ä½ï¼Œæ¯•ç«Ÿå•äººä¸å¯èƒ½çŽ©è¿‡å…¬å¸çš„ã€‚æˆ‘ä»¬åªèƒ½ä»Žå…¥èŒçš„é‚£ä¸€å¤©å¼€å§‹ï¼Œä»€ä¹ˆçš„ç¦åˆ©å¾…é‡éƒ½å†™åœ¨åˆåŒé‡Œï¼Œè¿™æ‰ç®—æ•°ã€‚å¦‚æžœå› ä¸ºå…¶ä»–åŽŸå› çš„è¯ï¼Œå¤§å¯ä¸å¿…ä¸ºä¹‹æ¼æ€’ï¼Œå› ä¸ºç‰©ä»¥ç±»èšã€äººä»¥ç¾¤åˆ†ï¼Œä¸»åŠ¨ç¦»èŒä¾¿æ˜¯ã€‚ åˆ›ä¸šå…¬å¸å¥½å¤šè€æ¿éƒ½åœ¨ç»™å‘˜å·¥ç”»é¥¼ï¼Œè¿™ç§æ´—è„‘å¼çš„ç”»é¥¼å‘˜å·¥ä»¬è¿˜æ˜¯æ–Ÿé…Œæ–Ÿé…Œã€‚å¯¹è€æ¿è¯´çš„è¯ï¼ŒåŽ»å…¶ç³Ÿç²•ï¼Œå–å…¶ç²¾åŽã€‚åªå¬å¯¹è‡ªå·±æœ‰ç›Šçš„è¯ï¼Œä¹‹æ‰€ä»¥è€æ¿èƒ½å¼€ä¸€ä¸ªå…¬å¸ï¼Œè‚¯å®šæ˜¯åœ¨æŸæ–¹é¢æœ‰ä¸€å®šçš„è¿‡äººä¹‹å¤„ã€‚ å†™åœ¨æœ€åŽçš„ç½‘ç»œæ®µå­ 2019å¹´3æœˆ27æ—¥ï¼Œ996.icué¡¹ç›®ä¸Šçº¿ï¼Œç¬¬äºŒå¤©ï¼Œé¡¹ç›®è¾¾åˆ°3wä¸ªstarï¼Œå°±åœ¨å½“æ—¥ï¼Œå®‰å¾½æ±½è½¦ç½‘çš„å…„å¼Ÿç¬¬ä¸€ä¸ªæ­ç«¿èµ·ä¹‰ï¼Œåˆ åº“è·‘è·¯ï¼Œå²ç§°3.28äº‹ä»¶ï¼ŒåŒå¹´äº”æœˆå·¥ç¨‹å¸ˆä»¬æˆç«‹ååŠ ç­å·¥ä¼šã€‚ 2020å¹´ä¸¤ä¼šæœŸé—´ï¼Œè¿«äºŽç¤¾ä¼šå’ŒååŠ ç­å·¥ä¼šåŽ‹åŠ›ï¼Œå›½å®¶å°†ç¦æ­¢åŠ ç­å†™å…¥å®ªæ³•ã€‚\",\"categories\":[{\"name\":\"others\",\"slug\":\"others\",\"permalink\":\"http://ltyeamin.github.io/categories/others/\"}],\"tags\":[{\"name\":\"æ‚è°ˆ\",\"slug\":\"æ‚è°ˆ\",\"permalink\":\"http://ltyeamin.github.io/tags/æ‚è°ˆ/\"}]},{\"title\":\"è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get\",\"slug\":\"è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get\",\"date\":\"2019-03-27T05:00:50.000Z\",\"updated\":\"2019-11-20T15:08:51.075Z\",\"comments\":true,\"path\":\"2019/03/27/è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/03/27/è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get/\",\"excerpt\":\"\",\"text\":\"æˆ‘ä»¬æ—¥å¸¸ä¸Šç½‘è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å°†ç½‘é¡µä¸­çš„è§†é¢‘èµ„æºæå–ä¸‹è½½å‡ºæ¥ï¼Œä¸€èˆ¬å¦‚æžœç½‘ç«™æ²¡æœ‰å±è”½è§†é¢‘åœ°å€ä¸”ç”¨çš„æ˜¯éžFlashæ’­æ”¾å™¨(çŽ°æµè¡ŒHTML5æ’­æ”¾å™¨),æˆ‘ä»¬å¯ä»¥åœ¨è§†é¢‘æ’­æ”¾å™¨å³é”®ç›´æŽ¥ä¸‹è½½è§†é¢‘èµ„æºï¼Œä½†æ˜¯å›½å†…ç½‘ç«™è¿è¥å•†ä¸ºäº†ä¿æŠ¤ç‰ˆæƒï¼Œä¼šå°†çœŸæ­£çš„èµ„æºåœ°å€å±è”½èµ·æ¥ï¼Œæˆ‘ä»¬æ— æ³•æ‰¾åˆ°çœŸå®žåœ°å€å¹¶è¿›è¡Œä¸‹è½½ã€‚å› æ­¤å‡ºçŽ°äº†å¥½å¤šç¬¬ä¸‰æ–¹çš„åº”ç”¨æ¥å¸®åŠ©æˆ‘ä»¬æå–ç½‘é¡µä¸­çš„è§†é¢‘ï¼Œå¸¸è§çš„æå–è½¯ä»¶æœ‰Chromeæ’ä»¶Video download helperå’ŒVideo Downloader GetThemAllã€å›½å†…ä»¥å‰å¾ˆè‘—åçš„ç¡•é¼ å’Œç»´æ£ è§†é¢‘ä¸‹è½½(è¿™ä¸¤ä¸ªLZä¹‹å‰ç»å¸¸ç”¨ï¼Œç¡•é¼ ç»å¸¸ç”¨äºŽä¸‹è½½51CTOçš„æ•™å­¦è§†é¢‘ï¼Œç»´æ£ ç»å¸¸ç”¨äºŽç”µè§†å‰§æ‰¹é‡ä¸‹è½½)ã€‚ ä»Šå¤©æˆ‘ç»™å¤§å®¶å¸¦æ¥ä¸€æ¬¾è§†é¢‘ä¸‹è½½ç¥žå™¨you-getï¼Œyou-get ä¹ƒä¸€å°å°å“’å‘½ä»¤è¡Œç¨‹åºï¼Œæä¾›ä¾¿åˆ©çš„æ–¹å¼æ¥ä¸‹è½½ç½‘ç»œä¸Šçš„åª’ä½“ä¿¡æ¯ã€‚å¥½äº†ï¼Œè¯ä¸å¤šè¯´ï¼ŒæŽ¥ä¸‹æ¥è®©æˆ‘ä»¬å¼€å§‹ä½“éªŒä¸€ä¸‹å§ã€‚ ä¸ºä»€ä¹ˆä½ è¦å¥½å¥½çš„ç”¨ ä½ æ¬¢å–œäºŽäº’è”ç½‘ä¸Šçš„å¯Œåª’ä½“å†…å®¹ï¼Œå¹¶ä¸ºä¸ªäººå¯»æ¬¢è€Œå‚¨å­˜ ä½ å–œæ‚¦è§‚çœ‹çš„è§†é¢‘ï¼Œç„¶è€Œä¸å¾—ä¿å­˜ï¼›å¯¹ä¸ªäººè®¾å¤‡æ— ä»ŽæŽ§åˆ¶ï¼Œæ­¤ä¹ƒè¿èƒŒå¼€æ”¾äº’è”ç½‘ä¹‹è¡Œä¸º ä½ å¯»æ±‚è§£è„±äºŽé—­æºè½¯ä»¶æˆ–JavaScriptä»£ç ï¼Œå¹¶ç¦æ­¢Flashè¿è¡Œ ä½ ä¸ºé»‘å®¢ç²¾ç¥žä¸Žè‡ªç”±è½¯ä»¶è€Œæ¬£å–œ åŠŸèƒ½ç‰¹æ€§ ä¸‹è½½æµè¡Œç½‘ç«™ä¹‹éŸ³è§†é¢‘ï¼Œä¾‹å¦‚YouTube, Youku, Niconico,ä»¥åŠæ›´å¤š. (æŸ¥çœ‹å®Œæ•´æ”¯æŒåˆ—è¡¨) äºŽæ‚¨å¿ƒä»ªçš„åª’ä½“æ’­æ”¾å™¨ä¸­è§‚çœ‹åœ¨çº¿è§†é¢‘ï¼Œè„±ç¦»æµè§ˆå™¨ä¸Žå¹¿å‘Š ä¸‹è½½æ‚¨å–œæ¬¢çš„ç½‘é¡µä¸Šçš„å›¾ç‰‡ ä¸‹è½½ä»»ä½•éžHTMLå†…å®¹ï¼Œä¾‹å¦‚äºŒè¿›åˆ¶æ–‡ä»¶ å®‰è£…æ–¹å¼Macå®‰è£… åœ¨Macä¸Šå®‰è£…Homebrewï¼ŒHomebrewæ˜¯ä¸€æ¬¾Mac OSå¹³å°ä¸‹çš„è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼Œæ‹¥æœ‰å®‰è£…ã€å¸è½½ã€æ›´æ–°ã€æŸ¥çœ‹ã€æœç´¢ç­‰å¾ˆå¤šå®žç”¨çš„åŠŸèƒ½ï¼ŒåŠŸèƒ½ç±»ä¼¼äºŽLinuxå¹³å°ä¸Šçš„apt-getæˆ–yumæ“ä½œã€‚è¿›å…¥Macç»ˆç«¯è¾“å…¥ä¸€ä¸‹å‘½ä»¤å³å¯å®‰è£…Homebrew; 1/usr/bin/ruby -e \\\"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\\\" å®‰è£…å®ŒæˆHomebrewåŽï¼Œæˆ‘ä»¬æ¥å®‰è£…you-getå·¥å…·ï¼Œè¾“å…¥ä¸€ä¸‹å‘½ä»¤å³å¯å®‰è£…å®Œæˆ; 1Yeamin:Hexo mac$ brew install you-get å®‰è£…å®ŒæˆåŽï¼Œæˆ‘ä»¬æ£€æŸ¥ç‰ˆæœ¬æ¥ç¡®è®¤æ˜¯å¦å®‰è£…æˆåŠŸã€‚ 12Yeamin:Hexo mac$ you-get -Vyou-get: version 0.4.1205, a tiny downloader that scrapes the web. Linuxå®‰è£… å®‰è£…Python3ï¼› ä½¿ç”¨pipæ¥å®‰è£… 1$ pip3 install you-get Windowså®‰è£… ä¸‹è½½Windowsé¢„è£…åŒ…å³å¯ï¼› å®‰è£…å¹¶æ‰§è¡Œå¯è¿è¡Œç¨‹åºã€‚ Gitå®‰è£…å³ä½¿æ‚¨ä¸å¸¸ä½¿ç”¨Pythonï¼Œä½œä¸ºå¼€å‘è€…ï¼Œä¹Ÿè¯·ä½¿ç”¨æ­¤æ–¹æ³•ã€‚ ä¸‹è½½å®‰è£…èµ„æºï¼Œå¦‚ä¸‹å‘½ä»¤; 1$ git clone git://github.com/soimort/you-get.git å°†ç›®å½•åŠ å…¥ PATH, æˆ–è¿è¡Œ make install ä»¥å®‰è£…you-getäºŽæ°¸ä¹…è·¯å¾„ã€‚ ä½¿ç”¨ä½“éªŒä»¥æœ€è¿‘çƒ­æ’­çš„ç”µè§†å‰§ã€Šéƒ½æŒºå¥½ã€‹ä¸ºä¾‹ï¼Œæ“ä½œå¦‚ä¸‹ï¼š æŸ¥è¯¢è§†é¢‘ä¿¡æ¯å¯ä»¥ä½¿ç”¨ --info/-i ä»¥æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ç”»è´¨ä¸Žæ ¼å¼ 1you-get -i 'https://v.youku.com/v_show/id_XNDA3OTMzMTE4MA==.html?spm=a2h1n.8261147.reload_1.1~3~A&amp;s=4e4e42efbfbdefbfbd62' æ‰§è¡Œä¸Šè¿°å‘½ä»¤åŽï¼Œè§‚å¯Ÿæ‰§è¡Œç»“æžœæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿå‡ºç”µè§†å‰§ã€Šéƒ½æŒºå¥½ã€‹ç¬¬1é›†çš„ç‰‡æºæ¥è‡ªä¼˜é…·ï¼Œç”»è´¨æœ‰è¶…æ¸…ã€é«˜æ¸…ã€æ¸£æ¸…ã€æ ‡æ¸…ï¼Œè§†é¢‘æ ¼å¼éƒ½ä¸ºmp4ï¼Œè§†é¢‘æ–‡ä»¶å¤§å°ä»¥åŠç›¸å…³åœ°å€é“¾æŽ¥ã€‚ ä¸‹è½½è§†é¢‘1you-get 'https://v.youku.com/v_show/id_XNDA3OTMzMTE4MA==.html?spm=a2h1n.8261147.reload_1.1~3~A&amp;s=4e4e42efbfbdefbfbd62' è¾“å…¥ä¸Šè¿°å‘½ä»¤åŽï¼Œå³å¯å¼€å§‹ä¸‹è½½ï¼Œé»˜è®¤ç”»è´¨ä¸ºè¶…æ¸…ç”»è´¨ï¼Œè§†é¢‘ä¼šåˆ†æ®µä¸‹è½½ï¼Œä¸‹è½½å®Œæˆä¹‹åŽï¼Œyou-getè‡ªåŠ¨è°ƒç”¨ffmpegå°†å¤šæ®µè§†é¢‘è¿›è¡Œåˆå¹¶æ“ä½œã€‚ åŠ è½½Cookiesåœ¨è¿™ä¸ªä¸‹è½½çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘çŽ°ä¸€ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚ä¸‹è½½ä¸‹æ¥çš„è§†é¢‘å¤§å°ä¸Žæ˜¾ç¤ºçš„å¤§å°ä¸ç¬¦åˆï¼Œæˆ‘ä»¬ä¸‹ä¸‹æ¥åªæœ‰80Må·¦å³ï¼Œè§†é¢‘æ—¶é—´ä¸º10åˆ†é’Ÿå·¦å³ã€‚ ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼ŸLZæŸ¥å¥½å¥½é˜…è¯»äº†ä¸€ä¸‹WIKIï¼ŒåŽŸå› æ˜¯ç½‘ç«™è§†é¢‘åªå…¬å¼€ä¸€éƒ¨åˆ†è§†é¢‘ç‰‡æ®µï¼Œå¹¶éžæ‰€æœ‰è§†é¢‘å¯ä¾›ä»»ä½•äººè§‚çœ‹ã€‚å¦‚æžœéœ€è¦ç™»å½•ä»¥è§‚çœ‹ (ä¾‹å¦‚, ç§å¯†è§†é¢‘), å¯èƒ½å¿…é¡»å°†æµè§ˆå™¨cookieé€šè¿‡--cookies/-c åŠ è½½å…¥ you-getã€‚éœ€è¦æˆ‘ä»¬ç™»å½•çš„Cookiesä¿¡æ¯ï¼Œæˆ‘ä»¬ç™»å½•åŽå°†æ‰“å¼€F12æŸ¥çœ‹Cookieä¿¡æ¯ï¼Œä¸€æŸ¥çœ‹ï¼Œä¸€å¤§å †Cookieï¼Œæ€Žä¹ˆæ•´ï¼ŒäºŽæ˜¯LZåˆæ‰¾åˆ°ä¸€ä¸ªChromeæµè§ˆå™¨çš„æ’ä»¶ï¼Œè‡ªåŠ¨ç”ŸæˆCookiesï¼Œå¦‚å›¾ï¼Œå¯ä»¥å°†çº¢è‰²åŒºåŸŸæ‹·è´åˆ°Cookies.txtä¸­ï¼Œç„¶åŽç»§ç»­æ‰§è¡Œä¸‹è½½æ“ä½œã€‚ æ³¨æ„: ç›®å‰æˆ‘ä»¬æ”¯æŒä¸¤ç§cookieæ ¼å¼ï¼šMozilla cookies.sqlite å’Œ Netscape cookies.txt. 1you-get -c Cookies.txt https://v.youku.com/v_show/id_XNDA3OTMzMTE4MA==.html æœ¬åœ°æ’­æ”¾å™¨æ’­æ”¾å¦‚æžœä½ åªæ˜¯åœ¨ç”¨è‡ªå·±æœ¬åœ°æ’­æ”¾å™¨è¿›è¡Œè§‚çœ‹çš„è¯ä½¿ç”¨è€Œä¸æ˜¯ä¸‹è½½çš„è¯ï¼Œåˆ™å¯ä»¥ --player/-p å°†è§†é¢‘å–‚è¿›æ’­æ”¾å™¨, ä¾‹å¦‚ mplayeræˆ–è€… vlcã€‚ 1$ you-get -p vlc 'https://www.youtube.com/watch?v=jNQXAC9IVRw' æˆ–è€…ä½ æƒ³åœ¨æµè§ˆå™¨ä¸­è§‚çœ‹è€Œä¸å¸Œæœ›çœ‹å¹¿å‘Šæˆ–è¯„è®ºåŒº: 1$ you-get -p chromium 'https://www.youtube.com/watch?v=jNQXAC9IVRw' æ”¯æŒä¸»æµç½‘ç«™åˆ—è¡¨ ç½‘ç«™ URL è§†é¢‘? å›¾åƒ? éŸ³é¢‘? YouTube https://www.youtube.com/ âœ“ Twitter https://twitter.com/ âœ“ âœ“ VK http://vk.com/ âœ“ Vine https://vine.co/ âœ“ Vimeo https://vimeo.com/ âœ“ Vidto http://vidto.me/ âœ“ Veoh http://www.veoh.com/ âœ“ Tumblr https://www.tumblr.com/ âœ“ âœ“ âœ“ TED http://www.ted.com/ âœ“ SoundCloud https://soundcloud.com/ âœ“ Pinterest https://www.pinterest.com/ âœ“ MusicPlayOn http://en.musicplayon.com/ âœ“ MTV81 http://www.mtv81.com/ âœ“ Mixcloud https://www.mixcloud.com/ âœ“ Metacafe http://www.metacafe.com/ âœ“ Magisto http://www.magisto.com/ âœ“ Khan Academy https://www.khanacademy.org/ âœ“ JPopsuki TV http://www.jpopsuki.tv/ âœ“ Internet Archive https://archive.org/ âœ“ Instagram https://instagram.com/ âœ“ âœ“ Heavy Music Archive http://www.heavy-music.ru/ âœ“ Google+ https://plus.google.com/ âœ“ âœ“ Freesound http://www.freesound.org/ âœ“ Flickr https://www.flickr.com/ âœ“ âœ“ Facebook https://www.facebook.com/ âœ“ eHow http://www.ehow.com/ âœ“ Dailymotion http://www.dailymotion.com/ âœ“ CBS http://www.cbs.com/ âœ“ Bandcamp http://bandcamp.com/ âœ“ AliveThai http://alive.in.th/ âœ“ interest.me http://ch.interest.me/tvn âœ“ 755ãƒŠãƒŠã‚´ãƒ¼ã‚´ãƒ¼ http://7gogo.jp/ âœ“ âœ“ niconicoãƒ‹ã‚³ãƒ‹ã‚³å‹•ç”» http://www.nicovideo.jp/ âœ“ 163ç½‘æ˜“è§†é¢‘ç½‘æ˜“äº‘éŸ³ä¹ http://v.163.com/ http://music.163.com/ âœ“ âœ“ 56ç½‘ http://www.56.com/ âœ“ AcFun http://www.acfun.tv/ âœ“ Baiduç™¾åº¦è´´å§ http://tieba.baidu.com/ âœ“ âœ“ çˆ†ç±³èŠ±ç½‘ http://www.baomihua.com/ âœ“ bilibiliå“”å“©å“”å“© http://www.bilibili.com/ âœ“ Dilidili http://www.dilidili.com/ âœ“ è±†ç“£ http://www.douban.com/ âœ“ æ–—é±¼ http://www.douyutv.com/ âœ“ å‡¤å‡°è§†é¢‘ http://v.ifeng.com/ âœ“ é£Žè¡Œç½‘ http://www.fun.tv/ âœ“ iQIYI çˆ±å¥‡è‰º http://www.iqiyi.com/ âœ“ æ¿€åŠ¨ç½‘ http://www.joy.cn/ âœ“ é…·6ç½‘ http://www.ku6.com/ âœ“ é…·ç‹—éŸ³ä¹ http://www.kugou.com/ âœ“ é…·æˆ‘éŸ³ä¹ http://www.kuwo.cn/ âœ“ ä¹è§†ç½‘ http://www.letv.com/ âœ“ è”æžFM http://www.lizhi.fm/ âœ“ ç§’æ‹ http://www.miaopai.com/ âœ“ MioMioå¼¹å¹•ç½‘ http://www.miomio.tv/ âœ“ ç—žå®¢é‚¦ https://www.pixnet.net/ âœ“ PPTVèšåŠ› http://www.pptv.com/ âœ“ é½é²ç½‘ http://v.iqilu.com/ âœ“ QQ è…¾è®¯è§†é¢‘ http://v.qq.com/ âœ“ é˜¡é™Œè§†é¢‘ http://qianmo.com/ âœ“ Sina æ–°æµªè§†é¢‘ å¾®åšç§’æ‹è§†é¢‘ http://video.sina.com.cn/ http://video.weibo.com/ âœ“ Sohu æœç‹è§†é¢‘ http://tv.sohu.com/ âœ“ å¤©å¤©åŠ¨å¬ http://www.dongting.com/ âœ“ TudouåœŸè±† http://www.tudou.com/ âœ“ è™¾ç±³ http://www.xiami.com/ âœ“ é˜³å…‰å«è§† http://www.isuntv.com/ âœ“ éŸ³æ‚¦Tai http://www.yinyuetai.com/ âœ“ Youkuä¼˜é…· http://www.youku.com/ âœ“ æˆ˜æ——TV http://www.zhanqi.tv/lives âœ“ å¤®è§†ç½‘ http://www.cntv.cn/ âœ“ å…¶ä»–ç±»ä¼¼å·¥å…· youtube-dlï¼šyoutube-dlåŠŸèƒ½å’Œyou-getç±»ä¼¼ã€‚ Video Download Managerï¼šå¯è§†åŒ–å·¥å…·ï¼Œç›¸å½“äºŽyoutube-dl+you-getã€‚ ykdlï¼šä¸“æ³¨äºŽä¼˜é…·è§†é¢‘ã€‚ annieï¼šä¸“æ³¨äºŽåœ¨çº¿è§†é¢‘ä¸‹è½½çš„è½»é‡çº§å‘½ä»¤è¡Œå·¥å…· ç»´æ£ :ç»´æ£ æœ€ä¸“ä¸šflvè§†é¢‘ä¸‹è½½è½¯ä»¶ ç¡•é¼ ï¼šç¡•é¼ æœ€ç¨³å®šçš„FLVè§†é¢‘ä¸‹è½½å¹³å° æ— æ°´å°é¢„è§ˆ å‚è€ƒèµ„æ–™you-getä¸­æ–‡æ–‡æ¡£ you-getæºç \",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"slug\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"permalink\":\"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/\"}]},{\"title\":\"GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å°\",\"slug\":\"GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å°\",\"date\":\"2019-01-05T11:11:09.000Z\",\"updated\":\"2019-05-29T14:03:53.000Z\",\"comments\":true,\"path\":\"2019/01/05/GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å°/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2019/01/05/GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å°/\",\"excerpt\":\"\",\"text\":\"è°ƒæ•´å †å¤§å°GCè°ƒæ•´çš„ç¬¬ä¸€å ‚è¯¾æ˜¯è°ƒæ•´åº”ç”¨ç¨‹åºå †çš„å¤§å°ã€‚å…³äºŽå †å¤§å°çš„è°ƒæ•´è¿˜æœ‰æ›´é«˜çº§çš„è¯é¢˜ï¼Œä¸è¿‡ä½œä¸ºç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬é¦–å…ˆè®¨è®ºå¦‚ä½•è®¾ç½®æ€»ä½“å †çš„å¤§å°ã€‚ ä¸Žå…¶ä»–çš„æ€§èƒ½é—®é¢˜ä¸€æ ·ï¼Œé€‰æ‹©å †çš„å¤§å°å…¶å®žæ˜¯ä¸€ç§å¹³è¡¡ã€‚å¦‚æžœåˆ†é…çš„å †è¿‡äºŽå°ï¼Œç¨‹åºçš„å¤§éƒ¨åˆ†æ—¶é—´å¯èƒ½éƒ½æ¶ˆè€—åœ¨GCä¸Šï¼Œæ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´åŽ»è¿è¡Œåº”ç”¨ç¨‹åºçš„é€»è¾‘ã€‚ä½†æ˜¯ï¼Œç®€å•ç²—æš´åœ°è®¾ç½®ä¸€ä¸ªç‰¹åˆ«å¤§çš„å †ä¹Ÿä¸æ˜¯è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚ GCåœé¡¿æ¶ˆè€—çš„æ—¶é—´å–å†³äºŽå †çš„å¤§å°ï¼Œå¦‚æžœå¢žå¤§å †çš„ç©ºé—´ï¼Œåœé¡¿çš„æŒç»­æ—¶é—´ä¹Ÿä¼šå˜é•¿ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåœé¡¿çš„é¢‘çŽ‡ä¼šå˜å¾—æ›´å°‘ï¼Œä½†æ˜¯å®ƒä»¬æŒç»­çš„ä¸–ç•Œä¼šè®©ç¨‹åºçš„æ•´ä½“æ€§èƒ½å˜æ…¢ã€‚ ä½¿ç”¨è¶…å¤§å †è¿˜æœ‰å¦ä¸€ä¸ªé£Žé™©ã€‚æ“ä½œç³»ç»Ÿä½¿ç”¨è™šæ‹Ÿå†…å­˜æœºåˆ¶ç®¡ç†æœºå™¨çš„ç‰©ç†å†…å­˜ã€‚ä¸€å°æœºå™¨å¯èƒ½æœ‰8Gçš„ç‰©ç†å†…å­˜ï¼Œä¸è¿‡æ“ä½œç³»ç»Ÿå¯èƒ½è®©ä½ æ„Ÿè§‰æœ‰æ›´å¤šçš„å¯ç”¨å†…å­˜ã€‚è™šæ‹Ÿå†…å­˜çš„æ•°é‡å–å†³äºŽæ“ä½œç³»ç»Ÿçš„è®¾ç½®ï¼Œè­¬å¦‚æ“ä½œç³»ç»Ÿå¯èƒ½è®©ä½ æ„Ÿè§‰åˆ°å®ƒçš„å†…å­˜è¾¾åˆ°äº†16Gã€‚æ“ä½œç³»ç»Ÿåä¸ºâ€äº¤æ¢â€(swappingï¼Œç§°ä¹‹ä¸ºåˆ†é¡µï¼Œè™½ç„¶è¿™ä¸¤è€…åœ¨æŠ€æœ¯ä¸Šå­˜åœ¨ç€å·®å¼‚ï¼Œä½†æ˜¯è¿™äº›å·®å¼‚ï¼Œåœ¨è¿™é‡Œä¸å½±å“æˆ‘ä»¬çš„è®¨è®º)ã€‚ä½ å¯ä»¥è½½å…¥éœ€è¦16GGå†…å­˜çš„åº”ç”¨ç¨‹åºï¼Œæ“ä½œç³»ç»Ÿåœ¨éœ€è¦æ—¶ä¼šå°†ç¨‹åºè¿è¡Œæ—¶ä¸æ´»è·ƒçš„æ•°æ®ç”±å†…å­˜å¤åˆ¶åˆ°ç£ç›˜ã€‚å†æ¬¡éœ€è¿™éƒ¨åˆ†å†…å­˜çš„å†…å®¹æ—¶ï¼Œæ“ä½œç³»ç»Ÿå†å°†å®ƒä»¬ç”±ç£ç›˜é‡æ–°è½½å…¥åˆ°å†…å­˜(ä¸ºäº†è…¾å‡ºç©ºé—´ï¼Œé€šå¸¸å®ƒä¼šå…ˆå°†å¦ä¸€éƒ¨åˆ†å†…å­˜çš„å†…å®¹å¤åˆ¶åˆ°ç£ç›˜)ã€‚ ç³»ç»Ÿä¸­è¿è¡Œç€å¤§é‡ä¸åŒçš„åº”ç”¨ç¨‹åºæ—¶ï¼Œè¿™ä¸ªæµç¨‹å·¥ä½œå¾—å¾ˆä¸é¡ºç•…ï¼Œå› ä¸ºå¤§å¤šæ•°çš„åº”ç”¨ç¨‹åºä¸ä¼šåŒæ—¶å¤„äºŽæ´»è·ƒçŠ¶æ€ã€‚ä½†æ˜¯ï¼Œå¯¹äºŽJavaåº”ç”¨ï¼Œå®ƒå·¥ä½œå¾—å¹¶ä¸æ˜¯å¾ˆå¥½ã€‚å¦‚æžœä¸€ä¸ªJavaåº”ç”¨ä½¿ç”¨äº†è¿™ä¸ªç³»ç»Ÿä¸Šå¤§çº¦12Gçš„å †ï¼Œæ“ä½œç³»ç»Ÿå¯èƒ½åœ¨RAMä¸Šåˆ†é…8Gçš„å †ç©ºé—´ï¼Œå¦å¤–4Gçš„ç©ºé—´å­˜åœ¨äºŽç£ç›˜(è¿™ä¸ªå‡è®¾å¯¹å®žé™…æƒ…å†µè¿›è¡Œäº†ä¸€äº›ç®€åŒ–ï¼Œå› ä¸ºåº”ç”¨ç¨‹åºä¹Ÿä¼šä½¿ç”¨éƒ¨åˆ†çš„RAM)ã€‚JVMä¸ä¼šäº†è§£è¿™äº›ï¼šæ“ä½œç³»ç»Ÿå®Œå…¨å±è”½äº†å†…å­˜äº¤äº’çš„ç»†èŠ‚ã€‚è¿™æ ·ï¼ŒJVMæ„‰å¿«çš„åœ°å¡«æ»¡äº†åˆ†é…ç»™å®ƒçš„12Gå †ç©ºé—´ã€‚ä½†è¿™æ ·å°±å¯¼è‡´äº†ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿéœ€è¦å°†ç›¸å½“ä¸€éƒ¨åˆ†çš„æ•°æ®ç”±ç£ç›˜äº¤æ¢åˆ°å†…å­˜(è¿™æ˜¯ä¸€ä¸ªæ˜‚è´µæ“ä½œçš„å¼€å§‹)ã€‚ æ›´ç³Ÿç³•çš„æ˜¯ï¼Œè¿™ç§åŽŸæœ¬æœŸæœ›ä¸€æ¬¡æ€§çš„å†…å­˜äº¤æ¢æ“ä½œåœ¨Full GCæ—¶ä¸€å®šä¼šå†æ¬¡é‡æ¼”ï¼Œå› ä¸ºJVMå¿…é¡»è®¿é—®æ•´ä¸ªå †çš„å†…å®¹ã€‚å¦‚æžœFull GCæ—¶ç³»ç»Ÿå‘ç”Ÿå†…å­˜äº¤æ¢ï¼Œåœé¡¿æ—¶é—´ä¼šä»¥æ­£å¸¸åœé¡¿æ—¶é—´æ•°ä¸ªé‡çº§çš„æ–¹å¼å¢žé•¿ã€‚ç±»ä¼¼çš„ï¼Œå¦‚æžœä½¿ç”¨Concurrentæ”¶é›†å™¨ï¼ŒåŽå°çº¿ç¨‹åœ¨å›žæ”¶å †æ—¶ï¼Œå®ƒçš„é€Ÿåº¦ä¹Ÿå¯èƒ½ä¼šè¢«æ‹–æ…¢ï¼Œå› ä¸ºéœ€è¦ç­‰å¾…ä»Žè£åˆ¤å¤åˆ¶æ•°æ®åˆ°å†…å­˜ï¼Œç»“æžœå¯¼è‡´å‘ç”Ÿä»£ä»·æ˜‚è´µçš„å¹¶å‘æ¨¡å¼å¤±æ•ˆã€‚ å› æ­¤ï¼Œè°ƒæ•´å †å¤§å°æ—¶é¦–è¦çš„åŽŸåˆ™å°±æ˜¯æ°¸è¿œä¸è¦å°†å †çš„å®¹é‡è®¾ç½®å¾—æ¯”æœºå™¨çš„ç‰©ç†å†…å­˜è¿˜å¤§ã€‚å¦å¤–ï¼Œå¦‚æžœåŒä¸€å°æœºå™¨ä¸Šè¿è¡Œç€å¤šä¸ªJVMå®žä¾‹ï¼Œè¿™ä¸ªåŽŸåˆ™é€‚ç”¨äºŽæ‰€æœ‰å †çš„æ€»å’Œã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜éœ€è¦ä¸ºJVMè‡ªèº«ä»¥åŠæœºå™¨ä¸Šå…¶ä»–çš„åº”ç”¨ç¨‹åºé¢„ç•™ä¸€éƒ¨åˆ†çš„å†…å­˜ç©ºé—´ï¼šé€šå¸¸æƒ…å†µä¸‹ï¼Œå¯¹äºŽæ™®é€šçš„æ“ä½œç³»ç»Ÿï¼Œåº”è¯¥é¢„ç•™è‡³å°‘1Gçš„å†…å­˜ç©ºé—´ã€‚ å †çš„å¤§å°ç”±2ä¸ªå‚æ•°å€¼æŽ§åˆ¶ï¼šåˆ†åˆ«æ˜¯åˆå§‹å€¼(é€šè¿‡-Xms Nè®¾ç½®)å’Œæœ€å¤§å€¼(é€šè¿‡ -Xmx Nè®¾ç½®)ã€‚é»˜è®¤å€¼çš„è°ƒèŠ‚å–å†³äºŽå¤šä¸ªå› ç´ ï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿç±»åž‹ã€ç³»ç»Ÿå†…å­˜å¤§å°ã€ä½¿ç”¨çš„JVMã€‚å…¶ä»–çš„å‘½ä»¤æ ‡å¿—ä¹Ÿä¼šå¯¹è¯¥å€¼é€ æˆå½±å“ï¼Œå †å¤§å°çš„è°ƒèŠ‚æ˜¯JVmè‡ªé€‚åº”è°ƒä¼˜çš„æ ¸å¿ƒã€‚ JVMçš„ç›®æ ‡æ˜¯ä¸€å¥ç³»ç»Ÿå¯ç”¨çš„èµ„æºæƒ…å†µæ‰¾åˆ°ä¸€ä¸ªâ€åˆç†çš„â€é»˜è®¤åˆå§‹åŒ–å€¼ï¼Œå½“ä¸”ä»…å½“åº”ç”¨ç¨‹åºéœ€è¦æ›´å¤šçš„å†…å­˜(ä¾æ®åžƒåœ¾å›žæ”¶æ—¶æ¶ˆè€—çš„æ—¶é—´æ¥å†³å®š)æ—¶å°†å †çš„å¤§å°å¢žå¤§åˆ°ä¸€ä¸ªåˆç†çš„æœ€å¤§å€¼ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼ŒJVMçš„é«˜çº§è°ƒä¼˜æ ‡å¿—ä»¥åŠè°ƒä¼˜ç»†èŠ‚éƒ½æ²¡æœ‰æåŠã€‚ä¸ºäº†è®©å¤§å®¶æœ‰ä¸ªæ„Ÿæ€§çš„è®¤è¯†ï¼Œæˆ‘ä»¬åˆ—å‡ºäº†å †å¤§å°çš„é»˜è®¤æœ€å¤§å€¼å’Œæœ€å°å€¼ä¾›å¤§å®¶å‚è€ƒï¼Œå‚è§å¦‚ä¸‹è¡¨ã€‚(ä¸ºäº†ä½¿å†…å­˜å¯¹é½ï¼ŒJVMä¼šå¯¹è¿™äº›å€¼è¿›è¡Œåœ†æ•´æ“ä½œï¼›æ‰€ä»¥GCæ—¥å¿—ä¸­è¾“å‡ºçš„å¤§å°å¯èƒ½ä¸Žè¡¨ä¸­ç»™å‡ºçš„å€¼å¹¶ä¸å®Œå…¨ä¸€è‡´)ã€‚ æ“ä½œç³»ç»ŸåŠJVMç±»åž‹ åˆå§‹å †å¤§å°(Xms) æœ€å¤§å †å¤§å°(Xmx) Linux/Solaris,32ä½å®¢æˆ·ç«¯ 16MB 256MB Linux/Solaris,32ä½å®¢æˆ·ç«¯ 64MB å–1GBå’Œç‰©ç†å†…å­˜å¤§å°1/4äºŒè€…ä¸­çš„æœ€å°å€¼ Linux/Solaris,32ä½å®¢æˆ·ç«¯ å–512MBå’Œç‰©ç†å†…å­˜å¤§å°1/64äºŒè€…ä¸­çš„æœ€å°å€¼ å–32GBå’Œç‰©ç†å†…å­˜å¤§å°1/4äºŒè€…ä¸­çš„æœ€å°å€¼ MacOSï¼Œ64ä½æœåŠ¡å™¨åž‹JVM 64MB(æ•°æ®æœ‰è¯¯,åº”è¯¥æ˜¯256MB) å–1GBå’Œç‰©ç†å†…å­˜å¤§å°1/4äºŒè€…ä¸­çš„æœ€å°å€¼ Windowsï¼Œ32ä½å®¢æˆ·ç«¯JVM 16MB 256MB Windowsï¼Œ64ä½æœåŠ¡ç«¯JVM 64MB å–1GBå’Œç‰©ç†å†…å­˜å¤§å°1/4äºŒè€…ä¸­çš„æœ€å°å€¼ å¦‚æžœæœºå™¨çš„ç‰©ç†å†…å­˜å°‘äºŽ192MBï¼Œæœ€å¤§å †çš„å¤§å°ä¼šæ˜¯ç‰©ç†å†…å­˜çš„ä¸€åŠ(å¤§çº¦96MBï¼Œæˆ–æ›´å°‘)ã€‚ å †å¤§å°å…·æœ‰åˆå§‹å€¼å’Œæœ€å¤§å€¼çš„è¿™ç§è®¾è®¡è®©JVMèƒ½å¤Ÿæ ¹æ®å®žé™…çš„è´Ÿè·æƒ…å†µæ›´çµæ´»åœ°è°ƒæ•´JVMçš„è¡Œä¸ºã€‚å¦‚æžœJVMå‘çŽ°ä½¿ç”¨åˆå§‹çš„å †å¤§å°ï¼Œé¢‘ç¹åœ°å‘ç”ŸGCï¼Œå®ƒå°±ä¼šå°è¯•å¢žå¤§å †çš„ç©ºé—´ï¼Œç›´åˆ°JVMçš„GCçš„é¢‘çŽ‡å›žå½’åˆ°æ­£å¸¸çš„èŒƒå›´ï¼Œæˆ–ç›´åˆ°å †å¤§å°å¢žå¤§åˆ°å®ƒçš„ä¸Šé™å€¼ã€‚ å¯¹å¾ˆå¤šåº”ç”¨æ¥è¯´ï¼Œè¿™æ„å‘³ç€å †çš„å¤§å°ä¸å†éœ€è¦è°ƒæ•´äº†ï¼Œå®žé™…ä¸Šï¼Œä½ åªéœ€è¦ä¸ºä½ é€‰æ‹©çš„GCç®—æ³•è®¾å®šæ€§èƒ½ç›®æ ‡ï¼šè­¬å¦‚ä½ èƒ½å¿å—çš„åœé¡¿çš„æŒç»­æ—¶é—´ã€ä½ æœŸæœ›åžƒåœ¾å›žæ”¶åœ¨æ•´ä¸ªæ—¶é—´ä¸­æ‰€å ç”¨çš„ç™¾åˆ†æ¯”ç­‰ã€‚ å¦‚æžœåº”ç”¨ç¨‹åºåœ¨GCæ—¶æ¶ˆè€—äº†å¤ªé•¿çš„æ—¶é—´ï¼Œä½ å¾ˆæœ‰å¯èƒ½éœ€è¦ä½¿ç”¨-Xmxæ ‡å¿—å¢žå¤§å †çš„å¤§å°ã€‚é€‰æ‹©ä»€ä¹ˆæ ·çš„å¤§å°æ²¡æœ‰ä¸€ä¸ªç¡¬æ€§çš„æˆ–ç®€å•çš„è§„åˆ™ã€‚ä¸€ä¸ªç»éªŒæ³•åˆ™æ˜¯å®ŒæˆFull GCåŽï¼Œåº”è¯¥é‡Šæ”¾å‡º70%çš„ç©ºé—´(30%çš„ç©ºé—´ä»ç„¶å ç”¨)ã€‚ æ³¨æ„ï¼Œå³ä½¿ä½ æ˜¾ç¤ºåœ°è®¾ç½®äº†å †çš„æœ€å¤§å®¹é‡ï¼Œè¿˜æ˜¯ä¼šå‘ç”Ÿå †çš„è‡ªåŠ¨è°ƒèŠ‚ï¼šåˆå§‹æ—¶å †ä»¥é»˜è®¤çš„å¤§å°å¼€å§‹è¿è¡Œï¼Œä¸ºäº†è¾¾åˆ°æ ¹æ®åžƒåœ¾æ”¶é›†ç®—æ³•è®¾ç½®çš„æ€§èƒ½ç›®æ ‡ï¼ŒJVMä¼šé€æ­¥å¢žå¤§å †çš„å¤§å°ã€‚å°†å †çš„å¤§å°è®¾ç½®å¾—æ¯”å®žé™…éœ€è¦æ›´å¤§ä¸ä¸€å®šä¼šå¸¦æ¥æ€§èƒ½æŸè€—ï¼šå †å¹¶ä¸ä¼šæ— é™åœ°å¢žå¤§ï¼ŒJVMä¼šè°ƒèŠ‚å †çš„å¤§å°ç›´åˆ°å…¶æ»¡è¶³GCçš„æ€§èƒ½ç›®æ ‡ã€‚ å¦ä¸€æ–¹é¢ï¼Œå¦‚æžœä½ ç¡®åˆ‡åœ°äº†è§£åº”ç”¨ç¨‹åºéœ€è¦å¤šå¤§çš„å †ï¼Œé‚£ä¹ˆä½ å¯ä»¥å°†å †çš„åˆå§‹åŒ–å’Œæœ€å¤§å€¼è®¾ç½®ä¸€è‡´æ•°å€¼(è­¬å¦‚ï¼š-Xms1024M -Xmx1024M)ã€‚è¿™ç§è®¾ç½®èƒ½ç¨å¾®æé«˜GCçš„è¿è¡Œæ•ˆçŽ‡ï¼Œå› ä¸ºå®ƒä¸å†éœ€è¦ä¼°ç®—å †æ˜¯å¦éœ€è¦è°ƒæ•´å¤§å°ã€‚ å †å†…å­˜çº é”™åœ¨ä¸Šè¿°è¡¨æˆ‘ä»¬çŸ¥é“äº†ä¸åŒæ“ä½œç³»ç»Ÿã€ä¸åŒJVMã€ä¸åŒç‰©ç†å†…å­˜çš„é»˜è®¤å †å¤§å°ã€‚ä½†æ˜¯å®žé™…ä¸Šï¼ŒMac OSè¿™ä¸ªæ•°æ®æœ‰é—®é¢˜çš„ã€‚æˆ‘çš„Mac Pro 2013çš„é…ç½®ç‰©ç†å†…å­˜æ˜¯16Gã€64ä½çš„JVMã€‚ ä¸‹é¢ä¸¤ä¸ªå‘½ä»¤ç”¨äºŽæŸ¥çœ‹å½“å‰JREé»˜è®¤çš„å †å¤§å°ï¼Œè¯¥æ–¹æ³•é€‚ç”¨äºŽJava 6u20ä»¥åŠä¹‹åŽç‰ˆæœ¬ã€‚ 1234567891011121314151617181920# ä½¿ç”¨-serverYeamin:~ mac$ java -server -XX:+UnlockDiagnosticVMOptions -XX:+PrintFlagsFinal -version | grep -i heapsize uintx ErgoHeapSizeLimit = 0 &#123;product&#125; uintx HeapSizePerGCThread = 87241520 &#123;product&#125; uintx InitialHeapSize := 268435456 &#123;product&#125; uintx LargePageHeapSizeThreshold = 134217728 &#123;product&#125; uintx MaxHeapSize := 4294967296 &#123;product&#125;java version \\\"1.8.0_192\\\"Java(TM) SE Runtime Environment (build 1.8.0_192-b12)Java HotSpot(TM) 64-Bit Server VM (build 25.192-b12, mixed mode)# ä½¿ç”¨-clientYeamin:~ mac$ java -client -XX:+UnlockDiagnosticVMOptions -XX:+PrintFlagsFinal -version | grep -i heapsize uintx ErgoHeapSizeLimit = 0 &#123;product&#125; uintx HeapSizePerGCThread = 87241520 &#123;product&#125; uintx InitialHeapSize := 268435456 &#123;product&#125; uintx LargePageHeapSizeThreshold = 134217728 &#123;product&#125; uintx MaxHeapSize := 4294967296 &#123;product&#125;java version \\\"1.8.0_192\\\"Java(TM) SE Runtime Environment (build 1.8.0_192-b12)Java HotSpot(TM) 64-Bit Server VM (build 25.192-b12, mixed mode) æŸ¥çœ‹ç»“æžœï¼Œæˆ‘ä»¬å‘çŽ°ï¼ŒMac OSä¸­clientå’Œserveræ¨¡å¼çš„åˆå§‹åŒ–å †å¤§å°æ˜¯268435456(å³268435456/1024/1024=256M=ç‰©ç†å†…å­˜16G \\\\ 1024 \\\\ 1/64)ã€‚æˆ‘ä»¬å‘çŽ°å®žé™…ä¸Šè¿™ä¸ªè¡¨ä¸­æ•°æ®æ˜¯æœ‰è¯¯çš„ã€‚ å…¶å®žä¸ä»…ä»…æ˜¯Mac OSï¼ŒWindows 64ä½ä¹Ÿæ˜¯è¿™æ ·çš„ã€‚ æ€»ç»“ å †åˆ†é…è¿‡å°ï¼Œç¨‹åºå¤§éƒ¨åˆ†æ—¶é—´æ¶ˆè€—åœ¨GCä¸Šã€‚å †åˆ†é…è¿‡å¤§ï¼ŒGCåœé¡¿æ—¶é—´åŠ é•¿ï¼Œåœé¡¿é¢‘çŽ‡å‡å°‘ï¼Œä½¿å¾—ç¨‹åºæ€§èƒ½æ•´å¤©ä¸‹é™ã€‚ JVMä¸åƒæ˜¯ç‰©ç†å†…å­˜ä¸€æ ·å¯ä»¥ä½¿ç”¨äº¤äº’/åˆ†é¡µæŠ€æœ¯ã€‚è®¡ç®—æœºæ˜¯ç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜ç»“åˆä½¿ç”¨ï¼Œç¨‹åºä¸­è¿è¡Œä¸æ´»è·ƒçš„æ•°æ®å¤åˆ¶åˆ°è™šæ‹Ÿå†…å­˜(ç£ç›˜)ï¼Œè€ŒJVMå®Œå…¨æ²¡æœ‰è¿™ç§å†…å­˜äº¤æ¢ç»†èŠ‚ï¼Œåˆ†é…å¤šå°‘Gå°±æ˜¯å¤šå°‘Gã€‚ ä¸åŒæ“ä½œç³»ç»Ÿã€ä¸åŒå¤§å°ç‰©ç†å†…å­˜ã€ä¸åŒJVMçš„é»˜è®¤å †å¤§å°æœ‰æ‰€å·®å¼‚ã€‚ä½†æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„éƒ½æ˜¯64ä½çš„JVMï¼Œå¸¸ç”¨çš„åˆå§‹åŒ–å †å¤§å°æ˜¯ç‰©ç†å†…å­˜çš„1/64,å¸¸ç”¨çš„æœ€å¤§å †å¤§å°ä¸ºç‰©ç†å†…å­˜çš„1/4ã€‚ å †çš„åˆå§‹åŒ–å¤§å°å’Œæœ€å¤§å †å¤§å°ç”±-Xms:Nå’Œ-Xmx:Nä¸¤ä¸ªå‚æ•°æ¥æŽ§åˆ¶ã€‚å…¶ä¸­Nè¡¨ç¤ºå­˜å‚¨å¤§å°ï¼Œé»˜è®¤ä¸ºMBä¸ºåŸºæœ¬å•ä½ã€‚ æ¯æ¬¡GCçš„æ—¶å€™ä¼šåŠ¨æ€è°ƒæ•´å †çš„å¤§å°ã€‚è‹¥é»˜è®¤ç©ºä½™å †å†…å­˜å°äºŽ40%æ—¶ï¼ŒJVMä¼šåŠ¨æ€å°†å †å†…å­˜å¢žå¤§åˆ°-Xmxæœ€å¤§é™åˆ¶ã€‚è‹¥é»˜è®¤ç©ºä½™å †å†…å­˜å°äºŽ40%æ—¶ï¼ŒJVMä¼šåŠ¨æ€å°†å †å†…å­˜å‡å°‘åˆ°-Xmsæœ€å°é™åˆ¶ã€‚å› æ­¤æˆ‘ä»¬ä¸€èˆ¬è®¾ç½®-Xmså’Œ-Xmxç›¸ç­‰ï¼Œé¿å…åœ¨æ¯æ¬¡GCåŽè°ƒæ•´å †çš„å¤§å°ã€‚ é™¤éžåº”ç”¨ç¨‹åºéœ€è¦æ¯”é»˜è®¤å€¼æ›´å¤§çš„å †ï¼Œå¦åˆ™åœ¨è¿›è¡Œè°ƒä¼˜æ—¶ï¼Œå°½é‡è€ƒè™‘é€šè¿‡GCç®—æ³•çš„æ€§èƒ½ç›®æ ‡ï¼Œè€Œéžå¾®è°ƒå †çš„å¤§å°æ¥æ”¹å–„ç¨‹åºæ€§èƒ½ã€‚ å‚è€ƒæ–‡çŒ® ã€ŠJavaæ€§èƒ½æƒå¨æŒ‡å—ã€‹\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"slug\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"permalink\":\"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/\"}]},{\"title\":\"å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿\",\"slug\":\"å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿\",\"date\":\"2018-06-18T13:22:13.000Z\",\"updated\":\"2019-11-20T15:08:51.556Z\",\"comments\":true,\"path\":\"2018/06/18/å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/06/18/å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿/\",\"excerpt\":\"\",\"text\":\"åœ¨å¹³å¸¸ç”Ÿæ´»æˆ–å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¼ è¾“æ–‡ä»¶ï¼Œæ¯”å¦‚å°†ç”µè„‘ä¸Šä¸‹è½½çš„Appä¼ é€åˆ°æ‰‹æœºæˆ–å¦ä¸€å°PCä¸Šã€åŒäº‹ä¹‹é—´ä¼ è¾“ä¸€äº›å¤§åž‹çš„æ–‡ä»¶ã€‚å½“æˆ‘ä»¬é‡åˆ°æ­¤ç±»é—®é¢˜æ—¶ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ä½¿ç”¨QQæˆ–è€…å¾®ä¿¡ï¼Œæ›´æ·±ä¸€å±‚ï¼ŒåŽ»ç½‘ä¸Šæœç´¢ä¸€äº›æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œå¦‚Send Anywhereï¼ŒLZå½“æ—¶åœ¨å¤§å­¦æ—¶å€™ç»å¸¸ä½¿ç”¨çš„æ˜¯FTPã€SambaæœåŠ¡ã€‚ä½†æ˜¯è¿™äº›ç¬¬ä¸‰æ–¹è¦ä¹ˆéƒ½æ˜¾å¾—å¤ªéº»çƒ¦ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œè¦ä¹ˆå°±æ˜¯ä¸å®‰å…¨ï¼Œå®‰å…¨éšæ‚£ä¸»è¦åœ¨æ•°æ®ä¼ è¾“å®‰å…¨ä»¥åŠæ•°æ®å¤‡ä»½ä¸Šä½“çŽ°ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å°†æ–‡ä»¶ä¼ è¾“åˆ°ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ä¸Šï¼Œå†é€šè¿‡éœ€è¦æŽ¥æ”¶æ•°æ®çš„ç”µè„‘æˆ–æ‰‹æœºè¿›è¡Œä¸‹è½½ã€‚ é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰åŠžæ³•ç›´æŽ¥èŽ·å–æ–‡ä»¶ï¼Œè€Œä¸é€šè¿‡è¿™äº›ç¹ççš„æ“ä½œï¼Ÿåœ¨è¿™é‡Œå‘¢ï¼ŒLZç»™å¤§å®¶æŽ¨èå‡ ç§å¸¸è§çš„æ–‡ä»¶å…±äº«æ–¹æ³•ã€‚ æ–‡ä»¶å…±äº«ä¸‹è½½æ–°å§¿åŠ¿æœ€æ–¹ä¾¿çš„Windowsæ–‡ä»¶å…±äº«LZæœ¬äººä¸€å¹´å¤šæ²¡ç”¨è¿‡Windowsç”µè„‘äº†,çŽ°åœ¨å…¬å¸é…ç½®çš„æ˜¯Mac Proï¼Œå®¶ç”¨çš„Lenovo Y430På·²è¢«æ”¹è£…ä¸ºDeepin Linux,ç”±äºŽçŽ°åœ¨æ—¥å¸¸ç”Ÿæ´»ã€å·¥ä½œéƒ½æ˜¯åœ¨éžWindowsæ“ä½œ,æ‰€ä»¥è¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ï¼Œç­‰æœ‰æœºä¼šä¼šæŠŠè¯¦ç»†æ•™ç¨‹åˆ—åˆ°è¿™é‡Œã€‚ Windowsæ–‡ä»¶å…±äº« æœ€ç®€å•çš„Pythonå‘½ä»¤å…±äº«å¤§å®¶éƒ½çŸ¥é“Python2ä¸ŽPython3ä¸å…¼å®¹,ä¸€èˆ¬Linuxå’ŒMac OS Xé»˜è®¤é›†æˆPython2,å› ä¸ºè¿™äº›ç³»ç»Ÿä¸€äº›åº”ç”¨å·¥å…·æ˜¯Python2å¼€å‘çš„ï¼Œæ‰€ä»¥ç³»ç»Ÿåªèƒ½é»˜è®¤Python2ã€‚ Python2çš„æ“ä½œå§¿åŠ¿ 1234Yeamin:book mac$ echo litonglitongYeamin:book mac$ python -m SimpleHTTPServer 8900Serving HTTP on 0.0.0.0 port 8900 ... Python3çš„æ“ä½œå§¿åŠ¿ 12Yeamin:work mac$ python3 -m http.server 8900Serving HTTP on 0.0.0.0 port 8900 (http://0.0.0.0:8900/) ... â€‹ æˆ‘åœ¨æˆ‘çš„Macæˆ–Linuxç»ˆç«¯æ‰§è¡Œç®€å•çš„ä¸Šè¿°ä»»æ„ä¸¤ä¸ªå‘½ä»¤åŽï¼Œå¯åŠ¨ä¸€ä¸ªHTTPæœåŠ¡å™¨ï¼Œæ‰“å¼€æµè§ˆå™¨è¾“å…¥http://127.0.0.1:8900æˆ–http://localhost:8900 åŽå›žå‡ºçŽ°ä¸‹å›¾æ–‡ä»¶å…±äº«çš„åˆ—è¡¨ï¼Œè‹¥å…¶ä»–äººæƒ³ä¸‹è½½å¯ä»¥å°†å±€åŸŸç½‘IPå’Œç«¯å£å·å‘ŠçŸ¥å…¶ä»–äººå³å¯ä¸‹è½½ã€‚åœ¨è¿™ä¸ä»…ä»…å¯ä»¥ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥é¢„è§ˆå¸¸è§æ–‡ä»¶ï¼Œæ¯”å¦‚éŸ³é¢‘ã€è§†é¢‘ã€å›¾ç‰‡ã€PDFã€æ–‡æœ¬æ–‡ä»¶ã€‚ æœ€ä¸“ä¸šçš„NginxæœåŠ¡å…±äº«å¤§å®¶éƒ½çŸ¥é“å•å°çš„Nginx WebæœåŠ¡å™¨å¹¶å‘æ€§èƒ½è¾ƒå¼º,ä¸€èˆ¬åŸºæœ¬éƒ½æ˜¯æ–‡ä»¶å¤šå¹¶å‘å¤§çš„æƒ…å†µä¸‹æ‰ç”¨ï¼Œä¼ä¸šé‡Œä¸€èˆ¬åšè·¯ç”±è½¬å‘ã€è´Ÿè½½å‡è¡¡ã€èµ„æºé™æ€åŒ–ï¼Œè·¯ç”±è½¬å‘æ˜¯ä¸ºäº†å¯¹å¤–ç»Ÿä¸€æš´éœ²ä¸€ä¸ªåœ°å€ï¼Œè´Ÿè½½å‡è¡¡æ˜¯æ ¹æ®æŸç§ç®—æ³•(IP_HASHç»‘å®šç­–ç•¥ã€è½®è¯¢ç­–ç•¥ã€æƒé‡)å°†ä¸åŒçš„è¯·æ±‚åˆ†æ•£åˆ°å¤šå°ä¸šåŠ¡ç›¸åŒçš„æœºå™¨ä¸Šï¼Œèµ„æºé™æ€åŒ–è¿™ä¸ªå¾ˆå¸¸è§ï¼Œä»¥å‰é¡¹ç›®å¤ªå¤§ï¼Œä¼šå°†JS/CSSå•ç‹¬åˆ†ç¦»ï¼Œä½¿å¾—åº”ç”¨ç³»ç»Ÿå‰ç«¯ç»„ä»¶åŠ è½½æ›´å¿«ã€‚ ä¸‹è½½Nginx 1234567891011litong@LT:/media/litong/è½¯ä»¶/programs/tools$ wget -c http://nginx.org/download/nginx-1.15.10.tar.gz--2019-03-31 14:03:53-- http://nginx.org/download/nginx-1.15.10.tar.gzæ­£åœ¨è§£æžä¸»æœº nginx.org (nginx.org)... 62.210.92.35, 95.211.80.227, 2001:1af8:4060:a004:21::e3æ­£åœ¨è¿žæŽ¥ nginx.org (nginx.org)|62.210.92.35|:80... å·²è¿žæŽ¥ã€‚å·²å‘å‡º HTTP è¯·æ±‚ï¼Œæ­£åœ¨ç­‰å¾…å›žåº”... 200 OKé•¿åº¦ï¼š1032228 (1008K) [application/octet-stream]æ­£åœ¨ä¿å­˜è‡³: â€œnginx-1.15.10.tar.gzâ€nginx-1.15.10.tar.gz 100%[===============================&gt;] 1008K 13.4KB/s ç”¨æ—¶ 55s 2019-03-31 14:04:48 (18.4 KB/s) - å·²ä¿å­˜ â€œnginx-1.15.10.tar.gzâ€ [1032228/1032228]) è§£åŽ‹Nginx 1tar -zxvf nginx-1.15.10.tar.gz ç¼–è¯‘Nginx 1cd nginx-1.15.10/ 1./configure 1make 1sudo make install å¯åŠ¨Nginx 12cd /usr/local/nginx/sbin./nginx å¯åŠ¨æˆåŠŸåŽï¼Œè¾“å…¥localhost:80ï¼Œçœ‹æ˜¯å¦å¯åŠ¨æˆåŠŸè¿›å…¥åˆ°index.htmlï¼Œå¦‚ä¸‹å›¾: æŸ¥çœ‹å¯åŠ¨è¿›ç¨‹ å¦‚æžœæ‡’å¾—æ‰“å¼€æµè§ˆå™¨ï¼Œç›´æŽ¥çœ‹è¿›ç¨‹ç¡®è®¤nginxæ˜¯å¦å¯åŠ¨ 12litong@LT:usr/local/nginx/sbin$ ps -ef | grep nginxroot 7017 1 0 11:07 ? 00:00:00 nginx: master process ./nginx é‡è½½Nginx ä¿®æ”¹Nginxçš„é…ç½®æ–‡ä»¶nginx.conf,å¹¶è¿›è¡Œé‡è½½é…ç½®: 12345678910listen 80; #ç«¯å£ server_name localhost; #æœåŠ¡å charset utf-8; # é¿å…ä¸­æ–‡ä¹±ç root /home/litong/Pictures; #æ˜¾ç¤ºçš„æ ¹ç´¢å¼•ç›®å½•ï¼Œæ³¨æ„è¿™é‡Œè¦æ”¹æˆä½ è‡ªå·±çš„ï¼Œç›®å½•è¦å­˜åœ¨ location / &#123; autoindex on; #å¼€å¯ç´¢å¼•åŠŸèƒ½ autoindex_exact_size off; # å…³é—­è®¡ç®—æ–‡ä»¶ç¡®åˆ‡å¤§å°ï¼ˆå•ä½bytesï¼‰ï¼Œåªæ˜¾ç¤ºå¤§æ¦‚å¤§å°ï¼ˆå•ä½kbã€mbã€gbï¼‰ autoindex_localtime on; # æ˜¾ç¤ºæœ¬æœºæ—¶é—´è€Œéž GMT æ—¶é—´ &#125; 1./nginx -s reload åœ¨æµè§ˆå™¨ç«¯è¾“å…¥localhost:80, åˆ™å‡ºçŽ°å¦‚ä¸‹ç•Œé¢: ä¸åŒç»ˆç«¯æ•ˆæžœæ¬£èµ[Pythonå…±äº«]Mac Pro / Mac OS X 10.14.1 Mojave [Nginxå…±äº«]Lenovo Y430P/ Deepin Linux [Pythonå…±äº«]XiaoMi 5X/ Android-MIUI10 [Windowså…±äº«]Lenovo ThinkPad T410/Microsoft Windows 10 å®¶åº­ç‰ˆWindowsåŽç»­å†ä½“éªŒï¼Œæœªå®Œå¾…ç»­ã€‚ã€‚ã€‚\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"slug\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"permalink\":\"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/\"}]},{\"title\":\"RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼\",\"slug\":\"RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼\",\"date\":\"2018-06-12T12:15:11.000Z\",\"updated\":\"2019-11-20T15:08:59.508Z\",\"comments\":true,\"path\":\"2018/06/12/RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/06/12/RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼/\",\"excerpt\":\"\",\"text\":\"ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ï¼Œåœ¨å­¦ä¹‹å‰æˆ‘ä»¬æ ¹æ®å®˜æ–¹æ–‡æ¡£(çº¯è‹±æ–‡æ–‡æ¡£ï¼Œå¯ä»¥è£…ä¸ªChromeæ’ä»¶é€‰ä¸­ç¿»è¯‘)å­¦ä¹ ä¸€ä¸‹RabbitMQçš„ä¸€äº›æœ¯è¯­ï¼Œè¿™æ‰èƒ½è®©æˆ‘ä»¬æ›´æ·±å…¥çš„äº†è§£ã€‚ å‡†å¤‡æ¡ä»¶æœ¬æ•™ç¨‹å‡å®šRabbitMQå·²åœ¨æ ‡å‡†ç«¯å£ï¼ˆ5672ï¼‰ä¸Šçš„localhostä¸Šå®‰è£…å¹¶è¿è¡Œã€‚å¦‚æžœæ‚¨ä½¿ç”¨ä¸åŒçš„ä¸»æœºï¼Œç«¯å£æˆ–è®¤è¯ï¼Œåˆ™éœ€è¦è°ƒæ•´è¿žæŽ¥è®¾ç½®ã€‚ æœ¯è¯­ä»‹ç»RabbitMQæ˜¯ä¸€ä¸ªæ¶ˆæ¯ä»£ç†ä¸­é—´ä»¶ï¼šå®ƒæŽ¥å—å’Œè½¬å‘æ¶ˆæ¯ã€‚æ‚¨å¯ä»¥å°†å…¶è§†ä¸ºé‚®å±€ï¼šå½“æ‚¨å°†è¦å‘å¸ƒçš„é‚®ä»¶æ”¾åœ¨é‚®ç®±ä¸­æ—¶ï¼Œæ‚¨å¯ä»¥ç¡®å®šé‚®é€’å‘˜æœ€ç»ˆä¼šå°†é‚®ä»¶å‘é€ç»™æ‚¨çš„æ”¶ä»¶äººã€‚åœ¨è¿™ä¸ªæ¯”å–»ä¸­ï¼ŒRabbitMQæ˜¯ä¸€ä¸ªé‚®ç®±ï¼Œé‚®å±€å’Œé‚®é€’å‘˜åªè´Ÿè´£ä¸­è½¬è°ƒåº¦ã€‚ RabbitMQå’Œé‚®å±€ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äºŽå®ƒä¸å¤„ç†çº¸å¼ ï¼Œè€Œæ˜¯æŽ¥å—ï¼Œå­˜å‚¨å’Œè½¬å‘äºŒè¿›åˆ¶blobæ•°æ® - æ¶ˆæ¯ã€‚ RabbitMQå’Œä¸€èˆ¬çš„æ¶ˆæ¯ä¼ é€’ä½¿ç”¨äº†ä¸€äº›æœ¯è¯­ï¼šç”Ÿäº§è€…ã€é˜Ÿåˆ—ã€æ¶ˆè´¹è€…ã€‚ ç”Ÿäº§è€… å‘é€æ¶ˆæ¯çš„ç¨‹åºæ˜¯ç”Ÿäº§è€…ã€‚ å®˜ç½‘ä¸Šé’è‰²æ¤­åœ†Påˆ™æ ‡è¯†æ¶ˆæ¯ç”Ÿäº§è€…ã€‚ é˜Ÿåˆ— é˜Ÿåˆ—æ˜¯RabbitMQä¸­çš„é‚®ç®±çš„åç§°ã€‚è™½ç„¶æ¶ˆæ¯æµç»RabbitMQå’Œæ‚¨çš„åº”ç”¨ç¨‹åºï¼Œä½†å®ƒä»¬åªèƒ½å­˜å‚¨åœ¨é˜Ÿåˆ—ä¸­ã€‚é˜Ÿåˆ—åªå—ä¸»æœºçš„å†…å­˜å’Œç£ç›˜é™åˆ¶çš„çº¦æŸï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¤§çš„æ¶ˆæ¯ç¼“å†²åŒºã€‚è®¸å¤šç”Ÿäº§è€…å¯ä»¥å‘é€åˆ°ä¸€ä¸ªé˜Ÿåˆ—çš„æ¶ˆæ¯ï¼Œå¹¶ä¸”è®¸å¤šæ¶ˆè´¹è€…å¯ä»¥å°è¯•ä»Žä¸€ä¸ªé˜Ÿåˆ—æŽ¥æ”¶æ•°æ®ã€‚å®˜ç½‘ä¸Šçº¢è‰²å¤šæ ¼å­é•¿æ–¹å½¢åˆ™æ ‡è¯†é˜Ÿåˆ—ã€‚ æ¶ˆè´¹è€… æ¶ˆè´¹ä¸ŽæŽ¥å—æœ‰ç±»ä¼¼çš„æ„ä¹‰ã€‚æ¶ˆè´¹è€…æ˜¯ä¸€ä¸ªä¸»è¦ç­‰å¾…æŽ¥æ”¶æ¶ˆæ¯çš„ç¨‹åºï¼š è¯·æ³¨æ„ï¼Œç”Ÿäº§è€…ã€æ¶ˆè´¹è€…å’Œæ¶ˆæ¯ä»£ç†ä¸å¿…é©»ç•™åœ¨åŒä¸€ä¸»æœºä¸Š;å®žé™…ä¸Šåœ¨å¤§å¤šæ•°åº”ç”¨ä¸­ï¼Œåº”ç”¨ç¨‹åºä¹Ÿå¯ä»¥æ˜¯ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ã€‚ æ€»ç»“ï¼šæ•´ä¸ªè¿‡ç¨‹éžå¸¸ç®€å•ï¼Œç”Ÿäº§è€…åˆ›å»ºæ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…æŽ¥æ”¶è¿™äº›æ¶ˆæ¯ã€‚ä½ çš„åº”ç”¨ç¨‹åºæ—¢å¯ä»¥ä½œä¸ºç”Ÿäº§è€…å‘å…¶ä»–åº”ç”¨ç¨‹åºå‘é€æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæ¶ˆè´¹è€…ï¼Œç­‰å¾…æŽ¥æ”¶å…¶ä»–åº”ç”¨ç¨‹åºçš„æ¶ˆæ¯ã€‚å…¶ä¸­ï¼Œå­˜å‚¨æ¶ˆæ¯çš„æ˜¯æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ƒç±»ä¼¼äºŽé‚®ç®±ï¼Œæ¶ˆæ¯é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡ŒæŠ•é€’ã€‚ æ¡ˆä¾‹å®žæˆ˜åœ¨æœ¬æ•™ç¨‹çš„è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†ç”¨Javaç¼–å†™ä¸¤ä¸ªç¨‹åº;å‘é€å•ä¸ªæ¶ˆæ¯çš„ç”Ÿäº§è€…ï¼Œä»¥åŠæŽ¥æ”¶æ¶ˆæ¯å¹¶å°†å…¶æ‰“å°å‡ºæ¥çš„æ¶ˆè´¹è€…ã€‚æˆ‘ä»¬å°†æŽ©ç›–Java APIä¸­çš„ä¸€äº›ç»†èŠ‚ï¼Œä¸“æ³¨äºŽè¿™ä¸ªéžå¸¸ç®€å•çš„äº‹æƒ…ï¼Œåªæ˜¯ä¸ºäº†å¼€å§‹ã€‚è¿™æ˜¯æ¶ˆæ¯ä¼ é€’çš„â€œHello Worldâ€ã€‚ åœ¨ä¸‹å›¾ä¸­ï¼Œâ€œPâ€æ˜¯æˆ‘ä»¬çš„ç”Ÿäº§è€…ï¼Œâ€œCâ€æ˜¯æˆ‘ä»¬çš„æ¶ˆè´¹è€…ã€‚ä¸­é—´çš„çº¢æ¡†æ˜¯ä¸€ä¸ªé˜Ÿåˆ— - RabbitMQä»£è¡¨æ¶ˆè´¹è€…ä¿ç•™çš„æ¶ˆæ¯ç¼“å†²åŒºã€‚ äº†è§£åˆ°ä¸Šè¿°æ¦‚å¿µï¼ŒçŽ°åœ¨æˆ‘ä»¬å¼€å§‹åŠ¨æ‰‹å®žè·µå§ï¼ å¯¼å…¥å®¢æˆ·ç«¯ä¾èµ– Maven 12345&lt;dependency&gt; &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt; &lt;artifactId&gt;amqp-client&lt;/artifactId&gt; &lt;version&gt;5.6.0&lt;/version&gt;&lt;/dependency&gt; Gradle 123dependencies &#123; compile group: 'com.rabbitmq', name: 'amqp-client', version: '5.6.0'&#125; å¯¼å…¥å®Œä¾èµ–åŽï¼Œæˆ‘ä»¬å°†ç¼–å†™æ¶ˆæ¯å‘å¸ƒè€…ï¼ˆå‘é€è€…ï¼‰Sendå‘é€å’Œæˆ‘ä»¬çš„æ¶ˆæ¯æ¶ˆè´¹è€…ï¼ˆæŽ¥æ”¶è€…ï¼‰Recvã€‚å‘å¸ƒè€…å°†è¿žæŽ¥åˆ°RabbitMQï¼Œå‘é€å•ä¸ªæ¶ˆæ¯ï¼Œç„¶åŽé€€å‡ºã€‚ ç¼–å†™æ¶ˆæ¯ç”Ÿäº§/å‘ç”Ÿè€…123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960package cn.yeamin.actions.simple.produces;import com.rabbitmq.client.ConnectionFactory;import com.rabbitmq.client.Connection;import com.rabbitmq.client.Channel;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * ç®€å•é˜Ÿåˆ—çš„æ¶ˆæ¯ç”Ÿäº§è€… */public class Send &#123; /** * è®¾ç½®é˜Ÿåˆ—åç§° */ private final static String QUEUE_NAME = \\\"hello\\\"; public static void main(String[] args) throws IOException, TimeoutException &#123; // åˆ›å»ºè¿žæŽ¥å·¥åŽ‚ ConnectionFactory factory = new ConnectionFactory(); // è®¾ç½®è¿žæŽ¥ä¸»æœºå factory.setHost(\\\"localhost\\\"); //è®¾ç½®ç«¯å£å·,ä¸è®¾ç½®é»˜è®¤ä¸º5672 factory.setPort(5672); /* * å¦‚æžœå¯ä»¥é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºä¸€ä¸ªè¿žæŽ¥,åˆ™ç»§ç»­åœ¨è¿žæŽ¥åŸºç¡€ä¸Šç»§ç»­åˆ›å»ºé€šé“. * è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨try-with-resourcesè¯­å¥ï¼Œå› ä¸ºConnectionå’ŒChanneléƒ½å®žçŽ°äº†java.io.Closeableã€‚ * è¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦åœ¨ä»£ç ä¸­æ˜Žç¡®åœ°å…³é—­å®ƒä»¬ã€‚ */ try (Connection connection = factory.newConnection(); // åˆ›å»ºé€šé“ Channel channel = connection.createChannel()) &#123; /* * ä¸ºäº†å‘é€æ¶ˆæ¯æˆåŠŸ,æˆ‘ä»¬å¿…é¡»å£°æ˜Žä¸€ä¸ªé˜Ÿåˆ—ä¾›æˆ‘ä»¬å‘é€,é˜Ÿåˆ—åªå£°æ˜Žä¸€æ¬¡,ä¸å¯èƒ½å­˜åœ¨é‡å¤é˜Ÿåˆ— * å‚æ•°1: queueè¡¨ç¤ºé˜Ÿåˆ—åç§° * å‚æ•°2: durableè¡¨ç¤ºæ˜¯å¦æŒä¹…åŒ– * å‚æ•°3: exclusiveè¡¨ç¤ºä»…åˆ›å»ºè€…å¯ä»¥ä½¿ç”¨çš„ç§æœ‰é˜Ÿåˆ—ï¼Œæ–­å¼€åŽè‡ªåŠ¨åˆ é™¤ * å‚æ•°4: autoDeleteè¡¨ç¤ºå½“æ‰€æœ‰æ¶ˆè´¹å®¢æˆ·ç«¯è¿žæŽ¥æ–­å¼€åŽï¼Œæ˜¯å¦è‡ªåŠ¨åˆ é™¤é˜Ÿåˆ— * å‚æ•°5: argumentsè¡¨ç¤ºå…¶ä»–çš„æž„é€ å‚æ•°,ä¸ºé˜Ÿåˆ—æž„é€ è€Œå‡†å¤‡ */ channel.queueDeclare(QUEUE_NAME, false, false, false, null); // è¦å‘é€çš„æ¶ˆæ¯ String message = \\\"Hello World, lt, Welcome RabbitMQ!\\\"; /* * æœ€åŸºæœ¬çš„æ¶ˆæ¯å‘é€ * å‚æ•°1: exchangeè¡¨ç¤ºäº¤æ¢æœº * å‚æ•°2: routingKeyè¡¨ç¤ºè·¯ç”±Key * å‚æ•°3: propsè¡¨ç¤ºæ¯çš„å…¶ä»–å‚æ•° * å‚æ•°4: autoDeleteè¡¨ç¤ºå½“æ‰€æœ‰æ¶ˆè´¹å®¢æˆ·ç«¯è¿žæŽ¥æ–­å¼€åŽï¼Œæ˜¯å¦è‡ªåŠ¨åˆ é™¤é˜Ÿåˆ— * å‚æ•°5: bodyè¡¨ç¤ºæ¯ä½“,æ˜¯ä¸ªå­—èŠ‚æ•°ç»„,æ„å‘³ç€å¯ä»¥ä¼ é€’ä»»ä½•æ•°æ® */ channel.basicPublish(\\\"\\\", QUEUE_NAME, null, message.getBytes()); //æ¶ˆæ¯å‘é€æ–¹çš„æ—¥å¿—æ‰“å° System.out.println(\\\" [x] Sent '\\\" + message + \\\"'\\\"); &#125; &#125;&#125; å£°æ˜Žé˜Ÿåˆ—æ˜¯å¹‚ç­‰çš„ ï¼Œåªæœ‰åœ¨å®ƒä¸å­˜åœ¨çš„æƒ…å†µä¸‹æ‰ä¼šåˆ›å»ºå®ƒã€‚æ¶ˆæ¯å†…å®¹æ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œå› æ­¤æ‚¨å¯ä»¥å‘é€ä»»ä½•æ•°æ®ã€‚ ç¼–å†™æ¶ˆæ¯æ¶ˆè´¹è€…12345678910111213141516171819202122232425262728293031323334353637383940package cn.yeamin.actions.simple.consumers;import com.rabbitmq.client.*;/** * ç®€å•é˜Ÿåˆ—çš„æ¶ˆæ¯æ¶ˆè´¹è€… */public class Recv &#123; private final static String QUEUE_NAME = \\\"hello\\\"; public static void main(String[] argv) throws Exception &#123; // åˆ›å»ºè¿žæŽ¥å·¥åŽ‚ ConnectionFactory factory = new ConnectionFactory(); // è®¾ç½®RabbitMQä¸»æœºå factory.setHost(\\\"localhost\\\"); // æ–°å»ºè¿žæŽ¥ Connection connection = factory.newConnection(); // æ–°å»ºé€šé“ Channel channel = connection.createChannel(); //ç»‘å®šé˜Ÿåˆ— channel.queueDeclare(QUEUE_NAME, false, false, false, null); System.out.println(\\\" [*] Waiting for messages. To exit press CTRL+C\\\"); // åˆ›å»ºæ¶ˆè´¹è€…,æ¶ˆè´¹æ¶ˆæ¯ DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; &#123; String message = new String(delivery.getBody(), \\\"UTF-8\\\"); System.out.println(\\\" [x] Received '\\\" + message + \\\"'\\\"); &#125;; /** * * æ¶ˆè´¹è€…æ¶ˆè´¹ * å‚æ•°1 ï¼šqueueé˜Ÿåˆ—å * å‚æ•°2 ï¼šautoAck æ˜¯å¦è‡ªåŠ¨ACK * å‚æ•°3 ï¼šcallbackæ¶ˆè´¹è€…å¯¹è±¡çš„ä¸€ä¸ªæŽ¥å£ï¼Œç”¨æ¥é…ç½®å›žè°ƒ * */ channel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; &#123; &#125;); &#125;&#125; ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ä½¿ç”¨try-with-resourceè¯­å¥æ¥è‡ªåŠ¨å…³é—­é€šé“å’Œè¿žæŽ¥ï¼Ÿé€šè¿‡è¿™æ ·åšï¼Œæˆ‘ä»¬åªéœ€è®©ç¨‹åºç»§ç»­è¿è¡Œï¼Œå…³é—­æ‰€æœ‰å†…å®¹ï¼Œç„¶åŽé€€å‡ºï¼è¿™å°†æ˜¯å°´å°¬çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›åœ¨æ¶ˆè´¹è€…å¼‚æ­¥ç›‘å¬æ¶ˆæ¯åˆ°è¾¾æ—¶ï¼Œè¯¥è¿›ç¨‹ä¿æŒæ´»åŠ¨çŠ¶æ€ã€‚ æˆ‘ä»¬å³å°†å‘Šè¯‰æœåŠ¡å™¨ä»Žé˜Ÿåˆ—ä¸­ä¼ é€’æ¶ˆæ¯ã€‚å› ä¸ºå®ƒä¼šå¼‚æ­¥åœ°å‘æˆ‘ä»¬å‘é€æ¶ˆæ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»¥å¯¹è±¡çš„å½¢å¼æä¾›ä¸€ä¸ªå›žè°ƒï¼Œå®ƒå°†ç¼“å†²æ¶ˆæ¯ï¼Œç›´åˆ°æˆ‘ä»¬å‡†å¤‡å¥½ä½¿ç”¨å®ƒä»¬ã€‚è¿™å°±æ˜¯DeliverCallbackå­ç±»çš„ä½œç”¨ã€‚ æ¶ˆæ¯ç”Ÿäº§ä¸Žå‘é€æˆ‘ä»¬å…ˆæ‰§è¡Œæ¶ˆæ¯å‘é€è€…ï¼Œæ‰§è¡Œå®ŒæˆåŽå¦‚ä¸‹å›¾ï¼š ç´§æŽ¥ç€ï¼Œæˆ‘ä»¬è¿›è¡Œæ¶ˆæ¯æ¶ˆè´¹ï¼Œæ‰§è¡Œå®ŒæˆåŽå¦‚ä¸‹å›¾: å½“æ¶ˆæ¯ç”Ÿäº§è€…ä¸€ç›´å‘é€æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“æžœï¼š 1234567891011121315:17:00: Executing task 'Recv.main()'...&gt; Task :compileJava UP-TO-DATE&gt; Task :processResources NO-SOURCE&gt; Task :classes UP-TO-DATE&gt; Task :Recv.main()SLF4J: Failed to load class \\\"org.slf4j.impl.StaticLoggerBinder\\\".SLF4J: Defaulting to no-operation (NOP) logger implementationSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.[*] Waiting for messages. To exit press CTRL+C[x] Received 'Hello World, litong, Welcome RabbitMQ!'[x] Received 'Hello World, lt, Welcome RabbitMQ!' æºç åœ°å€https://github.com/ltyeamin/RabbitMQ-Action/tree/master/patterns å‚è€ƒèµ„æ–™ RabbitMQå®˜ç½‘æ–‡æ¡£ ã€ŠRabbitMQå®žæˆ˜æŒ‡å—ã€‹æœ±å¿ åŽè‘—\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"RabbitMQ\",\"slug\":\"RabbitMQ\",\"permalink\":\"http://ltyeamin.github.io/tags/RabbitMQ/\"}]},{\"title\":\"RabbitMQæ¦‚è¿°\",\"slug\":\"RabbitMQæ¦‚è¿°\",\"date\":\"2018-06-11T11:45:21.000Z\",\"updated\":\"2019-11-23T03:24:56.158Z\",\"comments\":true,\"path\":\"2018/06/11/RabbitMQæ¦‚è¿°/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/06/11/RabbitMQæ¦‚è¿°/\",\"excerpt\":\"\",\"text\":\"ä¹‹æ‰€ä»¥ä»Šå¤©å†™RabbitMQå­¦ä¹ ä¸“æ ï¼Œä¸»è¦æ˜¯å› ä¸ºè‡ªå·±æ²¡æœ‰çœŸæ­£çš„ç³»ç»Ÿå­¦ä¹ è¿‡ã€‚ä¹‹å‰å·¥ä½œç»åŽ†ä¸­éƒ½æ˜¯ä¸ºç”¨MQè€Œç”¨çš„MQï¼Œå¯¹MQæ•´ä¸ªå†…éƒ¨æœºåˆ¶æ²¡æœ‰ä¸€ä¸ªæ·±å…¥çš„äº†è§£å’Œç³»ç»Ÿçš„å­¦ä¹ ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨Spring Cloud Streamæˆ–Spring Cloud Busç»„ä»¶æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šç»å¸¸ç¢°åˆ°MQã€‚MQäº§å“å¸‚é¢ä¸Šæœ‰å¾ˆå¤šç§ï¼Œä¸åŒMQäº§å“æœ‰ä¸åŒçš„é€‚åº”åœºæ™¯(é¢†åŸŸ)ã€‚è¿™å°±å’Œå­¦ä»€ä¹ˆè¯­è¨€ä¸€æ ·ï¼Œä¸åˆ†ä»€ä¹ˆå¥½åã€‚ åœ¨è¿™æˆ‘è¦æ’ä¸Šä¸€å¥ï¼Œåœ¨è®¨è®ºæŠ€æœ¯é€‰åž‹çš„æ—¶å€™ï¼Œæˆ‘ç»å¸¸å¬åˆ°å¾ˆå¤šäººè¯´å“ªç§æŠ€æœ¯å¥½ï¼Œå“ªç§æŠ€æœ¯åï¼Œå“ªç§æŠ€æœ¯æµè¡Œï¼Œå“ªç§æŠ€æœ¯æ·˜æ±°ã€‚å…¶å®žæ­£è§£åº”è¯¥æ˜¯æ¯ç§æŠ€æœ¯æ–¹æ¡ˆæœ‰è‡ªå·±é€‚åº”é¢†åŸŸï¼Œå­˜åœ¨å³åˆç†ã€‚é¢è¯•çš„æ—¶å€™ç»å¸¸æœ‰é¢è¯•å®˜è¯¢é—®æŠ€æœ¯æ–¹æ¡ˆé€‰åž‹ã€‚ä»€ä¹ˆSpring Cloudå’ŒDubboæ¯”ï¼ˆåŽ‹æ ¹å°±ä¸æ˜¯ä¸€ä¸ªé¢†åŸŸï¼ŒSpring Cloudæ˜¯æ•´å¥—çš„å¾®æœåŠ¡è½åœ°æ–¹æ¡ˆï¼ŒDubboåªæ˜¯ä¸€ä¸ªå…·æœ‰å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„é«˜æ€§èƒ½RPCæ¡†æž¶ï¼Œè®ºåŠŸèƒ½Dubboåªæ˜¯Spring Cloudçš„ä¸€ä¸ªå­é›†ï¼‰ï¼Œä»€ä¹ˆRediså’ŒMongoDBæ¯”ï¼ŒESå’ŒSolræ¯”ï¼Œå„ç§MQçš„æ¯”è¾ƒï¼Œå…¶å®žæˆ‘è§‰å¾—é—®è¿™äº›é¢è¯•é¢˜æ˜¯æœ‰å±€é™æ€§çš„ï¼Œæ²¡æœ‰å…·ä½“ä¸šåŠ¡åœºæ™¯å°±æ˜¯æ— è§£ï¼Œå…·ä½“é€‰åž‹è¿˜æ˜¯è¦æ ¹æ®å½“å‰å…¬å¸çš„çŽ°æœ‰ä¸šåŠ¡å’Œç³»ç»ŸçŽ°çŠ¶æ¥é€‰åž‹ã€‚æˆ‘è§‰å¾—é¢è¯•å®˜åº”è¯¥å…ˆæŠŠå…¬å¸çš„ä¸šåŠ¡åœºæ™¯è¯´å‡ºæ¥ï¼Œç„¶åŽåº”è˜è€…æ ¹æ®å…¬å¸çš„ä¸šåŠ¡è¿›è¡Œå®¢è§‚æ€§è¯„å®šã€‚ å¥½äº†ï¼Œè¨€å½’æ­£ä¼ ï¼Œå¸¸è§çš„é«˜çº§çš„MQäº§å“æœ‰RabbitMQã€Apache ActiveMQã€Apache RocketMQ(Alibabaæèµ )ã€Apache Kafka(LinkedInæèµ ) ã€‚é‚£ä¹ˆï¼Œä»Šå¤©æˆ‘è¿™é‡Œé€‰æ‹©RabbitMQè¿›è¡Œå­¦ä¹ ï¼Œå…¶ä»–MQå­¦ä¹ éƒ½æ˜¯ç›¸é€šçš„ï¼Œè¯»è€…å¯æ ¹æ®è‡ªèº«æƒ…å†µé˜…è¯»å®˜ç½‘æ–‡æ¡£å¹¶è¿›è¡Œå­¦ä¹ ã€‚æˆ‘è¿™é‡Œåªæ˜¯ä»‹ç»ä¸€ç§å­¦ä¹ æ–¹å¼ã€‚ä¸‹é¢ä»Žå®˜æ–¹æ–‡æ¡£ä»¥åŠå…¶ä»–èµ„æ–™ç»™å¤§å®¶è¿›è¡Œæ¢³ç†RabbitMQç³»åˆ—çš„çŸ¥è¯†ã€‚ MQæ¶ˆæ¯é˜Ÿåˆ—MQæ¦‚è¿°æ¶ˆæ¯é˜Ÿåˆ—æŠ€æœ¯æ˜¯åˆ†å¸ƒå¼åº”ç”¨é—´äº¤æ¢ä¿¡æ¯çš„ä¸€ç§æŠ€æœ¯ã€‚ æ¶ˆæ¯é˜Ÿåˆ—å¯é©»ç•™åœ¨å†…å­˜æˆ–ç£ç›˜ä¸Š,é˜Ÿåˆ—å­˜å‚¨æ¶ˆæ¯ç›´åˆ°å®ƒä»¬è¢«åº”ç”¨ç¨‹åºè¯»èµ°ã€‚ é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåº”ç”¨ç¨‹åºå¯ç‹¬ç«‹åœ°æ‰§è¡Œã€‚å®ƒä»¬ä¸éœ€è¦çŸ¥é“å½¼æ­¤çš„ä½ç½®ã€æˆ–åœ¨ç»§ç»­æ‰§è¡Œå‰ä¸éœ€è¦ç­‰å¾…æŽ¥æ”¶ç¨‹åºæŽ¥æ”¶æ­¤æ¶ˆæ¯ã€‚ MQä¸»è¦ä½œç”¨æ˜¯æŽ¥å—å’Œè½¬å‘æ¶ˆæ¯ã€‚ä½ å¯ä»¥æƒ³æƒ³åœ¨ç”Ÿæ´»ä¸­çš„ä¸€ç§åœºæ™¯ï¼šå½“ä½ æŠŠä¿¡ä»¶çš„æŠ•è¿›é‚®ç­’ï¼Œé‚®é€’å‘˜è‚¯å®šæœ€ç»ˆä¼šå°†ä¿¡ä»¶é€ç»™æ”¶ä»¶äººã€‚æˆ‘ä»¬å¯ä»¥æŠŠMQæ¯”ä½œ é‚®å±€å’Œé‚®é€’å‘˜ã€‚ MQå’Œé‚®å±€çš„ä¸»è¦åŒºåˆ«æ˜¯,å®ƒä¸å¤„ç†æ¶ˆæ¯,ä½†æ˜¯,å®ƒä¼šæŽ¥å—æ•°æ®ã€å­˜å‚¨æ¶ˆæ¯æ•°æ®ã€è½¬å‘æ¶ˆæ¯ã€‚ MQåº”ç”¨åœºæ™¯ åº”ç”¨è§£è€¦: ç³»ç»Ÿå¼‚æ­¥åŒ–æ”¹é€ ï¼› ç”¨æˆ·æ³¨å†ŒåŽçš„é‚®ä»¶å‘é€ã€éªŒè¯ç çŸ­ä¿¡å‘é€ï¼› åˆ†å¸ƒå¼å»¶æ—¶é˜Ÿåˆ—åº”ç”¨ï¼Œç”¨æˆ·ä¸‹å•åŽï¼Œ24å°æ—¶æœªæ”¯ä»˜ï¼Œéœ€è¦å–æ¶ˆè®¢å•ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸‹å•æ—¶ç”¨MQå‘ä¸ªæ¶ˆæ¯é€šçŸ¥ä¸€ä¸‹ï¼Œå®¢æˆ·ç«¯å»¶æ—¶ï¼ˆä¸‹å•æ—¶é—´24å°æ—¶åŽï¼‰æ‰§è¡Œï¼Œæ¶ˆè´¹æˆåŠŸåˆ™è¯æ˜Žå–æ¶ˆè®¢å•æˆåŠŸã€‚ å¼‚æ­¥é€šçŸ¥åŠæ•°æ®åŒæ­¥: æå‡ç³»ç»Ÿæ€§èƒ½ï¼Œä¿è¯æ•°æ®æœ€ç»ˆä¸€è‡´æ€§ï¼› ç”¨æˆ·åœ¨ç®¡ç†é¡µé¢æ›´æ–°æ•°æ®ï¼Œé€šè¿‡MQå¼‚æ­¥é€šçŸ¥ï¼Œæ›´æ–°ç¼“å­˜ã€æ›´æ–°ESæˆ–Solrç´¢å¼• åº”ç”¨é™æµ: å¯ä»¥ä¿è¯å¹¶å‘åœºæ™¯ä¸‹ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼› æŠ¢ç¥¨ç³»ç»Ÿï¼Œåœ¨å¹¶å‘å¤§ç³»ç»Ÿæœ‰ç“¶é¢ˆçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å°†è¯·æ±‚æ‰“åˆ°MQé˜Ÿåˆ—ä¾æ¬¡é™æµæ¶ˆè´¹ã€‚ åˆ†å¸ƒå¼æ—¥å¿—ç³»ç»Ÿæ•°æ®å¾ˆå¤§çš„æ—¶å€™ï¼ŒMQä½œä¸ºåˆ†å¸ƒå¼æ—¥å¿—çš„ç¼“å†²å±‚ï¼Œå…¸åž‹åº”ç”¨å°±æ˜¯ELK+Kafakaã€‚ æ•°æ®åˆ†å‘: ä¸€å¯¹å¤šæˆ–å¹¿æ’­çš„æ¨¡å¼è¿›è¡Œæ•°æ®åˆ†å‘ï¼› æ”¯ä»˜å®ŒæˆåŽï¼Œéœ€è¦åŠæ—¶çš„é€šçŸ¥å­ç³»ç»Ÿï¼ˆè¿›é”€å­˜ç³»ç»Ÿå‘è´§ï¼Œç”¨æˆ·æœåŠ¡ç§¯åˆ†ï¼Œå‘é€çŸ­ä¿¡ï¼‰ åˆ†å¸ƒå¼äº‹åŠ¡: åˆ†å¸ƒå¼æž¶æž„çš„ç³»ç»Ÿå¯ä»¥é€šè¿‡MQçš„é˜Ÿåˆ—æ•°æ®è¿›è¡Œæ•°æ®å›žæ»šæ“ä½œ RabbitMQäº§å“ä»‹ç»RabbitMQäº§å“æ‰“å¼€RabbitMQå®˜ç½‘é¦–é¡µï¼Œèƒ½çœ‹åˆ°å¦‚ä¸‹çš„ä¸€å¥è¯: RabbitMQ is the most widely deployed open source message broker. ç¿»è¯‘ä¸ºï¼šRabbitMQæ˜¯éƒ¨ç½²æœ€å¹¿æ³›çš„å¼€æºæ¶ˆæ¯ä»£ç†ã€‚ RabbitMQæ˜¯ä¸€ä¸ªErlangå¼€å‘çš„AMQPï¼ˆAdvanced Message Queuing Protocol ï¼‰çš„å¼€æºå®žçŽ°ã€‚AMQP çš„å‡ºçŽ°å…¶å®žä¹Ÿæ˜¯åº”äº†å¹¿å¤§äººæ°‘ç¾¤ä¼—çš„éœ€æ±‚ï¼Œè™½ç„¶åœ¨åŒæ­¥æ¶ˆæ¯é€šè®¯çš„ä¸–ç•Œé‡Œæœ‰å¾ˆå¤šå…¬å¼€æ ‡å‡†ï¼ˆå¦‚ Cobarï¼‰çš„ IIOP ï¼Œæˆ–è€…æ˜¯ SOAP ç­‰ï¼‰ï¼Œä½†æ˜¯åœ¨å¼‚æ­¥æ¶ˆæ¯å¤„ç†ä¸­å´ä¸æ˜¯è¿™æ ·ï¼Œåªæœ‰å¤§ä¼ä¸šæœ‰ä¸€äº›å•†ä¸šå®žçŽ°ï¼ˆå¦‚å¾®è½¯çš„ MSMQ ï¼ŒIBM çš„ WebSphere MQ ç­‰ï¼‰ï¼Œå› æ­¤ï¼Œåœ¨ 2006 å¹´çš„ 6 æœˆï¼ŒCisco ã€Red Hatã€iMatix ç­‰è”åˆåˆ¶å®šäº† AMQP çš„å…¬å¼€æ ‡å‡†ã€‚ RabbitMQç”±RabbitMQ Technologies Ltdå¼€å‘å¹¶ä¸”æä¾›å•†ä¸šæ”¯æŒçš„ã€‚è¯¥å…¬å¸åœ¨2010å¹´4æœˆè¢«SpringSourceï¼ˆVMwareçš„ä¸€ä¸ªéƒ¨é—¨ï¼‰æ”¶è´­ã€‚åœ¨2013å¹´5æœˆè¢«å¹¶å…¥Pivotalã€‚å…¶å®žVMwareï¼ŒPivotalå’ŒEMCæœ¬è´¨ä¸Šæ˜¯ä¸€å®¶çš„ã€‚ä¸åŒçš„æ˜¯ï¼ŒVMwareæ˜¯ç‹¬ç«‹ä¸Šå¸‚å­å…¬å¸ï¼Œè€ŒPivotalæ˜¯æ•´åˆäº†EMCçš„æŸäº›èµ„æºï¼ŒçŽ°åœ¨å¹¶æ²¡æœ‰ä¸Šå¸‚ã€‚ RabbitMQäº§å“ç‰¹æ€§ å¼€æºå…è´¹ï¼› å¯ä¼¸ç¼©æ€§ï¼šé›†ç¾¤æœåŠ¡ï¼› æ¶ˆæ¯æŒä¹…åŒ–ï¼šä»Žå†…å­˜æŒä¹…åŒ–æ¶ˆæ¯åˆ°ç¡¬ç›˜ï¼Œå†ä»Žç¡¬ç›˜åŠ è½½åˆ°å†…å­˜ï¼› å¤šè¯­è¨€å¤šå®¢æˆ·ç«¯æ”¯æŒï¼Œæ”¯æŒPythonã€Javaã€Rubyã€PHPã€C#ã€JavaScriptã€Goã€Elixirã€Objective-Cã€Swiftã€Spring AMQPã€‚ RabbitMQå¸¸ç”¨æ¨¡å¼æ‰“å¼€å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬çœ¼å‰ä¸€äº®ï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹6ç§RabbitMQçš„å·¥ä½œæ¨¡å¼ï¼š 1. â€œHello World!â€ The simplest thing that does something Java Spring AMQP 2. Work queues Distributing tasks among workers (the competing consumers pattern) Java Spring AMQP 3. Publish/Subscribe Sending messages to many consumers at once Java Spring AMQP 4. RoutingReceiving messages selectively Java Spring AMQP 5. Topics The simplest thing that does something Java Spring AMQP 6. RPC Request/reply patternexample Java Spring AMQP çœ‹åˆ°ä¸Šè¿°çš„6ç§å·¥ä½œæ¨¡å¼ï¼Œå…¶ä¸­æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨æœ€å¤šçš„æ˜¯å‰5ç§æ¨¡å¼ï¼Œæˆ‘ä»¬åˆ—ä¸€ä¸ªå­¦ä¹ åˆ—è¡¨: ç®€å•æ¨¡å¼: ä¸€ä¸ªç”Ÿäº§è€…ï¼Œä¸€ä¸ªæ¶ˆè´¹è€… Workæ¨¡å¼: ä¸€ä¸ªç”Ÿäº§è€…ï¼Œå¤šä¸ªæ¶ˆè´¹è€…ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…èŽ·å–åˆ°çš„æ¶ˆæ¯å”¯ä¸€ã€‚ è®¢é˜…æ¨¡å¼: ä¸€ä¸ªç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ä¼šè¢«å¤šä¸ªæ¶ˆè´¹è€…èŽ·å–ã€‚ è·¯ç”±æ¨¡å¼: å‘é€æ¶ˆæ¯åˆ°äº¤æ¢æœºå¹¶ä¸”è¦æŒ‡å®šè·¯ç”±key ï¼Œæ¶ˆè´¹è€…å°†é˜Ÿåˆ—ç»‘å®šåˆ°äº¤æ¢æœºæ—¶éœ€è¦æŒ‡å®šè·¯ç”±key Topicæ¨¡å¼: å°†è·¯ç”±é”®å’ŒæŸæ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œæ­¤æ—¶é˜Ÿåˆ—éœ€è¦ç»‘å®šåœ¨ä¸€ä¸ªæ¨¡å¼ä¸Šï¼Œâ€œ#â€åŒ¹é…ä¸€ä¸ªè¯æˆ–å¤šä¸ªè¯ï¼Œâ€œ*â€åªåŒ¹é…ä¸€ä¸ªè¯ã€‚ RPCè¿œç¨‹è°ƒç”¨ï¼šå‡ ä¹Žä¸ç”¨ï¼Œæš‚æ—¶å…ˆä¸è€ƒè™‘ å‚è€ƒèµ„æ–™ RabbitMQå®˜ç½‘å¿«é€Ÿå…¥é—¨æ–‡æ¡£ ã€ŠRabbitMQå®žæˆ˜æŒ‡å—ã€‹æœ±å¿ åŽè‘— ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ—\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"RabbitMQ\",\"slug\":\"RabbitMQ\",\"permalink\":\"http://ltyeamin.github.io/tags/RabbitMQ/\"}]},{\"title\":\"Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ\",\"slug\":\"Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ\",\"date\":\"2018-06-10T11:45:21.000Z\",\"updated\":\"2019-11-20T15:08:54.561Z\",\"comments\":true,\"path\":\"2018/06/10/Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/06/10/Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ/\",\"excerpt\":\"\",\"text\":\"RabbitMQæ˜¯æµè¡Œçš„å¼€æºæ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œé‡‡ç”¨å¤©ç”ŸæŠ—å¹¶å‘çš„erlangè¯­è¨€å¼€å‘ã€‚RabbitMQæ˜¯AMQPï¼ˆé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰çš„æ ‡å‡†å®žçŽ°ã€‚æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡Dockerçš„æ–¹å¼å®‰è£…RabbitMQã€‚ æŸ¥çœ‹RabbitMQç‰ˆæœ¬è¿›å…¥docker hubå®˜æ–¹é•œåƒä»“åº“æˆ–é˜¿é‡Œdockeré•œåƒåº“,æœç´¢rabbitmqé•œåƒã€‚ å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨å‘½ä»¤æœç´¢: 1docker search rabbitmq:management è¿™é‡Œï¼Œæˆ‘ä»¬ç”¨webé¡µé¢æœç´¢ï¼Œæœç´¢åŽç‚¹å‡»è¯¦æƒ…é¡µé¢ã€‚ è¿™é‡Œæˆ‘ä»¬é€‰æ‹©å¸¦æœ‰managementçš„ç‰ˆæœ¬ï¼Œæ­¤ç‰ˆæœ¬åŒ…å«webå¯è§†åŒ–ç®¡ç†é¡µé¢ã€‚ Dockeræ‹‰å–é•œåƒ1docker pull rabbitmq:3.7.14-management è¾“å…¥ä»¥ä¸Šå‘½ä»¤åŽï¼Œé•œåƒåˆ†ç‰‡å¼€å§‹ä¸‹è½½å¹¶å®Œæˆrabbitmqé•œåƒçš„åˆå¹¶ã€‚ä¸‹è½½å®ŒæˆåŽï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥è¯¢è¾“å…¥ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰æœ¬åœ°ä»“åº“æ‰€æœ‰çš„é•œåƒæ–‡ä»¶ã€‚ 1docker images å¦‚å›¾ åˆ›å»ºå¹¶å¯åŠ¨RabbitMQåº”ç”¨å®¹å™¨1docker run -d -p 5672:5672 -p 15672:15672 --name rabbitmq rabbitmq:3.7.14-management æ‰§è¡Œä¸Šè¿°å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªrabbitmqçš„dockerå®¹å™¨ï¼Œæ‰§è¡ŒæˆåŠŸåŽå›žè¿”å›ždockerå®¹å™¨IDã€‚ 12Yeamin:~ mac$ docker run -d -p 5672:5672 -p 15672:15672 --name rabbitmq rabbitmq:3.7.14-management5b2658f3fe04919883b4d0b3d2766220e1ecb983d715b5b6cbfec758634f2531 åˆ›å»ºå‚æ•°è§£é‡Š-d åŽå°è¿è¡Œå®¹å™¨ï¼› â€“name æŒ‡å®šå®¹å™¨åï¼› -p æŒ‡å®šæœåŠ¡è¿è¡Œçš„ç«¯å£ï¼ˆ5672ï¼šåº”ç”¨è®¿é—®ç«¯å£ï¼›15672ï¼šæŽ§åˆ¶å°Webç«¯å£å·ï¼‰ï¼› -v æ˜ å°„ç›®å½•æˆ–æ–‡ä»¶ï¼› â€“hostname ä¸»æœºåï¼ˆRabbitMQçš„ä¸€ä¸ªé‡è¦æ³¨æ„äº‹é¡¹æ˜¯å®ƒæ ¹æ®æ‰€è°“çš„ â€œèŠ‚ç‚¹åç§°â€ å­˜å‚¨æ•°æ®ï¼Œé»˜è®¤ä¸ºä¸»æœºåï¼‰ï¼› -e æŒ‡å®šçŽ¯å¢ƒå˜é‡ï¼›ï¼ˆRABBITMQ_DEFAULT_VHOSTï¼šé»˜è®¤è™šæ‹Ÿæœºåï¼›RABBITMQ_DEFAULT_USERï¼šé»˜è®¤çš„ç”¨æˆ·åï¼›RABBITMQ_DEFAULT_PASSï¼šé»˜è®¤ç”¨æˆ·åçš„å¯†ç ï¼Œæˆ‘è¿™é‡Œæ²¡é…ç½®ï¼‰ å¯åŠ¨rabbitmqåº”ç”¨å®¹å™¨æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œå¯åŠ¨ 1Docker start å®¹å™¨idå‰å››ä½ æˆ‘è¿™é‡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ‰§è¡Œ 1docker start 5b26 æŸ¥è¯¢è¿è¡ŒçŠ¶æ€æ‰§è¡Œdocker psæŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨çŠ¶æ€ 12345Yeamin:~ mac$ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES5b2658f3fe04 rabbitmq:3.7.14-management \\\"docker-entrypoint.sâ€¦\\\" 30 minutes ago Up 30 minutes 4369/tcp, 5671/tcp, 0.0.0.0:5672-&gt;5672/tcp, 15671/tcp, 25672/tcp, 0.0.0.0:15672-&gt;15672/tcp rabbitmq RabbitMQçš„WEBæŽ§åˆ¶å°åœ¨æµè§ˆå™¨æ‰“å¼€http://localhost:15672,è¿›å…¥ç™»å½•é¡µé¢ï¼Œé»˜è®¤è´¦å·å’Œå¯†ç éƒ½ä¸ºguestã€‚ å‚è€ƒèµ„æ–™ Dockerå®˜ç½‘ RabbitMQå®˜ç½‘\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"Docker\",\"slug\":\"Docker\",\"permalink\":\"http://ltyeamin.github.io/tags/Docker/\"}]},{\"title\":\"ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚\",\"slug\":\"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚\",\"date\":\"2018-06-09T16:12:11.000Z\",\"updated\":\"2019-05-29T14:03:52.000Z\",\"comments\":true,\"path\":\"2018/06/10/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/06/10/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚/\",\"excerpt\":\"\",\"text\":\"ä»Šå¤©æˆ‘ä»¬æ¥è®¤è¯†ä¸€ä¸‹ï¼Œçº¿ç¨‹æ± çš„é™æ€å·¥åŽ‚Executorsç±»ï¼Œå¹³æ—¶å†™æµ‹è¯•ä»£ç çš„æ—¶å€™å¯ç”¨ä¸€ç”¨ï¼Œç”Ÿäº§ä»£ç å°½é‡å°‘ç”¨ã€‚ä¸ºä»€ä¹ˆè¯´ç”Ÿäº§ä¸Šå°½é‡å°‘ç”¨å‘¢ï¼Ÿè¿™æ˜¯æœ‰åŽŸå› çš„ï¼Œè¯·è€å¿ƒå¬å½¤å“¥è®²è§£ã€‚ é˜¿é‡Œçš„ä»£ç è§„çº¦ä¸å»ºè®®ä½¿ç”¨è¿™æ ·çš„å·¥åŽ‚ç±»ï¼Œè€Œå»ºè®®ä½¿ç”¨æ‰‹åŠ¨åˆ›å»ºå¹¶ç®¡ç†ThreadPoolExecutorï¼Œåœ¨é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œä¸­ï¼Œç¼–ç¨‹è§„çº¦ä¸‹çš„å¹¶å‘å¤„ç†è§„çº¦ç¬¬4ç‚¹å¦‚ä¸‹ï¼š ã€å¼ºåˆ¶ã€‘çº¿ç¨‹æ± ä¸å…è®¸ä½¿ç”¨ExecutorsåŽ»åˆ›å»ºï¼Œè€Œæ˜¯é€šè¿‡ThreadPoolExecutorçš„æ–¹å¼ï¼Œè¿™æ ·çš„å¤„ç†æ–¹å¼è®©å†™çš„åŒå­¦æ›´åŠ æ˜Žç¡®çº¿ç¨‹æ± çš„è¿è¡Œè§„åˆ™ï¼Œè§„é¿èµ„æºè€—å°½çš„é£Žé™©ã€‚è¯´æ˜Žï¼šExecutorsè¿”å›žçš„çº¿ç¨‹æ± å¯¹è±¡çš„å¼Šç«¯å¦‚ä¸‹ï¼š 1ï¼‰FixedThreadPoolå’ŒSingleThreadPool: å…è®¸çš„è¯·æ±‚é˜Ÿåˆ—é•¿åº¦ä¸ºInteger.MAX_VALUEï¼Œå¯èƒ½ä¼šå †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»Žè€Œå¯¼è‡´OOMã€‚ 2ï¼‰CachedThreadPoolå’ŒScheduledThreadPool: å…è®¸çš„åˆ›å»ºçº¿ç¨‹æ•°é‡ä¸ºInteger.MAX_VALUEï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤§é‡çš„çº¿ç¨‹ï¼Œä»Žè€Œå¯¼è‡´OOMã€‚ æ­£ä¾‹ 1ï¼š 1234&gt; //org.apache.commons.lang3.concurrent.BasicThreadFactory&gt; ScheduledExecutorService executorService = new ScheduledThreadPoolExecutor(1,&gt; new BasicThreadFactory.Builder().namingPattern(\\\"example-schedule-pool-%d\\\").daemon(true).build());&gt; æ­£ä¾‹ 2ï¼š 123456789&gt; ThreadFactory namedThreadFactory = new ThreadFactoryBuilder()&gt; .setNameFormat(\\\"demo-pool-%d\\\").build();&gt; //Common Thread Pool&gt; ExecutorService pool = new ThreadPoolExecutor(5, 200,&gt; 0L, TimeUnit.MILLISECONDS,&gt; new LinkedBlockingQueue&lt;Runnable&gt;(1024), namedThreadFactory, new ThreadPoolExecutor.AbortPolicy());&gt; pool.execute(()-&gt; System.out.println(Thread.currentThread().getName()));&gt; pool.shutdown();//gracefully shutdown &gt; 12345678910111213&gt; æ­£ä¾‹ 3ï¼š&gt; &lt;bean id=\\\"userThreadPool\\\" class=\\\"org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor\\\"&gt;&gt; &lt;property name=\\\"corePoolSize\\\" value=\\\"10\\\" /&gt;&gt; &lt;property name=\\\"maxPoolSize\\\" value=\\\"100\\\" /&gt;&gt; &lt;property name=\\\"queueCapacity\\\" value=\\\"2000\\\" /&gt;&gt; &lt;property name=\\\"threadFactory\\\" value= threadFactory /&gt;&gt; &lt;property name=\\\"rejectedExecutionHandler\\\"&gt;&gt; &lt;ref local=\\\"rejectedExecutionHandler\\\" /&gt;&gt; &lt;/property&gt;&gt; &lt;/bean&gt;&gt; //in code&gt; userThreadPool.execute(thread);&gt; çœ‹åˆ°å¦‚ä¸‹çš„è§„çº¦ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯æ²¡å¿…è¦å¾€ä¸‹å­¦äº†ï¼Ÿç­”æ¡ˆæ˜¯å½“ç„¶ä¸è¡Œçš„ï¼Œæˆ‘ä»¬è™½ç„¶ä¸æ€Žä¹ˆç”¨ï¼Œä½†æ˜¯ç ”ç©¶å…¶æºç ï¼Œå¯ä»¥è®©æˆ‘ä»¬æ›´æ·±å…¥çº¿ç¨‹æ± åŽŸç†ï¼ˆå¢žå¼ºå†…åŠ›ï¼‰ï¼Œä½¿å¾—æˆ‘ä»¬ä»¥åŽæ›´å®¹æ˜“è®¾è®¡çº¿ç¨‹æ± å¹¶èƒ½å¤Ÿé«˜æ•ˆç®¡ç†çº¿ç¨‹ï¼Œä»¥è‡³äºŽä¸åƒä»£ç è§„çº¦æè¿°çš„é‚£æ ·ï¼šç”¨è€Œä¸å½“å¯¼è‡´OOMçš„é—®é¢˜ã€‚ æºç åˆ†æžå¥½äº†ï¼Œè¯ä¸å¤šè¯´ï¼Œç›´æŽ¥ä¸Šèœ(æºç )ï¼Œå¤Ÿæˆ‘ä»¬ä»Šå¤©å–å‡ å£¶äº†ï¼Œå“ˆå“ˆã€‚ã€‚ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573package java.util.concurrent;import java.util.*;import java.util.concurrent.atomic.AtomicInteger;import java.security.AccessControlContext;import java.security.AccessController;import java.security.PrivilegedAction;import java.security.PrivilegedExceptionAction;import java.security.PrivilegedActionException;import java.security.AccessControlException;import sun.security.util.SecurityConstants;/** * Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ç±» */public class Executors &#123; /** * åˆ›å»ºé‡ç”¨å›ºå®šæ•°é‡çº¿ç¨‹çš„çº¿ç¨‹æ± ,ä½¿ç”¨çš„æ˜¯å…±äº«æ— å‚æ— è¾¹ç•Œé˜Ÿåˆ—ã€‚ * åœ¨ä»»ä½•æ—¶å€™ï¼Œæœ€å¤šçº¿ç¨‹å°†æ˜¯æ´»åŠ¨çš„å¤„ç†ä»»åŠ¡ã€‚ * å¦‚æžœåœ¨æ‰€æœ‰çº¿ç¨‹éƒ½å¤„äºŽæ´»åŠ¨çŠ¶æ€æ—¶æäº¤äº†å…¶ä»–ä»»åŠ¡ï¼Œå®ƒä»¬å°†åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ï¼Œç›´åˆ°çº¿ç¨‹å¯ç”¨ã€‚ * åœ¨å…³é—­ä¹‹å‰ï¼Œå¦‚æžœä»»ä½•çº¿ç¨‹åœ¨æ‰§è¡ŒæœŸé—´å› å¤±è´¥è€Œç»ˆæ­¢,å¦‚æžœéœ€è¦ï¼Œå°†æ›´æ¢ä¸€ä¸ªæ–°çš„ï¼Œæ‰§è¡ŒåŽç»­ä»»åŠ¡ã€‚ * æ± ä¸­çš„çº¿ç¨‹å°†å­˜åœ¨ç›´åˆ°å®ƒæ˜¾å¼executerserviceå…³é—­ã€‚ */ public static ExecutorService newFixedThreadPool(int nThreads) &#123; return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;()); &#125; /** * è¯¥æ–¹æ³•æ˜¯JDk8æä¾›çš„ã€‚ç‰¹æ®Šçš„çº¿ç¨‹æ± ï¼Œé‡‡ç”¨JDK1.7çš„ForkJoinPoolå®žçŽ° * åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œä»¥ç»´æŠ¤è¶³å¤Ÿçš„çº¿ç¨‹æ¥æ”¯æŒç»™å®šçš„å¹¶è¡Œçº§åˆ«ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šä¸ªé˜Ÿåˆ—æ¥å‡å°‘äº‰ç”¨ã€‚ * å¹³è¡Œåº¦çº§åˆ«å¯¹åº”äºŽä¸»åŠ¨å‚ä¸Žæˆ–å¯ç”¨äºŽçš„çº¿ç¨‹çš„æœ€å¤§æ•°ç›®ä»Žäº‹ï¼Œä»»åŠ¡å¤„ç†ã€‚ * å®žé™…çº¿ç¨‹æ•°å¯èƒ½åŠ¨æ€å¢žé•¿å’Œæ”¶ç¼©ã€‚å·å·¥å‡æ–™æ˜¯ä¸è¡Œçš„ï¼Œä¿è¯æäº¤ä»»åŠ¡çš„é¡ºåºæ‰§è¡Œã€‚ * * @param å¹¶è¡Œçº§åˆ« */ public static ExecutorService newWorkStealingPool(int parallelism) &#123; return new ForkJoinPool (parallelism, ForkJoinPool.defaultForkJoinWorkerThreadFactory, null, true); &#125; /** * é‡è½½æ–¹æ³•: åªæ˜¯é»˜è®¤å‚æ•°ç”¨çš„æ˜¯å½“å‰æœºå™¨å¯åˆ©ç”¨CPUæ ¸æ•° */ public static ExecutorService newWorkStealingPool() &#123; return new ForkJoinPool (Runtime.getRuntime().availableProcessors(), ForkJoinPool.defaultForkJoinWorkerThreadFactory, null, true); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºé‡ç”¨å›ºå®šæ•°é‡çº¿ç¨‹çš„çº¿ç¨‹æ±  * åªä¸è¿‡å‚æ•°å¤šäº†ä¸€ä¸ªï¼Œå¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± å·¥åŽ‚ */ public static ExecutorService newFixedThreadPool(int nThreads, ThreadFactory threadFactory) &#123; return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(), threadFactory); &#125; /** * åˆ›å»ºä½¿ç”¨å•ä¸ªå·¥ä½œçº¿ç¨‹æ“ä½œçš„æ‰§è¡Œå™¨ï¼Œå³å•çº¿ç¨‹å·¥ä½œæ¨¡å¼ï¼Œä¸å¯é…ç½®çº¿ç¨‹çš„å¤§å°ã€‚ * ä¹Ÿæ˜¯åœ¨ä¸€ä¸ªæ— è¾¹ç•Œçš„é˜Ÿåˆ—ä¸­è¿è¡Œçš„ã€‚ç›¸å½“äºŽnewFixedThreadPool(1)ï¼Œ * åœ¨ä»»ä½•æ—¶åˆ»ï¼Œå½“å‰çº¿ç¨‹æ± åªæœ‰1ä¸ªæ´»åŠ¨çº¿ç¨‹ï¼Œä¸å¯èƒ½å‡ºçŽ°å…¶ä»–çš„å·¥ä½œçº¿ç¨‹ã€‚ */ public static ExecutorService newSingleThreadExecutor() &#123; return new FinalizableDelegatedExecutorService (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;())); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä½¿ç”¨å•ä¸ªå·¥ä½œçº¿ç¨‹æ“ä½œçš„æ‰§è¡Œå™¨ï¼Œå³å•çº¿ç¨‹å·¥ä½œæ¨¡å¼ï¼Œä¸å¯é…ç½®çº¿ç¨‹çš„å¤§å°ã€‚ * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± å·¥åŽ‚ */ public static ExecutorService newSingleThreadExecutor(ThreadFactory threadFactory) &#123; return new FinalizableDelegatedExecutorService (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(), threadFactory)); &#125; /** * åˆ›å»ºä¸€ä¸ªå¯é‡ç”¨çš„çº¿ç¨‹æ± : æ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹ï¼Œä½†å°†é‡ç”¨ä»¥å‰æž„é€ çš„çº¿ç¨‹å¯ç”¨ã€‚ * æ‰§è¡Œè®¸å¤šçŸ­æœŸå¼‚æ­¥ä»»åŠ¡çš„ç¨‹åºï¼Œä½¿ç”¨è¿™ç±»çº¿ç¨‹æ± å¯ä»¥æå‡ç¨‹åºæ€§èƒ½ã€‚ * å¦‚æžœæ²¡æœ‰çº¿ç¨‹å¯ç”¨ï¼Œåˆ™çº¿ç¨‹è¢«åˆ›å»ºå¹¶æ·»åŠ åˆ°æ± ä¸­ã€‚ * å…·æœ‰60ç§’æœªä½¿ç”¨çš„çº¿ç¨‹ï¼Œçº¿ç¨‹æ± åˆ™å›žæ”¶è¯¥çº¿ç¨‹ã€‚ * å¦‚æžœçº¿ç¨‹å¯ç”¨ï¼Œåˆ™é‡ç”¨ä¹‹å‰çš„æ´»åŠ¨çº¿ç¨‹ã€‚ * å¦‚æžœä½¿ç”¨ä¸å½“å¯èƒ½å¯¼è‡´OOMã€‚ */ public static ExecutorService newCachedThreadPool() &#123; return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;()); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä¸€ä¸ªå¯é‡ç”¨çš„çº¿ç¨‹æ±  * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± å·¥åŽ‚ * å¦‚æžœä½¿ç”¨ä¸å½“å¯èƒ½å¯¼è‡´OOMã€‚ */ public static ExecutorService newCachedThreadPool(ThreadFactory threadFactory) &#123; return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;(), threadFactory); &#125; /** * åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹çš„å»¶è¿Ÿä»»åŠ¡çº¿ç¨‹æ± ï¼Œå¯ä»£æ›¿Timer(ä½¿ç”¨ç¹çï¼Œçº¿ç¨‹ä¸å®‰å…¨ç±»)ï¼Œ */ public static ScheduledExecutorService newSingleThreadScheduledExecutor() &#123; return new DelegatedScheduledExecutorService (new ScheduledThreadPoolExecutor(1)); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹çš„å»¶è¿Ÿä»»åŠ¡çº¿ç¨‹æ± ï¼Œå¯ä»£æ›¿Timer(ä½¿ç”¨ç¹çï¼Œçº¿ç¨‹ä¸å®‰å…¨ç±»)ï¼Œ * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± å·¥åŽ‚ * */ public static ScheduledExecutorService newSingleThreadScheduledExecutor(ThreadFactory threadFactory) &#123; return new DelegatedScheduledExecutorService (new ScheduledThreadPoolExecutor(1, threadFactory)); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä¸€ä¸ªå»¶è¿Ÿä»»åŠ¡çº¿ç¨‹æ±  * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± æ ¸å¿ƒå¤§å° * */ public static ScheduledExecutorService newScheduledThreadPool(int corePoolSize) &#123; return new ScheduledThreadPoolExecutor(corePoolSize); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä¸€ä¸ªå»¶è¿Ÿä»»åŠ¡çº¿ç¨‹æ±  * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± æ ¸å¿ƒå¤§å°å’Œæœ€å¤§çº¿ç¨‹æ•°é‡ * */ public static ScheduledExecutorService newScheduledThreadPool( int corePoolSize, ThreadFactory threadFactory) &#123; return new ScheduledThreadPoolExecutor(corePoolSize, threadFactory); &#125; /** * Returns an object that delegates all defined &#123;@link * ExecutorService&#125; methods to the given executor, but not any * other methods that might otherwise be accessible using * casts. This provides a way to safely \\\"freeze\\\" configuration and * disallow tuning of a given concrete implementation. * @param executor the underlying implementation * @return an &#123;@code ExecutorService&#125; instance * @throws NullPointerException if executor null */ public static ExecutorService unconfigurableExecutorService(ExecutorService executor) &#123; if (executor == null) throw new NullPointerException(); return new DelegatedExecutorService(executor); &#125; /** * Returns an object that delegates all defined &#123;@link * ScheduledExecutorService&#125; methods to the given executor, but * not any other methods that might otherwise be accessible using * casts. This provides a way to safely \\\"freeze\\\" configuration and * disallow tuning of a given concrete implementation. * @param executor the underlying implementation * @return a &#123;@code ScheduledExecutorService&#125; instance * @throws NullPointerException if executor null */ public static ScheduledExecutorService unconfigurableScheduledExecutorService(ScheduledExecutorService executor) &#123; if (executor == null) throw new NullPointerException(); return new DelegatedScheduledExecutorService(executor); &#125; /** * Returns a default thread factory used to create new threads. * This factory creates all new threads used by an Executor in the * same &#123;@link ThreadGroup&#125;. If there is a &#123;@link * java.lang.SecurityManager&#125;, it uses the group of &#123;@link * System#getSecurityManager&#125;, else the group of the thread * invoking this &#123;@code defaultThreadFactory&#125; method. Each new * thread is created as a non-daemon thread with priority set to * the smaller of &#123;@code Thread.NORM_PRIORITY&#125; and the maximum * priority permitted in the thread group. New threads have names * accessible via &#123;@link Thread#getName&#125; of * &lt;em&gt;pool-N-thread-M&lt;/em&gt;, where &lt;em&gt;N&lt;/em&gt; is the sequence * number of this factory, and &lt;em&gt;M&lt;/em&gt; is the sequence number * of the thread created by this factory. * @return a thread factory */ public static ThreadFactory defaultThreadFactory() &#123; return new DefaultThreadFactory(); &#125; /** * Returns a thread factory used to create new threads that * have the same permissions as the current thread. * This factory creates threads with the same settings as &#123;@link * Executors#defaultThreadFactory&#125;, additionally setting the * AccessControlContext and contextClassLoader of new threads to * be the same as the thread invoking this * &#123;@code privilegedThreadFactory&#125; method. A new * &#123;@code privilegedThreadFactory&#125; can be created within an * &#123;@link AccessController#doPrivileged AccessController.doPrivileged&#125; * action setting the current thread's access control context to * create threads with the selected permission settings holding * within that action. * * &lt;p&gt;Note that while tasks running within such threads will have * the same access control and class loader settings as the * current thread, they need not have the same &#123;@link * java.lang.ThreadLocal&#125; or &#123;@link * java.lang.InheritableThreadLocal&#125; values. If necessary, * particular values of thread locals can be set or reset before * any task runs in &#123;@link ThreadPoolExecutor&#125; subclasses using * &#123;@link ThreadPoolExecutor#beforeExecute(Thread, Runnable)&#125;. * Also, if it is necessary to initialize worker threads to have * the same InheritableThreadLocal settings as some other * designated thread, you can create a custom ThreadFactory in * which that thread waits for and services requests to create * others that will inherit its values. * * @return a thread factory * @throws AccessControlException if the current access control * context does not have permission to both get and set context * class loader */ public static ThreadFactory privilegedThreadFactory() &#123; return new PrivilegedThreadFactory(); &#125; /** * Returns a &#123;@link Callable&#125; object that, when * called, runs the given task and returns the given result. This * can be useful when applying methods requiring a * &#123;@code Callable&#125; to an otherwise resultless action. * @param task the task to run * @param result the result to return * @param &lt;T&gt; the type of the result * @return a callable object * @throws NullPointerException if task null */ public static &lt;T&gt; Callable&lt;T&gt; callable(Runnable task, T result) &#123; if (task == null) throw new NullPointerException(); return new RunnableAdapter&lt;T&gt;(task, result); &#125; /** * Returns a &#123;@link Callable&#125; object that, when * called, runs the given task and returns &#123;@code null&#125;. * @param task the task to run * @return a callable object * @throws NullPointerException if task null */ public static Callable&lt;Object&gt; callable(Runnable task) &#123; if (task == null) throw new NullPointerException(); return new RunnableAdapter&lt;Object&gt;(task, null); &#125; /** * Returns a &#123;@link Callable&#125; object that, when * called, runs the given privileged action and returns its result. * @param action the privileged action to run * @return a callable object * @throws NullPointerException if action null */ public static Callable&lt;Object&gt; callable(final PrivilegedAction&lt;?&gt; action) &#123; if (action == null) throw new NullPointerException(); return new Callable&lt;Object&gt;() &#123; public Object call() &#123; return action.run(); &#125;&#125;; &#125; /** * Returns a &#123;@link Callable&#125; object that, when * called, runs the given privileged exception action and returns * its result. * @param action the privileged exception action to run * @return a callable object * @throws NullPointerException if action null */ public static Callable&lt;Object&gt; callable(final PrivilegedExceptionAction&lt;?&gt; action) &#123; if (action == null) throw new NullPointerException(); return new Callable&lt;Object&gt;() &#123; public Object call() throws Exception &#123; return action.run(); &#125;&#125;; &#125; /** * Returns a &#123;@link Callable&#125; object that will, when called, * execute the given &#123;@code callable&#125; under the current access * control context. This method should normally be invoked within * an &#123;@link AccessController#doPrivileged AccessController.doPrivileged&#125; * action to create callables that will, if possible, execute * under the selected permission settings holding within that * action; or if not possible, throw an associated &#123;@link * AccessControlException&#125;. * @param callable the underlying task * @param &lt;T&gt; the type of the callable's result * @return a callable object * @throws NullPointerException if callable null */ public static &lt;T&gt; Callable&lt;T&gt; privilegedCallable(Callable&lt;T&gt; callable) &#123; if (callable == null) throw new NullPointerException(); return new PrivilegedCallable&lt;T&gt;(callable); &#125; public static &lt;T&gt; Callable&lt;T&gt; privilegedCallableUsingCurrentClassLoader(Callable&lt;T&gt; callable) &#123; if (callable == null) throw new NullPointerException(); return new PrivilegedCallableUsingCurrentClassLoader&lt;T&gt;(callable); &#125; // Non-public classes supporting the public methods /** * è¿è¡Œç»™å®šä»»åŠ¡å¹¶è¿”å›žç»™å®šç»“æžœçš„å¯è°ƒç”¨æ–‡ä»¶ */ static final class RunnableAdapter&lt;T&gt; implements Callable&lt;T&gt; &#123; final Runnable task; final T result; RunnableAdapter(Runnable task, T result) &#123; this.task = task; this.result = result; &#125; public T call() &#123; task.run(); return result; &#125; &#125; /** * åœ¨å·²å»ºç«‹çš„è®¿é—®æŽ§åˆ¶è®¾ç½®ä¸‹è¿è¡Œçš„å¯è°ƒç”¨æ–‡ä»¶ */ static final class PrivilegedCallable&lt;T&gt; implements Callable&lt;T&gt; &#123; private final Callable&lt;T&gt; task; private final AccessControlContext acc; PrivilegedCallable(Callable&lt;T&gt; task) &#123; this.task = task; this.acc = AccessController.getContext(); &#125; public T call() throws Exception &#123; try &#123; return AccessController.doPrivileged( new PrivilegedExceptionAction&lt;T&gt;() &#123; public T run() throws Exception &#123; return task.call(); &#125; &#125;, acc); &#125; catch (PrivilegedActionException e) &#123; throw e.getException(); &#125; &#125; &#125; /** * åœ¨å·²å»ºç«‹çš„è®¿é—®æŽ§åˆ¶è®¾ç½®å’Œå½“å‰ç±»åŠ è½½å™¨ä¸‹è¿è¡Œçš„å¯è°ƒç”¨æ–‡ä»¶ã€‚ */ static final class PrivilegedCallableUsingCurrentClassLoader&lt;T&gt; implements Callable&lt;T&gt; &#123; private final Callable&lt;T&gt; task; private final AccessControlContext acc; private final ClassLoader ccl; PrivilegedCallableUsingCurrentClassLoader(Callable&lt;T&gt; task) &#123; SecurityManager sm = System.getSecurityManager(); if (sm != null) &#123; // Calls to getContextClassLoader from this class // never trigger a security check, but we check // whether our callers have this permission anyways. sm.checkPermission(SecurityConstants.GET_CLASSLOADER_PERMISSION); // Whether setContextClassLoader turns out to be necessary // or not, we fail fast if permission is not available. sm.checkPermission(new RuntimePermission(\\\"setContextClassLoader\\\")); &#125; this.task = task; this.acc = AccessController.getContext(); this.ccl = Thread.currentThread().getContextClassLoader(); &#125; public T call() throws Exception &#123; try &#123; return AccessController.doPrivileged( new PrivilegedExceptionAction&lt;T&gt;() &#123; public T run() throws Exception &#123; Thread t = Thread.currentThread(); ClassLoader cl = t.getContextClassLoader(); if (ccl == cl) &#123; return task.call(); &#125; else &#123; t.setContextClassLoader(ccl); try &#123; return task.call(); &#125; finally &#123; t.setContextClassLoader(cl); &#125; &#125; &#125; &#125;, acc); &#125; catch (PrivilegedActionException e) &#123; throw e.getException(); &#125; &#125; &#125; /** * é»˜è®¤çº¿ç¨‹å·¥åŽ‚ */ static class DefaultThreadFactory implements ThreadFactory &#123; private static final AtomicInteger poolNumber = new AtomicInteger(1); private final ThreadGroup group; private final AtomicInteger threadNumber = new AtomicInteger(1); private final String namePrefix; DefaultThreadFactory() &#123; SecurityManager s = System.getSecurityManager(); group = (s != null) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup(); namePrefix = \\\"pool-\\\" + poolNumber.getAndIncrement() + \\\"-thread-\\\"; &#125; public Thread newThread(Runnable r) &#123; Thread t = new Thread(group, r, namePrefix + threadNumber.getAndIncrement(), 0); if (t.isDaemon()) t.setDaemon(false); if (t.getPriority() != Thread.NORM_PRIORITY) t.setPriority(Thread.NORM_PRIORITY); return t; &#125; &#125; /** * çº¿ç¨‹å·¥åŽ‚æ•èŽ·è®¿é—®æŽ§åˆ¶ä¸Šä¸‹æ–‡å’Œç±»åŠ è½½å™¨ */ static class PrivilegedThreadFactory extends DefaultThreadFactory &#123; private final AccessControlContext acc; private final ClassLoader ccl; PrivilegedThreadFactory() &#123; super(); SecurityManager sm = System.getSecurityManager(); if (sm != null) &#123; // Calls to getContextClassLoader from this class // never trigger a security check, but we check // whether our callers have this permission anyways. sm.checkPermission(SecurityConstants.GET_CLASSLOADER_PERMISSION); // Fail fast sm.checkPermission(new RuntimePermission(\\\"setContextClassLoader\\\")); &#125; this.acc = AccessController.getContext(); this.ccl = Thread.currentThread().getContextClassLoader(); &#125; public Thread newThread(final Runnable r) &#123; return super.newThread(new Runnable() &#123; public void run() &#123; AccessController.doPrivileged(new PrivilegedAction&lt;Void&gt;() &#123; public Void run() &#123; Thread.currentThread().setContextClassLoader(ccl); r.run(); return null; &#125; &#125;, acc); &#125; &#125;); &#125; &#125; /** * ä»…å…¬å¼€ExecutorServiceæ–¹æ³•çš„åŒ…è£…ç±» * æ‰§è¡Œå™¨æœåŠ¡çš„å®žçŽ°ç±» */ static class DelegatedExecutorService extends AbstractExecutorService &#123; private final ExecutorService e; DelegatedExecutorService(ExecutorService executor) &#123; e = executor; &#125; public void execute(Runnable command) &#123; e.execute(command); &#125; public void shutdown() &#123; e.shutdown(); &#125; public List&lt;Runnable&gt; shutdownNow() &#123; return e.shutdownNow(); &#125; public boolean isShutdown() &#123; return e.isShutdown(); &#125; public boolean isTerminated() &#123; return e.isTerminated(); &#125; public boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException &#123; return e.awaitTermination(timeout, unit); &#125; public Future&lt;?&gt; submit(Runnable task) &#123; return e.submit(task); &#125; public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) &#123; return e.submit(task); &#125; public &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result) &#123; return e.submit(task, result); &#125; public &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException &#123; return e.invokeAll(tasks); &#125; public &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException &#123; return e.invokeAll(tasks, timeout, unit); &#125; public &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException, ExecutionException &#123; return e.invokeAny(tasks); &#125; public &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException &#123; return e.invokeAny(tasks, timeout, unit); &#125; &#125; static class FinalizableDelegatedExecutorService extends DelegatedExecutorService &#123; FinalizableDelegatedExecutorService(ExecutorService executor) &#123; super(executor); &#125; protected void finalize() &#123; super.shutdown(); &#125; &#125; /** * ä»…å…¬å¼€ScheduledExecutorServiceçš„åŒ…è£…ç±» * ScheduledExecutorServiceå®žçŽ°çš„æ–¹æ³• */ static class DelegatedScheduledExecutorService extends DelegatedExecutorService implements ScheduledExecutorService &#123; private final ScheduledExecutorService e; DelegatedScheduledExecutorService(ScheduledExecutorService executor) &#123; super(executor); e = executor; &#125; public ScheduledFuture&lt;?&gt; schedule(Runnable command, long delay, TimeUnit unit) &#123; return e.schedule(command, delay, unit); &#125; public &lt;V&gt; ScheduledFuture&lt;V&gt; schedule(Callable&lt;V&gt; callable, long delay, TimeUnit unit) &#123; return e.schedule(callable, delay, unit); &#125; public ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable command, long initialDelay, long period, TimeUnit unit) &#123; return e.scheduleAtFixedRate(command, initialDelay, period, unit); &#125; public ScheduledFuture&lt;?&gt; scheduleWithFixedDelay(Runnable command, long initialDelay, long delay, TimeUnit unit) &#123; return e.scheduleWithFixedDelay(command, initialDelay, delay, unit); &#125; &#125; /** ä¸å…è®¸å®žä¾‹åŒ– */ private Executors() &#123;&#125;&#125; å¸¸ç”¨æ–¹æ³•FixedThreadPoolFixedThreadPoolï¼Œå¯é‡ç”¨å›ºå®šçº¿ç¨‹æ•°çš„çº¿ç¨‹æ± ã€‚ corePoolSize å’Œ maximumPoolSizeéƒ½è®¾ç½®ä¸ºåˆ›å»ºFixedThreadPoolæ—¶æŒ‡å®šçš„å‚æ•°nThreadsï¼Œæ„å‘³ç€å½“çº¿ç¨‹æ± æ»¡æ—¶ä¸”é˜»å¡žé˜Ÿåˆ—ä¹Ÿå·²ç»æ»¡æ—¶ï¼Œå¦‚æžœç»§ç»­æäº¤ä»»åŠ¡ï¼Œåˆ™ä¼šç›´æŽ¥èµ°æ‹’ç»ç­–ç•¥ï¼Œè¯¥çº¿ç¨‹æ± ä¸ä¼šå†æ–°å»ºçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œè€Œæ˜¯ç›´æŽ¥èµ°æ‹’ç»ç­–ç•¥ã€‚FixedThreadPoolä½¿ç”¨çš„æ˜¯é»˜è®¤çš„æ‹’ç»ç­–ç•¥ï¼Œå³AbortPolicyï¼Œåˆ™ç›´æŽ¥æŠ›å‡ºå¼‚å¸¸ã€‚ keepAliveTimeè®¾ç½®ä¸º0Lï¼Œè¡¨ç¤ºç©ºé—²çš„çº¿ç¨‹ä¼šç«‹åˆ»ç»ˆæ­¢ã€‚ workQueueåˆ™æ˜¯ä½¿ç”¨LinkedBlockingQueueï¼Œä½†æ˜¯æ²¡æœ‰è®¾ç½®èŒƒå›´ï¼Œé‚£ä¹ˆåˆ™æ˜¯æœ€å¤§å€¼ï¼ˆInteger.MAX_VALUEï¼‰ï¼Œè¿™åŸºæœ¬å°±ç›¸å½“äºŽä¸€ä¸ªæ— ç•Œé˜Ÿåˆ—äº†ã€‚ä½¿ç”¨è¯¥â€œæ— ç•Œé˜Ÿåˆ—â€åˆ™ä¼šå¸¦æ¥å“ªäº›å½±å“å‘¢ï¼Ÿå½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°é‡ç­‰äºŽcorePoolSize æ—¶ï¼Œå¦‚æžœç»§ç»­æäº¤ä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡ä¼šè¢«æ·»åŠ åˆ°é˜»å¡žé˜Ÿåˆ—workQueueä¸­ï¼Œå½“é˜»å¡žé˜Ÿåˆ—ä¹Ÿæ»¡äº†ä¹‹åŽï¼Œåˆ™çº¿ç¨‹æ± ä¼šæ–°å»ºçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ç›´åˆ°maximumPoolSizeã€‚ç”±äºŽFixedThreadPoolä½¿ç”¨çš„æ˜¯â€œæ— ç•Œé˜Ÿåˆ—â€LinkedBlockingQueueï¼Œé‚£ä¹ˆmaximumPoolSizeå‚æ•°æ— æ•ˆï¼ŒåŒæ—¶æŒ‡å®šçš„æ‹’ç»ç­–ç•¥AbortPolicyä¹Ÿå°†æ— æ•ˆã€‚è€Œä¸”è¯¥çº¿ç¨‹æ± ä¹Ÿä¸ä¼šæ‹’ç»æäº¤çš„ä»»åŠ¡ï¼Œå¦‚æžœå®¢æˆ·ç«¯æäº¤ä»»åŠ¡çš„é€Ÿåº¦å¿«äºŽä»»åŠ¡çš„æ‰§è¡Œï¼Œé‚£ä¹ˆkeepAliveTimeä¹Ÿæ˜¯ä¸€ä¸ªæ— æ•ˆå‚æ•°ã€‚ SingleThreadExecutorSingleThreadExecutoræ˜¯ä½¿ç”¨å•ä¸ªworkerçº¿ç¨‹çš„Executorï¼Œå³å•çº¿ç¨‹å·¥ä½œæ¨¡å¼ã€‚ ä½œä¸ºå•ä¸€workerçº¿ç¨‹çš„çº¿ç¨‹æ± ï¼ŒSingleThreadExecutoræŠŠcorePoolå’ŒmaximumPoolSizeå‡è¢«è®¾ç½®ä¸º1ï¼Œå’ŒFixedThreadPoolä¸€æ ·ä½¿ç”¨çš„æ˜¯æ— ç•Œé˜Ÿåˆ—LinkedBlockingQueue,æ‰€ä»¥å¸¦æ¥çš„å½±å“å’ŒFixedThreadPoolä¸€æ ·ã€‚ CachedThreadPoolCachedThreadPoolæ˜¯ä¸€ä¸ªä¼šæ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹çš„çº¿ç¨‹æ±  ã€‚ CachedThreadPoolçš„corePoolä¸º0ï¼ŒmaximumPoolSizeä¸ºInteger.MAX_VALUEï¼Œè¿™å°±æ„å‘³ç€æ‰€æœ‰çš„ä»»åŠ¡ä¸€æäº¤å°±ä¼šåŠ å…¥åˆ°é˜»å¡žé˜Ÿåˆ—ä¸­ã€‚keepAliveTimeè¿™æ˜¯ä¸º60Lï¼Œunitè®¾ç½®ä¸ºTimeUnit.SECONDSï¼Œæ„å‘³ç€ç©ºé—²çº¿ç¨‹ç­‰å¾…æ–°ä»»åŠ¡çš„æœ€é•¿æ—¶é—´ä¸º60ç§’ï¼Œç©ºé—²çº¿ç¨‹è¶…è¿‡60ç§’åŽå°†ä¼šè¢«ç»ˆæ­¢ã€‚é˜»å¡žé˜Ÿåˆ—é‡‡ç”¨çš„SynchronousQueueï¼Œæˆ‘ä»¬äº†è§£åˆ°SynchronousQueueæ˜¯ä¸€ä¸ªæ²¡æœ‰å…ƒç´ çš„é˜»å¡žé˜Ÿåˆ—(æ¦‚å¿µä¸Šçš„æ— ç•Œï¼Œå…¶å®žæ˜¯æœ‰ç•Œçš„)ï¼ŒåŠ ä¸ŠcorePool = 0 ï¼ŒmaximumPoolSize = Integer.MAX_VALUEï¼Œè¿™æ ·å°±ä¼šå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æžœä¸»çº¿ç¨‹æäº¤ä»»åŠ¡çš„é€Ÿåº¦è¿œè¿œå¤§äºŽCachedThreadPoolçš„å¤„ç†é€Ÿåº¦ï¼Œåˆ™CachedThreadPoolä¼šä¸æ–­åœ°åˆ›å»ºæ–°çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œè¿™æ ·æœ‰å¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿè€—å°½CPUå’Œå†…å­˜èµ„æºï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨è¯¥çº¿ç¨‹æ± æ˜¯ï¼Œä¸€å®šè¦æ³¨æ„æŽ§åˆ¶å¹¶å‘çš„ä»»åŠ¡æ•°ï¼Œå¦åˆ™åˆ›å»ºå¤§é‡çš„çº¿ç¨‹å¯èƒ½å¯¼è‡´ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚ ScheduledThreadPoolScheduledThreadPoolï¼Œåˆ›å»ºä¸€ä¸ªå¯å»¶è¿Ÿè°ƒåº¦çš„çº¿ç¨‹æ± ã€‚ ScheduledThreadPoolçš„çº¿ç¨‹æ± å¤„ç†ç±»ä¸ºScheduledThreadPoolExecutorï¼Œé€šè¿‡æž„é€ æˆ‘ä»¬å¯ä»¥å¾—å‡ºcorePoolæ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼ŒmaximumPoolSizeä¸ºInteger.MAX_VALUEï¼Œè¿™å°±æ„å‘³ç€æ‰€æœ‰çš„ä»»åŠ¡ä¸€æäº¤å°±ä¼šåŠ å…¥åˆ°é˜»å¡žé˜Ÿåˆ—ä¸­ã€‚keepAliveTimeä¸º0ï¼Œunitè®¾ç½®ä¸ºTimeUnit.NANOSECONDSï¼Œæ„å‘³ç€æ‰§è¡Œå®Œå»¶è¿Ÿä»»åŠ¡åŽä¼šç«‹é©¬å›žæ”¶çº¿ç¨‹ã€‚é˜»å¡žé˜Ÿåˆ—é‡‡ç”¨DelayedWorkQueue(ä¸“ä¸ºå»¶è¿Ÿé˜Ÿåˆ—è€Œç”Ÿ),DelayedWorkQueueåŸºäºŽå †çš„æ•°æ®ç»“æž„ï¼Œé»˜è®¤åˆå§‹åŒ–å®¹é‡ä¸º16ã€‚ æˆ‘ä»¬çŸ¥é“Timerä¸ŽTimerTaskè™½ç„¶å¯ä»¥å®žçŽ°çº¿ç¨‹çš„å‘¨æœŸå’Œå»¶è¿Ÿè°ƒåº¦ï¼Œä½†æ˜¯Timerä¸ŽTimerTaskå­˜åœ¨ä¸€äº›ç¼ºé™·ï¼Œæ‰€ä»¥å¯¹äºŽè¿™ç§å®šæœŸã€å‘¨æœŸæ‰§è¡Œä»»åŠ¡çš„è°ƒåº¦ç­–ç•¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯æŽ¨èScheduledThreadPoolExecutoræ¥å®žçŽ°ã€‚ å…·ä½“åˆ†æžè¯·é˜…è¯»å¤§ç‰›åšæ–‡: ScheduledThreadPoolExecutorè¯¦è§£ä¸€ ScheduledThreadPoolExecutorè¯¦è§£äºŒ WorkStealingPoolWorkStealingPoolæ˜¯ä¸ªç‰¹æ®Šçš„çº¿ç¨‹æ± ï¼Œä½†ä¸é•¿ç”¨ï¼Œé¢è¯•æœ‰æ—¶å€™å¯èƒ½ä¼šé—®åˆ°ï¼Œå†…éƒ¨å®žçŽ°åŽŸç†å…¶å®žæ˜¯åŸºäºŽJDK1.7çš„ForkJoinPoolæ¡†æž¶ï¼Œå…·ä½“æž„é€ å®žçŽ°ç»†èŠ‚å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435/** * Creates a &#123;@code ForkJoinPool&#125; with the given parameters. * * @param parallelism the parallelism level. For default value, * use &#123;@link java.lang.Runtime#availableProcessors&#125;. * @param factory the factory for creating new threads. For default value, * use &#123;@link #defaultForkJoinWorkerThreadFactory&#125;. * @param handler the handler for internal worker threads that * terminate due to unrecoverable errors encountered while executing * tasks. For default value, use &#123;@code null&#125;. * @param asyncMode if true, * establishes local first-in-first-out scheduling mode for forked * tasks that are never joined. This mode may be more appropriate * than default locally stack-based mode in applications in which * worker threads only process event-style asynchronous tasks. * For default value, use &#123;@code false&#125;. * @throws IllegalArgumentException if parallelism less than or * equal to zero, or greater than implementation limit * @throws NullPointerException if the factory is null * @throws SecurityException if a security manager exists and * the caller is not permitted to modify threads * because it does not hold &#123;@link * java.lang.RuntimePermission&#125;&#123;@code (\\\"modifyThread\\\")&#125; */public ForkJoinPool(int parallelism, ForkJoinWorkerThreadFactory factory, UncaughtExceptionHandler handler, boolean asyncMode) &#123; this(checkParallelism(parallelism), checkFactory(factory), handler, asyncMode ? FIFO_QUEUE : LIFO_QUEUE, \\\"ForkJoinPool-\\\" + nextPoolId() + \\\"-worker-\\\"); checkPermission();&#125; ForkJoinPoolæ¡†æž¶æ˜¯ä¸ªå¹¶è¡Œæ¡†æž¶ï¼Œåœ¨å¤šæ ¸CPUä¸­æœ‰ç€é«˜æ•ˆçš„æ€§èƒ½ä½“éªŒã€‚Java7 æä¾›äº†ForkJoinPoolæ¥æ”¯æŒå°†ä¸€ä¸ªä»»åŠ¡æ‹†åˆ†æˆå¤šä¸ªâ€œå°ä»»åŠ¡â€å¹¶è¡Œè®¡ç®—ï¼Œå†æŠŠå¤šä¸ªâ€œå°ä»»åŠ¡â€çš„ç»“æžœåˆå¹¶æˆæ€»çš„è®¡ç®—ç»“æžœã€‚æœ‰å…³äºŽForkJoinPoolçŸ¥è¯†ï¼Œæˆ‘ä»¬åŽç»­è®²è§£ã€‚ å‚è€ƒèµ„æ–™ é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ å”¯å“ä¼šJavaå¼€å‘æ‰‹å†Œ ã€ŠJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"slug\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"permalink\":\"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/\"}]},{\"title\":\"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶\",\"slug\":\"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶\",\"date\":\"2018-06-09T10:45:21.000Z\",\"updated\":\"2019-11-20T15:08:55.367Z\",\"comments\":true,\"path\":\"2018/06/09/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/06/09/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶/\",\"excerpt\":\"\",\"text\":\"ä¸ºäº†é«˜æ•ˆçš„ç®¡ç†çº¿ç¨‹ï¼ŒJDK1.5ç‰ˆæœ¬çš„Doug Leaå¤§ç¥žä¸ºæˆ‘ä»¬è®¾è®¡äº†å¤§åé¼Žé¼Žçš„ThreadPoolExecutorã€‚ ä½œä¸ºExecutoræ¡†æž¶ä¸­æœ€æ ¸å¿ƒçš„ç±»-ThreadPoolExecutorï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ªè°ƒåº¦å·¥å…·ï¼Œä¸ºäº†é«˜æ•ˆæ‰§è¡Œæˆ–è°ƒåº¦ä»»åŠ¡ï¼Œæˆ‘ä»¬éžå¸¸æœ‰å¿…è¦å¯¹è¯¥ç±»çš„å·¥ä½œåŽŸç†ä»¥åŠå†…éƒ¨æœºåˆ¶äº†è§£ä¸€ç•ªã€‚çº¿ç¨‹æ± çš„æ¯ä¸€ä¸ªå‚æ•°é…ç½®éƒ½æœ‰ä¸€å®šçš„è®¾è®¡åˆç†æ€§ï¼Œå„ä¸ªå‚æ•°é…ç½®ååŒèšåˆï¼Œè®©èµ„æºåˆç†è¿ç”¨æ‰æ˜¯æˆ‘ä»¬æœ€å…³æ³¨çš„ã€‚ çº¿ç¨‹æ± çš„ç”Ÿå‘½å‘¨æœŸçº¿ç¨‹æœ‰äº”ç§çŠ¶æ€ï¼šæ–°å»ºï¼Œå°±ç»ªï¼Œè¿è¡Œï¼Œé˜»å¡žï¼Œæ­»äº¡ã€‚çº¿ç¨‹æ± åŒæ ·æœ‰äº”ç§çŠ¶æ€ï¼šRunning, SHUTDOWN, STOP, TIDYING, TERMINATEDã€‚ æˆ‘ä»¬ç¿»å¼€ThreadPoolExecutoræºç å¯ä»¥çœ‹åˆ°çº¿ç¨‹æ± ç”Ÿå‘½å‘¨æœŸçš„å®šä¹‰ï¼š 1234567891011121314151617181920private final AtomicInteger ctl = new AtomicInteger(ctlOf(RUNNING, 0));private static final int COUNT_BITS = Integer.SIZE - 3;private static final int CAPACITY = (1 &lt;&lt; COUNT_BITS) - 1;// runState is stored in the high-order bits// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯111private static final int RUNNING = -1 &lt;&lt; COUNT_BITS;// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯000private static final int SHUTDOWN = 0 &lt;&lt; COUNT_BITS;// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯001private static final int STOP = 1 &lt;&lt; COUNT_BITS;// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯010private static final int TIDYING = 2 &lt;&lt; COUNT_BITS;// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯011private static final int TERMINATED = 3 &lt;&lt; COUNT_BITS;// Packing and unpacking ctlprivate static int runStateOf(int c) &#123; return c &amp; ~CAPACITY;&#125;private static int workerCountOf(int c) &#123; return c &amp; CAPACITY; &#125;private static int ctlOf(int rs, int wc) &#123; return rs | wc; &#125; å˜é‡ctlå®šä¹‰ä¸ºAtomicInteger ï¼Œå…¶åŠŸèƒ½éžå¸¸å¼ºå¤§ï¼Œè®°å½•äº†â€œçº¿ç¨‹æ± ä¸­çš„ä»»åŠ¡æ•°é‡â€å’Œâ€œçº¿ç¨‹æ± çš„çŠ¶æ€â€ä¸¤ä¸ªä¿¡æ¯ã€‚å…±32ä½ï¼Œå…¶ä¸­é«˜3ä½è¡¨ç¤ºâ€çº¿ç¨‹æ± çŠ¶æ€(runState)â€ï¼Œä½Ž29ä½è¡¨ç¤ºâ€çº¿ç¨‹æ± ä¸­çš„ä»»åŠ¡æ•°é‡(workerCnt)â€ã€‚ çº¿ç¨‹æ± æ˜¯æœ‰çŠ¶æ€çš„ï¼Œä¸åŒçŠ¶æ€ä¸‹çº¿ç¨‹æ± çš„è¡Œä¸ºæ˜¯ä¸ä¸€æ ·çš„ã€‚å…·ä½“è¿è½¬æµç¨‹å¦‚ä¸‹: çŠ¶æ€ å«ä¹‰ RUNNING è¿è¡ŒçŠ¶æ€ï¼Œè¯¥çŠ¶æ€ä¸‹çº¿ç¨‹æ± å¯ä»¥æŽ¥å—æ–°çš„ä»»åŠ¡ï¼Œä¹Ÿå¯ä»¥å¤„ç†é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ‰§è¡Œ, shutdown æ–¹æ³•å¯è¿›å…¥ SHUTDOWN çŠ¶æ€;æ‰§è¡Œ shutdownNow æ–¹æ³•å¯è¿›å…¥ STOP çŠ¶æ€ SHUTDOWN å¾…å…³é—­çŠ¶æ€ï¼Œä¸å†æŽ¥å—æ–°çš„ä»»åŠ¡ï¼Œç»§ç»­å¤„ç†é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡;å½“é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ä¸ºç©ºï¼Œå¹¶ä¸”å·¥ä½œçº¿ç¨‹æ•°ä¸º0æ—¶ï¼Œè¿›å…¥ TIDYING çŠ¶æ€ STOP åœæ­¢çŠ¶æ€ï¼Œä¸æŽ¥æ”¶æ–°ä»»åŠ¡ï¼Œä¹Ÿä¸å¤„ç†é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œå¹¶ä¸”ä¼šå°è¯•ç»“æŸæ‰§è¡Œä¸­çš„ä»»åŠ¡;å½“å·¥ä½œçº¿ç¨‹æ•°ä¸º0æ—¶ï¼Œè¿›å…¥ TIDYING çŠ¶æ€ TIDYING æ•´ç†çŠ¶æ€ï¼Œæ­¤æ—¶ä»»åŠ¡éƒ½å·²ç»æ‰§è¡Œå®Œæ¯•ï¼ˆctlè®°å½•çš„â€ä»»åŠ¡æ•°é‡â€ä¸º0ï¼‰ï¼Œå¹¶ä¸”ä¹Ÿæ²¡æœ‰å·¥ä½œçº¿ç¨‹; æ‰§è¡Œ terminated æ–¹æ³•åŽè¿›å…¥ TERMINATED çŠ¶æ€ TERMINATED ç»ˆæ­¢çŠ¶æ€ï¼Œæ­¤æ—¶çº¿ç¨‹æ± å®Œå…¨ç»ˆæ­¢äº†ï¼Œå¹¶å®Œæˆäº†æ‰€æœ‰èµ„æºçš„é‡Šæ”¾ çº¿ç¨‹æ± çš„å†…éƒ¨æž„é€ 123456789101112131415161718192021222324public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler) &#123; if (corePoolSize &lt; 0 || maximumPoolSize &lt;= 0 || maximumPoolSize &lt; corePoolSize || keepAliveTime &lt; 0) throw new IllegalArgumentException(); if (workQueue == null || threadFactory == null || handler == null) throw new NullPointerException(); this.acc = System.getSecurityManager() == null ? null : AccessController.getContext(); this.corePoolSize = corePoolSize; this.maximumPoolSize = maximumPoolSize; this.workQueue = workQueue; this.keepAliveTime = unit.toNanos(keepAliveTime); this.threadFactory = threadFactory; this.handler = handler;&#125; ä¸Šè¿°æºç æ˜¯æ‘˜è‡ªJDK1.8ä¸­ThreadPoolExecutorçš„æž„é€ æºç ï¼Œæž„é€ å™¨æœ‰7ä¸ªé‡è¦å‚æ•°ï¼Œè¿™ä¸ƒä¸ªå‚æ•°æ„ä¹‰é‡å¤§ï¼Œæˆ‘ä»¬æœ‰å¿…è¦æ·±å…¥å­¦ä¹ ã€‚ å‰æ–‡è®²åˆ°æœ‰äº†æ ‡å¿—å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°çš„å˜é‡ctlï¼Œé‚£ä¹ˆä¸åŒç¡¬ä»¶é…ç½®çš„æœºå™¨ï¼Œåˆ°åº•åº”è¯¥é…ç½®å¤šå°‘ä¸ªçº¿ç¨‹æ‰åˆé€‚å‘¢ï¼Ÿçº¿ç¨‹æ± é…ç½®çš„æ ¸å¿ƒçº¿ç¨‹æ•°å°‘äº†ï¼Œå‘æŒ¥ä¸äº†çº¿ç¨‹æ± çš„ç‰¹æ€§ï¼Œçº¿ç¨‹æ± é…ç½®çš„æ ¸å¿ƒçº¿ç¨‹æ•°å¤šäº†ï¼Œåˆé€ æˆèµ„æºè€—è´¹ã€‚ çŽ°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªç–‘é—®ï¼Œæ—¢ç„¶å·²ç»æœ‰äº†æ ‡è¯†å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°çš„å˜é‡äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æœ‰æ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°å‘¢ï¼Ÿ å…¶å®žä½ è¿™æ ·æƒ³å°±èƒ½å¤Ÿç†è§£äº†ï¼Œåˆ›å»ºçº¿ç¨‹æ˜¯æœ‰ä»£ä»·çš„ï¼Œä¸èƒ½æ¯æ¬¡è¦æ‰§è¡Œä¸€ä¸ªä»»åŠ¡æ—¶å°±åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½åœ¨ä»»åŠ¡éžå¸¸å¤šçš„æ—¶å€™ï¼Œåªæœ‰å°‘é‡çš„çº¿ç¨‹åœ¨æ‰§è¡Œï¼Œè¿™æ ·ä»»åŠ¡æ˜¯æ¥ä¸åŠå¤„ç†çš„ï¼Œè€Œæ˜¯åº”è¯¥åˆ›å»ºåˆé€‚çš„è¶³å¤Ÿå¤šçš„çº¿ç¨‹æ¥åŠæ—¶çš„å¤„ç†ä»»åŠ¡ã€‚éšç€ä»»åŠ¡æ•°é‡çš„å˜åŒ–ï¼Œå½“ä»»åŠ¡æ•°æ˜Žæ˜¾å¾ˆå°æ—¶ï¼ŒåŽŸæœ¬åˆ›å»ºçš„å¤šä½™çš„çº¿ç¨‹å°±æ²¡æœ‰å¿…è¦å†å­˜æ´»ç€äº†ï¼Œå› ä¸ºè¿™æ—¶ä½¿ç”¨å°‘é‡çš„çº¿ç¨‹å°±èƒ½å¤Ÿå¤„ç†çš„è¿‡æ¥äº†ï¼Œæ‰€ä»¥è¯´çœŸæ­£å·¥ä½œçš„çº¿ç¨‹çš„æ•°é‡ï¼Œæ˜¯éšç€ä»»åŠ¡çš„å˜åŒ–è€Œå˜åŒ–çš„ã€‚ é‚£æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ä¸Žå·¥ä½œçº¿ç¨‹ä¸ªæ•°çš„å…³ç³»æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°å¯èƒ½ä»Ž0åˆ°æœ€å¤§çº¿ç¨‹æ•°ä¹‹é—´å˜åŒ–ï¼Œå½“æ‰§è¡Œä¸€æ®µæ—¶é—´ä¹‹åŽå¯èƒ½ç»´æŒåœ¨ corePoolSizeï¼Œä½†ä¹Ÿä¸æ˜¯ç»å¯¹çš„ï¼Œå–å†³äºŽæ ¸å¿ƒçº¿ç¨‹æ˜¯å¦å…è®¸è¢«è¶…æ—¶å›žæ”¶ã€‚ corePoolSizeæ ¸å¿ƒçº¿ç¨‹æ•°corePoolSize ç”¨æ¥è¡¨ç¤ºçº¿ç¨‹æ± ä¸­çš„æ ¸å¿ƒçº¿ç¨‹çš„æ•°é‡ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºå¯é—²ç½®çš„çº¿ç¨‹æ•°é‡ã€‚å½“æäº¤ä¸€ä¸ªä»»åŠ¡æ—¶ï¼Œçº¿ç¨‹æ± ä¼šæ–°å»ºä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œç›´åˆ°å½“å‰çº¿ç¨‹æ•°ç­‰äºŽcorePoolSizeã€‚å¦‚æžœè°ƒç”¨äº†çº¿ç¨‹æ± çš„prestartAllCoreThreads()æ–¹æ³•ï¼Œçº¿ç¨‹æ± ä¼šæå‰åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰åŸºæœ¬çº¿ç¨‹ã€‚ maximumPoolSizeæœ€å¤§çº¿ç¨‹æ•°maximumPoolSize ç”¨æ¥è¡¨ç¤ºçº¿ç¨‹æ± ä¸­æœ€å¤šèƒ½å¤Ÿåˆ›å»ºçš„çº¿ç¨‹æ•°é‡ã€‚çº¿ç¨‹æ± çš„é˜»å¡žé˜Ÿåˆ—æ»¡äº†ä¹‹åŽï¼Œå¦‚æžœè¿˜æœ‰ä»»åŠ¡æäº¤ï¼Œå¦‚æžœå½“å‰çš„çº¿ç¨‹æ•°å°äºŽmaximumPoolSizeï¼Œåˆ™ä¼šæ–°å»ºçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚æ³¨æ„ï¼Œå¦‚æžœä½¿ç”¨çš„æ˜¯æ— ç•Œé˜Ÿåˆ—ï¼Œè¯¥å‚æ•°ä¹Ÿå°±æ²¡æœ‰ä»€ä¹ˆæ•ˆæžœäº†ã€‚ keepAliveTimeçº¿ç¨‹ç©ºé—²æ—¶é—´çº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯æ˜¯éœ€è¦ä»£ä»·çš„ã€‚çº¿ç¨‹æ‰§è¡Œå®Œä»»åŠ¡åŽä¸ä¼šç«‹å³é”€æ¯ï¼Œè€Œæ˜¯ç»§ç»­å­˜æ´»ä¸€æ®µæ—¶é—´ï¼škeepAliveTimeã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å‚æ•°åªæœ‰åœ¨çº¿ç¨‹æ•°å¤§äºŽcorePoolSizeæ—¶æ‰ä¼šç”Ÿæ•ˆã€‚ å½“å·¥ä½œçº¿ç¨‹æ•°è¾¾åˆ° corePoolSize æ—¶ï¼Œçº¿ç¨‹æ± ä¼šå°†æ–°æŽ¥æ”¶åˆ°çš„ä»»åŠ¡å­˜æ”¾åœ¨é˜»å¡žé˜Ÿåˆ—ä¸­ï¼Œè€Œé˜»å¡žé˜Ÿåˆ—åˆä¸¤ç§æƒ…å†µï¼šä¸€ç§æ˜¯æœ‰ç•Œçš„é˜Ÿåˆ—ï¼Œä¸€ç§æ˜¯æ— ç•Œçš„é˜Ÿåˆ—ã€‚ å¦‚æžœæ˜¯æ— ç•Œé˜Ÿåˆ—ï¼Œé‚£ä¹ˆå½“æ ¸å¿ƒçº¿ç¨‹éƒ½åœ¨å¿™çš„æ—¶å€™ï¼Œæ‰€æœ‰æ–°æäº¤çš„ä»»åŠ¡éƒ½ä¼šè¢«å­˜æ”¾åœ¨è¯¥æ— ç•Œé˜Ÿåˆ—ä¸­ï¼Œè¿™æ—¶æœ€å¤§çº¿ç¨‹æ•°å°†å˜å¾—æ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºé˜»å¡žé˜Ÿåˆ—ä¸ä¼šå­˜åœ¨è¢«è£…æ»¡çš„æƒ…å†µã€‚ å¦‚æžœæ˜¯æœ‰ç•Œé˜Ÿåˆ—ï¼Œé‚£ä¹ˆå½“é˜»å¡žé˜Ÿåˆ—ä¸­è£…æ»¡äº†ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡ï¼Œè¿™æ—¶å†æœ‰æ–°ä»»åŠ¡æäº¤æ—¶ï¼Œçº¿ç¨‹æ± å°±éœ€è¦åˆ›å»ºæ–°çš„â€œä¸´æ—¶â€çº¿ç¨‹æ¥å¤„ç†ï¼Œç›¸å½“äºŽå¢žæ´¾äººæ‰‹æ¥å¤„ç†ä»»åŠ¡ã€‚ ä½†æ˜¯åˆ›å»ºçš„â€œä¸´æ—¶â€çº¿ç¨‹æ˜¯æœ‰å­˜æ´»æ—¶é—´çš„ï¼Œä¸å¯èƒ½è®©ä»–ä»¬ä¸€ç›´éƒ½å­˜æ´»ç€ï¼Œå½“é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡è¢«æ‰§è¡Œå®Œæ¯•ï¼Œå¹¶ä¸”åˆæ²¡æœ‰é‚£ä¹ˆå¤šæ–°ä»»åŠ¡è¢«æäº¤æ—¶ï¼Œâ€œä¸´æ—¶â€çº¿ç¨‹å°±éœ€è¦è¢«å›žæ”¶é”€æ¯ï¼Œåœ¨è¢«å›žæ”¶é”€æ¯ä¹‹å‰ç­‰å¾…çš„è¿™æ®µæ—¶é—´ï¼Œå°±æ˜¯éžæ ¸å¿ƒçº¿ç¨‹çš„å­˜æ´»æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ keepAliveTime å±žæ€§ã€‚ é‚£ä¹ˆä»€ä¹ˆæ˜¯â€œéžæ ¸å¿ƒçº¿ç¨‹â€å‘¢ï¼Ÿæ˜¯ä¸æ˜¯å…ˆåˆ›å»ºçš„çº¿ç¨‹å°±æ˜¯æ ¸å¿ƒçº¿ç¨‹ï¼ŒåŽåˆ›å»ºçš„å°±æ˜¯éžæ ¸å¿ƒçº¿ç¨‹å‘¢ï¼Ÿ å…¶å®žæ ¸å¿ƒçº¿ç¨‹è·Ÿåˆ›å»ºçš„å…ˆåŽæ²¡æœ‰å…³ç³»ï¼Œè€Œæ˜¯è·Ÿå·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°æœ‰å…³ï¼Œå¦‚æžœå½“å‰å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°å¤§äºŽæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„çº¿ç¨‹éƒ½å¯èƒ½æ˜¯â€œéžæ ¸å¿ƒçº¿ç¨‹â€ï¼Œéƒ½æœ‰è¢«å›žæ”¶çš„å¯èƒ½ã€‚ ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œäº†ä¸€ä¸ªä»»åŠ¡åŽï¼Œä¼šåŽ»é˜»å¡žé˜Ÿåˆ—é‡Œé¢å–æ–°çš„ä»»åŠ¡ï¼Œåœ¨å–åˆ°ä»»åŠ¡ä¹‹å‰å®ƒå°±æ˜¯ä¸€ä¸ªé—²ç½®çš„çº¿ç¨‹ã€‚ å–ä»»åŠ¡çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯é€šè¿‡ take() æ–¹æ³•ä¸€ç›´é˜»å¡žç›´åˆ°å–å‡ºä»»åŠ¡ï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡ poll(keepAliveTimeï¼ŒtimeUnit) æ–¹æ³•åœ¨ä¸€å®šæ—¶é—´å†…å–å‡ºä»»åŠ¡æˆ–è€…è¶…æ—¶ï¼Œå¦‚æžœè¶…æ—¶è¿™ä¸ªçº¿ç¨‹å°±ä¼šè¢«å›žæ”¶ï¼Œè¯·æ³¨æ„æ ¸å¿ƒçº¿ç¨‹ä¸€èˆ¬ä¸ä¼šè¢«å›žæ”¶ã€‚ é‚£ä¹ˆæ€Žä¹ˆä¿è¯æ ¸å¿ƒçº¿ç¨‹ä¸ä¼šè¢«å›žæ”¶å‘¢ï¼Ÿè¿˜æ˜¯è·Ÿå·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°æœ‰å…³ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹åœ¨å–ä»»åŠ¡çš„æ—¶å€™ï¼Œçº¿ç¨‹æ± ä¼šæ¯”è¾ƒå½“å‰çš„å·¥ä½œçº¿ç¨‹ä¸ªæ•°ä¸Žæ ¸å¿ƒçº¿ç¨‹æ•°ï¼š å¦‚æžœå·¥ä½œçº¿ç¨‹æ•°å°äºŽå½“å‰çš„æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œåˆ™ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•å–ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰è¶…æ—¶å›žæ”¶ï¼Œè¿™æ—¶æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹éƒ½æ˜¯â€œæ ¸å¿ƒçº¿ç¨‹â€ï¼Œä»–ä»¬ä¸ä¼šè¢«å›žæ”¶ï¼› å¦‚æžœå¤§äºŽæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œåˆ™ä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•å–ä»»åŠ¡ï¼Œä¸€æ—¦è¶…æ—¶å°±å›žæ”¶ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰ç»å¯¹çš„æ ¸å¿ƒçº¿ç¨‹ï¼Œåªè¦è¿™ä¸ªçº¿ç¨‹æ²¡æœ‰åœ¨å­˜æ´»æ—¶é—´å†…å–åˆ°ä»»åŠ¡åŽ»æ‰§è¡Œå°±ä¼šè¢«å›žæ”¶ã€‚ æ‰€ä»¥æ¯ä¸ªçº¿ç¨‹æƒ³è¦ä¿ä½è‡ªå·±â€œæ ¸å¿ƒçº¿ç¨‹â€çš„èº«ä»½ï¼Œå¿…é¡»å……åˆ†åŠªåŠ›ï¼Œå°½å¯èƒ½å¿«çš„èŽ·å–åˆ°ä»»åŠ¡åŽ»æ‰§è¡Œï¼Œè¿™æ ·æ‰èƒ½é€ƒé¿è¢«å›žæ”¶çš„å‘½è¿ã€‚ æ ¸å¿ƒçº¿ç¨‹ä¸€èˆ¬ä¸ä¼šè¢«å›žæ”¶ï¼Œä½†æ˜¯ä¹Ÿä¸æ˜¯ç»å¯¹çš„ï¼Œå¦‚æžœæˆ‘ä»¬è®¾ç½®äº†å…è®¸æ ¸å¿ƒçº¿ç¨‹è¶…æ—¶è¢«å›žæ”¶çš„è¯ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰æ ¸å¿ƒçº¿ç¨‹è¿™ç§è¯´æ³•äº†ï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½ä¼šé€šè¿‡ poll(keepAliveTime, timeUnit) æ¥èŽ·å–ä»»åŠ¡ï¼Œä¸€æ—¦è¶…æ—¶èŽ·å–ä¸åˆ°ä»»åŠ¡ï¼Œå°±ä¼šè¢«å›žæ”¶ï¼Œä¸€èˆ¬å¾ˆå°‘ä¼šè¿™æ ·æ¥ä½¿ç”¨ï¼Œé™¤éžè¯¥çº¿ç¨‹æ± éœ€è¦å¤„ç†çš„ä»»åŠ¡éžå¸¸å°‘ï¼Œå¹¶ä¸”é¢‘çŽ‡ä¹Ÿä¸é«˜ï¼Œä¸éœ€è¦å°†æ ¸å¿ƒçº¿ç¨‹ä¸€ç›´ç»´æŒç€ã€‚ unitçº¿ç¨‹ç©ºé—²æ—¶é—´å•ä½keepAliveTimeçš„å•ä½ã€‚TimeUnitï¼Œå¯è®¾ç½®æ—¶åˆ†ç§’æ¯«ç§’ workQueueä»»åŠ¡é˜Ÿåˆ—workQueueç”¨æ¥ä¿å­˜ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡çš„é˜»å¡žé˜Ÿåˆ—ï¼Œç­‰å¾…çš„ä»»åŠ¡å¿…é¡»å®žçŽ°RunnableæŽ¥å£ã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©å¦‚ä¸‹å‡ ç§ï¼š ArrayBlockingQueueï¼šåŸºäºŽæ•°ç»„ç»“æž„çš„æœ‰ç•Œé˜»å¡žé˜Ÿåˆ—ï¼ŒFIFOã€‚ LinkedBlockingQueueï¼šåŸºäºŽé“¾è¡¨ç»“æž„çš„æœ‰ç•Œé˜»å¡žé˜Ÿåˆ—ï¼ŒFIFOã€‚ SynchronousQueueï¼šä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡žé˜Ÿåˆ—ï¼Œæ¯ä¸ªæ’å…¥æ“ä½œéƒ½å¿…é¡»ç­‰å¾…ä¸€ä¸ªç§»å‡ºæ“ä½œï¼Œåä¹‹äº¦ç„¶ã€‚ PriorityBlockingQueueï¼šå…·æœ‰ä¼˜å…ˆç•Œåˆ«çš„é˜»å¡žé˜Ÿåˆ—ã€‚ ä¸Šé¢æˆ‘ä»¬è¯´äº†æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ï¼Œå¹¶ä¸”ä¹Ÿä»‹ç»äº†å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°æ˜¯åœ¨0å’Œæœ€å¤§çº¿ç¨‹æ•°ä¹‹é—´å˜åŒ–çš„ã€‚ä½†æ˜¯ä¸å¯èƒ½ä¸€ä¸‹å­å°±åˆ›å»ºäº†æ‰€æœ‰çº¿ç¨‹ï¼ŒæŠŠçº¿ç¨‹æ± è£…æ»¡ï¼Œè€Œæ˜¯æœ‰ä¸€ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š å½“çº¿ç¨‹æ± æŽ¥æ”¶åˆ°ä¸€ä¸ªä»»åŠ¡æ—¶ï¼Œå¦‚æžœå·¥ä½œçº¿ç¨‹æ•°æ²¡æœ‰è¾¾åˆ°corePoolSizeï¼Œé‚£ä¹ˆå°±ä¼šæ–°å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶ç»‘å®šè¯¥ä»»åŠ¡ï¼Œç›´åˆ°å·¥ä½œçº¿ç¨‹çš„æ•°é‡è¾¾åˆ° corePoolSize å‰éƒ½ä¸ä¼šé‡ç”¨ä¹‹å‰çš„çº¿ç¨‹ã€‚ å½“å·¥ä½œçº¿ç¨‹æ•°è¾¾åˆ° corePoolSize äº†ï¼Œè¿™æ—¶åˆæŽ¥æ”¶åˆ°æ–°ä»»åŠ¡æ—¶ï¼Œä¼šå°†ä»»åŠ¡å­˜æ”¾åœ¨ä¸€ä¸ªé˜»å¡žé˜Ÿåˆ—ä¸­ç­‰å¾…æ ¸å¿ƒçº¿ç¨‹åŽ»æ‰§è¡Œã€‚ä¸ºä»€ä¹ˆä¸ç›´æŽ¥åˆ›å»ºæ›´å¤šçš„çº¿ç¨‹æ¥æ‰§è¡Œæ–°ä»»åŠ¡å‘¢ï¼ŒåŽŸå› æ˜¯æ ¸å¿ƒçº¿ç¨‹ä¸­å¾ˆå¯èƒ½å·²ç»æœ‰çº¿ç¨‹æ‰§è¡Œå®Œè‡ªå·±çš„ä»»åŠ¡äº†ï¼Œæˆ–è€…æœ‰å…¶ä»–çº¿ç¨‹é©¬ä¸Šå°±èƒ½å¤„ç†å®Œå½“å‰çš„ä»»åŠ¡ï¼Œå¹¶ä¸”æŽ¥ä¸‹æ¥å°±èƒ½æŠ•å…¥åˆ°æ–°çš„ä»»åŠ¡ä¸­åŽ»ï¼Œæ‰€ä»¥é˜»å¡žé˜Ÿåˆ—æ˜¯ä¸€ç§ç¼“å†²çš„æœºåˆ¶ï¼Œç»™æ ¸å¿ƒçº¿ç¨‹ä¸€ä¸ªæœºä¼šè®©ä»–ä»¬å……åˆ†å‘æŒ¥è‡ªå·±çš„èƒ½åŠ›ã€‚å¦å¤–ä¸€ä¸ªå€¼å¾—è€ƒè™‘çš„åŽŸå› æ˜¯ï¼Œåˆ›å»ºçº¿ç¨‹æ¯•ç«Ÿæ˜¯æ¯”è¾ƒæ˜‚è´µçš„ï¼Œä¸å¯èƒ½ä¸€æœ‰ä»»åŠ¡è¦æ‰§è¡Œå°±åŽ»åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚ æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸ºçº¿ç¨‹æ± é…å¤‡ä¸€ä¸ªé˜»å¡žé˜Ÿåˆ—ï¼Œå³ä»»åŠ¡åˆ—è¡¨ï¼Œç”¨æ¥ä¸´æ—¶ç¼“å­˜ä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡å°†ç­‰å¾…å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œã€‚ threadFactoryçº¿ç¨‹å·¥åŽ‚æ—¢ç„¶æ˜¯çº¿ç¨‹æ± ï¼Œé‚£è‡ªç„¶å°‘ä¸äº†çº¿ç¨‹ï¼Œçº¿ç¨‹è¯¥å¦‚ä½•æ¥åˆ›å»ºå‘¢ï¼Ÿè¿™ä¸ªä»»åŠ¡å°±äº¤ç»™äº†çº¿ç¨‹å·¥åŽ‚ ThreadFactory æ¥å®Œæˆã€‚ è¯¥å¯¹è±¡å¯ä»¥é€šè¿‡Executors.defaultThreadFactory()ï¼Œå¦‚ä¸‹ï¼š 123public static ThreadFactory defaultThreadFactory() &#123; return new DefaultThreadFactory();&#125; è¿”å›žçš„DefaultThreadFactoryå¯¹è±¡ï¼Œæºç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526static class DefaultThreadFactory implements ThreadFactory &#123; private static final AtomicInteger poolNumber = new AtomicInteger(1); private final ThreadGroup group; private final AtomicInteger threadNumber = new AtomicInteger(1); private final String namePrefix; DefaultThreadFactory() &#123; SecurityManager s = System.getSecurityManager(); group = (s != null) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup(); namePrefix = \\\"pool-\\\" + poolNumber.getAndIncrement() + \\\"-thread-\\\"; &#125; public Thread newThread(Runnable r) &#123; Thread t = new Thread(group, r, namePrefix + threadNumber.getAndIncrement(), 0); if (t.isDaemon()) t.setDaemon(false); if (t.getPriority() != Thread.NORM_PRIORITY) t.setPriority(Thread.NORM_PRIORITY); return t; &#125; &#125; ThreadFactoryçš„é»˜è®¤å®žçŽ°DefaultThreadFactoryå°±æ˜¯æä¾›åˆ›å»ºçº¿ç¨‹åŠŸèƒ½çš„çº¿ç¨‹å·¥åŽ‚ã€‚ä»–æ˜¯é€šè¿‡newThread()æ–¹æ³•æä¾›åˆ›å»ºçº¿ç¨‹çš„åŠŸèƒ½ï¼ŒnewThread()æ–¹æ³•åˆ›å»ºçš„çº¿ç¨‹éƒ½æ˜¯â€œéžå®ˆæŠ¤çº¿ç¨‹â€è€Œä¸”â€œçº¿ç¨‹ä¼˜å…ˆçº§éƒ½æ˜¯Thread.NORM_PRIORITYâ€ã€‚ handleræ‹’ç»ç­–ç•¥è™½ç„¶æˆ‘ä»¬æœ‰äº†é˜»å¡žé˜Ÿåˆ—æ¥å¯¹ä»»åŠ¡è¿›è¡Œç¼“å­˜ï¼Œè¿™ä»Žä¸€å®šç¨‹åº¦ä¸Šä¸ºçº¿ç¨‹æ± çš„æ‰§è¡Œæä¾›äº†ç¼“å†²æœŸï¼Œä½†æ˜¯å¦‚æžœæ˜¯æœ‰ç•Œçš„é˜»å¡žé˜Ÿåˆ—ï¼Œé‚£å°±å­˜åœ¨é˜Ÿåˆ—æ»¡çš„æƒ…å†µï¼Œä¹Ÿå­˜åœ¨å·¥ä½œçº¿ç¨‹çš„æ•°æ®å·²ç»è¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°çš„æ—¶å€™ã€‚å¦‚æžœè¿™æ—¶å€™å†æœ‰æ–°çš„ä»»åŠ¡æäº¤æ—¶ï¼Œæ˜¾ç„¶çº¿ç¨‹æ± å·²ç»å¿ƒæœ‰ä½™è€ŒåŠ›ä¸è¶³äº†ï¼Œå› ä¸ºæ—¢æ²¡æœ‰ç©ºä½™çš„é˜Ÿåˆ—ç©ºé—´æ¥å­˜æ”¾è¯¥ä»»åŠ¡ï¼Œä¹Ÿæ— æ³•åˆ›å»ºæ–°çš„çº¿ç¨‹æ¥æ‰§è¡Œè¯¥ä»»åŠ¡äº†ï¼Œæ‰€ä»¥è¿™æ—¶æˆ‘ä»¬å°±éœ€è¦æœ‰ä¸€ç§æ‹’ç»ç­–ç•¥ï¼Œå³ handlerã€‚ RejectedExecutionHandlerï¼Œçº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥ã€‚æ‰€è°“æ‹’ç»ç­–ç•¥ï¼Œæ˜¯æŒ‡å°†ä»»åŠ¡æ·»åŠ åˆ°çº¿ç¨‹æ± ä¸­æ—¶ï¼Œçº¿ç¨‹æ± æ‹’ç»è¯¥ä»»åŠ¡æ‰€é‡‡å–çš„ç›¸åº”ç­–ç•¥ã€‚å½“å‘çº¿ç¨‹æ± ä¸­æäº¤ä»»åŠ¡æ—¶ï¼Œå¦‚æžœæ­¤æ—¶çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å·²ç»é¥±å’Œäº†ï¼Œè€Œä¸”é˜»å¡žé˜Ÿåˆ—ä¹Ÿå·²ç»æ»¡äº†ï¼Œåˆ™çº¿ç¨‹æ± ä¼šé€‰æ‹©ä¸€ç§æ‹’ç»ç­–ç•¥æ¥å¤„ç†è¯¥ä»»åŠ¡ã€‚ çº¿ç¨‹æ± æä¾›äº†å››ç§æ‹’ç»ç­–ç•¥ï¼š AbortPolicyï¼šç›´æŽ¥æŠ›å‡ºå¼‚å¸¸ï¼Œé»˜è®¤ç­–ç•¥ï¼› CallerRunsPolicyï¼šç”¨è°ƒç”¨è€…æ‰€åœ¨çš„çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼› DiscardOldestPolicyï¼šä¸¢å¼ƒé˜»å¡žé˜Ÿåˆ—ä¸­é æœ€å‰çš„ä»»åŠ¡ï¼Œå¹¶æ‰§è¡Œå½“å‰ä»»åŠ¡ï¼› DiscardPolicyï¼šç›´æŽ¥ä¸¢å¼ƒä»»åŠ¡ï¼› å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å®žçŽ°è‡ªå·±çš„æ‹’ç»ç­–ç•¥ï¼Œä¾‹å¦‚è®°å½•æ—¥å¿—ç­‰ç­‰ï¼Œå®žçŽ°RejectedExecutionHandleræŽ¥å£å³å¯ã€‚ çº¿ç¨‹æ± çš„å·¥ä½œæµç¨‹äº†è§£äº†çº¿ç¨‹æ± ä¸­æ‰€æœ‰çš„é‡è¦å±žæ€§ä¹‹åŽï¼ŒçŽ°åœ¨æˆ‘ä»¬éœ€è¦æ¥äº†è§£ä¸‹çº¿ç¨‹æ± çš„å·¥ä½œæµç¨‹äº†ã€‚ ä¸Šå›¾æ˜¯ä¸€å¼ çº¿ç¨‹æ± å·¥ä½œçš„ç²¾ç®€å›¾ï¼Œå®žé™…çš„è¿‡ç¨‹æ¯”è¿™ä¸ªè¦å¤æ‚çš„å¤šï¼Œä¸è¿‡è¿™äº›åº”è¯¥èƒ½å¤Ÿå®Œå…¨è¦†ç›–åˆ°çº¿ç¨‹æ± çš„æ•´ä¸ªå·¥ä½œæµç¨‹äº†ã€‚ æ•´ä¸ªè¿‡ç¨‹å¯ä»¥æ‹†åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š æäº¤ä»»åŠ¡ å½“å‘çº¿ç¨‹æ± æäº¤ä¸€ä¸ªæ–°çš„ä»»åŠ¡æ—¶ï¼Œçº¿ç¨‹æ± æœ‰ä¸‰ç§å¤„ç†æƒ…å†µï¼Œåˆ†åˆ«æ˜¯ï¼šåˆ›å»ºä¸€ä¸ªå·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œè¯¥ä»»åŠ¡ã€å°†ä»»åŠ¡åŠ å…¥é˜»å¡žé˜Ÿåˆ—ã€æ‹’ç»è¯¥ä»»åŠ¡ã€‚ æäº¤ä»»åŠ¡çš„è¿‡ç¨‹ä¹Ÿå¯ä»¥æ‹†åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š å½“å·¥ä½œçº¿ç¨‹æ•°å°äºŽæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ï¼Œç›´æŽ¥åˆ›å»ºæ–°çš„æ ¸å¿ƒå·¥ä½œçº¿ç¨‹ å½“å·¥ä½œçº¿ç¨‹æ•°ä¸å°äºŽæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ï¼Œå°±éœ€è¦å°è¯•å°†ä»»åŠ¡æ·»åŠ åˆ°é˜»å¡žé˜Ÿåˆ—ä¸­åŽ» å¦‚æžœèƒ½å¤ŸåŠ å…¥æˆåŠŸï¼Œè¯´æ˜Žé˜Ÿåˆ—è¿˜æ²¡æœ‰æ»¡ï¼Œé‚£ä¹ˆéœ€è¦åšä»¥ä¸‹çš„äºŒæ¬¡éªŒè¯æ¥ä¿è¯æ·»åŠ è¿›åŽ»çš„ä»»åŠ¡èƒ½å¤ŸæˆåŠŸè¢«æ‰§è¡Œ éªŒè¯å½“å‰çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€ï¼Œå¦‚æžœæ˜¯éžRUNNINGçŠ¶æ€ï¼Œåˆ™éœ€è¦å°†ä»»åŠ¡ä»Žé˜»å¡žé˜Ÿåˆ—ä¸­ç§»é™¤ï¼Œç„¶åŽæ‹’ç»è¯¥ä»»åŠ¡ éªŒè¯å½“å‰çº¿ç¨‹æ± ä¸­çš„å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°ï¼Œå¦‚æžœä¸º0ï¼Œåˆ™éœ€è¦ä¸»åŠ¨æ·»åŠ ä¸€ä¸ªç©ºå·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œåˆšåˆšæ·»åŠ åˆ°é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ å¦‚æžœåŠ å…¥å¤±è´¥ï¼Œåˆ™è¯´æ˜Žé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆè¿™æ—¶å°±éœ€è¦åˆ›å»ºæ–°çš„â€œä¸´æ—¶â€å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ å¦‚æžœåˆ›å»ºæˆåŠŸï¼Œåˆ™ç›´æŽ¥æ‰§è¡Œè¯¥ä»»åŠ¡ å¦‚æžœåˆ›å»ºå¤±è´¥ï¼Œåˆ™è¯´æ˜Žå·¥ä½œçº¿ç¨‹æ•°å·²ç»ç­‰äºŽæœ€å¤§çº¿ç¨‹æ•°äº†ï¼Œåˆ™åªèƒ½æ‹’ç»è¯¥ä»»åŠ¡äº† æ•´ä¸ªè¿‡ç¨‹å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ å›¾æ¥è¡¨ç¤ºï¼š åˆ›å»ºå·¥ä½œçº¿ç¨‹åˆ›å»ºå·¥ä½œçº¿ç¨‹éœ€è¦åšä¸€ç³»åˆ—çš„åˆ¤æ–­ï¼Œéœ€è¦ç¡®ä¿å½“å‰çº¿ç¨‹æ± å¯ä»¥åˆ›å»ºæ–°çš„çº¿ç¨‹ä¹‹åŽï¼Œæ‰èƒ½åˆ›å»ºã€‚ é¦–å…ˆï¼Œå½“çº¿ç¨‹æ± çš„çŠ¶æ€æ˜¯ SHUTDOWN æˆ–è€… STOP æ—¶ï¼Œåˆ™ä¸èƒ½åˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚ å¦å¤–ï¼Œå½“çº¿ç¨‹å·¥åŽ‚åˆ›å»ºçº¿ç¨‹å¤±è´¥æ—¶ï¼Œä¹Ÿä¸èƒ½åˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚ è¿˜æœ‰å°±æ˜¯å½“å‰å·¥ä½œçº¿ç¨‹çš„æ•°é‡ä¸Žæ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æžœå‰è€…å¤§äºŽåŽè€…çš„è¯ï¼Œä¹Ÿä¸å…è®¸åˆ›å»ºã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œä¼šå°è¯•é€šè¿‡ CAS æ¥è‡ªå¢žå·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°ï¼Œå¦‚æžœè‡ªå¢žæˆåŠŸäº†ï¼Œåˆ™ä¼šåˆ›å»ºæ–°çš„å·¥ä½œçº¿ç¨‹ï¼Œå³ Worker å¯¹è±¡ã€‚ ç„¶åŽåŠ é”è¿›è¡ŒäºŒæ¬¡éªŒè¯æ˜¯å¦èƒ½å¤Ÿåˆ›å»ºå·¥ä½œçº¿ç¨‹ï¼Œæœ€åŽå¦‚æžœåˆ›å»ºæˆåŠŸï¼Œåˆ™ä¼šå¯åŠ¨è¯¥å·¥ä½œçº¿ç¨‹ã€‚ å¯åŠ¨å·¥ä½œçº¿ç¨‹å½“å·¥ä½œçº¿ç¨‹åˆ›å»ºæˆåŠŸåŽï¼Œä¹Ÿå°±æ˜¯ Worker å¯¹è±¡å·²ç»åˆ›å»ºå¥½äº†ï¼Œè¿™æ—¶å°±éœ€è¦å¯åŠ¨è¯¥å·¥ä½œçº¿ç¨‹ï¼Œè®©çº¿ç¨‹å¼€å§‹å¹²æ´»äº†ï¼ŒWorker å¯¹è±¡ä¸­å…³è”ç€ä¸€ä¸ª Threadï¼Œæ‰€ä»¥è¦å¯åŠ¨å·¥ä½œçº¿ç¨‹çš„è¯ï¼Œåªè¦é€šè¿‡ worker.thread.start() æ¥å¯åŠ¨è¯¥çº¿ç¨‹å³å¯ã€‚ å¯åŠ¨å®Œäº†ä¹‹åŽï¼Œå°±ä¼šæ‰§è¡Œ Worker å¯¹è±¡çš„ run æ–¹æ³•ï¼Œå› ä¸º Worker å®žçŽ°äº† Runnable æŽ¥å£ï¼Œæ‰€ä»¥æœ¬è´¨ä¸Š Worker ä¹Ÿæ˜¯ä¸€ä¸ªçº¿ç¨‹ã€‚ é€šè¿‡çº¿ç¨‹ start å¼€å¯ä¹‹åŽå°±ä¼šè°ƒç”¨åˆ° Runnable çš„ run æ–¹æ³•ï¼Œåœ¨ worker å¯¹è±¡çš„ run æ–¹æ³•ä¸­ï¼Œè°ƒç”¨äº† runWorker(this) æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯æŠŠå½“å‰å¯¹è±¡ä¼ é€’ç»™äº† runWorker æ–¹æ³•ï¼Œè®©ä»–æ¥æ‰§è¡Œã€‚ èŽ·å–ä»»åŠ¡å¹¶æ‰§è¡Œåœ¨ runWorker æ–¹æ³•è¢«è°ƒç”¨ä¹‹åŽï¼Œå°±æ˜¯æ‰§è¡Œå…·ä½“çš„ä»»åŠ¡äº†ï¼Œé¦–å…ˆéœ€è¦æ‹¿åˆ°ä¸€ä¸ªå¯ä»¥æ‰§è¡Œçš„ä»»åŠ¡ï¼Œè€Œ Worker å¯¹è±¡ä¸­é»˜è®¤ç»‘å®šäº†ä¸€ä¸ªä»»åŠ¡ï¼Œå¦‚æžœè¯¥ä»»åŠ¡ä¸ä¸ºç©ºçš„è¯ï¼Œé‚£ä¹ˆå°±æ˜¯ç›´æŽ¥æ‰§è¡Œã€‚ æ‰§è¡Œå®Œäº†ä¹‹åŽï¼Œå°±ä¼šåŽ»é˜»å¡žé˜Ÿåˆ—ä¸­èŽ·å–ä»»åŠ¡æ¥æ‰§è¡Œï¼Œè€ŒèŽ·å–ä»»åŠ¡çš„è¿‡ç¨‹ï¼Œéœ€è¦è€ƒè™‘å½“å‰å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°ã€‚ å¦‚æžœå·¥ä½œçº¿ç¨‹æ•°å¤§äºŽæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆå°±éœ€è¦é€šè¿‡ poll æ¥èŽ·å–ï¼Œå› ä¸ºè¿™æ—¶éœ€è¦å¯¹é—²ç½®çš„çº¿ç¨‹è¿›è¡Œå›žæ”¶ï¼› å¦‚æžœå·¥ä½œçº¿ç¨‹æ•°å°äºŽç­‰äºŽæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡ take æ¥èŽ·å–äº†ï¼Œå› æ­¤è¿™æ—¶æ‰€æœ‰çš„çº¿ç¨‹éƒ½æ˜¯æ ¸å¿ƒçº¿ç¨‹ï¼Œä¸éœ€è¦è¿›è¡Œå›žæ”¶ï¼Œå‰ææ˜¯æ²¡æœ‰è®¾ç½® allowCoreThreadTimeOut æœ¬ç¯‡åŸºæœ¬ç¬”è€…éƒ½æ˜¯å¯¹çº¿ç¨‹æ± çš„åŸºæœ¬æ¨¡åž‹ä»¥åŠå†…éƒ¨æ¦‚å¿µè¿›è¡Œåˆ†æžï¼Œè¯´å®žè¯ï¼Œå†™å®Œä¹‹åŽè¯»äº†ä¸€éï¼Œæ¯”è¾ƒæŠ½è±¡éš¾ç†è§£ï¼Œä¸‹ç¯‡æˆ‘å°†ä»¥JDKæºç è¿›è¡Œå¯¼è¯»ï¼Œç»§ç»­æŽ¢ç©¶çº¿ç¨‹æ± çš„å·¥ä½œåŽŸç†ï¼Œæ•¬è¯·æœŸå¾…ã€‚ã€‚ã€‚ å‚è€ƒèµ„æ–™ ã€æ­»ç£•Javaå¹¶å‘ã€‘â€”â€“J.U.Cä¹‹çº¿ç¨‹æ± ï¼šThreadPoolExecutor\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"slug\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"permalink\":\"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/\"}]},{\"title\":\"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€\",\"slug\":\"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€\",\"date\":\"2018-06-08T14:45:07.000Z\",\"updated\":\"2019-11-20T15:08:57.568Z\",\"comments\":true,\"path\":\"2018/06/08/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/06/08/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€/\",\"excerpt\":\"\",\"text\":\"çº¿ç¨‹æ± æ˜¯é™åˆ¶ç³»ç»Ÿä¸­æ‰§è¡Œçº¿ç¨‹çš„æ•°é‡ï¼Œå¹¶èƒ½å¤Ÿæ ¹æ®ä¸€å®šçš„ç­–ç•¥å›žæ”¶çº¿ç¨‹å¹¶é‡å¤ä½¿ç”¨ã€‚JDK1.5ä¹‹åŽåŠ å…¥äº†java.util.concurrentåŒ…ï¼Œæˆ‘ä»¬æ—¥å¸¸ç§°ä¹‹ä¸ºJ.U.Cå¹¶å‘åŒ…ï¼Œè¿™ä¸ªåŒ…å¯¹æˆ‘ä»¬æ—¥å¸¸è§£å†³å¹¶å‘æä¾›äº†éžå¸¸å¤§çš„å¸®åŠ©ã€‚ æ ¹æ®ç³»ç»Ÿçš„çŽ¯å¢ƒæƒ…å†µï¼Œå¯ä»¥è‡ªåŠ¨æˆ–æ‰‹åŠ¨è®¾ç½®çº¿ç¨‹æ•°é‡ï¼Œè¾¾åˆ°è¿è¡Œçš„æœ€ä½³æ•ˆæžœï¼›å°‘äº†æµªè´¹äº†ç³»ç»Ÿèµ„æºï¼Œå¤šäº†é€ æˆç³»ç»Ÿæ‹¥æŒ¤æ•ˆçŽ‡ä¸é«˜ã€‚ç”¨çº¿ç¨‹æ± æŽ§åˆ¶çº¿ç¨‹æ•°é‡ï¼Œå…¶ä»–çº¿ç¨‹æŽ’é˜Ÿç­‰å€™ã€‚ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå†ä»Žé˜Ÿåˆ—çš„ä¸­å–æœ€å‰é¢çš„ä»»åŠ¡å¼€å§‹æ‰§è¡Œã€‚è‹¥é˜Ÿåˆ—ä¸­æ²¡æœ‰ç­‰å¾…è¿›ç¨‹ï¼Œçº¿ç¨‹æ± çš„è¿™ä¸€èµ„æºå¤„äºŽç­‰å¾…ã€‚å½“ä¸€ä¸ªæ–°ä»»åŠ¡éœ€è¦è¿è¡Œæ—¶ï¼Œå¦‚æžœçº¿ç¨‹æ± ä¸­æœ‰ç­‰å¾…çš„å·¥ä½œçº¿ç¨‹ï¼Œå°±å¯ä»¥å¼€å§‹è¿è¡Œäº†ï¼›å¦åˆ™è¿›å…¥ç­‰å¾…é˜Ÿåˆ—ã€‚ ä¸“ä¸šè§£é‡Š:çº¿ç¨‹æ± ç®¡ç†ä¸€ä¸ªå·¥ä½œè€…çº¿ç¨‹çš„åŒæž„æ± ï¼Œçº¿ç¨‹æ± æ˜¯ä¸Žå·¥ä½œé˜Ÿåˆ—ç´§å¯†ç»‘å®šã€‚æ‰€è°“å·¥ä½œé˜Ÿåˆ—ï¼Œå…¶ä½œç”¨æ˜¯æŒæœ‰æ‰€æœ‰ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡ã€‚å·¥ä½œè€…çº¿ç¨‹çš„ç”Ÿæ´»ä»Žæ­¤è½»æ¾èµ·æ¥:å®ƒä»Žå·¥ä½œé˜Ÿåˆ—ä¸­èŽ·å–ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œæ‰§è¡Œå®ƒï¼Œç„¶åŽå›žæ¥ç»§ç»­ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹ã€‚ æ˜¾ç¤ºåˆ›å»ºçº¿ç¨‹å¼Šç«¯åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¦‚æžœæ¯æ¬¡æ˜¾ç¤ºçš„new Thread().start()ï¼Œä¼šå­˜åœ¨å¾ˆå¤§çš„æ€§èƒ½ç¼ºé™·: çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸçš„å¼€é”€æ¯”è¾ƒå¤§ã€‚çº¿ç¨‹çš„åˆ›å»ºä¸Žå…³é—­éƒ½å¾ˆè€—æ—¶ï¼Œå¯¹äºŽè®¡ç®—æœºæ¥è®²ï¼Œæ˜¯ä¸ªä¸å®¹æ˜“çš„äº‹æƒ…ã€‚ æ´»åŠ¨çº¿ç¨‹ä¼šå¾ˆæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œå°¤å…¶æ˜¯å†…å­˜ã€‚å¦‚æžœå¯è¿è¡Œçš„çº¿ç¨‹æ•°å¤šäºŽå¯ç”¨çš„å¤„ç†å™¨å†…æ ¸æ•°é‡ã€‚å¦‚æžœå¤§é‡çº¿ç¨‹ç©ºé—²ï¼Œä¼šå ç”¨æ›´å¤šçš„å†…å­˜ï¼Œç»™åžƒåœ¾å›žæ”¶å¸¦æ¥åŽ‹åŠ›ã€‚å¦‚æžœå¤§é‡çº¿ç¨‹ç¹å¿™ï¼Œå¯¼è‡´å¤§é‡çº¿ç¨‹åŒæ—¶ç«žäº‰CPUèµ„æºï¼Œæ€§èƒ½å¼€é”€å¤šï¼Œé€ æˆç¨‹åºå‡æ­»ï¼Œè®¡ç®—æœºæ­»æœºç­‰å±å®³ã€‚ ç¨³å®šæ€§å’Œå¯ç»´æŠ¤æ€§å·®ã€‚åˆ†æ•£çš„çº¿ç¨‹å¤šäº†æ— æ³•é›†ä¸­å¼ç®¡ç†ï¼Œä»Žè€Œå¯¼è‡´æ„æƒ³ä¸åˆ°çš„BUGï¼Œæ¯”å¦‚ä¸€ç›´åˆ›å»ºçº¿ç¨‹é€ æˆçš„OOMé—®é¢˜ã€‚ Executoræ¡†æž¶ä½œä¸ºçº¿ç¨‹æ± çš„ä¸€éƒ¨åˆ†ï¼ŒJDK1.5ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªä½¿ç”¨æœ‰ç•Œé˜Ÿåˆ—é˜²æ­¢åº”ç”¨ç¨‹åºè¿‡è½½è€Œè€—å°½å†…å­˜çš„Executoræ¡†æž¶ï¼Œè¯¥çº¿ç¨‹æ± å®žçŽ°ç»†èŠ‚åœ¨java.util.comcurrentåŒ…ä¸‹ï¼ˆç®€ç§°å¹¶å‘åŒ…/J.U.CåŒ…ï¼‰ã€‚åœ¨Javaç±»åº“ä¸­ï¼Œä»»åŠ¡æ‰§è¡Œçš„é¦–è¦æŠ½è±¡ä¸æ˜¯Threadï¼Œè€Œæ˜¯Executorï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ˜¯ç®€å•Executoræ¡†æž¶æŠ½è±¡ä¾èµ–: Executoråªæ˜¯ç®€å•çš„æŽ¥å£ï¼Œè¿™ä¸ªæ¡†æž¶å¯ä»¥ç”¨äºŽå¼‚æ­¥ä»»åŠ¡æ‰§è¡Œï¼Œè€Œä¸”æ”¯æŒå¤šç§ç±»åž‹çš„ä»»åŠ¡æ‰§è¡Œç­–ç•¥ã€‚å®ƒä¸ºä»»åŠ¡æäº¤å’Œä»»åŠ¡æ‰§è¡Œä¹‹é—´çš„è§£è€¦æä¾›äº†æ ‡å‡†çš„æ–¹æ³•ï¼Œä¸ºä½¿ç”¨Runnableæè¿°ä»»åŠ¡æä¾›äº†é€šç”¨æ–¹å¼ã€‚Executorçš„å®žçŽ°è¿˜æä¾›äº†å¯¹ç”Ÿå‘½å‘¨æœŸçš„æ”¯æŒä»¥åŠé’©å­å‡½æ•°ï¼Œå¯ä»¥æ·»åŠ è¯¸å¦‚ç»Ÿè®¡æ”¶é›†ã€åº”ç”¨ç¨‹åºç®¡ç†æœºåˆ¶å’Œç›‘è§†å™¨ç­‰æ‰©å±•ã€‚ ExecutoråŸºäºŽç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ã€‚æäº¤ä»»åŠ¡çš„æ‰§è¡Œè€…æ˜¯ç”Ÿäº§è€…(äº§ç”Ÿå¾…å®Œæˆçš„å·¥ä½œå•å…ƒ)ï¼Œæ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹æ˜¯æ¶ˆè´¹è€…(æ¶ˆè€—æŽ‰è¿™äº›å·¥ä½œå•å…ƒ)ã€‚Executorï¼Œä»»åŠ¡çš„æ‰§è¡Œè€…ï¼Œçº¿ç¨‹æ± æ¡†æž¶ä¸­å‡ ä¹Žæ‰€æœ‰ç±»éƒ½ç›´æŽ¥æˆ–è€…é—´æŽ¥å®žçŽ°ExecutoræŽ¥å£ï¼Œå®ƒæ˜¯çº¿ç¨‹æ± æ¡†æž¶çš„åŸºç¡€ã€‚Executoræä¾›äº†ä¸€ç§å°†â€œä»»åŠ¡æäº¤â€ä¸Žâ€œä»»åŠ¡æ‰§è¡Œâ€åˆ†ç¦»å¼€æ¥çš„æœºåˆ¶ï¼Œå®ƒä»…æä¾›äº†ä¸€ä¸ªExecute()æ–¹æ³•ç”¨æ¥æ‰§è¡Œå·²ç»æäº¤çš„Runnableä»»åŠ¡ã€‚ ExecutoræŽ¥å£æ¦‚è¿°12345678package java.util.concurrent;public interface Executor &#123; /** * æ–¹æ³•æè¿°ï¼šæŠ½è±¡å‡ºæ¥çš„ä»»åŠ¡æ‰§è¡Œæ–¹æ³•ï¼Œæ–¹ä¾¿åŽç»­ä¸åŒç±»åž‹çš„çº¿ç¨‹æ± çš„æ‰§è¡Œ * å‚æ•°æè¿°ï¼šRunnableçº¿ç¨‹ä»»åŠ¡å¯¹è±¡ */ void execute(Runnable command);&#125; ExcutorServiceæŽ¥å£æ¦‚è¿°ç»§æ‰¿Executorï¼Œå®ƒæ˜¯â€œæ‰§è¡Œè€…æœåŠ¡â€æŽ¥å£ï¼Œå®ƒæ˜¯ä¸ºâ€æ‰§è¡Œè€…æŽ¥å£Executorâ€æœåŠ¡è€Œå­˜åœ¨çš„ã€‚å‡†ç¡®çš„åœ°è¯´ï¼ŒExecutorServiceæä¾›äº†â€å°†ä»»åŠ¡æäº¤ç»™æ‰§è¡Œè€…çš„æŽ¥å£(submitæ–¹æ³•)â€ï¼Œâ€è®©æ‰§è¡Œè€…æ‰§è¡Œä»»åŠ¡(invokeAll, invokeAnyæ–¹æ³•)â€çš„æŽ¥å£ç­‰ç­‰ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778package java.util.concurrent;import java.util.List;import java.util.Collection;public interface ExecutorService extends Executor &#123; /** * å¯åŠ¨ä¸€æ¬¡é¡ºåºå…³é—­ï¼Œæ‰§è¡Œä»¥å‰æäº¤çš„ä»»åŠ¡ï¼Œä½†ä¸æŽ¥å—æ–°ä»»åŠ¡ */ void shutdown(); /** * è¯•å›¾åœæ­¢æ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„æ´»åŠ¨ä»»åŠ¡ï¼Œæš‚åœå¤„ç†æ­£åœ¨ç­‰å¾…çš„ä»»åŠ¡ï¼Œå¹¶è¿”å›žç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ */ List&lt;Runnable&gt; shutdownNow(); /** * å¦‚æžœæ­¤æ‰§è¡Œç¨‹åºå·²å…³é—­ï¼Œåˆ™è¿”å›ž trueã€‚ */ boolean isShutdown(); /** * å¦‚æžœå…³é—­åŽæ‰€æœ‰ä»»åŠ¡éƒ½å·²å®Œæˆï¼Œåˆ™è¿”å›ž true */ boolean isTerminated(); /** * è¯·æ±‚å…³é—­ã€å‘ç”Ÿè¶…æ—¶æˆ–è€…å½“å‰çº¿ç¨‹ä¸­æ–­ï¼Œæ— è®ºå“ªä¸€ä¸ªé¦–å…ˆå‘ç”Ÿä¹‹åŽï¼Œéƒ½å°†å¯¼è‡´é˜»å¡žï¼Œç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆæ‰§è¡Œ */ boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException; /** * æäº¤ä¸€ä¸ªè¿”å›žå€¼çš„ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œè¿”å›žä¸€ä¸ªè¡¨ç¤ºä»»åŠ¡çš„æœªå†³ç»“æžœçš„ Future */ &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task); /** * æäº¤ä¸€ä¸ª Runnable ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œå¹¶è¿”å›žä¸€ä¸ªè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ Future */ &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result); /** * æäº¤å¯è¿è¡Œçš„ä»»åŠ¡ä»¥ä¾›æ‰§è¡Œï¼Œå¹¶è¿”å›žæœªæ¥çš„ç»“æžœï¼Œå¹¶è¿”å›žç»™ç»™å®šç»“æžœ */ &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result); /** * æäº¤ä¸€ä¸ª Runnable ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œå¹¶è¿”å›žä¸€ä¸ªè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ Future */ Future&lt;?&gt; submit(Runnable task); /** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå½“æ‰€æœ‰ä»»åŠ¡å®Œæˆæ—¶ï¼Œè¿”å›žä¿æŒä»»åŠ¡çŠ¶æ€å’Œç»“æžœçš„ Future åˆ—è¡¨ */ &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException; /** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå½“æ‰€æœ‰ä»»åŠ¡å®Œæˆæˆ–è¶…æ—¶æœŸæ»¡æ—¶ï¼ˆæ— è®ºå“ªä¸ªé¦–å…ˆå‘ç”Ÿï¼‰ï¼Œè¿”å›žä¿æŒä»»åŠ¡çŠ¶æ€å’Œç»“æžœçš„ Future åˆ—è¡¨ */ &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException; /** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå¦‚æžœæŸä¸ªä»»åŠ¡å·²æˆåŠŸå®Œæˆï¼ˆä¹Ÿå°±æ˜¯æœªæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™è¿”å›žå…¶ç»“æžœ */ &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException, ExecutionException; /** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå¦‚æžœåœ¨ç»™å®šçš„è¶…æ—¶æœŸæ»¡å‰æŸä¸ªä»»åŠ¡å·²æˆåŠŸå®Œæˆï¼ˆä¹Ÿå°±æ˜¯æœªæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™è¿”å›žå…¶ç»“æžœ */ &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException;&#125; ExecutorServiceæŽ¥å£æ¦‚è¿°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172package java.util.concurrent;import java.util.List;import java.util.Collection;public interface ExecutorService extends Executor &#123;/** * å¯åŠ¨ä¸€æ¬¡é¡ºåºå…³é—­ï¼Œæ‰§è¡Œä»¥å‰æäº¤çš„ä»»åŠ¡ï¼Œä½†ä¸æŽ¥å—æ–°ä»»åŠ¡ */void shutdown();/** * è¯•å›¾åœæ­¢æ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„æ´»åŠ¨ä»»åŠ¡ï¼Œæš‚åœå¤„ç†æ­£åœ¨ç­‰å¾…çš„ä»»åŠ¡ï¼Œå¹¶è¿”å›žç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ */List&lt;Runnable&gt; shutdownNow();/** * å¦‚æžœæ­¤æ‰§è¡Œç¨‹åºå·²å…³é—­ï¼Œåˆ™è¿”å›ž trueã€‚ */boolean isShutdown();/** * å¦‚æžœå…³é—­åŽæ‰€æœ‰ä»»åŠ¡éƒ½å·²å®Œæˆï¼Œåˆ™è¿”å›ž true. */boolean isTerminated();/** * è¯·æ±‚å…³é—­ã€å‘ç”Ÿè¶…æ—¶æˆ–è€…å½“å‰çº¿ç¨‹ä¸­æ–­ï¼Œæ— è®ºå“ªä¸€ä¸ªé¦–å…ˆå‘ç”Ÿä¹‹åŽï¼Œéƒ½å°†å¯¼è‡´é˜»å¡žï¼Œç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆæ‰§è¡Œ */boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException;/** * æäº¤ä¸€ä¸ªè¿”å›žå€¼çš„ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œè¿”å›žä¸€ä¸ªè¡¨ç¤ºä»»åŠ¡çš„æœªå†³ç»“æžœçš„ Future */&lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task);/** * æäº¤ä¸€ä¸ª Runnable ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œå¹¶è¿”å›žä¸€ä¸ªè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ Future */&lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result);/** * æäº¤ä¸€ä¸ª Runnable ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œå¹¶è¿”å›žä¸€ä¸ªè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ Future */Future&lt;?&gt; submit(Runnable task);/** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå½“æ‰€æœ‰ä»»åŠ¡å®Œæˆæ—¶ï¼Œè¿”å›žä¿æŒä»»åŠ¡çŠ¶æ€å’Œç»“æžœçš„ Future åˆ—è¡¨ */&lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException;/** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå½“æ‰€æœ‰ä»»åŠ¡å®Œæˆæˆ–è¶…æ—¶æœŸæ»¡æ—¶ï¼ˆæ— è®ºå“ªä¸ªé¦–å…ˆå‘ç”Ÿï¼‰ï¼Œè¿”å›žä¿æŒä»»åŠ¡çŠ¶æ€å’Œç»“æžœçš„ Future åˆ—è¡¨ */&lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException;/** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå¦‚æžœæŸä¸ªä»»åŠ¡å·²æˆåŠŸå®Œæˆï¼ˆä¹Ÿå°±æ˜¯æœªæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™è¿”å›žå…¶ç»“æžœ */&lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException, ExecutionException;/** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå¦‚æžœåœ¨ç»™å®šçš„è¶…æ—¶æœŸæ»¡å‰æŸä¸ªä»»åŠ¡å·²æˆåŠŸå®Œæˆï¼ˆä¹Ÿå°±æ˜¯æœªæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™è¿”å›žå…¶ç»“æžœ */&lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException;&#125; AbstractExecutorServiceç±»æ¦‚è¿°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196package java.util.concurrent;import java.util.*;public abstract class AbstractExecutorService implements ExecutorService &#123; protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Runnable runnable, T value) &#123; return new FutureTask&lt;T&gt;(runnable, value); &#125; protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Callable&lt;T&gt; callable) &#123; return new FutureTask&lt;T&gt;(callable); &#125; public Future&lt;?&gt; submit(Runnable task) &#123; if (task == null) throw new NullPointerException(); RunnableFuture&lt;Void&gt; ftask = newTaskFor(task, null); execute(ftask); return ftask; &#125; public &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result) &#123; if (task == null) throw new NullPointerException(); RunnableFuture&lt;T&gt; ftask = newTaskFor(task, result); execute(ftask); return ftask; &#125; public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) &#123; if (task == null) throw new NullPointerException(); RunnableFuture&lt;T&gt; ftask = newTaskFor(task); execute(ftask); return ftask; &#125; private &lt;T&gt; T doInvokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, boolean timed, long nanos) throws InterruptedException, ExecutionException, TimeoutException &#123; if (tasks == null) throw new NullPointerException(); int ntasks = tasks.size(); if (ntasks == 0) throw new IllegalArgumentException(); ArrayList&lt;Future&lt;T&gt;&gt; futures = new ArrayList&lt;Future&lt;T&gt;&gt;(ntasks); ExecutorCompletionService&lt;T&gt; ecs = new ExecutorCompletionService&lt;T&gt;(this); try &#123; // Record exceptions so that if we fail to obtain any // result, we can throw the last exception we got. ExecutionException ee = null; final long deadline = timed ? System.nanoTime() + nanos : 0L; Iterator&lt;? extends Callable&lt;T&gt;&gt; it = tasks.iterator(); // Start one task for sure; the rest incrementally futures.add(ecs.submit(it.next())); --ntasks; int active = 1; for (;;) &#123; Future&lt;T&gt; f = ecs.poll(); if (f == null) &#123; if (ntasks &gt; 0) &#123; --ntasks; futures.add(ecs.submit(it.next())); ++active; &#125; else if (active == 0) break; else if (timed) &#123; f = ecs.poll(nanos, TimeUnit.NANOSECONDS); if (f == null) throw new TimeoutException(); nanos = deadline - System.nanoTime(); &#125; else f = ecs.take(); &#125; if (f != null) &#123; --active; try &#123; return f.get(); &#125; catch (ExecutionException eex) &#123; ee = eex; &#125; catch (RuntimeException rex) &#123; ee = new ExecutionException(rex); &#125; &#125; &#125; if (ee == null) ee = new ExecutionException(); throw ee; &#125; finally &#123; for (int i = 0, size = futures.size(); i &lt; size; i++) futures.get(i).cancel(true); &#125; &#125; public &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException, ExecutionException &#123; try &#123; return doInvokeAny(tasks, false, 0); &#125; catch (TimeoutException cannotHappen) &#123; assert false; return null; &#125; &#125; public &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException &#123; return doInvokeAny(tasks, true, unit.toNanos(timeout)); &#125; public &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException &#123; if (tasks == null) throw new NullPointerException(); ArrayList&lt;Future&lt;T&gt;&gt; futures = new ArrayList&lt;Future&lt;T&gt;&gt;(tasks.size()); boolean done = false; try &#123; for (Callable&lt;T&gt; t : tasks) &#123; RunnableFuture&lt;T&gt; f = newTaskFor(t); futures.add(f); execute(f); &#125; for (int i = 0, size = futures.size(); i &lt; size; i++) &#123; Future&lt;T&gt; f = futures.get(i); if (!f.isDone()) &#123; try &#123; f.get(); &#125; catch (CancellationException ignore) &#123; &#125; catch (ExecutionException ignore) &#123; &#125; &#125; &#125; done = true; return futures; &#125; finally &#123; if (!done) for (int i = 0, size = futures.size(); i &lt; size; i++) futures.get(i).cancel(true); &#125; &#125; public &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException &#123; if (tasks == null) throw new NullPointerException(); long nanos = unit.toNanos(timeout); ArrayList&lt;Future&lt;T&gt;&gt; futures = new ArrayList&lt;Future&lt;T&gt;&gt;(tasks.size()); boolean done = false; try &#123; for (Callable&lt;T&gt; t : tasks) futures.add(newTaskFor(t)); final long deadline = System.nanoTime() + nanos; final int size = futures.size(); // Interleave time checks and calls to execute in case // executor doesn't have any/much parallelism. for (int i = 0; i &lt; size; i++) &#123; execute((Runnable)futures.get(i)); nanos = deadline - System.nanoTime(); if (nanos &lt;= 0L) return futures; &#125; for (int i = 0; i &lt; size; i++) &#123; Future&lt;T&gt; f = futures.get(i); if (!f.isDone()) &#123; if (nanos &lt;= 0L) return futures; try &#123; f.get(nanos, TimeUnit.NANOSECONDS); &#125; catch (CancellationException ignore) &#123; &#125; catch (ExecutionException ignore) &#123; &#125; catch (TimeoutException toe) &#123; return futures; &#125; nanos = deadline - System.nanoTime(); &#125; &#125; done = true; return futures; &#125; finally &#123; if (!done) for (int i = 0, size = futures.size(); i &lt; size; i++) futures.get(i).cancel(true); &#125; &#125;&#125; æŠ½è±¡ç±»ï¼Œå®žçŽ°ExecutorServiceæŽ¥å£ï¼Œä¸ºå…¶æä¾›é»˜è®¤å®žçŽ°ã€‚AbstractExecutorServiceé™¤äº†å®žçŽ°ExecutorServiceæŽ¥å£å¤–ï¼Œè¿˜æä¾›äº†ä¸¤ä¸ªnewTaskFor()é‡è½½æ–¹æ³•ï¼Œä¸€ä¸ªæ”¯æŒRunnableä»»åŠ¡ï¼Œä¸€ä¸ªæ”¯æŒå¸¦æœ‰æ‰§è¡Œç»“æžœçš„Callableä»»åŠ¡ï¼Œæ‰§è¡ŒåŽè¿”å›žä¸€ä¸ªRunnableFutureï¼Œåœ¨è¿è¡Œçš„æ—¶å€™ï¼Œå®ƒå°†è°ƒç”¨åº•å±‚å¯è°ƒç”¨ä»»åŠ¡ï¼Œä½œä¸º Future ä»»åŠ¡ï¼Œå®ƒå°†ç”Ÿæˆå¯è°ƒç”¨çš„ç»“æžœä½œä¸ºå…¶ç»“æžœï¼Œå¹¶ä¸ºåº•å±‚ä»»åŠ¡æä¾›å–æ¶ˆæ“ä½œã€‚ åŒæ—¶è¯¥æŠ½è±¡ç±»ä¹Ÿæä¾›äº†ä¸¤ä¸ªsubmit()æ–¹æ³•ï¼Œä¸€ä¸ªåªæäº¤Runnableä»»åŠ¡ï¼Œä¸€ä¸ªæäº¤Runnableçš„ä»»åŠ¡å¹¶å°†è¿”å›žçš„æœªæ¥çš„é»˜è®¤å€¼å°è£…åˆ°ç¬¬äºŒä¸ªè¿”å›žå‚æ•°ä¸­ã€‚ ScheduledExecutorServiceæŽ¥å£æ¦‚è¿°1234567891011121314151617181920212223242526package java.util.concurrent;public interface ScheduledExecutorService extends ExecutorService &#123; /** * åˆ›å»ºå¹¶æ‰§è¡Œåœ¨ç»™å®šå»¶è¿ŸåŽå¯ç”¨çš„ ScheduledFutureã€‚ */ public ScheduledFuture&lt;?&gt; schedule(Runnable command, long delay, TimeUnit unit); /** * åˆ›å»ºå¹¶æ‰§è¡Œåœ¨ç»™å®šå»¶è¿ŸåŽå¯ç”¨çš„ä¸€æ¬¡æ€§æ“ä½œã€‚ */ public &lt;V&gt; ScheduledFuture&lt;V&gt; schedule(Callable&lt;V&gt; callable,long delay, TimeUnit unit); /** * åˆ›å»ºå¹¶æ‰§è¡Œä¸€ä¸ªåœ¨ç»™å®šåˆå§‹å»¶è¿ŸåŽé¦–æ¬¡å¯ç”¨çš„å®šæœŸæ“ä½œï¼ŒåŽç»­æ“ä½œå…·æœ‰ç»™å®šçš„å‘¨æœŸï¼› * ä¹Ÿå°±æ˜¯å°†åœ¨ initialDelay åŽå¼€å§‹æ‰§è¡Œï¼Œç„¶åŽåœ¨ initialDelay+period åŽæ‰§è¡Œï¼ŒæŽ¥ç€åœ¨ initialDelay+2* period åŽæ‰§è¡Œï¼Œä¾æ­¤ç±»æŽ¨ã€‚ */ public ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable command,long initialDelay, long period,TimeUnit unit); /** * åˆ›å»ºå¹¶æ‰§è¡Œä¸€ä¸ªåœ¨ç»™å®šåˆå§‹å»¶è¿ŸåŽé¦–æ¬¡å¯ç”¨çš„å®šæœŸæ“ä½œï¼ŒéšåŽï¼Œåœ¨æ¯ä¸€æ¬¡æ‰§è¡Œç»ˆæ­¢å’Œä¸‹ä¸€æ¬¡æ‰§è¡Œå¼€å§‹ä¹‹é—´éƒ½å­˜åœ¨ç»™å®šçš„å»¶è¿Ÿã€‚ */ public ScheduledFuture&lt;?&gt; scheduleWithFixedDelay(Runnable command,long initialDelay,long delay, TimeUnit unit);&#125; ThreadPoolExecutorç±»æ¦‚è¿°æˆ‘ä»¬Javaçº¿ç¨‹æ± ä¸»è¦æ˜¯å›´ç»•ThreadPoolExecutorç±»å±•å¼€çš„ï¼ŒåŽç»­ä¼šå¯¹ThreadPoolExecutorè¯¦è§£ã€‚ Executorsç±»æ¦‚è¿°å’ŒThreadPoolExecutorä¸€æ ·åŽç»­ä¼šè¯¦è§£ï¼Œè¯¥ç±»æ˜¯çº¿ç¨‹æ± çš„é™æ€å·¥åŽ‚ç±»ï¼Œæä¾›äº†Executorã€ExecutorServiceã€ScheduledExecutorServiceã€ThreadFactory ã€Callable ç­‰ç±»çš„é™æ€å·¥åŽ‚æ–¹æ³•ï¼Œé€šè¿‡è¿™äº›å·¥åŽ‚æ–¹æ³•æˆ‘ä»¬å¯ä»¥å¾—åˆ°ç›¸å¯¹åº”çš„å¯¹è±¡ã€‚ åˆ›å»ºå¹¶è¿”å›žè®¾ç½®æœ‰å¸¸ç”¨é…ç½®å­—ç¬¦ä¸²çš„ ExecutorService çš„æ–¹æ³•ã€‚ åˆ›å»ºå¹¶è¿”å›žè®¾ç½®æœ‰å¸¸ç”¨é…ç½®å­—ç¬¦ä¸²çš„ ScheduledExecutorService çš„æ–¹æ³•ã€‚ åˆ›å»ºå¹¶è¿”å›žâ€œåŒ…è£…çš„â€ExecutorService æ–¹æ³•ï¼Œå®ƒé€šè¿‡ä½¿ç‰¹å®šäºŽå®žçŽ°çš„æ–¹æ³•ä¸å¯è®¿é—®æ¥ç¦ç”¨é‡æ–°é…ç½®ã€‚ åˆ›å»ºå¹¶è¿”å›ž ThreadFactory çš„æ–¹æ³•ï¼Œå®ƒå¯å°†æ–°åˆ›å»ºçš„çº¿ç¨‹è®¾ç½®ä¸ºå·²çŸ¥çš„çŠ¶æ€ã€‚ åˆ›å»ºå¹¶è¿”å›žéžé—­åŒ…å½¢å¼çš„ Callable çš„æ–¹æ³•ï¼Œè¿™æ ·å¯å°†å…¶ç”¨äºŽéœ€è¦ Callable çš„æ‰§è¡Œæ–¹æ³•ä¸­ã€‚ FutureæŽ¥å£FutureæŽ¥å£å’Œå®žçŽ°FutureæŽ¥å£çš„FutureTaskä»£è¡¨äº†çº¿ç¨‹æ± çš„å¼‚æ­¥è®¡ç®—ç»“æžœã€‚ AbstractExecutorServiceæä¾›äº†newTaskFor()æ–¹æ³•è¿”å›žä¸€ä¸ªRunnableFutureï¼Œé™¤æ­¤ä¹‹å¤–å½“æˆ‘ä»¬æŠŠä¸€ä¸ªRunnableæˆ–è€…Callableæäº¤ç»™ï¼ˆsubmit()ï¼‰ThreadPoolExecutoræˆ–è€…ScheduledThreadPoolExecutoræ—¶ï¼Œä»–ä»¬åˆ™ä¼šå‘æˆ‘ä»¬è¿”å›žä¸€ä¸ªFutureTaskå¯¹è±¡ã€‚å¦‚ä¸‹ï¼š 1234567891011protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Runnable runnable, T value) &#123; return new FutureTask&lt;T&gt;(runnable, value);&#125;protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Callable&lt;T&gt; callable) &#123; return new FutureTask&lt;T&gt;(callable);&#125;&lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result) Future&lt;&gt; submit(Runnable task) FutureæŽ¥å£æ¦‚è¿°ä½œä¸ºå¼‚æ­¥è®¡ç®—çš„é¡¶å±‚æŽ¥å£ï¼ŒFutureå¯¹å…·ä½“çš„Runnableæˆ–è€…Callableä»»åŠ¡æä¾›äº†ä¸‰ç§æ“ä½œï¼šæ‰§è¡Œä»»åŠ¡çš„å–æ¶ˆã€æŸ¥è¯¢ä»»åŠ¡æ˜¯å¦å®Œæˆã€èŽ·å–ä»»åŠ¡çš„æ‰§è¡Œç»“æžœã€‚å…¶æŽ¥å£å®šä¹‰å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233package java.util.concurrent;public interface Future&lt;V&gt; &#123; /** * è¯•å›¾å–æ¶ˆå¯¹æ­¤ä»»åŠ¡çš„æ‰§è¡Œ * å¦‚æžœä»»åŠ¡å·²å®Œæˆã€æˆ–å·²å–æ¶ˆï¼Œæˆ–è€…ç”±äºŽæŸäº›å…¶ä»–åŽŸå› è€Œæ— æ³•å–æ¶ˆï¼Œåˆ™æ­¤å°è¯•å°†å¤±è´¥ã€‚ * å½“è°ƒç”¨ cancel æ—¶ï¼Œå¦‚æžœè°ƒç”¨æˆåŠŸï¼Œè€Œæ­¤ä»»åŠ¡å°šæœªå¯åŠ¨ï¼Œåˆ™æ­¤ä»»åŠ¡å°†æ°¸ä¸è¿è¡Œã€‚ * å¦‚æžœä»»åŠ¡å·²ç»å¯åŠ¨ï¼Œåˆ™ mayInterruptIfRunning å‚æ•°ç¡®å®šæ˜¯å¦åº”è¯¥ä»¥è¯•å›¾åœæ­¢ä»»åŠ¡çš„æ–¹å¼æ¥ä¸­æ–­æ‰§è¡Œæ­¤ä»»åŠ¡çš„çº¿ç¨‹ */ boolean cancel(boolean mayInterruptIfRunning); /** * å¦‚æžœåœ¨ä»»åŠ¡æ­£å¸¸å®Œæˆå‰å°†å…¶å–æ¶ˆï¼Œåˆ™è¿”å›ž true */ boolean isCancelled(); /** * å¦‚æžœä»»åŠ¡å·²å®Œæˆï¼Œåˆ™è¿”å›ž true */ boolean isDone(); /** * å¦‚æœ‰å¿…è¦ï¼Œç­‰å¾…è®¡ç®—å®Œæˆï¼Œç„¶åŽèŽ·å–å…¶ç»“æžœ */ V get() throws InterruptedException, ExecutionException; /** * å¦‚æœ‰å¿…è¦ï¼Œæœ€å¤šç­‰å¾…ä¸ºä½¿è®¡ç®—å®Œæˆæ‰€ç»™å®šçš„æ—¶é—´ä¹‹åŽï¼ŒèŽ·å–å…¶ç»“æžœï¼ˆå¦‚æžœç»“æžœå¯ç”¨ï¼‰ */ V get(long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException;&#125; RunnableFutureæŽ¥å£æ¦‚è¿°ç»§æ‰¿Futureã€Runnableä¸¤ä¸ªæŽ¥å£ï¼Œä¸ºä¸¤è€…çš„åˆä½“ï¼Œå³æ‰€è°“çš„Runnableçš„Futureã€‚æä¾›äº†ä¸€ä¸ªrun()æ–¹æ³•å¯ä»¥å®ŒæˆFutureå¹¶å…è®¸è®¿é—®å…¶ç»“æžœï¼Œå…¶æºç å¦‚ä¸‹ï¼š 123456package java.util.concurrent;public interface RunnableFuture&lt;V&gt; extends Runnable, Future&lt;V&gt; &#123; //åœ¨æœªè¢«å–æ¶ˆçš„æƒ…å†µä¸‹ï¼Œå°†æ­¤ Future è®¾ç½®ä¸ºè®¡ç®—çš„ç»“æžœ void run();&#125; FutureTaskæŽ¥å£æ¦‚è¿°å®žçŽ°RunnableFutureæŽ¥å£ï¼Œæ—¢å¯ä»¥ä½œä¸ºRunnableè¢«æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥ä½œä¸ºFutureå¾—åˆ°Callableçš„è¿”å›žå€¼ã€‚ å‚è€ƒèµ„æ–™ ã€ŠJavaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‹ ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾ J.U.Cä¹‹çº¿ç¨‹æ± ï¼šçº¿ç¨‹æ± çš„åŸºç¡€æž¶æž„\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"slug\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"permalink\":\"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/\"}]},{\"title\":\"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§\",\"slug\":\"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§\",\"date\":\"2018-06-03T02:11:44.000Z\",\"updated\":\"2019-05-29T14:03:52.000Z\",\"comments\":true,\"path\":\"2018/06/03/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/06/03/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§/\",\"excerpt\":\"\",\"text\":\"volatileè¿™ä¸ªå…³é”®å­—å¤§å®¶éƒ½å¬è¿‡ï¼Œçœ‹è¿‡è®¸å¤šæºç ä¹Ÿç”¨è¿‡ï¼Œè¿™ä¸ªå…³é”®å­—å¤‡å—äº‰è®®ï¼Œå¾ˆå¤šäººåŸºäºŽè¡¨é¢ç†è§£è€Œå¯¼è‡´åœ¨å®žé™…å¼€å‘è¿‡ç”Ÿä¸­å¤§è‚†è¯¯ç”¨ï¼Œæš´éœ²å‡ºå„å¼å„æ ·çš„é—®é¢˜ï¼Œè®©äººæ‘¸ä¸ç€å¤´è„‘ï¼Œä»Šå¤©æˆ‘ä»¬æ¥å¥½å¥½ç†è§£ä¸€ä¸‹volatileã€‚ ç™¾åº¦ç™¾ç§‘:volatileæ˜¯ä¸€ä¸ªç±»åž‹ä¿®é¥°ç¬¦.volatileçš„ä½œç”¨æ˜¯ä½œä¸ºæŒ‡ä»¤å…³é”®å­—ï¼Œç¡®ä¿æœ¬æ¡æŒ‡ä»¤ä¸ä¼šå› ç¼–è¯‘å™¨çš„ä¼˜åŒ–è€Œçœç•¥ï¼Œä¸”è¦æ±‚æ¯æ¬¡ç›´æŽ¥è¯»å€¼; volatileæ˜¯Javaè™šæ‹Ÿæœºæä¾›çš„è½»é‡çº§åŒæ­¥æœºåˆ¶çš„å…³é”®å­—ï¼Œä½¿è¢«ä¿®é¥°çš„å˜é‡åœ¨å¤šä¸ªçº¿ç¨‹å¯è§ï¼› volatileå˜é‡å…·æœ‰ synchronized çš„å¯è§æ€§ç‰¹æ€§ï¼Œä¸Žsynchronizeæœ‰ç›¸ä¼¼çš„åŒæ­¥åŠŸèƒ½ï¼Œä½†ä¸å…·å¤‡åŽŸå­ç‰¹æ€§ï¼Œåœ¨å¤šçº¿ç¨‹å¹¶å‘ä¸‹æ˜¯ä¸å®‰å…¨çš„ã€‚ ä¸¤ç§ç‰¹æ€§ç‰¹æ€§å½’çº³å½“ä¸€ä¸ªå˜é‡è¢«å®šä¹‰æˆvolatileä¹‹åŽï¼Œå®ƒå°†å…·å¤‡å¦‚ä¸‹ä¸¤ç§ç‰¹æ€§: ä¿è¯æ­¤å˜é‡å¯¹æ‰€æœ‰çº¿ç¨‹çš„å¯è§æ€§ã€‚å³æŒ‡å½“ä¸€æ¡çº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå˜é‡çš„å€¼ï¼Œæ–°å€¼å¯¹äºŽå…¶ä»–çº¿ç¨‹æ¥è¯´æ˜¯å¯ä»¥ç«‹å³æ„ŸçŸ¥çš„ï¼Œè€Œç›¸æ¯”ä¹‹ä¸‹ï¼Œæ™®é€šå˜é‡ä¸èƒ½åšåˆ°è¿™ç‚¹ï¼Œå˜é‡å€¼åœ¨çº¿ç¨‹é—´ä¼ é€’å‡éœ€è¦é€šè¿‡ä¸»å†…å­˜æ¥å®Œæˆã€‚æ¯”å¦‚çº¿ç¨‹1ä¿®æ”¹açš„å€¼ï¼Œç„¶åŽå‘ä¸»å†…å­˜è¿›è¡Œå›žå†™ï¼Œå¦å¤–ä¸€æ¡çº¿ç¨‹2åœ¨çº¿ç¨‹1å›žå†™å®Œæˆäº†ä¹‹åŽå†ä»Žä¸»å†…å­˜è¿›è¡Œè¯»å–æ“ä½œï¼Œæ–°å˜é‡çš„å€¼æ‰ä¼šå¯¹çº¿ç¨‹2å¯è§ã€‚ ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºä¼˜åŒ–ã€‚æ™®é€šå˜é‡ä»…ä»…ä¼šä¿è¯åœ¨è¯¥æ–¹æ³•çš„æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€æœ‰ä¾èµ–èµ‹å€¼ç»“æžœçš„åœ°æ–¹éƒ½èƒ½èŽ·å–åˆ°æ­£ç¡®çš„ç»“æžœï¼Œè€Œä¸èƒ½ä¿è¯å˜é‡èµ‹å€¼æ“ä½œçš„é¡ºåºä¸Žç¨‹åºä»£ç ä¸­çš„æ‰§è¡Œé¡ºåºä¸€è‡´ã€‚å› ä¸ºåœ¨ä¸€ä¸ªçº¿ç¨‹çš„æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­æ— æ³•æ„ŸçŸ¥åˆ°è¿™ç‚¹ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œçº¿ç¨‹å†…è¡¨çŽ°ä¸ºä¸²è¡Œçš„è¯­ä¹‰â€(Within-Thread As-If-Serial Semantics)ã€‚ ä»£ç ç¤ºä¾‹å¤šçº¿ç¨‹å¹¶å‘å®‰å…¨12345678910111213141516171819202122232425262728293031323334353637383940/** * @author tong.li * @description: volatileåªä¿è¯å†…å­˜é—´çº¿ç¨‹å¯è§æ€§,å¹¶ä¸ä¿è¯çº¿ç¨‹å®‰å…¨æ€§ * @date 2018-06-12 11:11:23 */public class VolatileTest &#123; //å…±äº«å˜é‡ public volatile int num = 0; //çº¿ç¨‹æ•°é‡ public static final int THREAD_COUNT = 20; public void add() &#123; //numè¿›è¡ŒéžåŽŸå­æ“ä½œ num++; &#125; public static void main(String[] args) &#123; final VolatileTest test = new VolatileTest(); //åˆ›å»º20ä¸ªçº¿ç¨‹ Thread[] threads = new Thread[THREAD_COUNT]; for (int i = 0; i &lt; THREAD_COUNT ; i++) &#123; threads[i] = new Thread(() -&gt; &#123; //å½“å‰çº¿ç¨‹æ“ä½œ10000æ¬¡å¯¹å…±äº«å˜é‡numè¿›è¡Œè‡ªåŠ æ“ä½œ for (int j = 0; j &lt; 10000; j++) &#123; test.add(); &#125; &#125;); //å¯åŠ¨å½“å‰çº¿ç¨‹ threads[i].start(); &#125; //æ´»åŠ¨çº¿ç¨‹çš„å½“å‰çº¿ç¨‹çš„çº¿ç¨‹ç»„ä¸­çš„æ•°é‡å¤§äºŽ1æ—¶,æ‰§è¡Œçº¿ç¨‹è®©æ­¥,è®©æ´»åŠ¨çš„çº¿ç¨‹å°½å¯èƒ½æ‰§è¡Œå®Œ // while (Thread.activeCount() &gt; 1) &#123; // Thread.yield(); //&#125; //æ‰“å°æœ€ç»ˆç»“æžœ,ç»“æžœå¤šæ•°å°äºŽ200000,ä¸ºä»€ä¹ˆå‘¢? System.out.println(\\\"num = \\\" + test.num); &#125;&#125; è¿è¡Œç»“æžœå¦‚ä¸‹: ç¬¬1æ¬¡ 1num = 132203 ç¬¬2æ¬¡ 1num = 160740 ç¬¬3æ¬¡ 1num = 187482 ä¸Šè¿°ä»£ç åˆ›å»º20ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹å¯¹numè¿›è¡Œ10000æ¬¡è‡ªå¢žæ“ä½œï¼Œå¦‚æžœä¸Šè¿°ä»£ç æ­£ç¡®å¹¶å‘ï¼ˆä¸è€ƒè™‘çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼‰çš„æƒ…å†µä¸‹ï¼Œæœ€åŽçš„ç»“æžœåº”è¯¥æ˜¯200000ï¼Œä½†æ˜¯ä¸ºå®žé™…ä¸‰æ¬¡è¿è¡Œç»“æžœä»¤äººåŒªå¤·æ‰€æ€ï¼Œå¤šæ¬¡çš„è¿è¡Œç»“æžœå¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ˜¯å°äºŽ200000ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ æˆ‘ä»¬éƒ½çŸ¥é“num++æ˜¯éžåŽŸå­æ€§æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•è¿›è¡Œjavapåç¼–è¯‘ä¸Šè¿°ä»£ç ä¸€æŽ¢ç©¶ç«Ÿï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137Yeamin:java mac$ javap -c VolatileTestCompiled from \\\"VolatileTest.java\\\"public class VolatileTest &#123; public volatile int num; public static final int THREAD_COUNT; public VolatileTest(); Code: 0: aload_0 1: invokespecial #1 // Method java/lang/Object.\\\"&lt;init&gt;\\\":()V 4: aload_0 5: iconst_0 6: putfield #2 // Field num:I 9: return public void add(); Code: 0: aload_0 1: dup 2: getfield #2 // Field num:I 5: iconst_1 6: iadd 7: putfield #2 // Field num:I 10: return public static void main(java.lang.String[]); Code: 0: new #3 // class VolatileTest 3: dup 4: invokespecial #4 // Method \\\"&lt;init&gt;\\\":()V 7: astore_1 8: bipush 20 10: anewarray #5 // class java/lang/Thread 13: astore_2 14: iconst_0 15: istore_3 16: iload_3 17: bipush 20 19: if_icmpge 52 22: aload_2 23: iload_3 24: new #5 // class java/lang/Thread 27: dup 28: new #6 // class VolatileTest$1 31: dup 32: aload_1 33: invokespecial #7 // Method VolatileTest$1.\\\"&lt;init&gt;\\\":(LVolatileTest;)V 36: invokespecial #8 // Method java/lang/Thread.\\\"&lt;init&gt;\\\":(Ljava/lang/Runnable;)V 39: aastore 40: aload_2 41: iload_3 42: aaload 43: invokevirtual #9 // Method java/lang/Thread.start:()V 46: iinc 3, 1 49: goto 16 52: invokestatic #10 // Method java/lang/Thread.activeCount:()I 55: iconst_1 56: if_icmple 65 59: invokestatic #11 // Method java/lang/Thread.yield:()V 62: goto 52 65: getstatic #12 // Field java/lang/System.out:Ljava/io/PrintStream; 68: new #13 // class java/lang/StringBuilder 71: dup 72: invokespecial #14 // Method java/lang/StringBuilder.\\\"&lt;init&gt;\\\":()V 75: ldc #15 // String num = 77: invokevirtual #16 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; 80: aload_1 81: getfield #2 // Field num:I 84: invokevirtual #17 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder; 87: invokevirtual #18 // Method java/lang/StringBuilder.toString:()Ljava/lang/String; 90: invokevirtual #19 // Method java/io/PrintStream.println:(Ljava/lang/String;)V 93: return&#125; åœ¨ä¸Šè¿°åç¼–è¯‘çš„å­—èŠ‚ç åˆ†æžå¾—çŸ¥ï¼Œnum++ä¸æ˜¯ä¸€ä¸ªåŽŸå­æ“ä½œï¼Œå³çº¿ç¨‹ä¸å®‰å…¨ï¼Œå¯ä»¥å°†num++ç®€å•åˆ†è§£æˆä»¥ä¸‹å‡ ä¸ªæ­¥éª¤: ä»Žå†…å­˜ä¸­å–å‡ºnumçš„å€¼ï¼› è®¡ç®—numçš„å€¼ï¼› å°†numçš„å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ add()æ–¹æ³•æœ‰6æ¡æŒ‡ä»¤ï¼ˆæ¯ä¸ªæŒ‡ä»¤å¯èƒ½å«æœ‰å¤šä¸ªåº•å±‚æŒ‡ä»¤æ“ä½œï¼Œåªä¸ºç ”ç©¶ï¼Œå¹¶ä¸å‡†ç¡®ï¼Œè¦æƒ³å‡†ç¡®ç ”ç©¶å»ºè®®ä½¿ç”¨-XX:+PrintAssemblyå‚æ•°è¾“å‡ºåæ±‡ç¼–ï¼‰ï¼Œå…¶ä¸­returnæŒ‡ä»¤å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œå› ä¸ºä¸æ˜¯num++äº§ç”Ÿçš„ã€‚ aload_0ï¼šåœ¨éžé™æ€æ–¹æ³•ä¸­ï¼Œaload_0 è¡¨ç¤ºå¯¹thisçš„æ“ä½œï¼Œåœ¨static æ–¹æ³•ä¸­ï¼Œaload_0è¡¨ç¤ºå¯¹æ–¹æ³•çš„ç¬¬ä¸€å‚æ•°çš„æ“ä½œï¼› dupï¼šå¤åˆ¶æ“ä½œæ•°æ ˆé¡¶å€¼ï¼Œå¹¶å°†å…¶åŽ‹å…¥æ ˆé¡¶ï¼Œåœ¨è¿™é‡Œæ˜¯å°†å½“å‰VolatileTestä¸‹newå¯¹è±¡åŽ‹å…¥æ ˆé¡¶ï¼› getfield/getstaticï¼šå°†æ ˆé¡¶çš„å¯¹è±¡ç¬¬äºŒä¸ªå®žä¾‹å­—æ®µåŽ‹å…¥æ ˆé¡¶ï¼Œå³å°†numçš„å€¼åŽ‹å…¥æ ˆé¡¶ï¼Œæ­¤æ—¶numçš„å€¼æ˜¯æœ€æ–°çš„ï¼› iconst_1ï¼šå°†intåž‹(1)æŽ¨é€è‡³æ ˆé¡¶ï¼Œå³æŠŠå¸¸é‡1åŽ‹å…¥æ ˆé¡¶ï¼› iaddï¼šæŠŠæ“ä½œæ•°æ ˆä¸­çš„å‰ä¸¤ä¸ªintå€¼å‡ºæ ˆå¹¶ç›¸åŠ ,æ“ä½œè¿‡åŽåªåœ¨stackä¸­ä¿ç•™ç»“æžœï¼Œå³ä½¿numå½“å‰å€¼+1ä¿ç•™åœ¨æ ˆä¸­ï¼Œè¿™é‡Œå¤šçº¿ç¨‹æ—¶å€™å¯èƒ½å‡ºçŽ°é—®é¢˜ï¼Œå…¶ä»–çº¿ç¨‹ç›¸åŠ çš„ç»“æžœä¼šè¦†ç›–å½“å‰æ ˆé¡¶çš„ç»“æžœï¼Œå› è€Œè¿”å›žè¾ƒå°çš„ç»“æžœã€‚ putfieldï¼šå°†æœ€ç»ˆçš„æ ˆé¡¶ç»“æžœçš„å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ï¼› returnï¼šæ ˆä¸­çš„æ•°æ®è¿”å›žåŽï¼Œç»“æŸæ–¹æ³• ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºvolatileå…³é”®å­—ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºæœ‰ä¸¤å±‚æ„æ€ï¼š å½“ç¨‹åºæ‰§è¡Œåˆ°volatileå˜é‡çš„è¯»æ“ä½œæˆ–è€…å†™æ“ä½œæ—¶ï¼Œåœ¨å…¶å‰é¢çš„æ“ä½œçš„æ›´æ”¹è‚¯å®šå…¨éƒ¨å·²ç»è¿›è¡Œï¼Œä¸”ç»“æžœå·²ç»å¯¹åŽé¢çš„æ“ä½œå¯è§ï¼›åœ¨å…¶åŽé¢çš„æ“ä½œè‚¯å®šè¿˜æ²¡æœ‰è¿›è¡Œï¼› åœ¨è¿›è¡ŒæŒ‡ä»¤ä¼˜åŒ–æ—¶ï¼Œä¸èƒ½å°†åœ¨å¯¹volatileå˜é‡è®¿é—®çš„è¯­å¥æ”¾åœ¨å…¶åŽé¢æ‰§è¡Œï¼Œä¹Ÿä¸èƒ½æŠŠvolatileå˜é‡åŽé¢çš„è¯­å¥æ”¾åˆ°å…¶å‰é¢æ‰§è¡Œã€‚ ä¸¾ä¸ªå®žä¾‹ï¼Œè¯·çœ‹ä¸‹é¢çš„ä»£ç : 1234567//xã€yä¸ºéžvolatileå˜é‡//flagä¸ºvolatileå˜é‡int x = 2; //è¯­å¥1int y = 0; //è¯­å¥2volatile boolean flag = true; //è¯­å¥3int x = 4; //è¯­å¥4int y = -1; //è¯­å¥5 ç”±äºŽflagå˜é‡ä¸ºvolatileå˜é‡ï¼Œé‚£ä¹ˆåœ¨è¿›è¡ŒæŒ‡ä»¤é‡æŽ’åºçš„è¿‡ç¨‹çš„æ—¶å€™ï¼Œä¸ä¼šå°†è¯­å¥3æ”¾åˆ°è¯­å¥1ã€è¯­å¥2å‰é¢ï¼Œä¹Ÿä¸ä¼šè®²è¯­å¥3æ”¾åˆ°è¯­å¥4ã€è¯­å¥5åŽé¢ã€‚ä½†æ˜¯è¦æ³¨æ„è¯­å¥1å’Œè¯­å¥2çš„é¡ºåºã€è¯­å¥4å’Œè¯­å¥5çš„é¡ºåºæ˜¯ä¸ä½œä»»ä½•ä¿è¯çš„ã€‚ å¹¶ä¸”volatileå…³é”®å­—èƒ½ä¿è¯ï¼Œæ‰§è¡Œåˆ°è¯­å¥3æ—¶ï¼Œè¯­å¥1å’Œè¯­å¥2å¿…å®šæ˜¯æ‰§è¡Œå®Œæ¯•äº†çš„ï¼Œä¸”è¯­å¥1å’Œè¯­å¥2çš„æ‰§è¡Œç»“æžœå¯¹è¯­å¥3ã€è¯­å¥4ã€è¯­å¥5æ˜¯å¯è§çš„ã€‚ æˆ‘ä»¬åœ¨çœ‹çœ‹ä¸€ä¸ªä¾‹å­: 12345678//çº¿ç¨‹1:ApplicationConext context = loadContext(); //è¯­å¥1boolean inited = true; //è¯­å¥2//çº¿ç¨‹2:while(!inited )&#123; sleep()&#125;doSomethingwithconfig(context); ä¸Šè¿°ä»£ç æœ‰å¯èƒ½è¯­å¥2ä¼šåœ¨è¯­å¥1ä¹‹å‰æ‰§è¡Œï¼Œå› ä¸ºè¯­å¥2å¹¶ä¸ä¾èµ–ä¾èµ–è¯­å¥2ï¼Œå¯èƒ½ä¼šé‡æŽ’åºä¼˜åŒ–ï¼Œé‚£ä¹ˆä¹…å¯èƒ½å¯¼è‡´contextè¿˜æ²¡è¢«åˆå§‹åŒ–ï¼Œè€Œçº¿ç¨‹2ä¸­å°±ä½¿ç”¨æœªåˆå§‹åŒ–çš„contextåŽ»è¿›è¡Œæ“ä½œï¼Œå¯¼è‡´ç¨‹åºå‡ºé”™ã€‚ è¿™é‡Œå¦‚æžœç”¨volatileå…³é”®å­—å¯¹initedå˜é‡è¿›è¡Œä¿®é¥°ï¼Œå°±ä¸ä¼šå‡ºçŽ°è¿™ç§é—®é¢˜äº†ï¼Œå› ä¸ºå½“æ‰§è¡Œåˆ°è¯­å¥2æ—¶ï¼Œå¿…å®šèƒ½ä¿è¯contextå·²ç»åˆå§‹åŒ–å®Œæ¯•ã€‚ å¯¹å˜é‡ç‰¹æ®Šçš„å®šä¹‰è§„åˆ™å‡è®¾Tè¡¨ç¤ºä¸€ä¸ªçº¿ç¨‹ï¼ŒVå’ŒWè¡¨ç¤ºä¸¤ä¸ªvolatileå˜é‡ï¼Œé‚£ä¹ˆåœ¨è¿›è¡Œreadã€loadã€useã€assignã€storeå’Œwriteæ“ä½œæ—¶éœ€è¦æ»¡è¶³å¦‚ä¸‹çš„è§„åˆ™: åªæœ‰ä¸€ä¸ªå½“çº¿ç¨‹Tå¯¹å˜é‡Væ‰§è¡Œçš„å‰ä¸€ä¸ªåŠ¨ä½œæ˜¯loadçš„æ—¶å€™ï¼ŒTæ‰èƒ½å¯¹å˜é‡Væ‰§è¡ŒuseåŠ¨ä½œï¼Œå¹¶ä¸”å½“å¯¹Vçš„åŽä¸€ä¸ªæ‰§è¡Œæ˜¯useåŠ¨ä½œæ—¶ï¼ŒTæ‰èƒ½å¯¹Væ‰§è¡ŒloadåŠ¨ä½œã€‚Tå¯¹Vçš„useåŠ¨ä½œå…¶å®žæ˜¯è¡”æŽ¥Tå¯¹Vçš„loadå’ŒreadåŠ¨ä½œï¼Œloadã€readå¿…é¡»ä¸€èµ·è¿žç»­å‡ºçŽ°ï¼ˆè¿™æ¡è§„åˆ™è¦æ±‚åœ¨å·¥ä½œå†…å­˜æ¯æ¬¡ä½¿ç”¨Vå‰éƒ½å¿…é¡»å…ˆä»Žä¸»å†…å­˜åˆ·æ–°æœ€æ–°å€¼ï¼Œä½¿å¾—ä¿è¯èƒ½çœ‹è§å…¶ä»–çº¿ç¨‹å¯¹å˜é‡Vçš„æœ€æ–°æ›´æ”¹ï¼‰ã€‚ åªæœ‰ä¸€ä¸ªå½“çº¿ç¨‹Tå¯¹å˜é‡Væ‰§è¡Œçš„å‰ä¸€ä¸ªåŠ¨ä½œæ˜¯assignçš„æ—¶å€™ï¼ŒTæ‰èƒ½å¯¹å˜é‡Væ‰§è¡ŒstoreåŠ¨ä½œï¼Œå¹¶ä¸”å½“å¯¹Vçš„åŽä¸€ä¸ªæ‰§è¡Œæ˜¯storeåŠ¨ä½œæ—¶ï¼ŒTæ‰èƒ½å¯¹Væ‰§è¡ŒassignåŠ¨ä½œã€‚Tå¯¹Vçš„assignåŠ¨ä½œå…¶å®žæ˜¯è¡”æŽ¥Tå¯¹Vçš„storeå’ŒwriteåŠ¨ä½œï¼Œstoreã€writeå¿…é¡»ä¸€èµ·è¿žç»­å‡ºçŽ°ï¼ˆè¿™æ¡è§„åˆ™è¦æ±‚åœ¨å·¥ä½œå†…å­˜æ¯æ¬¡ä¿®æ”¹VåŽéƒ½å¿…é¡»å…ˆå¿…é¡»åŒæ­¥åˆ°ä¸»å†…ä¸­ï¼Œä½¿å¾—ä¿è¯å…¶ä»–çº¿ç¨‹èƒ½çœ‹è§TTå¯¹å˜é‡Vçš„æœ€æ–°æ›´æ”¹ï¼‰ã€‚ å‡è®¾åŠ¨ä½œAæ˜¯çº¿ç¨‹Tå¯¹å˜é‡VVå®žæ–½çš„useæˆ–assignåŠ¨ä½œï¼Œå‡å®šåŠ¨ä½œFæ˜¯ä¸ŽåŠ¨ä½œAç›¸å…³è”çš„loadå’ŒstoreåŠ¨ä½œï¼Œå‡å®šåŠ¨ä½œPPæ˜¯ä¸ŽåŠ¨ä½œFFç›¸åº”çš„å¯¹Vçš„readå’ŒloadåŠ¨ä½œï¼›ç±»ä¼¼åœ°ï¼Œå‡å®šåŠ¨ä½œBæ˜¯çº¿ç¨‹TTå¯¹å˜é‡Wå®žæ–½çš„useå’ŒassignåŠ¨ä½œï¼Œå‡å®šåŠ¨ä½œGGæ˜¯å’ŒåŠ¨ä½œBBç›¸å…³è”çš„loadæˆ–storeåŠ¨ä½œï¼Œå‡å®šåŠ¨ä½œQæ˜¯ä¸ŽåŠ¨ä½œGç›¸åº”çš„å¯¹å˜é‡Wçš„readå’ŒwriteåŠ¨ä½œã€‚å¦‚æžœAå…ˆäºŽBï¼Œé‚£ä¹ˆPå…ˆäºŽQï¼ˆè¿™æ¡è§„åˆ™è¦æ±‚volatileä¿®é¥°çš„å˜é‡ä¸ä¼šè¢«æŒ‡ä»¤é‡æŽ’åºä¼˜åŒ–ï¼Œä¿è¯ä»£ç çš„æ‰§è¡Œé¡ºåºä¸Žç¨‹åºçš„é¡ºåºç›¸åŒï¼‰ï¼Œå³æ˜¯Happen-beforeåŽŸåˆ™ã€‚ å†…å­˜å±éšœå…¶volatileåŽŸç†å†…å­˜å±éšœå®šä¹‰åœ¨ç ”ç©¶volatileåŽŸç†æ—¶å€™ï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆå†…å­˜å±éšœæˆ–è€…å†…å­˜æ …æ ã€‚ å†…å­˜å±éšœ/å†…å­˜æ …æ (Memory Barrieræˆ–Menory Fence):é‡æŽ’åºæ—¶ä¸èƒ½æŠŠåŽé¢çš„æŒ‡ä»¤é‡æŽ’åºåˆ°å†…å­˜å±éšœä¹‹å‰çš„ä½ç½®ï¼ŒæŒ‡ä»¤é‡æŽ’åºæ— æ³•è¶Šè¿‡å†…å­˜å±éšœï¼Œå•ä¾‹æ¨¡å¼çš„DCLåŒé”æ£€æŸ¥å¯ä»¥ä½“çŽ°å‡ºæ¥ã€‚ åªæœ‰ä¸€ä¸ªCPUè®¿é—®å†…å­˜æ—¶ï¼Œå¹¶ä¸éœ€è¦å†…å­˜å±éšœï¼Œä½†å¦‚æžœæœ‰å¤šä¸ªCPUè®¿é—®åŒä¸€å—å†…å­˜ï¼Œä¸”å…¶ä¸­æœ‰ä¸€ä¸ªåœ¨è§‚æµ‹å¦ä¸€ä¸ªï¼Œå°±éœ€è¦å†…å­˜å±éšœæ¥ä¿è¯ä¸€è‡´ã€‚ ä»Žç¡¬ä»¶æž¶æž„ä¸Šè®²ï¼ŒæŒ‡ä»¤é‡æŽ’åºæ˜¯æŒ‡CPUé‡‡å–å¯å…è®¸å°†å¤šæ¡æŒ‡ä»¤ä¸æŒ‰ç¨‹åºè§„å®šçš„é¡ºåºåˆ†å¼€å‘é€ç»™å„ç›¸åº”å•è·¯å¤„ç†å•å…ƒã€‚ä½†å¹¶ä¸æ˜¯æŒ‡ä»¤ä»»æ„é‡æŽ’ï¼ŒCPUéœ€è¦èƒ½æ­£ç¡®å¤„ç†æŒ‡ä»¤ä¾èµ–æƒ…å†µä»¥ä¿éšœç¨‹åºèƒ½å¤Ÿå¾—å‡ºæ­£ç¡®çš„æ‰§è¡Œç»“æžœã€‚ ç”±äºŽçŽ°ä»£çš„æ“ä½œç³»ç»Ÿéƒ½æ˜¯å¤šå¤„ç†å™¨.è€Œæ¯ä¸€ä¸ªå¤„ç†å™¨éƒ½æœ‰è‡ªå·±çš„ç¼“å­˜,å¹¶ä¸”è¿™äº›ç¼“å­˜å¹¶ä¸æ˜¯å®žæ—¶éƒ½ä¸Žå†…å­˜å‘ç”Ÿä¿¡æ¯äº¤æ¢.è¿™æ ·å°±å¯èƒ½å‡ºçŽ°ä¸€ä¸ªcpuä¸Šçš„ç¼“å­˜æ•°æ®ä¸Žå¦ä¸€ä¸ªcpuä¸Šçš„ç¼“å­˜æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚è€Œè¿™æ ·åœ¨å¤šçº¿ç¨‹å¼€å‘ä¸­ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´å‡ºçŽ°ä¸€äº›å¼‚å¸¸è¡Œä¸ºã€‚è€Œæ“ä½œç³»ç»Ÿåº•å±‚ä¸ºäº†è¿™äº›é—®é¢˜ï¼Œæä¾›äº†ä¸€äº›å†…å­˜å±éšœç”¨ä»¥è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œç›®å‰æœ‰4ç§å±éšœï¼š LoadLoadå±éšœï¼šå¯¹äºŽè¿™æ ·çš„è¯­å¥Load1; LoadLoad; Load2ï¼Œåœ¨Load2åŠåŽç»­è¯»å–æ“ä½œè¦è¯»å–çš„æ•°æ®è¢«è®¿é—®å‰ï¼Œä¿è¯Load1è¦è¯»å–çš„æ•°æ®è¢«è¯»å–å®Œæ¯•ã€‚ StoreStoreå±éšœï¼šå¯¹äºŽè¿™æ ·çš„è¯­å¥Store1; StoreStore; Store2ï¼Œåœ¨Store2åŠåŽç»­å†™å…¥æ“ä½œæ‰§è¡Œå‰ï¼Œä¿è¯Store1çš„å†™å…¥æ“ä½œå¯¹å…¶å®ƒå¤„ç†å™¨å¯è§ã€‚ LoadStoreå±éšœï¼šå¯¹äºŽè¿™æ ·çš„è¯­å¥Load1; LoadStore; Store2ï¼Œåœ¨Store2åŠåŽç»­å†™å…¥æ“ä½œè¢«åˆ·å‡ºå‰ï¼Œä¿è¯Load1è¦è¯»å–çš„æ•°æ®è¢«è¯»å–å®Œæ¯•ã€‚ StoreLoadå±éšœï¼šå¯¹äºŽè¿™æ ·çš„è¯­å¥Store1; StoreLoad; Load2ï¼Œåœ¨Load2åŠåŽç»­æ‰€æœ‰è¯»å–æ“ä½œæ‰§è¡Œå‰ï¼Œä¿è¯Store1çš„å†™å…¥å¯¹æ‰€æœ‰å¤„ç†å™¨å¯è§ã€‚å®ƒçš„å¼€é”€æ˜¯å››ç§å±éšœä¸­æœ€å¤§çš„ã€‚åœ¨å¤§å¤šæ•°å¤„ç†å™¨çš„å®žçŽ°ä¸­ï¼Œè¿™ä¸ªå±éšœæ˜¯ä¸ªä¸‡èƒ½å±éšœï¼Œå…¼å…·å…¶å®ƒä¸‰ç§å†…å­˜å±éšœçš„åŠŸèƒ½ã€‚ å†…å­˜å±éšœJAVAåº”ç”¨ é€šè¿‡ Synchronizedå…³é”®å­—åŒ…ä½çš„ä»£ç åŒºåŸŸ,å½“çº¿ç¨‹è¿›å…¥åˆ°è¯¥åŒºåŸŸè¯»å–å˜é‡ä¿¡æ¯æ—¶ï¼Œä¿è¯è¯»åˆ°çš„æ˜¯æœ€æ–°çš„å€¼ã€‚è¿™æ˜¯å› ä¸ºåœ¨åŒæ­¥åŒºå†…å¯¹å˜é‡çš„å†™å…¥æ“ä½œï¼Œåœ¨ç¦»å¼€åŒæ­¥åŒºæ—¶å°±å°†å½“å‰çº¿ç¨‹å†…çš„æ•°æ®åˆ·æ–°åˆ°å†…å­˜ä¸­,è€Œå¯¹æ•°æ®çš„è¯»å–ä¹Ÿä¸èƒ½ä»Žç¼“å­˜è¯»å–,åªèƒ½ä»Žå†…å­˜ä¸­è¯»å–,ä¿è¯äº†æ•°æ®çš„è¯»æœ‰æ•ˆæ€§ï¼Œè¿™å°±æ˜¯æ’å…¥äº†StoreStoreå±éšœã€‚ ä½¿ç”¨äº†volatileä¿®é¥°å˜é‡,åˆ™å¯¹å˜é‡çš„å†™æ“ä½œï¼Œä¼šæ’å…¥StoreLoadå±éšœã€‚ å…¶ä½™çš„æ“ä½œ,åˆ™éœ€è¦é€šè¿‡Unsafeè¿™ä¸ªç±»æ¥æ‰§è¡Œã€‚UNSAFE.putOrderedObjectç±»ä¼¼è¿™æ ·çš„æ–¹æ³•,ä¼šæ’å…¥StoreStoreå†…å­˜å±éšœï¼ŒUnsafe.putVolatiObject åˆ™æ˜¯æ’å…¥äº†StoreLoadå±éšœ é€‚ç”¨åœºæ™¯ ç”±äºŽvolatileå˜é‡åªä¿è¯å¯è§æ€§,åœ¨ä¸ç¬¦åˆä»¥ä¸‹ä¸¤ç‚¹ï¼Œæˆ‘ä»¬ä»ç„¶è¦é€šè¿‡åŠ é”(ä½¿ç”¨åŒæ­¥é”synchronizeæˆ–java.util.concurrentä¸­çš„åŽŸå­ç±»)æ¥ä¿è¯åŽŸå­æ€§ã€‚ è¿ç®—ç»“æžœä»¥åŠå¯¹å˜é‡çš„å†™æ“ä½œå¹¶ä¸ä¾èµ–å˜é‡çš„å½“å‰å€¼ï¼Œæˆ–èƒ½å¤Ÿç¡®ä¿åªæœ‰å•ä¸€çš„çº¿ç¨‹ä¿®æ”¹å˜é‡çš„å€¼ï¼› å˜é‡ä¸éœ€è¦ä¸Žå…¶ä»–çš„çŠ¶æ€å˜é‡å…±äº«å‚ä¸Žä¸å˜çº¦æŸï¼› é€‚ç”¨äºŽè¯»å¤šå†™å°‘çš„åœºæ™¯; å¯ç”¨ä½œçŠ¶æ€æ ‡å¿—ã€‚ JDKä¸­volatieåº”ç”¨ï¼šJDKä¸­ConcurrentHashMapçš„Nodeçš„valå’Œnextè¢«å£°æ˜Žä¸ºvolatileï¼ŒAtomicIntegerç­‰åŽŸå­ç±»ä¸­çš„valueè¢«å£°æ˜Žä¸ºvolatileã€‚AtomicIntegeré€šè¿‡CASåŽŸç†(æš‚å¯ç†è§£ä¸ºä¹è§‚é”)ä¿è¯äº†åŽŸå­æ€§ã€‚è¿™äº›åº”ç”¨åŽæ–‡è®²è§£ã€‚ volatileä¸Žsynchronizedä¸Šè¿°è¯´åˆ°çš„volatileçš„è¯­ä¹‰é—®é¢˜ï¼Œå…¶å®žvolatileå˜é‡è¯»æ“ä½œçš„æ€§èƒ½ä¸Žæ™®é€šå˜é‡å‡ ä¹Žæ²¡æœ‰ä»€ä¹ˆå·®åˆ«ï¼Œä½†æ˜¯å†™æ“ä½œä¼šç¨æ…¢ç‚¹ï¼Œå› ä¸ºvolatileéœ€è¦åœ¨æ‰§è¡Œä¸­æ’å…¥è®¸å¤šå†…å­˜å±éšœæŒ‡ä»¤æ¥ä¿è¯å¤„ç†å™¨ä¸å‘ç”Ÿä¹±åºæ‰§è¡Œã€‚ åœ¨æŸäº›æƒ…å†µä¸‹volatileçš„åŒæ­¥æœºåˆ¶çš„æ€§èƒ½çš„ç¡®è¦ä¼˜äºŽé”(synchronizeåŒæ­¥é”æˆ–J.U.CåŒ…çš„é”)ï¼Œä½†æ˜¯JDK1.6ä»¥åŽå¯¹é”å®žè¡Œäº†è®¸å¤šæ¶ˆé™¤å’Œä¼˜åŒ–ï¼Œä½¿å¾—æˆ‘ä»¬å¾ˆéš¾é‡åŒ–è®¤ä¸ºvolatileæ¯”é”å¿«å¤šå°‘ã€‚ å¤šçº¿ç¨‹è®¿é—®volatileä¸ä¼šå‘ç”Ÿé˜»å¡žï¼Œè€Œsynchronizedä¼šé˜»å¡žï¼› volatileåªèƒ½ä¿è¯æ•°æ®çš„å¯è§æ€§ï¼Œä¸èƒ½ä¿è¯åŽŸå­æ€§ï¼Œè€Œsynchronizedä¸¤è€…éƒ½å¯ä»¥ä¿è¯ï¼Œå› ä¸ºå®ƒä¼šå°†ç§æœ‰å†…å­˜å’Œå…¬å…±å†…å­˜ä¸­çš„æ•°æ®åšåŒæ­¥ å¯¹longå’Œdoubleåž‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™å†…å­˜çš„å…«ä¸ªæ“ä½œè™½ç„¶è¯´éƒ½æ˜¯åŽŸå­æ€§çš„ï¼Œä½†æ˜¯å¯¹äºŽ64ä½çš„æ•°æ®ç±»åž‹ï¼šlongå’Œdoubleæ¥è®²ï¼Œå…è®¸è™šæ‹Ÿæœºå°†æ²¡æœ‰è¢«volatileä¿®é¥°çš„64ä½æ•°æ®çš„è¯»å†™æ“ä½œåˆ’åˆ†ä¸ºä¸¤æ¬¡32ä½çš„æ“ä½œæ¥è¿›è¡Œï¼Œè¿™å°±æ˜¯æ‰€è°“çš„longå’Œdoubleçš„éžåŽŸå­æ€§åå®šã€‚è™½ç„¶è§„å®šä¸ºè§„å®šï¼Œä½†æ˜¯ç›®å‰å¤§éƒ¨åˆ†å•†ä¸šè™šæ‹Ÿæœºå°†è¿™ä¸¤ç§æ•°æ®ç±»åž‹ä½œ64ä½çš„åŽŸå­æ€§æ“ä½œå¯¹å¾…ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦å°†longå’Œdoubleç±»åž‹çš„å˜é‡ä¸“é—¨ä»€ä¹ˆä¸ºvolatileå˜é‡ã€‚ å‚è€ƒèµ„æ–™ ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆç¬¬2ç‰ˆï¼‰ã€‹å‘¨å¿—æ˜Žè‘— ã€ŠJavaå¤šçº¿ç¨‹ç¼–ç¨‹æ ¸å¿ƒæŠ€æœ¯ã€‹é«˜æ´ªå²©è‘—\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"slug\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"permalink\":\"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/\"}]},{\"title\":\"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹\",\"slug\":\"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹\",\"date\":\"2018-06-01T10:09:51.000Z\",\"updated\":\"2019-11-20T15:08:57.693Z\",\"comments\":true,\"path\":\"2018/06/01/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/06/01/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹/\",\"excerpt\":\"\",\"text\":\"ç¡¬ä»¶çš„æ•ˆçŽ‡ä¸Žä¸€è‡´æ€§è®¡ç®—æœºå†…éƒ¨è¿ç®—æµç¨‹ è®¡ç®—æœºæ‰§è¡Œè‹¥å¹²ä¸ªè¿ç®—ä»»åŠ¡ï¼Œæ‰€æœ‰çš„è®¡ç®—ä»»åŠ¡ä¸å¯èƒ½ä»…ä»…é å¤„ç†å™¨â€œè®¡ç®—â€æ¥å®Œæˆï¼Œè®¡ç®—å™¨å­˜å‚¨è®¾å¤‡ä¸Žå¤„ç†å™¨çš„è¿ç®—é€Ÿåº¦æœ‰å‡ ä¸ªæ•°é‡çº§çš„å·®è·ï¼› è‡³å°‘è¦ä¸Žå†…å­˜è¿›è¡Œäº¤äº’ï¼Œå¦‚è¯»å–è¿ç®—æ•°æ®ã€å­˜å‚¨è¿ç®—ç»“æžœï¼Œä¸èƒ½ä»…ä»…é CPUå¯„å­˜å™¨æ¥å®Œæˆ éšç€è®¡ç®—æœºç¡¬ä»¶çš„å¿«é€Ÿå‘å±•ï¼Œä»»ä½•è®¾å¤‡çš„è¯»å†™é€Ÿåº¦è¦å°½å¯èƒ½æŽ¥è¿‘å¤„ç†å™¨è¿ç®—é€Ÿåº¦çš„é«˜é€Ÿç¼“å­˜ï¼ˆCacheï¼‰æ¥ä½œä¸ºå†…å­˜ä¸Žå¤„ç†å™¨ä¹‹é—´çš„ç¼“å†²ï¼› è¿ç®—æ—¶å…ˆä»Žå†…å­˜è¯»å–ï¼Œç„¶åŽå°†æ•°æ®ç¼“å­˜åˆ°é«˜é€Ÿç¼“å­˜åŒºï¼Œè®©CPUèƒ½å¤Ÿé«˜æ•ˆè¿ç®—ï¼Œå½“è¿ç®—ç»“æŸåŽï¼Œå°†è¿ç®—ç»“æžœä»Žç¼“å­˜ä¸­åŒæ­¥åˆ°å†…å­˜ä¸­ã€‚ ç¼“å­˜ä¸€è‡´æ€§é«˜é€Ÿç¼“å­˜å¾ˆå¥½çš„è§£å†³äº†å¤„ç†å™¨ä¸Žå†…å­˜çš„é€Ÿåº¦çŸ›ç›¾ï¼Œå¦‚å›¾1,ä½†æ˜¯å­˜åœ¨é—®é¢˜:ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ å¤šå¤„ç†å™¨ä¸­ï¼Œæ¯ä¸ªå¤„ç†å™¨éƒ½æœ‰è‡ªå·±çš„é«˜é€Ÿç¼“å­˜ï¼Œä½†æ˜¯åˆå…±äº«ä¸€ä¸ªä¸»å†…å­˜ï¼Œå¯èƒ½å­˜åœ¨ç¼“å­˜æ•°æ®ä¸ä¸€è‡´ï¼ŒåŒæ­¥åˆ°ä¸»å†…å­˜ä¸çŸ¥é“ä»¥å“ªä¸ªç¼“å­˜æ•°æ®ä¸ºå‡†ï¼› ä¸ºäº†è§£å†³ä¸€è‡´æ€§é—®é¢˜ï¼Œå„ä¸ªå¤„ç†å™¨è®¿é—®è¦éµå¾ªæŸäº›åè®®ï¼Œåœ¨è¯»å†™æ—¶è¦æ ¹æ®åè®®æ¥è¿›è¡Œæ“ä½œï¼Œå¸¸è§åè®®æœ‰:MSIã€MESIã€MOSIã€Synapseã€FireflyåŠDragon Protocolç­‰ï¼› é™¤äº†å¢žåŠ é«˜é€Ÿç¼“å­˜ä¹‹å¤–ï¼Œä¸ºäº†ä½¿å¾—å¤„ç†å™¨å†…éƒ¨çš„è¿ç®—å•å…ƒå°½é‡è¢«å……åˆ†åˆ©ç”¨ï¼Œå¤„ç†å™¨ä¼šåœ¨ä¸å½±å“æ‰§è¡Œç»“æžœçš„æ¡ä»¶ä¸‹å¯¹è¾“å…¥çš„ä»£ç è¿›è¡Œä¹±åºæ‰§è¡Œï¼ŒJavaè™šæ‹Ÿæœºå®šä¹‰ä¸ºæŒ‡ä»¤é‡æŽ’åºã€‚ Javaå†…å­˜æ¨¡åž‹Javaå†…å­˜æ¨¡åž‹ï¼ˆJMMï¼‰æ¥å±è”½æŽ‰å„ç§ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜è®¿é—®å·®å¼‚ï¼Œä»¥å®žçŽ°Javaç¨‹åºåœ¨å„ç§ä¸‹éƒ½èƒ½è¾¾åˆ°ä¸€è‡´çš„å¹¶å‘æ•ˆæžœï¼Œåœ¨JDK1.5ï¼ˆå®žçŽ°äº†JSR-133ï¼‰å‘å¸ƒåŽï¼ŒJMMå·²ç»æˆç†Ÿå’Œå®Œå–„èµ·æ¥ã€‚ Javaå†…å­˜çš„ä¸»è¦ç›®æ ‡æ˜¯å®šä¹‰ç¨‹åºä¸­çš„å„ä¸ªå˜é‡çš„è®¿é—®è§„åˆ™ï¼Œå³è™šæ‹Ÿæœºä¸­å°†å˜é‡å­˜å‚¨åˆ°å†…å­˜å’Œä»Žå†…å­˜ä¸­å–å‡ºå˜é‡ä¸»è¦çš„åº•å±‚å®žçŽ°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æ­¤å˜é‡éžå½¼å˜é‡ï¼Œè¿™é‡Œçš„å˜é‡åŒ…æ‹¬å®žä¾‹å­—æ®µã€é™æ€å­—æ®µã€æž„æˆæ•°ç»„å¯¹è±¡çš„å…ƒç´ ï¼Œä¸åŒ…æ‹¬å±€éƒ¨å˜é‡ä¸Žæ–¹æ³•å‚æ•°ï¼Œå› ä¸ºåŽè€…æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œä¸ä¼šè¢«å…±äº«ï¼Œè‡ªç„¶ä¸å­˜åœ¨ç«žäº‰é—®é¢˜ã€‚ ä¸»å†…å­˜ä¸Žå·¥ä½œå†…å­˜ ä¸»å†…å­˜: JMMè§„å®šæ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ï¼› å·¥ä½œå†…å­˜ï¼šæ¯æ¡çº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¿å­˜äº†è¢«è¯¥çº¿ç¨‹ä½¿ç”¨åˆ°çš„å˜é‡çš„ä¸»å†…å­˜å‰¯æœ¬æ‹·è´ï¼› å·¥ä½œå†…å­˜ï¼šçº¿ç¨‹å¯¹å˜é‡çš„æ‰€ä»¥æ“ä½œéƒ½å¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œä¸èƒ½ç›´æŽ¥è¯»å†™åˆ°ä¸»å†…å­˜ä¸­ï¼› å·¥ä½œå†…å­˜ï¼šçº¿ç¨‹é—´å„è‡ªçš„å·¥ä½œå†…å­˜ä¸å¯è§ï¼Œæ•°æ®ä¼ é€’æ“ä½œåœ¨ä¸»å†…å­˜æ¥å®Œæˆï¼Œå¦‚å›¾2ï¼Œçº¿ç¨‹ã€ä¸»å†…å­˜ã€å·¥ä½œå†…å­˜ä¸‰è€…ä¹‹é—´çš„äº¤äº’å…³ç³»ã€‚ å†…å­˜é—´åŽŸå­æ“ä½œ é”å®šï¼ˆlockï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå˜é‡æ ‡è¯†ä¸ºä¸€æ¡çº¿ç¨‹ç‹¬å çš„çŠ¶æ€ï¼› è§£é”ï¼ˆunlockï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå¤„äºŽé”å®šçŠ¶æ€çš„å˜é‡é‡Šæ”¾å‡ºæ¥ï¼Œé‡Šæ”¾åŽçš„å˜é‡æ‰å¯ä»¥è¢«å…¶ä»–çº¿ç¨‹é”å®šï¼› è¯»å–ï¼ˆreadï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå˜é‡çš„å€¼ä»Žä¸»å†…å­˜ä¼ è¾“åˆ°çº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåŽçš„loadåŠ¨ä½œä½¿ç”¨ï¼› è½½å…¥ï¼ˆloadï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠreadæ“ä½œä»Žä¸»å†…å­˜ä¸­å¾—åˆ°çš„å˜é‡å€¼æ”¾å…¥å·¥ä½œå†…å­˜çš„å˜é‡å‰¯æœ¬ä¸­ï¼› ä½¿ç”¨ï¼ˆuseï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠå·¥ä½œå†…å­˜ä¸­çš„ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€’ç»™æ‰§è¡Œå¼•æ“Žï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªéœ€è¦ä½¿ç”¨åˆ°å˜é‡çš„å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶å°†ä¼šæ‰§è¡Œè¿™ä¸ªæ“ä½œï¼› èµ‹å€¼ï¼ˆassignï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä»Žæ‰§è¡Œå¼•æ“ŽæŽ¥å—åˆ°çš„å€¼èµ‹å€¼ç»™å·¥ä½œå†…å­˜çš„å˜é‡ï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªç»™å˜é‡èµ‹å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶æ‰§è¡Œè¿™ä¸ªæ“ä½œï¼› å­˜å‚¨ï¼ˆstoreï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠå·¥ä½œå†…å­˜ä¸­ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€åˆ°ä¸»å†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåŽçš„writeæ“ä½œä½¿ç”¨ï¼› å†™å…¥ï¼ˆwriteï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠstoreæ“ä½œä»Žå·¥ä½œå†…å­˜ä¸­å¾—åˆ°çš„å˜é‡çš„å€¼æ”¾å…¥ä¸»å†…å­˜çš„å˜é‡ä¸­ã€‚ å¦‚æžœè¦æŠŠä¸€ä¸ªå˜é‡ä»Žä¸»å†…å­˜å¤åˆ¶åˆ°å·¥ä½œå†…å­˜ï¼Œé‚£å°±è¦æŒ‰ç…§é¡ºåºåœ°æ‰§è¡Œreadå’Œloadæ“ä½œï¼Œå¦‚æžœè¦æŠŠå˜é‡ä»Žå·¥ä½œå†…å­˜åŒæ­¥å›žä¸»å­˜ï¼Œå°±è¦æŒ‰é¡ºåºåœ°æ‰§è¡Œstoreå’Œwriteæ“ä½œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒJMMåªè¦æ±‚ä¸Šè¿°ä¸¤ä¸ªæ“ä½œå¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œï¼Œè€Œæ²¡æœ‰ä¿è¯å¿…é¡»æ˜¯è¿žç»­æ‰§è¡Œçš„ã€‚ä¹Ÿå°±è¯´è¯´readä¸Žloadä¹‹é—´ã€storeå’Œwriteä¹‹é—´æ˜¯å¯æ’å…¥å…¶ä»–æŒ‡ä»¤çš„ï¼Œå¦‚å¯¹ä¸»å†…å­˜ä¸­çš„å˜é‡aã€bè¿›è¡Œè®¿é—®æ—¶ï¼Œå¾ˆå¯èƒ½å‡ºçŽ°read aã€read bã€load bã€load aï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒJMMè¿˜è§„å®šåœ¨æ‰§è¡Œä¸Šè¿°å…«ç§æ“ä½œæ—¶å¿…é¡»æ»¡è¶³å¦‚ä¸‹è§„åˆ™ï¼š ä¸å…è®¸readå’Œloadã€storeå’Œwriteæ“ä½œä¹‹ä¸€å•ç‹¬å‡ºçŽ°ï¼Œå³ä¸å…è®¸ä¸€ä¸ªå˜é‡ä»Žä¸»å†…å­˜è¯»å–äº†ä½†å·¥ä½œå†…å­˜ä¸æŽ¥å—ï¼Œæˆ–è€…ä»Žå·¥ä½œå†…å­˜å‘èµ·å›žå†™ä½†ä¸»å†…å­˜ä¸æŽ¥å—çš„æƒ…å†µå‡ºçŽ°ï¼› ä¸å…è®¸ä¸€ä¸ªçº¿ç¨‹ä¸¢å¼ƒå®ƒçš„æœ€è¿‘çš„assignæ“ä½œï¼Œå³å˜é‡åœ¨å·¥ä½œå†…å­˜ä¸­æ”¹å˜äº†ä¹‹åŽå¿…é¡»æŠŠè¯¥å˜åŒ–çš„ç»“æžœå›žå†™åˆ°ä¸»å†…å­˜ä¸­ï¼› ä¸å…è®¸ä»»ä½•ä¸€ä¸ªçº¿ç¨‹æ— åŽŸå› åœ°ï¼ˆæ²¡æœ‰å‘ç”Ÿè¿‡ä»»ä½•çš„assignæ“ä½œï¼‰æŠŠæ•°æ®ä»Žçº¿ç¨‹çš„å·¥ä½œå†…å­˜åŒæ­¥å›žä¸»å†…å­˜ä¸­ï¼› ä¸€ä¸ªæ–°çš„å˜é‡åªèƒ½åœ¨ä¸»å†…å­˜ä¸­â€œè¯žç”Ÿâ€ï¼Œä¸å…è®¸åœ¨å·¥ä½œå†…å­˜ä¸­ç›´æŽ¥ä½¿ç”¨ä¸€ä¸ªæœªè¢«åˆå§‹åŒ–ï¼ˆloadæˆ–assignï¼‰çš„å˜é‡ã€‚å³å¯¹ä¸€ä¸ªå˜é‡å®žæ–½useå’Œstoreæ“ä½œä¹‹å‰ï¼Œå¿…é¡»å…ˆæ‰§è¡Œè¿‡assignå’Œloadæ“ä½œï¼› ä¸€ä¸ªå˜é‡åœ¨åŒä¸€ä¸ªæ—¶åˆ»åªå…è®¸ä¸€æ¡çº¿ç¨‹å¯¹å…¶è¿›è¡Œlockæ“ä½œï¼Œä½†lockæ“ä½œå¯ä»¥è¢«åŒä¸€æ¡çº¿ç¨‹é‡å¤æ‰§è¡Œå¤šæ¬¡ï¼Œå¤šæ¬¡æ‰§è¡ŒlockåŽï¼Œåªæœ‰æ‰§è¡Œç›¸åŒæ¬¡æ•°çš„unlockæ“ä½œï¼Œå˜é‡æ‰ä¼šè§£é”ï¼› å¦‚æžœå¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œlockæ“ä½œï¼Œå°†ä¼šæ¸…ç©ºå·¥ä½œå†…å­˜ä¸­æ­¤å˜é‡çš„å€¼ï¼Œåœ¨æ‰§è¡Œå¼•æ“Žä½¿ç”¨è¿™ä¸ªå˜é‡å‰éœ€è¦é‡æ–°æ‰§è¡Œloadæˆ–assignæ“ä½œåˆå§‹åŒ–å˜é‡çš„å€¼ï¼› å¦‚æžœä¸€ä¸ªå˜é‡äº‹å…ˆæ²¡æœ‰è¢«locké”å®šæ“ä½œï¼Œåˆ™ä¸å…è®¸å¯¹å®ƒæ‰§è¡Œunlockæ“ä½œï¼›ä¹Ÿä¸å…è®¸åŽ»unlockä¸€ä¸ªè¢«å…¶ä»–çº¿ç¨‹é”ä½çš„å˜é‡ï¼› å¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œunlockä¹‹å‰ï¼Œå¿…é¡»å…ˆæŠŠæ­¤å˜é‡åŒæ­¥å›žä¸»å†…å­˜ä¸­ï¼ˆæ‰§è¡Œstoreå’Œwriteæ“ä½œï¼‰ï¼› happens-before åŽŸåˆ™è¿™ä¸ªåŽŸåˆ™éžå¸¸é‡è¦ï¼Œå®ƒæ˜¯åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨ç«žäº‰ã€çº¿ç¨‹æ˜¯å¦å®‰å…¨çš„ä¸»è¦ä¾æ®ï¼Œä¾é è¿™ä¸ªåŽŸåˆ™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‡ æ¡è§„åˆ™ä¸€æ½å­åœ° è§£å†³å¹¶å‘çŽ¯å¢ƒä¸‹ä¸¤ä¸ªæ“ä½œä¹‹é—´æ˜¯å¦å¯èƒ½å­˜åœ¨å†²çªçš„æ‰€æœ‰é—®é¢˜ã€‚ çŽ°åœ¨å°±æ¥çœ‹çœ‹â€œå…ˆè¡Œå‘ç”Ÿâ€åŽŸåˆ™æŒ‡çš„æ˜¯ä»€ä¹ˆã€‚å…ˆè¡Œå‘ç”Ÿæ˜¯Javaå†…å­˜æ¨¡åž‹ä¸­å®šä¹‰çš„ä¸¤é¡¹æ“ä½œä¹‹é—´çš„ååºå…³ç³»ï¼Œå¦‚æžœè¯´æ“ä½œAå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œBï¼Œå…¶å®žå°±æ˜¯è¯´åœ¨å‘ç”Ÿæ“ä½œBä¹‹å‰ï¼Œæ“ä½œAäº§ç”Ÿçš„å½±å“èƒ½è¢«æ“ä½œBè§‚å¯Ÿåˆ°ï¼Œâ€œå½±å“â€åŒ…æ‹¬ä¿®æ”¹äº†å†…å­˜ä¸­å…±äº«å˜é‡çš„å€¼ã€å‘é€äº†æ¶ˆæ¯ã€è°ƒç”¨äº†æ–¹æ³•ç­‰ã€‚ 123456//ä»¥ä¸‹æ“ä½œåœ¨çº¿ç¨‹Aä¸­æ‰§è¡Œint i=1;//ä»¥ä¸‹æ“ä½œåœ¨çº¿ç¨‹Bä¸­æ‰§è¡Œ int j=i;//ä»¥ä¸‹æ“ä½œåœ¨çº¿ç¨‹Cä¸­æ‰§è¡Œint i=2; é€šè¿‡ä¸Šè¿°ä»£ç åˆ†æž:å‡è®¾çº¿ç¨‹Aä¸­çš„æ“ä½œâ€œi=1â€å…ˆè¡Œå‘ç”ŸäºŽçº¿ç¨‹Bçš„æ“ä½œâ€œj=iâ€ï¼Œé‚£ä¹ˆå¯ä»¥ç¡®å®šåœ¨çº¿ç¨‹Bçš„æ“ä½œæ‰§è¡ŒåŽï¼Œå˜é‡jçš„å€¼ä¸€å®šç­‰äºŽ1ï¼Œå¾—å‡ºè¿™ä¸ªç»“è®ºçš„ä¾æ®æœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯æ ¹æ®å…ˆè¡Œå‘ç”ŸåŽŸ åˆ™ï¼Œâ€œi=1â€çš„ç»“æžœå¯ä»¥è¢«è§‚å¯Ÿåˆ°ï¼›äºŒæ˜¯çº¿ç¨‹Cè¿˜æ²¡â€œç™»åœºâ€ï¼Œçº¿ç¨‹Aæ“ä½œç»“æŸä¹‹åŽæ²¡æœ‰å…¶ä»–çº¿ç¨‹ä¼šä¿®æ”¹å˜é‡içš„å€¼ã€‚çŽ°åœ¨å†æ¥è€ƒè™‘çº¿ç¨‹Cï¼Œæˆ‘ä»¬ä¾ç„¶ä¿æŒçº¿ç¨‹Aå’Œçº¿ç¨‹Bä¹‹é—´çš„å…ˆè¡Œå‘ç”Ÿå…³ ç³»ï¼Œè€Œçº¿ç¨‹Cå‡ºçŽ°åœ¨çº¿ç¨‹Aå’Œçº¿ç¨‹Bçš„æ“ä½œä¹‹é—´ï¼Œä½†æ˜¯çº¿ç¨‹Cä¸Žçº¿ç¨‹Bæ²¡æœ‰å…ˆè¡Œå‘ç”Ÿå…³ç³»ï¼Œé‚£jçš„å€¼ä¼šæ˜¯å¤šå°‘å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¸ç¡®å®šï¼1å’Œ2éƒ½æœ‰å¯èƒ½ï¼Œå› ä¸ºçº¿ç¨‹Cå¯¹å˜é‡içš„å½±å“å¯èƒ½ä¼šè¢«çº¿ç¨‹Bè§‚å¯Ÿåˆ°ï¼Œä¹Ÿå¯èƒ½ä¸ä¼šï¼Œè¿™æ—¶å€™çº¿ç¨‹Bå°±å­˜åœ¨è¯»å–åˆ°è¿‡æœŸæ•°æ®çš„é£Žé™©ï¼Œä¸å…·å¤‡å¤šçº¿ç¨‹å®‰å…¨æ€§ã€‚ Java å†…å­˜æ¨¡åž‹å®šä¹‰åŸºäºŽä¸€äº›æ“ä½œï¼Œæ¯”å¦‚è¯»å†™å­—æ®µã€ Monitor åŒæ­¥ç­‰ã€‚è¿™äº›æ“ä½œå¯ä»¥æŒ‰ç…§ happens-before å…³ç³»è¿›è¡ŒæŽ’åºã€‚è¿™ç§å…³ç³»å¯ç”¨æ¥æŽ¨æ–­ä¸€ä¸ªçº¿ç¨‹ä½•æ—¶çœ‹åˆ°å¦ä¸€ä¸ªçº¿ç¨‹çš„æ“ä½œç»“æžœï¼Œä»¥åŠæž„æˆä¸€ä¸ªç¨‹åºåŒæ­¥åŽçš„æ‰€æœ‰ä¿¡æ¯ã€‚ å¤©ç„¶çš„å…ˆè¡Œå‘ç”Ÿå…³ç³»: ç¨‹åºæ¬¡åºè§„åˆ™ï¼ˆProgram Order Ruleï¼‰ï¼šåœ¨ä¸€ä¸ªçº¿ç¨‹å†…ï¼ŒæŒ‰ç…§ç¨‹åºä»£ç é¡ºåºï¼Œä¹¦å†™åœ¨å‰é¢çš„æ“ä½œå…ˆè¡Œå‘ç”ŸäºŽä¹¦å†™åœ¨åŽé¢çš„æ“ä½œã€‚å‡†ç¡®åœ°è¯´ï¼Œåº”è¯¥æ˜¯æŽ§åˆ¶æµé¡ºåºè€Œä¸æ˜¯ç¨‹åºä»£ç é¡ºåºï¼Œ å› ä¸ºè¦è€ƒè™‘åˆ†æ”¯ã€å¾ªçŽ¯ç­‰ç»“æž„ã€‚ ç®¡ç¨‹é”å®šè§„åˆ™ï¼ˆMonitor Lock Ruleï¼‰ï¼šä¸€ä¸ªunlockæ“ä½œå…ˆè¡Œå‘ç”ŸäºŽåŽé¢å¯¹åŒä¸€ä¸ªé”çš„lock æ“ä½œã€‚å³åœ¨èŽ·å– Monitor å‰ï¼Œé‡Šæ”¾è¯¥ Monitorã€‚è¿™é‡Œå¿…é¡»å¼ºè°ƒçš„æ˜¯åŒä¸€ä¸ªé”ï¼Œè€Œâ€œåŽé¢â€æ˜¯æŒ‡æ—¶é—´ä¸Šçš„å…ˆåŽé¡ºåºã€‚ volatileå˜é‡è§„åˆ™ï¼ˆVolatile Variable Ruleï¼‰ï¼šå¯¹ä¸€ä¸ªvolatileå˜é‡çš„å†™æ“ä½œå…ˆè¡Œå‘ç”ŸäºŽåŽé¢å¯¹è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œï¼Œå³åœ¨è¯»å– volatile å˜é‡å‰ï¼Œå¯¹è¯¥å˜é‡æ‰§è¡Œä¸€æ¬¡å†™æ“ä½œï¼Œè¿™é‡Œçš„â€œåŽé¢â€åŒæ ·æ˜¯æŒ‡æ—¶é—´ä¸Šçš„å…ˆåŽé¡ºåºã€‚ çº¿ç¨‹å¯åŠ¨è§„åˆ™ï¼ˆThread Start Ruleï¼‰ï¼šThreadå¯¹è±¡çš„start()æ–¹æ³•å…ˆè¡Œå‘ç”ŸäºŽæ­¤çº¿ç¨‹çš„æ¯ä¸€ä¸ªåŠ¨ä½œã€‚å³åœ¨çº¿ç¨‹å¼€å§‹æ‰€æœ‰æ“ä½œå‰è°ƒç”¨ Thread#startã€‚ çº¿ç¨‹ç»ˆæ­¢è§„åˆ™ï¼ˆThread Termination Ruleï¼‰ï¼šçº¿ç¨‹ä¸­çš„æ‰€æœ‰æ“ä½œéƒ½å…ˆè¡Œå‘ç”ŸäºŽå¯¹æ­¤çº¿ç¨‹çš„ç»ˆæ­¢æ£€æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Thread.join()æ–¹æ³•ç»“æŸã€Thread.isAlive()çš„è¿”å›žå€¼ç­‰æ‰‹æ®µæ£€æµ‹åˆ°çº¿ç¨‹å·²ç»ç»ˆæ­¢æ‰§è¡Œã€‚ çº¿ç¨‹ä¸­æ–­è§„åˆ™ï¼ˆThread Interruption Ruleï¼‰ï¼šå¯¹çº¿ç¨‹interrupt()æ–¹æ³•çš„è°ƒç”¨å…ˆè¡Œå‘ç”ŸäºŽè¢«ä¸­æ–­çº¿ç¨‹çš„ä»£ç æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿï¼Œå¯ä»¥é€šè¿‡Thread.interrupted()æ–¹æ³•æ£€æµ‹åˆ°æ˜¯å¦æœ‰ ä¸­æ–­å‘ç”Ÿã€‚ å¯¹è±¡ç»ˆç»“è§„åˆ™ï¼ˆFinalizer Ruleï¼‰ï¼šä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆï¼ˆæž„é€ å‡½æ•°æ‰§è¡Œç»“æŸï¼‰å…ˆè¡Œå‘ ç”ŸäºŽå®ƒçš„finalize()æ–¹æ³•çš„å¼€å§‹ã€‚ ä¼ é€’æ€§ï¼ˆTransitivityï¼‰ï¼šå¦‚æžœæ“ä½œAå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œBï¼Œæ“ä½œBå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œCï¼Œé‚£å°±å¯ä»¥å¾—å‡ºæ“ä½œAå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œCçš„ç»“è®ºã€‚ æ€»ç»“:ï¼šæ—¶é—´å…ˆåŽé¡ºåºä¸Žå…ˆè¡Œå‘ç”ŸåŽŸåˆ™ä¹‹é—´åŸºæœ¬æ²¡æœ‰å¤ªå¤§çš„å…³ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬è¡¡é‡å¹¶å‘å®‰å…¨é—®é¢˜çš„æ—¶å€™ä¸è¦å—åˆ°æ—¶é—´é¡ºåºçš„å¹²æ‰°ï¼Œä¸€åˆ‡å¿…é¡»ä»¥å…ˆè¡Œå‘ç”ŸåŽŸåˆ™ä¸ºå‡†ã€‚ åŽŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§åŽŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šæˆ‘ä»¬å¤§è‡´å¯ä»¥è®¤ä¸ºåŸºæœ¬æ•°æ®ç±»åž‹çš„è®¿é—®è¯»å†™æ˜¯å…·å¤‡åŽŸå­æ€§çš„ï¼ˆä¾‹å¤–å°±æ˜¯longå’Œdoubleçš„éžåŽŸå­æ€§åå®šï¼‰ã€‚åŽŸå­æ“ä½œçš„ç‰¹ç‚¹æ˜¯è¦ä¹ˆå…¨éƒ¨æ“ä½œæˆåŠŸè¦ä¹ˆå…¨éƒ¨æ“ä½œå¤±è´¥ï¼Œä¸å…è®¸éƒ¨åˆ†æˆåŠŸï¼Œéƒ¨åˆ†å¤±è´¥ã€‚å°½ç®¡è™šæ‹ŸæœºæœªæŠŠlockå’Œunlockæ“ä½œç›´æŽ¥å¼€æ”¾ç»™ç”¨æˆ·ä½¿ç”¨ï¼Œ ä½†æ˜¯å´æä¾›äº†æ›´é«˜å±‚æ¬¡çš„å­—èŠ‚ç æŒ‡ä»¤monitorenterå’Œmonitorexitæ¥éšå¼åœ°ä½¿ç”¨è¿™ä¸¤ä¸ªæ“ä½œï¼Œè¿™ä¸¤ä¸ªå­—èŠ‚ç æŒ‡ä»¤åæ˜ åˆ°Javaä»£ç ä¸­å°±æ˜¯åŒæ­¥å—synchronizedå…³é”®å­—ï¼Œå› æ­¤åœ¨synchronizedå—ä¹‹é—´çš„æ“ä½œä¹Ÿå…·å¤‡åŽŸå­æ€§ã€‚ å¯è§æ€§ï¼ˆVisibilityï¼‰ï¼šå¯è§æ€§æ˜¯æŒ‡å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡çš„å€¼ï¼Œå…¶ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹å³ å¾—çŸ¥è¿™ä¸ªä¿®æ”¹ã€‚Javaå†…å­˜æ¨¡åž‹æ˜¯é€šè¿‡åœ¨å˜é‡ä¿®æ”¹åŽå°†æ–°å€¼åŒæ­¥å›žä¸»å†…å­˜ï¼Œåœ¨å˜é‡è¯»å–å‰ä»Žä¸»å†…å­˜åˆ·æ–°å˜é‡å€¼è¿™ç§ä¾èµ–ä¸»å†…å­˜ä½œä¸ºä¼ é€’åª’ä»‹çš„æ–¹å¼æ¥å®žçŽ°å¯è§æ€§çš„ã€‚ç®€å•è¯´å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹çœ‹åˆ°å¦ä¸€ä¸ªçº¿ç¨‹å‘ç”Ÿæ›´æ”¹æ‰€éœ€çš„æ¡ä»¶ï¼Œå³synchronizedå’Œfinalå®žçŽ°äº†å¯è§æ€§çš„æ¡ä»¶ã€‚ æœ‰åºæ€§ï¼ˆOrderingï¼‰ï¼šå¦‚æžœåœ¨æœ¬çº¿ç¨‹å†…è§‚å¯Ÿï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯æœ‰åºçš„ï¼›å¦‚æžœåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è§‚å¯Ÿå¦ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯æ— åºçš„ã€‚å‰åŠå¥æ˜¯æŒ‡â€œçº¿ç¨‹å†…è¡¨ çŽ°ä¸ºä¸²è¡Œçš„è¯­ä¹‰â€ï¼ˆWithin-Thread As-If-Serial Semanticsï¼‰ï¼ŒåŽåŠå¥æ˜¯æŒ‡â€œæŒ‡ä»¤é‡æŽ’åºâ€çŽ°è±¡ å’Œâ€œå·¥ä½œå†…å­˜ä¸Žä¸»å†…å­˜åŒæ­¥å»¶è¿Ÿâ€çŽ°è±¡ã€‚ å‚è€ƒèµ„æ–™ ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆç¬¬2ç‰ˆï¼‰ã€‹å‘¨å¿—æ˜Žè‘—\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"slug\":\"JVMåŠå¹¶å‘ç¼–ç¨‹\",\"permalink\":\"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/\"}]},{\"title\":\"é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹\",\"slug\":\"é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹\",\"date\":\"2018-05-24T12:41:18.000Z\",\"updated\":\"2019-11-20T15:08:58.973Z\",\"comments\":true,\"path\":\"2018/05/24/é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/05/24/é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹/\",\"excerpt\":\"\",\"text\":\"åœ¨å…¬å¸ITéƒ¨é—¨é‡Œ,å„ä¸ªå›¢é˜Ÿ(äº§å“è®¾è®¡å›¢é˜Ÿ-UI/UEè®¾è®¡å¸ˆ-å‰ç«¯å·¥ç¨‹å¸ˆ-ç§»åŠ¨ç«¯å·¥ç¨‹å¸ˆ-åŽç«¯å·¥ç¨‹å¸ˆ-æµ‹è¯•å·¥ç¨‹å¸ˆ-è¿ç»´å·¥ç¨‹å¸ˆ)äº’ç›¸åä½œ,å…±åŒè¾¾åˆ°é¡¹ç›®ä¸Šçº¿çš„ç›®çš„.å¦‚æžœä¸€ä¸ªå…¬å¸çš„ITéƒ¨é—¨äººå‘˜ç®¡ç†ä»¥åŠé¡¹ç›®å¼€å‘æµç¨‹ä¸å¤ªå®Œå–„,å°±ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜,æ¯”å¦‚æ‰¯çš®æ— ç•Œå’Œæ²Ÿé€šä½Žæ•ˆç­‰é—®é¢˜,è¿™äº›ä¸¥é‡å½±å“åˆ°å·¥ä½œæ•ˆçŽ‡,æ‰“ç ´äº†é¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸ.é‚£ä¹ˆçœŸæ­£çš„å›¢é˜Ÿåä½œåº”è¯¥æ˜¯æ€Žä¹ˆæ ·çš„å‘¢?æˆ‘ä»¬ä¸å¦¨çœ‹ä¸‹å›¾:é’ˆå¯¹ä¸Šè¿°çš„æµç¨‹å›¾,è¯»è€…å¯æ ¹æ®è‡ªå·±å…¬å¸çš„å®žé™…æƒ…å†µ,æ¥å‘è¡¨ç•™è¨€è¯„è®º,ç¬”è€…å¾ˆé«˜å…´ä¸Žå„ä½å°ä¼™ä¼´æ¥æŽ¢è®¨æ­¤äº‹.\",\"categories\":[{\"name\":\"pm\",\"slug\":\"pm\",\"permalink\":\"http://ltyeamin.github.io/categories/pm/\"}],\"tags\":[{\"name\":\"Team Building\",\"slug\":\"Team-Building\",\"permalink\":\"http://ltyeamin.github.io/tags/Team-Building/\"}]},{\"title\":\"Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç†\",\"slug\":\"Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç†\",\"date\":\"2018-05-24T02:18:00.000Z\",\"updated\":\"2019-11-20T15:08:57.398Z\",\"comments\":true,\"path\":\"2018/05/24/Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç†/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/05/24/Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç†/\",\"excerpt\":\"\",\"text\":\"ç™¾å®¶æŠ€æœ¯,è°ˆç¬‘å¤ä»Š.ä»Šå¤©æˆ‘ä»¬ä¸è®²ä¸‰å›½,æˆ‘ä»¬è®²ä¸€è®²å¾®æœåŠ¡ç½‘å…³ä¸­çš„ä¸€äº›ç»†èŠ‚:Zuulè¿‡æ»¤å™¨. Zuulè¿‡æ»¤å™¨Spring Cloudä¸­çš„Zuulä¸ºæˆ‘ä»¬æä¾›äº†ç»Ÿä¸€å¯¹å¤–,è·¯ç”±è½¬å‘å’Œè¿‡æ»¤æ‹¦æˆªçš„å¼ºå¤§åŠŸèƒ½.åœ¨Spring Cloud Zuulä¸­å®žçŽ°çš„è¿‡æ»¤å™¨å¿…é¡»åŒ…å«4ä¸ªåŸºæœ¬ç‰¹å¾:è¿‡æ»¤ç±»åž‹,æ‰§è¡Œé¡ºåº,æ‰§è¡Œæ¡ä»¶,å…·ä½“æ“ä½œ.è¿™äº›ç‰¹å¾å°±æ˜¯ZuulFilteræŠ½è±¡ç±»ä¸­çš„4ä¸ªæŠ½è±¡æ–¹æ³•.è¯ä¸å¤šè¯´,ç›´æŽ¥ç”¨ZuulFilteræºç è¯´äº‹:12345678public abstract class ZuulFilter implements IZuulFilter, Comparable&amp;lt;ZuulFilter&amp;gt; &#123; abstract public String filterType(); abstract public int filterOrder(); /**IZuulFilteræŽ¥å£ä¸­çš„æ–¹æ³•*/ boolean shouldFilter(); /**IZuulFilteræŽ¥å£ä¸­çš„æ–¹æ³•*/ Object run();&#125; ä»¥ä¸Šæ–¹æ³•ä¸ŽåŠŸèƒ½è§£è¯´: filterType: è¿‡æ»¤å™¨ç±»åž‹,å°±æ˜¯ç‰¹æ®Šçš„å­—ç¬¦ä¸²(å¯åœ¨FilterConstantsæŽ¥å£å¸¸é‡ä¸­æ‰¾åˆ°).Zuulä¸­å®šä¹‰äº†4ä¸ªä¸åŒç”Ÿå‘½å‘¨æœŸçš„è¿‡æ»¤å™¨ç±»åž‹,å…·ä½“å¦‚ä¸‹: pre: å¯ä»¥åœ¨è¯·æ±‚è¢«è·¯ç”±ä¹‹å‰è°ƒç”¨ routing: åœ¨è·¯ç”±è¯·æ±‚æ—¶å€™è¢«è°ƒç”¨ post: åœ¨routingå’Œerrorè¿‡æ»¤å™¨ä¹‹åŽè¢«è°ƒç”¨ error: å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯æ—¶è¢«è°ƒç”¨ filterOrder: é€šè¿‡intå€¼æ¥å®šä¹‰è¿‡æ»¤å™¨çš„æ‰§è¡Œé¡ºåº,æ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ shouldFilter: è¿”å›žä¸€ä¸ªbooleanç±»åž‹æ¥åˆ¤æ–­è¯¥è¿‡æ»¤å™¨æ˜¯å¦è¦æ‰§è¡Œ,æˆ‘ä»¬å¯ä»¥é€šè¿‡æ­¤æ–¹æ³•æ¥æŒ‡å®šè¿‡æ»¤å™¨çš„æœ‰æ•ˆèŒƒå›´. run: è¿‡æ»¤å™¨çš„å…·ä½“é€»è¾‘,åœ¨è¯¥å‡½æ•°ä¸­,æˆ‘ä»¬å¯ä»¥å®žçŽ°è‡ªå®šä¹‰çš„è¿‡æ»¤é€»è¾‘,æ¥ç¡®å®šæ˜¯å¦è¦æ‹¦æˆªå½“å‰çš„è¯·æ±‚,ä¸å¯¹å…¶è¿›è¡ŒåŽç»­çš„è·¯ç”±,æˆ–æ˜¯åœ¨è¯·æ±‚è·¯ç”±è¿”å›žç»“æžœä¹‹åŽ,å¯¹å¤„ç†ç»“æžœåšä¸€äº›åŠ å·¥ç­‰.è¯·æ±‚ç”Ÿå‘½å‘¨æœŸZuulé»˜è®¤å®šä¹‰äº†å››ä¸ªä¸åŒçš„è¿‡æ»¤å™¨ç±»åž‹,å®ƒä»¬è¦†ç›–äº†ä¸€ä¸ªå¤–éƒ¨HTTPè¯·æ±‚åˆ°è¾¾APIç½‘å…³,ç›´åˆ°è¿”å›žè¯·æ±‚ç»“æžœçš„å…¨éƒ¨ç”Ÿå‘½å‘¨æœŸ.ä¸‹å›¾æºè‡ªZuulçš„å®˜æ–¹WIKIä¸­å…³äºŽè¯·æ±‚ç”Ÿå‘½å‘¨æœŸçš„å›¾è§£,å®ƒæè¿°äº†ä¸€ä¸ªHTTPè¯·æ±‚åˆ°è¾¾APIç½‘å…³ä¹‹åŽ,åœ¨ä¸åŒç±»åž‹è¿‡æ»¤å™¨ä¹‹é—´çš„å¤„ç†è¿‡ç¨‹. å½“å¤–éƒ¨HTTPè¯·æ±‚åˆ°è¾¾APIç½‘å…³æœåŠ¡æ—¶,ä¼šè¿›å…¥ç¬¬ä¸€ä¸ªé˜¶æ®µpre,æ­¤æ—¶æ‰§è¡Œpreç±»åž‹çš„è¿‡æ»¤å™¨,è¯¥ç±»åž‹çš„è¿‡æ»¤å™¨ä¸»è¦è¿›è¡Œå‰ç½®åŠ å·¥,æ¯”å¦‚è¯·æ±‚æ ¡éªŒç­‰. å½“preé˜¶æ®µæ‰§è¡Œå®Œæ¯•åŽè¿›å…¥routingè¯·æ±‚è½¬å‘é˜¶æ®µ,æ­¤æ—¶æ‰§è¡Œroutingç±»åž‹çš„è¿‡æ»¤å™¨,è¯¥ç±»åž‹çš„è¿‡æ»¤å™¨ä¸»è¦å¤„ç†å°†å¤–éƒ¨çš„è¯·æ±‚è½¬å‘åˆ°å…·ä½“æœåŠ¡å®žä¾‹çš„è¿‡ç¨‹,å½“æœåŠ¡å°†è¯·æ±‚ç»“æžœéƒ½è¿”å›žåŽ,routingé˜¶æ®µæ‰ç®—å®Œæˆ. å½“routingé˜¶æ®µæ‰§è¡Œå®Œæ¯•åŽè¿›å…¥posté˜¶æ®µ,æ­¤æ—¶æ‰§è¡Œpostç±»åž‹çš„è¿‡æ»¤å™¨,è¯¥ç±»åž‹çš„è¿‡æ»¤å™¨ä¸ä»…å¯ä»¥èŽ·å–åˆ°è¯·æ±‚ä¿¡æ¯,ä¹Ÿå¯ä»¥èŽ·å–æœåŠ¡å®žä¾‹è¿”å›žçš„å“åº”ä¿¡æ¯,è¿™æ ·æˆ‘ä»¬å¯ä»¥å¯¹ç»“æžœè¿›è¡ŒåŠ å·¥è½¬åŒ–. å½“ä»¥ä¸Š3ä¸ªè¿‡æ»¤å™¨ä¸­å‘ç”Ÿå¼‚å¸¸æ—¶æ‰è§¦å‘,æœ€åŽè¿˜æ˜¯æµå‘postç±»åž‹çš„è¿‡æ»¤å™¨,å› ä¸ºå®ƒéœ€è¦å°†æœ€ç»ˆç»“æžœè¿”å›žç»™å®¢æˆ·ç«¯. æ ¸å¿ƒè¿‡æ»¤å™¨åœ¨Spring Cloud Zuulä¸­,ä¸ºäº†æˆ‘ä»¬æ–¹ä¾¿,å®ƒåœ¨è¯·æ±‚è¿‡ç¨‹ä¸­ç»™æˆ‘ä»¬é»˜è®¤å®žçŽ°äº†ä¸€å¤§å †ä¸åŒç±»åž‹çš„æ ¸å¿ƒè¿‡æ»¤å™¨,å®ƒåœ¨GateWayæœåŠ¡å¯åŠ¨çš„æ—¶å€™è‡ªåŠ¨åŠ è½½å¯ç”¨.ä»Žspring-cloud-netflix-core-1.3.1æ¨¡å—ä¸‹çš„org.springframework.cloud.netflix.zuul.filtersåŒ…ä¸‹:å¦‚ä¸Šå›¾,å®˜æ–¹æä¾›äº†ä¸‰ä¸ªä¸åŒç”Ÿå‘½å‘¨æœŸçš„è¿‡æ»¤å™¨,ç†è§£è¿™äº›è¿‡æ»¤å™¨å¤„ç†æµç¨‹æœ‰åŠ©äºŽæˆ‘ä»¬æ›´åŠ æ·±å…¥åœ°å®šåˆ¶è‡ªèº«ç³»ç»Ÿè¿‡æ»¤å™¨. preè¿‡æ»¤å™¨ ServletDetectionFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º-3,æ˜¯æœ€å…ˆè¢«æ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨æ€»æ˜¯ä¼šè¢«æ‰§è¡Œ,ä¸»è¦ç”¨æ¥æ£€æµ‹å½“å‰è¯·æ±‚æ˜¯é€šè¿‡Springçš„DispatcherServletå¤„ç†è¿è¡Œ,è¿˜æ˜¯é€šè¿‡ZuulServletæ¥å¤„ç†è¿è¡Œçš„.å®ƒçš„æ£€æµ‹ç»“æžœä¼šä»¥å¸ƒå°”ç±»åž‹ä¿å­˜åœ¨å½“å‰è¯·æ±‚ä¸Šä¸‹æ–‡çš„isDispatcherServletRequestå‚æ•°ä¸­,è¿™æ ·åœ¨åŽç»­çš„è¿‡æ»¤å™¨ä¸­,æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡RequestUtils.isDispatcherServletRequest()å’ŒRequestUtils.isZuulServletRequest()æ–¹æ³•åˆ¤æ–­å®ƒä»¥å®žçŽ°åšä¸åŒçš„å¤„ç†.ä¸€èˆ¬æƒ…å†µä¸‹,å‘é€åˆ°APIç½‘å…³çš„å¤–éƒ¨è¯·æ±‚éƒ½ä¼šè¢«Springçš„DispatcherServletå¤„ç†,é™¤äº†é€šè¿‡/zuul/è·¯å¾„è®¿é—®çš„è¯·æ±‚ä¼šç»•è¿‡DispatcherServlet,è¢«ZuulServletå¤„ç†,ä¸»è¦ç”¨æ¥åº”å¯¹å¤„ç†å¤§æ–‡ä»¶ä¸Šä¼ çš„æƒ…å†µ.å¦å¤–,å¯¹äºŽZuulServletçš„è®¿é—®è·¯å¾„/zuul/,æˆ‘ä»¬å¯ä»¥é€šè¿‡zuul.servletPathå‚æ•°æ¥è¿›è¡Œä¿®æ”¹. Servlet30WrapperFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º-2,æ˜¯ç¬¬äºŒä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.ç›®å‰çš„å®žçŽ°ä¼šå¯¹æ‰€æœ‰è¯·æ±‚ç”Ÿæ•ˆ,ä¸»è¦ä¸ºäº†å°†åŽŸå§‹çš„HttpServletRequeståŒ…è£…æˆServlet30RequestWrapperå¯¹è±¡. FormBodyWrapperFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º-1,æ˜¯ç¬¬ä¸‰ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä»…å¯¹ä¸¤ç§ç±»è¯·æ±‚ç”Ÿæ•ˆ,ç¬¬ä¸€ç±»æ˜¯Content-Typeä¸ºapplication/x-www-form-urlencodedçš„è¯·æ±‚,ç¬¬äºŒç±»æ˜¯Content-Typeä¸ºmultipart/form-dataå¹¶ä¸”æ˜¯ç”±Springçš„DispatcherServletå¤„ç†çš„è¯·æ±‚(ç”¨åˆ°äº†ServletDetectionFilterçš„å¤„ç†ç»“æžœ).è€Œè¯¥è¿‡æ»¤å™¨çš„ä¸»è¦ç›®çš„æ˜¯å°†ç¬¦åˆè¦æ±‚çš„è¯·æ±‚ä½“åŒ…è£…æˆFormBodyRequestWrapperå¯¹è±¡. DebugFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º1,æ˜¯ç¬¬å››ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä¼šæ ¹æ®é…ç½®å‚æ•°zuul.debug.requestå’Œè¯·æ±‚ä¸­çš„debugå‚æ•°æ¥å†³å®šæ˜¯å¦æ‰§è¡Œè¿‡æ»¤å™¨ä¸­çš„æ“ä½œ.è€Œå®ƒçš„å…·ä½“æ“ä½œå†…å®¹åˆ™æ˜¯å°†å½“å‰çš„è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­çš„debugRoutingå’ŒdebugRequestå‚æ•°è®¾ç½®ä¸ºtrue.ç”±äºŽåœ¨åŒä¸€ä¸ªè¯·æ±‚çš„ä¸åŒç”Ÿå‘½å‘¨æœŸä¸­,éƒ½å¯ä»¥è®¿é—®åˆ°è¿™ä¸¤ä¸ªå€¼,æ‰€ä»¥æˆ‘ä»¬åœ¨åŽç»­çš„å„ä¸ªè¿‡æ»¤å™¨ä¸­å¯ä»¥åˆ©ç”¨è¿™ä¸¤å€¼æ¥å®šä¹‰ä¸€äº›debugä¿¡æ¯,è¿™æ ·å½“çº¿ä¸ŠçŽ¯å¢ƒå‡ºçŽ°é—®é¢˜çš„æ—¶å€™,å¯ä»¥é€šè¿‡è¯·æ±‚å‚æ•°çš„æ–¹å¼æ¥æ¿€æ´»è¿™äº›debugä¿¡æ¯ä»¥å¸®åŠ©åˆ†æžé—®é¢˜.å¦å¤–,å¯¹äºŽè¯·æ±‚å‚æ•°ä¸­çš„debugå‚æ•°,æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡zuul.debug.parameteræ¥è¿›è¡Œè‡ªå®šä¹‰. PreDecorationFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º5,æ˜¯preé˜¶æ®µæœ€åŽè¢«æ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä¼šåˆ¤æ–­å½“å‰è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­æ˜¯å¦å­˜åœ¨forward.toå’ŒserviceIdå‚æ•°,å¦‚æžœéƒ½ä¸å­˜åœ¨,é‚£ä¹ˆå®ƒå°±ä¼šæ‰§è¡Œå…·ä½“è¿‡æ»¤å™¨çš„æ“ä½œ(å¦‚æžœæœ‰ä¸€ä¸ªå­˜åœ¨çš„è¯,è¯´æ˜Žå½“å‰è¯·æ±‚å·²ç»è¢«å¤„ç†è¿‡äº†,å› ä¸ºè¿™ä¸¤ä¸ªä¿¡æ¯å°±æ˜¯æ ¹æ®å½“å‰è¯·æ±‚çš„è·¯ç”±ä¿¡æ¯åŠ è½½è¿›æ¥çš„).è€Œå®ƒçš„å…·ä½“æ“ä½œå†…å®¹å°±æ˜¯ä¸ºå½“å‰è¯·æ±‚åšä¸€äº›é¢„å¤„ç†,æ¯”å¦‚: è¿›è¡Œè·¯ç”±è§„åˆ™çš„åŒ¹é…,åœ¨è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­è®¾ç½®è¯¥è¯·æ±‚çš„åŸºæœ¬ä¿¡æ¯ä»¥åŠå°†è·¯ç”±åŒ¹é…ç»“æžœç­‰ä¸€äº›è®¾ç½®ä¿¡æ¯ç­‰,è¿™äº›ä¿¡æ¯å°†æ˜¯åŽç»­è¿‡æ»¤å™¨è¿›è¡Œå¤„ç†çš„é‡è¦ä¾æ®,æˆ‘ä»¬å¯ä»¥é€šè¿‡RequestContext.getCurrentContext()æ¥è®¿é—®è¿™äº›ä¿¡æ¯.å¦å¤–,æˆ‘ä»¬è¿˜å¯ä»¥åœ¨è¯¥å®žçŽ°ä¸­æ‰¾åˆ°ä¸€äº›å¯¹HTTPå¤´è¯·æ±‚è¿›è¡Œå¤„ç†çš„é€»è¾‘,å…¶ä¸­åŒ…å«äº†ä¸€äº›è€³ç†Ÿèƒ½è¯¦çš„å¤´åŸŸ,æ¯”å¦‚: X-Forwarded-Host,X-Forwarded-Port.å¦å¤–,å¯¹äºŽè¿™äº›å¤´åŸŸçš„è®°å½•æ˜¯é€šè¿‡zuul.addProxyHeaderså‚æ•°è¿›è¡ŒæŽ§åˆ¶çš„,è€Œè¿™ä¸ªå‚æ•°é»˜è®¤å€¼ä¸ºtrue,æ‰€ä»¥Zuulåœ¨è¯·æ±‚è·³è½¬æ—¶é»˜è®¤åœ°ä¼šä¸ºè¯·æ±‚å¢žåŠ X-Forwarded-*å¤´åŸŸ,åŒ…æ‹¬: X-Forwarded-Host,X-Forwarded-Port,X-Forwarded-For,X-Forwarded-Prefix,X-Forwarded-Proto.æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®zuul.addProxyHeaders=falseå…³é—­å¯¹è¿™äº›å¤´åŸŸçš„æ·»åŠ åŠ¨ä½œ. routeè¿‡æ»¤å™¨ RibbonRoutingFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º10,æ˜¯routeé˜¶æ®µç¬¬ä¸€ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨åªå¯¹è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨serviceIdå‚æ•°çš„è¯·æ±‚è¿›è¡Œå¤„ç†,å³åªå¯¹é€šè¿‡serviceIdé…ç½®è·¯ç”±è§„åˆ™çš„è¯·æ±‚ç”Ÿæ•ˆ.è€Œè¯¥è¿‡æ»¤å™¨çš„æ‰§è¡Œé€»è¾‘å°±æ˜¯é¢å‘æœåŠ¡è·¯ç”±çš„æ ¸å¿ƒ,å®ƒé€šè¿‡ä½¿ç”¨Ribbonå’ŒHystrixæ¥å‘æœåŠ¡å®žä¾‹å‘èµ·è¯·æ±‚,å¹¶å°†æœåŠ¡å®žä¾‹çš„è¯·æ±‚ç»“æžœè¿”å›ž. SimpleHostRoutingFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º100,æ˜¯routeé˜¶æ®µç¬¬äºŒä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨åªå¯¹è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨routeHostå‚æ•°çš„è¯·æ±‚è¿›è¡Œå¤„ç†,å³åªå¯¹é€šè¿‡urlé…ç½®è·¯ç”±è§„åˆ™çš„è¯·æ±‚ç”Ÿæ•ˆ.è€Œè¯¥è¿‡æ»¤å™¨çš„æ‰§è¡Œé€»è¾‘å°±æ˜¯ç›´æŽ¥å‘routeHostå‚æ•°çš„ç‰©ç†åœ°å€å‘èµ·è¯·æ±‚,ä»Žæºç ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“è¯¥è¯·æ±‚æ˜¯ç›´æŽ¥é€šè¿‡httpclientåŒ…å®žçŽ°çš„,è€Œæ²¡æœ‰ä½¿ç”¨Hystrixå‘½ä»¤è¿›è¡ŒåŒ…è£…,æ‰€ä»¥è¿™ç±»è¯·æ±‚å¹¶æ²¡æœ‰çº¿ç¨‹éš”ç¦»å’Œæ–­è·¯å™¨çš„ä¿æŠ¤. SendForwardFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º500,æ˜¯routeé˜¶æ®µç¬¬ä¸‰ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨åªå¯¹è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨forward.toå‚æ•°çš„è¯·æ±‚è¿›è¡Œå¤„ç†,å³ç”¨æ¥å¤„ç†è·¯ç”±è§„åˆ™ä¸­çš„forwardæœ¬åœ°è·³è½¬é…ç½®. postè¿‡æ»¤å™¨ SendErrorFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º0,æ˜¯posté˜¶æ®µç¬¬ä¸€ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä»…åœ¨è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­åŒ…å«error.status_codeå‚æ•°(ç”±ä¹‹å‰æ‰§è¡Œçš„è¿‡æ»¤å™¨è®¾ç½®çš„é”™è¯¯ç¼–ç )å¹¶ä¸”è¿˜æ²¡æœ‰è¢«è¯¥è¿‡æ»¤å™¨å¤„ç†è¿‡çš„æ—¶å€™æ‰§è¡Œ.è€Œè¯¥è¿‡æ»¤å™¨çš„å…·ä½“é€»è¾‘å°±æ˜¯åˆ©ç”¨è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­çš„é”™è¯¯ä¿¡æ¯æ¥ç»„ç»‡æˆä¸€ä¸ªforwardåˆ°APIç½‘å…³/erroré”™è¯¯ç«¯ç‚¹çš„è¯·æ±‚æ¥äº§ç”Ÿé”™è¯¯å“åº”. SendResponseFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º1000,æ˜¯posté˜¶æ®µæœ€åŽæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä¼šæ£€æŸ¥è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­æ˜¯å¦åŒ…å«è¯·æ±‚å“åº”ç›¸å…³çš„å¤´ä¿¡æ¯,å“åº”æ•°æ®æµæˆ–æ˜¯å“åº”ä½“,åªæœ‰åœ¨åŒ…å«å®ƒä»¬å…¶ä¸­ä¸€ä¸ªçš„æ—¶å€™å°±ä¼šæ‰§è¡Œå¤„ç†é€»è¾‘.è€Œè¯¥è¿‡æ»¤å™¨çš„å¤„ç†é€»è¾‘å°±æ˜¯åˆ©ç”¨è¯·æ±‚ä¸Šä¸‹æ–‡çš„å“åº”ä¿¡æ¯æ¥ç»„ç»‡éœ€è¦å‘é€å›žå®¢æˆ·ç«¯çš„å“åº”å†…å®¹. è‡ªå®šä¹‰filteråŠå¼‚å¸¸å¤„ç†1234567891011121314151617181920212223242526272829303132package cn.yeamin.gateway.filter;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.cloud.netflix.zuul.filters.support.FilterConstants;import org.springframework.stereotype.Component;import com.netflix.zuul.ZuulFilter;@Componentpublic class ThrowExceptionFilter extends ZuulFilter &#123; private static final Logger log = LoggerFactory.getLogger(ThrowExceptionFilter.class); @Override public boolean shouldFilter() &#123; return true; &#125; @Override public Object run() &#123; log.info(\\\"æˆ‘åœ¨è¿™å°±æ˜¯è¦ä¸ºéš¾ä½ ,ç»™ä½ æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸,çœ‹ä½ èƒ½æ‹¿æˆ‘èƒ½æ€Žä¹ˆæ ·,å“ˆå“ˆ......\\\"); doSomething(); return null; &#125; @Override public String filterType() &#123; return FilterConstants.PRE_TYPE; &#125; @Override public int filterOrder() &#123; return 0; &#125; private void doSomething() &#123; throw new RuntimeException(\\\"ä¼™è®¡,å¯¹ä¸ä½äº†,ç»™ä½ åˆ¶é€ ä¸€äº›éº»çƒ¦......\\\"); &#125;&#125; æ³¨é‡ŠæŽ‰run()æ–¹æ³•ä¸­çš„doSomething();è¿™ä¸€è¡Œ,è¿›è¡Œè¯·æ±‚,ä»¥å‰æ­£å¸¸1234567891011Administrator@EZ-20161212OKBJ MINGW64 ~/Desktop$ curl -i http://127.0.0.1:9005/item-service/item/2 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 91 0 91 0 0 91 0 --:--:-- --:--:-- --:--:-- 91000HTTP/1.1 200X-Application-Context: api-gateway:9005date: Thu, 24 May 2018 06:16:41 GMTContent-Type: application/json;charset=UTF-8Transfer-Encoding: chunked&#123;&quot;id&quot;:2,&quot;title&quot;:&quot;å•†å“æ ‡é¢˜2&quot;,&quot;pic&quot;:&quot;http://å›¾ç‰‡2&quot;,&quot;desc&quot;:&quot;å•†å“æè¿°2&quot;,&quot;price&quot;:2000&#125; æ‰“å¼€æ³¨é‡ŠåŽ,è¿›è¡Œè¯·æ±‚,è¿”å›ž500é”™è¯¯,å¦‚ä¸‹ç»“æžœ:12345678Administrator@EZ-20161212OKBJ MINGW64 ~/Desktop$ curl -v http://127.0.0.1:9005/item-service/item/2* Trying 127.0.0.1...* TCP_NODELAY set % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0* Connected to 127.0.0.1 (127.0.0.1) port 9005 (#0)&#123;&quot;timestamp&quot;:1527143000184,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;exception&quot;:&quot;com.netflix.zuul.exception.ZuulException&quot;,&quot;message&quot;:&quot;pre:ThrowExceptionFilter&quot;&#125; ç”±ä¸Šå¯è§,æˆ‘ä»¬è™½ç„¶èƒ½å¤Ÿæ¸…æ™°çœ‹åˆ°statusä¸º500,errorçš„æè¿°,exceptionçš„classä¿¡æ¯,messageä¿¡æ¯,ä½†æ˜¯ä½œä¸ºæˆ‘ä»¬å¼€å‘äººå‘˜å¹¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆè€Œå¼‚å¸¸,å‡†ç¡®æ¥è¯´,å¼‚å¸¸ä¿¡æ¯ä¸å¤Ÿå‡†ç¡®.é’ˆå¯¹ä»¥ä¸Šæ–¹æ¡ˆæœ‰ä¸¤ç§æ–¹æ¡ˆ:ä¸¥æ ¼çš„try-catchå¤„ç†å’ŒErrorFilterå¤„ç†1.æ–¹å¼ä¸€: ä¸¥æ ¼çš„try-catchå¤„ç†å›žæƒ³ä¸€ä¸‹,æˆ‘ä»¬æœ‰ä¸€ä¸ªpostè¿‡æ»¤å™¨SendErrorFilter,å®ƒæ˜¯ç”¨æ¥å¤„ç†å¼‚å¸¸ä¿¡æ¯çš„.æ ¹æ®æ­£å¸¸æµç¨‹,è¯¥è¿‡æ»¤å™¨ä¼šå¤„ç†å¼‚å¸¸ä¿¡æ¯,é‚£ä¹ˆåœ¨è¿™é‡Œæ²¡æœ‰å‡ºçŽ°è¾ƒä¸ºæ˜Žç¡®çš„å¼‚å¸¸ä¿¡æ¯å¾ˆæœ‰å¯èƒ½æ˜¯è¿™ä¸ªè¿‡æ»¤å™¨æ²¡æœ‰æ‰§è¡Œ.æ‰€ä»¥æˆ‘ä»¬ä¸å¦¨æ¥çœ‹çœ‹SendErrorFilterçš„æºç :12345678910public class SendErrorFilter extends ZuulFilter &#123; @Override public boolean shouldFilter() &#123; RequestContext ctx = RequestContext.getCurrentContext(); // only forward to errorPath if it hasn't been forwarded to already return ctx.getThrowable() != null &amp;&amp; !ctx.getBoolean(SEND_ERROR_FILTER_RAN, false); &#125;&#125; ä»Žä¸Šé¢æºç åˆ†æž,shouldFilter()æ–¹æ³•ä¸­,å¯å¾—çŸ¥:ctx.getThrowable() != nullè¯´æ˜Žè¯·æ±‚ä¸Šä¸‹æ–‡å¿…é¡»æœ‰ä¸ªThrowableå­ç±»çš„å¼‚å¸¸å¯¹è±¡,æˆ‘ä»¬è‡ªå·±å®žçŽ°çš„æ—¶å€™å¹¶æ²¡æœ‰å°†å¼‚å¸¸å¯¹è±¡æ”¾å…¥ä¸Šä¸‹æ–‡,SendErrorFilterè‡ªç„¶ä¸ä¼šæ‰§è¡Œ.åˆ†æžè¿‡åŽæˆ‘ä»¬å°±æ˜Žç™½äº†,å…·ä½“æ€Žä¹ˆè§£å†³å¯ä»¥å‚è€ƒRibbonRoutingFilterä¸­runæ–¹æ³•å¼‚å¸¸å¤„ç†é€»è¾‘å®žçŽ°:1234567891011121314151617@Overridepublic Object run() &#123; RequestContext context = RequestContext.getCurrentContext(); this.helper.addIgnoredHeaders(); try &#123; RibbonCommandContext commandContext = buildCommandContext(context); ClientHttpResponse response = forward(commandContext); setResponse(response); return response; &#125; catch (ZuulException ex) &#123; throw new ZuulRuntimeException(ex); &#125; catch (Exception ex) &#123; throw new ZuulRuntimeException(ex); &#125;&#125; å‚è€ƒä¹‹åŽ,æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»¿ç…§ä»¥ä¸Šä»£ç è§£å†³æˆ‘ä»¬çš„é—®é¢˜:12345678910@Overridepublic Object run() &#123; try &#123; log.info(\\\"æˆ‘åœ¨è¿™å°±æ˜¯è¦ä¸ºéš¾ä½ ,ç»™ä½ æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸,çœ‹ä½ èƒ½æ‹¿æˆ‘èƒ½æ€Žä¹ˆæ ·,å“ˆå“ˆ......\\\"); doSomething(); &#125;catch (Exception ex) &#123; throw new ZuulRuntimeException(ex); &#125; return null;&#125; æ”¹å¥½ä»£ç æˆ‘ä»¬è®¿é—®ä¸€ä¸‹,å°±æœ‰äº†è¯¦ç»†çš„å¼‚å¸¸ä¿¡æ¯:12345678Administrator@EZ-20161212OKBJ MINGW64 ~/Desktop$ curl -v http://127.0.0.1:9005/item-service/item/2* Trying 127.0.0.1...* TCP_NODELAY set % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0* Connected to 127.0.0.1 (127.0.0.1) port 9005 (#0)&#123;&quot;timestamp&quot;:1527145922072,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;exception&quot;:&quot;com.netflix.zuul.exception.ZuulException&quot;,&quot;message&quot;:&quot;ä¼™è®¡,å¯¹ä¸ä½äº†,ç»™ä½ åˆ¶é€ ä¸€äº›éº»çƒ¦......&quot;&#125; 2.æ–¹å¼äºŒ: ErrorFilterå¤„ç†12345678910111213141516171819202122232425262728293031323334353637383940package cn.yeamin.gateway.filter;import org.springframework.cloud.netflix.zuul.filters.support.FilterConstants;import org.springframework.stereotype.Component;import com.netflix.zuul.ZuulFilter;import com.netflix.zuul.context.RequestContext;/** * Zuulè¿‡æ»¤å™¨ç»Ÿä¸€å¼‚å¸¸å¤„ç† * * @author tong.li * */@Componentpublic class ErrorFilter extends ZuulFilter &#123; @Override public boolean shouldFilter() &#123; return true; &#125; @Override public Object run() &#123; RequestContext ctx = RequestContext.getCurrentContext(); Throwable throwable = ctx.getThrowable(); Throwable ex = throwable.getCause(); ctx.setThrowable(ex); return null; &#125; @Override public String filterType() &#123; return FilterConstants.ERROR_TYPE; &#125; @Override public int filterOrder() &#123; return -1; &#125;&#125; æ³¨é‡ŠæŽ‰ä¹‹å‰çš„try-catchçš„å¤„ç†æ–¹å¼,ç„¶åŽæˆ‘ä»¬å†è®¿é—®:123456Administrator@EZ-20161212OKBJ MINGW64 ~/Desktop$ curl http://127.0.0.1:9005/item-service/item/2 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 190 0 190 0 0 63 0 --:--:-- 0:00:03 --:--:-- 57&#123;&quot;timestamp&quot;:1527148417550,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;exception&quot;:&quot;com.netflix.zuul.exception.ZuulException&quot;,&quot;message&quot;:&quot;ä¼™è®¡,å¯¹ä¸ä½äº†,ç»™ä½ åˆ¶é€ ä¸€äº›éº»çƒ¦......&quot;&#125;\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Spring Cloud\",\"slug\":\"Spring-Cloud\",\"permalink\":\"http://ltyeamin.github.io/tags/Spring-Cloud/\"}]},{\"title\":\"LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢\",\"slug\":\"LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢\",\"date\":\"2018-05-22T13:27:23.000Z\",\"updated\":\"2019-05-29T14:03:52.000Z\",\"comments\":true,\"path\":\"2018/05/22/LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/05/22/LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢/\",\"excerpt\":\"\",\"text\":\"Linuxçš„ä¸–ç•Œé‡Œä¸€åˆ‡çš†æ–‡ä»¶,å¯¹Linuxçš„æ“ä½œå°±æ˜¯å¯¹æ–‡ä»¶çš„å¤„ç†.è¢«ä¸šç•Œç§°ä¸ºâ€ä¸‰å‰‘å®¢â€çš„awk,sed,grepå°±èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿æ›´é«˜æ•ˆçš„å¤„ç†æ–‡ä»¶.â€œä¸‰å‰‘å®¢â€ä¸­grepæ“…é•¿æŸ¥æ‰¾åŠŸèƒ½,sedæ“…é•¿å–è¡Œå’Œæ›¿æ¢,awkæ“…é•¿å–åˆ—.â€œä¸‰å‰‘å®¢â€å°±æ˜¯æ™®é€šçš„Linuxå‘½ä»¤,è€Œæ­£åˆ™è¡¨è¾¾å¼å¥½æ¯”ä¸€ä¸ªæ¨¡æ¿,ä¸¤è€…ç»“åˆä½¿ç”¨,èƒ½å¤Ÿå‘æŒ¥å·¨å¤§çš„ä½œç”¨,å°¤å…¶æ˜¯åœ¨Shellè„šæœ¬ä¸­,ä½¿æˆ‘ä»¬çš„ä»£ç çŸ­å°ç²¾æ‚.æ€»ä¹‹å°±æ˜¯ä¸€å¥è¯:æé«˜å·¥ä½œæ•ˆçŽ‡. æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²:â€abcaxcâ€,æ­£åˆ™è¡¨è¾¾å¼ä¸º:ab.*c è´ªå©ªæ¨¡å¼: ç¼–ç¨‹ä¸­é»˜è®¤æ¨¡å¼,æ­£åˆ™è¡¨è¾¾å¼ä¸€èˆ¬è¶‹å‘äºŽæœ€å¤§é•¿åº¦[åŒ¹é….å¦‚æ­£åˆ™ab.*cæœ€å¤§åŒ¹é…ä¸º:abcaxc éžè´ªå©ªæ¨¡å¼: æ­£åˆ™åŒ¹é…åˆ°ç»“æžœå°±å¥½,è¯´ç™½äº†å°±æ˜¯æœ€å°‘åŒ¹é….å¦‚æ­£åˆ™ab.*cæœ€å¤§åŒ¹é…ä¸º:abc grepå‘½ä»¤grepå‘½ä»¤æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·,å®ƒèƒ½ä½¿ç”¨ç‰¹å®šæ¨¡å¼åŒ¹é…(åŒ…æ‹¬æ­£åˆ™è¡¨è¾¾å¼)æœç´¢æ–‡æœ¬,å¹¶é»˜è®¤è¾“å‡ºåŒ¹é…è¡Œ.unixçš„grepå®¶æ—åŒ…æ‹¬grep,egrepå’Œfgrep,ç¬”è€…åœ¨è¿™ä¸ä¸€ä¸€åˆ—ä¸¾äº†,è¯»è€…å¯è‡ªè¡Œç ”ç©¶.å¸¸ç”¨é€‰é¡¹ -c : è®¡ç®—æ‰¾åˆ°â€™æœå¯»å­—ç¬¦ä¸²â€™çš„æ¬¡æ•° -i : å¿½ç•¥å¤§å°å†™è¿›è¡Œæœç´¢ -n : é¡ºä¾¿è¾“å‡ºè¡Œå· -v : åå‘é€‰æ‹©,å–åæœç´¢ -color=auto : å¯ä»¥æ‰¾åˆ°çš„æœç´¢å…³é”®å­—åŠ ä¸Šé¢œè‰²æ˜¾ç¤º å®žæˆ˜ç¤ºä¾‹1.é€šè¿‡ç®¡é“æŸ¥æ‰¾é…ç½®æ–‡ä»¶é‡Œçš„å­—ç¬¦12[root@litong ~]# cat server.conf | grep portport : 9001 2.é€šè¿‡ç®¡é“æŸ¥æ‰¾ä»¥*.confç»“å°¾çš„æ–‡ä»¶12[root@litong ~]# ll | grep *.conf-rw-r--r-- 1 root root 22 May 18 14:51 server.conf 3.æ ¹æ®å…³é”®å­—æŸ¥æ‰¾è¿›ç¨‹ä¿¡æ¯123[root@litong ~]# ps -ef | grep pptpdroot 29510 1 0 14:55 ? 00:00:00 /usr/sbin/pptpd -froot 30061 25475 0 14:58 pts/2 00:00:00 grep --color=auto pptpd sedå‘½ä»¤sedæ˜¯ä¸€é¡¹LinuxæŒ‡ä»¤,åŠŸèƒ½åŒawkç±»ä¼¼,å·®åˆ«åœ¨äºŽ,sedç®€å•,æ“…é•¿å–è¡Œå’Œæ›¿æ¢,å¯¹åˆ—å¤„ç†çš„åŠŸèƒ½è¦å·®ä¸€äº›,awkçš„åŠŸèƒ½å¤æ‚,å¯¹åˆ—å¤„ç†çš„åŠŸèƒ½æ¯”è¾ƒå¼ºå¤§. å‘½ä»¤æ ¼å¼ sed [options] â€˜commandâ€™ file(s) sed [options] -f scriptfile file(s)å–è¡Œé€‰é¡¹ a\\\\ åœ¨å½“å‰è¡Œä¸‹é¢æ’å…¥æ–‡æœ¬. i\\\\ åœ¨å½“å‰è¡Œä¸Šé¢æ’å…¥æ–‡æœ¬. c\\\\ æŠŠé€‰å®šçš„è¡Œæ”¹ä¸ºæ–°çš„æ–‡æœ¬. d åˆ é™¤,åˆ é™¤é€‰æ‹©çš„è¡Œ. D åˆ é™¤æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œ. s æ›¿æ¢æŒ‡å®šå­—ç¬¦ h æ‹·è´æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒº. H è¿½åŠ æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒº. g èŽ·å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹,å¹¶æ›¿ä»£å½“å‰æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬. G èŽ·å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹,å¹¶è¿½åŠ åˆ°å½“å‰æ¨¡æ¿å—æ–‡æœ¬çš„åŽé¢. l åˆ—è¡¨ä¸èƒ½æ‰“å°å­—ç¬¦çš„æ¸…å•. n è¯»å–ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œ,ç”¨ä¸‹ä¸€ä¸ªå‘½ä»¤å¤„ç†æ–°çš„è¡Œè€Œä¸æ˜¯ç”¨ç¬¬ä¸€ä¸ªå‘½ä»¤. N è¿½åŠ ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œåˆ°æ¨¡æ¿å—åŽé¢å¹¶åœ¨äºŒè€…é—´åµŒå…¥ä¸€ä¸ªæ–°è¡Œ,æ”¹å˜å½“å‰è¡Œå·ç . p æ‰“å°æ¨¡æ¿å—çš„è¡Œ. P(å¤§å†™) æ‰“å°æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œ. q é€€å‡ºSed. b lable åˆ†æ”¯åˆ°è„šæœ¬ä¸­å¸¦æœ‰æ ‡è®°çš„åœ°æ–¹,å¦‚æžœåˆ†æ”¯ä¸å­˜åœ¨åˆ™åˆ†æ”¯åˆ°è„šæœ¬çš„æœ«å°¾. r file ä»Žfileä¸­è¯»è¡Œ. t label ifåˆ†æ”¯,ä»Žæœ€åŽä¸€è¡Œå¼€å§‹,æ¡ä»¶ä¸€æ—¦æ»¡è¶³æˆ–è€…T,tå‘½ä»¤,å°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„,æˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾. T label é”™è¯¯åˆ†æ”¯,ä»Žæœ€åŽä¸€è¡Œå¼€å§‹,ä¸€æ—¦å‘ç”Ÿé”™è¯¯æˆ–è€…T,tå‘½ä»¤,å°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„,æˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾. w file å†™å¹¶è¿½åŠ æ¨¡æ¿å—åˆ°fileæœ«å°¾. W file å†™å¹¶è¿½åŠ æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œåˆ°fileæœ«å°¾. ! è¡¨ç¤ºåŽé¢çš„å‘½ä»¤å¯¹æ‰€æœ‰æ²¡æœ‰è¢«é€‰å®šçš„è¡Œå‘ç”Ÿä½œç”¨. = æ‰“å°å½“å‰è¡Œå·ç . # æŠŠæ³¨é‡Šæ‰©å±•åˆ°ä¸‹ä¸€ä¸ªæ¢è¡Œç¬¦ä»¥å‰. æ›¿æ¢é€‰é¡¹ g è¡¨ç¤ºè¡Œå†…å…¨é¢æ›¿æ¢. p è¡¨ç¤ºæ‰“å°è¡Œ. w è¡¨ç¤ºæŠŠè¡Œå†™å…¥ä¸€ä¸ªæ–‡ä»¶. x è¡¨ç¤ºäº’æ¢æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬å’Œç¼“å†²åŒºä¸­çš„æ–‡æœ¬. y è¡¨ç¤ºæŠŠä¸€ä¸ªå­—ç¬¦ç¿»è¯‘ä¸ºå¦å¤–çš„å­—ç¬¦ï¼ˆä½†æ˜¯ä¸ç”¨äºŽæ­£åˆ™è¡¨è¾¾å¼ï¼‰ \\\\1 å­ä¸²åŒ¹é…æ ‡è®° &amp; å·²åŒ¹é…å­—ç¬¦ä¸²æ ‡è®°å®žæˆ˜ç¤ºä¾‹ èŽ·å–æ–‡ä»¶çš„è¡Œå†…å®¹123456789[root@litong ~]# sed -n 2p /etc/passwd # èŽ·å–/ect/passwdç¬¬äºŒè¡Œbin:x:1:1:bin:/bin:/sbin/nologin[root@litong ~]# sed -n 2,7p /etc/passwd # èŽ·å–/ect/passwdç¬¬äºŒè¡Œåˆ°ç¬¬ä¸ƒè¡Œbin:x:1:1:bin:/bin:/sbin/nologindaemon:x:2:2:daemon:/sbin:/sbin/nologinadm:x:3:4:adm:/var/adm:/sbin/nologinlp:x:4:7:lp:/var/spool/lpd:/sbin/nologinsync:x:5:0:sync:/sbin:/bin/syncshutdown:x:6:0:shutdown:/sbin:/sbin/shutdown 2.æ›¿æ¢æ–‡æœ¬123456[root@litong ~]# sed -i &apos;s/port/pp/g&apos; server.conf # æ–‡ä»¶ä¸­å«æœ‰portä¸ºå…¨å±€æ›¿æ¢pp,,å¹¶ä¸ä¼šçœŸæ­£è¿›è¡Œæ–‡ä»¶æ›¿æ¢,è€Œåªæ˜¯æŠŠæ“ä½œåŽçš„æ–‡æœ¬è¿”å›ž[root@litong ~]# cat server.conf serverserver pp : 9001 pp : 9001 3.åˆ é™¤æ–‡æœ¬12345[root@litong ~]# sed &apos;2d&apos; server.conf # åˆ é™¤æ–‡ä»¶çš„ç¬¬äºŒè¡Œ,å¹¶ä¸ä¼šçœŸæ­£åˆ é™¤æ–‡ä»¶è¡Œ,è€Œåªæ˜¯æŠŠæ“ä½œåŽçš„æ–‡æœ¬è¿”å›žserver pp : 9001 pp : 9001[root@litong ~]# sed &apos;1,$d&apos; server.conf #æ–‡ä»¶æ¸…ç©º,,å¹¶ä¸ä¼šçœŸæ­£åˆ é™¤æ–‡ä»¶è¡Œ,è€Œåªæ˜¯æŠŠæ“ä½œåŽçš„æ–‡æœ¬è¿”å›ž awkå‘½ä»¤awkæ˜¯ä¸€ä¸ªä¼˜è‰¯çš„æ–‡æœ¬å¤„ç†å·¥å…·,LinuxåŠUnixçŽ¯å¢ƒä¸­çŽ°æœ‰çš„åŠŸèƒ½æœ€å¼ºå¤§çš„æ•°æ®å¤„ç†å¼•æ“Žä¹‹ä¸€.è¿™ä¸ªå‘½ä»¤æ“…é•¿å–åˆ—.awkç»è¿‡æ”¹è¿›ç”Ÿæˆæ–°çš„ç‰ˆæœ¬nawkå’Œgawk,çŽ°åœ¨é»˜è®¤linuxç³»ç»Ÿä¸‹æ—¥å¸¸ä½¿ç”¨gawk. å‘½ä»¤æ ¼å¼ awk [é€‰é¡¹å‚æ•°] â€˜scriptâ€™ var=value file(s) awk [é€‰é¡¹å‚æ•°] -f scriptfile var=value file(s) é€‰é¡¹å‚æ•° -F fs or â€“field-separator fs :æŒ‡å®šè¾“å…¥æ–‡ä»¶æŠ˜åˆ†éš”ç¬¦,fsæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼,å¦‚-F:. -v var=value or â€“asign var=valueèµ‹å€¼ä¸€ä¸ªç”¨æˆ·å®šä¹‰å˜é‡. -f scripfile or â€“file scriptfile,ä»Žè„šæœ¬æ–‡ä»¶ä¸­è¯»å–awkå‘½ä»¤. -mf nnn and -mr nnn,å¯¹nnnå€¼è®¾ç½®å†…åœ¨é™åˆ¶,-mfé€‰é¡¹é™åˆ¶åˆ†é…ç»™nnnçš„æœ€å¤§å—æ•°ç›®;-mré€‰é¡¹é™åˆ¶è®°å½•çš„æœ€å¤§æ•°ç›®.è¿™ä¸¤ä¸ªåŠŸèƒ½æ˜¯Bellå®žéªŒå®¤ç‰ˆawkçš„æ‰©å±•åŠŸèƒ½,åœ¨æ ‡å‡†awkä¸­ä¸é€‚ç”¨. -W compact or â€“compat, -W traditional or â€“traditional,åœ¨å…¼å®¹æ¨¡å¼ä¸‹è¿è¡Œawk.æ‰€ä»¥gawkçš„è¡Œä¸ºå’Œæ ‡å‡†çš„awkå®Œå…¨ä¸€æ ·,æ‰€æœ‰çš„awkæ‰©å±•éƒ½è¢«å¿½ç•¥. -W copyleft or â€“copyleft, -W copyright or â€“copyright,æ‰“å°ç®€çŸ­çš„ç‰ˆæƒä¿¡æ¯. -W help or â€“help, -W usage or â€“usage,æ‰“å°å…¨éƒ¨awké€‰é¡¹å’Œæ¯ä¸ªé€‰é¡¹çš„ç®€çŸ­è¯´æ˜Ž. -W lint or â€“lint,æ‰“å°ä¸èƒ½å‘ä¼ ç»Ÿunixå¹³å°ç§»æ¤çš„ç»“æž„çš„è­¦å‘Š. -W lint-old or â€“lint-old,æ‰“å°å…³äºŽä¸èƒ½å‘ä¼ ç»Ÿunixå¹³å°ç§»æ¤çš„ç»“æž„çš„è­¦å‘Š. -W posix,æ‰“å¼€å…¼å®¹æ¨¡å¼.ä½†æœ‰ä»¥ä¸‹é™åˆ¶,ä¸è¯†åˆ«ï¼š/x,å‡½æ•°å…³é”®å­—,func,æ¢ç åºåˆ—ä»¥åŠå½“fsæ˜¯ä¸€ä¸ªç©ºæ ¼æ—¶,å°†æ–°è¡Œä½œä¸ºä¸€ä¸ªåŸŸåˆ†éš”ç¬¦;æ“ä½œç¬¦å’Œ=ä¸èƒ½ä»£æ›¿^å’Œ^=;fflushæ— æ•ˆ. -W re-interval or â€“re-inerval,å…è®¸é—´éš”æ­£åˆ™è¡¨è¾¾å¼çš„ä½¿ç”¨,å‚è€ƒ(grepä¸­çš„Posixå­—ç¬¦ç±»),å¦‚æ‹¬å·è¡¨è¾¾å¼[[:alpha:]]. -W source program-text or â€“source program-text,ä½¿ç”¨program-textä½œä¸ºæºä»£ç ,å¯ä¸Ž-få‘½ä»¤æ··ç”¨. -W version or â€“version,æ‰“å°bugæŠ¥å‘Šä¿¡æ¯çš„ç‰ˆæœ¬. å®žæˆ˜ç¤ºä¾‹1.æŒ‰ç…§æŒ‡å®šçš„åˆ†éš”ç¬¦å–åˆ— 1234567891011121314151617181920[root@litong ~]# cut -d: -f 1 /etc/passwd # cutå‘½ä»¤ä¹Ÿå¯ä»¥å–åˆ—rootbindaemonadmlpsyncshutdownhaltmail[root@litong ~]# awk -F: &apos;&#123;print $1&#125;&apos; /etc/passwd # awkå‘½ä»¤å–åˆ—rootbindaemonadmlpsyncshutdownhaltmail ä¼ä¸šå®žæˆ˜-ç”¨ä¸‰å‰‘å®¢å–IP1234567891011121314151617181920[root@litong ~]# ifconfig eth0 #æŸ¥çœ‹eth0è¿™å—ç½‘å¡çš„ipeth0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet 172.21.205.254 netmask 255.255.240.0 broadcast 172.21.207.255 ether 00:16:3e:00:a1:e1 txqueuelen 1000 (Ethernet) RX packets 599643 bytes 144572651 (137.8 MiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 590688 bytes 161445142 (153.9 MiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0[root@litong ~]# ifconfig eth0 | grep -Po '(?&amp;lt;=inet )\\\\S+' # grepå–IPæ–¹å¼ä¸€172.21.205.254[root@litong ~]# ifconfig eth0 | grep -o \\\"inet [0-9.]*\\\" | grep -o \\\"[0-9.]*\\\" # grepå–IPæ–¹å¼äºŒ172.21.205.254[root@litong ~]# ifconfig eth0 | awk -F \\\"[ ]+\\\" 'NR==2 &#123;print $3&#125;' # awkå–IP172.21.205.254[root@litong ~]# ifconfig eth0 | sed -nr '2s#^[^0-9]*([0-9.]*).*$#\\\\1#gp' # sedå–IPæ–¹å¼ä¸€172.21.205.254[root@litong ~]# ifconfig eth0 | sed -nr '2s#^.*inet (.*) net.*$#\\\\1#gp' # sedå–IPæ–¹å¼äºŒ172.21.205.254 [root@litong ~]# ifconfig eth0 | sed -n '2p' | sed 's#^.*inet ##g' | sed 's# netmask.*$##g' # sedå–IPæ–¹å¼ä¸‰172.21.205.254 ç›¸å…³æ–‡æ¡£èœé¸Ÿæ•™ç¨‹ä¸‰å‰‘å®¢å–IP\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"Linux\",\"slug\":\"Linux\",\"permalink\":\"http://ltyeamin.github.io/tags/Linux/\"}]},{\"title\":\"LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤\",\"slug\":\"LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤\",\"date\":\"2018-05-22T09:21:31.000Z\",\"updated\":\"2019-05-29T14:03:53.000Z\",\"comments\":true,\"path\":\"2018/05/22/LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/05/22/LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤/\",\"excerpt\":\"\",\"text\":\"Linuxç³»ç»Ÿä¸‹çš„ä¸‹è½½å·¥å…·wget æ˜¯ä¸€ä¸ªä»Žç½‘ç»œä¸Šè‡ªåŠ¨ä¸‹è½½æ–‡ä»¶çš„è‡ªç”±å·¥å…·,æ”¯æŒé€šè¿‡ HTTP,HTTPS,FTP ä¸‰ä¸ªæœ€å¸¸è§çš„ TCP/IPåè®® ä¸‹è½½,å¹¶å¯ä»¥ä½¿ç”¨ HTTP ä»£ç†.â€wgetâ€ è¿™ä¸ªåç§°æ¥æºäºŽ â€œWorld Wide Webâ€ ä¸Ž â€œgetâ€ çš„ç»“åˆ.æ‰€è°“è‡ªåŠ¨ä¸‹è½½,æ˜¯æŒ‡ wget å¯ä»¥åœ¨ç”¨æˆ·é€€å‡ºç³»ç»Ÿçš„ä¹‹åŽåœ¨ç»§ç»­åŽå°æ‰§è¡Œ,ç›´åˆ°ä¸‹è½½ä»»åŠ¡å®Œæˆ. å‘½ä»¤é€‰é¡¹ -a&lt;æ—¥å¿—æ–‡ä»¶&gt;:åœ¨æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶ä¸­è®°å½•èµ„æ–™çš„æ‰§è¡Œè¿‡ç¨‹; -A&lt;åŽç¼€å&gt;:æŒ‡å®šè¦ä¸‹è½½æ–‡ä»¶çš„åŽç¼€å,å¤šä¸ªåŽç¼€åä¹‹é—´ä½¿ç”¨é€—å·è¿›è¡Œåˆ†éš”; -b:è¿›è¡ŒåŽå°çš„æ–¹å¼è¿è¡Œwget; -B&lt;è¿žæŽ¥åœ°å€&gt;:è®¾ç½®å‚è€ƒçš„è¿žæŽ¥åœ°å€çš„åŸºåœ°åœ°å€; -c:ç»§ç»­æ‰§è¡Œä¸Šæ¬¡ç»ˆç«¯çš„ä»»åŠ¡,æ–­ç‚¹ç»­ä¼ ; -C&lt;æ ‡å¿—&gt;:è®¾ç½®æœåŠ¡å™¨æ•°æ®å—åŠŸèƒ½æ ‡å¿—onä¸ºæ¿€æ´»,offä¸ºå…³é—­,é»˜è®¤å€¼ä¸ºon; -d:è°ƒè¯•æ¨¡å¼è¿è¡ŒæŒ‡ä»¤; -D&lt;åŸŸååˆ—è¡¨&gt;:è®¾ç½®é¡ºç€çš„åŸŸååˆ—è¡¨,åŸŸåä¹‹é—´ç”¨â€,â€åˆ†éš”; -e&lt;æŒ‡ä»¤&gt;:ä½œä¸ºæ–‡ä»¶â€.wgetrcâ€ä¸­çš„ä¸€éƒ¨åˆ†æ‰§è¡ŒæŒ‡å®šçš„æŒ‡ä»¤; -h:æ˜¾ç¤ºæŒ‡ä»¤å¸®åŠ©ä¿¡æ¯; -i&lt;æ–‡ä»¶&gt;:ä»ŽæŒ‡å®šæ–‡ä»¶èŽ·å–è¦ä¸‹è½½çš„URLåœ°å€; -l&lt;ç›®å½•åˆ—è¡¨&gt;:è®¾ç½®é¡ºç€çš„ç›®å½•åˆ—è¡¨,å¤šä¸ªç›®å½•ç”¨â€,â€åˆ†éš”; -L:ä»…é¡ºç€å…³è”çš„è¿žæŽ¥; -O: å°†è¦ä¸‹è½½çš„æ–‡ä»¶è¿›è¡Œé‡å‘½å -r:é€’å½’ä¸‹è½½æ–¹å¼; -nc:æ–‡ä»¶å­˜åœ¨æ—¶,ä¸‹è½½æ–‡ä»¶ä¸è¦†ç›–åŽŸæœ‰æ–‡ä»¶; -nv:ä¸‹è½½æ—¶åªæ˜¾ç¤ºæ›´æ–°å’Œå‡ºé”™ä¿¡æ¯,ä¸æ˜¾ç¤ºæŒ‡ä»¤çš„è¯¦ç»†æ‰§è¡Œè¿‡ç¨‹; -q:ä¸æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹; -nh:ä¸æŸ¥è¯¢ä¸»æœºåç§°; -v:æ˜¾ç¤ºè¯¦ç»†æ‰§è¡Œè¿‡ç¨‹; -V:æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯; â€“passive-ftp:ä½¿ç”¨è¢«åŠ¨æ¨¡å¼PASVè¿žæŽ¥FTPæœåŠ¡å™¨; â€“follow-ftp:ä»ŽHTMLæ–‡ä»¶ä¸­ä¸‹è½½FTPè¿žæŽ¥æ–‡ä»¶. å‚è€ƒç¤ºä¾‹1234567891011121314151.ä¸‹è½½ç½‘ç»œèµ„æº[root@litong ~]# wget https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgz #ä½¿ç”¨wgetä¸‹è½½Pythonå®‰è£…åŒ…--2018-05-22 16:57:49-- https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgzResolving www.python.org (www.python.org)... 151.101.8.223, 2a04:4e42:2::223Connecting to www.python.org (www.python.org)|151.101.8.223|:443... connected.HTTP request sent, awaiting response... 200 OKLength: 22994617 (22M) [application/octet-stream]Saving to: â€˜Python-3.6.5.tgzâ€™100%[=============================================================================================================&amp;gt;] 22,994,617 27.6MB/s in 0.8s 2018-05-22 16:57:50 (27.6 MB/s) - â€˜Python-3.6.5.tgzâ€™ saved [22994617/22994617][root@litong ~]# ll | grep Python-rw-r--r-- 1 root root 22994617 Mar 28 18:24 Python-3.6.5.tgz 2.æ–­ç‚¹ç»­ä¼ 123456789101112131415161718[root@litong ~]# wget -c http://d1.music.126.net/dmusic/netease-cloud-music_1.1.0_amd64_ubuntu.deb #ä¸‹è½½Linuxç‰ˆæœ¬çš„ç½‘æ˜“äº‘éŸ³ä¹--2018-05-22 17:04:04-- http://d1.music.126.net/dmusic/netease-cloud-music_1.1.0_amd64_ubuntu.debResolving d1.music.126.net (d1.music.126.net)... 157.185.168.24Connecting to d1.music.126.net (d1.music.126.net)|157.185.168.24|:80... connected.HTTP request sent, awaiting response... 200 OKLength: 68515076 (65M) [application/octet-stream]Saving to: â€˜netease-cloud-music_1.1.0_amd64_ubuntu.debâ€™46% [====================================================================&amp;gt; ] 31,560,638 15.2MB/s ^C #æŒ‰ä¸‹Ctrl+Cç»ˆæ­¢ä¸‹è½½[root@litong ~]# wget -c http://d1.music.126.net/dmusic/netease-cloud-music_1.1.0_amd64_ubuntu.deb #ç«¯ç‚¹ç»­ä¼ ,ç»§ç»­ä¸‹è½½,ä¸ä¼šé‡æ–°ä¸‹è½½--2018-05-22 17:04:09-- http://d1.music.126.net/dmusic/netease-cloud-music_1.1.0_amd64_ubuntu.debResolving d1.music.126.net (d1.music.126.net)... 157.185.168.24Connecting to d1.music.126.net (d1.music.126.net)|157.185.168.24|:80... connected.HTTP request sent, awaiting response... 206 Partial ContentLength: 68515076 (65M), 33805218 (32M) remaining [application/octet-stream]Saving to: â€˜netease-cloud-music_1.1.0_amd64_ubuntu.debâ€™100%[+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++==========================================================================&amp;gt;] 68,515,076 14.7MB/s in 2.2s Last-modified header invalid -- time-stamp ignored.2018-05-22 17:04:12 (14.7 MB/s) - â€˜netease-cloud-music_1.1.0_amd64_ubuntu.debâ€™ saved [68515076/68515076] 3.åŽå°ä¸‹è½½12345678910111213141516171819202122[root@litong ~]# wget -b https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgz &amp;&amp; tail -50f wget-log #åŽå°ä¸‹è½½å¹¶æŸ¥çœ‹ä¸‹è½½æ—¥å¿—.ä¸‹è½½å¹¶ä¸é˜»å¡žShelläº¤äº’Continuing in background, pid 301.Output will be written to â€˜wget-logâ€™.--2018-05-22 17:14:55-- https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgzResolving www.python.org (www.python.org)... 151.101.8.223, 2a04:4e42:2::223Connecting to www.python.org (www.python.org)|151.101.8.223|:443... connected.HTTP request sent, awaiting response... 200 OKLength: 22994617 (22M) [application/octet-stream]Saving to: â€˜Python-3.6.5.tgzâ€™0K .......... .......... .......... .......... .......... 0% 17.2M 1s50K .......... .......... .......... .......... .......... 0% 23.7M 1s100K .......... .......... .......... .......... .......... 0% 33.3M 1s150K .......... .......... .......... .......... .......... 0% 22.4M 1s200K .......... .......... .......... .......... .......... 1% 34.5M 1s250K .......... .......... .......... .......... .......... 1% 32.9M 1s .......... .......... .......... .......... ..........22250K .......... .......... .......... .......... .......... 99% 13.2M 0s22300K .......... .......... .......... .......... .......... 99% 10.7M 0s22350K .......... .......... .......... .......... .......... 99% 12.4M 0s22400K .......... .......... .......... .......... .......... 99% 14.3M 0s22450K ..... 100% 129M=0.8s2018-05-22 17:14:56 (27.7 MB/s) - â€˜Python-3.6.5.tgzâ€™ saved [22994617/22994617] æµ‹è¯•æŽ¥å£å¸¸ç”¨çš„curlcurlæ˜¯åˆ©ç”¨URLè¯­æ³•åœ¨å‘½ä»¤è¡Œæ–¹å¼ä¸‹å·¥ä½œçš„å¼€æºæ–‡ä»¶ä¼ è¾“å·¥å…·.å®ƒæ”¯æŒæ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½,æ‰€ä»¥æ˜¯ç»¼åˆä¼ è¾“å·¥å…·.curlæ”¯æŒåŒ…æ‹¬HTTP,HTTPS,ftpç­‰ä¼—å¤šåè®®,è¿˜æ”¯æŒPOST,cookiesè®¤è¯,ä»ŽæŒ‡å®šåç§»å¤„ä¸‹è½½éƒ¨åˆ†æ–‡ä»¶,ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²,é™é€Ÿ,æ–‡ä»¶å¤§å°,è¿›åº¦æ¡ç­‰ç‰¹å¾.åšç½‘é¡µå¤„ç†æµç¨‹å’Œæ•°æ®æ£€ç´¢è‡ªåŠ¨åŒ–,curlå¯ä»¥ç¥ä¸€è‡‚ä¹‹åŠ›. å‚è€ƒç¤ºä¾‹1.ç®€å•è¯·æ±‚1234[root@litong ~]# curl https://www.baidu.com #ç®€å•GETè¯·æ±‚è¯·æ±‚ç™¾åº¦&amp;lt;!DOCTYPE html&amp;gt;&amp;lt;!--STATUS OK--&amp;gt;&amp;lt;html&amp;gt; &amp;lt;head&amp;gt;&amp;lt;meta http-equiv=content-type content=text/html;charset=utf-8&amp;gt;&amp;lt;meta http-equiv=X-UA-Compatible content=IE=Edge&amp;gt;&amp;lt;meta content=always name=referrer&amp;gt;&amp;lt;link rel=stylesheet type=text/css href=https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css&amp;gt;&amp;lt;title&amp;gt;ç™¾åº¦ä¸€ä¸‹,ä½ å°±çŸ¥é“&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt; &amp;lt;body link=#0000cc&amp;gt; &amp;lt;div id=wrapper&amp;gt; &amp;lt;div id=head&amp;gt; &amp;lt;div class=head_wrapper&amp;gt; &amp;lt;div class=s_form&amp;gt; &amp;lt;div class=s_form_wrapper&amp;gt; &amp;lt;div id=lg&amp;gt; &amp;lt;img hidefocus=true src=//www.baidu.com/img/bd_logo1.png width=270 height=129&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;form id=form name=f action=//www.baidu.com/s class=fm&amp;gt; &amp;lt;input type=hidden name=bdorz_come value=1&amp;gt; &amp;lt;input type=hidden name=ie value=utf-8&amp;gt; &amp;lt;input type=hidden name=f value=8&amp;gt; &amp;lt;input type=hidden name=rsv_bp value=1&amp;gt; &amp;lt;input type=hidden name=rsv_idx value=1&amp;gt; &amp;lt;input type=hidden name=tn value=baidu&amp;gt;&amp;lt;span class=\\\"bg s_ipt_wr\\\"&amp;gt;&amp;lt;input id=kw name=wd class=s_ipt value maxlength=255 autocomplete=off autofocus=autofocus&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=\\\"bg s_btn_wr\\\"&amp;gt;&amp;lt;input type=submit id=su value=ç™¾åº¦ä¸€ä¸‹ class=\\\"bg s_btn\\\" autofocus&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;/form&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div id=u1&amp;gt; &amp;lt;a href=http://news.baidu.com name=tj_trnews class=mnav&amp;gt;æ–°é—»&amp;lt;/a&amp;gt; &amp;lt;a href=https://www.hao123.com name=tj_trhao123 class=mnav&amp;gt;hao123&amp;lt;/a&amp;gt; &amp;lt;a href=http://map.baidu.com name=tj_trmap class=mnav&amp;gt;åœ°å›¾&amp;lt;/a&amp;gt; &amp;lt;a href=http://v.baidu.com name=tj_trvideo class=mnav&amp;gt;è§†é¢‘&amp;lt;/a&amp;gt; &amp;lt;a href=http://tieba.baidu.com name=tj_trtieba class=mnav&amp;gt;è´´å§&amp;lt;/a&amp;gt; &amp;lt;noscript&amp;gt; &amp;lt;a href=http://www.baidu.com/bdorz/login.gif?login&amp;amp;tpl=mn&amp;amp;u=http%3A%2F%2Fwww.baidu.com%2f%3fbdorz_come%3d1 name=tj_login class=lb&amp;gt;ç™»å½•&amp;lt;/a&amp;gt; &amp;lt;/noscript&amp;gt; &amp;lt;script&amp;gt;document.write('&amp;lt;a href=\\\"http://www.baidu.com/bdorz/login.gif?login&amp;tpl=mn&amp;u='+ encodeURIComponent(window.location.href+ (window.location.search === \\\"\\\" ? \\\"?\\\" : \\\"&amp;\\\")+ \\\"bdorz_come=1\\\")+ '\\\" name=\\\"tj_login\\\" class=\\\"lb\\\"&amp;gt;ç™»å½•&amp;lt;/a&amp;gt;'); &amp;lt;/script&amp;gt; &amp;lt;a href=//www.baidu.com/more/ name=tj_briicon class=bri style=\\\"display: block;\\\"&amp;gt;æ›´å¤šäº§å“&amp;lt;/a&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div id=ftCon&amp;gt; &amp;lt;div id=ftConw&amp;gt; &amp;lt;p id=lh&amp;gt; &amp;lt;a href=http://home.baidu.com&amp;gt;å…³äºŽç™¾åº¦&amp;lt;/a&amp;gt; &amp;lt;a href=http://ir.baidu.com&amp;gt;About Baidu&amp;lt;/a&amp;gt; &amp;lt;/p&amp;gt; &amp;lt;p id=cp&amp;gt;&amp;copy;2017&amp;nbsp;Baidu&amp;nbsp;&amp;lt;a href=http://www.baidu.com/duty/&amp;gt;ä½¿ç”¨ç™¾åº¦å‰å¿…è¯»&amp;lt;/a&amp;gt;&amp;nbsp; &amp;lt;a href=http://jianyi.baidu.com/ class=cp-feedback&amp;gt;æ„è§åé¦ˆ&amp;lt;/a&amp;gt;&amp;nbsp;äº¬ICPè¯030173å·&amp;nbsp; &amp;lt;img src=//www.baidu.com/img/gs.gif&amp;gt; &amp;lt;/p&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; 2.ç¼“å­˜(ä¸‹è½½)1234567891011121314[root@litong ~]# curl -o baidu.html https://www.baidu.com #å°†ç™¾åº¦é¦–é¡µä¿å­˜æˆhtmlæœ¬åœ°æ–‡ä»¶ % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 2443 100 2443 0 0 10319 0 --:--:-- --:--:-- --:--:-- 10351[root@litong ~]# cat baidu.html &amp;lt;!DOCTYPE html&amp;gt;&amp;lt;!--STATUS OK--&amp;gt;&amp;lt;html&amp;gt; &amp;lt;head&amp;gt;&amp;lt;meta http-equiv=content-type content=text/html;charset=utf-8&amp;gt;&amp;lt;meta http-equiv=X-UA-Compatible content=IE=Edge&amp;gt;&amp;lt;meta content=always name=referrer&amp;gt;&amp;lt;link rel=stylesheet type=text/css href=https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css&amp;gt;&amp;lt;title&amp;gt;ç™¾åº¦ä¸€ä¸‹,ä½ å°±çŸ¥é“&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt; &amp;lt;body link=#0000cc&amp;gt; &amp;lt;div id=wrapper&amp;gt; &amp;lt;div id=head&amp;gt; &amp;lt;div class=head_wrapper&amp;gt; &amp;lt;div class=s_form&amp;gt; &amp;lt;div class=s_form_wrapper&amp;gt; &amp;lt;div id=lg&amp;gt; &amp;lt;img hidefocus=true src=//www.baidu.com/img/bd_logo1.png width=270 height=129&amp;gt; &amp;lt;/div&amp;gt; ... #çœç•¥ç‰‡æ®µ[root@litong ~]# curl -o Python-3.5.5.tgz https://www.python.org/ftp/python/3.5.5/Python-3.5.5.tgz #æ›¿æ¢wgetå‘½ä»¤ä¸‹è½½Python,æ–­ç‚¹ç»­ä¼ -C % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 19.8M 100 19.8M 0 0 29.0M 0 --:--:-- --:--:-- --:--:-- 29.0M[root@litong ~]# ll | grep Python-rw-r--r-- 1 root root 20766931 May 22 17:38 Python-3.5.5.tgz 3.è¯·æ±‚æ–¹å¼è®¾ç½®12345[root@litong ~]# curl -H &quot;Content-Type:application/json&quot; -X POST -d &apos;&#123; &quot;arg&quot;: 125086 &#125;&apos; http://47.67.44.121:9130/learning-path/tree/queryPhaseAndSubject #ä»¥jsonçš„æ–¹å¼è¿›è¡Œè¯·æ±‚% Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 231 0 214 100 17 214 17 0:00:01 --:--:-- 0:00:01 14437&#123;&quot;message&quot;:null,&quot;result&quot;:&quot;success&quot;,&quot;data&quot;:[&#123;&quot;subjectId&quot;:&quot;4267aa39-6ecb-40b7-8e10-7b309d022aec&quot;,&quot;subjectName&quot;:&quot;è¯­æ–‡&quot;,&quot;phaseId&quot;:&quot;c7241629-1ec4-4035-b04c-ef17f7866688&quot;,&quot;phaseName&quot;:&quot;é«˜ä¸­&quot;&#125;],&quot;code&quot;:0,&quot;success&quot;:true&#125; 4.è®¾ç½®referer1[root@litong ~]# curl --referer http://www.google.com http://www.baidu.com 5.è®¾ç½®User-Agent1[root@litong ~]# curl -A \\\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.162 Safari/537.36\\\" http://www.baidu.com 6.è®¾ç½®cookie1[root@litong ~]# curl --cookie \\\"user=litong\\\" http://www.baidu.com 7.è®¾ç½®è¯·æ±‚å¤´1[root@litong ~]# curl -H \\\"accept-language:zh-cn\\\" http://www.baidu.com 8.è¿›è¡Œè®¤è¯12345678910111213[root@litong ~]# curl -u litong:0517108 http://www.gitlab.com/users/sign_in % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0&amp;lt;! DOCTYPE html&amp;gt;&amp;lt;html class=\\\"devise-layout-html\\\"&amp;gt;&amp;lt;head prefix=\\\"og: http://ogp.me/ns#\\\"&amp;gt;&amp;lt;meta charset=\\\"utf-8\\\"&amp;gt;&amp;lt;meta content=\\\"IE=edge\\\" http-equiv=\\\"X-UA-Compatible\\\"&amp;gt;&amp;lt;meta content=\\\"object\\\" property=\\\"og:type\\\"&amp;gt;&amp;lt;meta content=\\\"GitLab\\\" property=\\\"og:site_name\\\"&amp;gt;&amp;lt;meta content=\\\"Sign in\\\" property=\\\"og:title\\\"&amp;gt;&amp;lt;meta content=\\\"GitLab Community Edition\\\" property=\\\"og:description\\\"&amp;gt;...çœç•¥ç‰‡æ®µ 9.ä¸Šä¼ æ–‡ä»¶1234 [root@litong ~]# curl http://127.0.0.1/up -F \\\"file=@logo.png\\\" % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 4616 0 76 100 4540 76 4540 0:00:01 --:--:-- 0:00:01 8213&#123;\\\"hash\\\":\\\"FmP639IPMcunQpiXidRPNisi2lDp\\\",\\\"key\\\":\\\"FmP639IPMcunQpiXidRPNisi2lDp\\\"&#125;\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"Linux\",\"slug\":\"Linux\",\"permalink\":\"http://ltyeamin.github.io/tags/Linux/\"}]},{\"title\":\"è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter\",\"slug\":\"è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter\",\"date\":\"2018-05-18T08:58:10.000Z\",\"updated\":\"2019-05-29T14:03:52.000Z\",\"comments\":true,\"path\":\"2018/05/18/è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/05/18/è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter/\",\"excerpt\":\"\",\"text\":\"æˆ‘ä»¬å¯ä»¥æ¨¡ä»¿ä¹‹å‰httpç¼–ç è‡ªåŠ¨é…ç½®çš„ä¾‹å­ä¹Ÿåè®®ä¸€ä¸ªstarter,ç›®çš„æ˜¯ä¸ºäº†é™ä½Žè€¦åˆæ€§.è™½è¯´å¯ä»¥é™ä½Žç¨‹åºä¾èµ–ä¹‹é—´çš„è€¦åˆæ€§,ä½†æ˜¯æˆ‘ä»¬ä¸å»ºè®®è‡ªå·±å®šä¹‰starter,å› ä¸ºSpring Bootæˆ–å…¶ä»–ç¤¾åŒºå·²ç»æä¾›äº†å¤§éƒ¨åˆ†çš„starter,å¯ä»¥æ»¡è¶³æˆ‘ä»¬æ—¥å¸¸çš„éœ€æ±‚.æœ¬ç¯‡åšæ–‡ä¸»è¦ä¸ºäº†è®©å¤§å®¶æ›´å¥½çš„ç†è§£Spring Bootçš„è‡ªåŠ¨é…ç½®åŽŸç†è€Œå†™çš„,æ€»ä¹‹,éµå¾ªâ€ä¸è¦é‡å¤é€ è½®å­â€çš„å®—æ—¨.åŠ¨èµ·æ¥è‡ªå·±é€ è½®å­,è®©æˆ‘ä»¬ä»ŽçŽ°åœ¨å¼€å§‹: 1.æ–°å»ºä¸€ä¸ªMavené¡¹ç›®,pomæ–‡ä»¶ä¸­å¯¼å…¥ä¾èµ–1234567891011121314151617181920212223242526272829&lt;project xmlns=\\\"http://maven.apache.org/POM/4.0.0\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\" xsi:schemaLocation=\\\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\\\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.yeamin.boot&lt;/groupId&gt; &lt;artifactId&gt;yeamin-boot-start&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;description&gt;è‡ªå®šä¹‰çš„start&lt;/description&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- è‡ªåŠ¨é…ç½®ä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt; &lt;version&gt;2.0.0.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;version&gt;2.0.0.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 2.å®‰å…¨çš„é…ç½®ç±»1234567891011121314151617181920212223package cn.yeamin.boot.conf;import org.springframework.boot.context.properties.ConfigurationProperties;/** * å®‰å…¨çš„é…ç½®ç±» * @author Administrator */@ConfigurationProperties(prefix = \\\"yeamin.boot\\\")public class HelloServiceProperties &#123; private static final String MSG = \\\"world\\\"; private String msg = MSG; public String getMsg() &#123; return msg; &#125; public void setMsg(String msg) &#123; this.msg = msg; &#125; &#125; 3.åˆ¤æ–­ä¾æ®ç±»123456789101112131415161718192021/** * åˆ¤æ–­ä¾æ®ç±»:å¯æ ¹æ®æ­¤ç±»çš„å­˜åœ¨ä¸Žå¦åˆ¤æ–­æ˜¯å¦åˆ›å»ºè¿™ä¸ªç±»çš„Bean * @author Administrator */public class HelloService &#123; private String msg; public String sayHello() &#123; return \\\"Hello: \\\" + msg; &#125; public String getMsg() &#123; return msg; &#125; public void setMsg(String msg) &#123; this.msg = msg; &#125; &#125; 4.è‡ªåŠ¨é…ç½®ç±»12345678910111213141516171819202122232425262728293031package cn.yeamin.boot.conf;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import cn.yeamin.boot.service.HelloService;@Configuration@EnableConfigurationProperties(HelloServiceProperties.class)@ConditionalOnClass(&#123;HelloService.class&#125;)@ConditionalOnProperty(prefix = \\\"yeamin.boot\\\", value = \\\"enable\\\", matchIfMissing = true)public class HelloAutoConfiguration &#123; @Autowired private HelloServiceProperties properties; @Bean //åˆ¤æ–­HelloServiceæ˜¯å¦åœ¨classpathå­˜åœ¨ @ConditionalOnMissingBean(HelloService.class) public HelloService helloService() &#123; HelloService helloService = new HelloService(); helloService.setMsg(properties.getMsg()); return helloService; &#125;&#125; 5.æ³¨å†Œé…ç½®åœ¨src/main/resourceæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºMETA-INF/spring.factoriesæ–‡ä»¶123# Auto Configure è‹¥æœ‰å¤šä¸ªè‡ªåŠ¨é…ç½®,åˆ™ç”¨&quot;,&quot;éš”å¼€,æ­¤å¤„&quot;\\\\&quot;æ˜¯ä¸ºäº†æ¢è¡ŒåŽè¿˜èƒ½å¤Ÿè¯»å–åˆ°valueorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\\cn.yeamin.boot.conf.HelloAutoConfiguration 6.æ–°å»ºä¸€ä¸ªSpring Booté¡¹ç›®,ä½¿ç”¨starter,å¯¼å…¥pomé…ç½®12345&lt;dependency&gt; &lt;groupId&gt;com.yeamin.boot&lt;/groupId&gt; &lt;artifactId&gt;yeamin-boot-start&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;/dependency&gt; 7.ç¼–å†™controller123456789101112@RestControllerpublic class HelloController &#123; @Autowired private HelloService helloService; @GetMapping(&quot;/hello&quot;) public String index() &#123; return helloService.sayHello(); &#125;&#125; 8.è¿›è¡Œymlé…ç½®12345server: port: 80yeamin: boot: msg: litong 9.æµè§ˆå™¨è¯·æ±‚http://localhost/hello,æŸ¥çœ‹ç»“æžœ1litong\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Spring Boot\",\"slug\":\"Spring-Boot\",\"permalink\":\"http://ltyeamin.github.io/tags/Spring-Boot/\"}]},{\"title\":\"Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž\",\"slug\":\"Spring Bootè‡ªåŠ¨åŽŸç†å‰–æž\",\"date\":\"2018-05-17T08:01:40.000Z\",\"updated\":\"2019-11-20T15:08:58.637Z\",\"comments\":true,\"path\":\"2018/05/17/Spring Bootè‡ªåŠ¨åŽŸç†å‰–æž/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/05/17/Spring Bootè‡ªåŠ¨åŽŸç†å‰–æž/\",\"excerpt\":\"\",\"text\":\"ç¥žå¥‡é­”æ³•-è‡ªåŠ¨é…ç½®å‰ç¯‡æ–‡ç« è®²è¿°äº†Spring 4 æ¡ä»¶æ³¨è§£,å…¶å®žSpring Bootè‡ªåŠ¨é…ç½®ç¥žå¥‡å®žçŽ°ä¹Ÿæ˜¯åŸºäºŽè¿™ä¸€åŽŸç†çš„.è‹¥æƒ³çŸ¥é“Spring Bootä¸ºæˆ‘ä»¬åšäº†å“ªäº›çš„è‡ªåŠ¨é…ç½®,å¯ä»¥æŸ¥çœ‹è¿™é‡Œçš„æºç .å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼æŸ¥çœ‹é¡¹ç›®ä¸­å·²å¯ç”¨å’Œæœªå¯ç”¨çš„è‡ªåŠ¨é…ç½®æŠ¥å‘Š. è¿è¡Œjaræ—¶å¢žåŠ â€“debugå‚æ•°: java -jar xxx.jar â€“debug åœ¨application.propertiesä¸­è®¾ç½®å±žæ€§: debug=true è¿è¡Œé¡¹ç›®æ—¶é€šè¿‡IDEè®¾ç½®JVMå‚æ•°: -Ddebug å¯åŠ¨åŽ,å¯åœ¨æŽ§åˆ¶å°è¾“å‡ºç›¸å…³è‡ªåŠ¨é…ç½®æŠ¥å‘Š.å·²å¯ç”¨çš„è‡ªåŠ¨é…ç½®ä¸º:123456789101112131415161718192021222324============================CONDITIONS EVALUATION REPORT============================Positive matches:----------------- CodecsAutoConfiguration matched: - @ConditionalOnClass found required class &apos;org.springframework.http.codec.CodecConfigurer&apos;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition) CodecsAutoConfiguration.JacksonCodecConfiguration matched: - @ConditionalOnClass found required class &apos;com.fasterxml.jackson.databind.ObjectMapper&apos;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition) CodecsAutoConfiguration.JacksonCodecConfiguration#jacksonCodecCustomizer matched: - @ConditionalOnBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) found bean &apos;jacksonObjectMapper&apos; (OnBeanCondition) DispatcherServletAutoConfiguration matched: - @ConditionalOnClass found required class &apos;org.springframework.web.servlet.DispatcherServlet&apos;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition) - found ConfigurableWebEnvironment (OnWebApplicationCondition) ...... ...... ...... æœªå¯ç”¨çš„è‡ªåŠ¨é…ç½®ä¸º:123456789101112131415161718Negative matches:----------------- ActiveMQAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes &apos;javax.jms.ConnectionFactory&apos;, &apos;org.apache.activemq.ActiveMQConnectionFactory&apos; (OnClassCondition) AopAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes &apos;org.aspectj.lang.annotation.Aspect&apos;, &apos;org.aspectj.lang.reflect.Advice&apos;, &apos;org.aspectj.weaver.AnnotatedElement&apos; (OnClassCondition) ArtemisAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes &apos;javax.jms.ConnectionFactory&apos;, &apos;org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory&apos; (OnClassCondition) ...... ...... ...... Spring Bootå…³äºŽè‡ªåŠ¨é…ç½®çš„æºç ä¹Ÿæ˜¯åœ¨spring-boot-autoconfigure-1.5.9.RELEASE.jarå†…,åŒ…å«çš„æ¨¡å—é…ç½®,å¦‚ä¸‹å›¾: Spring Bootæ¡ä»¶æ³¨è§£åœ¨spring-boot-autoconfigure-1.5.9.RELEASE.jarçš„org.springframework.boot.autoconfigure.conditionåŒ…ä¸‹,æœ‰è®¸å¤šæ³¨è§£ç»„åˆäº†@Conditionalçš„å…ƒæ³¨è§£,åªæ˜¯ä½¿ç”¨äº†ä¸åŒçš„æ¡ä»¶,å½¢æˆäº†æ–°çš„æ¡ä»¶æ³¨è§£: @ConditionalOnBean: å½“å®¹å™¨é‡Œæœ‰æŒ‡å®šçš„Beançš„æ¡ä»¶ä¸‹. @ConditionalOnClass: å½“classpathä¸‹æœ‰æŒ‡å®šçš„ç±»çš„æ¡ä»¶ä¸‹. @ConditionalOnExpression: åŸºäºŽSpELè¡¨è¾¾å¼ä½œä¸ºåˆ¤æ–­æ¡ä»¶. @ConditionalOnJava: åŸºäºŽJVMç‰ˆæœ¬ä½œä¸ºåˆ¤æ–­æ¡ä»¶. @ConditionalOnJndi: åœ¨JNDIæ‘é•¿çš„æ¡ä»¶ä¸‹æŸ¥æ‰¾æŒ‡å®šçš„ä½ç½®. @ConditionalOnMissingBean:å½“å®¹å™¨é‡Œæ²¡æœ‰æŒ‡å®šçš„Beançš„æ¡ä»¶ä¸‹. @ConditionalOnMissingClass: å½“classpathä¸‹æ²¡æœ‰æŒ‡å®šçš„ç±»çš„æ¡ä»¶ä¸‹. @ConditionalOnNotWebApplication: å½“å‰é¡¹ç›®ä¸æ˜¯Webé¡¹ç›®çš„æ¡ä»¶ä¸‹. @ConditionalOnProperty: æŒ‡å®šçš„å±žæ€§æ˜¯å¦æœ‰æŒ‡å®šå€¼çš„æƒ…å†µä¸‹. @ConditionalOnResource: classpathä¸‹æ˜¯å¦æœ‰æŒ‡å®šèµ„æºçš„æƒ…å†µä¸‹. @ConditionalOnSingleCandidate: å½“æŒ‡å®šçš„Beanåœ¨å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ª,æˆ–è™½ç„¶æœ‰å¤šä¸ªä½†æ˜¯æœ‰æŒ‡å®šçš„é¦–é€‰(@Primary)çš„Bean @ConditionalOnWebApplication: å½“å‰é¡¹ç›®æ˜¯Webé¡¹ç›®çš„æ¡ä»¶ä¸‹. @Enable*æ³¨è§£çš„å·¥ä½œåŽŸç†åœ¨Springä½“ç³»ä¸­,æœ‰å¤§é‡çš„@Enable*çš„æ³¨è§£: @EnableAspectAutoProxy:ç”¨äºŽå¼€å¯å¯¹Aspectè‡ªåŠ¨ä»£ç†çš„æ”¯æŒ. @EnableAsync:ç”¨äºŽå¼€å¯å¼‚æ­¥æ–¹æ³•çš„æ”¯æŒ. @EnableScheduling:ç”¨äºŽå¼€å¯å®šæ—¶ä»»åŠ¡çš„æ”¯æŒ. @EnableWebMvc:ç”¨äºŽå¼€å¯WebMvcé…ç½®çš„æ”¯æŒ. @EnableConfigurationProperties:ç”¨äºŽå¼€å¯å¯¹@ConfigurationPropertiesæ³¨è§£é…ç½®Beançš„çš„æ”¯æŒ. @EnableJpaRepositories:ç”¨äºŽå¼€å¯å¯¹Spring Data Jpaçš„çš„æ”¯æŒ. @EnableTransactionManagement:ç”¨äºŽå¼€å¯å¯¹æ³¨è§£å¼äº‹åŠ¡çš„çš„æ”¯æŒ. @EnableCaching:ç”¨äºŽå¼€å¯å¯¹æ³¨è§£å¼ç¼“å­˜çš„çš„æ”¯æŒ. è¿™äº›æ³¨è§£ç”¨äºŽå¼€å¯æŸé¡¹åŠŸèƒ½çš„æ”¯æŒ,ä»Žè€Œé¿å…è‡ªå·±é…ç½®å¤§é‡çš„ä»£ç .é‚£ä¹ˆè¿™ä¸ªç¥žå¥‡çš„åŠŸèƒ½çš„ä¸Šçº¿åŽŸç†æ˜¯ä»€ä¹ˆå‘¢?æˆ‘ä»¬æ¥çœ‹çœ‹. é€šè¿‡è§‚å¯Ÿè¿™äº›@Enable*æ³¨è§£çš„æºç ,æˆ‘ä»¬å‘çŽ°æ‰€æœ‰çš„æ³¨è§£éƒ½æœ‰ä¸€ä¸ª@importæ³¨è§£,@importæ˜¯ç”¨æ¥å¯¼å…¥é…ç½®ç±»çš„,è¿™ä¹Ÿå°±æ„å‘³ç€è¿™äº›è‡ªåŠ¨å¼€å¯çš„å®žçŽ°æ˜¯å¯¼å…¥äº†ä¸€äº›è‡ªåŠ¨é…ç½®çš„Bean.è¿™äº›å¯¼å…¥çš„é…ç½®æ–¹å¼ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ç±»åž‹. ç¬¬ä¸€ç±»:ç›´æŽ¥å¯¼å…¥é…ç½®ç±» 1234567@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Import(SchedulingConfiguration.class)@Documentedpublic @interface EnableScheduling &#123;&#125; ç›´æŽ¥å¯¼å…¥é…ç½®ç±»SchedulingConfiguration.class,è¿™ä¸ªç±»æ³¨è§£äº†@Condition,ä¸”æ³¨å†Œäº†ä¸€ä¸ªScheduledAnnotationBeanPostProcessorçš„Bean,æºç å¦‚ä¸‹:1234567891011@Configuration@Role(BeanDefinition.ROLE_INFRASTRUCTURE)public class SchedulingConfiguration &#123; @Bean(name = TaskManagementConfigUtils.SCHEDULED_ANNOTATION_PROCESSOR_BEAN_NAME) @Role(BeanDefinition.ROLE_INFRASTRUCTURE) public ScheduledAnnotationBeanPostProcessor scheduledAnnotationProcessor() &#123; return new ScheduledAnnotationBeanPostProcessor(); &#125;&#125; ç¬¬äºŒç±»:ä¾æ®æ¡ä»¶é€‰æ‹©é…ç½®ç±»12345678910@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Import(AsyncConfigurationSelector.class)public @interface EnableAsync &#123; Class&lt;? extends Annotation&gt; annotation() default Annotation.class; boolean proxyTargetClass() default false; AdviceMode mode() default AdviceMode.PROXY; int order() default Ordered.LOWEST_PRECEDENCE;&#125; AsyncConfigurationSelectoré€šè¿‡æ¡ä»¶æ¥é€‰æ‹©éœ€è¦å¯¼å…¥çš„é…ç½®ç±»,AsyncConfigurationSelectorçš„æ ¹æŽ¥å£ä¸ºImportSelector1234567891011121314151617public class AsyncConfigurationSelector extends AdviceModeImportSelector&lt;EnableAsync&gt; &#123; private static final String ASYNC_EXECUTION_ASPECT_CONFIGURATION_CLASS_NAME = \\\"org.springframework.scheduling.aspectj.AspectJAsyncConfiguration\\\"; @Override public String[] selectImports(AdviceMode adviceMode) &#123; switch (adviceMode) &#123; case PROXY: return new String[] &#123; ProxyAsyncConfiguration.class.getName() &#125;; case ASPECTJ: return new String[] &#123; ASYNC_EXECUTION_ASPECT_CONFIGURATION_CLASS_NAME &#125;; default: return null; &#125; &#125;&#125; è‡ªåŠ¨é…ç½®åŽŸç†å…³äºŽSpring Bootçš„è¿ä½œåŽŸç†,æˆ‘ä»¬è¿˜æ˜¯å›žå½’åˆ°@SpringBootApplicationæ³¨è§£ä¸Š,æ”¹æ³¨è§£æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£.å®ƒæ˜¯ç”±@SpringBootConfiguration,@EnableAutoConfigurationå’Œ@ComponentScanç»„æˆçš„.@SpringBootConfigurationä¹Ÿæ˜¯ç»„åˆäº†@Configurationæ³¨è§£,@ComponentScanæ˜¯ç»„ä»¶æ‰«æ,è€Œ@EnableAutoConfigurationæ˜¯è‡ªåŠ¨é…ç½®åŠŸèƒ½çš„æ ¸å¿ƒæ³¨è§£.æˆ‘ä»¬æ¥çœ‹çœ‹@EnableAutoConfigurationæ³¨è§£æºç :123456789101112@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@AutoConfigurationPackage@Import(EnableAutoConfigurationImportSelector.class)public @interface EnableAutoConfiguration &#123; String ENABLED_OVERRIDE_PROPERTY = \\\"spring.boot.enableautoconfiguration\\\"; Class&lt;?&gt;[] exclude() default &#123;&#125;; String[] excludeName() default &#123;&#125;;&#125; è¿™é‡Œçš„å…³é”®åŠŸèƒ½æ˜¯@Importæ³¨è§£å¯¼å…¥çš„é…ç½®åŠŸèƒ½,EnableAutoConfigurationImportSelectorä½¿ç”¨SpringFactoriesLoader.loadFactoryNames()æ–¹æ³•æ¥æ‰«æå…·æœ‰META-INF/spring.factoriesæ–‡ä»¶çš„jaråŒ….è€Œæˆ‘ä»¬çš„spring-boot-autoconfigure-1.5.9.RELEASE.jarå°±æœ‰ä¸€ä¸ªspring.factoriesæ–‡ä»¶.æ­¤æ–‡ä»¶ä¸­å£°æ˜Žäº†æœ‰å“ªäº›è‡ªåŠ¨é…ç½®,å¦‚ä¸‹å›¾: å®žä¾‹åˆ†æžåœ¨äº†è§£Spring Bootçš„è¿ä½œåŽŸç†å’Œä¸»è¦æ¡ä»¶æ³¨è§£åŽ,çŽ°åœ¨æˆ‘ä»¬æ¥åˆ†æžä¸€ä¸ªç®€å•çš„Spring Bootå†…ç½®çš„è‡ªåŠ¨é…ç½®åŠŸèƒ½:httpçš„ç¼–ç é…ç½®.åœ¨å¸¸è§„webçš„waré¡¹ç›®ä¸­,æˆ‘ä»¬è¦è§£å†³httpç¼–ç çš„æ—¶å€™æ˜¯åœ¨web.xmlé‡Œé…ç½®ä¸€ä¸ªfilter,å¦‚:1234567891011121314151617&lt;!-- ç¼–ç Filter åŠ è½½é…ç½® Start --&gt; &lt;filter&gt; &lt;filter-name&gt;CharacterEncoding&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;forceEncoding&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;CharacterEncoding&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; è‡ªåŠ¨é…ç½®è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶: èƒ½é…ç½®CharacterEncodingFilterè¿™ä¸ªBean; èƒ½é…ç½®encodingå’ŒforceEncodingè¿™ä¸¤ä¸ªå‚æ•°. æºç ä¸­å®šä¹‰çš„HttpEncodingPropertiesé…ç½®ç±» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475package org.springframework.boot.autoconfigure.http;import java.nio.charset.Charset;import java.nio.charset.StandardCharsets;import java.util.Locale;import java.util.Map;import org.springframework.boot.context.properties.ConfigurationProperties; // åœ¨application.propertiesæˆ–application.ynlæ–‡ä»¶é…ç½®æ—¶å‰ç¼€å¿…é¡»æ˜¯spring.http.encoding@ConfigurationProperties(prefix = \\\"spring.http.encoding\\\")public class HttpEncodingProperties &#123; public static final Charset DEFAULT_CHARSET = StandardCharsets.UTF_8; /** é»˜è®¤ç¼–ç æ–¹å¼ä¸ºUTF-8,è‹¥ä¿®æ”¹å¯ä½¿ç”¨spring.http.encoding.charset=ç¼–ç  */ private Charset charset = DEFAULT_CHARSET; private Boolean force; private Boolean forceRequest; private Boolean forceResponse; private Map&lt;Locale, Charset&gt; mapping; public Charset getCharset() &#123; return this.charset; &#125; public void setCharset(Charset charset) &#123; this.charset = charset; &#125; public boolean isForce() &#123; return Boolean.TRUE.equals(this.force); &#125; public void setForce(boolean force) &#123; this.force = force; &#125; public boolean isForceRequest() &#123; return Boolean.TRUE.equals(this.forceRequest); &#125; public void setForceRequest(boolean forceRequest) &#123; this.forceRequest = forceRequest; &#125; public boolean isForceResponse() &#123; return Boolean.TRUE.equals(this.forceResponse); &#125; public void setForceResponse(boolean forceResponse) &#123; this.forceResponse = forceResponse; &#125; public Map&lt;Locale, Charset&gt; getMapping() &#123; return this.mapping; &#125; public void setMapping(Map&lt;Locale, Charset&gt; mapping) &#123; this.mapping = mapping; &#125; public boolean shouldForce(Type type) &#123; Boolean force = (type == Type.REQUEST ? this.forceRequest : this.forceResponse); if (force == null) &#123; force = this.force; &#125; if (force == null) &#123; force = (type == Type.REQUEST); &#125; return force; &#125; public enum Type &#123; REQUEST, RESPONSE &#125;&#125; æºç :HttpEncodingAutoConfigurationè‡ªåŠ¨é…ç½®ç±» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172package org.springframework.boot.autoconfigure.web;import org.springframework.boot.autoconfigure.EnableAutoConfiguration;import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;import org.springframework.boot.autoconfigure.condition.ConditionalOnWebApplication;import org.springframework.boot.autoconfigure.web.HttpEncodingProperties.Type;import org.springframework.boot.context.embedded.ConfigurableEmbeddedServletContainer;import org.springframework.boot.context.embedded.EmbeddedServletContainerCustomizer;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.boot.web.filter.OrderedCharacterEncodingFilter;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.core.Ordered;import org.springframework.web.filter.CharacterEncodingFilter;@Configuration@EnableConfigurationProperties(HttpEncodingProperties.class) //å¼€å¯å±žæ€§æ³¨å…¥@ConditionalOnWebApplication //å½“å‰é¡¹ç›®æ˜¯Webåº”ç”¨è§¦å‘@ConditionalOnClass(CharacterEncodingFilter.class) //å½“classpathä¸‹å­˜åœ¨CharacterEncodingFilter.classæ—¶åŠ è½½è¯¥ç±»@ConditionalOnProperty(prefix = \\\"spring.http.encoding\\\", value = \\\"enabled\\\", matchIfMissing = true) //å½“spring.http.encoding=enableçš„æƒ…å†µä¸‹,å¦‚æžœæ²¡æœ‰è®¾ç½®åˆ™é»˜è®¤ä¸ºtrue,å³æ¡ä»¶ç¬¦åˆpublic class HttpEncodingAutoConfiguration &#123; private final HttpEncodingProperties properties; /** é€šè¿‡æž„é€ æ–¹æ³•æ³¨å…¥ */ public HttpEncodingAutoConfiguration(HttpEncodingProperties properties) &#123; this.properties = properties; &#125; @Bean //ä½¿ç”¨Javaçš„æ–¹å¼å£°æ˜ŽBean @ConditionalOnMissingBean(CharacterEncodingFilter.class) //å½“Springå®¹å™¨ä¸­æ²¡æœ‰è¿™ä¸ªBeançš„æ—¶å€™æ–°å»ºBean. public CharacterEncodingFilter characterEncodingFilter() &#123; CharacterEncodingFilter filter = new OrderedCharacterEncodingFilter(); //è®¾ç½®ç¼–ç  filter.setEncoding(this.properties.getCharset().name()); filter.setForceRequestEncoding(this.properties.shouldForce(Type.REQUEST)); filter.setForceResponseEncoding(this.properties.shouldForce(Type.RESPONSE)); return filter; &#125; @Bean public LocaleCharsetMappingsCustomizer localeCharsetMappingsCustomizer() &#123; return new LocaleCharsetMappingsCustomizer(this.properties); &#125; private static class LocaleCharsetMappingsCustomizer implements EmbeddedServletContainerCustomizer, Ordered &#123; private final HttpEncodingProperties properties; LocaleCharsetMappingsCustomizer(HttpEncodingProperties properties) &#123; this.properties = properties; &#125; @Override public void customize(ConfigurableEmbeddedServletContainer container) &#123; if (this.properties.getMapping() != null) &#123; container.setLocaleCharsetMappings(this.properties.getMapping()); &#125; &#125; @Override public int getOrder() &#123; return 0; &#125; &#125;&#125;\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Spring Boot\",\"slug\":\"Spring-Boot\",\"permalink\":\"http://ltyeamin.github.io/tags/Spring-Boot/\"}]},{\"title\":\"Springæ¡ä»¶æ³¨è§£@Conditional\",\"slug\":\"Springæ¡ä»¶æ³¨è§£@Conditional\",\"date\":\"2018-05-17T06:20:15.000Z\",\"updated\":\"2019-05-29T14:03:53.000Z\",\"comments\":true,\"path\":\"2018/05/17/Springæ¡ä»¶æ³¨è§£@Conditional/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/05/17/Springæ¡ä»¶æ³¨è§£@Conditional/\",\"excerpt\":\"\",\"text\":\"@Conditionalæ³¨è§£Spring 4æä¾›äº†ä¸€ä¸ªåŸºäºŽæ¡ä»¶çš„Beançš„åˆ›å»º,å³ä½¿ç”¨@Conditionalæ³¨è§£.@Conditionalæ ¹æ®æ»¡è¶³æŸä¸€ä¸ªç‰¹å®šæ¡ä»¶åˆ›å»ºä¸€ä¸ªç‰¹å®šçš„Bean.æ¯”å¦‚è¯´,å½“æŸä¸€ä¸ªjaråŒ…åœ¨ä¸€ä¸ªç±»è·¯å¾„ä¸‹çš„æ—¶å€™,è‡ªåŠ¨é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªBean;æˆ–è€…åªæœ‰æŸä¸ªBeanè¢«åˆ›å»ºæ‰ä¼šåˆ›å»ºå¦å¤–ä¸€ä¸ªBean.æ€»çš„æ¥è¯´,å°±æ˜¯æ ¹æ®ç‰¹å®šæ¡ä»¶æ¥æŽ§åˆ¶Beançš„åˆ›å»ºè¡Œä¸º,è¿™æ ·æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ¥è¿›è¡Œä¸€äº›è‡ªåŠ¨çš„é…ç½®. ConditionæŽ¥å£è®¾ç½®ç»™ @Conditionalæ³¨è§£çš„ç±»å¯ä»¥æ˜¯ä»»æ„å®žçŽ°äº†ConditionæŽ¥å£çš„ç±»åž‹.å¯ä»¥çœ‹å‡º,è¿™äº›æŽ¥å£å®žçŽ°èµ·æ¥ç®€å•ç›´æŽ¥.åªéœ€è¦æä¾›matches()æ–¹æ³•çš„å®žçŽ°å³å¯.å¦‚æžœmatches()æ–¹æ³•è¿”å›žtrue,é‚£ä¹ˆå°±ä¼šåˆ›å»ºå¸¦æœ‰@Conditionalæ³¨è§£çš„bean.åä¹‹åˆ™ä¸ä¼šåˆ›å»ºBean.matches()æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°:ConditionContextç±»åž‹å’ŒAnnotatedTypeMetadataç±»åž‹: ConditionContextæŽ¥å£èƒ½æä¾›åº”ç”¨ä¸Šä¸‹æ–‡ä¿¡æ¯: getRegistry()è¿”å›žBeanDefinitionRegistryæ³¨å†Œè¡¨,å¯ä»¥åˆ¤æ–­Beançš„å®šä¹‰ getBeanFactory()è¿”å›žConfigurableListableBeanFactory,å¯ä»¥æ£€æŸ¥Beanæ˜¯å¦å·²ç»å­˜åœ¨,ç”šè‡³æŽ¢æŸ¥Beançš„å±žæ€§. getEnvironment()è¿”å›žEnvironment,å¯ä»¥èŽ·å–å½“å‰åº”ç”¨çŽ¯å¢ƒå˜é‡,ä¹Ÿå¯ä»¥æ£€æµ‹å½“å‰çŽ¯å¢ƒå˜é‡æ˜¯å¦å­˜åœ¨. getResourceLoader()è¿”å›žResourceLoader,ç”¨äºŽè¯»å–æˆ–æŽ¢æŸ¥æ‰€åŠ è½½çš„èµ„æº. getClassLoader()è¿”å›žClassLoader,ç”¨äºŽæ£€æŸ¥ç±»æ˜¯å¦å­˜åœ¨. AnnotatedTypeMetadataæŽ¥å£èƒ½å¤Ÿè®©æˆ‘ä»¬æ£€æŸ¥å¸¦æœ‰@Beanæ³¨è§£çš„æ–¹æ³•ä¸Šè¿˜æœ‰æ²¡æœ‰å…¶ä»–æ³¨è§£: isAnnotated()å¯ä»¥åˆ¤æ–­é™¤@Beanæ³¨è§£å¤–æ˜¯å¦è¿˜æœ‰å…¶ä»–æ³¨è§£. getAllAnnotationAttributes()èŽ·å–å…¶ä»–æ‰€æœ‰çš„æ³¨è§£å±žæ€§ä¸‹é¢æˆ‘ä»¬æ¥åšä¸€ä¸ªä»¥ä¸åŒçš„æ“ä½œç³»ç»Ÿæ¥ä½œä¸ºæ¡ä»¶,é€šè¿‡å®žçŽ°ConditionæŽ¥å£,å¹¶é‡å†™å…¶matchesæ–¹æ³•æ¥æž„é€ åˆ¤æ–­æ¡ä»¶.è‹¥åœ¨Windowsç³»ç»Ÿä¸‹è¿è¡Œç¨‹åº,åˆ™è¾“å‡ºåˆ—è¡¨å‘½ä»¤ä¸ºdirï¼›è‹¥åœ¨Linuxæ“ä½œç³»ç»Ÿä¸‹è¿è¡Œç¨‹åº,åˆ™è¾“å‡ºåˆ—è¡¨å‘½ä»¤ä¸ºlsã€‚ä»£ç æ¼”ç¤º1.å¯¼å…¥POMä¾èµ–12345&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;4.3.13.RELEASE&lt;/version&gt;&lt;/dependency&gt; 2.å®šä¹‰åˆ¤æ–­æ¡ä»¶1234567891011121314151617181920package cn.yeamin.spring.constant;/** * OSå¸¸é‡ * @author tong.li * */public final class Constants &#123; /** * ç§æœ‰æž„é€ ,ä¸è®©å¤–éƒ¨åˆ›å»ºæœ¬ç±»çš„å®žä¾‹å¯¹è±¡ */ private Constants() &#123;&#125; public final static String OS_KEY = \\\"os.name\\\"; public final static String OS_TYPE_WINDOWS = \\\"Windows\\\"; public final static String OS_TYPE_LINUX = \\\"Linux\\\";&#125; 123456789101112131415161718package cn.yeamin.spring.condition;import org.springframework.context.annotation.Condition;import org.springframework.context.annotation.ConditionContext;import org.springframework.core.type.AnnotatedTypeMetadata;import cn.yeamin.spring.constant.Constants;/*** * åˆ¤æ–­Linuxçš„æ¡ä»¶ç±» * @author tong.li */public class LinuxCondition implements Condition &#123; @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) &#123; return context.getEnvironment().getProperty(Constants.OS_KEY).contains(Constants.OS_TYPE_LINUX); &#125;&#125; 1234567891011121314151617181920package cn.yeamin.spring.condition;import org.springframework.context.annotation.Condition;import org.springframework.context.annotation.ConditionContext;import org.springframework.core.type.AnnotatedTypeMetadata;import cn.yeamin.spring.constant.Constants;/*** * åˆ¤æ–­Windowsçš„æ¡ä»¶ç±» * @author tong.li */public class WindowsCondition implements Condition &#123; @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) &#123; return context.getEnvironment().getProperty(Constants.OS_KEY).contains(Constants.OS_TYPE_WINDOWS); &#125;&#125; 3.ä¸šåŠ¡å®žçŽ°:ä¸åŒç³»ç»Ÿä¸‹ä¸åŒçš„å‘½ä»¤1234567891011121314package cn.yeamin.spring.service;/** * å‘½ä»¤æœåŠ¡æŽ¥å£ * @author tong.li */public interface CommandService &#123; /** * æŠ½è±¡æ–¹æ³•,æ˜¾ç¤ºæ“ä½œç³»ç»Ÿçš„showListå‘½ä»¤ * @return cmd */ String showListCommand();&#125; 1234567891011package cn.yeamin.spring.service.impl;import cn.yeamin.spring.service.CommandService;public class LinuxCommandService implements CommandService &#123; @Override public String showListCommand() &#123; return \\\"ls\\\"; &#125;&#125; 123456789101112package cn.yeamin.spring.service.impl;import cn.yeamin.spring.service.CommandService;public class WindowsCommandService implements CommandService &#123; @Override public String showListCommand() &#123; return \\\"dir\\\"; &#125;&#125; 4.å®šä¹‰é…ç½®ç±»123456789101112131415161718192021222324252627282930313233343536373839404142434445package cn.yeamin.spring.conf;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Conditional;import org.springframework.context.annotation.Configuration;import org.springframework.context.annotation.Primary;import cn.yeamin.spring.condition.LinuxCondition;import cn.yeamin.spring.condition.WindowsCondition;import cn.yeamin.spring.service.CommandService;import cn.yeamin.spring.service.impl.LinuxCommandService;import cn.yeamin.spring.service.impl.WindowsCommandService;/** * é…ç½®ç±» * @author tong.li * */@Configurationpublic class ConditionConfig &#123; /** * å£°æ˜Žä¸€ä¸ªBean,å¹¶äº¤ç»™Springå®¹å™¨åŽ»ç®¡ç† * é€šè¿‡@Conditionalæ³¨è§£,æ“ä½œç³»ç»Ÿä¸ºWindowsåˆ™è¾“å‡ºWindowsä¸‹çš„dirå‘½ä»¤ * @return */ @Bean @Conditional(WindowsCondition.class) public CommandService windowsCMD() &#123; return new WindowsCommandService(); &#125; /** * å£°æ˜Žä¸€ä¸ªBean,å¹¶äº¤ç»™Springå®¹å™¨åŽ»ç®¡ç† * é€šè¿‡@Conditionalæ³¨è§£,æ“ä½œç³»ç»Ÿä¸ºWindowsåˆ™è¾“å‡ºWindowsä¸‹çš„lså‘½ä»¤ * @return */ @Bean @Conditional(LinuxCondition.class) public CommandService linuxCMD() &#123; return new LinuxCommandService(); &#125;&#125; 5.æ‰§è¡Œæµ‹è¯•123456789101112131415161718192021222324252627package cn.yeamin.spring;import org.springframework.context.annotation.AnnotationConfigApplicationContext;import cn.yeamin.spring.conf.ConditionConfig;import cn.yeamin.spring.constant.Constants;import cn.yeamin.spring.service.CommandService;/** * å¯åŠ¨ç±» * @author tong.li * */@SuppressWarnings(\\\"all\\\")public class Bootstrap &#123; /** * æ‰§è¡Œæµ‹è¯•åŸºäºŽä¸åŒæ“ä½œç³»ç»Ÿæ˜¾ç¤ºä¸åŒçš„å‘½ä»¤ * @param args */ public static void main(String[] args) &#123; // åŠ è½½é…ç½®ç±»,åˆ›å»ºåŸºäºŽæ³¨è§£å¼çš„åº”ç”¨ä¸Šä¸‹æ–‡ AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(ConditionConfig.class); //èŽ·å–Bean CommandService commandService = context.getBean(CommandService.class); System.out.println(context.getEnvironment().getProperty(Constants.OS_KEY) + \\\"ç³»ç»Ÿä¸‹çš„æ˜¾ç¤ºåˆ—è¡¨å‘½ä»¤ä¸º: \\\" + commandService.showListCommand()); &#125;&#125; 6.æ‰§è¡Œç»“æžœ1Windows 7ç³»ç»Ÿä¸‹çš„æ˜¾ç¤ºåˆ—è¡¨å‘½ä»¤ä¸º: dir 1linuxç³»ç»Ÿä¸‹çš„æ˜¾ç¤ºåˆ—è¡¨å‘½ä»¤ä¸º: ls\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Spring\",\"slug\":\"Spring\",\"permalink\":\"http://ltyeamin.github.io/tags/Spring/\"}]},{\"title\":\"Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ\",\"slug\":\"Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ\",\"date\":\"2018-05-15T03:51:07.000Z\",\"updated\":\"2019-11-20T15:08:53.568Z\",\"comments\":true,\"path\":\"2018/05/15/Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/05/15/Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ/\",\"excerpt\":\"\",\"text\":\"Springå®¹å™¨å®¹å™¨æ˜¯Springæ¡†æž¶çš„æ ¸å¿ƒ.Springå®¹å™¨ä½¿ç”¨DIç®¡ç†æž„æˆåº”ç”¨çš„ç»„ä»¶,ä»–ä¼šåˆ›å»ºç›¸äº’åä½œçš„ç»„ä»¶ä¹‹é—´çš„å…³è”.Springå®¹å™¨å¹¶ä¸æ˜¯åªæœ‰ä¸€ä¸ª.Springè‡ªå¸¦å¤šä¸ªå®¹å™¨å®žçŽ°,å¯å½’çº³ä¸ºä¸¤ç§ä¸åŒçš„ç±»åž‹: Beanå·¥åŽ‚(ç”±BeanFactoryæŽ¥å£å®šä¹‰)æ˜¯æœ€ç®€å•çš„åŒæœŸ,æä¾›åŸºæœ¬çš„DIæ”¯æŒ. åº”ç”¨ä¸Šä¸‹æ–‡(ç”±ApplicationContextæŽ¥å£å®šä¹‰)åŸºäºŽBeanFactoryæž„å»º,å¹¶æä¾›åº”ç”¨æ¡†æž¶çº§åˆ«çš„æœåŠ¡. è™½ç„¶æˆ‘ä»¬å¯ä»¥åœ¨Beanå·¥åŽ‚å’Œåº”ç”¨ä¸Šä¸‹æ–‡ä»»é€‰ä¸€ç§ä½œä¸ºæˆ‘ä»¬çš„å®¹å™¨,ä½†BeanFactoryæ˜¯ApplicationContextçš„é¡¶å±‚æŽ¥å£,åŠŸèƒ½æ¯”è¾ƒå°‘,ä¸èƒ½æ»¡è¶³æˆ‘ä»¬æ—¥å¸¸åº”ç”¨çš„éœ€æ±‚.å› æ­¤åº”ç”¨ä¸Šä¸‹æ–‡æ›´å—å¤§å®¶çš„æ¬¢è¿Ž. Springè‡ªå¸¦äº†å¤šç§ç±»åž‹çš„åº”ç”¨ä¸Šä¸‹æ–‡,ä¸‹é¢ç½—åˆ—å‡ ä¸ªå¸¸ç”¨çš„: AnnotationConfigApplicationContext:ä»Žä¸€ä¸ªæˆ–å¤šä¸ªåŸºäºŽJavaçš„é…ç½®ç±»ä¸­åŠ è½½Springåº”ç”¨ä¸Šä¸‹æ–‡.Spring4ä¹‹åŽæŽ¨èä½¿ç”¨,Spring Boot,Spring Cloudç­‰è‡ªåŠ¨é…ç½®éƒ½æ˜¯åŸºäºŽJava Config. AnnotationConfigWebApplicationContext:ä»Žä¸€ä¸ªæˆ–å¤šä¸ªåŸºäºŽJavaçš„é…ç½®ç±»ä¸­åŠ è½½Spring Webä¸Šä¸‹æ–‡. ClassPathXmlApplicationContext: ä»Žclasspathè·¯å¾„ä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªXMLé…ç½®åŠ è½½ä¸Šä¸‹æ–‡.Spring 4ä¹‹å‰å¸¸å¸¸ä»¥classpathä¸‹æ–‡ä»¶æ–¹å¼è¿›è¡ŒåŠ è½½. FileSystemXmlApplicationContext: ä»Žæ–‡ä»¶ç³»ç»Ÿä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªXMLé…ç½®æ–‡ä»¶ä¸­åŠ è½½ä¸Šä¸‹æ–‡å®šä¹‰.ä¸€èˆ¬ä¸ç”¨ XmlWebApplicationContext: ä»ŽWebåº”ç”¨ä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªXMLé…ç½®åŠ è½½ä¸Šä¸‹æ–‡.ä»¥å‰è€çš„Webé¡¹ç›®å¸¸ç”¨çš„åŠ è½½æ–¹å¼. Beançš„ç”Ÿå‘½å‘¨æœŸåœ¨ä¼ ç»Ÿçš„Javaç¼–ç¨‹æ¨¡å¼ä¸­,ä½¿ç”¨Javaå¯¹è±¡å…³é”®å­—newæˆ–è€…åˆ©ç”¨åå°„æœºåˆ¶è¿›è¡Œå¯¹è±¡å®žä¾‹åŒ–,è¿™äº›â€Beanâ€å®žä¾‹åŒ–åŽæ–¹å¯ä½¿ç”¨.åˆ°äº†æŸä¸ªæ—¶æœŸè¿™äº›å¯¹è±¡ä¸å†è¢«ä½¿ç”¨äº†,åˆ™JVMä¼šè‡ªåŠ¨è¿›è¡Œåžƒåœ¾å›žæ”¶. ç›¸æ¯”ä¼ ç»ŸJavaå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ,Springå®¹å™¨ä¸­Beançš„ç”Ÿå‘½å‘¨æœŸå°±æ˜¾å¾—ç›¸å¯¹å¤æ‚å¤šäº†.æ­£ç¡®ç†è§£Spring Beançš„ç”Ÿå‘½å‘¨æœŸéžå¸¸é‡è¦,å› ä¸ºä½ æˆ–è®¸è¦åˆ©ç”¨Springæä¾›çš„æ‰©å±•ç‚¹æ¥è‡ªåŠ¨é¬¼Beançš„åˆ›å»ºè¿‡ç¨‹. å¦‚ä¸Šå›¾,Beanåœ¨Springå®¹å™¨ä¸­ä»Žåˆ›å»ºåˆ°é”€æ¯ç»åŽ†äº†è‹¥å¹²é˜¶æ®µ: Springé€šè¿‡åå°„æœºåˆ¶å¯¹Beanè¿›è¡Œå®žä¾‹åŒ–; Springå°†å€¼å’ŒBeançš„å¼•ç”¨æ³¨å…¥åˆ°Beanå¯¹åº”çš„å±žæ€§ä¸­. å¦‚æžœBeanå®žçŽ°äº†BeanNameAwareæŽ¥å£,Springå°†Beançš„idä¼ é€’ç»™setBeanName()æ–¹æ³•. å¦‚æžœBeanå®žçŽ°äº†BeanFactoryAwareæŽ¥å£,Springå°†è°ƒç”¨setBeanFactory()æ–¹æ³•,å°†BeanFactoryå®¹å™¨å®žä¾‹ä¼ å…¥. å¦‚æžœBeanå®žçŽ°äº†ApplicationContextAwareæŽ¥å£,Springå°†è°ƒç”¨setApplicationContext()æ–¹æ³•,å°†Beanæ‰€åœ¨çš„åº”ç”¨ä¸Šä¸‹æ–‡çš„å¼•ç”¨ä¼ å…¥è¿›æ¥. å¦‚æžœBeanå®žçŽ°äº†BeanPostProcessoræŽ¥å£,Springå°†è°ƒç”¨postProcessBeforeInitialization()æ–¹æ³•. å¦‚æžœBeanå®žçŽ°äº†InitializingBeanæŽ¥å£,Springå°†è°ƒç”¨afterPropertiesSet()æ–¹æ³•.ç±»ä¼¼åœ¨xmlä½¿ç”¨äº†init-methodçš„æ–¹æ³•,è¯¥æ–¹æ³•ä¹Ÿä¼šè¢«è°ƒç”¨. å¦‚æžœBeanå®žçŽ°äº†BeanPostProcessoræŽ¥å£,Springå°†è°ƒç”¨postProcessAfterInitialization()æ–¹æ³•. Beanå·²ç»å‡†å¤‡å°±ç»ª,å¯ä»¥è¢«åº”ç”¨ç¨‹åºä½¿ç”¨äº†,å®ƒä»¬ä¸€ç›´é©»ç•™åœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­,ç›´åˆ°è¯¥åº”ç”¨ä¸Šä¸‹æ–‡è¢«é”€æ¯. å¦‚æžœBeanå®žçŽ°äº†DisposableBeanæŽ¥å£,Springå°†è°ƒç”¨å®ƒçš„destroy()æ–¹æ³•.ç±»ä¼¼åœ°,å¦‚æžœåœ¨xmlä½¿ç”¨äº†destroy-methodå£°æ˜Žäº†é”€æ¯æ–¹æ³•,è¯¥æ–¹æ³•ä¹Ÿä¼šè¢«è°ƒç”¨.\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Spring\",\"slug\":\"Spring\",\"permalink\":\"http://ltyeamin.github.io/tags/Spring/\"}]},{\"title\":\"æ•°æ®ç»“æž„ä¹‹æŽ’åº\",\"slug\":\"æ•°æ®ç»“æž„ä¹‹æŽ’åº\",\"date\":\"2018-05-10T02:36:55.000Z\",\"updated\":\"2019-05-29T14:03:47.000Z\",\"comments\":true,\"path\":\"2018/05/10/æ•°æ®ç»“æž„ä¹‹æŽ’åº/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/05/10/æ•°æ®ç»“æž„ä¹‹æŽ’åº/\",\"excerpt\":\"\",\"text\":\"æ•°æ®ç»“æž„å’Œç®—æ³•æ˜¯æ•´ä¸ªè®¡ç®—æœºç§‘å­¦ä¸ŽæŠ€æœ¯é¢†åŸŸæ°¸è¿œé€ƒé¿ä¸äº†çš„è¯é¢˜,åšä¸»å¤§å­¦æœ‰è¿‡æ•°æ®ç»“æž„è¿™é—¨å­¦ç§‘,ä¸è¿‡ç‰¹åˆ«åŽæ‚”å½“æ—¶æ²¡æœ‰å¥½å¥½å­¦ä¹ .ä»…å­¦çš„é‚£ä¹ˆç‚¹ä¸œè¥¿çŽ°åœ¨å‡ ä¹Žå¿˜å¾—ä¸€å¹²äºŒå‡€.è™½è¯´å­¦çš„æµ…è–„,ä½†å¯¹æ•´ä¸ªç¼–ç¨‹æ€æƒ³è¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„. åç§å¸¸è§æŽ’åºç®—æ³•åç§å¸¸è§æŽ’åºç®—æ³•å¯åˆ†ä¸ºä¸¤å¤§ç±»: éžçº¿æ€§æ—¶é—´æ¯”è¾ƒç±»æŽ’åºï¼šé€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åº,ç”±äºŽå…¶æ—¶é—´å¤æ‚åº¦ä¸èƒ½çªç ´O(nlogn),å› æ­¤ç§°ä¸ºéžçº¿æ€§æ—¶é—´æ¯”è¾ƒç±»æŽ’åº. çº¿æ€§æ—¶é—´éžæ¯”è¾ƒç±»æŽ’åºï¼šä¸é€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åº,å®ƒå¯ä»¥çªç ´åŸºäºŽæ¯”è¾ƒæŽ’åºçš„æ—¶é—´ä¸‹ç•Œ,ä»¥çº¿æ€§æ—¶é—´è¿è¡Œ,å› æ­¤ç§°ä¸ºçº¿æ€§æ—¶é—´éžæ¯”è¾ƒç±»æŽ’åº. å†’æ³¡æŽ’åºå†’æ³¡æŽ’åº(Bubble Sort),æ˜¯ä¸€ç§è®¡ç®—æœºç§‘å­¦é¢†åŸŸçš„è¾ƒç®€å•çš„æŽ’åºç®—æ³•.å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æŽ’åºçš„æ•°åˆ—,ä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ,å¦‚æžœä»–ä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥.èµ°è®¿æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢,ä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æŽ’åºå®Œæˆ.è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå¤§çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯,æ•…åâ€œå†’æ³¡æŽ’åºâ€. ç®—æ³•æè¿° æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æžœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§,å°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ª; å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œ,ä»Žå¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åŽä¸€å¯¹,è¿™æ ·åœ¨æœ€åŽçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°; é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤,é™¤äº†æœ€åŽä¸€ä¸ª;åŠ¨å›¾æ¼”ç¤ºä»£ç æ¼”ç¤º1234567891011121314151617181920212223242526272829303132/** * * å†’æ³¡æŽ’åº * * @author tong.li * @param arr = &#123;6,3,8,2,9,1&#125; * * ç¬¬0è¶Ÿæ¯”è¾ƒ5æ¬¡: 3,6,8,2,9,1 =&gt; 3,6,8,2,9,1 =&gt; 3,6,2,8,9,1 =&gt; 3,6,2,8,9,1 =&gt; 3,6,2,8,1,9 * ç¬¬1è¶Ÿæ¯”è¾ƒ4æ¬¡: 3,6,2,8,1,9 =&gt; 3,2,6,8,1,9 =&gt; 3,2,6,8,1,9 =&gt; 3,2,6,1,8,9 * ç¬¬2è¶Ÿæ¯”è¾ƒ3æ¬¡: 2,3,6,1,8,9 =&gt; 2,3,6,1,8,9 =&gt; 2,3,1,6,8,9 * ç¬¬3è¶Ÿæ¯”è¾ƒ2æ¬¡: 2,3,1,6,8,9 =&gt; 2,1,3,6,8,9 * ç¬¬4è¶Ÿæ¯”è¾ƒ1æ¬¡: 1,2,3,6,8,9 */public static void bubbleSort(int ... arr) &#123; if ( arr==null || arr.length &lt;= 0) &#123; return; &#125; // å¤–å¾ªçŽ¯æŽ§åˆ¶è¶Ÿæ•° for (int i = 0; i &lt; arr.length; i++) &#123; // å†…å¾ªçŽ¯æŽ§åˆ¶æ¬¡æ•° // for(int j=1;j&lt;arr.length-i;j++)&#123; for (int j = 0; j &lt; arr.length - 1 - i; j++) &#123; //ç›¸é‚»ä¸¤ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒ if( arr[j] &gt; arr[j + 1]) &#123; // é‡‡ç”¨å¼‚æˆ–æ–¹å¼è¿›è¡Œå˜é‡äº’æ¢ arr[j] = arr[j] ^ arr[j + 1]; arr[j + 1] = arr[j] ^ arr[j + 1]; arr[j] = arr[j] ^ arr[j + 1]; &#125; &#125; &#125;&#125; å¿«é€ŸæŽ’åº(é¢è¯•å®˜æœ€çˆ±é—®çš„æŽ’åºç®—æ³•)å¿«é€ŸæŽ’åº(Quicksort)æ˜¯å¯¹å†’æ³¡æŽ’åºçš„ä¸€ç§æ”¹è¿›.å¿«é€ŸæŽ’åºç”±C.A.R.Hoareåœ¨1962å¹´æå‡º.åŸºæœ¬æ€æƒ³æ˜¯:é€šè¿‡ä¸€è¶ŸæŽ’åºå°†è¦æŽ’åºçš„æ•°æ®åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†,å…¶ä¸­ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½æ¯”å¦å¤–ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½è¦å°,ç„¶åŽå†æŒ‰æ­¤æ–¹æ³•å¯¹è¿™ä¸¤éƒ¨åˆ†æ•°æ®åˆ†åˆ«è¿›è¡Œå¿«é€ŸæŽ’åº,æ•´ä¸ªæŽ’åºè¿‡ç¨‹å¯ä»¥é€’å½’è¿›è¡Œ,ä»¥æ­¤è¾¾åˆ°æ•´ä¸ªæ•°æ®å˜æˆæœ‰åºåºåˆ—.æœ€åæƒ…å†µçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2).æœ€å¥½æƒ…å†µæ—¶é—´å¤æ‚åº¦ä¸ºO(nlog2n). ç®—æ³•æè¿°å¿«é€ŸæŽ’åºä½¿ç”¨åˆ†æ²»æ³•æ¥æŠŠä¸€ä¸ªä¸²ï¼ˆlistï¼‰åˆ†ä¸ºä¸¤ä¸ªå­ä¸²ï¼ˆsub-listsï¼‰ã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹: ä»Žæ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ .ç§°ä¸ºâ€åŸºå‡†â€ï¼ˆpivotï¼‰; é‡æ–°æŽ’åºæ•°åˆ—.æ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å°çš„æ‘†æ”¾åœ¨åŸºå‡†å‰é¢.æ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å¤§çš„æ‘†åœ¨åŸºå‡†çš„åŽé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åˆ°ä»»ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºä¹‹åŽ.è¯¥åŸºå‡†å°±å¤„äºŽæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œ; é€’å½’åœ°ï¼ˆrecursiveï¼‰æŠŠå°äºŽåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºŽåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æŽ’åºã€‚åŠ¨å›¾æ¼”ç¤ºä»£ç æ¼”ç¤º123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657/** * * å¿«é€ŸæŽ’åº * * @param arr = &#123;6,3,8,2,9,1&#125; * @author tong.li * * åˆ†æž: * a. ä¸€èˆ¬ä»¥é¦–å…ƒç´ æˆ–å°¾å…ƒç´ ä¸ºåŸºå‡†,è¿™é‡Œä»¥é¦–å…ƒç´ 6ä¸ºåŸºå‡†,æœ‰æ¯”åŸºå‡†æ•°å¤§çš„æ•°æ”¾åœ¨6çš„å³è¾¹,æ¯”åŸºå‡†æ•°å°çš„æ•°æ”¾åœ¨6çš„å·¦è¾¹,æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å°†6æŒªåˆ°åºåˆ—ä¸­é—´çš„æŸä¸ªä½ç½®. * b. å‡è®¾è¿™ä¸ªä½ç½®æ˜¯k,çŽ°åœ¨éœ€è¦å¯»æ‰¾è¿™ä¸ªkçš„ä½ç½®.åˆ†åˆ«ä»Žæ•°ç»„çš„ä¸¤ç«¯å¼€å§‹æŽ¢æµ‹,å…ˆä»Žå³å¾€å·¦æ‰¾ä¸€ä¸ªå°äºŽ6çš„æ•°(æ€»æ˜¯å¦‚æ­¤),å†ä»Žå·¦åˆ°å³æ‰¾ä¸€ä¸ªå¤§äºŽ6çš„æ•°,ä¸¤ç«¯åœä¸‹æ¥åŽäº¤æ¢å®ƒä»¬. * c. è¿™é‡Œå¯ä»¥ç”¨ä¸¤ä¸ªå˜é‡iå’Œj,åˆ†å¸ƒæŒ‡å‘æ•°ç»„æœ€å·¦è¾¹å’Œæœ€å³è¾¹.è¿™ä¸¤ä¸ªå˜é‡æœ‰ä¸ªå¥½å¬çš„åå­—:å“¨å…µiå’Œå“¨å…µj,å“¨å…µiåˆå§‹æŒ‡å‘ç´¢å¼•ä¸º0çš„6,å“¨å…µjåˆå§‹æŒ‡å‘ç´¢å¼•ä¸º5çš„1 * æ­¥éª¤: * 1. å…ˆè®©å“¨å…µjåŠ¨èµ·æ¥å‘å·¦(j--)æ‰¾å°äºŽ6çš„å€¼,ç¬¬ä¸€æ¬¡æ‰¾åˆ°ä¸º1åœä¸‹æ¥. * 2. ç´§æŽ¥ç€å“¨å…µiå‘å³ç§»åŠ¨(i++)æ‰¾å¤§äºŽ6çš„å€¼,ç¬¬ä¸€æ¬¡æ‰¾åˆ°ä¸º8åœä¸‹æ¥. * 3. è¿›è¡Œäº¤æ¢åœä¸‹æ¥çš„å€¼,å³1å’Œ8è¿›è¡Œäº¤æ¢.äº¤æ¢åŽçš„æ•°ç»„ä¸º:6,3,1,2,9,8 * 4. åœ¨3äº¤æ¢åŽçš„åŸºç¡€ä¸Šç»§ç»­1,2æ­¥éª¤,å“¨å…µjä¸€ç›´å¾€å·¦ç§»é‡åˆ°2,å“¨å…µiä¸€ç›´å¾€å³ç§»é‡åˆ°9,ä¸¤ä¸ªå“¨å…µåœ¨2å·²ç»ç›¸é‡äº†,æˆ‘ä»¬åº”è¯¥å°†åŸºå‡†6ä¸Žå’Œ2è¿›è¡Œäº¤æ¢,å³äº¤æ¢åŽçš„æ•°ç»„ä¸º:2,3,1,6,9,8,æ­¤æ—¶ç¬¬ä¸€è½®æŽ¢æµ‹çœŸæ­£ç»“æŸ * æ­¤æ—¶æ—§åŸºå‡†æ•°6å·²ç»å½’ä½,æ–°åŸºå‡†æ•°ä¸º2,ä»¥6ä½åˆ†ç•Œç‚¹æŠŠæ•°ç»„æ‹†æˆäº†ä¸¤ä¸ªå°æ•°ç»„,å·¦æ•°ç»„ä¸ºå°äºŽ6çš„,å³è¾¹æ•°ç»„éƒ½æ˜¯å¤§äºŽ6çš„,ç›®å‰ä¸¤ä¸ªæ•°ç»„çš„é¡ºåºéƒ½æ˜¯æ··ä¹±çš„,ä¸è¿‡ä¸è¦ç´§,ç»§ç»­æŒ‰1,2,3æ­¥éª¤åˆ†åˆ«å¯¹ä¸¤ä¸ªæ•°ç»„è€å¿ƒå¤„ç† * 5. å…ˆå¤„ç†6å·¦è¾¹çš„å°æ•°ç»„2,3,1,ä»¥2ä¸ºåŸºå‡†æ•°,æ‰¾åˆ°1å’Œ3,äº¤æ¢åŽ2,1,3,ç»§ç»­æ‰¾åœ¨1ç›¸é‡,äº¤æ¢åŽä¸º1,2,3 * 6. å†æ¥å¤„ç†6å³è¾¹çš„å°æ•°ç»„9,8,ä»¥9ä¸ºåŸºå‡†æ•°,ä¸¤è€…åœ¨8ç›¸é‡,äº¤æ¢åŽä¸º8,9 * 7. åˆ°æ­¤å®Œå…¨ç»“æŸ,æŽ’åºåŽä¸º1,2,3,6,8,9.å¿«é€ŸæŽ’åºçš„æ¯ä¸€è½®å¤„ç†å…¶å®žå°±æ˜¯å°†è¿™ä¸€è½®çš„åŸºå‡†æ•°å½’ä½,ç›´åˆ°æ‰€æœ‰çš„æ•°éƒ½å½’ä½ä¸ºæ­¢,æŽ’åºå°±ç»“æŸäº†. * */public static void quickSort(int[] arr, int low, int high) &#123; int i, j, temp, t; if (low &gt; high) &#123; return; &#125; i = low; j = high; // tempå°±æ˜¯åŸºå‡†ä½ temp = arr[low]; while (i &lt; j) &#123; // å…ˆçœ‹å³è¾¹.ä¾æ¬¡å¾€å·¦é€’å‡ while (temp &lt;= arr[j] &amp;&amp; i &lt; j) &#123; j--; &#125; // å†çœ‹å·¦è¾¹.ä¾æ¬¡å¾€å³é€’å¢ž while (temp &gt;= arr[i] &amp;&amp; i &lt; j) &#123; i++; &#125; // å¦‚æžœæ»¡è¶³æ¡ä»¶åˆ™äº¤æ¢ if (i &lt; j) &#123; t = arr[j]; arr[j] = arr[i]; arr[i] = t; &#125; &#125; // æœ€åŽå°†åŸºå‡†ä¸ºä¸Žiå’Œjç›¸ç­‰ä½ç½®çš„æ•°å­—äº¤æ¢ arr[low] = arr[i]; arr[i] = temp; // é€’å½’è°ƒç”¨å·¦åŠæ•°ç»„ quickSort(arr, low, j - 1); // é€’å½’è°ƒç”¨å³åŠæ•°ç»„ quickSort(arr, j + 1, high);&#125; é€‰æ‹©æŽ’åºé€‰æ‹©æŽ’åº(Selection sort)æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æŽ’åºç®—æ³•.å®ƒçš„å·¥ä½œåŽŸç†æ˜¯æ¯ä¸€æ¬¡ä»Žå¾…æŽ’åºçš„æ•°æ®å…ƒç´ ä¸­é€‰å‡ºæœ€å°(æˆ–æœ€å¤§)çš„ä¸€ä¸ªå…ƒç´ ,å­˜æ”¾åœ¨åºåˆ—çš„èµ·å§‹ä½ç½®,ç›´åˆ°å…¨éƒ¨å¾…æŽ’åºçš„æ•°æ®å…ƒç´ æŽ’å®Œ. ç®—æ³•æè¿°nä¸ªè®°å½•çš„ç›´æŽ¥é€‰æ‹©æŽ’åºå¯ç»è¿‡n-1è¶Ÿç›´æŽ¥é€‰æ‹©æŽ’åºå¾—åˆ°æœ‰åºç»“æžœã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹: åˆå§‹çŠ¶æ€ï¼šæ— åºåŒºä¸ºR[1..n],æœ‰åºåŒºä¸ºç©º; ç¬¬iè¶ŸæŽ’åº(i=1,2,3â€¦n-1)å¼€å§‹æ—¶,å½“å‰æœ‰åºåŒºå’Œæ— åºåŒºåˆ†åˆ«ä¸ºR[1..i-1]å’ŒR(i..nï¼‰ã€‚è¯¥è¶ŸæŽ’åºä»Žå½“å‰æ— åºåŒºä¸­-é€‰å‡ºå…³é”®å­—æœ€å°çš„è®°å½• R[k],å°†å®ƒä¸Žæ— åºåŒºçš„ç¬¬1ä¸ªè®°å½•Räº¤æ¢,ä½¿R[1..i]å’ŒR[i+1..n)åˆ†åˆ«å˜ä¸ºè®°å½•ä¸ªæ•°å¢žåŠ 1ä¸ªçš„æ–°æœ‰åºåŒºå’Œè®°å½•ä¸ªæ•°å‡å°‘1ä¸ªçš„æ–°æ— åºåŒº; n-1è¶Ÿç»“æŸ,æ•°ç»„æœ‰åºåŒ–äº†;åŠ¨å›¾æ¼”ç¤ºä»£ç æ¼”ç¤º12345678910111213141516171819202122232425262728293031/** * * é€‰æ‹©æŽ’åº * * @author tong.li * @param arr = &#123;6,3,8,2,9,1&#125; * *ç¬¬0è¶Ÿæ¯”è¾ƒ5æ¬¡: 3,6,8,2,9,1 =&gt; 3,6,8,2,9,1 =&gt; 2,6,8,3,9,1 =&gt; 2,6,8,3,9,1 =&gt; 1,6,8,3,9,2 *ç¬¬1è¶Ÿæ¯”è¾ƒ4æ¬¡: 1,6,8,3,9,2 =&gt; 1,3,8,6,9,2 =&gt; 1,3,8,6,9,2 =&gt; 1,2,8,6,9,3 *ç¬¬2è¶Ÿæ¯”è¾ƒ3æ¬¡: 1,2,6,8,9,3 =&gt; 1,2,6,8,9,3 =&gt; 1,2,3,8,9,6 *ç¬¬3è¶Ÿæ¯”è¾ƒ2æ¬¡: 1,2,3,8,9,6 =&gt; 1,2,3,6,9,8 *ç¬¬4è¶Ÿæ¯”è¾ƒ1æ¬¡: 1,2,3,6,8,9 */public static void selectionSort(int... arr) &#123; if ( arr==null || arr.length &lt;= 0) &#123; return; &#125; // å¤–å¾ªçŽ¯æŽ§åˆ¶è¶Ÿæ•° for (int i = 0; i &lt; arr.length - 1; i++) &#123; // å†…å¾ªçŽ¯æŽ§åˆ¶æ¬¡æ•° for (int j = i + 1; j &lt; arr.length; j++) &#123; // ç›¸é‚»ä¸¤ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒ if (arr[i] &gt; arr[j]) &#123; // é‡‡ç”¨å¼‚æˆ–æ–¹å¼è¿›è¡Œå˜é‡äº’æ¢ arr[i] = arr[i] ^ arr[j]; arr[j] = arr[i] ^ arr[j]; arr[i] = arr[i] ^ arr[j]; &#125; &#125; &#125;&#125; å…¶ä»–æŽ’åºç®—æ³•åŽç»­æ›´æ–°,è¯·è¯»è€…æŒç»­å…³æ³¨. å‚è€ƒæ–‡çŒ®:åå¤§ç»å…¸æŽ’åºç®—æ³•-åŠ¨å›¾æ¼”ç¤º å †æŽ’åº,å½’å¹¶æŽ’åº,å¿«æŽ’-æŽ’åºçŽ‹è€…ä¹‹äº‰ä¸€ å †æŽ’åº,å½’å¹¶æŽ’åº,å¿«æŽ’-æŽ’åºçŽ‹è€…ä¹‹äº‰äºŒ\",\"categories\":[{\"name\":\"algorithm\",\"slug\":\"algorithm\",\"permalink\":\"http://ltyeamin.github.io/categories/algorithm/\"}],\"tags\":[{\"name\":\"æŽ’åºç®—æ³•\",\"slug\":\"æŽ’åºç®—æ³•\",\"permalink\":\"http://ltyeamin.github.io/tags/æŽ’åºç®—æ³•/\"}]},{\"title\":\"å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok\",\"slug\":\"å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok\",\"date\":\"2018-04-04T01:27:55.000Z\",\"updated\":\"2019-11-20T15:08:53.128Z\",\"comments\":true,\"path\":\"2018/04/04/å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/04/04/å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok/\",\"excerpt\":\"\",\"text\":\"ä½œä¸ºä¸€ä¸ªWebå¼€å‘è€…,æˆ‘ä»¬æœ‰æ—¶å€™ä¼šéœ€è¦ä¸´æ—¶åœ°å°†ä¸€ä¸ªæœ¬åœ°çš„Webç½‘ç«™éƒ¨ç½²åˆ°å¤–ç½‘,ä»¥ä¾›ä»–äººä½“éªŒè¯„ä»·æˆ–ååŠ©è°ƒè¯•ç­‰ç­‰,é€šå¸¸æˆ‘ä»¬ä¼šè¿™ä¹ˆåš: æ‰¾åˆ°ä¸€å°è¿è¡ŒäºŽå¤–ç½‘çš„WebæœåŠ¡å™¨; æœåŠ¡å™¨ä¸Šæ­å»ºç½‘ç«™è¿è¡Œæ—¶çš„çŽ¯å¢ƒ; éƒ¨ç½²ç½‘ç«™ è°ƒè¯•ç»“æŸåŽ,å†å°†ç½‘ç«™ä»ŽæœåŠ¡å™¨ä¸Šåˆ é™¤ æˆ‘ä»¬éƒ¨ç½²é™æ€çš„ç½‘ç«™ä»…ä»…åªæ˜¯éœ€è¦å±•ç¤ºç»™æœ‹å‹,ä½•å¿…é‚£ä¹ˆéº»çƒ¦???é™¤æ­¤ä¹‹å¤–,ç¬”è€…æœ€è¿‘è¿›è¡Œå¾®ä¿¡æœºå™¨äººå¼€å‘,ç»å¸¸åœ¨æœ¬åœ°å¼€å‘å’Œå¾®ä¿¡æœåŠ¡ç«¯è¿›è¡Œè”è°ƒ.ç”±äºŽå¾®ä¿¡ç«¯å£å’Œç½‘ç»œçš„é™åˆ¶(å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘å¯¹æŽ¥å¿…é¡»ä»¥http://æˆ–https://å¼€å¤´,åˆ†åˆ«æ”¯æŒ80ç«¯å£å’Œ443ç«¯å£),æˆ‘ä¸å¾—ä¸å°†æˆ‘çš„å†…ç½‘æ˜ å°„åˆ°å…¬ç½‘åœ°å€åšæ˜ å°„è°ƒè¯•.æœ‰äº†Ngrokä¹‹åŽ,ä¸–ç•Œæ˜¯å¦‚æ­¤çš„ç¾Žå¥½,æ‰€ä»¥å¼€å§‹å­¦ä¹ ä¹‹æ—…å§! Ngrokä»‹ç»ä¸Žä½¿ç”¨Ngrokæ˜¯ä¸€ä¸ªåå‘ä»£ç†,é€šè¿‡åœ¨å…¬å…±çš„ç«¯ç‚¹å’Œæœ¬åœ°è¿è¡Œçš„ Web æœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªå®‰å…¨çš„é€šé“.Ngrokå¯æ•èŽ·å’Œåˆ†æžæ‰€æœ‰é€šé“ä¸Šçš„æµé‡,ä¾¿äºŽåŽæœŸåˆ†æžå’Œé‡æ”¾. ä¸‹è½½åœ°å€: https://ngrok.com/downloadæˆ‘æ˜¯ä¸‹è½½Windowsç‰ˆæœ¬çš„,è¯»è€…å¯æ ¹æ®è‡ªå·±çš„ç³»ç»Ÿé€‰æ‹©è¿›è¡Œä¸‹è½½. Windowsç‰ˆæœ¬ä½¿ç”¨æ–¹æ³• åŒå‡»æ‰“å¼€ngrok.exe,ä¼šå‡ºçŽ°å¦‚ä¸‹å¸®åŠ©ä¿¡æ¯. å¯åŠ¨æœ¬åœ°é¡¹ç›®,æˆ‘çš„æ˜¯Javaçš„Spring Booté¡¹ç›®,é¡¹ç›®ç«¯å£ä¸º80,è¯»è€…å¯æ ¹æ®æŠ€æœ¯æ ˆé€‰æ‹©ä¸åŒçš„Webé¡¹ç›®. é€šè¿‡æŸ¥çœ‹ä¸Šè¿°å¸®åŠ©æ–‡æ¡£åŽè¿›è¡Œç«¯å£æœ¬åœ°æ˜ å°„åˆ°å…¬ç½‘,è¾“å…¥å‘½ä»¤:ngrok åè®®å æœ¬åœ°è¦æ˜ å°„çš„ç«¯å£å·,å¦‚è¾“å…¥ngrok http 80å‘½ä»¤å¯è¿›å…¥å¦‚ä¸‹é€šé“è¿žæŽ¥. ä»Žä¸Šå›¾å¯çŸ¥æ˜ å°„çš„ä¿¡æ¯,è¦æƒ³è¿›è¡Œå¯è§†åŒ–æµè§ˆ,å¯åœ¨æµè§ˆå™¨è¾“å…¥:http://127.0.0.1:4040 ä¸Šé¢æœ‰ä¸¤ä¸ªæ˜ å°„åˆ°å…¬ç½‘çš„åœ°å€,é€šè¿‡å¤–ç½‘(æ‰‹æœºæµé‡)è¿›è¡Œè®¿é—®çœ‹æ˜¯å¦æˆåŠŸ. è®¿é—®æˆåŠŸåŽ,å¯æŸ¥çœ‹è¯·æ±‚ä¸Žç›¸åº”ä¿¡æ¯.\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"slug\":\"å®žç”¨å·¥å…·åŠæŠ€å·§\",\"permalink\":\"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/\"}]},{\"title\":\"å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž\",\"slug\":\"å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž\",\"date\":\"2018-03-27T02:01:55.000Z\",\"updated\":\"2019-05-29T14:03:52.000Z\",\"comments\":true,\"path\":\"2018/03/27/å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/03/27/å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž/\",\"excerpt\":\"\",\"text\":\"åœ¨Springä¸­,è¢«@Scopeæ³¨è§£ä¿®é¥°Beané»˜è®¤æ˜¯å•ä¾‹æ¨¡å¼çš„,å³åªæœ‰ä¸€ä¸ªå®žä¾‹å¯¹è±¡,å¤šæ¬¡èŽ·å–Beanä¼šæ‹¿åˆ°åŒä¸€ä¸ªå¯¹è±¡. å•ä¾‹æ³¨å†Œè¡¨Springé‡‡ç”¨å•ä¾‹æ³¨å†Œè¡¨çš„ç‰¹æ®Šæ–¹å¼å®žçŽ°å•ä¾‹æ¨¡å¼.é¦–å…ˆè‡ªå·±å†™ä¸ªå•ä¾‹æ³¨å†Œè¡¨.æˆ‘ä»¬å¯ä»¥é€šè¿‡Mapç¼“å­˜å•ä¾‹å¯¹è±¡,å®žçŽ°å•ä¾‹æ³¨å†Œè¡¨.å€¼å¾—æ³¨æ„çš„æ˜¯,é‡‡ç”¨ConcurrentHashMapæ˜¯å‡ºäºŽçº¿ç¨‹å®‰å…¨çš„è€ƒè™‘. 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * @author tong.li * @Description: ä¸€ä¸ªç®€å•çš„å•ä¾‹å®žçŽ°,è®¾è®¡å•ä¾‹æ³¨å†Œè¡¨ * @packagename: com.yimi.yts.learningpath * @date 2018-03-27 10:04 */public class SingletonReg &#123; //æž„å»ºé‡‡ç”¨ConcurrentHashMap,ç”¨äºŽå……å½“ç¼“å­˜æ³¨å†Œè¡¨ private final static Map&lt;String, Object&gt; singletonObjects = new ConcurrentHashMap&lt;&gt;(16); // é™æ€ä»£ç å—åªåŠ è½½æ‰§è¡Œä¸€æ¬¡ static &#123; // å®žä¾‹åŒ–Bean SingletonReg singletonReg = new SingletonReg(); //å¹¶æ³¨å†Œåˆ°æ³¨å†Œè¡¨ä¸­,keyä¸ºç±»çš„å®Œå…¨é™å®šå,valueä¸ºå®žä¾‹åŒ–å¯¹è±¡ singletonObjects.put(singletonReg.getClass().getName(),singletonReg); &#125; /** * ç§æœ‰åŒ–æž„é€ æ–¹æ³•,é¿å…å¤–éƒ¨åˆ›å»ºæœ¬ç±»å®žä¾‹ */ private SingletonReg() &#123;&#125; /** * å¯¹å¤–æš´éœ²èŽ·å¾—è¯¥beançš„æ–¹æ³•,Springæ¡†æž¶ä¸€èˆ¬ä¼šè¿”å›žObject * @return */ public static SingletonReg getInstance(String className) &#123; if (StringUtils.isEmpty(className)) &#123; return null; &#125; //ä»Žæ³¨å†Œè¡¨èŽ·å–,å¦‚æžœæ²¡æœ‰ç›´æŽ¥åˆ›å»º if (singletonObjects.get(className) == null) &#123; try &#123; //å¦‚æžœä¸ºç©º,é€šè¿‡åå°„è¿›è¡Œå®žä¾‹åŒ– singletonObjects.put(className, Class.forName(className).newInstance()); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; //ä»Žç¼“å­˜è¡¨ä¸­å›žåŽ»,å¦‚æžœç¼“å­˜å‘½ä¸­ç›´æŽ¥è¿”å›ž return (SingletonReg)singletonObjects.get(className); &#125; &#125; åŒè¿‡ä»¥ä¸Šå•ä¾‹å®žçŽ°,getInstance()æ–¹æ³•é€šè¿‡ä¼ å…¥ç±»åè¿›è¡Œåˆ¤æ–­,å¦‚æžœå‚æ•°ä¸ºnull,é‚£å°±æ— æ³•èŽ·å–bean,å¦‚æžœå‚æ•°ä¸ä¸ºç©º,å…ˆä»Žç¼“å­˜æ³¨å†Œè¡¨å‘½ä¸­,å¦‚æžœå‘½ä¸­å°±returnæŽ‰,æ²¡æœ‰å‘½ä¸­é€šè¿‡åå°„æœºåˆ¶å®žä¾‹åŒ–ä¸€ä¸ªreturn.è¿™æ ·å¤šæ¬¡èŽ·å¾—è°ƒç”¨getInstance()æ–¹æ³•éƒ½æ˜¯èŽ·å¾—åŒä¸€ä¸ªå¯¹è±¡.æµ‹è¯•å¦‚ä¸‹:123456789 public static void main(String[] args) &#123; /* * è¿”å›žçš„éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ * com.yimi.yts.learningpath.SingletonReg@3d82c5f3 * com.yimi.yts.learningpath.SingletonReg@3d82c5f3 */ System.out.println( SingletonReg.getInstance(&quot;com.yimi.yts.learningpath.SingletonReg&quot;)); System.out.println( SingletonReg.getInstance(&quot;com.yimi.yts.learningpath.SingletonReg&quot;));&#125; Springæºç åˆ†æžé€šè¿‡ä¸Šè¿°å®žçŽ°,Springå°±æ˜¯é‡‡ç”¨äº†è¿™ç§å•ä¾‹æ³¨å†Œè¡¨çš„ç‰¹æ®Šæ–¹å¼å®žçŽ°å•ä¾‹æ¨¡å¼çš„.123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596public abstract class AbstractBeanFactory extends FactoryBeanRegistrySupport implements ConfigurableBeanFactory &#123; @SuppressWarnings(&quot;unchecked&quot;) protected &lt;T&gt; T doGetBean( final String name, final Class&lt;T&gt; requiredType, final Object[] args, boolean typeCheckOnly) throws BeansException &#123; //å¯¹Beançš„nameè¿›è¡Œå¤„ç†,é˜²æ­¢éžæ³•å­—ç¬¦ final String beanName = transformedBeanName(name); Object bean; // Eagerly check singleton cache for manually registered singletons. //ä»Žå•ä¾‹æ³¨å†Œè¡¨ä¸­æ£€æŸ¥æ˜¯å¦å­˜åœ¨å•ä¾‹ç¼“å­˜ Object sharedInstance = getSingleton(beanName); if (sharedInstance != null &amp;&amp; args == null) &#123; //çœç•¥éƒ¨åˆ†ä»£ç ... // è¿”å›žç¼“å­˜å®žä¾‹ bean = getObjectForBeanInstance(sharedInstance, name, beanName, null); &#125; else &#123; //çœç•¥ä»£ç ... try &#123; // ...å¿½ç•¥ä»£ç  // å•ä¾‹æ¨¡å¼,å®žä¾‹åŒ–bean,å¤„ç†åˆ†æ”¯ // Create bean instance. if (mbd.isSingleton()) &#123; sharedInstance = getSingleton(beanName, new ObjectFactory&lt;Object&gt;() &#123; @Override public Object getObject() throws BeansException &#123; try &#123; return createBean(beanName, mbd, args); &#125; catch (BeansException ex) &#123; destroySingleton(beanName); throw ex; &#125; &#125; &#125;); bean = getObjectForBeanInstance(sharedInstance, name, beanName, mbd); &#125; //åŽŸåž‹é­”å…½,å¤„ç†åˆ†æ”¯ else if (mbd.isPrototype()) &#123; //çœç•¥ä»£ç  &#125; else &#123; String scopeName = mbd.getScope(); final Scope scope = this.scopes.get(scopeName); if (scope == null) &#123; throw new IllegalStateException(&quot;No Scope registered for scope name &apos;&quot; + scopeName + &quot;&apos;&quot;); &#125; try &#123; Object scopedInstance = scope.get(beanName, new ObjectFactory&lt;Object&gt;() &#123; @Override public Object getObject() throws BeansException &#123; beforePrototypeCreation(beanName); try &#123; return createBean(beanName, mbd, args); &#125; finally &#123; afterPrototypeCreation(beanName); &#125; &#125; &#125;); bean = getObjectForBeanInstance(scopedInstance, name, beanName, mbd); &#125; catch (IllegalStateException ex) &#123; throw new BeanCreationException(beanName, &quot;Scope &apos;&quot; + scopeName + &quot;&apos; is not active for the current thread; consider &quot; + &quot;defining a scoped proxy for this bean if you intend to refer to it from a singleton&quot;, ex); &#125; &#125; &#125; catch (BeansException ex) &#123; cleanupAfterBeanCreationFailure(beanName); throw ex; &#125; &#125; // Check if required type matches the type of the actual bean instance. if (requiredType != null &amp;&amp; bean != null &amp;&amp; !requiredType.isInstance(bean)) &#123; try &#123; return getTypeConverter().convertIfNecessary(bean, requiredType); &#125; catch (TypeMismatchException ex) &#123; if (logger.isDebugEnabled()) &#123; logger.debug(&quot;Failed to convert bean &apos;&quot; + name + &quot;&apos; to required type &apos;&quot; + ClassUtils.getQualifiedName(requiredType) + &quot;&apos;&quot;, ex); &#125; throw new BeanNotOfRequiredTypeException(name, requiredType, bean.getClass()); &#125; &#125; return (T) bean; &#125;&#125; å…¶ä¸­ä¸­é‡è¦çš„ä»£ç æ˜¯getSingleton()æ–¹æ³•,ä¸‹é¢æ·±å…¥åˆ†æžè¯¥æ–¹æ³•:1234567891011121314151617181920212223242526272829303132333435public class DefaultSingletonBeanRegistry extends SimpleAliasRegistry implements SingletonBeanRegistry &#123; // é€šè¿‡ Map å®žçŽ°å•ä¾‹æ³¨å†Œè¡¨ private final Map&lt;String, Object&gt; singletonObjects = new ConcurrentHashMap&lt;String, Object&gt;(64); public Object getSingleton(String beanName, ObjectFactory&lt;?&gt; singletonFactory) &#123; Assert.notNull(beanName, &quot;&apos;beanName&apos; must not be null&quot;); synchronized (this.singletonObjects) &#123; // æ£€æŸ¥ç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨å®žä¾‹ Object singletonObject = this.singletonObjects.get(beanName); if (singletonObject == null) &#123; // ...å¿½ç•¥ä»£ç  try &#123; singletonObject = singletonFactory.getObject(); &#125; catch (BeanCreationException ex) &#123; // ...å¿½ç•¥ä»£ç  &#125; finally &#123; // ...å¿½ç•¥ä»£ç  &#125; // å¦‚æžœå®žä¾‹å¯¹è±¡åœ¨ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬æ³¨å†Œåˆ°å•ä¾‹æ³¨å†Œè¡¨ä¸­ã€‚ addSingleton(beanName, singletonObject); &#125; return (singletonObject != NULL_OBJECT ? singletonObject : null); &#125; &#125; protected void addSingleton(String beanName, Object singletonObject) &#123; synchronized (this.singletonObjects) &#123; this.singletonObjects.put(beanName, (singletonObject != null ? singletonObject : NULL_OBJECT)); &#125; &#125;&#125; æ€»ç»“ç»¼ä¸Šè¿°åˆ†æž.æˆ‘ä»¬å¯ä»¥å¾—å‡º:Springå¯¹Beanå®žä¾‹çš„åˆ›å»ºæ˜¯é‡‡ç”¨å•ä¾‹æ³¨å†Œè¡¨çš„æ–¹å¼è¿›è¡Œå®žçŽ°çš„ï¼Œè€Œè¿™ä¸ªæ³¨å†Œè¡¨çš„ç¼“å­˜æ˜¯ ConcurrentHashMapå¯¹è±¡ã€‚\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Spring\",\"slug\":\"Spring\",\"permalink\":\"http://ltyeamin.github.io/tags/Spring/\"}]},{\"title\":\"çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž\",\"slug\":\"çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž\",\"date\":\"2018-03-15T12:51:07.000Z\",\"updated\":\"2019-05-29T14:03:51.000Z\",\"comments\":true,\"path\":\"2018/03/15/çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/03/15/çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž/\",\"excerpt\":\"\",\"text\":\"æœ€è¿‘åœ¨ä½¿ç”¨Spring Cloudè¿‡ç¨‹ä¸­,ç»å¸¸ä¼šé‡è§çº¿ç¨‹éš”ç¦»(åˆ‡æ¢).å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±.ä¾‹å¦‚è°ƒç”¨å…¶ä»–æœåŠ¡èŽ·å–ä¸åˆ°Threadlocalæ²¡æœ‰æ•°æ®,æœåŠ¡ä¹‹é—´ä¼ é€’è¯·æ±‚å¤´ä¼ é€’å¤±è´¥.é€šè¿‡æŸ¥é˜…ç›¸å…³æ–‡æ¡£æ‰å‘çŽ°:ç”¨Hystrixå®žçŽ°æ–­è·¯å™¨,Zuulä¸­é»˜è®¤ä½¿ç”¨çš„æ˜¯ä¿¡å·é‡,å…¶ä»–é»˜è®¤éƒ½æ˜¯çº¿ç¨‹éš”ç¦».å…·ä½“æ–‡æ¡£å¦‚ä¸‹(å¯å‚è€ƒHystrix WIKI)ï¼š Thread or Semaphore The default, and the recommended setting, is to run HystrixCommands using thread isolation (THREAD) and HystrixObservableCommands using semaphore isolation (SEMAPHORE). Commands executed in threads have an extra layer of protection against latencies beyond what network timeouts can offer. Generally the only time you should use semaphore isolation for HystrixCommands is when the call is so high volume (hundreds per second, per instance) that the overhead of separate threads is too high; this typically only applies to non-network calls. åœ¨ä½¿ç”¨çº¿ç¨‹éš”ç¦»çš„æ—¶å€™ï¼Œæœ‰ä¸ªé—®é¢˜æ˜¯å¿…é¡»è¦è§£å†³çš„ï¼Œé‚£å°±æ˜¯åœ¨æŸäº›ä¸šåŠ¡åœºæ™¯ä¸‹é€šè¿‡ThreadLocalæ¥åœ¨çº¿ç¨‹é‡Œä¼ é€’æ•°æ®ï¼Œç”¨ä¿¡å·é‡æ˜¯æ²¡é—®é¢˜çš„ï¼Œä»Žè¯·æ±‚è¿›æ¥ï¼Œä½†åŽç»­çš„æµç¨‹éƒ½æ˜¯é€šä¸€ä¸ªçº¿ç¨‹ã€‚å½“éš”ç¦»æ¨¡å¼ä¸ºçº¿ç¨‹æ—¶ï¼ŒHystrixä¼šå°†è¯·æ±‚æ”¾å…¥Hystrixçš„çº¿ç¨‹æ± ä¸­åŽ»æ‰§è¡Œï¼Œè¿™ä¸ªæ—¶å€™æŸä¸ªè¯·æ±‚å°±æœ‰Açº¿ç¨‹å˜æˆBçº¿ç¨‹äº†ï¼ŒThreadLocalå¿…ç„¶æ¶ˆå¤±äº†. æ¨¡æ‹Ÿå®žçŽ° 123456789101112131415161718192021222324252627282930313233public class CustomThreadLocal &#123; static ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;&gt;(); public static void main(String[] args) &#123; new Thread(new Runnable() &#123; @Override public void run() &#123; CustomThreadLocal.threadLocal.set(&quot;å½¤å“¥å“¥&quot;); new Service().call(); &#125; &#125;).start(); &#125;&#125;class Service &#123; public void call() &#123; System.out.println(&quot;Service:&quot; + Thread.currentThread().getName()); System.out.println(&quot;Service:&quot; + CustomThreadLocal.threadLocal.get()); new Dao().call(); &#125;&#125;class Dao &#123; public void call() &#123; System.out.println(&quot;==========================&quot;); System.out.println(&quot;Dao:&quot; + Thread.currentThread().getName()); System.out.println(&quot;Dao:&quot; + CustomThreadLocal.threadLocal.get()); &#125;&#125; æˆ‘ä»¬åœ¨ä¸»ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªThreadLocalç”¨æ¥ä¼ é€’æ•°æ®ï¼Œç„¶åŽèµ·äº†ä¸€ä¸ªçº¿ç¨‹ï¼Œåœ¨çº¿ç¨‹ä¸­è°ƒç”¨Serviceä¸­çš„callæ–¹æ³•ï¼Œå¹¶ä¸”å¾€Threadlocalä¸­è®¾ç½®äº†ä¸€ä¸ªå€¼ï¼Œåœ¨Serviceä¸­èŽ·å–ThreadLocalä¸­çš„å€¼ï¼Œç„¶åŽå†è°ƒç”¨Daoä¸­çš„callæ–¹æ³•ï¼Œä¹Ÿæ˜¯èŽ·å–ThreadLocalä¸­çš„å€¼ï¼Œæˆ‘ä»¬è¿è¡Œä¸‹çœ‹æ•ˆæžœï¼š12345Service:Thread-0Service:å½¤å“¥å“¥==========================Dao:Thread-0Dao:å½¤å“¥å“¥ ä»Žè¿è¡Œç»“æžœæ¥çœ‹,åŒä¸€ä¸ªçº¿ç¨‹ä¸­èƒ½å¤ŸèŽ·å¾—ThreadLocalçš„å€¼.è¿™ä¸ªæ²¡é”™,æŽ¥ä¸‹æ¥,å°†Sericeç±»ä¸­çš„call()æ–¹æ³•ç¨å¾®æ”¹é€ ä¸€ä¸‹:1234567891011public void call() &#123; System.out.println(&quot;Service:&quot; + Thread.currentThread().getName()); System.out.println(&quot;Service:&quot; + CustomThreadLocal.threadLocal.get()); //new Dao().call(); new Thread(new Runnable() &#123; @Override public void run() &#123; new Dao().call(); &#125; &#125;).start();&#125; å†æ¬¡è¿è¡Œç»“æžœå¦‚ä¸‹:12345Service:Thread-0Service:å½¤å“¥å“¥==========================Dao:Thread-1Dao:null ç”±æ­¤å¯è§æ˜¯ä¸¤ä¸ªä¸åŒçš„çº¿ç¨‹,åœ¨è¿è¡ŒDaoä¸­çš„call()æ–¹æ³•è¿›è¡Œäº†çº¿ç¨‹åˆ‡æ¢,æ‰€ä»¥ThreadLocalèŽ·å–åˆ°çš„æ•°æ®æœªnull. InheritableThreadLocalå¼•å…¥æ—¢ç„¶é‡åˆ°é—®é¢˜å°±è¯¥è§£å†³,é‚£ä¹ˆå¦‚ä½•è§£å†³å‘¢?å…¶å®žè§£å†³èµ·æ¥å¾ˆç®€å•,åªéœ€è¦æ”¹ä¸€è¡Œä»£ç å³å¯.1static ThreadLocal&lt;String&gt; threadLocal = new InheritableThreadLocal&lt;&gt;(); å°†Threadlocalæ”¹æˆå­ç±»InheritableThreadLocalåŽè¿è¡Œç»“æžœ:12345Service:Thread-0Service:å½¤å“¥å“¥==========================Dao:Thread-1Dao:å½¤å“¥å“¥ éžå¸¸å®Œç¾Žçš„è§£å†³äº†çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ‹¿ä¸åˆ°å€¼è€Œäº§ç”Ÿçš„é—®é¢˜. æ·±å…¥InheritableThreadLocalåŽŸç†è¦å…ˆäº†è§£InheritableThreadLocalåŽŸç†,é¦–å…ˆæ¸…æ¥šThreadLocalçš„åŽŸç†.è¯ä¸å¤šè¯´,å…ˆåˆ†æžä¸€ä¸‹ThreadLocalçš„åŽŸç†: æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªThreadLocalMapç±»åž‹çš„threadLocalså±žæ€§,ThreadLocalMapç±»ç›¸å½“äºŽä¸€ä¸ªMap,key æ˜¯ ThreadLocalæœ¬èº«,valueå°±æ˜¯æˆ‘ä»¬è®¾ç½®çš„å€¼. 123public class Thread implements Runnable &#123; ThreadLocal.ThreadLocalMap threadLocals = null;&#125; å½“æˆ‘ä»¬é€šè¿‡threadLocal.set(â€œå½¤å“¥å“¥â€)çš„æ—¶å€™,å°±æ˜¯åœ¨è¿™ä¸ªçº¿ç¨‹ä¸­çš„threadLocalså±žæ€§ä¸­æ”¾å…¥ä¸€ä¸ªé”®å€¼å¯¹,keyæ˜¯ å½“å‰çº¿ç¨‹,valueå°±æ˜¯ä½ è®¾ç½®çš„å€¼ã€‚ å½“æˆ‘ä»¬é€šè¿‡ threadlocal.get()æ–¹æ³•çš„æ—¶å€™,å°±æ˜¯æ ¹æ®å½“å‰çº¿ç¨‹ä½œä¸ºkeyæ¥èŽ·å–è¿™ä¸ªçº¿ç¨‹è®¾ç½®çš„å€¼.12345678910111213141516171819202122232425262728293031public class ThreadLocal&lt;T&gt; &#123; public void set(T value) &#123; //èŽ·å–å½“å‰çš„çº¿ç¨‹å¯¹è±¡ Thread t = Thread.currentThread(); //èŽ·å–å½“å‰çº¿ç¨‹å¯¹è±¡ä¸­çš„threadLocalså±žæ€§ ThreadLocalMap map = getMap(t); if (map != null) map.set(this, value); else createMap(t, value); &#125; ThreadLocalMap getMap(Thread t) &#123; return t.threadLocals; &#125; public T get() &#123; Thread t = Thread.currentThread(); ThreadLocalMap map = getMap(t); if (map != null) &#123; ThreadLocalMap.Entry e = map.getEntry(this); if (e != null) &#123; @SuppressWarnings(&quot;unchecked&quot;) T result = (T)e.value; return result; &#125; &#125; return setInitialValue(); &#125;&#125; é€šè¿‡ä¸Šé¢çš„ä»‹ç»æˆ‘ä»¬å¯ä»¥äº†è§£åˆ°threadlocalèƒ½å¤Ÿä¼ é€’æ•°æ®æ˜¯ç”¨Thread.currentThread()å½“å‰çº¿ç¨‹æ¥èŽ·å–,ä¹Ÿå°±æ˜¯åªè¦åœ¨ç›¸åŒçš„çº¿ç¨‹ä¸­å°±å¯ä»¥èŽ·å–åˆ°å‰é¢è®¾ç½®è¿›åŽ»çš„å€¼.å¦‚æžœåœ¨threadlocalè®¾ç½®å®Œå€¼ä¹‹åŽ,ä¸‹æ­¥çš„æ“ä½œé‡æ–°åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹,è¿™ä¸ªæ—¶å€™Thread.currentThread()å°±å·²ç»å˜äº†,é‚£ä¹ˆè‚¯å®šæ˜¯æ‹¿ä¸åˆ°ä¹‹å‰è®¾ç½®çš„å€¼.å…·ä½“çš„é—®é¢˜å¤çŽ°å¯ä»¥å‚è€ƒä¸Šé¢æˆ‘çš„ä»£ç .é‚£ä¸ºä»€ä¹ˆInheritableThreadLocalå°±å¯ä»¥å‘¢?InheritableThreadLocalè¿™ä¸ªç±»ç»§æ‰¿äº†ThreadLocal,é‡å†™äº†3ä¸ªæ–¹æ³•,åœ¨å½“å‰çº¿ç¨‹ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹å®žä¾‹Threadæ—¶,ä¼šæŠŠè¿™äº›çº¿ç¨‹å˜é‡ä»Žå½“å‰çº¿ç¨‹ä¼ é€’ç»™æ–°çš„çº¿ç¨‹å®žä¾‹.12345678910111213141516public class InheritableThreadLocal&lt;T&gt; extends ThreadLocal&lt;T&gt; &#123; protected T childValue(T parentValue) &#123; return parentValue; &#125; ThreadLocalMap getMap(Thread t) &#123; return t.inheritableThreadLocals; &#125; void createMap(Thread t, T firstValue) &#123; t.inheritableThreadLocals = new ThreadLocalMap(this, firstValue); &#125;&#125; é€šè¿‡ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹åˆ°InheritableThreadLocal é‡å†™äº†childValue, getMap,createMapä¸‰ä¸ªæ–¹æ³•,æˆ‘ä»¬å¾€é‡Œé¢setå€¼çš„æ—¶å€™,å€¼ä¿å­˜åˆ°äº†inheritableThreadLocalsé‡Œé¢,è€Œä¸æ˜¯ä¹‹å‰çš„threadLocalsé‚£ä¹ˆå…³é”®çš„ç‚¹æ¥äº†,ä¸ºä»€ä¹ˆå½“åˆ›å»ºæ–°çš„çº¿ç¨‹æ± ,å¯ä»¥èŽ·å–åˆ°ä¸Šä¸ªçº¿ç¨‹é‡Œçš„threadLocalä¸­çš„å€¼å‘¢?åŽŸå› å°±æ˜¯åœ¨æ–°åˆ›å»ºçº¿ç¨‹çš„æ—¶å€™,ä¼šæŠŠä¹‹å‰çº¿ç¨‹çš„inheritableThreadLocalsèµ‹å€¼ç»™æ–°çº¿ç¨‹çš„inheritableThreadLocals,é€šè¿‡è¿™ç§æ–¹å¼å®žçŽ°äº†æ•°æ®çš„ä¼ é€’.æºç æœ€å¼€å§‹åœ¨Threadçš„init()æ–¹æ³•ä¸­,å¦‚ä¸‹:1234567891011121314151617181920212223242526272829303132333435363738394041424344publicclass Thread implements Runnable &#123; private void init(ThreadGroup g, Runnable target, String name, long stackSize, AccessControlContext acc, boolean inheritThreadLocals) &#123; //ä»£ç çœç•¥...... if (inheritThreadLocals &amp;&amp; parent.inheritableThreadLocals != null) //åˆ›å»ºæ–°çš„ThreadLocalMapå¹¶å¤åˆ¶ç»™å½“å‰çº¿ç¨‹çš„inheritableThreadLocalså¯¹è±¡ this.inheritableThreadLocals = ThreadLocal.createInheritedMap(parent.inheritableThreadLocals); //ä»£ç çœç•¥...... &#125; static ThreadLocalMap createInheritedMap(ThreadLocalMap parentMap) &#123; return new ThreadLocalMap(parentMap); &#125; /** * èµ‹å€¼ä»£ç  */ private ThreadLocalMap(ThreadLocalMap parentMap) &#123; Entry[] parentTable = parentMap.table; int len = parentTable.length; setThreshold(len); table = new Entry[len]; for (int j = 0; j &lt; len; j++) &#123; Entry e = parentTable[j]; if (e != null) &#123; @SuppressWarnings(&quot;unchecked&quot;) ThreadLocal&lt;Object&gt; key = (ThreadLocal&lt;Object&gt;) e.get(); if (key != null) &#123; Object value = key.childValue(e.value); Entry c = new Entry(key, value); int h = key.threadLocalHashCode &amp; (len - 1); while (table[h] != null) h = nextIndex(h, len); table[h] = c; size++; &#125; &#125; &#125; &#125;&#125; åˆ°æ­¤ä¸ºæ­¢,é€šè¿‡inheritableThreadLocalsæˆ‘ä»¬å¯ä»¥åœ¨çˆ¶çº¿ç¨‹åˆ›å»ºå­çº¿ç¨‹çš„æ—¶å€™å°†Localä¸­çš„å€¼ä¼ é€’ç»™å­çº¿ç¨‹,è¿™ä¸ªç‰¹æ€§å·²ç»èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†çš„éœ€æ±‚äº†.ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜æ˜¯å¦‚æžœæ˜¯åœ¨çº¿ç¨‹å¤ç”¨çš„æƒ…å†µä¸‹å°±ä¼šå‡ºé—®é¢˜,æ¯”å¦‚çº¿ç¨‹æ± ä¸­åŽ»ä½¿ç”¨inheritableThreadLocalsè¿›è¡Œä¼ å€¼,å› ä¸ºinheritableThreadLocals åªæ˜¯ä¼šå†æ–°åˆ›å»ºçº¿ç¨‹çš„æ—¶å€™è¿›è¡Œä¼ å€¼,çº¿ç¨‹å¤ç”¨å¹¶ä¸ä¼šåšè¿™ä¸ªæ“ä½œ,é‚£ä¹ˆè¦è§£å†³è¿™ä¸ªé—®é¢˜å°±å¾—è‡ªå·±åŽ»æ‰©å±•çº¿ç¨‹ç±»å®žçŽ°è¿™ä¸ªåŠŸèƒ½. é˜¿é‡Œè§£å†³ä¹‹é“å¼€æºçš„ä¸–ç•Œåº”æœ‰å°½æœ‰,ä¸ºäº†è§£å†³ä¸Šè¿°é—ç•™çš„é—®é¢˜,é˜¿é‡Œå¼€æºäº†ä¸€æ¬¾Javaæ¡†æž¶: transmittable-thread-localå…¶ä¸»è¦åŠŸèƒ½å°±æ˜¯è§£å†³åœ¨ä½¿ç”¨çº¿ç¨‹æ± ç­‰ä¼šç¼“å­˜çº¿ç¨‹çš„ç»„ä»¶æƒ…å†µä¸‹,æä¾›ThreadLocalå€¼çš„ä¼ é€’åŠŸèƒ½,è§£å†³å¼‚æ­¥æ‰§è¡Œæ—¶ä¸Šä¸‹æ–‡ä¼ é€’çš„é—®é¢˜.JDKçš„InheritableThreadLocalç±»å¯ä»¥å®Œæˆçˆ¶çº¿ç¨‹åˆ°å­çº¿ç¨‹çš„å€¼ä¼ é€’.ä½†å¯¹äºŽä½¿ç”¨çº¿ç¨‹æ± ç­‰ä¼šç¼“å­˜çº¿ç¨‹çš„ç»„ä»¶çš„æƒ…å†µ,çº¿ç¨‹ç”±çº¿ç¨‹æ± åˆ›å»ºå¥½,å¹¶ä¸”çº¿ç¨‹æ˜¯ç¼“å­˜èµ·æ¥åå¤ä½¿ç”¨çš„;è¿™æ—¶çˆ¶å­çº¿ç¨‹å…³ç³»çš„ThreadLocalå€¼ä¼ é€’å·²ç»æ²¡æœ‰æ„ä¹‰,åº”ç”¨éœ€è¦çš„å®žé™…ä¸Šæ˜¯æŠŠä»»åŠ¡æäº¤ç»™çº¿ç¨‹æ± æ—¶çš„ThreadLocalå€¼ä¼ é€’åˆ°ä»»åŠ¡æ‰§è¡Œæ—¶.transmittable-thread-localä½¿ç”¨æ–¹å¼åˆ†ä¸ºä¸‰ç§:ä¿®é¥°Runnableå’ŒCallable,ä¿®é¥°çº¿ç¨‹æ± ,Java Agentæ¥ä¿®é¥°JDKçº¿ç¨‹æ± å®žçŽ°ç±».æŽ¥ä¸‹æ¥ç»™å¤§å®¶æ¼”ç¤ºä¸‹çº¿ç¨‹æ± çš„ä¿®é¥°æ–¹å¼,é¦–å…ˆæ¥ä¸€ä¸ªéžæ­£å¸¸çš„æ¡ˆä¾‹,ä»£ç å¦‚ä¸‹:1234567891011121314151617181920212223242526272829303132333435363738394041public class CustomThreadLocal &#123; static ThreadLocal&lt;String&gt; threadLocal = new InheritableThreadLocal&lt;&gt;(); /** * åˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°ä¸º2çš„çº¿ç¨‹æ±  */ static ExecutorService pool = Executors.newFixedThreadPool(2); public static void main(String[] args) &#123; for(int i=0;i&lt;100;i++) &#123; int j = i; pool.execute(new Thread(new Runnable() &#123; @Override public void run() &#123; CustomThreadLocal.threadLocal.set(&quot;å½¤å“¥å“¥&quot;+j); new Service().call(); &#125; &#125;)); &#125; &#125;&#125;class Service &#123; public void call() &#123; CustomThreadLocal.pool.execute(new Runnable() &#123; @Override public void run() &#123; new Dao().call(); &#125; &#125;); &#125;&#125;class Dao &#123; public void call() &#123; System.out.println(&quot;Dao:&quot; + CustomThreadLocal.threadLocal.get()); &#125;&#125; è¿è¡Œä¸Šé¢çš„ä»£ç ,å‡ºçŽ°çš„ç»“æžœæ˜¯ä¸æ­£ç¡®çš„,è¾“å‡ºç»“æžœå¦‚ä¸‹:12345678910111213Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥99çœç•¥ä¹‹åŽçš„ç»“æžœ... æ­£ç¡®çš„åº”è¯¥æ˜¯ä»Ž0-99ä¸èƒ½æœ‰é‡å¤,ç”±äºŽçº¿ç¨‹çš„å¤ç”¨,å€¼è¢«æ›¿æ¢æŽ‰äº†æ‰ä¼šå‡ºçŽ°ä¸æ­£ç¡®çš„ç»“æžœ.æŽ¥ä¸‹æ¥ä½¿ç”¨transmittable-thread-localæ¥æ”¹é€ æœ‰é—®é¢˜çš„ä»£ç ,æ·»åŠ transmittable-thread-localçš„Mavenä¾èµ–ï¼š12345&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;transmittable-thread-local&lt;/artifactId&gt; &lt;version&gt;2.2.0&lt;/version&gt;&lt;/dependency&gt; åªéœ€è¦ä¿®æ”¹2ä¸ªåœ°æ–¹,ä¿®é¥°çº¿ç¨‹æ± å’Œæ›¿æ¢InheritableThreadLocal:12static TransmittableThreadLocal&lt;String&gt; threadLocal = new TransmittableThreadLocal&lt;&gt;();static ExecutorService pool = TtlExecutors.getTtlExecutorService(Executors.newFixedThreadPool(2)); æ­£ç¡®ç»“æžœå¦‚ä¸‹:123456789101112Dao:å½¤å“¥å“¥1Dao:å½¤å“¥å“¥2Dao:å½¤å“¥å“¥4Dao:å½¤å“¥å“¥5Dao:å½¤å“¥å“¥3Dao:å½¤å“¥å“¥6Dao:å½¤å“¥å“¥7Dao:å½¤å“¥å“¥8Dao:å½¤å“¥å“¥9Dao:å½¤å“¥å“¥10Dao:å½¤å“¥å“¥11çœç•¥ä¹‹åŽçš„ç»“æžœ... åˆ°è¿™é‡Œæˆ‘ä»¬å°±å·²ç»å¯ä»¥å®Œç¾Žçš„è§£å†³çº¿ç¨‹ä¸­,çº¿ç¨‹æ± ä¸­ThreadLocalæ•°æ®çš„ä¼ é€’äº†,é¢˜ä¸»è¶ç€ä¸­åˆå–èŒ¶çš„æ—¶é—´,æ— æ„é—´æ‰¾åˆ°å…¶ä»–è§£å†³æ–¹æ¡ˆ,ä¸‹èŠ‚ç»§ç»­ç”¨å…¶ä»–æ–¹å¼è¿›è¡Œè§£å†³.\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Java\",\"slug\":\"Java\",\"permalink\":\"http://ltyeamin.github.io/tags/Java/\"}]},{\"title\":\"ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ\",\"slug\":\"ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ\",\"date\":\"2018-02-07T12:18:53.000Z\",\"updated\":\"2019-11-20T15:08:57.032Z\",\"comments\":true,\"path\":\"2018/02/07/ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/02/07/ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ/\",\"excerpt\":\"\",\"text\":\"Jenkinsæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶é¡¹ç›®ï¼Œæ˜¯åŸºäºŽJavaå¼€å‘çš„ä¸€ç§æŒç»­é›†æˆå·¥å…·ï¼Œç”¨äºŽç›‘æŽ§æŒç»­é‡å¤çš„å·¥ä½œï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå¼€æ”¾æ˜“ç”¨çš„è½¯ä»¶å¹³å°ï¼Œä½¿è½¯ä»¶çš„æŒç»­é›†æˆå˜æˆå¯èƒ½ã€‚ å®‰è£…Jenkinsé¦–å…ˆæˆ‘ä»¬åŽ»Jenkinså®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°çš„éƒ¨ç½²åŒ…(.war):Jenkins.å› ä¸ºæˆ‘æ˜¯åœ¨Linuxå¹³å°éƒ¨ç½²,éœ€è¦æ³¨æ„çš„æ˜¯Jenkinsæ˜¯åŸºäºŽJavaæž„å»ºçš„,æ‰€ä»¥æˆ‘ä»¬å¿…é¡»å®‰è£…å¥½JDKç³»åˆ—çš„ä¾èµ–æ‰è¡Œ.Linuxå®‰è£…JDKæ—¶å€™å…ˆå¸è½½æœ¬èº«è‡ªå¸¦çš„OpenJDKå†è¿›è¡Œå®‰è£…,å¹¶é…ç½®å¥½çŽ¯å¢ƒå˜é‡.JDKå®‰è£…æˆ‘ä¸åœ¨ç´¯è¿°,è¯»è€…å¯è‡ªè¡Œç™¾åº¦. 12# é€šè¿‡wgetæ–¹å¼ä¸‹è½½Tomcatå’ŒJenkinså®‰è£…åŒ…[root@localhost bin]# wget http://mirrors.jenkins.io/war/latest/jenkins.war ä¸‹è½½å®ŒæˆåŽä¼šåœ¨å½“å‰ç›®å½•å‡ºçŽ°jenkins.war,å› ä¸ºJenkinså†…åµŒJettyæœåŠ¡å™¨(ä¹Ÿå¯ä»¥éƒ¨ç½²åœ¨Tomcatå®¹å™¨é‡Œ),å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨.1[root@localhost bin]# java -jar jenkins.war æ‰§è¡Œä»¥ä¸‹å‘½ä»¤,ä¼šæ‰“å°å‡ºå¦‚ä¸‹æ—¥å¿—ä¿¡æ¯:12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182Running from: /usr/local/bin/jenkins.warwebroot: $user.home/.jenkinsäºŒæœˆ 06, 2018 11:19:44 ä¸Šåˆ Main deleteWinstoneTempContentsè­¦å‘Š: Failed to delete the temporary Winstone file /tmp/winstone/jenkins.waräºŒæœˆ 06, 2018 11:19:44 ä¸Šåˆ org.eclipse.jetty.util.log.Log initializedä¿¡æ¯: Logging initialized @1303ms to org.eclipse.jetty.util.log.JavaUtilLogäºŒæœˆ 06, 2018 11:19:44 ä¸Šåˆ winstone.Logger logInternalä¿¡æ¯: Beginning extraction from war fileäºŒæœˆ 06, 2018 11:19:47 ä¸Šåˆ org.eclipse.jetty.server.handler.ContextHandler setContextPathè­¦å‘Š: Empty contextPathäºŒæœˆ 06, 2018 11:19:47 ä¸Šåˆ org.eclipse.jetty.server.Server doStartä¿¡æ¯: jetty-9.4.z-SNAPSHOTäºŒæœˆ 06, 2018 11:19:47 ä¸Šåˆ org.eclipse.jetty.webapp.StandardDescriptorProcessor visitServletä¿¡æ¯: NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServletäºŒæœˆ 06, 2018 11:19:48 ä¸Šåˆ org.eclipse.jetty.server.session.DefaultSessionIdManager doStartä¿¡æ¯: DefaultSessionIdManager workerName=node0äºŒæœˆ 06, 2018 11:19:48 ä¸Šåˆ org.eclipse.jetty.server.session.DefaultSessionIdManager doStartä¿¡æ¯: No SessionScavenger set, using defaultsäºŒæœˆ 06, 2018 11:19:48 ä¸Šåˆ org.eclipse.jetty.server.session.HouseKeeper startScavengingä¿¡æ¯: Scavenging every 600000msJenkins home directory: /root/.jenkins found at: $user.home/.jenkinsäºŒæœˆ 06, 2018 11:19:49 ä¸Šåˆ org.eclipse.jetty.server.handler.ContextHandler doStartä¿¡æ¯: Started w.@f9b7332&#123;/,file:///root/.jenkins/war/,AVAILABLE&#125;&#123;/root/.jenkins/war&#125;äºŒæœˆ 06, 2018 11:19:49 ä¸Šåˆ org.eclipse.jetty.server.AbstractConnector doStartä¿¡æ¯: Started ServerConnector@2baa8d82&#123;HTTP/1.1,[http/1.1]&#125;&#123;0.0.0.0:8080&#125;äºŒæœˆ 06, 2018 11:19:49 ä¸Šåˆ org.eclipse.jetty.server.Server doStartä¿¡æ¯: Started @6419msäºŒæœˆ 06, 2018 11:19:49 ä¸Šåˆ winstone.Logger logInternalä¿¡æ¯: Winstone Servlet Engine v4.0 running: controlPort=disabledäºŒæœˆ 06, 2018 11:19:52 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Started initializationäºŒæœˆ 06, 2018 11:19:52 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Listed all pluginsäºŒæœˆ 06, 2018 11:19:56 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Prepared all pluginsäºŒæœˆ 06, 2018 11:19:56 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Started all pluginsäºŒæœˆ 06, 2018 11:19:56 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Augmented all extensionsäºŒæœˆ 06, 2018 11:19:59 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Loaded all jobsäºŒæœˆ 06, 2018 11:19:59 ä¸Šåˆ hudson.eureka1-server.AsyncPeriodicWork$1 runä¿¡æ¯: Started Download metadataäºŒæœˆ 06, 2018 11:20:00 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Completed initializationäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.context.support.AbstractApplicationContext prepareRefreshä¿¡æ¯: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@fabd330: display name [Root WebApplicationContext]; startup date [Tue Feb 06 11:20:02 CST 2018]; root of context hierarchyäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactoryä¿¡æ¯: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@fabd330]: org.springframework.beans.factory.support.DefaultListableBeanFactory@1452b2bcäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletonsä¿¡æ¯: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1452b2bc: defining beans [authenticationManager]; root of factory hierarchyäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.context.support.AbstractApplicationContext prepareRefreshä¿¡æ¯: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@1a724d6e: display name [Root WebApplicationContext]; startup date [Tue Feb 06 11:20:02 CST 2018]; root of context hierarchyäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactoryä¿¡æ¯: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@1a724d6e]: org.springframework.beans.factory.support.DefaultListableBeanFactory@7be61840äºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletonsä¿¡æ¯: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@7be61840: defining beans [filter,legacy]; root of factory hierarchyäºŒæœˆ 06, 2018 11:20:03 ä¸Šåˆ jenkins.install.SetupWizard initä¿¡æ¯: ***************************************************************************************************************************************************************************************Jenkins initial setup is required. An admin user has been created and a password generated.Please use the following password to proceed to installation:00caaea4ac874d4db11cb31c27e5c7ceThis may also be found at: /root/.jenkins/secrets/initialAdminPassword***************************************************************************************************************************************************************************************äºŒæœˆ 06, 2018 11:21:34 ä¸Šåˆ hudson.eureka1-server.UpdateSite updateDataä¿¡æ¯: Obtained the latest update center data file for UpdateSource defaultäºŒæœˆ 06, 2018 11:21:37 ä¸Šåˆ hudson.eureka1-server.UpdateSite updateDataä¿¡æ¯: Obtained the latest update center data file for UpdateSource defaultäºŒæœˆ 06, 2018 11:21:37 ä¸Šåˆ hudson.WebAppMain$3 runä¿¡æ¯: Jenkins is fully up and runningäºŒæœˆ 06, 2018 11:21:37 ä¸Šåˆ hudson.eureka1-server.DownloadService$Downloadable loadä¿¡æ¯: Obtained the updated data file for hudson.tasks.Maven.MavenInstaller å¯åŠ¨æˆåŠŸåŽ,æµè§ˆå™¨è¾“å…¥http://192.168.64.128:8080,åˆ™ä¼šè¿›å…¥ä»¥ä¸‹ç•Œé¢:èŽ·å–å£ä»¤æœ‰å¥½å‡ ç§æ–¹å¼: ä¸Šè¿°å¯åŠ¨æ—¥å¿—é‡Œ,è¿™é‡Œå£ä»¤ä¸º:00caaea4ac874d4db11cb31c27e5c7ce /root/.jenkins/secrets/initialAdminPasswordå¤åˆ¶å£ä»¤å¡«å……è¿›åŽ»å¹¶ç‚¹å‡»ç»§ç»­åˆ™è¿›å…¥ä¸‹åˆ—ç•Œé¢:è¿™é‡Œæˆ‘ä»¬é€‰æ‹©å®‰è£…æŽ¨èçš„é»˜è®¤å®‰è£…æ–¹å¼,Jenkinså°±è‡ªåŠ¨é…ç½®å¥½äº†ä¸€äº›å¸¸ç”¨æ’ä»¶.æœ€åŽ,åˆ›å»ºä¸€ä¸ªadminç”¨æˆ·,å®Œæˆå®‰è£….Jenkinsé…ç½®å®‰è£…å®ŒæˆåŽ,æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é…ç½®ä¸€äº›æ’ä»¶.å¦‚JDK,Maven,Git,Gradleç­‰å¸¸ç”¨æ’ä»¶. é¦–é¡µâ€”â€”&gt;ç³»ç»Ÿç®¡ç†â€”-&gt; å…¨å±€å·¥å…·ç®¡ç†1234567891011# ä¸‹è½½maven-Dmaven.test.skip=truevi seting&lt;localRepository&gt;/usr/local/bin/apache-maven-3.5.2/repository&lt;/localRepository&gt; &lt;mirrors&gt; &lt;mirror&gt; &lt;id&gt;nexus-aliyun&lt;/id&gt; &lt;mirrorOf&gt;*&lt;/mirrorOf&gt; &lt;name&gt;Nexus aliyun&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt; &lt;/mirror&gt; &lt;/mirrors&gt; Gitæˆ‘ä»¬é€‰æ‹©é»˜è®¤å®‰è£…,JDKæ‰‹åŠ¨åŽ»é…ç½®. é¦–é¡µâ€”â€”&gt;ç³»ç»Ÿç®¡ç†â€”-&gt; ç®¡ç†æ’ä»¶â€”â€“&gt;å¯é€‰æ’ä»¶â€”-&gt;è¿‡æ»¤â€”â€”&gt;è¾“å…¥:Maven Integration pluginæˆ–è€…Git pluginâ€”â€“&gt;é€‰æ‹©æ€§å®‰è£…æ’ä»¶ æž„å»ºè‡ªåŠ¨åŒ–éƒ¨ç½²Gité¡¹ç›®åœ°å€: https://gitee.com/ltalex/GitCeShi.gitåœ¨Jenkinsé¦–é¡µé€‰æ‹©æ–°å»ºä»»åŠ¡,å¦‚ä¸‹ ä»¥ä¸‹é…ç½®è¡¨ç¤ºmavenæž„å»ºç»“æŸåŽæ‰§è¡Œçš„è„šæœ¬(Execute shell)1234/usr/local/eureka/stop.sh/usr/local/eureka/replace.sh# ç†è®ºæ¥è¯´å¯ä»¥è¿™æ ·å†™nohup java -jar xxx.jar &amp;,ä½†æ˜¯è¿™ç§é…ç½®åœ¨jenkisæ˜¯æ— æ•ˆçš„BUILD_ID=dontKillMe nohup /usr/local/eureka/startup.sh &amp; åœæ­¢è„šæœ¬123456789# å°†åº”ç”¨åœæ­¢#stop.sh#!/bin/bashecho &quot;Stopping SpringBoot Application&quot;pid=`ps -ef | grep eureka1-server.jar | grep -v grep | awk &apos;&#123;print $2&#125;&apos;`if [ -n &quot;$pid&quot; ]then kill -9 $pidfi å¤‡ä»½è„šæœ¬123456789#replace.sh ç”¨äºŽå°†ä¸Šæ¬¡æž„å»ºçš„ç»“æžœå¤‡ä»½ï¼Œç„¶åŽå°†æ–°çš„æž„å»ºç»“æžœç§»åŠ¨åˆ°åˆé€‚çš„ä½ç½®#!/bin/bash# å…ˆåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æžœå­˜åœ¨ï¼Œåˆ™å¤‡ä»½file=&quot;/usr/local/eureka/eureka1-server.jar&quot;if [ -f &quot;$file&quot; ]then mv /usr/local/eureka/eureka1-server.jar /usr/local/eureka/backup/eureka1-server.jar.`date +%Y%m%d%H%M%S`fimv /root/.jenkins/workspace/Test/target/eureka1-server.jar /usr/local/eureka/eureka1-server.jar å¯åŠ¨è„šæœ¬123456# startup.sh å¯åŠ¨é¡¹ç›®#!/bin/shecho &quot;æŽˆäºˆå½“å‰ç”¨æˆ·æƒé™&quot;chmod 777 /usr/local/eureka/eureka1-server.jarecho &quot;æ‰§è¡Œ.....&quot;java -jar /usr/local/eureka/eureka1-server.jar ç‚¹å‡»ç«‹å³æž„å»º,Consoleä¼šå‡ºçŽ°å¦‚ä¸‹ä¿¡æ¯: éƒ¨ç½²æˆåŠŸåŽ,è®¿é—®http://192.168.64.128:8099/,å¦‚ä¸‹å›¾: é‡åˆ°çš„é—®é¢˜ åœ¨éƒ¨ç½²çš„æ—¶å€™ä¼šå‡ºçŽ°java -jarå‡ºçŽ°æ²¡æœ‰ä¸»æ¸…å•å±žæ€§çš„é—®é¢˜,é‚£æ˜¯å› ä¸ºé¡¹ç›®ä¸­Pomæ–‡ä»¶æ²¡æœ‰é…ç½®SpringBootæ’ä»¶,å¯¼è‡´åœ¨jaråŒ…ä¸­MANIFEST.MFæ–‡ä»¶æ²¡æœ‰å¯åŠ¨ä¿¡æ¯12java -jar eureka1-server.jareureka1-server.jarä¸­æ²¡æœ‰ä¸»æ¸…å•å±žæ€§ è§£å†³æ–¹æ¡ˆ:1234567891011&lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;repackage&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt;&lt;/plugin&gt; æž„å»ºæˆåŠŸåŽçš„è„šæœ¬,å³Execute shellå°½é‡æ‰§è¡Œè¿œç¨‹çš„shellè„šæœ¬,ä¸è¦ç›´æŽ¥åœ¨é‡Œé¢å¯åŠ¨é¡¹ç›®,å› ä¸ºé¡¹ç›®å¯åŠ¨åŽä¼šä¸€ç›´åœç•™,Jenkinså°±æ˜¯æž„å»ºæˆåŠŸä¹Ÿä¸ä¼šåœæ­¢å½“å‰é¡¹ç›®çš„æž„å»ºçŠ¶æ€. å¯ä»¥å®šåˆ¶æž„å»ºå‡ºå‘å™¨,å½“æˆ‘ä»¬å¸Œæœ›pushä¸€äº›ä¸œè¥¿èƒ½å¤Ÿç«‹é©¬æž„å»ºé¡¹ç›®æ—¶,å¯åœ¨æž„å»ºè§¦å‘å™¨ä¸­å‹¾é€‰Poll SCMæ—¥ç¨‹è¡¨è¡¨å¡«å†™è¡¨è¾¾å¼:* * * * *\",\"categories\":[{\"name\":\"ops\",\"slug\":\"ops\",\"permalink\":\"http://ltyeamin.github.io/categories/ops/\"}],\"tags\":[{\"name\":\"Jenkins\",\"slug\":\"Jenkins\",\"permalink\":\"http://ltyeamin.github.io/tags/Jenkins/\"}]},{\"title\":\"æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure)\",\"slug\":\"æµ…è°ˆåŒ¿åå‡½æ•°,Lambda,é—­åŒ…(Closure)\",\"date\":\"2018-01-30T09:46:04.000Z\",\"updated\":\"2019-05-29T14:03:52.000Z\",\"comments\":true,\"path\":\"2018/01/30/æµ…è°ˆåŒ¿åå‡½æ•°,Lambda,é—­åŒ…(Closure)/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/01/30/æµ…è°ˆåŒ¿åå‡½æ•°,Lambda,é—­åŒ…(Closure)/\",\"excerpt\":\"\",\"text\":\"å‡ ä¹Žæ‰€æœ‰çš„ä¸»æµç¼–ç¨‹è¯­è¨€éƒ½å¯¹å‡½æ•°å¼ç¼–ç¨‹æœ‰æ”¯æŒ,æˆ‘æ‰€ç”¨è¿‡çš„æ¯”å¦‚Java8çš„Lambdaè¡¨è¾¾å¼,JavaScriptå’ŒGroovyè¯­è¨€çš„é—­åŒ…(Closure)ç­‰,å…¶ä»–çš„ç±»ä¼¼äºŽObject-Cçš„block,pythonçš„Lambdaå’ŒC++11,çœ‹åˆ°è¿™äº›,æˆ‘éƒ½æœ‰ç‚¹çœ©æ™•æƒ³åçš„æ„Ÿè§‰. åŒ¿åå‡½æ•°,Lambda,é—­åŒ…(Closure)åŒºåˆ«ä»Žè¡¨è±¡ä¸Šè¯´Lambdaå’ŒClosureæ˜¯ä¸€ä¸ªä¸œè¥¿,åªæ˜¯è¯­è¨€ä¸åŒç½¢äº†,å®ƒä»¬éƒ½å¯ä»¥åŽ»æ›¿ä»£åŒ¿åå‡½æ•°ç”¨äºŽç®€åŒ–ä¹¦å†™,åŒ¿åå‡½æ•°å†…éƒ¨å¯ä»¥è®¿é—®åˆ°å¤–éƒ¨å˜é‡.ä»Žè€Œå½¢æˆä¸€ä¸ªâ€é—­åŒ…â€.è®°ä½,è¿™åªæ˜¯è¡¨è±¡.ä¸‹é¢å°±è®©ä½ æ€€ç–‘äººç”Ÿ?çœŸçš„æ˜¯ä¸€æ ·å—? Javaä¸­Lambdaè¡¨è¾¾å¼æµ…è°ˆå…¶å®žJavaåœ¨å¾ˆæ—©çš„ç‰ˆæœ¬å°±æ”¯æŒé—­åŒ…,åªæ˜¯å› ä¸ºåº”ç”¨åœºæ™¯å¤ªå°‘äº†,æ‰€ä»¥è¿™ä¸ªæ¦‚å¿µæ‰ä»ŽJava8æŽ¨å¹¿.è¯ä¸å¤šè¯´,å…ˆä¸Šä»£ç : 12345678910111213141516171819202122public static Supplier&lt;Integer&gt; testClosure()&#123; final int i = 1; return new Supplier&lt;Integer&gt;() &#123; @Override public Integer get() &#123; return i; &#125; &#125;;&#125;public interface Supplier&lt;T&gt; &#123; T get();&#125; ä¸Šè¿°ä»£ç ä¸­,å˜é‡iæ˜¯testClosure()çš„å±€éƒ¨å˜é‡,ä½†æ˜¯æœ€ç»ˆè¿”å›žé‡Œçš„åŒ¿åå¯¹è±¡é‡Œ,ä»ç„¶è¿”å›žäº†i.æˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œå…¶ä½œç”¨åŸŸä»…é™äºŽå‡½æ•°å†…éƒ¨ï¼Œåœ¨å‡½æ•°ç»“æŸæ—¶ï¼Œå±€éƒ¨å˜é‡iä»Žæ ˆå†…å­˜æ¶ˆå¤±äº†,å°±åº”è¯¥æ˜¯ä¸å¯è§çŠ¶æ€ï¼Œè€Œé—­åŒ…åˆ™å°†içš„ç”Ÿå­˜å‘¨æœŸå»¶é•¿äº†ï¼Œå¹¶ä¸”ä½¿å¾—å˜é‡å¯ä»¥è¢«å¤–éƒ¨å‡½æ•°æ‰€å¼•ç”¨ã€‚åœ¨JDK8ä¹‹å‰,å¦‚æžœè®¿é—®i,å˜é‡iå¿…é¡»åŠ finalå…³é”®å­—ä¿®é¥°,è®©iæˆä¸ºå˜ä¸ºå¸¸é‡æ± ä¸­çš„å¸¸é‡ä»¥å»¶è¿Ÿiçš„ç”Ÿå‘½å‘¨æœŸ.è€Œåœ¨JDK8ä¸­ä»¥Lambdaè¡¨è¾¾å¼æ–¹å¼å†™,iåˆ™ä¸éœ€è¦åŠ ,è¿™é‡Œåªæ˜¯ä¸ªè¯­æ³•ç³–,å› ä¸ºåº•å±‚.classæ–‡ä»¶ä¼šè‡ªåŠ¨æŽ¨æ–­åŠ ä¸Š.åœ¨Javaçš„ç»å…¸è‘—ä½œã€ŠEffective Javaã€‹ã€ã€ŠJava Concurrency in Practiceã€‹é‡Œï¼Œå¤§ç¥žä»¬éƒ½æåˆ°ï¼šåŒ¿åå‡½æ•°é‡Œçš„å˜é‡å¼•ç”¨ï¼Œä¹Ÿå«åšå˜é‡å¼•ç”¨æ³„éœ²ï¼Œä¼šå¯¼è‡´çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå› æ­¤åœ¨Java8ä¹‹å‰ï¼Œå¦‚æžœåœ¨åŒ¿åç±»å†…éƒ¨å¼•ç”¨å‡½æ•°å±€éƒ¨å˜é‡ï¼Œå¿…é¡»å°†å…¶å£°æ˜Žä¸ºfinalï¼Œå³ä¸å¯å˜å¯¹è±¡ã€‚(Pythonå’ŒJavascriptä»Žä¸€å¼€å§‹å°±æ˜¯ä¸ºå•çº¿ç¨‹è€Œç”Ÿçš„è¯­è¨€ï¼Œä¸€èˆ¬ä¹Ÿä¸ä¼šè€ƒè™‘è¿™æ ·çš„é—®é¢˜ï¼Œæ‰€ä»¥å®ƒçš„å¤–éƒ¨å˜é‡æ˜¯å¯ä»¥ä»»æ„ä¿®æ”¹çš„)ã€‚å¦‚æžœç”¨Java8çš„Lambdaæ”¹å†™ä¸Šè¿°ä»£ç ,åˆ™ä¸º:1234567891011public static Supplier&lt;Integer&gt; testClosure() &#123; int i = 1; return () -&gt; &#123; //å•ä¸ªè¯­å¥,å¯ä»¥çœç•¥&#123;&#125; return i; &#125;;&#125; Wow,çªç„¶æ„Ÿè§‰æ”¹å†™åŽçš„ä»£ç ç®€æ´æ˜Žäº†,é«˜ç«¯å¤§æ°”ä¸Šæ¡£æ¬¡.\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Java\",\"slug\":\"Java\",\"permalink\":\"http://ltyeamin.github.io/tags/Java/\"}]},{\"title\":\"Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“\",\"slug\":\"Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“\",\"date\":\"2018-01-30T01:27:55.000Z\",\"updated\":\"2019-05-29T14:03:53.000Z\",\"comments\":true,\"path\":\"2018/01/30/Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2018/01/30/Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“/\",\"excerpt\":\"\",\"text\":\"æœ€è¿‘åœ¨åšé¡¹ç›®ä¼˜åŒ–,ç ”ç©¶äº†Spring Cloudåº•å±‚æºç ,Httpè¯·æ±‚åº“é»˜è®¤æ˜¯Apache HttpClientæˆ–è€…JDKè‡ªå¸¦çš„HttpURLConnectionåº“.Javaæ ‡å‡†åº“æä¾›äº†HttpURLConnectionç±»æ¥æ”¯æŒHTTPé€šè®¯ã€‚ä¸è¿‡HttpURLConnectionæœ¬èº«çš„APIä¸å¤Ÿå‹å¥½ï¼Œæ‰€æä¾›çš„åŠŸèƒ½ä¹Ÿæœ‰é™ã€‚å¤§éƒ¨åˆ†Javaç¨‹åºéƒ½é€‰æ‹©ä½¿ç”¨Apacheçš„å¼€æºé¡¹ç›®HttpClientä½œä¸ºHTTPå®¢æˆ·ç«¯ã€‚ApacheHttpClientåº“çš„åŠŸèƒ½å¼ºå¤§ï¼Œä½¿ç”¨çŽ‡ä¹Ÿå¾ˆé«˜ï¼ŒåŸºæœ¬ä¸Šæ˜¯Javaå¹³å°ä¸­äº‹å®žä¸Šçš„æ ‡å‡†HTTPå®¢æˆ·ç«¯,ä½†æ˜¯åšAndroidçš„å°ä¼™ä¼´æ—©å·²ç»æ·˜æ±°è¯¥åº“äº†,å°±æ˜¯å› ä¸ºå…¶APIæ•°é‡è¿‡å¤šè¿‡äºŽç¹é‡,ä½¿å¾—æˆ‘ä»¬å¾ˆéš¾åœ¨ä¸ç ´åå…¼å®¹æ€§çš„æƒ…å†µä¸‹å¯¹å®ƒè¿›è¡Œå‡çº§å’Œæ‰©å±•,å› è€Œå›¢é˜Ÿä¸æ„¿æ„åŽ»ç»´æŠ¤è¯¥åº“.æœ¬ç« ä»‹ç»çš„æ˜¯ç”± Square å…¬å¸å¼€å‘çš„OkHttpï¼Œæ˜¯ä¸€ä¸ªä¸“æ³¨äºŽæ€§èƒ½å’Œæ˜“ç”¨æ€§çš„ HTTP å®¢æˆ·ç«¯ã€‚OkHttp åº“çš„è®¾è®¡å’Œå®žçŽ°çš„é¦–è¦ç›®æ ‡æ˜¯é«˜æ•ˆ.æ”¯æŒSPDY,,å¯ä»¥åˆå¹¶å¤šä¸ªåˆ°åŒä¸€ä¸ªä¸»æœºçš„è¯·æ±‚, ä½¿ç”¨è¿žæŽ¥æ± æŠ€æœ¯å‡å°‘è¯·æ±‚çš„å»¶è¿Ÿ(å¦‚æžœSPDYæ˜¯å¯ç”¨çš„è¯),ä½¿ç”¨GZIPåŽ‹ç¼©å‡å°‘ä¼ è¾“çš„æ•°æ®é‡,ç¼“å­˜å“åº”é¿å…é‡å¤çš„ç½‘ç»œè¯·æ±‚,å½“ç½‘ç»œå‡ºçŽ°é—®é¢˜æ—¶ï¼ŒOkHttp ä¼šè‡ªåŠ¨é‡è¯•ä¸€ä¸ªä¸»æœºçš„å¤šä¸ªIPåœ°å€ã€‚ OkHttpåœ¨Zuulä¸­çš„åº”ç”¨è¯è¯´è‡³æ­¤,æœ‰äº›äººå¯èƒ½åˆç–‘é—®?æˆ‘æ€Žä¹ˆçŸ¥é“é»˜è®¤åº•å±‚ç”¨çš„æ˜¯çš„Apache Client?æˆ‘åœ¨å…¬å¸è´Ÿè´£Zuulç½‘å…³æ¨¡å—,Zuulçš„åŠ¨æ€è·¯ç”±è½¬å‘ç”¨Ribbonè°ƒç”¨.æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£,å¦‚ä¸‹: 19.3 Zuul Http ClientThe default HTTP client used by zuul is now backed by the Apache HTTP Client instead of the deprecated Ribbon RestClient. To use RestClient or to use the okhttp3.OkHttpClient set ribbon.restclient.enabled=true or ribbon.okhttp.enabled=true respectively. If you would like to customize the Apache HTTP client or the OK HTTP client provide a bean of type ClosableHttpClient or OkHttpClient.1234567å‚ç…§ä¸Šè¿°å®˜æ–¹æ–‡æ¡£è¯´æ˜Ž,è§£å†³æ–¹æ¡ˆå·²ç»æ˜Žäº†,å…·ä½“å®žæ–½å¦‚ä¸‹:1.ç¡®ä¿ä½ çš„é¡¹ç›®æœ‰okhttpä¾èµ–:&lt;!-- OkHttp --&gt;&lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt;&lt;/dependency&gt; application.ymlæ·»åŠ ribboné…ç½® 12345ribbon: httpclient: enabled: false # é»˜è®¤å¼€å¯éœ€è¦ç¦ç”¨ okhttp: enabled: true æµ‹è¯•æ›¿æ¢æ˜¯å¦æˆåŠŸa,å°†GateWayæœåŠ¡æ—¥å¿—è®¾ç½®ä¸ºDEBUGæ¨¡å¼è¿›è¡Œè°ƒç”¨,æŸ¥çœ‹æ—¥å¿—ä¼šæœ‰è®¸å¤šæœ‰å…³OkHttpçš„ä¸œè¥¿,ä½†æ—¥å¿—æ‰“å°å¤ªå¤š,ä¸æ˜“æ•èŽ·,ä¸æ˜“è§‚å¯Ÿ 12345678910111213141516RibbonCommandFactoryConfiguration.HttpClientRibbonConfiguration matched:- AnyNestedCondition 1 matched 1 did not; NestedCondition on RibbonCommandFactoryConfiguration.OnRibbonHttpClientCondition.RibbonProperty@ConditionalOnProperty (ribbon.httpclient.enabled) found different value in property &apos;ribbon.httpclient.enabled&apos;; NestedCondition on RibbonCommandFactoryConfiguration.OnRibbonHttpClientCondition.ZuulProperty @ConditionalOnProperty (zuul.ribbon.httpclient.enabled) matched (RibbonCommandFactoryConfiguration.OnRibbonHttpClientCondition)RibbonCommandFactoryConfiguration.OkHttpRibbonConfigurationmatched:-@ConditionalOnClass found required class &apos;okhttp3.OkHttpClient&apos;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)- AnyNestedCondition 1 matched 1 did not; NestedCondition on RibbonCommandFactoryConfiguration.OnRibbonOkHttpClientCondition.RibbonProperty@ConditionalOnProperty (ribbon.okhttp.enabled) matched; NestedCondition on RibbonCommandFactoryConfiguration.OnRibbonOkHttpClientCondition.ZuulProperty @ConditionalOnProperty (zuul.ribbon.okhttp.enabled) did not find property &apos;zuul.ribbon.okhttp.enabled&apos; (RibbonCommandFactoryConfiguration.OnRibbonOkHttpClientCondition) b,Debugå¯åŠ¨GateWayæœåŠ¡,é€šè¿‡æºç æ–¹å¼æŸ¥çœ‹RibbonCommandFactoryConfigurationå®žé™…é…ç½®çš„Httpå®¢æˆ·ç«¯123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138package org.springframework.cloud.netflix.zuul;import java.lang.annotation.Documented;import java.lang.annotation.ElementType;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;import java.lang.annotation.Target;import java.util.Collections;import java.util.Set;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.autoconfigure.condition.AnyNestedCondition;import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;import org.springframework.cloud.netflix.ribbon.SpringClientFactory;import org.springframework.cloud.netflix.zuul.filters.ZuulProperties;import org.springframework.cloud.netflix.zuul.filters.route.RestClientRibbonCommandFactory;import org.springframework.cloud.netflix.zuul.filters.route.RibbonCommandFactory;import org.springframework.cloud.netflix.zuul.filters.route.ZuulFallbackProvider;import org.springframework.cloud.netflix.zuul.filters.route.apache.HttpClientRibbonCommandFactory;import org.springframework.cloud.netflix.zuul.filters.route.okhttp.OkHttpRibbonCommandFactory;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Conditional;import org.springframework.context.annotation.Configuration;/** * @author Dave Syer * */public class RibbonCommandFactoryConfiguration &#123; @Configuration @ConditionalOnRibbonRestClient protected static class RestClientRibbonConfiguration &#123; @Autowired(required = false) private Set&lt;ZuulFallbackProvider&gt; zuulFallbackProviders = Collections.emptySet(); @Bean @ConditionalOnMissingBean public RibbonCommandFactory&lt;?&gt; ribbonCommandFactory( SpringClientFactory clientFactory, ZuulProperties zuulProperties) &#123; return new RestClientRibbonCommandFactory(clientFactory, zuulProperties, zuulFallbackProviders); &#125; &#125; @Configuration @ConditionalOnRibbonOkHttpClient @ConditionalOnClass(name = &quot;okhttp3.OkHttpClient&quot;) protected static class OkHttpRibbonConfiguration &#123; @Autowired(required = false) private Set&lt;ZuulFallbackProvider&gt; zuulFallbackProviders = Collections.emptySet(); @Bean @ConditionalOnMissingBean public RibbonCommandFactory&lt;?&gt; ribbonCommandFactory( SpringClientFactory clientFactory, ZuulProperties zuulProperties) &#123; return new OkHttpRibbonCommandFactory(clientFactory, zuulProperties, zuulFallbackProviders); &#125; &#125; @Configuration @ConditionalOnRibbonHttpClient protected static class HttpClientRibbonConfiguration &#123; @Autowired(required = false) private Set&lt;ZuulFallbackProvider&gt; zuulFallbackProviders = Collections.emptySet(); @Bean @ConditionalOnMissingBean public RibbonCommandFactory&lt;?&gt; ribbonCommandFactory( SpringClientFactory clientFactory, ZuulProperties zuulProperties) &#123; return new HttpClientRibbonCommandFactory(clientFactory, zuulProperties, zuulFallbackProviders); &#125; &#125; @Target(&#123; ElementType.TYPE, ElementType.METHOD &#125;) @Retention(RetentionPolicy.RUNTIME) @Documented @Conditional(OnRibbonHttpClientCondition.class) @interface ConditionalOnRibbonHttpClient &#123; &#125; private static class OnRibbonHttpClientCondition extends AnyNestedCondition &#123; public OnRibbonHttpClientCondition() &#123; super(ConfigurationPhase.PARSE_CONFIGURATION); &#125; @Deprecated //remove in Edgware&quot; @ConditionalOnProperty(name = &quot;zuul.ribbon.httpclient.enabled&quot;, matchIfMissing = true) static class ZuulProperty &#123;&#125; @ConditionalOnProperty(name = &quot;ribbon.httpclient.enabled&quot;, matchIfMissing = true) static class RibbonProperty &#123;&#125; &#125; @Target(&#123; ElementType.TYPE, ElementType.METHOD &#125;) @Retention(RetentionPolicy.RUNTIME) @Documented @Conditional(OnRibbonOkHttpClientCondition.class) @interface ConditionalOnRibbonOkHttpClient &#123; &#125; private static class OnRibbonOkHttpClientCondition extends AnyNestedCondition &#123; public OnRibbonOkHttpClientCondition() &#123; super(ConfigurationPhase.PARSE_CONFIGURATION); &#125; @Deprecated //remove in Edgware&quot; @ConditionalOnProperty(&quot;zuul.ribbon.okhttp.enabled&quot;) static class ZuulProperty &#123;&#125; @ConditionalOnProperty(&quot;ribbon.okhttp.enabled&quot;) static class RibbonProperty &#123;&#125; &#125; @Target(&#123; ElementType.TYPE, ElementType.METHOD &#125;) @Retention(RetentionPolicy.RUNTIME) @Documented @Conditional(OnRibbonRestClientCondition.class) @interface ConditionalOnRibbonRestClient &#123; &#125; private static class OnRibbonRestClientCondition extends AnyNestedCondition &#123; public OnRibbonRestClientCondition() &#123; super(ConfigurationPhase.PARSE_CONFIGURATION); &#125; @Deprecated //remove in Edgware&quot; @ConditionalOnProperty(&quot;zuul.ribbon.restclient.enabled&quot;) static class ZuulProperty &#123;&#125; @ConditionalOnProperty(&quot;ribbon.restclient.enabled&quot;) static class RibbonProperty &#123;&#125; &#125; &#125; è§£è¯»:æˆ‘ä»¬å¾ˆæ¸…æ¥šZuulçš„è´Ÿè½½å‡è¡¡å®žçŽ°å°±é€šè¿‡Ribbonçš„å®žçŽ°,æ‰€ä»¥Httpå®¢æˆ·ç«¯çš„é…ç½®è‡ªç„¶ä¹Ÿæ˜¯å¯¹Ribbonç»„ä»¶çš„é…ç½®,æºä»£ç ä¸­å¾ˆæ˜Žæ˜¾éƒ½æ˜¯é€šè¿‡@Conditionalå®žçŽ°äº†æ¡ä»¶åŠ è½½,å…¶ä¸­è¯¥ç±»æä¾›äº†ä¸æ­¢ä¸€ç§çš„Httpå®¢æˆ·ç«¯(RestClient,é»˜è®¤çš„HttpClient,OkhttpClient)é…ç½®å®žçŽ°.è¦æƒ³ç¡®ä¿æ”¹é€ æˆåŠŸ,åˆ™éœ€è¦åœ¨å…¶å†…éƒ¨ç±»OkHttpRibbonConfigurationä¸­çš„RibbonCommandFactoryæ‰“ä¸Šç«¯ç‚¹,çœ‹æœ‰æ²¡æœ‰è¿›å³å¯. Feignä¸­Okhttpåº”ç”¨å¤§å®¶ä¹Ÿéƒ½çŸ¥é“Feginçš„åº•å±‚ä¹Ÿæ˜¯Ribbon,ä¸Šè¿°æ–¹å¼å¯ä»¥è§£å†³,ä½†æ˜¯æ›´æŽ¨èFeignç«¯å¼€å§‹è§£å†³. é¦–å…ˆåœ¨æœåŠ¡è°ƒç”¨æ–¹åŠ å…¥ä»¥ä¸‹ä¾èµ– 12345&lt;!-- feignæ•´åˆOkHttp --&gt;&lt;dependency&gt; &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt; &lt;artifactId&gt;feign-okhttp&lt;/artifactId&gt;&lt;/dependency&gt; åœ¨application.ymlæ–‡ä»¶é…ç½® 12345feign: httpclient: enabled: false okhttp: enabled: true æµ‹è¯•æ˜¯å¦é…ç½®æˆåŠŸa, å¯åŠ¨æœåŠ¡è¿›è¡ŒæŽ¥å£è°ƒç”¨,å¯ä»¥åˆ†æžæ—¥å¿— 1234567891011121314151617181920[2018-01-30 13:04:03.398] [DEBUG] [restartedMain] o.s.c.e.PropertySourcesPropertyResolver -Found key &apos;feign.okhttp.enabled&apos; in [applicationConfigurationProperties] with type [String][2018-01-30 13:04:03.398] [DEBUG] [restartedMain] o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean &apos;autoConfigurationReport&apos;[2018-01-30 13:04:03.398] [DEBUG] [restartedMain] o.s.c.a.ConfigurationClassBeanDefinitionReader - Registered bean definition for imported class &apos;org.springframework.cloud.netflix.feign.ribbon.FeignRibbonClientAutoConfiguration$OkHttpFeignLoadBalancedConfiguration&apos;[2018-01-30 13:04:03.399] [DEBUG] [restartedMain] o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean &apos;org.springframework.boot.autoconfigure.condition.BeanTypeRegistry&apos;[2018-01-30 13:04:03.399] [DEBUG] [restartedMain] o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean &apos;org.springframework.boot.autoconfigure.condition.BeanTypeRegistry&apos;[2018-01-30 13:04:03.399] [DEBUG] [restartedMain] o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean &apos;autoConfigurationReport&apos;[2018-01-30 13:04:03.399] [DEBUG] [restartedMain] o.s.c.a.ConfigurationClassBeanDefinitionReader -Registering bean definition for @Bean method org.springframework.cloud.netflix.feign.ribbon.FeignRibbonClientAutoConfiguration$OkHttpFeignLoadBalancedConfigur å¦‚ä¸Šè¿°æ—¥å¿—æ–‡ä»¶Found key â€˜feign.okhttp.enabledâ€™å¯ä»¥çœ‹å‡ºæ›¿æ¢æˆåŠŸ.b, åˆ†æžè°ƒç”¨æºç æ¥æµ‹è¯•æ˜¯å¦æˆåŠŸæ›¿æ¢æˆOkhttpå…¶è‡ªåŠ¨è£…é…æºç åœ¨FeignRibbonClientAutoConfigurationä¸­12345678910111213141516171819@ConditionalOnClass(&#123; ILoadBalancer.class, Feign.class &#125;)@Configuration@AutoConfigureBefore(FeignAutoConfiguration.class)//Order is important here, last should be the default, first should be optional@Import(&#123; HttpClientFeignLoadBalancedConfiguration.class, OkHttpFeignLoadBalancedConfiguration.class, DefaultFeignLoadBalancedConfiguration.class &#125;)public class FeignRibbonClientAutoConfiguration &#123; @Bean @ConditionalOnMissingBean public Client feignClient(CachingSpringLoadBalancerFactory cachingFactory, SpringClientFactory clientFactory) &#123; //Feigné»˜è®¤çš„å®¢æˆ·ç«¯æ˜¯Client.Default return new LoadBalancerFeignClient(new Client.Default(null, null), cachingFactory, clientFactory); &#125; //çœç•¥ç±»ä¸­çš„å†…å®¹...&#125; ä»Žè¯¥ç±»ä¸­çš„æ³¨é‡Šå¯ä»¥çœ‹å‡º,DefaultFeignLoadBalancedConfiguration.classæ˜¯é»˜è®¤é…ç½®,HttpClientFeignLoadBalancedConfiguration.classæ˜¯å¯é€‰çš„.Debugå¯åŠ¨æœåŠ¡å¹¶è¿›è¡Œè¿œç¨‹Feignçš„ä¸€è·¯è°ƒç”¨å‘çŽ°,ä¼šèµ°å¦‚ä¸‹çš„æ–¹æ³•:123456789101112131415161718192021222324252627282930313233343536373839404142final class SynchronousMethodHandler implements MethodHandler &#123; @Override public Object invoke(Object[] argv) throws Throwable &#123; RequestTemplate template = buildTemplateFromArgs.create(argv); Retryer retryer = this.retryer.clone(); while (true) &#123; try &#123; return executeAndDecode(template); &#125; catch (RetryableException e) &#123; retryer.continueOrPropagate(e); if (logLevel != Logger.Level.NONE) &#123; logger.logRetry(metadata.configKey(), logLevel); &#125; continue; &#125; &#125; &#125; Object executeAndDecode(RequestTemplate template) throws Throwable &#123; Request request = targetRequest(template); if (logLevel != Logger.Level.NONE) &#123; logger.logRequest(metadata.configKey(), logLevel, request); &#125; Response response; long start = System.nanoTime(); try &#123; response = client.execute(request, options); // ensure the request is set. TODO: remove in Feign 10 response.toBuilder().request(request).build(); &#125; catch (IOException e) &#123; if (logLevel != Logger.Level.NONE) &#123; logger.logIOException(metadata.configKey(), logLevel, e, elapsedTime(start)); &#125; throw errorExecuting(request, e); &#125; //çœç•¥ä»£ç ...... &#125;&#125; æˆ‘ä»¬å‘çŽ°SynchronousMethodHandlerä¸­çš„invoke()æ–¹æ³•åˆåŽ»è°ƒç”¨executeAndDecode()æ–¹æ³•,åœ¨æ‰§è¡Œä¸‹åˆ—ä¸€æ®µä»£ç çš„æ—¶å€™,ä½ ä¼šå‘çŽ°åˆ°åº•æ˜¯ç”¨å“ªä¸ªHttpå®¢æˆ·ç«¯è¿›è¡Œè°ƒç”¨1response = client.execute(request, options); Clientæ˜¯Feignçš„ClientæŽ¥å£å£°æ˜Ž,è¿™æ—¶å€™ä¼šæœ‰å¥½å‡ ä¸ªå®žçŽ°:Default,LoadBalancerFeignClinet,OkHttpClient,TraceFeignClient.è¿™ä¸‹æ˜Žæ˜¾äº†,å¦‚æžœä½ çš„classpathä¸‹æœ‰okhttpçš„ä¾èµ–,åˆ™ä¼šèµ°feign.okhttp.OkHttpClient.execute()æ–¹æ³•,å¦‚æžœæ²¡æœ‰ä¾èµ–,å°±ä¼šèµ°feign.Client.Default.execute()æ–¹æ³•.okhttpæ²¡ä»€ä¹ˆè¯´çš„,å¯ä»¥çœ‹ä¸€ä¸‹é»˜è®¤çš„Feign Client - Defaultä¸­çš„execute()ä»£ç ç‰‡æ®µ:12345@Override public Response execute(Request request, Options options) throws IOException &#123; HttpURLConnection connection = convertAndSend(request, options); return convertResponse(connection).toBuilder().request(request).build(); &#125; ç”±ä¸Šé¢ä»£ç ç‰‡æ®µå¯ä»¥å¾—å‡º,Spring Cloudé»˜è®¤Feignçš„å®¢æˆ·ç«¯æ˜¯HttpURLConnectionæž„å»ºçš„.éœ€è¦æ³¨æ„çš„æ˜¯,æ— è®ºFeignæ˜¯å“ªç§Client,é»˜è®¤éƒ½æ˜¯å¼€å¯çš„,é‡ç‚¹åœ¨äºŽclasspathä¸‹çš„ä¾èµ–,è€Œä¸æ˜¯application.ymlé‡Œçš„å¼€å…³é…ç½®.ä¹‹æ‰€ä»¥é…ç½®å¼€å…³æ˜¯å› ä¸ºå…³é—­æŽ‰æ— ç”¨çš„Client. é»˜è®¤é…ç½®è§£è¯´Feign è¯»å–æ—¶é—´é…ç½®ï¼šé»˜è®¤è¯»å–è¿žæŽ¥æ—¶é—´10s,é»˜è®¤è¿žæŽ¥è¯»å–æ—¶é—´60sæºç :123456789101112131415161718public final class Request &#123; public static class Options &#123; private final int connectTimeoutMillis; private final int readTimeoutMillis; public Options(int connectTimeoutMillis, int readTimeoutMillis) &#123; this.connectTimeoutMillis = connectTimeoutMillis; this.readTimeoutMillis = readTimeoutMillis; &#125; //é»˜è®¤æž„é€ å™¨æ—¶é—´ public Options() &#123; this(10 * 1000, 60 * 1000); &#125; &#125;&#125; æ‰‹åŠ¨è®¾ç½®é»˜è®¤çš„è¯»å–æ—¶é—´å’Œè¿žæŽ¥æ—¶é—´:1234@Beanpublic Request.Options options() &#123; Request.Options options = new Request.Options(5 * 1000, 5 * 1000);&#125; æ‰‹åŠ¨é…ç½®Okhttp312345678910111213141516171819@Configuration@ConditionalOnClass(Feign.class)@AutoConfigureBefore(FeignAutoConfiguration.class)public class FeignOkHttpConfig &#123; @Autowired OkHttpLoggingInterceptor okHttpLoggingInterceptor; @Bean public okhttp3.OkHttpClient okHttpClient()&#123; return new okhttp3.OkHttpClient.Builder() .readTimeout(60, TimeUnit.SECONDS) //è®¾ç½®è¯»å–è¶…æ—¶æ—¶é—´ .connectTimeout(60, TimeUnit.SECONDS) //è®¾ç½®è¿žæŽ¥è¶…æ—¶æ—¶é—´ .writeTimeout(120, TimeUnit.SECONDS) .connectionPool(new ConnectionPool()) // .addInterceptor(); //æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨ .build(); &#125;&#125; å‚è€ƒæ–‡çŒ®:å®˜æ–¹æ–‡æ¡£Feignäº§ç”Ÿçš„é—®é¢˜Feignæºç è§£è¯»\",\"categories\":[{\"name\":\"backend\",\"slug\":\"backend\",\"permalink\":\"http://ltyeamin.github.io/categories/backend/\"}],\"tags\":[{\"name\":\"Spring Cloud\",\"slug\":\"Spring-Cloud\",\"permalink\":\"http://ltyeamin.github.io/tags/Spring-Cloud/\"}]},{\"title\":\"ES6æ–°çš„æ•°æ®ç±»åž‹-generator\",\"slug\":\"ES6æ–°çš„æ•°æ®ç±»åž‹-generator\",\"date\":\"2017-12-15T07:39:23.000Z\",\"updated\":\"2019-05-29T14:03:53.000Z\",\"comments\":true,\"path\":\"2017/12/15/ES6æ–°çš„æ•°æ®ç±»åž‹-generator/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2017/12/15/ES6æ–°çš„æ•°æ®ç±»åž‹-generator/\",\"excerpt\":\"\",\"text\":\"æ–°çš„æ•°æ®ç±»åž‹-generatorgeneratorï¼ˆç”Ÿæˆå™¨ï¼‰æ˜¯ES6æ ‡å‡†å¼•å…¥çš„æ–°çš„æ•°æ®ç±»åž‹ã€‚ä¸€ä¸ªgeneratorçœ‹ä¸ŠåŽ»åƒä¸€ä¸ªå‡½æ•°ï¼Œä½†å¯ä»¥è¿”å›žå¤šæ¬¡.ES6å®šä¹‰generatoræ ‡å‡†çš„å“¥ä»¬å€Ÿé‰´äº†Pythonçš„generatorçš„æ¦‚å¿µå’Œè¯­æ³•.æˆ‘ä»¬å…ˆå¤ä¹ å‡½æ•°çš„æ¦‚å¿µã€‚ä¸€ä¸ªå‡½æ•°æ˜¯ä¸€æ®µå®Œæ•´çš„ä»£ç ï¼Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°å°±æ˜¯ä¼ å…¥å‚æ•°ï¼Œç„¶åŽè¿”å›žç»“æžœ:1234function foo(x) &#123; return x + x;&#125;var r = foo(1); // è°ƒç”¨fooå‡½æ•° å‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æžœæ²¡æœ‰é‡åˆ°returnè¯­å¥ï¼ˆå‡½æ•°æœ«å°¾å¦‚æžœæ²¡æœ‰returnï¼Œå°±æ˜¯éšå«çš„return undefined;ï¼‰ï¼ŒæŽ§åˆ¶æƒæ— æ³•äº¤å›žè¢«è°ƒç”¨çš„ä»£ç ã€‚generatorè·Ÿå‡½æ•°å¾ˆåƒï¼Œå®šä¹‰å¦‚ä¸‹:12345function* foo(x) &#123; yield x + 1; yield x + 2; return x + 3;&#125; generatorå’Œå‡½æ•°ä¸åŒçš„æ˜¯ï¼Œgeneratorç”±functionå®šä¹‰ï¼ˆæ³¨æ„å¤šå‡ºçš„å·ï¼‰ï¼Œå¹¶ä¸”ï¼Œé™¤äº†returnè¯­å¥ï¼Œè¿˜å¯ä»¥ç”¨yieldè¿”å›žå¤šæ¬¡ã€‚å¤§å¤šæ•°åŒå­¦ç«‹åˆ»å°±æ™•äº†ï¼Œgeneratorå°±æ˜¯èƒ½å¤Ÿè¿”å›žå¤šæ¬¡çš„â€œå‡½æ•°â€ï¼Ÿè¿”å›žå¤šæ¬¡æœ‰å•¥ç”¨ï¼Ÿè¿˜æ˜¯ä¸¾ä¸ªä¾‹å­å§ã€‚æˆ‘ä»¬ä»¥ä¸€ä¸ªè‘—åçš„æ–æ³¢é‚£å¥‘æ•°åˆ—ä¸ºä¾‹ï¼Œå®ƒç”±0ï¼Œ1å¼€å¤´:10 1 1 2 3 5 8 13 21 34 ... è¦ç¼–å†™ä¸€ä¸ªäº§ç”Ÿæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡½æ•°ï¼Œå¯ä»¥è¿™ä¹ˆå†™:12345678910111213141516function fib(max) &#123; var t, a = 0, b = 1, arr = [0, 1]; while (arr.length &lt; max) &#123; [a, b] = [b, a + b]; arr.push(b); &#125; return arr;&#125;// æµ‹è¯•:fib(5); // [0, 1, 1, 2, 3]fib(10); // [0, 1, 1, 2, 3, 5, 8, 13, 21, 34] å‡½æ•°åªèƒ½è¿”å›žä¸€æ¬¡ï¼Œæ‰€ä»¥å¿…é¡»è¿”å›žä¸€ä¸ªArrayã€‚ä½†æ˜¯ï¼Œå¦‚æžœæ¢æˆgeneratorï¼Œå°±å¯ä»¥ä¸€æ¬¡è¿”å›žä¸€ä¸ªæ•°ï¼Œä¸æ–­è¿”å›žå¤šæ¬¡ã€‚ç”¨generatoræ”¹å†™å¦‚ä¸‹:12345678910111213function* fib(max) &#123; var t, a = 0, b = 1, n = 0; while (n &lt; max) &#123; yield a; [a, b] = [b, a + b]; n ++; &#125; return;&#125; ç›´æŽ¥è°ƒç”¨è¯•è¯•:1fib(5); // fib &#123;[[GeneratorStatus]]: &quot;suspended&quot;, [[GeneratorReceiver]]: Window&#125; ç›´æŽ¥è°ƒç”¨ä¸€ä¸ªgeneratorå’Œè°ƒç”¨å‡½æ•°ä¸ä¸€æ ·ï¼Œfib(5)ä»…ä»…æ˜¯åˆ›å»ºäº†ä¸€ä¸ªgeneratorå¯¹è±¡ï¼Œè¿˜æ²¡æœ‰åŽ»æ‰§è¡Œå®ƒã€‚è°ƒç”¨generatorå¯¹è±¡æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€æ˜¯ä¸æ–­åœ°è°ƒç”¨generatorå¯¹è±¡çš„next()æ–¹æ³•:1234567var f = fib(5);f.next(); // &#123;value: 0, done: false&#125;f.next(); // &#123;value: 1, done: false&#125;f.next(); // &#123;value: 1, done: false&#125;f.next(); // &#123;value: 2, done: false&#125;f.next(); // &#123;value: 3, done: false&#125;f.next(); // &#123;value: undefined, done: true&#125; next()æ–¹æ³•ä¼šæ‰§è¡Œgeneratorçš„ä»£ç ï¼Œç„¶åŽï¼Œæ¯æ¬¡é‡åˆ°yield x;å°±è¿”å›žä¸€ä¸ªå¯¹è±¡{value: x, done: true/false}ï¼Œç„¶åŽâ€œæš‚åœâ€ã€‚è¿”å›žçš„valueå°±æ˜¯yieldçš„è¿”å›žå€¼ï¼Œdoneè¡¨ç¤ºè¿™ä¸ªgeneratoræ˜¯å¦å·²ç»æ‰§è¡Œç»“æŸäº†ã€‚å¦‚æžœdoneä¸ºtrueï¼Œåˆ™valueå°±æ˜¯returnçš„è¿”å›žå€¼ã€‚å½“æ‰§è¡Œåˆ°doneä¸ºtrueæ—¶ï¼Œè¿™ä¸ªgeneratorå¯¹è±¡å°±å·²ç»å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œä¸è¦å†ç»§ç»­è°ƒç”¨next()äº†ã€‚ç¬¬äºŒä¸ªæ–¹æ³•æ˜¯ç›´æŽ¥ç”¨for â€¦ ofå¾ªçŽ¯è¿­ä»£generatorå¯¹è±¡ï¼Œè¿™ç§æ–¹å¼ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±åˆ¤æ–­done:123for (var x of fib(10)) &#123; console.log(x); // ä¾æ¬¡è¾“å‡º0, 1, 1, 2, 3, ...&#125; generatorå’Œæ™®é€šå‡½æ•°ç›¸æ¯”ï¼Œæœ‰ä»€ä¹ˆç”¨?å› ä¸ºgeneratorå¯ä»¥åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¤šæ¬¡è¿”å›žï¼Œæ‰€ä»¥å®ƒçœ‹ä¸ŠåŽ»å°±åƒä¸€ä¸ªå¯ä»¥è®°ä½æ‰§è¡ŒçŠ¶æ€çš„å‡½æ•°ï¼Œåˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå†™ä¸€ä¸ªgeneratorå°±å¯ä»¥å®žçŽ°éœ€è¦ç”¨é¢å‘å¯¹è±¡æ‰èƒ½å®žçŽ°çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œç”¨ä¸€ä¸ªå¯¹è±¡æ¥ä¿å­˜çŠ¶æ€ï¼Œå¾—è¿™ä¹ˆå†™:12345678910111213141516171819var fib = &#123; a: 0, b: 1, n: 0, max: 5, next: function () &#123; var r = this.a, t = this.a + this.b; this.a = this.b; this.b = t; if (this.n &lt; this.max) &#123; this.n ++; return r; &#125; else &#123; return undefined; &#125; &#125;&#125;; ç”¨å¯¹è±¡çš„å±žæ€§æ¥ä¿å­˜çŠ¶æ€ï¼Œç›¸å½“ç¹çã€‚generatorè¿˜æœ‰å¦ä¸€ä¸ªå·¨å¤§çš„å¥½å¤„ï¼Œå°±æ˜¯æŠŠå¼‚æ­¥å›žè°ƒä»£ç å˜æˆâ€åŒæ­¥â€ä»£ç ã€‚è¿™ä¸ªå¥½å¤„è¦ç­‰åˆ°åŽé¢å­¦äº†AJAXä»¥åŽæ‰èƒ½ä½“ä¼šåˆ°ã€‚æ²¡æœ‰generatorä¹‹å‰çš„é»‘æš—æ—¶ä»£ï¼Œç”¨AJAXæ—¶éœ€è¦è¿™ä¹ˆå†™ä»£ç :12345678910111213141516ajax(&apos;http://url-1&apos;, data1, function (err, result) &#123; if (err) &#123; return handle(err); &#125; ajax(&apos;http://url-2&apos;, data2, function (err, result) &#123; if (err) &#123; return handle(err); &#125; ajax(&apos;http://url-3&apos;, data3, function (err, result) &#123; if (err) &#123; return handle(err); &#125; return success(result); &#125;); &#125;);&#125;); å›žè°ƒè¶Šå¤šï¼Œä»£ç è¶Šéš¾çœ‹ã€‚æœ‰äº†generatorçš„ç¾Žå¥½æ—¶ä»£ï¼Œç”¨AJAXæ—¶å¯ä»¥è¿™ä¹ˆå†™:123456789try &#123; r1 = yield ajax(&apos;http://url-1&apos;, data1); r2 = yield ajax(&apos;http://url-2&apos;, data2); r3 = yield ajax(&apos;http://url-3&apos;, data3); success(r3);&#125;catch (err) &#123; handle(err);&#125; çœ‹ä¸ŠåŽ»æ˜¯åŒæ­¥çš„ä»£ç ï¼Œå®žé™…æ‰§è¡Œæ˜¯å¼‚æ­¥çš„.\",\"categories\":[{\"name\":\"frontend\",\"slug\":\"frontend\",\"permalink\":\"http://ltyeamin.github.io/categories/frontend/\"}],\"tags\":[{\"name\":\"JavaScript\",\"slug\":\"JavaScript\",\"permalink\":\"http://ltyeamin.github.io/tags/JavaScript/\"}]},{\"title\":\"ç®­å¤´å‡½æ•°\",\"slug\":\"ç®­å¤´å‡½æ•°\",\"date\":\"2017-12-15T07:10:46.000Z\",\"updated\":\"2019-05-29T14:03:53.000Z\",\"comments\":true,\"path\":\"2017/12/15/ç®­å¤´å‡½æ•°/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2017/12/15/ç®­å¤´å‡½æ•°/\",\"excerpt\":\"\",\"text\":\"ç®­å¤´å‡½æ•°ES6æ ‡å‡†æ–°å¢žäº†ä¸€ç§æ–°çš„å‡½æ•°ï¼šArrow Functionï¼ˆç®­å¤´å‡½æ•°ï¼‰ã€‚ä¸ºä»€ä¹ˆå«Arrow Functionï¼Ÿå› ä¸ºå®ƒçš„å®šä¹‰ç”¨çš„å°±æ˜¯ä¸€ä¸ªç®­å¤´:12var fn = x =&gt; x * x;alert(fn(5)); //25 ä¸Šé¢çš„ç®­å¤´å‡½æ•°ç›¸å½“äºŽ:1234function (x) &#123; return x * x;&#125;alert(fn(5)); //25 ç®­å¤´å‡½æ•°ç›¸å½“äºŽåŒ¿åå‡½æ•°ï¼Œå¹¶ä¸”ç®€åŒ–äº†å‡½æ•°å®šä¹‰ã€‚ç®­å¤´å‡½æ•°æœ‰ä¸¤ç§æ ¼å¼ï¼Œä¸€ç§åƒä¸Šé¢çš„ï¼ŒåªåŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿ž{ â€¦ }å’Œreturnéƒ½çœç•¥æŽ‰äº†ã€‚è¿˜æœ‰ä¸€ç§å¯ä»¥åŒ…å«å¤šæ¡è¯­å¥ï¼Œè¿™æ—¶å€™å°±ä¸èƒ½çœç•¥{ â€¦ }å’Œreturn:12345678x =&gt; &#123; if (x &gt; 0) &#123; return x * x; &#125; else &#123; return - x * x; &#125;&#125; å¦‚æžœå‚æ•°ä¸æ˜¯ä¸€ä¸ªï¼Œå°±éœ€è¦ç”¨æ‹¬å·()æ‹¬èµ·æ¥:1234567891011121314// ä¸¤ä¸ªå‚æ•°:(x, y) =&gt; x * x + y * y// æ— å‚æ•°:() =&gt; 3.14// å¯å˜å‚æ•°:(x, y, ...rest) =&gt; &#123; var i, sum = x + y; for (i=0; i&lt;rest.length; i++) &#123; sum += rest[i]; &#125; return sum;&#125; å¦‚æžœè¦è¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œå°±è¦æ³¨æ„ï¼Œå¦‚æžœæ˜¯å•è¡¨è¾¾å¼ï¼Œè¿™ä¹ˆå†™çš„è¯ä¼šæŠ¥é”™:12// SyntaxError:x =&gt; &#123; foo: x &#125; å› ä¸ºå’Œå‡½æ•°ä½“çš„{ â€¦ }æœ‰è¯­æ³•å†²çªï¼Œæ‰€ä»¥è¦æ”¹ä¸º:12// ok:x =&gt; (&#123; foo: x &#125;) è§£å†³thisç»‘å®šé”™è¯¯çš„é—®é¢˜ç®­å¤´å‡½æ•°çœ‹ä¸ŠåŽ»æ˜¯åŒ¿åå‡½æ•°çš„ä¸€ç§ç®€å†™ï¼Œä½†å®žé™…ä¸Šï¼Œç®­å¤´å‡½æ•°å’ŒåŒ¿åå‡½æ•°æœ‰ä¸ªæ˜Žæ˜¾çš„åŒºåˆ«ï¼šç®­å¤´å‡½æ•°å†…éƒ¨çš„thisæ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œç”±ä¸Šä¸‹æ–‡ç¡®å®šã€‚å›žé¡¾å‰é¢çš„ä¾‹å­ï¼Œç”±äºŽJavaScriptå‡½æ•°å¯¹thisç»‘å®šçš„é”™è¯¯å¤„ç†ï¼Œä¸‹é¢çš„ä¾‹å­æ— æ³•å¾—åˆ°é¢„æœŸç»“æžœ:12345678910var obj = &#123; birth: 1990, getAge: function () &#123; var b = this.birth; // 1990 var fn = function () &#123; return new Date().getFullYear() - this.birth; // thisæŒ‡å‘windowæˆ–undefined &#125;; return fn(); &#125;&#125;; çŽ°åœ¨ï¼Œç®­å¤´å‡½æ•°å®Œå…¨ä¿®å¤äº†thisçš„æŒ‡å‘ï¼Œthisæ€»æ˜¯æŒ‡å‘è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯å¤–å±‚è°ƒç”¨è€…obj:123456789var obj = &#123; birth: 1990, getAge: function () &#123; var b = this.birth; // 1990 var fn = () =&gt; new Date().getFullYear() - this.birth; // thisæŒ‡å‘objå¯¹è±¡ return fn(); &#125;&#125;;obj.getAge(); // 25 å¦‚æžœä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä»¥å‰çš„é‚£ç§hackå†™æ³•:1var that = this; å°±ä¸å†éœ€è¦äº†ã€‚ç”±äºŽthisåœ¨ç®­å¤´å‡½æ•°ä¸­å·²ç»æŒ‰ç…§è¯æ³•ä½œç”¨åŸŸç»‘å®šäº†ï¼Œæ‰€ä»¥ï¼Œç”¨call()æˆ–è€…apply()è°ƒç”¨ç®­å¤´å‡½æ•°æ—¶ï¼Œæ— æ³•å¯¹thisè¿›è¡Œç»‘å®šï¼Œå³ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°è¢«å¿½ç•¥:123456789var obj = &#123; birth: 1990, getAge: function (year) &#123; var b = this.birth; // 1990 var fn = (y) =&gt; y - this.birth; // this.birthä»æ˜¯1990 return fn.call(&#123;birth:2000&#125;, year); &#125;&#125;;obj.getAge(2015); // 25\",\"categories\":[{\"name\":\"frontend\",\"slug\":\"frontend\",\"permalink\":\"http://ltyeamin.github.io/categories/frontend/\"}],\"tags\":[{\"name\":\"JavaScript\",\"slug\":\"JavaScript\",\"permalink\":\"http://ltyeamin.github.io/tags/JavaScript/\"}]},{\"title\":\"é—­åŒ…\",\"slug\":\"é—­åŒ…\",\"date\":\"2017-12-13T09:54:10.000Z\",\"updated\":\"2019-05-29T14:03:52.000Z\",\"comments\":true,\"path\":\"2017/12/13/é—­åŒ…/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2017/12/13/é—­åŒ…/\",\"excerpt\":\"\",\"text\":\"å‡½æ•°ä½œä¸ºè¿”å›žå€¼é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æŽ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æžœå€¼è¿”å›žã€‚æˆ‘ä»¬æ¥å®žçŽ°ä¸€ä¸ªå¯¹Arrayçš„æ±‚å’Œã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ±‚å’Œçš„å‡½æ•°æ˜¯è¿™æ ·å®šä¹‰çš„:123456function sum(arr) &#123; return arr.reduce(function (x, y) &#123; return x + y; &#125;);&#125;sum([1, 2, 3, 4, 5]); // 15 ä½†æ˜¯ï¼Œå¦‚æžœä¸éœ€è¦ç«‹åˆ»æ±‚å’Œï¼Œè€Œæ˜¯åœ¨åŽé¢çš„ä»£ç ä¸­ï¼Œæ ¹æ®éœ€è¦å†è®¡ç®—æ€Žä¹ˆåŠžï¼Ÿå¯ä»¥ä¸è¿”å›žæ±‚å’Œçš„ç»“æžœï¼Œè€Œæ˜¯è¿”å›žæ±‚å’Œçš„å‡½æ•°!12345678function lazy_sum(arr) &#123; var sum = function () &#123; return arr.reduce(function (x, y) &#123; return x + y; &#125;); &#125; return sum;&#125; å½“æˆ‘ä»¬è°ƒç”¨lazy_sum()æ—¶ï¼Œè¿”å›žçš„å¹¶ä¸æ˜¯æ±‚å’Œç»“æžœï¼Œè€Œæ˜¯æ±‚å’Œå‡½æ•°:1var f = lazy_sum([1, 2, 3, 4, 5]); // function sum() è°ƒç”¨å‡½æ•°fæ—¶ï¼Œæ‰çœŸæ­£è®¡ç®—æ±‚å’Œçš„ç»“æžœ:1f(); // 15 åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°lazy_sumä¸­åˆå®šä¹‰äº†å‡½æ•°sumï¼Œå¹¶ä¸”ï¼Œå†…éƒ¨å‡½æ•°sumå¯ä»¥å¼•ç”¨å¤–éƒ¨å‡½æ•°lazy_sumçš„å‚æ•°å’Œå±€éƒ¨å˜é‡ï¼Œå½“lazy_sumè¿”å›žå‡½æ•°sumæ—¶ï¼Œç›¸å…³å‚æ•°å’Œå˜é‡éƒ½ä¿å­˜åœ¨è¿”å›žçš„å‡½æ•°ä¸­ï¼Œè¿™ç§ç§°ä¸ºâ€œé—­åŒ…ï¼ˆClosureï¼‰â€çš„ç¨‹åºç»“æž„æ‹¥æœ‰æžå¤§çš„å¨åŠ›ã€‚è¯·å†æ³¨æ„ä¸€ç‚¹ï¼Œå½“æˆ‘ä»¬è°ƒç”¨lazy_sum()æ—¶ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šè¿”å›žä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå³ä½¿ä¼ å…¥ç›¸åŒçš„å‚æ•°:123var f1 = lazy_sum([1, 2, 3, 4, 5]);var f2 = lazy_sum([1, 2, 3, 4, 5]);f1 === f2; // false f1()å’Œf2()çš„è°ƒç”¨ç»“æžœäº’ä¸å½±å“ã€‚ é—­åŒ…æ³¨æ„åˆ°è¿”å›žçš„å‡½æ•°åœ¨å…¶å®šä¹‰å†…éƒ¨å¼•ç”¨äº†å±€éƒ¨å˜é‡arrï¼Œæ‰€ä»¥ï¼Œå½“ä¸€ä¸ªå‡½æ•°è¿”å›žäº†ä¸€ä¸ªå‡½æ•°åŽï¼Œå…¶å†…éƒ¨çš„å±€éƒ¨å˜é‡è¿˜è¢«æ–°å‡½æ•°å¼•ç”¨ï¼Œæ‰€ä»¥ï¼Œé—­åŒ…ç”¨èµ·æ¥ç®€å•ï¼Œå®žçŽ°èµ·æ¥å¯ä¸å®¹æ˜“ã€‚å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„é—®é¢˜æ˜¯ï¼Œè¿”å›žçš„å‡½æ•°å¹¶æ²¡æœ‰ç«‹åˆ»æ‰§è¡Œï¼Œè€Œæ˜¯ç›´åˆ°è°ƒç”¨äº†f()æ‰æ‰§è¡Œã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­:12345678910111213function count() &#123; var arr = []; for (var i=1; i&lt;=3; i++) &#123; arr.push(function () &#123; return i * i; &#125;); &#125; return arr;&#125;var results = count();var f1 = results[0];var f2 = results[1];var f3 = results[2]; åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ¯æ¬¡å¾ªçŽ¯ï¼Œéƒ½åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œç„¶åŽï¼ŒæŠŠåˆ›å»ºçš„3ä¸ªå‡½æ•°éƒ½æ·»åŠ åˆ°ä¸€ä¸ªArrayä¸­è¿”å›žäº†ã€‚ä½ å¯èƒ½è®¤ä¸ºè°ƒç”¨f1()ï¼Œf2()å’Œf3()ç»“æžœåº”è¯¥æ˜¯1ï¼Œ4ï¼Œ9ï¼Œä½†å®žé™…ç»“æžœæ˜¯:123f1(); // 16f2(); // 16f3(); // 16 å…¨éƒ¨éƒ½æ˜¯16ï¼åŽŸå› å°±åœ¨äºŽè¿”å›žçš„å‡½æ•°å¼•ç”¨äº†å˜é‡iï¼Œä½†å®ƒå¹¶éžç«‹åˆ»æ‰§è¡Œã€‚ç­‰åˆ°3ä¸ªå‡½æ•°éƒ½è¿”å›žæ—¶ï¼Œå®ƒä»¬æ‰€å¼•ç”¨çš„å˜é‡iå·²ç»å˜æˆäº†4ï¼Œå› æ­¤æœ€ç»ˆç»“æžœä¸º16ã€‚è¿”å›žé—­åŒ…æ—¶ç‰¢è®°çš„ä¸€ç‚¹å°±æ˜¯ï¼šè¿”å›žå‡½æ•°ä¸è¦å¼•ç”¨ä»»ä½•å¾ªçŽ¯å˜é‡ï¼Œæˆ–è€…åŽç»­ä¼šå‘ç”Ÿå˜åŒ–çš„å˜é‡ã€‚å¦‚æžœä¸€å®šè¦å¼•ç”¨å¾ªçŽ¯å˜é‡æ€Žä¹ˆåŠžï¼Ÿæ–¹æ³•æ˜¯å†åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œç”¨è¯¥å‡½æ•°çš„å‚æ•°ç»‘å®šå¾ªçŽ¯å˜é‡å½“å‰çš„å€¼ï¼Œæ— è®ºè¯¥å¾ªçŽ¯å˜é‡åŽç»­å¦‚ä½•æ›´æ”¹ï¼Œå·²ç»‘å®šåˆ°å‡½æ•°å‚æ•°çš„å€¼ä¸å˜:123456789101112131415161718function count() &#123; var arr = []; for (var i=1; i&lt;=3; i++) &#123; arr.push((function (n) &#123; return function () &#123; return n * n; &#125; &#125;)(i)); &#125; return arr;&#125;var results = count();var f1 = results[0];var f2 = results[1];var f3 = results[2];f1(); // 1f2(); // 4f3(); // 9 æ³¨æ„è¿™é‡Œç”¨äº†ä¸€ä¸ªâ€åˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°å¹¶ç«‹åˆ»æ‰§è¡Œâ€çš„è¯­æ³•:(function (x) { return x * x;})(3); // 9ç†è®ºä¸Šè®²ï¼Œåˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°å¹¶ç«‹åˆ»æ‰§è¡Œå¯ä»¥è¿™ä¹ˆå†™:1function (x) &#123; return x * x &#125; (3); ä½†æ˜¯ç”±äºŽJavaScriptè¯­æ³•è§£æžçš„é—®é¢˜ï¼Œä¼šæŠ¥SyntaxErroré”™è¯¯ï¼Œå› æ­¤éœ€è¦ç”¨æ‹¬å·æŠŠæ•´ä¸ªå‡½æ•°å®šä¹‰æ‹¬èµ·æ¥:1(function (x) &#123; return x * x &#125;) (3); é€šå¸¸ï¼Œä¸€ä¸ªç«‹å³æ‰§è¡Œçš„åŒ¿åå‡½æ•°å¯ä»¥æŠŠå‡½æ•°ä½“æ‹†å¼€ï¼Œä¸€èˆ¬è¿™ä¹ˆå†™:123(function (x) &#123; return x * x;&#125;)(3); è¯´äº†è¿™ä¹ˆå¤šï¼Œéš¾é“é—­åŒ…å°±æ˜¯ä¸ºäº†è¿”å›žä¸€ä¸ªå‡½æ•°ç„¶åŽå»¶è¿Ÿæ‰§è¡Œå—?å½“ç„¶ä¸æ˜¯ï¼é—­åŒ…æœ‰éžå¸¸å¼ºå¤§çš„åŠŸèƒ½ã€‚ä¸¾ä¸ªä¾‹å­ï¼šåœ¨é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡è¯­è¨€é‡Œï¼Œæ¯”å¦‚Javaå’ŒC++ï¼Œè¦åœ¨å¯¹è±¡å†…éƒ¨å°è£…ä¸€ä¸ªç§æœ‰å˜é‡ï¼Œå¯ä»¥ç”¨privateä¿®é¥°ä¸€ä¸ªæˆå‘˜å˜é‡ã€‚åœ¨æ²¡æœ‰classæœºåˆ¶ï¼Œåªæœ‰å‡½æ•°çš„è¯­è¨€é‡Œï¼Œå€ŸåŠ©é—­åŒ…ï¼ŒåŒæ ·å¯ä»¥å°è£…ä¸€ä¸ªç§æœ‰å˜é‡ã€‚æˆ‘ä»¬ç”¨JavaScriptåˆ›å»ºä¸€ä¸ªè®¡æ•°å™¨ï¼š123456789function create_counter(initial) &#123; var x = initial || 0; return &#123; inc: function () &#123; x += 1; return x; &#125; &#125;&#125; å®ƒç”¨èµ·æ¥åƒè¿™æ ·:12345678var c1 = create_counter();c1.inc(); // 1c1.inc(); // 2c1.inc(); // 3var c2 = create_counter(10);c2.inc(); // 11c2.inc(); // 12c2.inc(); // 13 åœ¨è¿”å›žçš„å¯¹è±¡ä¸­ï¼Œå®žçŽ°äº†ä¸€ä¸ªé—­åŒ…ï¼Œè¯¥é—­åŒ…æºå¸¦äº†å±€éƒ¨å˜é‡xï¼Œå¹¶ä¸”ï¼Œä»Žå¤–éƒ¨ä»£ç æ ¹æœ¬æ— æ³•è®¿é—®åˆ°å˜é‡xã€‚æ¢å¥è¯è¯´ï¼Œé—­åŒ…å°±æ˜¯æºå¸¦çŠ¶æ€çš„å‡½æ•°ï¼Œå¹¶ä¸”å®ƒçš„çŠ¶æ€å¯ä»¥å®Œå…¨å¯¹å¤–éšè—èµ·æ¥ã€‚é—­åŒ…è¿˜å¯ä»¥æŠŠå¤šå‚æ•°çš„å‡½æ•°å˜æˆå•å‚æ•°çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œè¦è®¡ç®—xyå¯ä»¥ç”¨Math.pow(x, y)å‡½æ•°ï¼Œä¸è¿‡è€ƒè™‘åˆ°ç»å¸¸è®¡ç®—x2æˆ–x3ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨é—­åŒ…åˆ›å»ºæ–°çš„å‡½æ•°pow2å’Œpow3:1234567891011&apos;use strict&apos;;function make_pow(n) &#123; return function (x) &#123; return Math.pow(x, n); &#125;&#125;// åˆ›å»ºä¸¤ä¸ªæ–°å‡½æ•°:var pow2 = make_pow(2);var pow3 = make_pow(3);console.log(pow2(5)); // 25console.log(pow3(7)); // 343\",\"categories\":[{\"name\":\"frontend\",\"slug\":\"frontend\",\"permalink\":\"http://ltyeamin.github.io/categories/frontend/\"}],\"tags\":[{\"name\":\"JavaScript\",\"slug\":\"JavaScript\",\"permalink\":\"http://ltyeamin.github.io/tags/JavaScript/\"}]},{\"title\":\"é«˜é˜¶å‡½æ•°\",\"slug\":\"é«˜é˜¶å‡½æ•°\",\"date\":\"2017-12-13T08:37:15.000Z\",\"updated\":\"2019-05-29T14:03:53.000Z\",\"comments\":true,\"path\":\"2017/12/13/é«˜é˜¶å‡½æ•°/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2017/12/13/é«˜é˜¶å‡½æ•°/\",\"excerpt\":\"\",\"text\":\"é«˜é˜¶å‡½æ•°æ¦‚è¿°é«˜é˜¶å‡½æ•°è‹±æ–‡å«Higher-order functionã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼ŸJavaScriptçš„å‡½æ•°å…¶å®žéƒ½æŒ‡å‘æŸä¸ªå˜é‡ã€‚æ—¢ç„¶å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°èƒ½æŽ¥æ”¶å˜é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æŽ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°å°±ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚ä¸€ä¸ªæœ€ç®€å•çš„é«˜é˜¶å‡½æ•°: 12345function add(x, y, f) &#123; return f(x) + f(y);&#125;var x = add(-5, 6, Math.abs); console.log(x); // 11 å½“æˆ‘ä»¬è°ƒç”¨add(-5, 6, Math.abs)æ—¶ï¼Œå‚æ•°xï¼Œyå’Œfåˆ†åˆ«æŽ¥æ”¶-5ï¼Œ6å’Œå‡½æ•°Math.absï¼Œæ ¹æ®å‡½æ•°å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æŽ¨å¯¼è®¡ç®—è¿‡ç¨‹ä¸º:123456//åˆ†æžæ€è·¯x = -5;y = 6;f = Math.abs;f(x) + f(y) ==&gt; Math.abs(-5) + Math.abs(6) ==&gt; 11;return 11; ç¼–å†™é«˜é˜¶å‡½æ•°ï¼Œå°±æ˜¯è®©å‡½æ•°çš„å‚æ•°èƒ½å¤ŸæŽ¥æ”¶åˆ«çš„å‡½æ•°. map/reduceä¸¾ä¾‹è¯´æ˜Žï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°f(x)=$x^2â€‹$ï¼Œè¦æŠŠè¿™ä¸ªå‡½æ•°ä½œç”¨åœ¨ä¸€ä¸ªæ•°ç»„[1, 2, 3, 4, 5, 6, 7, 8, 9]ä¸Šï¼Œå°±å¯ä»¥ç”¨mapå®žçŽ°å¦‚ä¸‹å›¾:ç”±äºŽmap()æ–¹æ³•å®šä¹‰åœ¨JavaScriptçš„Arrayä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨Arrayçš„map()æ–¹æ³•ï¼Œä¼ å…¥æˆ‘ä»¬è‡ªå·±çš„å‡½æ•°ï¼Œå°±å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„Arrayä½œä¸ºç»“æžœ:12345678&apos;use strict&apos;;function pow(x) &#123; return x * x;&#125;var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];var results = arr.map(pow); // [1, 4, 9, 16, 25, 36, 49, 64, 81]console.log(results); æ³¨æ„ï¼šmap()ä¼ å…¥çš„å‚æ•°æ˜¯powï¼Œå³å‡½æ•°å¯¹è±¡æœ¬èº«.ä½ å¯èƒ½ä¼šæƒ³ï¼Œä¸éœ€è¦map()ï¼Œå†™ä¸€ä¸ªå¾ªçŽ¯ï¼Œä¹Ÿå¯ä»¥è®¡ç®—å‡ºç»“æžœ:12345678var f = function (x) &#123; return x * x;&#125;;var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];var result = [];for (var i=0; i&lt;arr.length; i++) &#123; result.push(f(arr[i]));&#125; çš„ç¡®å¯ä»¥ï¼Œä½†æ˜¯ï¼Œä»Žä¸Šé¢çš„å¾ªçŽ¯ä»£ç ï¼Œæˆ‘ä»¬æ— æ³•ä¸€çœ¼çœ‹æ˜Žç™½â€œæŠŠf(x)ä½œç”¨åœ¨Arrayçš„æ¯ä¸€ä¸ªå…ƒç´ å¹¶æŠŠç»“æžœç”Ÿæˆä¸€ä¸ªæ–°çš„Arrayâ€ã€‚æ‰€ä»¥ï¼Œmap()ä½œä¸ºé«˜é˜¶å‡½æ•°ï¼Œäº‹å®žä¸Šå®ƒæŠŠè¿ç®—è§„åˆ™æŠ½è±¡äº†ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¸ä½†å¯ä»¥è®¡ç®—ç®€å•çš„f(x)=x2ï¼Œè¿˜å¯ä»¥è®¡ç®—ä»»æ„å¤æ‚çš„å‡½æ•°ï¼Œæ¯”å¦‚ï¼ŒæŠŠArrayçš„æ‰€æœ‰æ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²ï¼š12var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];arr.map(String); // [&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;] åªéœ€è¦ä¸€è¡Œä»£ç ã€‚å†çœ‹reduceçš„ç”¨æ³•ã€‚Arrayçš„reduce()æŠŠä¸€ä¸ªå‡½æ•°ä½œç”¨åœ¨è¿™ä¸ªArrayçš„[x1, x2, x3â€¦]ä¸Šï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œreduce()æŠŠç»“æžœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—ï¼Œå…¶æ•ˆæžœå°±æ˜¯:1[x1, x2, x3, x4].reduce(f) = f(f(f(x1, x2), x3), x4) æ¯”æ–¹è¯´å¯¹ä¸€ä¸ªArrayæ±‚å’Œï¼Œå°±å¯ä»¥ç”¨reduceå®žçŽ°1234var arr = [1, 3, 5, 7, 9];arr.reduce(function (x, y) &#123; return x + y;&#125;); // 25 è¦æŠŠ[1, 3, 5, 7, 9]å˜æ¢æˆæ•´æ•°13579ï¼Œreduce()ä¹Ÿèƒ½æ´¾ä¸Šç”¨åœº:1234var arr = [1, 3, 5, 7, 9];arr.reduce(function (x, y) &#123; return x * 10 + y;&#125;); // 13579 filterfilterä¹Ÿæ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ“ä½œï¼Œå®ƒç”¨äºŽæŠŠArrayçš„æŸäº›å…ƒç´ è¿‡æ»¤æŽ‰ï¼Œç„¶åŽè¿”å›žå‰©ä¸‹çš„å…ƒç´ ã€‚å’Œmap()ç±»ä¼¼ï¼ŒArrayçš„filter()ä¹ŸæŽ¥æ”¶ä¸€ä¸ªå‡½æ•°ã€‚å’Œmap()ä¸åŒçš„æ˜¯ï¼Œfilter()æŠŠä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨äºŽæ¯ä¸ªå…ƒç´ ï¼Œç„¶åŽæ ¹æ®è¿”å›žå€¼æ˜¯trueè¿˜æ˜¯falseå†³å®šä¿ç•™è¿˜æ˜¯ä¸¢å¼ƒè¯¥å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªArrayä¸­ï¼Œåˆ æŽ‰å¶æ•°ï¼Œåªä¿ç•™å¥‡æ•°ï¼Œå¯ä»¥è¿™ä¹ˆå†™:12345var arr = [1, 2, 4, 5, 6, 9, 10, 15];var r = arr.filter(function (x) &#123; return x % 2 !== 0;&#125;);r; // [1, 5, 9, 15] æŠŠä¸€ä¸ªArrayä¸­çš„ç©ºå­—ç¬¦ä¸²åˆ æŽ‰ï¼Œå¯ä»¥è¿™ä¹ˆå†™:12345var arr = [&apos;A&apos;, &apos;&apos;, &apos;B&apos;, null, undefined, &apos;C&apos;, &apos; &apos;];var r = arr.filter(function (s) &#123; return s &amp;&amp; s.trim(); // æ³¨æ„ï¼šIE9ä»¥ä¸‹çš„ç‰ˆæœ¬æ²¡æœ‰trim()æ–¹æ³•&#125;);r; // [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;] å¯è§ç”¨filter()è¿™ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå…³é”®åœ¨äºŽæ­£ç¡®å®žçŽ°ä¸€ä¸ªâ€ç­›é€‰â€å‡½æ•°. å›žè°ƒå‡½æ•°filter()æŽ¥æ”¶çš„å›žè°ƒå‡½æ•°ï¼Œå…¶å®žå¯ä»¥æœ‰å¤šä¸ªå‚æ•°ã€‚é€šå¸¸æˆ‘ä»¬ä»…ä½¿ç”¨ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºArrayçš„æŸä¸ªå…ƒç´ ã€‚å›žè°ƒå‡½æ•°è¿˜å¯ä»¥æŽ¥æ”¶å¦å¤–ä¸¤ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå…ƒç´ çš„ä½ç½®å’Œæ•°ç»„æœ¬èº«ï¼š1234567var arr = [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;];var r = arr.filter(function (element, index, self) &#123; console.log(element); // ä¾æ¬¡æ‰“å°&apos;A&apos;, &apos;B&apos;, &apos;C&apos; console.log(index); // ä¾æ¬¡æ‰“å°0, 1, 2 console.log(self); // selfå°±æ˜¯å˜é‡arr return true;&#125;); åˆ©ç”¨filterï¼Œå¯ä»¥å·§å¦™åœ°åŽ»é™¤Arrayçš„é‡å¤å…ƒç´ :123456&apos;use strict&apos;;var r,arr = [&apos;apple&apos;, &apos;strawberry&apos;, &apos;banana&apos;, &apos;pear&apos;, &apos;apple&apos;, &apos;orange&apos;, &apos;orange&apos;, &apos;strawberry&apos;];r = arr.filter(function (element, index, self) &#123; return self.indexOf(element) === index;&#125;);console.log(r.toString()); //apple,strawberry,banana,pear,orange åŽ»é™¤é‡å¤å…ƒç´ ä¾é çš„æ˜¯indexOfæ€»æ˜¯è¿”å›žç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼ŒåŽç»­çš„é‡å¤å…ƒç´ ä½ç½®ä¸ŽindexOfè¿”å›žçš„ä½ç½®ä¸ç›¸ç­‰ï¼Œå› æ­¤è¢«filteræ»¤æŽ‰äº†. sortæŽ’åºç®—æ³•æŽ’åºä¹Ÿæ˜¯åœ¨ç¨‹åºä¸­ç»å¸¸ç”¨åˆ°çš„ç®—æ³•ã€‚æ— è®ºä½¿ç”¨å†’æ³¡æŽ’åºè¿˜æ˜¯å¿«é€ŸæŽ’åºï¼ŒæŽ’åºçš„æ ¸å¿ƒæ˜¯æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å¤§å°ã€‚å¦‚æžœæ˜¯æ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥æ¯”è¾ƒï¼Œä½†å¦‚æžœæ˜¯å­—ç¬¦ä¸²æˆ–è€…ä¸¤ä¸ªå¯¹è±¡å‘¢ï¼Ÿç›´æŽ¥æ¯”è¾ƒæ•°å­¦ä¸Šçš„å¤§å°æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› æ­¤ï¼Œæ¯”è¾ƒçš„è¿‡ç¨‹å¿…é¡»é€šè¿‡å‡½æ•°æŠ½è±¡å‡ºæ¥ã€‚é€šå¸¸è§„å®šï¼Œå¯¹äºŽä¸¤ä¸ªå…ƒç´ xå’Œyï¼Œå¦‚æžœè®¤ä¸ºx &lt; yï¼Œåˆ™è¿”å›ž-1ï¼Œå¦‚æžœè®¤ä¸ºx == yï¼Œåˆ™è¿”å›ž0ï¼Œå¦‚æžœè®¤ä¸ºx &gt; yï¼Œåˆ™è¿”å›ž1ï¼Œè¿™æ ·ï¼ŒæŽ’åºç®—æ³•å°±ä¸ç”¨å…³å¿ƒå…·ä½“çš„æ¯”è¾ƒè¿‡ç¨‹ï¼Œè€Œæ˜¯æ ¹æ®æ¯”è¾ƒç»“æžœç›´æŽ¥æŽ’åºã€‚JavaScriptçš„Arrayçš„sort()æ–¹æ³•å°±æ˜¯ç”¨äºŽæŽ’åºçš„ï¼Œä½†æ˜¯æŽ’åºç»“æžœå¯èƒ½è®©ä½ å¤§åƒä¸€æƒŠ:123456// çœ‹ä¸ŠåŽ»æ­£å¸¸çš„ç»“æžœ:[&apos;Google&apos;, &apos;Apple&apos;, &apos;Microsoft&apos;].sort(); // [&apos;Apple&apos;, &apos;Google&apos;, &apos;Microsoft&apos;];// appleæŽ’åœ¨äº†æœ€åŽ:[&apos;Google&apos;, &apos;apple&apos;, &apos;Microsoft&apos;].sort(); // [&apos;Google&apos;, &apos;Microsoft&quot;, &apos;apple&apos;]// æ— æ³•ç†è§£çš„ç»“æžœ:[10, 20, 1, 2].sort(); // [1, 10, 2, 20] ç¬¬äºŒä¸ªæŽ’åºæŠŠappleæŽ’åœ¨äº†æœ€åŽï¼Œæ˜¯å› ä¸ºå­—ç¬¦ä¸²æ ¹æ®ASCIIç è¿›è¡ŒæŽ’åºï¼Œè€Œå°å†™å­—æ¯açš„ASCIIç åœ¨å¤§å†™å­—æ¯ä¹‹åŽã€‚ç¬¬ä¸‰ä¸ªæŽ’åºç»“æžœæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿç®€å•çš„æ•°å­—æŽ’åºéƒ½èƒ½é”™ï¼Ÿè¿™æ˜¯å› ä¸ºArrayçš„sort()æ–¹æ³•é»˜è®¤æŠŠæ‰€æœ‰å…ƒç´ å…ˆè½¬æ¢ä¸ºStringå†æŽ’åºï¼Œç»“æžœâ€™10â€™æŽ’åœ¨äº†â€™2â€™çš„å‰é¢ï¼Œå› ä¸ºå­—ç¬¦â€™1â€™æ¯”å­—ç¬¦â€™2â€™çš„ASCIIç å°ã€‚å¦‚æžœä¸çŸ¥é“sort()æ–¹æ³•çš„é»˜è®¤æŽ’åºè§„åˆ™ï¼Œç›´æŽ¥å¯¹æ•°å­—æŽ’åºï¼Œç»å¯¹æ ½è¿›å‘é‡Œï¼å¹¸è¿çš„æ˜¯ï¼Œsort()æ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå®ƒè¿˜å¯ä»¥æŽ¥æ”¶ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°æ¥å®žçŽ°è‡ªå®šä¹‰çš„æŽ’åºã€‚è¦æŒ‰æ•°å­—å¤§å°æŽ’åºï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™:123456789101112&apos;use strict&apos;;var arr = [10, 20, 1, 2];arr.sort(function (x, y) &#123; if (x &lt; y) &#123; return -1; &#125; if (x &gt; y) &#123; return 1; &#125; return 0;&#125;);console.log(arr); // [1, 2, 10, 20] å¦‚æžœè¦å€’åºæŽ’åºï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¤§çš„æ•°æ”¾å‰é¢:12345678910var arr = [10, 20, 1, 2];arr.sort(function (x, y) &#123; if (x &lt; y) &#123; return 1; &#125; if (x &gt; y) &#123; return -1; &#125; return 0;&#125;); // [20, 10, 2, 1] é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹å­—ç¬¦ä¸²æŽ’åºï¼Œæ˜¯æŒ‰ç…§ASCIIçš„å¤§å°æ¯”è¾ƒçš„ï¼ŒçŽ°åœ¨ï¼Œæˆ‘ä»¬æå‡ºæŽ’åºåº”è¯¥å¿½ç•¥å¤§å°å†™ï¼ŒæŒ‰ç…§å­—æ¯åºæŽ’åºã€‚è¦å®žçŽ°è¿™ä¸ªç®—æ³•ï¼Œä¸å¿…å¯¹çŽ°æœ‰ä»£ç å¤§åŠ æ”¹åŠ¨ï¼Œåªè¦æˆ‘ä»¬èƒ½å®šä¹‰å‡ºå¿½ç•¥å¤§å°å†™çš„æ¯”è¾ƒç®—æ³•å°±å¯ä»¥:123456789101112var arr = [&apos;Google&apos;, &apos;apple&apos;, &apos;Microsoft&apos;];arr.sort(function (s1, s2) &#123; x1 = s1.toUpperCase(); x2 = s2.toUpperCase(); if (x1 &lt; x2) &#123; return -1; &#125; if (x1 &gt; x2) &#123; return 1; &#125; return 0;&#125;); // [&apos;apple&apos;, &apos;Google&apos;, &apos;Microsoft&apos;] å¿½ç•¥å¤§å°å†™æ¥æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå®žé™…ä¸Šå°±æ˜¯å…ˆæŠŠå­—ç¬¦ä¸²éƒ½å˜æˆå¤§å†™ï¼ˆæˆ–è€…éƒ½å˜æˆå°å†™ï¼‰ï¼Œå†æ¯”è¾ƒã€‚ä»Žä¸Šè¿°ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œé«˜é˜¶å‡½æ•°çš„æŠ½è±¡èƒ½åŠ›æ˜¯éžå¸¸å¼ºå¤§çš„ï¼Œè€Œä¸”ï¼Œæ ¸å¿ƒä»£ç å¯ä»¥ä¿æŒå¾—éžå¸¸ç®€æ´ã€‚æœ€åŽå‹æƒ…æç¤ºï¼Œsort()æ–¹æ³•ä¼šç›´æŽ¥å¯¹Arrayè¿›è¡Œä¿®æ”¹ï¼Œå®ƒè¿”å›žçš„ç»“æžœä»æ˜¯å½“å‰Array:12345var a1 = [&apos;B&apos;, &apos;A&apos;, &apos;C&apos;];var a2 = a1.sort();a1; // [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;]a2; // [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;]a1 === a2; // true, a1å’Œa2æ˜¯åŒä¸€å¯¹è±¡\",\"categories\":[{\"name\":\"frontend\",\"slug\":\"frontend\",\"permalink\":\"http://ltyeamin.github.io/categories/frontend/\"}],\"tags\":[{\"name\":\"JavaScript\",\"slug\":\"JavaScript\",\"permalink\":\"http://ltyeamin.github.io/tags/JavaScript/\"}]},{\"title\":\"JSæ–¹æ³•\",\"slug\":\"JSæ–¹æ³•\",\"date\":\"2017-12-13T08:18:31.000Z\",\"updated\":\"2019-05-29T14:03:52.000Z\",\"comments\":true,\"path\":\"2017/12/13/JSæ–¹æ³•/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2017/12/13/JSæ–¹æ³•/\",\"excerpt\":\"\",\"text\":\"å¯¹è±¡çš„æ–¹æ³•åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ç»‘å®šå‡½æ•°ï¼Œç§°ä¸ºè¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚åœ¨JavaScriptä¸­ï¼Œå¯¹è±¡çš„å®šä¹‰æ˜¯è¿™æ ·çš„:1234var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990&#125;; ä½†æ˜¯ï¼Œå¦‚æžœæˆ‘ä»¬ç»™xiaomingç»‘å®šä¸€ä¸ªå‡½æ•°ï¼Œå°±å¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ã€‚æ¯”å¦‚ï¼Œå†™ä¸ªage()æ–¹æ³•ï¼Œè¿”å›žxiaomingçš„å¹´é¾„:1234567891011var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: function () &#123; var y = new Date().getFullYear(); return y - this.birth; &#125;&#125;;xiaoming.age; // function xiaoming.age()xiaoming.age(); // ä»Šå¹´è°ƒç”¨æ˜¯25,æ˜Žå¹´è°ƒç”¨å°±å˜æˆ26äº† ç»‘å®šåˆ°å¯¹è±¡ä¸Šçš„å‡½æ•°ç§°ä¸ºæ–¹æ³•ï¼Œå’Œæ™®é€šå‡½æ•°ä¹Ÿæ²¡å•¥åŒºåˆ«ï¼Œä½†æ˜¯å®ƒåœ¨å†…éƒ¨ä½¿ç”¨äº†ä¸€ä¸ªthiså…³é”®å­—ï¼Œè¿™ä¸ªä¸œä¸œæ˜¯ä»€ä¹ˆ?åœ¨ä¸€ä¸ªæ–¹æ³•å†…éƒ¨ï¼Œthisæ˜¯ä¸€ä¸ªç‰¹æ®Šå˜é‡ï¼Œå®ƒå§‹ç»ˆæŒ‡å‘å½“å‰å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯xiaomingè¿™ä¸ªå˜é‡ã€‚æ‰€ä»¥ï¼Œthis.birthå¯ä»¥æ‹¿åˆ°xiaomingçš„birthå±žæ€§ã€‚è®©æˆ‘ä»¬æ‹†å¼€å†™ï¼š1234567891011function getAge() &#123; var y = new Date().getFullYear(); return y - this.birth;&#125;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: getAge&#125;;xiaoming.age(); // 25, æ­£å¸¸ç»“æžœgetAge(); // NaN å•ç‹¬è°ƒç”¨å‡½æ•°getAge()æ€Žä¹ˆè¿”å›žäº†NaNï¼Ÿè¯·æ³¨æ„ï¼Œæˆ‘ä»¬å·²ç»è¿›å…¥åˆ°äº†JavaScriptçš„ä¸€ä¸ªå¤§å‘é‡Œ.JavaScriptçš„å‡½æ•°å†…éƒ¨å¦‚æžœè°ƒç”¨äº†thisï¼Œé‚£ä¹ˆè¿™ä¸ªthisåˆ°åº•æŒ‡å‘è°?ç­”æ¡ˆæ˜¯ï¼Œè§†æƒ…å†µè€Œå®š!å¦‚æžœä»¥å¯¹è±¡çš„æ–¹æ³•å½¢å¼è°ƒç”¨ï¼Œæ¯”å¦‚xiaoming.age()ï¼Œè¯¥å‡½æ•°çš„thisæŒ‡å‘è¢«è°ƒç”¨çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯xiaomingï¼Œè¿™æ˜¯ç¬¦åˆæˆ‘ä»¬é¢„æœŸçš„.å¦‚æžœå•ç‹¬è°ƒç”¨å‡½æ•°ï¼Œæ¯”å¦‚getAge()ï¼Œæ­¤æ—¶ï¼Œè¯¥å‡½æ•°çš„thisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯window.å‘çˆ¹å•Š!æ›´å‘çˆ¹çš„æ˜¯ï¼Œå¦‚æžœè¿™ä¹ˆå†™:12var fn = xiaoming.age; // å…ˆæ‹¿åˆ°xiaomingçš„ageå‡½æ•°fn(); // NaN ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼è¦ä¿è¯thisæŒ‡å‘æ­£ç¡®ï¼Œå¿…é¡»ç”¨obj.xxx()çš„å½¢å¼è°ƒç”¨ï¼ç”±äºŽè¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„è®¾è®¡é”™è¯¯ï¼Œè¦æƒ³çº æ­£å¯æ²¡é‚£ä¹ˆç®€å•ã€‚ECMAå†³å®šï¼Œåœ¨strictæ¨¡å¼ä¸‹è®©å‡½æ•°çš„thisæŒ‡å‘undefinedï¼Œå› æ­¤ï¼Œåœ¨strictæ¨¡å¼ä¸‹ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯:12345678910111213&apos;use strict&apos;;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: function () &#123; var y = new Date().getFullYear(); return y - this.birth; &#125;&#125;;var fn = xiaoming.age;fn(); // Uncaught TypeError: Cannot read property &apos;birth&apos; of undefined è¿™ä¸ªå†³å®šåªæ˜¯è®©é”™è¯¯åŠæ—¶æš´éœ²å‡ºæ¥ï¼Œå¹¶æ²¡æœ‰è§£å†³thisåº”è¯¥æŒ‡å‘çš„æ­£ç¡®ä½ç½®ã€‚æœ‰äº›æ—¶å€™ï¼Œå–œæ¬¢é‡æž„çš„ä½ æŠŠæ–¹æ³•é‡æž„äº†ä¸€ä¸‹:1234567891011121314&apos;use strict&apos;;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: function () &#123; function getAgeFromBirth() &#123; var y = new Date().getFullYear(); return y - this.birth; &#125; return getAgeFromBirth(); &#125;&#125;;xiaoming.age(); // Uncaught TypeError: Cannot read property &apos;birth&apos; of undefined ç»“æžœåˆæŠ¥é”™äº†ï¼åŽŸå› æ˜¯thisæŒ‡é’ˆåªåœ¨ageæ–¹æ³•çš„å‡½æ•°å†…æŒ‡å‘xiaomingï¼Œåœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å‡½æ•°ï¼ŒthisåˆæŒ‡å‘undefinedäº†ï¼ï¼ˆåœ¨éžstrictæ¨¡å¼ä¸‹ï¼Œå®ƒé‡æ–°æŒ‡å‘å…¨å±€å¯¹è±¡windowï¼ï¼‰ä¿®å¤çš„åŠžæ³•ä¹Ÿä¸æ˜¯æ²¡æœ‰ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªthatå˜é‡é¦–å…ˆæ•èŽ·thisï¼š123456789101112131415&apos;use strict&apos;;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: function () &#123; var that = this; // åœ¨æ–¹æ³•å†…éƒ¨ä¸€å¼€å§‹å°±æ•èŽ·this function getAgeFromBirth() &#123; var y = new Date().getFullYear(); return y - that.birth; // ç”¨thatè€Œä¸æ˜¯this &#125; return getAgeFromBirth(); &#125;&#125;;xiaoming.age(); // 25 ç”¨var that = this;ï¼Œä½ å°±å¯ä»¥æ”¾å¿ƒåœ°åœ¨æ–¹æ³•å†…éƒ¨å®šä¹‰å…¶ä»–å‡½æ•°ï¼Œè€Œä¸æ˜¯æŠŠæ‰€æœ‰è¯­å¥éƒ½å †åˆ°ä¸€ä¸ªæ–¹æ³•ä¸­. applyæ–¹æ³•è¯¦è§£è™½ç„¶åœ¨ä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°è°ƒç”¨ä¸­ï¼Œæ ¹æ®æ˜¯å¦æ˜¯strictæ¨¡å¼ï¼ŒthisæŒ‡å‘undefinedæˆ–windowï¼Œä¸è¿‡ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥æŽ§åˆ¶thisçš„æŒ‡å‘çš„ï¼è¦æŒ‡å®šå‡½æ•°çš„thisæŒ‡å‘å“ªä¸ªå¯¹è±¡ï¼Œå¯ä»¥ç”¨å‡½æ•°æœ¬èº«çš„applyæ–¹æ³•ï¼Œå®ƒæŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯éœ€è¦ç»‘å®šçš„thiså˜é‡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯Arrayï¼Œè¡¨ç¤ºå‡½æ•°æœ¬èº«çš„å‚æ•°ã€‚ç”¨applyä¿®å¤getAge()è°ƒç”¨:1234567891011function getAge() &#123; var y = new Date().getFullYear(); return y - this.birth;&#125;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: getAge&#125;;xiaoming.age(); // 25getAge.apply(xiaoming, []); // 25, thisæŒ‡å‘xiaoming, å‚æ•°ä¸ºç©º å¦ä¸€ä¸ªä¸Žapply()ç±»ä¼¼çš„æ–¹æ³•æ˜¯call()ï¼Œå”¯ä¸€åŒºåˆ«æ˜¯: apply()æŠŠå‚æ•°æ‰“åŒ…æˆArrayå†ä¼ å…¥; call()æŠŠå‚æ•°æŒ‰é¡ºåºä¼ å…¥.æ¯”å¦‚è°ƒç”¨Math.max(3, 5, 4)ï¼Œåˆ†åˆ«ç”¨apply()å’Œcall()å®žçŽ°å¦‚ä¸‹:12Math.max.apply(null, [3, 5, 4]); // 5Math.max.call(null, 3, 5, 4); // 5 å¯¹æ™®é€šå‡½æ•°è°ƒç”¨ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠthisç»‘å®šä¸ºnull. è£…é¥°å™¨åˆ©ç”¨apply()ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åŠ¨æ€æ”¹å˜å‡½æ•°çš„è¡Œä¸ºã€‚JavaScriptçš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯åŠ¨æ€çš„ï¼Œå³ä½¿å†…ç½®çš„å‡½æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é‡æ–°æŒ‡å‘æ–°çš„å‡½æ•°ã€‚çŽ°åœ¨å‡å®šæˆ‘ä»¬æƒ³ç»Ÿè®¡ä¸€ä¸‹ä»£ç ä¸€å…±è°ƒç”¨äº†å¤šå°‘æ¬¡parseInt()ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„è°ƒç”¨éƒ½æ‰¾å‡ºæ¥ï¼Œç„¶åŽæ‰‹åŠ¨åŠ ä¸Šcount += 1ï¼Œä¸è¿‡è¿™æ ·åšå¤ªå‚»äº†ã€‚æœ€ä½³æ–¹æ¡ˆæ˜¯ç”¨æˆ‘ä»¬è‡ªå·±çš„å‡½æ•°æ›¿æ¢æŽ‰é»˜è®¤çš„parseInt()ï¼š1234567891011121314&apos;use strict&apos;;var count = 0;var oldParseInt = parseInt; // ä¿å­˜åŽŸå‡½æ•°window.parseInt = function () &#123; count += 1; return oldParseInt.apply(null, arguments); // è°ƒç”¨åŽŸå‡½æ•°&#125;;// æµ‹è¯•:parseInt(&apos;10&apos;);parseInt(&apos;20&apos;);parseInt(&apos;30&apos;);console.log(&apos;count = &apos; + count); // 3\",\"categories\":[{\"name\":\"frontend\",\"slug\":\"frontend\",\"permalink\":\"http://ltyeamin.github.io/categories/frontend/\"}],\"tags\":[{\"name\":\"JavaScript\",\"slug\":\"JavaScript\",\"permalink\":\"http://ltyeamin.github.io/tags/JavaScript/\"}]},{\"title\":\"å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼\",\"slug\":\"å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼\",\"date\":\"2017-12-13T07:04:21.000Z\",\"updated\":\"2019-05-29T14:03:52.000Z\",\"comments\":true,\"path\":\"2017/12/13/å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2017/12/13/å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼/\",\"excerpt\":\"\",\"text\":\"å˜é‡ä½œç”¨åŸŸåœ¨JavaScriptä¸­ï¼Œç”¨varç”³æ˜Žçš„å˜é‡å®žé™…ä¸Šæ˜¯æœ‰ä½œç”¨åŸŸçš„ã€‚å¦‚æžœä¸€ä¸ªå˜é‡åœ¨å‡½æ•°ä½“å†…éƒ¨ç”³æ˜Žï¼Œåˆ™è¯¥å˜é‡çš„ä½œç”¨åŸŸä¸ºæ•´ä¸ªå‡½æ•°ä½“ï¼Œåœ¨å‡½æ•°ä½“å¤–ä¸å¯å¼•ç”¨è¯¥å˜é‡:12345function foo() &#123; var x = 1; x = x + 1;&#125;x = x + 2; // ReferenceError! æ— æ³•åœ¨å‡½æ•°ä½“å¤–å¼•ç”¨å˜é‡x å¦‚æžœä¸¤ä¸ªä¸åŒçš„å‡½æ•°å„è‡ªç”³æ˜Žäº†åŒä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆè¯¥å˜é‡åªåœ¨å„è‡ªçš„å‡½æ•°ä½“å†…èµ·ä½œç”¨ã€‚æ¢å¥è¯è¯´ï¼Œä¸åŒå‡½æ•°å†…éƒ¨çš„åŒåå˜é‡äº’ç›¸ç‹¬ç«‹ï¼Œäº’ä¸å½±å“:123456789function foo() &#123; var x = 1; x = x + 1;&#125;function bar() &#123; var x = &apos;A&apos;; x = x + &apos;B&apos;;&#125; ç”±äºŽJavaScriptçš„å‡½æ•°å¯ä»¥åµŒå¥—ï¼Œæ­¤æ—¶ï¼Œå†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°å®šä¹‰çš„å˜é‡ï¼Œåè¿‡æ¥åˆ™ä¸è¡Œ:1234567function foo() &#123; var x = 1; function bar() &#123; var y = x + 1; // barå¯ä»¥è®¿é—®fooçš„å˜é‡x! &#125; var z = y + 1; // ReferenceError! fooä¸å¯ä»¥è®¿é—®barçš„å˜é‡y!&#125; å¦‚æžœå†…éƒ¨å‡½æ•°å’Œå¤–éƒ¨å‡½æ•°çš„å˜é‡åé‡åæ€Žä¹ˆåŠžï¼Ÿæ¥æµ‹è¯•ä¸€ä¸‹:12345678910function foo() &#123; var x = 1; function bar() &#123; var x = &apos;A&apos;; console.log(&apos;x in bar() = &apos; + x); // &apos;A&apos; &#125; console.log(&apos;x in foo() = &apos; + x); // 1 bar();&#125;foo(); è¿™è¯´æ˜ŽJavaScriptçš„å‡½æ•°åœ¨æŸ¥æ‰¾å˜é‡æ—¶ä»Žè‡ªèº«å‡½æ•°å®šä¹‰å¼€å§‹ï¼Œä»Žâ€œå†…â€å‘â€œå¤–â€æŸ¥æ‰¾ã€‚å¦‚æžœå†…éƒ¨å‡½æ•°å®šä¹‰äº†ä¸Žå¤–éƒ¨å‡½æ•°é‡åçš„å˜é‡ï¼Œåˆ™å†…éƒ¨å‡½æ•°çš„å˜é‡å°†â€œå±è”½â€å¤–éƒ¨å‡½æ•°çš„å˜é‡ã€‚ å˜é‡æå‡JavaScriptçš„å‡½æ•°å®šä¹‰æœ‰ä¸ªç‰¹ç‚¹ï¼Œå®ƒä¼šå…ˆæ‰«ææ•´ä¸ªå‡½æ•°ä½“çš„è¯­å¥ï¼ŒæŠŠæ‰€æœ‰ç”³æ˜Žçš„å˜é‡â€œæå‡â€åˆ°å‡½æ•°é¡¶éƒ¨:1234567&apos;use strict&apos;;function foo() &#123; var x = &apos;Hello, &apos; + y; console.log(x); var y = &apos;Bob&apos;;&#125;foo(); è™½ç„¶æ˜¯strictæ¨¡å¼ï¼Œä½†è¯­å¥var x = â€˜Hello, â€˜ + y;å¹¶ä¸æŠ¥é”™ï¼ŒåŽŸå› æ˜¯å˜é‡yåœ¨ç¨åŽç”³æ˜Žäº†ã€‚ä½†æ˜¯console.logæ˜¾ç¤ºHello, undefinedï¼Œè¯´æ˜Žå˜é‡yçš„å€¼ä¸ºundefinedã€‚è¿™æ­£æ˜¯å› ä¸ºJavaScriptå¼•æ“Žè‡ªåŠ¨æå‡äº†å˜é‡yçš„å£°æ˜Žï¼Œä½†ä¸ä¼šæå‡å˜é‡yçš„èµ‹å€¼ã€‚å¯¹äºŽä¸Šè¿°foo()å‡½æ•°ï¼ŒJavaScriptå¼•æ“Žçœ‹åˆ°çš„ä»£ç ç›¸å½“äºŽ:123456function foo() &#123; var y; // æå‡å˜é‡yçš„ç”³æ˜Žï¼Œæ­¤æ—¶yä¸ºundefined var x = &apos;Hello, &apos; + y; console.log(x); y = &apos;Bob&apos;;&#125; ç”±äºŽJavaScriptçš„è¿™ä¸€æ€ªå¼‚çš„â€œç‰¹æ€§â€ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰å˜é‡æ—¶ï¼Œè¯·ä¸¥æ ¼éµå®ˆâ€œåœ¨å‡½æ•°å†…éƒ¨é¦–å…ˆç”³æ˜Žæ‰€æœ‰å˜é‡â€è¿™ä¸€è§„åˆ™ã€‚æœ€å¸¸è§çš„åšæ³•æ˜¯ç”¨ä¸€ä¸ªvarç”³æ˜Žå‡½æ•°å†…éƒ¨ç”¨åˆ°çš„æ‰€æœ‰å˜é‡ï¼š12345678910function foo() &#123; var x = 1, // xåˆå§‹åŒ–ä¸º1 y = x + 1, // yåˆå§‹åŒ–ä¸º2 z, i; // zå’Œiä¸ºundefined // å…¶ä»–è¯­å¥: for (i=0; i&lt;100; i++) &#123; ... &#125;&#125; å…¨å±€ä½œç”¨åŸŸä¸åœ¨ä»»ä½•å‡½æ•°å†…å®šä¹‰çš„å˜é‡å°±å…·æœ‰å…¨å±€ä½œç”¨åŸŸã€‚å®žé™…ä¸Šï¼ŒJavaScripté»˜è®¤æœ‰ä¸€ä¸ªå…¨å±€å¯¹è±¡windowï¼Œå…¨å±€ä½œç”¨åŸŸçš„å˜é‡å®žé™…ä¸Šè¢«ç»‘å®šåˆ°windowçš„ä¸€ä¸ªå±žæ€§:1234&apos;use strict&apos;;var course = &apos;Learn JavaScript&apos;;alert(course); // &apos;Learn JavaScript&apos;alert(window.course); // &apos;Learn JavaScript&apos; å› æ­¤ï¼Œç›´æŽ¥è®¿é—®å…¨å±€å˜é‡courseå’Œè®¿é—®window.courseæ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚ä½ å¯èƒ½çŒœåˆ°äº†ï¼Œç”±äºŽå‡½æ•°å®šä¹‰æœ‰ä¸¤ç§æ–¹å¼ï¼Œä»¥å˜é‡æ–¹å¼var foo = function () {}å®šä¹‰çš„å‡½æ•°å®žé™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå› æ­¤ï¼Œé¡¶å±‚å‡½æ•°çš„å®šä¹‰ä¹Ÿè¢«è§†ä¸ºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¹¶ç»‘å®šåˆ°windowå¯¹è±¡:123456&apos;use strict&apos;;function foo() &#123; alert(&apos;foo&apos;);&#125;foo(); // ç›´æŽ¥è°ƒç”¨foo()window.foo(); // é€šè¿‡window.foo()è°ƒç”¨ è¿›ä¸€æ­¥å¤§èƒ†åœ°çŒœæµ‹ï¼Œæˆ‘ä»¬æ¯æ¬¡ç›´æŽ¥è°ƒç”¨çš„alert()å‡½æ•°å…¶å®žä¹Ÿæ˜¯windowçš„ä¸€ä¸ªå˜é‡ï¼š12345678910&apos;use strict&apos;;window.alert(&apos;è°ƒç”¨window.alert()&apos;);// æŠŠalertä¿å­˜åˆ°å¦ä¸€ä¸ªå˜é‡:var old_alert = window.alert;// ç»™alertèµ‹ä¸€ä¸ªæ–°å‡½æ•°:window.alert = function () &#123;&#125;alert(&apos;æ— æ³•ç”¨alert()æ˜¾ç¤ºäº†!&apos;);// æ¢å¤alert:window.alert = old_alert;alert(&apos;åˆå¯ä»¥ç”¨alert()äº†!&apos;); è¿™è¯´æ˜ŽJavaScriptå®žé™…ä¸Šåªæœ‰ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸã€‚ä»»ä½•å˜é‡ï¼ˆå‡½æ•°ä¹Ÿè§†ä¸ºå˜é‡ï¼‰ï¼Œå¦‚æžœæ²¡æœ‰åœ¨å½“å‰å‡½æ•°ä½œç”¨åŸŸä¸­æ‰¾åˆ°ï¼Œå°±ä¼šç»§ç»­å¾€ä¸ŠæŸ¥æ‰¾ï¼Œæœ€åŽå¦‚æžœåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ä¹Ÿæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™æŠ¥ReferenceErroré”™è¯¯. åç§°ç©ºé—´å…¨å±€å˜é‡ä¼šç»‘å®šåˆ°windowä¸Šï¼Œä¸åŒçš„JavaScriptæ–‡ä»¶å¦‚æžœä½¿ç”¨äº†ç›¸åŒçš„å…¨å±€å˜é‡ï¼Œæˆ–è€…å®šä¹‰äº†ç›¸åŒåå­—çš„é¡¶å±‚å‡½æ•°ï¼Œéƒ½ä¼šé€ æˆå‘½åå†²çªï¼Œå¹¶ä¸”å¾ˆéš¾è¢«å‘çŽ°ã€‚å‡å°‘å†²çªçš„ä¸€ä¸ªæ–¹æ³•æ˜¯æŠŠè‡ªå·±çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°å…¨éƒ¨ç»‘å®šåˆ°ä¸€ä¸ªå…¨å±€å˜é‡ä¸­ã€‚ä¾‹å¦‚:123456789// å”¯ä¸€çš„å…¨å±€å˜é‡MYAPP:var MYAPP = &#123;&#125;;// å…¶ä»–å˜é‡:MYAPP.name = &apos;myapp&apos;;MYAPP.version = 1.0;// å…¶ä»–å‡½æ•°:MYAPP.foo = function () &#123; return &apos;foo&apos;;&#125;; æŠŠè‡ªå·±çš„ä»£ç å…¨éƒ¨æ”¾å…¥å”¯ä¸€çš„åå­—ç©ºé—´MYAPPä¸­ï¼Œä¼šå¤§å¤§å‡å°‘å…¨å±€å˜é‡å†²çªçš„å¯èƒ½ã€‚è®¸å¤šè‘—åçš„JavaScriptåº“éƒ½æ˜¯è¿™ä¹ˆå¹²çš„ï¼šjQueryï¼ŒYUIï¼Œunderscoreç­‰ç­‰ã€‚ å±€éƒ¨ä½œç”¨åŸŸç”±äºŽJavaScriptçš„å˜é‡ä½œç”¨åŸŸå®žé™…ä¸Šæ˜¯å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬åœ¨forå¾ªçŽ¯ç­‰è¯­å¥å—ä¸­æ˜¯æ— æ³•å®šä¹‰å…·æœ‰å±€éƒ¨ä½œç”¨åŸŸçš„å˜é‡çš„:12345678&apos;use strict&apos;;function foo() &#123; for (var i=0; i&lt;100; i++) &#123; // &#125; i += 100; // ä»ç„¶å¯ä»¥å¼•ç”¨å˜é‡i&#125; ä¸ºäº†è§£å†³å—çº§ä½œç”¨åŸŸï¼ŒES6å¼•å…¥äº†æ–°çš„å…³é”®å­—letï¼Œç”¨letæ›¿ä»£varå¯ä»¥ç”³æ˜Žä¸€ä¸ªå—çº§ä½œç”¨åŸŸçš„å˜é‡:12345678function foo() &#123; var sum = 0; for (let i=0; i&lt;100; i++) &#123; sum += i; &#125; // SyntaxError: i += 1;&#125; å¸¸é‡ç”±äºŽvarå’Œletç”³æ˜Žçš„æ˜¯å˜é‡ï¼Œå¦‚æžœè¦ç”³æ˜Žä¸€ä¸ªå¸¸é‡ï¼Œåœ¨ES6ä¹‹å‰æ˜¯ä¸è¡Œçš„ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡æ¥è¡¨ç¤ºâ€œè¿™æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¸è¦ä¿®æ”¹å®ƒçš„å€¼â€:1var PI = 3.14; ES6æ ‡å‡†å¼•å…¥äº†æ–°çš„å…³é”®å­—constæ¥å®šä¹‰å¸¸é‡ï¼Œconstä¸Žletéƒ½å…·æœ‰å—çº§ä½œç”¨åŸŸ:1234&apos;use strict&apos;;const PI = 3.14;PI = 3; // æŸäº›æµè§ˆå™¨ä¸æŠ¥é”™ï¼Œä½†æ˜¯æ— æ•ˆæžœï¼PI; // 3.14 è§£æž„èµ‹å€¼ä»ŽES6å¼€å§‹ï¼ŒJavaScriptå¼•å…¥äº†è§£æž„èµ‹å€¼ï¼Œå¯ä»¥åŒæ—¶å¯¹ä¸€ç»„å˜é‡è¿›è¡Œèµ‹å€¼ã€‚ä»€ä¹ˆæ˜¯è§£æž„èµ‹å€¼ï¼Ÿæˆ‘ä»¬å…ˆçœ‹çœ‹ä¼ ç»Ÿçš„åšæ³•ï¼Œå¦‚ä½•æŠŠä¸€ä¸ªæ•°ç»„çš„å…ƒç´ åˆ†åˆ«èµ‹å€¼ç»™å‡ ä¸ªå˜é‡:123456var array = [&apos;æŽå½¤&apos;, &apos;å¥•æ˜Žåˆ›æ„ä¼ åª’&apos;, &apos;è‰ºæœ¯æºäºŽç”Ÿæ´»,ä½†é«˜äºŽç”Ÿæ´»&apos;];//ä¸€èˆ¬èµ‹å€¼æ–¹æ³•var x = array[0];var y = array[1];var z = array[2];console.log(&apos;x : &apos; + x + &apos;, y : &apos; + y + &apos;, z : &apos; + z); //x : æŽå½¤, y : å¥•æ˜Žåˆ›æ„ä¼ åª’, z : è‰ºæœ¯æºäºŽç”Ÿæ´»,ä½†é«˜äºŽç”Ÿæ´» çŽ°åœ¨ï¼Œåœ¨ES6ä¸­ï¼Œå¯ä»¥ä½¿ç”¨è§£æž„èµ‹å€¼ï¼Œç›´æŽ¥å¯¹å¤šä¸ªå˜é‡åŒæ—¶èµ‹å€¼:12var [x, y, z] = [&apos;Java&apos;, &apos;JavaScript&apos;, &apos;Python&apos;];console.log(&apos;x : &apos; + x + &apos;, y : &apos; + y + &apos;, z : &apos; + z); //x : Java, y : JavaScript, z : Python æ³¨æ„ï¼Œå¯¹æ•°ç»„å…ƒç´ è¿›è¡Œè§£æž„èµ‹å€¼æ—¶ï¼Œå¤šä¸ªå˜é‡è¦ç”¨[â€¦]æ‹¬èµ·æ¥ã€‚å¦‚æžœæ•°ç»„æœ¬èº«è¿˜æœ‰åµŒå¥—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢çš„å½¢å¼è¿›è¡Œè§£æž„èµ‹å€¼ï¼Œæ³¨æ„åµŒå¥—å±‚æ¬¡å’Œä½ç½®è¦ä¿æŒä¸€è‡´:1234let [x, [y, z]] = [&apos;hello&apos;, [&apos;JavaScript&apos;, &apos;ES6&apos;]];x; // &apos;hello&apos;y; // &apos;JavaScript&apos;z; // &apos;ES6&apos; è§£æž„èµ‹å€¼è¿˜å¯ä»¥å¿½ç•¥æŸäº›å…ƒç´ ï¼š12let [, , z] = [&apos;hello&apos;, &apos;JavaScript&apos;, &apos;ES6&apos;]; // å¿½ç•¥å‰ä¸¤ä¸ªå…ƒç´ ï¼Œåªå¯¹zèµ‹å€¼ç¬¬ä¸‰ä¸ªå…ƒç´ z; // &apos;ES6&apos; å¦‚æžœéœ€è¦ä»Žä¸€ä¸ªå¯¹è±¡ä¸­å–å‡ºè‹¥å¹²å±žæ€§ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è§£æž„èµ‹å€¼ï¼Œä¾¿äºŽå¿«é€ŸèŽ·å–å¯¹è±¡çš„æŒ‡å®šå±žæ€§:12345678910var person = &#123; name: &apos;æ—ºè´¢&apos;, age: 20, gender: &apos;male&apos;, passport: &apos;G-12345678&apos;, school: &apos;No.4 middle school&apos;&#125;;var &#123;name, age, passport&#125; = person;// name, age, passportåˆ†åˆ«è¢«èµ‹å€¼ä¸ºå¯¹åº”å±žæ€§:console.log(&apos;name = &apos; + name + &apos;, age = &apos; + age + &apos;, passport = &apos; + passport); //name = æ—ºè´¢, age = 20, passport = G-12345678 å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œè§£æž„èµ‹å€¼æ—¶ï¼ŒåŒæ ·å¯ä»¥ç›´æŽ¥å¯¹åµŒå¥—çš„å¯¹è±¡å±žæ€§è¿›è¡Œèµ‹å€¼ï¼Œåªè¦ä¿è¯å¯¹åº”çš„å±‚æ¬¡æ˜¯ä¸€è‡´çš„:123456789101112131415161718var person = &#123; name: &apos;å°å¼º&apos;, age: 20, gender: &apos;male&apos;, passport: &apos;G-12345678&apos;, school: &apos;No.4 middle school&apos;, address: &#123; city: &apos;Beijing&apos;, street: &apos;No.1 Road&apos;, zipcode: &apos;100001&apos; &#125;&#125;;var &#123;name, address: &#123;city, zip&#125;&#125; = person;name; // &apos;å°å¼º&apos;city; // &apos;Beijing&apos;zip; // undefined, å› ä¸ºå±žæ€§åæ˜¯zipcodeè€Œä¸æ˜¯zip// æ³¨æ„: addressä¸æ˜¯å˜é‡ï¼Œè€Œæ˜¯ä¸ºäº†è®©cityå’ŒzipèŽ·å¾—åµŒå¥—çš„addresså¯¹è±¡çš„å±žæ€§:address; // Uncaught ReferenceError: address is not defined ä½¿ç”¨è§£æž„èµ‹å€¼å¯¹å¯¹è±¡å±žæ€§è¿›è¡Œèµ‹å€¼æ—¶ï¼Œå¦‚æžœå¯¹åº”çš„å±žæ€§ä¸å­˜åœ¨ï¼Œå˜é‡å°†è¢«èµ‹å€¼ä¸ºundefinedï¼Œè¿™å’Œå¼•ç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„å±žæ€§èŽ·å¾—undefinedæ˜¯ä¸€è‡´çš„ã€‚å¦‚æžœè¦ä½¿ç”¨çš„å˜é‡åå’Œå±žæ€§åä¸ä¸€è‡´ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„è¯­æ³•èŽ·å–:1234567891011121314var person = &#123; name: &apos;å°å¼º&apos;, age: 20, gender: &apos;male&apos;, passport: &apos;G-12345678&apos;, school: &apos;No.4 middle school&apos;&#125;;// æŠŠpassportå±žæ€§èµ‹å€¼ç»™å˜é‡id:let &#123;name, passport:id&#125; = person;name; // &apos;å°å¼º&apos;id; // &apos;G-12345678&apos;// æ³¨æ„: passportä¸æ˜¯å˜é‡ï¼Œè€Œæ˜¯ä¸ºäº†è®©å˜é‡idèŽ·å¾—passportå±žæ€§:passport; // Uncaught ReferenceError: passport is not defined è§£æž„èµ‹å€¼è¿˜å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ï¼Œè¿™æ ·å°±é¿å…äº†ä¸å­˜åœ¨çš„å±žæ€§è¿”å›žundefinedçš„é—®é¢˜:1234567891011var person = &#123; name: &apos;å°å¼º&apos;, age: 20, gender: &apos;male&apos;, passport: &apos;G-12345678&apos;&#125;;// å¦‚æžœpersonå¯¹è±¡æ²¡æœ‰singleå±žæ€§ï¼Œé»˜è®¤èµ‹å€¼ä¸ºtrue:var &#123;name, single=true&#125; = person;name; // &apos;å°å¼º&apos;single; // true æœ‰äº›æ—¶å€™ï¼Œå¦‚æžœå˜é‡å·²ç»è¢«å£°æ˜Žäº†ï¼Œå†æ¬¡èµ‹å€¼çš„æ—¶å€™ï¼Œæ­£ç¡®çš„å†™æ³•ä¹Ÿä¼šæŠ¥è¯­æ³•é”™è¯¯:12345// å£°æ˜Žå˜é‡:var x, y;// è§£æž„èµ‹å€¼:&#123;x, y&#125; = &#123; name: &apos;å°å¼º&apos;, x: 100, y: 200&#125;;// è¯­æ³•é”™è¯¯: Uncaught SyntaxError: Unexpected token = è¿™æ˜¯å› ä¸ºJavaScriptå¼•æ“ŽæŠŠ{å¼€å¤´çš„è¯­å¥å½“ä½œäº†å—å¤„ç†ï¼ŒäºŽæ˜¯=ä¸å†åˆæ³•ã€‚è§£å†³æ–¹æ³•æ˜¯ç”¨å°æ‹¬å·æ‹¬èµ·æ¥:1(&#123;x, y&#125; = &#123; name: &apos;å°å¼º&apos;, x: 100, y: 200&#125;); è§£æžèµ‹å€¼ä½¿ç”¨åœºæ™¯ è§£æž„èµ‹å€¼åœ¨å¾ˆå¤šæ—¶å€™å¯ä»¥å¤§å¤§ç®€åŒ–ä»£ç ã€‚ä¾‹å¦‚ï¼Œäº¤æ¢ä¸¤ä¸ªå˜é‡xå’Œyçš„å€¼ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼Œä¸å†éœ€è¦ä¸´æ—¶å˜é‡: 12var x=1, y=2;[x, y] = [y, x] å¿«é€ŸèŽ·å–å½“å‰é¡µé¢çš„åŸŸåå’Œè·¯å¾„: 123var &#123;hostname:domain, pathname:path&#125; = location;domain //&quot;ltyeamin.github.io&quot;path // &quot;/2017/12/04/JS%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E5%92%8C%E8%B0%83%E7%94%A8/&quot; å¦‚æžœä¸€ä¸ªå‡½æ•°æŽ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œé‚£ä¹ˆï¼Œå¯ä»¥ä½¿ç”¨è§£æž„ç›´æŽ¥æŠŠå¯¹è±¡çš„å±žæ€§ç»‘å®šåˆ°å˜é‡ä¸­ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„å‡½æ•°å¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªDateå¯¹è±¡: 123function buildDate(&#123;year, month, day, hour=0, minute=0, second=0&#125;) &#123; return new Date(year + &apos;-&apos; + month + &apos;-&apos; + day + &apos; &apos; + hour + &apos;:&apos; + minute + &apos;:&apos; + second);&#125; å®ƒçš„æ–¹ä¾¿ä¹‹å¤„åœ¨äºŽä¼ å…¥çš„å¯¹è±¡åªéœ€è¦yearã€monthå’Œdayè¿™ä¸‰ä¸ªå±žæ€§: 1buildDate(&#123; year: 2017, month: 12, day: 4 &#125;); // Mon Dec 04 2017 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) ä¹Ÿå¯ä»¥ä¼ å…¥hourã€minuteå’Œsecondå±žæ€§: 1buildDate(&#123; year: 2017, month: 1, day: 1, hour: 20, minute: 15 &#125;); // Sun Jan 01 2017 20:15:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) ä½¿ç”¨è§£æž„èµ‹å€¼å¯ä»¥å‡å°‘ä»£ç é‡ï¼Œä½†æ˜¯ï¼Œéœ€è¦åœ¨æ”¯æŒES6è§£æž„èµ‹å€¼ç‰¹æ€§çš„çŽ°ä»£æµè§ˆå™¨ä¸­æ‰èƒ½æ­£å¸¸è¿è¡Œã€‚ç›®å‰æ”¯æŒè§£æž„èµ‹å€¼çš„æµè§ˆå™¨åŒ…æ‹¬Chromeï¼ŒFirefoxï¼ŒEdgeç­‰.\",\"categories\":[{\"name\":\"frontend\",\"slug\":\"frontend\",\"permalink\":\"http://ltyeamin.github.io/categories/frontend/\"}],\"tags\":[{\"name\":\"JavaScript\",\"slug\":\"JavaScript\",\"permalink\":\"http://ltyeamin.github.io/tags/JavaScript/\"}]},{\"title\":\"JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨\",\"slug\":\"JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨\",\"date\":\"2017-12-04T13:53:01.000Z\",\"updated\":\"2019-05-29T14:03:52.000Z\",\"comments\":true,\"path\":\"2017/12/04/JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨/\",\"link\":\"\",\"permalink\":\"http://ltyeamin.github.io/2017/12/04/JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨/\",\"excerpt\":\"\",\"text\":\"å®šä¹‰å‡½æ•°JavaScriptå‡½æ•°æ—¶å‚æ•°åŒ–çš„,å¹¶ä¸”æ¯æ¬¡è°ƒç”¨è¿˜ä¼šæœ‰ä¸ªä¸Šä¸‹æ–‡(thiså…³é”®å­—).å¦‚æžœå‡½æ•°æŒ‚è½½åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Š,ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§,é‚£å°±æ˜¯å¯¹è±¡çš„æ–¹æ³•.JSçš„å‡½æ•°å¯ä»¥åµŒå¥—åœ¨å…¶ä»–å‡½æ•°ä¸­å®šä¹‰,è¿™æ ·å®ƒä»¬å°±å¯ä»¥è®¿é—®å®ƒä»¬è¢«å®šä¹‰æ—¶æ‰€å¤„çš„ä½œç”¨åŸŸä¸­çš„ä»»ä½•éåŽ†.è¿™æ„å‘³ç€JSå‡½æ•°æž„æˆäº†ä¸€ä¸ªé—­åŒ…(closure).åœ¨JavaScriptä¸­ï¼Œå®šä¹‰å‡½æ•°çš„æ–¹å¼å¦‚ä¸‹:1234567function abs(x) &#123; if (x &gt;= 0) &#123; return x; &#125; else &#123; return -x; &#125;&#125; ä¸Šè¿°abs()å‡½æ•°çš„å®šä¹‰å¦‚ä¸‹: functionæŒ‡å‡ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°å®šä¹‰; absæ˜¯å‡½æ•°çš„åç§°; æ‹¬å·å†…åˆ—å‡ºå‡½æ•°çš„å‚æ•°ï¼Œå¤šä¸ªå‚æ•°ä»¥,åˆ†éš”; {â€¦}ä¹‹é—´çš„ä»£ç æ˜¯å‡½æ•°ä½“ï¼Œå¯ä»¥åŒ…å«è‹¥å¹²è¯­å¥ï¼Œç”šè‡³å¯ä»¥æ²¡æœ‰ä»»ä½•è¯­å¥ã€‚ è¯·æ³¨æ„ï¼Œå‡½æ•°ä½“å†…éƒ¨çš„è¯­å¥åœ¨æ‰§è¡Œæ—¶ï¼Œä¸€æ—¦æ‰§è¡Œåˆ°returnæ—¶ï¼Œå‡½æ•°å°±æ‰§è¡Œå®Œæ¯•ï¼Œå¹¶å°†ç»“æžœè¿”å›žã€‚å› æ­¤ï¼Œå‡½æ•°å†…éƒ¨é€šè¿‡æ¡ä»¶åˆ¤æ–­å’Œå¾ªçŽ¯å¯ä»¥å®žçŽ°éžå¸¸å¤æ‚çš„é€»è¾‘ã€‚å¦‚æžœæ²¡æœ‰returnè¯­å¥ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•åŽä¹Ÿä¼šè¿”å›žç»“æžœï¼Œåªæ˜¯ç»“æžœä¸ºundefinedã€‚ç”±äºŽJavaScriptçš„å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸Šè¿°å®šä¹‰çš„abs()å‡½æ•°å®žé™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œè€Œå‡½æ•°åabså¯ä»¥è§†ä¸ºæŒ‡å‘è¯¥å‡½æ•°çš„å˜é‡ã€‚å› æ­¤ï¼Œç¬¬äºŒç§å®šä¹‰å‡½æ•°(åŒ¿åå‡½æ•°)çš„æ–¹å¼å¦‚ä¸‹ï¼š1234567var abs = function (x) &#123; if (x &gt;= 0) &#123; return x; &#125; else &#123; return -x; &#125;&#125;; åœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œfunction(x){â€¦}æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå®ƒæ²¡æœ‰å‡½æ•°åã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªåŒ¿åå‡½æ•°èµ‹å€¼ç»™äº†å˜é‡abs.æ‰€ä»¥,é€šè¿‡å˜é‡abså°±å¯ä»¥è°ƒç”¨è¯¥å‡½æ•°ã€‚ä¸Šè¿°ä¸¤ç§å®šä¹‰å®Œå…¨ç­‰ä»·ï¼Œæ³¨æ„ç¬¬äºŒç§æ–¹å¼æŒ‰ç…§å®Œæ•´è¯­æ³•éœ€è¦åœ¨å‡½æ•°ä½“æœ«å°¾åŠ ä¸€ä¸ª;ï¼Œè¡¨ç¤ºèµ‹å€¼è¯­å¥ç»“æŸã€‚ è°ƒç”¨å‡½æ•°è°ƒç”¨å‡½æ•°æ—¶ï¼ŒæŒ‰é¡ºåºä¼ å…¥å‚æ•°å³å¯:12abs(10); // è¿”å›ž10abs(-9); // è¿”å›ž9 ç”±äºŽJavaScriptå…è®¸ä¼ å…¥ä»»æ„ä¸ªå‚æ•°è€Œä¸å½±å“è°ƒç”¨ï¼Œå› æ­¤ä¼ å…¥çš„å‚æ•°æ¯”å®šä¹‰çš„å‚æ•°å¤šä¹Ÿæ²¡æœ‰é—®é¢˜(å¼ºç±»åž‹è¯­è¨€ä¸å…è®¸)ï¼Œè™½ç„¶å‡½æ•°å†…éƒ¨å¹¶ä¸éœ€è¦è¿™äº›å‚æ•°:12abs(10, &apos;blablabla&apos;); // è¿”å›ž10abs(-9, &apos;haha&apos;, &apos;hehe&apos;, null); // è¿”å›ž9 ä¼ å…¥çš„å‚æ•°æ¯”å®šä¹‰çš„å°‘ä¹Ÿæ²¡æœ‰é—®é¢˜:1abs(); // è¿”å›žNaN æ­¤æ—¶abs(x)å‡½æ•°çš„å‚æ•°xå°†æ”¶åˆ°undefinedï¼Œè®¡ç®—ç»“æžœä¸ºNaNã€‚è¦é¿å…æ”¶åˆ°undefinedï¼Œå¯ä»¥å¯¹å‚æ•°è¿›è¡Œæ£€æŸ¥:12345678910function abs(x) &#123; if (typeof x !== &apos;number&apos;) &#123; throw &apos;Not a number&apos;; &#125; if (x &gt;= 0) &#123; return x; &#125; else &#123; return -x; &#125;&#125; argumentsJavaScriptè¿˜æœ‰ä¸€ä¸ªå…è´¹èµ é€çš„å…³é”®å­—argumentsï¼Œå®ƒåªåœ¨å‡½æ•°å†…éƒ¨èµ·ä½œç”¨ï¼Œå¹¶ä¸”æ°¸è¿œæŒ‡å‘å½“å‰å‡½æ•°çš„è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚argumentsç±»ä¼¼Arrayä½†å®ƒä¸æ˜¯ä¸€ä¸ªArray:1234567function sayHello () &#123; //éªŒè¯argumentså°è£…äº†æ‰€æœ‰çš„è°ƒç”¨å‚æ•° for (var i = 0; i &lt; arguments.length; i++) &#123; console.log(&apos;arg&apos; + i +&apos; = &apos; + arguments[i]) &#125;&#125;sayHello(&apos;æŽå½¤&apos;,22,&apos;ä¸Šæµ·&apos;,&apos;Java-JavaScript-Python&apos;); åˆ©ç”¨argumentsï¼Œä½ å¯ä»¥èŽ·å¾—è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿å‡½æ•°ä¸å®šä¹‰ä»»ä½•å‚æ•°ï¼Œè¿˜æ˜¯å¯ä»¥æ‹¿åˆ°å‚æ•°çš„å€¼.å®žé™…ä¸Šargumentsæœ€å¸¸ç”¨äºŽåˆ¤æ–­ä¼ å…¥å‚æ•°çš„ä¸ªæ•°ã€‚ä½ å¯èƒ½ä¼šçœ‹åˆ°è¿™æ ·çš„å†™æ³•:12345678910// foo(a[, b], c)// æŽ¥æ”¶2~3ä¸ªå‚æ•°ï¼Œbæ˜¯å¯é€‰å‚æ•°ï¼Œå¦‚æžœåªä¼ 2ä¸ªå‚æ•°ï¼Œbé»˜è®¤ä¸ºnullï¼šfunction foo(a, b, c) &#123; if (arguments.length === 2) &#123; // å®žé™…æ‹¿åˆ°çš„å‚æ•°æ˜¯aå’Œbï¼Œcä¸ºundefined c = b; // æŠŠbèµ‹ç»™c b = null; // bå˜ä¸ºé»˜è®¤å€¼ &#125; // ...&#125; è¦æŠŠä¸­é—´çš„å‚æ•°bå˜ä¸ºâ€œå¯é€‰â€å‚æ•°ï¼Œå°±åªèƒ½é€šè¿‡argumentsåˆ¤æ–­ï¼Œç„¶åŽé‡æ–°è°ƒæ•´å‚æ•°å¹¶èµ‹å€¼ã€‚ restå‚æ•°ç”±äºŽJavaScriptå‡½æ•°å…è®¸æŽ¥æ”¶ä»»æ„ä¸ªå‚æ•°ï¼ŒäºŽæ˜¯æˆ‘ä»¬å°±ä¸å¾—ä¸ç”¨argumentsæ¥èŽ·å–æ‰€æœ‰å‚æ•°:1234567891011function foo(a, b) &#123; var i, rest = []; if (arguments.length &gt; 2) &#123; for (i = 2; i&lt;arguments.length; i++) &#123; rest.push(arguments[i]); &#125; &#125; console.log(&apos;a = &apos; + a); console.log(&apos;b = &apos; + b); console.log(rest);&#125; ä¸ºäº†èŽ·å–é™¤äº†å·²å®šä¹‰å‚æ•°aã€bä¹‹å¤–çš„å‚æ•°ï¼Œæˆ‘ä»¬ä¸å¾—ä¸ç”¨argumentsï¼Œå¹¶ä¸”å¾ªçŽ¯è¦ä»Žç´¢å¼•2å¼€å§‹ä»¥ä¾¿æŽ’é™¤å‰ä¸¤ä¸ªå‚æ•°ï¼Œè¿™ç§å†™æ³•å¾ˆåˆ«æ‰­ï¼Œåªæ˜¯ä¸ºäº†èŽ·å¾—é¢å¤–çš„restå‚æ•°ï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•?ES6æ ‡å‡†(æ³¨æ„æµè§ˆå™¨æ˜¯å¦æ”¯æŒES6)å¼•å…¥äº†restå‚æ•°ï¼Œä¸Šé¢çš„å‡½æ•°å¯ä»¥æ”¹å†™ä¸º:1234567891011121314151617function foo(a, b, ...rest) &#123; console.log(&apos;a = &apos; + a); console.log(&apos;b = &apos; + b); console.log(rest);&#125;foo(1, 2, 3, 4, 5);// ç»“æžœ:// a = 1// b = 2// Array [ 3, 4, 5 ]foo(1);// ç»“æžœ:// a = 1// b = undefined// Array [] restå‚æ•°åªèƒ½å†™åœ¨æœ€åŽï¼Œå‰é¢ç”¨â€¦æ ‡è¯†ï¼Œä»Žè¿è¡Œç»“æžœå¯çŸ¥ï¼Œä¼ å…¥çš„å‚æ•°å…ˆç»‘å®šaã€bï¼Œå¤šä½™çš„å‚æ•°ä»¥æ•°ç»„å½¢å¼äº¤ç»™å˜é‡restï¼Œæ‰€ä»¥ï¼Œä¸å†éœ€è¦argumentsæˆ‘ä»¬å°±èŽ·å–äº†å…¨éƒ¨å‚æ•°ã€‚å¦‚æžœä¼ å…¥çš„å‚æ•°è¿žæ­£å¸¸å®šä¹‰çš„å‚æ•°éƒ½æ²¡å¡«æ»¡ï¼Œä¹Ÿä¸è¦ç´§ï¼Œrestå‚æ•°ä¼šæŽ¥æ”¶ä¸€ä¸ªç©ºæ•°ç»„(æ³¨æ„ä¸æ˜¯undefined)ã€‚ å°å¿ƒä½ çš„returnè¯­å¥JavaScriptå¼•æ“Žæœ‰ä¸€ä¸ªåœ¨è¡Œæœ«è‡ªåŠ¨æ·»åŠ åˆ†å·çš„æœºåˆ¶ï¼Œè¿™å¯èƒ½è®©ä½ æ ½åˆ°returnè¯­å¥çš„ä¸€ä¸ªå¤§å‘:12345function foo() &#123; return &#123; name: &apos;foo&apos; &#125;;&#125;foo(); // &#123; name: &apos;foo&apos; &#125; å¦‚æžœæŠŠreturnè¯­å¥æ‹†æˆä¸¤è¡Œ:123456function foo() &#123; return &#123; name: &apos;foo&apos; &#125;;&#125;foo(); // undefined è¦å°å¿ƒäº†ï¼Œç”±äºŽJavaScriptå¼•æ“Žåœ¨è¡Œæœ«è‡ªåŠ¨æ·»åŠ åˆ†å·çš„æœºåˆ¶ï¼Œä¸Šé¢çš„ä»£ç å®žé™…ä¸Šå˜æˆäº†:1234function foo() &#123; return; // è‡ªåŠ¨æ·»åŠ äº†åˆ†å·ï¼Œç›¸å½“äºŽreturn undefined; &#123; name: &apos;foo&apos; &#125;; // è¿™è¡Œè¯­å¥å·²ç»æ²¡æ³•æ‰§è¡Œåˆ°äº†&#125; æ‰€ä»¥æ­£ç¡®çš„å¤šè¡Œå†™æ³•æ˜¯:12345function foo() &#123; return &#123; // è¿™é‡Œä¸ä¼šè‡ªåŠ¨åŠ åˆ†å·ï¼Œå› ä¸º&#123;è¡¨ç¤ºè¯­å¥å°šæœªç»“æŸ name: &apos;foo&apos; &#125;;&#125;\",\"categories\":[{\"name\":\"frontend\",\"slug\":\"frontend\",\"permalink\":\"http://ltyeamin.github.io/categories/frontend/\"}],\"tags\":[{\"name\":\"JavaScript\",\"slug\":\"JavaScript\",\"permalink\":\"http://ltyeamin.github.io/tags/JavaScript/\"}]}]}"}],"posts":[{"title":"Adobe Premiereè§†é¢‘å‰ªè¾‘å¿…å¤‡å¿«æ·é”®","slug":"Adobe Premiereè§†é¢‘å‰ªè¾‘å¿…å¤‡å¿«æ·é”®","date":"2020-01-01T10:19:23.000Z","updated":"2020-01-08T12:55:22.000Z","comments":true,"path":"2020/01/01/Adobe Premiereè§†é¢‘å‰ªè¾‘å¿…å¤‡å¿«æ·é”®/","link":"","permalink":"http://ltyeamin.github.io/2020/01/01/Adobe Premiereè§†é¢‘å‰ªè¾‘å¿…å¤‡å¿«æ·é”®/","excerpt":"","text":"åœ¨æˆ‘ä»¬æ—¥å¸¸å‰ªè¾‘è½¯ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œå¿«æ·é”®çš„å­¦ä¹ æ˜¯å¿…ä¸å¯å°‘çš„ä¸€çŽ¯ï¼Œç†Ÿç»ƒåœ°ä½¿ç”¨ä»–ä»¬å¯ä»¥æ˜¾è‘—æé«˜æˆ‘ä»¬çš„å‰ªè¾‘æ•ˆçŽ‡ï¼Œæœ¬é—®ï¼Œæˆ‘å°±æ¥åˆ†äº«ä¸€ä¸‹ï¼ŒPRå‰ªè¾‘ä¸­æˆ‘ä½¿ç”¨æœ€å¤šçš„å‡ ä¸ªå‰ªè¾‘å¿«æ·é”®ï¼Œæ–°æ‰‹åˆ°è¿›é˜¶éƒ½æœ‰å“¦! æ–°æ‰‹èµ·æ­¥ åŠŸèƒ½æè¿° å¿«æ·é”® éšè—æ ‡é¢˜æ ,æ‰©å¤§æ˜¾ç¤ºåŒºåŸŸ Ctrl+\\ å‰ƒåˆ€å·¥å…·ï¼Œå¿«é€Ÿåˆ‡å¼€è§†é¢‘è½¨é“ï¼Œå¯¹å•å±‚ç´ æè¿›è¡Œåˆ†å‰² è‹±æ–‡çŠ¶æ€ä¸‹Cé”®+é¼ æ ‡å·¦å‡» å‰ƒåˆ€å·¥å…·ï¼Œå¿«é€Ÿåˆ‡å¼€è§†é¢‘è½¨é“ï¼Œå¯¹å¤šå±‚ç´ æè¿›è¡Œæ•´ä½“è£å‰ª Ctrl+K é€‰ä¸­è§†é¢‘è½¨é“ è‹±æ–‡çŠ¶æ€ä¸‹Vé”®+é¼ æ ‡å·¦å‡» åˆ é™¤é€‰ä¸­çš„ç‰‡æ®µ é€‰ä¸­Deleteé”® ç¼©æ”¾æ—¶é—´è½´ Alt+é¼ æ ‡æ»šè½® æ ‡è®°å…¥ç‚¹/å‡ºç‚¹è¿›è¡Œé¢„æ¸²æŸ“ï¼Œä¸ºäº†é¢„è§ˆæ—¶å€™ä¸å¡é¡¿ è‹±æ–‡è¾“å…¥æ³•ä¸‹Ié”®/Oé”®æ ‡è®°å‡ºå…¥ç‚¹ æ¸²æŸ“è¾“å‡ºï¼Œå¯¼å‡ºæœ€ç»ˆè¾“å‡ºè§†é¢‘ Ctrl+M è¿›é˜¶é«˜æ‰‹ åŠŸèƒ½æè¿° å¿«æ·é”® å¿«é€Ÿå¯¼å…¥ç´ æ é€‰æ‹©ç´ æï¼Œè‹±æ–‡çŠ¶æ€ä¸‹é€—å·éš”å¼€ Qå¿«é€Ÿåˆ é™¤å‰é¢çš„ç‰‡æ®µï¼ŒWå¿«é€Ÿåˆ é™¤åŽé¢çš„ç‰‡æ®µï¼Œä¸¤è€…åˆ é™¤åŽå‰åŽç‰‡æ®µä¼šè‡ªåŠ¨è¡”æŽ¥ è‹±æ–‡çŠ¶æ€ä¸‹Q/Wé”® å¿«é€Ÿæ’å…¥ç‰‡æ®µ Alt+Ctrl+é¼ æ ‡æ‹–åŠ¨ é€‰æ‹©å½“å‰ç´ æä½ç½®ä¹‹åŽçš„ç‰‡æ®µï¼Œæ–¹ä¾¿å¿«é€Ÿç§»åŠ¨ è‹±æ–‡çŠ¶æ€ä¸‹Aé”® æ”¹å˜é€ŸçŽ‡åŒ¹é…åˆ°ä¸€æ®µå›ºå®šæ—¶é—´ï¼Œç‰‡æ®µçš„æ’­æ”¾é€Ÿåº¦ä¼šæ ¹æ®é•¿åº¦ä¼šè‡ªåŠ¨æ”¹å˜ Ré”®+é¼ æ ‡æ‹–åŠ¨ ç»™æ—¶é—´çº¿æ‰“æ ‡æœºï¼Œå¡ç‚¹æ—¶å€™ç‰¹åˆ«æœ‰ç”¨ è‹±æ–‡è¾“å…¥æ³•Mé”® å…³é—­è¾¹ç¼˜å¸é™„ è‹±æ–‡è¾“å…¥æ³•Sé”® å¿«é€Ÿæ·»åŠ é»˜è®¤è½¬åœº Shift+Dé”® å•ç‹¬é€‰ä¸­ç´ æçš„è§†é¢‘/éŸ³é¢‘ï¼Œå¿«é€Ÿå–æ¶ˆéŸ³è§†é¢‘é“¾æŽ¥ Alt+é¼ æ ‡å·¦é”® æŸ¥çœ‹PRå¿«æ·é”®é¢æ¿ï¼Œå¯ä»¥æ‰¾åˆ°å¯¹åº”çš„å¿«æ·é”® Ctrl+Alt+K const dp0 = new DPlayer({ container: document.getElementById('dplayer0'), screenshot: true, video: { url: 'http://q3j85ddid.bkt.clouddn.com/videos/pr/2020-1080P.mp4' }, subtitle: { url: 'webvtt.vtt' }, danmaku: { id: 'demo', api: 'https://api.prprpr.me/dplayer/' } });","categories":[{"name":"video-cut","slug":"video-cut","permalink":"http://ltyeamin.github.io/categories/video-cut/"}],"tags":[{"name":"Primiere","slug":"Primiere","permalink":"http://ltyeamin.github.io/tags/Primiere/"}]},{"title":"ES6å›žé¡¾","slug":"ES6å›žé¡¾","date":"2020-01-01T02:19:23.000Z","updated":"2020-01-08T12:48:47.000Z","comments":true,"path":"2020/01/01/ES6å›žé¡¾/","link":"","permalink":"http://ltyeamin.github.io/2020/01/01/ES6å›žé¡¾/","excerpt":"","text":"1. äº†è§£ES61.1 ä¸ºä»€ä¹ˆè¦å›žé¡¾ES6 ä½œä¸ºåŽç«¯å·¥ç¨‹å¸ˆï¼Œå­¦ä¹ å‰ç«¯çŸ¥è¯†ï¼Œéµå¾ªäººæ— æˆ‘æœ‰ã€äººæœ‰æˆ‘ä¼˜çš„åŽŸåˆ™ï¼Œä¿æŒç«žäº‰åŠ› çŽ°åœ¨ä½¿ç”¨çš„ä¸»æµå‰ç«¯æ¡†æž¶éƒ½æ˜¯åŸºäºŽES6ï¼Œå­¦å¥½å‰ç«¯ï¼ŒES6+å°±æ˜¯å¿…ä¿®è¯¾ï¼ŒåŽŸç”ŸJSçŽ©çš„æºœï¼Œä»€ä¹ˆæµè¡Œæ¡†æž¶éƒ½æ˜¯æµ®äº‘ã€‚ æƒ³åšå…¨æ ˆå·¥ç¨‹å¸ˆï¼Œèƒ½å¤Ÿåœ¨å…¬å¸ç‹¬å½“ä¸€é¢çš„äººç»å¯¹æ˜¯å—äºº(å°¤å…¶æ˜¯è€æ¿)æ¬¢è¿Žçš„äººï¼Œå¦å¤–ï¼Œè‡ªä¸»åˆ›ä¸šçš„å¿«é€Ÿé¦–é€‰ã€‚ ç«™åœ¨é¡¹ç›®å®è§‚è§’åº¦ç»Ÿç­¹ï¼Œä¸Žä¸åŒæŠ€æœ¯æ ˆå›¢é˜Ÿç›¸äº’é…åˆï¼Œç®¡ç†è€…å‰æœŸç€é‡ç‚¹è‚¯å®šä¸šåŠ¡å’ŒæŠ€æœ¯èµ·æ­¥ï¼ŒåŽç»­è€ƒè™‘çš„è§’åº¦å°±è¦è½¬ç§»åˆ°äº§å“å’Œå¸‚åœºã€‚ 1.2 ä»€ä¹ˆæ˜¯ES6ES6ï¼Œæ˜¯ECMAScript 6çš„ç®€ç§°ï¼Œå®ƒæ˜¯ JavaScript è¯­è¨€çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œå·±äºŽ 2015 å¹´ 6 æœˆæ­£å¼å‘å¸ƒã€‚ å®ƒçš„ç›®æ ‡æ˜¯ä½¿ JavaScriptè¯­è¨€å¯ä»¥ç”¨äºŽç¼–å†™å¤æ‚çš„å¤§åž‹åº”ç”¨ç¨‹åºï¼Œæˆä¸ºä¼ä¸šçº§å¼€å‘è¯­è¨€ ã€‚ 1.3 å‰ç«¯å‘å±•å² web1.0æ—¶ä»£ æœ€åˆçš„ç½‘é¡µä»¥HTMLä¸ºä¸»ï¼Œæ˜¯çº¯é™æ€çš„ç½‘é¡µã€‚ç½‘é¡µæ˜¯åªè¯»çš„ï¼Œä¿¡æ¯æµåªèƒ½ä»ŽæœåŠ¡çš„åˆ°å®¢æˆ·ç«¯å•å‘æµé€šã€‚å¼€å‘äººå‘˜ä¹Ÿåªå…³å¿ƒé¡µé¢çš„æ ·å¼å’Œå†…å®¹å³å¯ ã€‚ç½‘é¡µæ˜¯â€œåªè¯»çš„â€ï¼Œç”¨æˆ·åªèƒ½æœç´¢ä¿¡æ¯ï¼Œæµè§ˆä¿¡æ¯ã€‚Web1.0æ˜¯ç”±å†…å®¹é©±åŠ¨çš„ï¼Œå†…å®¹æ¥è‡ªäºŽå•†ä¸šæœºæž„ï¼ŒæœåŠ¡äºŽæ¶ˆè´¹è€…ï¼› web2.0æ—¶ä»£ 1995å¹´ï¼Œç½‘æ™¯å·¥ç¨‹å¸ˆBrendan Eich èŠ±äº†10å¤©æ—¶é—´è®¾è®¡äº†JavaScriptè¯­è¨€ã€‚1996å¹´ï¼Œå¾®è½¯å‘å¸ƒäº†JScriptï¼Œå…¶å®žæ˜¯JavaScriptçš„é€†å‘å·¥ç¨‹å®žçŽ°ã€‚1997å¹´ï¼Œä¸ºäº†ç»Ÿä¸€å„ç§ä¸åŒscriptè„šæœ¬è¯­è¨€ï¼ŒECMAï¼ˆæ¬§æ´²è®¡ç®—æœºåˆ¶é€ å•†åä¼šï¼‰ä»¥JavaScriptä¸ºåŸºç¡€ï¼Œåˆ¶å®šäº†ECMAscript æ ‡å‡†è§„èŒƒã€‚JavaScriptå’ŒJScriptéƒ½æ˜¯ ECMAScript çš„æ ‡å‡†å®žçŽ°è€…ï¼ŒéšåŽå„å¤§æµè§ˆå™¨åŽ‚å•†çº·çº·å®žçŽ°äº†ECMAScript æ ‡å‡† ã€‚ æ‰€ä»¥ï¼ŒECMAScriptæ˜¯æµè§ˆå™¨è„šæœ¬è¯­è¨€çš„è§„èŒƒï¼Œè€Œå„ç§æˆ‘ä»¬ç†ŸçŸ¥çš„jsè¯­è¨€ï¼Œå¦‚JavaScriptåˆ™æ˜¯è§„èŒƒçš„å…·ä½“å®žçŽ° ã€‚ ä¹‹åŽï¼ŒECMAScriptå°±è¿›å…¥äº†å¿«é€Ÿå‘å±•æœŸã€‚ 1998å¹´6æœˆï¼ŒECMAScript 2.0 å‘å¸ƒã€‚1999å¹´12æœˆï¼ŒECMAScript 3.0 å‘å¸ƒã€‚è¿™æ—¶ï¼ŒECMAScript è§„èŒƒæœ¬èº«ä¹Ÿç›¸å¯¹æ¯”è¾ƒå®Œå–„å’Œç¨³å®šäº†ï¼Œä½†æ˜¯æŽ¥ä¸‹æ¥çš„äº‹æƒ…ï¼Œå°±æ¯”è¾ƒæ‚²å‰§äº†ã€‚2007å¹´10æœˆã€‚ã€‚ã€‚ã€‚ECMAScript 4.0 è‰æ¡ˆå‘å¸ƒã€‚è¿™æ¬¡çš„æ–°è§„èŒƒï¼ŒåŽ†æ—¶é¢‡ä¹…ï¼Œè§„èŒƒçš„æ–°å†…å®¹ä¹Ÿæœ‰äº†å¾ˆå¤šäº‰è®®ã€‚åœ¨åˆ¶å®šES4çš„æ—¶å€™ï¼Œæ˜¯åˆ†æˆäº†ä¸¤ä¸ªå·¥ä½œç»„åŒæ—¶å·¥ä½œï¼š â€‹ a). ä¸€è¾¹æ˜¯ä»¥ Adobe, Mozilla, Opera å’Œ Googleä¸ºä¸»çš„ ECMAScript 4 å·¥ä½œç»„ã€‚ â€‹ b). ä¸€è¾¹æ˜¯ä»¥ Microsoft å’Œ Yahoo ä¸ºä¸»çš„ ECMAScript 3.1 å·¥ä½œç»„ã€‚ ECMAScript 4 çš„å¾ˆå¤šä¸»å¼ æ¯”è¾ƒæ¿€è¿›ï¼Œæ”¹åŠ¨è¾ƒå¤§ã€‚è€Œ ECMAScript 3.1 åˆ™ä¸»å¼ å°å¹…æ›´æ–°ã€‚æœ€ç»ˆç»è¿‡ TC39 çš„ä¼šè®®ï¼Œå†³å®šå°†ä¸€éƒ¨åˆ†ä¸é‚£ä¹ˆæ¿€è¿›çš„æ”¹åŠ¨ä¿ç•™å‘å¸ƒä¸º ECMAScript 3.1ï¼Œè€ŒES4çš„å†…å®¹ï¼Œåˆ™å»¶ç»­åˆ°äº†åŽæ¥çš„ECMAScript5å’Œ6ç‰ˆæœ¬ä¸­ ã€‚ 2009å¹´12æœˆï¼ŒECMAScript 5 å‘å¸ƒã€‚2011å¹´6æœˆï¼ŒECMAScript 5.1 å‘å¸ƒã€‚2015å¹´6æœˆï¼ŒECMAScript 6ï¼Œä¹Ÿå°±æ˜¯ ECMAScript 2015 å‘å¸ƒäº†ã€‚ å¹¶ä¸”ä»Ž ECMAScript 6 å¼€å§‹ï¼Œå¼€å§‹é‡‡ç”¨å¹´å·æ¥åšç‰ˆæœ¬ã€‚å³ ECMAScript 2015ï¼Œå°±æ˜¯ECMAScript6ã€‚2016å¹´ 6æœˆï¼Œå°å¹…ä¿®è®¢çš„ã€ŠECMAScript 2016æ ‡å‡†ã€‹ (ç®€ç§° ES2016)å¦‚æœŸå‘å¸ƒï¼Œ è¿™ä¸ªç‰ˆæœ¬å¯ä»¥çœ‹ä½œæ˜¯ ES6.1ç‰ˆï¼Œå› ä¸ºä¸¤è€…çš„å·®å¼‚éžå¸¸å°(åªæ–°å¢žäº†æ•°ç»„å®žä¾‹çš„ includes æ–¹æ³• å’ŒæŒ‡æ•°è¿ç®—ç¬¦)ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥è®¤ä¸ºæ˜¯åŒ ä¸€ä¸ªæ ‡å‡† ã€‚2017 å¹´ 6 æœˆå‘å¸ƒäº†ES2017 æ ‡å‡†ã€‚å› æ­¤ï¼Œ ES6 æ—¢æ˜¯ä¸€ä¸ªåŽ†å²åè¯ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ³›æŒ‡ï¼Œå«ä¹‰æ˜¯ 5.1 ç‰ˆæœ¬ä»¥åŽçš„ JavaScript çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œæ¶µç›–äº† ES2015ã€ES2016ã€ ES2017ã€ES2018ã€ES2019ç­‰ï¼Œè€ŒES2015 åˆ™æ˜¯æ­£å¼åç§°ï¼Œç‰¹æŒ‡å½“å¹´å‘å¸ƒçš„æ­£å¼ ç‰ˆæœ¬çš„è¯­è¨€æ ‡å‡† Web 2.0å…è®¸ç”¨æˆ·è‡ªä¸»ä¸Šä¼ å†…å®¹ï¼Œåˆ†äº«å†…å®¹ã€‚ å®ƒçš„åˆè¡·å°±åœ¨äºŽè®©äº’è”ç½‘æ›´åŠ è´´è¿‘æ°‘ä¸»ï¼Œä½¿ç”¨æˆ·æ›´å¥½çš„äº’åŠ¨ã€‚ Web3.0æ—¶ä»£ Web3.0çš„ä¸€ä¸ªå…³é”®å…ƒç´ æ˜¯â€œè¯­ä¹‰ç½‘ç»œâ€ï¼ŒWeb 3.0ä½¿å¾—åœ¨çº¿åº”ç”¨å’Œç½‘ç«™å¯ä»¥æŽ¥æ”¶åˆ°å·²ç»åœ¨ç½‘ç»œä¸Šçš„ä¿¡æ¯ï¼Œå¹¶å°†æ–°çš„ä¿¡æ¯å’Œæ•°æ®åé¦ˆç»™ç”¨æˆ·ã€‚æ¯”å¦‚æ™ºèƒ½æŽ¨èã€åŒºå—é“¾åœºæ™¯ä¸‹çš„åº”ç”¨ã€‚ å…³äºŽWeb3.0çš„å®žçŽ°å­˜åœ¨ä¸€äº›æŒ‘æˆ˜ã€‚ç›®å‰å¤„äºŽæ¦‚å¿µåœºæ™¯çŠ¶æ€ã€‚ä½†æ˜¯ä»Žé•¿è¿œæ¥çœ‹ï¼Œäººç±»æ­£åœ¨å¤„äºŽäº’è”ç½‘å˜é©æ—¶ä»£çš„è¾¹ç¼˜ï¼Œç›¸ä¿¡æœªæ¥ä¼šé¢ è¦†çŽ°åœ¨çš„äº’è”ç½‘æ ¼å±€ã€‚ 2. ES6æ–°ç‰¹æ€§2.1 letå’Œconstå˜é‡ä¿®é¥°ç¬¦æˆ‘ä»¬åœ¨JSä¸­å®šä¹‰å˜é‡çš„æ—¶å€™ï¼Œä¸€ç›´åªæœ‰ä¸€ä¸ªå…³é”®å­—:varï¼Œä½†æ˜¯å®ƒæœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å®šä¹‰çš„å˜é‡æœ‰æ—¶ä¼šèŽ«åå…¶å¦™çš„æˆä¸ºå…¨å±€å˜é‡ã€‚ ä¾‹å¦‚è¿™æ ·ä¸€æ®µä»£ç : 1234for(var i = 0; i &lt; 5; i++)&#123; console.log(i); // ä¸€æ¬¡å¾ªçŽ¯è¾“å‡º0-4&#125; console.log(i); // è¾“å‡º5 æˆ‘ä»¬éƒ½çŸ¥é“JSæ˜¯æ˜¯å¼±è¯­è¨€ï¼ŒåŠ¨æ€è„šæœ¬è¯­è¨€ï¼Œè¿™é—¨è¯­è¨€çš„ä½œç”¨åŸŸæ˜¯åˆ†ä¸ºå…¨å±€ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨å°±ï¼Œå¹¶ä¸æ˜¯Cã€C++ã€Javaçš„å¤§æ‹¬å·çš„ä½œç”¨åŸŸã€‚ è¿™å—ç›¸å½“äºŽåœ¨forå¾ªçŽ¯å¤–é¢å®šä¹‰äº†ä¸€ä¸ªiå˜é‡ï¼Œjsç§°ä¸ºå˜é‡æå‡ï¼Œåªè¦åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸï¼Œå¤§å®¶éƒ½å¯ä»¥ç”¨ã€‚ ä¸Šè¿°ä»£ç forå¾ªçŽ¯å¤–æ˜¯å…¨å±€å˜é‡åŒºåŸŸï¼Œæ‰€ä»¥è¿™ä¸ªiæ˜¯å…¨å±€å˜é‡ï¼Œè™½ç„¶åœ¨å¾ªçŽ¯å¤–éƒ¨ä¹Ÿå¯ä»¥èŽ·å–åˆ°å˜é‡içš„å€¼ï¼Œæ˜¾ç„¶å˜é‡içš„ä½œç”¨åŸŸèŒƒå›´å¤ªå¤§äº†ï¼Œåœ¨åšå¤æ‚é¡µé¢æ—¶ï¼Œä¼šå¸¦æ¥å¾ˆå¤§çš„é—®é¢˜ã€‚ æ‰€ä»¥ES6ä½æˆ‘ä»¬æä¾›äº†letå˜é‡ä¿®é¥°ç¬¦ï¼Œletæ‰€å£°æ˜Žçš„å˜é‡ï¼Œåªåœ¨ketå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆã€‚ 1234for(let i = 0; i &lt; 5; i++)&#123; console.log(i); // ä¸€æ¬¡å¾ªçŽ¯è¾“å‡º0-4&#125; console.log(i); // ä¼šæŠ¥é”™ï¼šUncaught ReferenceError: i is not defined at &lt;anonymous&gt;:1:13 è¿™æ ·ï¼Œå°±æŠŠå˜é‡içš„ä½œç”¨åŸŸæŽ§åˆ¶åœ¨å¾ªçŽ¯èŒƒå›´å†…äº†ã€‚ constå˜é‡å…¶å®žç›¸å½“äºŽæˆ‘ä»¬Javaçš„finalå˜é‡ä¿®é¥°ç¬¦ï¼Œä¸€æ—¦å®šä¹‰äº†ï¼Œä¸èƒ½è¢«ä¿®æ”¹ã€‚ 12const a = 1; // å®šä¹‰ä¸€ä¸ªå¸¸é‡aa = 6; // å¦‚æžœèµ‹å€¼ä¼šæŠ¥é”™ï¼šUncaught TypeError: Assignment to constant variable. at &lt;anonymous&gt;:1:3 2.2 å­—ç¬¦ä¸²æ‰©å±•åœ¨ES6ä¸­ï¼Œä¸ºå­—ç¬¦ä¸²æ‰©å±•äº†å‡ ä¸ªæ–°çš„APIï¼š includes() ï¼šè¿”å›žå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚ startsWith() ï¼šè¿”å›žå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŽŸå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚ endsWith() ï¼šè¿”å›žå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŽŸå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚ 1234567let str = \"hello litong\";console.log(str, \" ä¸­æ˜¯å¦åŒ…å«äº†tong =&gt; \", str.includes(\"tong\")); // trueconsole.log(str, \" ä¸­æ˜¯å¦åŒ…å«äº†lisi =&gt; \", str.includes(\"lisi\")); // fasleconsole.log(str, \" ä¸­æ˜¯å¦ä»¥hå¼€å¤´ =&gt; \", str.startsWith(\"h\")); // trueconsole.log(str, \" ä¸­æ˜¯å¦ä»¥aå¼€å¤´ =&gt; \", str.startsWith(\"a\")); // fasleconsole.log(str, \" ä¸­æ˜¯å¦ä»¥aç»“æŸ =&gt; \", str.endsWith(\"g\")); // trueconsole.log(str, \" ä¸­æ˜¯å¦ä»¥hç»“æŸ =&gt; \", str.endsWith(\"h\")); // fasle é™¤æ­¤ä¹‹å¤–ï¼ŒES6ä½æˆ‘ä»¬æä¾›äº†å­—ç¬¦ä¸²æ¨¡æ¿æ ‡è®°ï¼Œæ¯”å¦‚ï¼š 123456let str = 'litong\\næœªæ¥å¾ˆç¾Ž\\nä½ è¦åŠ æ²¹\\n'; // ä»¥å‰çš„å†™æ³•let words = `litongæœªæ¥å¾ˆç¾Žä½ è¦åŠ æ²¹`; // çŽ°åœ¨çš„å†™æ³•å¯ä»¥æ›¿ä»£ä»¥å‰çš„å†™æ³• 2.3 è§£æž„è¡¨è¾¾å¼ä»€ä¹ˆæ˜¯è§£æž„ï¼Ÿ ES6ä¸­å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼ä»Žæ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œç„¶åŽå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œè¿™è¢«ç§°ä¸ºè§£æž„ (Destructuring)ã€‚ 2.3.1 æ•°ç»„è§£æž„å‡è®¾çŽ°æœ‰ä¸€ä¸ªæ•°ç»„ä¹‹å‰ï¼Œæˆ‘æƒ³èŽ·å–å…¶ä¸­çš„å€¼ï¼Œåªèƒ½é€šè¿‡è§’æ ‡ã€‚ES6å¯ä»¥è¿™æ ·ï¼š 123456789let arr = [1,2,3]; // å‡è®¾çš„æ•°ç»„const [x,y,z] = arr; // xï¼Œyï¼Œzå°†ä¸Žarrä¸­çš„æ¯ä¸ªä½ç½®å¯¹åº”æ¥å–å€¼console.log(x,y,z); // æ‰“å°1 2 3const [a] = arr; //åªåŒ¹é…1ä¸ªå‚æ•°console.log(a); // åªæ‰“å°1const [b,,c] = arr; // åªåŒ¹é…ä»»æ„çš„å‡ ä¸ªå‚æ•°console.log(b,c); // æ‰“å°1 3 2.3.2 å¯¹è±¡è§£æž„ä¾‹å¦‚æœ‰ä¸ªstaffå¯¹è±¡ï¼š 12345const staff = &#123; name:\"litong\", age:28, skills: ['java', 'js', 'css', 'docker', 'python', 'linux', 'k8s', 'es', 'redis', 'MQ', 'MySQL']&#125; æˆ‘ä»¬å¯ä»¥è¿™æ ·èµ‹å€¼ï¼š 1234567// è§£æž„è¡¨è¾¾å¼èŽ·å–å€¼const &#123;name,age,skills&#125; = staff;console.log(name); // æ‰“å° litongconsole.log(age); // æ‰“å° 28console.log(skills); // æ‰“å° [\"java\", \"js\", \"css\", \"docker\", \"python\", \"linux\", \"k8s\", \"es\", \"redis\", \"MQ\", \"MySQL\"]const &#123;name:nickname&#125; = staff;console.log(nickname); // å¦‚è¿‡æƒ³è¦ç”¨å…¶å®ƒå˜é‡æŽ¥æ”¶ï¼Œéœ€è¦é¢å¤–æŒ‡å®šåˆ«åï¼ŒåŒæ ·èƒ½å¤Ÿæ‰“å° litong 2.4 å‡½æ•°ä¼˜åŒ–åœ¨ES6ä¸­ï¼Œå¯¹å‡½æ•°çš„æ“ä½œåšäº†ä¼˜åŒ–ï¼Œä½¿å¾—æˆ‘ä»¬åœ¨æ“ä½œå‡½æ•°æ—¶æ›´åŠ çš„ä¾¿æ·ã€‚ 2.4.1 å‡½æ•°å‚æ•°å€¼é»˜è®¤å€¼åœ¨ES6ä»¥å‰ï¼Œæˆ‘ä»¬æ— æ³•ç»™ä¸€ä¸ªå‡½æ•°å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œåªèƒ½é‡‡ç”¨å˜é€šå†™æ³•ï¼š 12345function add(a , b) &#123; b = b || 1; // åˆ¤æ–­bæ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºå°±ç»™é»˜è®¤å€¼1 return a + b;&#125; console.log(add(10)); çŽ°åœ¨å¯ä»¥è¿™ä¹ˆå†™ï¼š 12345// ç»™bè®¾ç½®é»˜è®¤å€¼function add(a , b = 1) &#123; return a + b;&#125;console.log(add(10)); 2.4.2 ç®­å¤´å‡½æ•°ES6ä¸­å®šä¹‰å‡½æ•°çš„ç®€å†™æ–¹å¼ï¼š 123456789101112131415161718192021222324252627var print = function (obj) &#123;console.log(obj);&#125;// ä¸€ä¸ªå‚æ•°çš„å‡½æ•°å¯ç®€å†™ä¸ºï¼švar print2 = obj =&gt; console.log(obj);var sum = function (a , b) &#123;return a + b;&#125; // å¤šä¸ªå‚æ•°çš„å‡½æ•°å¯ç®€å†™ä¸ºï¼švar sum2 = (a,b) =&gt; a+b;// æ²¡æœ‰å‚æ•°æ—¶ï¼Œéœ€è¦é€šè¿‡()è¿›è¡Œå ä½ï¼Œä»£è¡¨å‚æ•°éƒ¨åˆ†let sayHello = () =&gt; console.log(\"hello!\");sayHello(); // è¾“å‡ºhello!// ä»£ç ä¸æ­¢ä¸€è¡Œï¼Œå¯ä»¥ç”¨ &#123;&#125; æ‹¬èµ·æ¥var sum3 = (a,b) =&gt; &#123; b = 30; return a + b;&#125; // å¤šè¡Œï¼Œæ²¡æœ‰è¿”å›žå€¼let sayHello = () =&gt; &#123; console.log(\"hello!\"); console.log(\"world!\");&#125;sayHello() 2.4.3 å¯¹è±¡çš„å‡½æ•°å±žæ€§ç®€å†™12345678910111213let person = &#123; name: \"jack\", // ä»¥å‰å†™æ³•ï¼š eat: function (food) &#123; console.log(this.name + \"åœ¨åƒ\" + food); &#125;, // ç®­å¤´å‡½æ•°ç‰ˆï¼š eat2: food =&gt; console.log(person.name + \"åœ¨åƒ\" + food), // è¿™é‡Œæ‹¿ä¸åˆ°thisï¼Œå°±ä¸èƒ½this.name // ç®€å†™ç‰ˆï¼š eat3(food)&#123; console.log(this.name + \"åœ¨åƒ\" + food); &#125;&#125; 2.4.4 ç®­å¤´å‡½æ•°ç»“åˆè§£æž„è¡¨è¾¾å¼123456789101112const person = &#123; name:\"jack\", age:21, language: ['java','js','css']&#125;function hello(person) &#123; console.log(\"hello,\" + person.name)&#125;// ç”¨ç®­å¤´å‡½æ•°å’Œè§£æž„è¡¨è¾¾å¼var hi = (&#123;name&#125;) =&gt; console.log(\"hello,\" + name);hi(person) 2.5 mapå’ŒreduceES6ä¸­ï¼Œæ•°ç»„æ–°å¢žäº†mapå’Œreduceæ–¹æ³•ã€‚ 2.5.1 map()map() ï¼šæŽ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œå°†åŽŸæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ç”¨è¿™ä¸ªå‡½æ•°å¤„ç†åŽæ”¾å…¥æ–°æ•°ç»„è¿”å›žã€‚ä¸¾ä¾‹ï¼šæœ‰ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œæˆ‘ä»¬å¸Œæœ›è½¬ä¸ºintæ•°ç»„ã€‚ 1234let arr = ['1','20','-5','3'];console.log(arr); // æ‰“å°['1', '20', '-5', '3']let newArr = arr.map(s =&gt; parseInt(s));console.log(newArr); // æ‰“å°[1, 20, -5, 3] 2.5.2 reduce()reduce() ï¼šæŽ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼ˆå¿…é¡»ï¼‰å’Œä¸€ä¸ªåˆå§‹å€¼ï¼ˆå¯é€‰ï¼‰ï¼Œè¯¥å‡½æ•°æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸Šä¸€æ¬¡reduceå¤„ç†çš„ç»“æžœ ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°ç»„ä¸­è¦å¤„ç†çš„ä¸‹ä¸€ä¸ªå…ƒç´  reduce() ä¼šä»Žå·¦åˆ°å³ä¾æ¬¡æŠŠæ•°ç»„ä¸­çš„å…ƒç´ ç”¨reduceå¤„ç†ï¼Œå¹¶æŠŠå¤„ç†çš„ç»“æžœä½œä¸ºä¸‹æ¬¡reduceçš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚å¦‚æžœæ˜¯ç¬¬ä¸€æ¬¡ï¼Œä¼šæŠŠå‰ä¸¤ä¸ªå…ƒç´ ä½œä¸ºè®¡ç®—å‚æ•°ï¼Œæˆ–è€…æŠŠç”¨æˆ·æŒ‡å®šçš„åˆå§‹å€¼ä½œä¸ºèµ·å§‹å‚æ•° ã€‚ 1234const arr = [1,20,-5,3]; // åˆå§‹åŒ–æ•°ç»„arr.reduce((a, b) =&gt; a + b); // è®¡ç®—ç»“æžœä¸º19arr.reduce((a, b) =&gt; a * b); // è®¡ç®—ç»“æžœä¸º-300arr.reduce((a, b) =&gt; a * b, 0); // å¤šåŠ ä¸ªåˆå§‹å€¼å‚æ•°ï¼Œè®¡ç®—ç»“æžœä¸º0 2.6 æ‰©å±•è¿ç®—ç¬¦æ‰©å±•è¿ç®—ç¬¦(spread)æ˜¯ä¸‰ä¸ªç‚¹(â€¦)ï¼Œ å°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ— ã€‚ 123456789101112131415console.log (...[1, 2, 3]); // 1 2 3console.log(1, ...[2, 3, 4], 5); // 1 2 3 4 5function add(x, y) &#123; return x + y;&#125; var numbers = [1, 2];console.log(add(...numbers)); // 3// æ•°ç»„åˆå¹¶let arr = [...[1,2,3],...[4,5,6]];console.log(arr); // [1, 2, 3, 4, 5, 6]// ä¸Žè§£æž„è¡¨è¾¾å¼ç»“åˆconst [first, ...rest] = [1, 2, 3, 4, 5];console.log(first, rest) // 1 [2, 3, 4, 5]//å°†å­—ç¬¦ä¸²è½¬æˆæ•°ç»„console.log([...'hello']) // [\"h\", \"e\", \"l\", \"l\", \"o\"] 2.7 Promiseæ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æžœã€‚ä»Žè¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»Žå®ƒå¯ä»¥èŽ·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡Promiseçš„æž„é€ å‡½æ•°æ¥åˆ›å»ºPromiseå¯¹è±¡ï¼Œå¹¶åœ¨å†…éƒ¨å°è£…ä¸€ä¸ªå¼‚æ­¥æ‰§è¡Œçš„ç»“æžœ ã€‚ è¯­æ³•ï¼š 12345678const promise = new Promise(function(resolve, reject) &#123; // ... æ‰§è¡Œå¼‚æ­¥æ“ä½œ if (/* å¼‚æ­¥æ“ä½œæˆåŠŸ */)&#123; resolve(value);// è°ƒç”¨resolveï¼Œä»£è¡¨Promiseå°†è¿”å›žæˆåŠŸçš„ç»“æžœ &#125; else &#123; reject(error);// è°ƒç”¨rejectï¼Œä»£è¡¨Promiseä¼šè¿”å›žå¤±è´¥ç»“æžœ &#125;&#125;); è¿™æ ·ï¼Œåœ¨promiseä¸­å°±å°è£…äº†ä¸€æ®µå¼‚æ­¥æ‰§è¡Œçš„ç»“æžœã€‚ å¦‚æžœæˆ‘ä»¬æƒ³è¦ç­‰å¾…å¼‚æ­¥æ‰§è¡Œå®Œæˆï¼Œåšä¸€äº›äº‹æƒ…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡promiseçš„thenæ–¹æ³•æ¥å®žçŽ°,è¯­æ³•ï¼š 123promise.then(function(value)&#123; // å¼‚æ­¥æ‰§è¡ŒæˆåŠŸåŽçš„å›žè°ƒ&#125;); å¦‚æžœæƒ³è¦å¤„ç†promiseå¼‚æ­¥æ‰§è¡Œå¤±è´¥çš„äº‹ä»¶ï¼Œè¿˜å¯ä»¥è·Ÿä¸Šcatchï¼š 12345promise.then(function(value)&#123; // å¼‚æ­¥æ‰§è¡ŒæˆåŠŸåŽçš„å›žè°ƒ&#125;).catch(function(error)&#123; // å¼‚æ­¥æ‰§è¡Œå¤±è´¥åŽçš„å›žè°ƒ&#125;) ç¤ºä¾‹ï¼š 123456789101112131415161718const p = new Promise(function (resolve, reject) &#123; // è¿™é‡Œæˆ‘ä»¬ç”¨å®šæ—¶ä»»åŠ¡æ¨¡æ‹Ÿå¼‚æ­¥ setTimeout(() =&gt; &#123; const num = Math.random(); // éšæœºè¿”å›žæˆåŠŸæˆ–å¤±è´¥ if (num &lt; 0.5) &#123; resolve(\"æˆåŠŸï¼num:\" + num); // æˆåŠŸï¼num:0.4884028656598369 &#125; else &#123; reject(\"å‡ºé”™äº†ï¼num:\" + num); &#125; &#125;, 300)&#125;);// è°ƒç”¨promisep.then(function (msg) &#123; console.log(msg); &#125;).catch(function (msg) &#123; console.log(msg);&#125;) 2.8 setå’ŒmapES6æä¾›äº†Setå’ŒMapçš„æ•°æ®ç»“æž„ã€‚Setï¼Œæœ¬è´¨ä¸Žæ•°ç»„ç±»ä¼¼ã€‚ä¸åŒåœ¨äºŽSetä¸­åªèƒ½ä¿å­˜ä¸åŒå…ƒç´ ï¼Œå¦‚æžœå…ƒç´ ç›¸åŒä¼šè¢«å¿½ç•¥ã€‚å’ŒJavaä¸­çš„Seté›†åˆéžå¸¸ç›¸ä¼¼ã€‚ 12345678910// Setæž„é€ å‡½æ•°å¯ä»¥æŽ¥æ”¶ä¸€ä¸ªæ•°ç»„æˆ–ç©ºlet set = new Set();set.add(1);// [1]let set2 = new Set([2,3,4,5,5]); // æŽ¥æ”¶æ•°ç»„å¾—åˆ°[2,3,4,5]set.add(1);// æ·»åŠ set.clear();// æ¸…ç©ºset.delete(2);// åˆ é™¤æŒ‡å®šå…ƒç´ set.has(2); // åˆ¤æ–­æ˜¯å¦å­˜åœ¨set.forEach(function()&#123;&#125;)//éåŽ†å…ƒç´ set.size; // å…ƒç´ ä¸ªæ•°ã€‚æ˜¯å±žæ€§ï¼Œä¸æ˜¯æ–¹æ³• mapï¼Œæœ¬è´¨æ˜¯ä¸ŽObjectç±»ä¼¼çš„ç»“æž„ã€‚ä¸åŒåœ¨äºŽï¼ŒObjectå¼ºåˆ¶è§„å®škeyåªèƒ½æ˜¯å­—ç¬¦ä¸²ã€‚è€ŒMapç»“æž„çš„keyå¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ã€‚å³ï¼š objectæ˜¯ &lt;string,object&gt;é›†åˆ mapæ˜¯&lt;object,object&gt;é›†åˆ 1234567891011121314151617181920212223242526// mapæŽ¥æ”¶ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ æ˜¯é”®å€¼å¯¹æ•°ç»„const map = new Map([ ['key1','value1'], ['key2','value2'],])const set = new Set([ ['key1','value1'], ['key2','value2'],])const map2 = new Map(set) // æˆ–è€…æŽ¥æ”¶ä¸€ä¸ªsetconst map3 = new Map(map); // æˆ–è€…å…¶å®ƒmapmap.set(key, value);// æ·»åŠ map.clear(); // æ¸…ç©ºmap.delete(key);// åˆ é™¤æŒ‡å®šå…ƒç´ map.has(key); // åˆ¤æ–­æ˜¯å¦å­˜åœ¨map.forEach(function(key,value)&#123;&#125;) // éåŽ†å…ƒç´ map.size; // å…ƒç´ ä¸ªæ•°ã€‚æ˜¯å±žæ€§ï¼Œä¸æ˜¯æ–¹æ³•map.values() // èŽ·å–valueçš„è¿­ä»£å™¨map.keys() // èŽ·å–keyçš„è¿­ä»£å™¨map.entries() // èŽ·å–entryçš„è¿­ä»£å™¨for (let key of map.keys()) &#123; // éåŽ† console.log(key);&#125; console.log(...map.values()); //é€šè¿‡æ‰©å±•è¿ç®—ç¬¦è¿›è¡Œå±•å¼€ 2.9 classçš„åŸºæœ¬è¯­æ³•JavaScript è¯­è¨€çš„ä¼ ç»Ÿæ–¹æ³•æ˜¯é€šè¿‡æž„é€ å‡½æ•°å®šä¹‰äº•ç”Ÿæˆæ–°å¯¹è±¡ã€‚ES6ä¸­å¼•å…¥äº†classçš„æ¦‚å¿µï¼Œé€šè¿‡classå…³é”®å­—è‡ªå®šä¹‰ç±»ã€‚ å’ŒJavaå®šä¹‰ç±»çš„æ–¹å¼ç±»ä¼¼ï¼ŒåŸºæœ¬ç”¨æ³•å¦‚ä¸‹ï¼š 1234567891011121314151617181920class User &#123; // å®šä¹‰ä¸€ä¸ªclass constructor(name, age = 20)&#123; // æž„é€ æ–¹æ³• this.name = name; // æ·»åŠ å±žæ€§å¹¶ä¸”èµ‹å€¼ this.age = age; &#125; sayHello()&#123; // å®šä¹‰æ–¹æ³• return \"hello\"; &#125; static isAdult(age)&#123; //é™æ€æ–¹æ³• if(age &gt;= 18)&#123; return \"æˆå¹´äºº\"; &#125; return \"æœªæˆå¹´äºº\"; &#125;&#125; let user = new User(\"å¼ ä¸‰\");// æµ‹è¯•console.log(user); // User &#123;name: \"å¼ ä¸‰\", age: 20&#125;console.log(user.sayHello()); // helloconsole.log(User.isAdult(20)); // æˆå¹´äºº ç±»çš„ç»§æ‰¿: 1234567891011121314151617181920212223242526class User &#123; constructor(name, age = 20)&#123; // æž„é€ æ–¹æ³• this.name = name; // æ·»åŠ å±žæ€§å¹¶ä¸”èµ‹å€¼ this.age = age; &#125; sayHello()&#123; return \"hello\"; // å®šä¹‰æ–¹æ³• &#125; static isAdult(age)&#123; //é™æ€æ–¹æ³• if(age &gt;= 18)&#123; return \"æˆå¹´äºº\"; &#125; return \"æœªæˆå¹´äºº\"; &#125;&#125; class ZhangSan extends User &#123; // ç±»çš„ç»§æ‰¿ constructor()&#123; super(\"å¼ ä¸‰\", 30); //å¦‚æžœçˆ¶ç±»ä¸­çš„æž„é€ æ–¹æ³•æœ‰å‚æ•°ï¼Œé‚£ä¹ˆå­ç±»å¿…é¡»é€šè¿‡superè°ƒç”¨çˆ¶ç±»çš„æž„é€ æ–¹æ³• this.address = \"ä¸Šæµ·\"; //è®¾ç½®å­ç±»ä¸­çš„å±žæ€§ï¼Œä½ç½®å¿…é¡»å¤„äºŽsuperä¸‹é¢ &#125;&#125;// æµ‹è¯•let zs = new ZhangSan();console.log(zs.name, zs.address);console.log(zs.sayHello());console.log(ZhangSan.isAdult(20)); 2.10 Generatorè¿­ä»£å™¨Generator å‡½æ•°æ˜¯ ES6 æä¾›çš„ ä¸€ç§å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆï¼Œè¯­æ³•è¡Œä¸ºä¸Žä¼ ç»Ÿå‡½æ•°å®Œå…¨ä¸åŒ ã€‚Generatorå‡½æ•°æœ‰ä¸¤ä¸ªç‰¹å¾: ä¸€æ˜¯ functionå‘½ä»¤ä¸Žå‡½æ•°åä¹‹é—´æœ‰ä¸€ä¸ªæ˜Ÿå·: äºŒæ˜¯å‡½æ•°ä½“å†…éƒ¨ä½¿ç”¨ yieldå¾å¥å®šä¹‰ä¸åŒçš„å†…éƒ¨çŠ¶æ€ã€‚ 12345678910function* hello () &#123; yield \"hello\"; yield \"world\"; return \"done\";&#125;let h = hello();console.log(h.next()); //&#123;value: \"hello\", done: false&#125;console.log(h.next()); //&#123;value: \"world\", done: false&#125;console.log(h.next()); //&#123;value: \"done\", done: true&#125;console.log(h.next()); //&#123;value: undefined, done: true å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡hello()è¿”å›žçš„hå¯¹è±¡ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡next()æ–¹æ³•è¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«äº†valueå€¼å’ŒdoneçŠ¶æ€ã€‚ç›´åˆ°é‡åˆ°returnå…³é”®å­—æˆ–è€…å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œè¿™ä¸ªæ—¶å€™è¿”å›žçš„çŠ¶æ€ä¸ºtureï¼Œè¡¨ç¤ºå·²ç»æ‰§è¡Œç»“æŸäº†ã€‚ 123456789function* hello () &#123; yield \"hello\"; yield \"world\"; return \"done\";&#125; let h = hello();for (let obj of h) &#123; console.log(obj); // ä¾æ¬¡æ‰“å°helloå’Œworld&#125; 2.11 ä¿®é¥°å™¨ä¿®é¥°å™¨(Decorator)æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œ ç”¨æ¥ä¿®æ”¹ç±»çš„è¡Œä¸ºã€‚ ES2017 å¼•å…¥äº†è¿™é¡¹åŠŸèƒ½ï¼Œ ç›®å‰ Babel è½¬ç å™¨å·±ç»æ”¯æŒã€‚ å…¶å®žè¿™ä¸ªå¾ˆåƒæˆ‘ä»¬Javaçš„æ³¨è§£ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹é¢ä¾‹å­ï¼š 123456789101112@T //é€šè¿‡@ç¬¦å·è¿›è¡Œå¼•ç”¨è¯¥æ–¹æ³•ï¼Œç±»ä¼¼javaä¸­çš„æ³¨è§£class User &#123; constructor(name, age = 20)&#123; this.name = name; this.age = age; &#125;&#125; function T(target) &#123; //å®šä¹‰ä¸€ä¸ªæ™®é€šçš„æ–¹æ³• console.log(target); //targetå¯¹è±¡ä¸ºä¿®é¥°çš„ç›®æ ‡å¯¹è±¡ï¼Œè¿™é‡Œæ˜¯Userå¯¹è±¡ target.country = \"ä¸­å›½\"; //ä¸ºUserç±»æ·»åŠ ä¸€ä¸ªé™æ€å±žæ€§country&#125; console.log(User.country); // ç†è®ºä¸Šæ‰“å°å‡ºcountryå±žæ€§å€¼ï¼Œä½†å®žé™…ä¸ŠæŠ¥é”™:Uncaught SyntaxError: Invalid or unexpected token å¦‚æžœä¸Šè¿°ä»£ç ç›´æŽ¥åœ¨æµè§ˆå™¨è¿è¡Œä¼šæŠ¥é”™ï¼ŒåŽŸå› æ˜¯ï¼Œåœ¨ES6ä¸­ï¼Œå¹¶æ²¡æœ‰æ”¯æŒè¯¥ç”¨æ³•ï¼Œåœ¨ES2017ä¸­æ‰æœ‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ç›´æŽ¥è¿è¡Œäº†ï¼Œéœ€è¦è¿›è¡Œç¼–ç åŽå†è¿è¡Œã€‚è½¬ç çš„æ„æ€æ˜¯ï¼šå°†ES6æˆ–ES2017è½¬ä¸ºES5æ‰§è¡Œã€‚ç±»ä¼¼è¿™æ · : 123456//è½¬ç å‰input .map(item =&gt;item + 1);//è½¬ç åŽinput.map(function (item) &#123; return item + 1;&#125;) 2.12 è½¬ç å™¨ Babel (babeljs.io)æ˜¯ä¸€ä¸ªå¹¿ä¸ºä½¿ç”¨çš„ ES6 è½¬ç å™¨ï¼Œå¯ä»¥å°† ES6 ä»£ç è½¬ä¸º ES5 ä»£ç ï¼Œä»Žè€Œ åœ¨æµè§ˆå™¨æˆ–å…¶ä»–çŽ¯å¢ƒæ‰§è¡Œ ã€‚ Google å…¬å¸çš„ Traceur è½¬ç å™¨ Cgithub.com/google/traceur-compiler)ï¼Œä¹Ÿå¯ä»¥å°† ES6 ä»£ç è½¬ä¸ºES5çš„ä»£ç ã€‚ è¿™2æ¬¾éƒ½æ˜¯éžå¸¸ä¼˜ç§€çš„è½¬ç å·¥å…·ï¼Œåœ¨è¿™é‡Œæˆ‘ä¸ä¼šä½¿ç”¨ä¸Šè¿°ä¸¤ä¸ªå·¥å…·ï¼Œè€Œæ˜¯ä¼šä½¿ç”¨é˜¿é‡Œçš„å¼€æºä¼ä¸šçº§reactæ¡†æž¶è½¬ç å·¥å…·ï¼šUmiJSã€‚ Vue CLIè„šæž¶çš„é»˜è®¤è½¬ç å™¨æ˜¯Babelã€‚ 2.12.1 UmiJSè½¬ç å™¨123456789101112131415# é¦–å…ˆéœ€è¦å®‰è£…Node.jsçŽ¯å¢ƒï¼ŒNodeçŽ¯å¢ƒè‡ªè¡Œç™¾åº¦C:\\Users\\LT&gt;node -v // ç¡®ä¿nodeçŽ¯å¢ƒæ­£å¸¸v12.13.0#æŽ¥ä¸‹æ¥ï¼Œå¼€å§‹å®‰è£…yarnï¼Œå…¶ä¸­tyarnä½¿ç”¨çš„æ˜¯npm.taobao.orgçš„æºï¼Œé€Ÿåº¦è¦å¿«ä¸€äº›#å¯ä»¥æŠŠyarnçœ‹åšäº†ä¼˜åŒ–äº†çš„npmnpm i yarn tyarn -g #-g æ˜¯æŒ‡å…¨å±€å®‰è£…tyarn -v #è¿›è¡Œæµ‹è¯•ï¼Œå¦‚æžœèƒ½å¤Ÿæ­£å¸¸è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯åˆ™è¯´æ˜Žå®‰è£…æˆåŠŸäº†1.21.1 # å®‰è£…æˆåŠŸ#å¦‚æžœå®‰è£…å¤±è´¥ï¼Œæ˜¯ç”±äºŽå°†yarnæ·»åŠ åˆ°çŽ¯å¢ƒå˜é‡ä¸­å¯¼è‡´#ä¸‹é¢å¼€å§‹å®‰è£…umityarn global add umiumi #è¿›è¡Œæµ‹è¯•ï¼Œå¦‚æžœæ‰¾ä¸åˆ°umiå‘½ä»¤ï¼Œç»§ç»­yarn global bin # æŸ¥çœ‹umiå‘½ä»¤æ‰€å¤„çš„è·¯å¾„ï¼Œæˆ‘çš„è·¯å¾„æ˜¯ï¼šC:\\Users\\LT\\AppData\\Local\\Yarn\\binï¼Œç„¶åŽå°†è¯¥è·¯å¾„æ·»åŠ åˆ°çŽ¯å¢ƒå˜é‡é‡Œå°±å¯ä»¥äº†C:\\Users\\LT&gt;umi -v2.12.9 # umiçš„ç‰ˆæœ¬ 12345678910111213141516171819202122#é€šè¿‡åˆå§‹åŒ–å‘½ä»¤å°†ç”Ÿæˆpackage.jsonæ–‡ä»¶ï¼Œå®ƒæ˜¯ NodeJS çº¦å®šçš„ç”¨æ¥å­˜æ”¾é¡¹ç›®çš„ä¿¡æ¯å’Œé…ç½®ç­‰ä¿¡æ¯çš„æ–‡ä»¶ã€‚tyarn init -y#é€šè¿‡umiå‘½ä»¤åˆ›å»ºindex.jsæ–‡ä»¶umi g page index #å¯ä»¥çœ‹åˆ°åœ¨pagesä¸‹åˆ›å»ºå¥½äº†index.jså’Œindex.cssæ–‡ä»¶#å°†ä¸‹é¢å†…å­˜æ‹·è´åˆ°index.jsæ–‡ä»¶ä¸­è¿›è¡Œæµ‹è¯•@T //é€šè¿‡@ç¬¦å·è¿›è¡Œå¼•ç”¨è¯¥æ–¹æ³•ï¼Œç±»ä¼¼javaä¸­çš„æ³¨è§£class User &#123; constructor(name, age = 20)&#123; this.name = name; this.age = age; &#125;&#125;function T(target) &#123; //å®šä¹‰ä¸€ä¸ªæ™®é€šçš„æ–¹æ³• console.log(target); //targetå¯¹è±¡ä¸ºä¿®é¥°çš„ç›®æ ‡å¯¹è±¡ï¼Œè¿™é‡Œæ˜¯Userå¯¹è±¡ target.country = \"ä¸­å›½\"; //ä¸ºUserç±»æ·»åŠ ä¸€ä¸ªé™æ€å±žæ€§country target.city = \"ä¸Šæµ·\"; //ä¸ºUserç±»æ·»åŠ ä¸€ä¸ªé™æ€å±žæ€§city&#125;console.log(User.country + ' - ' + User.city); //æ‰“å°å‡ºcountryå’Œcityå±žæ€§å€¼ï¼Œä¸­å›½ - ä¸Šæµ·#é€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨umiçš„åŽå°æœåŠ¡,ç”¨äºŽæœ¬åœ°å¼€å‘umi dev#é€šè¿‡æµè§ˆå™¨è¿›è¡Œè®¿é—®ï¼šhttp://localhost:8000/ï¼ŒæŸ¥çœ‹æ•ˆæžœ#å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œè®¿é—®çš„æ˜¯umiçš„åŽå°æœåŠ¡ï¼Œä¸æ˜¯ideaæä¾›çš„æœåŠ¡ æŸ¥çœ‹è½¬ç åŽçš„index.jsæ–‡ä»¶ï¼Œæ‰¾åˆ°è‡ªå·±å†™çš„é‚£ä¸ªä»£ç ,ä¹Ÿå°±æ˜¯å¯¹å¯¹è±¡åŒ…è£¹äº†ä¸€å±‚ï¼Œæ²¡ä»€ä¹ˆé«˜å¤§ä¸Šçš„: 12345678910111213141516171819202122var _class;var //é€šè¿‡@ç¬¦å·è¿›è¡Œå¼•ç”¨è¯¥æ–¹æ³•ï¼Œç±»ä¼¼javaä¸­çš„æ³¨è§£User = T(_class = class User &#123; constructor(name) &#123; var age = arguments.length &gt; 1 &amp;&amp; arguments[1] !== undefined ? arguments[1] : 20; this.name = name; this.age = age; &#125;&#125;) || _class;function T(target) &#123; //å®šä¹‰ä¸€ä¸ªæ™®é€šçš„æ–¹æ³• console.log(target); //targetå¯¹è±¡ä¸ºä¿®é¥°çš„ç›®æ ‡å¯¹è±¡ï¼Œè¿™é‡Œæ˜¯Userå¯¹è±¡ target.country = \"ä¸­å›½\"; //ä¸ºUserç±»æ·»åŠ ä¸€ä¸ªé™æ€å±žæ€§country target.city = \"ä¸Šæµ·\"; //ä¸ºUserç±»æ·»åŠ ä¸€ä¸ªé™æ€å±žæ€§city&#125;console.log(User.country + ' - ' + User.city); //æ‰“å°å‡ºcountryå’Œcityå±žæ€§å€¼ 2.12.2 Babel è½¬ç å™¨123456789101112131415161718192021npm install -g babel-cli # å…¨å±€å®‰è£…babel-clinpm init # åˆå§‹åŒ–é¡¹ç›®npm install --save-dev babel-preset-es2015 # å®‰è£…es2015 babelè§„èŒƒï¼Œ å½“å‰ä½ å¯ä»¥å®‰è£…å…¶ä»–ç‰ˆæœ¬çš„è§„èŒƒ// ES7ä¸åŒé˜¶æ®µè¯­æ³•ææ¡ˆçš„è½¬ç è§„åˆ™ï¼ˆå…±æœ‰4ä¸ªé˜¶æ®µï¼‰ï¼Œé€‰è£…ä¸€ä¸ªnpm install --save-dev babel-preset-stage-0npm install --save-dev babel-preset-stage-1npm install --save-dev babel-preset-stage-2npm install --save-dev babel-preset-stage-3npm install babel-plugin-transform-decorators-legacy -g # es7çš„è£…é¥°å™¨babelè½¬ç æ’ä»¶type nul &gt; .babelrc # Windowsåˆ›å»º.babelrcæ–‡ä»¶ï¼ŒLinuxä½¿ç”¨touch .babelrcå‘½ä»¤åˆ›å»ºè¯¥æ–‡ä»¶# å°†ä¸‹é¢çš„jsonå¤åˆ¶åˆ°.babelrcæ–‡ä»¶é‡Œ&#123; \"presets\": [ \"es2015\", \"stage-0\" ], \"plugins\": [\"transform-decorators-legacy\"] &#125;# æ–‡ä»¶æ‰€åœ¨ç›®å½• è½¬ç åŽçš„æ–‡ä»¶ä¸ºindex-after.jsbabel ./index.js -o ./index-after.js æŸ¥çœ‹index-after.jsæ–‡ä»¶ï¼š 12345678910111213141516171819202122\"use strict\"; // å¼€å¯es6çš„ä¸¥æ ¼æ¨¡å¼var _class;function _classCallCheck(instance, Constructor) &#123; if (!(instance instanceof Constructor)) &#123; throw new TypeError(\"Cannot call a class as a function\"); &#125; &#125;var User = T(_class = function User(name) &#123; var age = arguments.length &gt; 1 &amp;&amp; arguments[1] !== undefined ? arguments[1] : 20; _classCallCheck(this, User); this.name = name; this.age = age;&#125;) || _class;function T(target) &#123; //å®šä¹‰ä¸€ä¸ªæ™®é€šçš„æ–¹æ³• console.log(target); //targetå¯¹è±¡ä¸ºä¿®é¥°çš„ç›®æ ‡å¯¹è±¡ï¼Œè¿™é‡Œæ˜¯Userå¯¹è±¡ target.country = \"ä¸­å›½\"; //ä¸ºUserç±»æ·»åŠ ä¸€ä¸ªé™æ€å±žæ€§country target.city = \"ä¸Šæµ·\"; //ä¸ºUserç±»æ·»åŠ ä¸€ä¸ªé™æ€å±žæ€§city&#125;console.log(User.country + ' - ' + User.city); //æ‰“å°å‡ºcountryå’Œcityå±žæ€§å€¼ï¼Œä¸­å›½ - ä¸Šæµ· 2.12.3 åœ¨çº¿è½¬ç Babelåœ¨çº¿è½¬ç ç½‘ç«™ 2.13 æ¨¡å—åŒ–2.13.1 ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–æ¨¡å—åŒ–å°±æ˜¯æŠŠä»£ç è¿›è¡Œæ‹†åˆ†ï¼Œæ–¹ä¾¿é‡å¤åˆ©ç”¨ã€‚ç±»ä¼¼javaä¸­çš„å¯¼åŒ…ï¼šè¦ä½¿ç”¨ä¸€ä¸ªåŒ…ï¼Œå¿…é¡»å…ˆå¯¼åŒ…ã€‚è€ŒJSä¸­æ²¡æœ‰åŒ…çš„æ¦‚å¿µï¼Œæ¢æ¥çš„æ˜¯ æ¨¡å—ã€‚æ¨¡å—åŠŸèƒ½ä¸»è¦ç”±ä¸¤ä¸ªå‘½ä»¤æž„æˆï¼š export å’Œ import ã€‚ export å‘½ä»¤ç”¨äºŽè§„å®šæ¨¡å—çš„å¯¹å¤–æŽ¥å£ã€‚ import å‘½ä»¤ç”¨äºŽå¯¼å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ã€‚ 2.13.2 exportæ¯”å¦‚æˆ‘å®šä¹‰ä¸€ä¸ªjsæ–‡ä»¶:Util.jsï¼Œé‡Œé¢æœ‰ä¸€ä¸ªUtilç±» ï¼š 12345class Util &#123; static sum = (a, b) =&gt; a + b;&#125; // å¯¼å‡ºè¯¥ç±»export default Util; 2.13.3 importä½¿ç”¨ export å‘½ä»¤å®šä¹‰äº†æ¨¡å—çš„å¯¹å¤–æŽ¥å£ä»¥åŽï¼Œå…¶ä»– JS æ–‡ä»¶å°±å¯ä»¥é€šè¿‡ import å‘½ä»¤åŠ è½½è¿™ä¸ªæ¨¡å—ã€‚ä¾‹å¦‚æˆ‘è¦ä½¿ç”¨ä¸Šé¢å¯¼å‡ºçš„Utilï¼š 12345//Index.js//å¯¼å…¥Utilç±»import Util from './Util'//ä½¿ç”¨Utilä¸­çš„sumæ–¹æ³•console.log(Util.sum(1, 2));","categories":[{"name":"frontend","slug":"frontend","permalink":"http://ltyeamin.github.io/categories/frontend/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://ltyeamin.github.io/tags/JavaScript/"}]},{"title":"è·Ÿç€å½¤å“¥å­¦ç½‘ç»œ-åˆè¯†ç½‘ç»œå±‚","slug":"è·Ÿç€å½¤å“¥å­¦ç½‘ç»œ-åˆè¯†ç½‘ç»œå±‚","date":"2019-12-23T12:22:19.000Z","updated":"2020-01-08T13:29:55.397Z","comments":true,"path":"2019/12/23/è·Ÿç€å½¤å“¥å­¦ç½‘ç»œ-åˆè¯†ç½‘ç»œå±‚/","link":"","permalink":"http://ltyeamin.github.io/2019/12/23/è·Ÿç€å½¤å“¥å­¦ç½‘ç»œ-åˆè¯†ç½‘ç»œå±‚/","excerpt":"","text":"1. ç½‘ç»œå±‚æä¾›çš„ä¸¤ç§æœåŠ¡ åœ¨è®¡ç®—æœºç½‘ç»œé¢†åŸŸï¼Œç½‘ç»œå±‚åº”è¯¥å‘è¿è¾“å±‚æä¾›æ€Žæ ·çš„æœåŠ¡ï¼ˆâ€œé¢å‘è¿žæŽ¥â€è¿˜æ˜¯â€œæ— è¿žæŽ¥â€ï¼‰æ›¾å¼•èµ·äº†é•¿æœŸçš„äº‰è®ºã€‚ äº‰è®ºç„¦ç‚¹çš„å®žè´¨å°±æ˜¯ï¼šåœ¨è®¡ç®—æœºé€šä¿¡ä¸­ï¼Œå¯é äº¤ä»˜åº”å½“ç”±è°æ¥è´Ÿè´£ï¼Ÿæ˜¯ç½‘ç»œè¿˜æ˜¯ç«¯ç³»ç»Ÿï¼Ÿ 1.1 ä¸¤ç§ä¸åŒçš„è§‚ç‚¹ä¸€ç§è§‚ç‚¹ï¼šè®©ç½‘ç»œè´Ÿè´£å¯é äº¤ä»˜ã€‚ è¿™ç§è§‚ç‚¹è®¤ä¸ºï¼Œåº”å€ŸåŠ©äºŽç”µä¿¡ç½‘çš„æˆåŠŸç»éªŒï¼Œè®©ç½‘ç»œè´Ÿè´£å¯é äº¤ä»˜ï¼Œè®¡ç®—æœºç½‘ç»œåº”æ¨¡ä»¿ç”µä¿¡ç½‘ç»œï¼Œä½¿ç”¨ç”µä¿¡æ˜‚è´µçš„ç¨‹æŽ§äº¤æ¢æœºé¢å‘è¿žæŽ¥çš„é€šä¿¡æ–¹å¼ã€‚é€šä¿¡ä¹‹å‰å…ˆå»ºç«‹è™šç”µè·¯ (Virtual Circuit)ï¼Œä»¥ä¿è¯åŒæ–¹é€šä¿¡æ‰€éœ€çš„ä¸€åˆ‡ç½‘ç»œèµ„æºã€‚ç„¶åŽåŒæ–¹æ²¿ç€VCç”µè·¯å‘é€åˆ†ç»„ã€‚å‘é€åˆ†ç»„ä¸éœ€è¦å¡«å†™å®Œæ•´çš„ç›®çš„çš„ä¸»æœºåœ°å€è€Œåªéœ€è¦å¡«å†™VCè™šç”µè·¯çš„ç¼–å·ï¼Œå› è€Œå‡å°‘åˆ†ç»„å¼€é”€ã€‚å¦‚æžœå†ä½¿ç”¨å¯é ä¼ è¾“çš„ç½‘ç»œåè®®ï¼Œå°±å¯ä½¿æ‰€å‘é€çš„åˆ†ç»„æ— å·®é”™æŒ‰åºåˆ°è¾¾ç»ˆç‚¹ï¼Œä¸ä¸¢å¤±ã€ä¸é‡å¤ã€‚ è™šç”µè·¯ï¼šè¡¨ç¤ºè¿™åªæ˜¯ä¸€æ¡é€»è¾‘ä¸Šçš„è¿žæŽ¥ï¼Œåˆ†ç»„éƒ½æ²¿ç€è¿™æ¡é€»è¾‘è¿žæŽ¥æŒ‰ç…§å­˜å‚¨è½¬å‘æ–¹å¼ä¼ é€ï¼Œè€Œå¹¶ä¸æ˜¯çœŸæ­£å»ºç«‹äº†ä¸€æ¡ç‰©ç†è¿žæŽ¥ã€‚è¯·æ³¨æ„ï¼Œç”µè·¯äº¤æ¢çš„ç”µè¯é€šä¿¡æ˜¯å»ºç«‹äº†ä¸€æ¡çœŸæ­£çš„è¿žæŽ¥ã€‚å› æ­¤åˆ†ç»„äº¤æ¢çš„è™šç”µè·¯å’Œç”µè·¯äº¤æ¢çš„è¿žæŽ¥åªæ˜¯ç±»ä¼¼ï¼Œä½†å¹¶ä¸å®Œå…¨ä¸€æ ·ã€‚ ä¸€ç§è§‚ç‚¹ï¼šäº’è”ç½‘å…ˆé©±æå‡ºç½‘ç»œæå‡ºå´­æ–°çš„æ€è·¯-ç½‘ç»œæä¾›æ•°æ®æŠ¥æœåŠ¡ ä»–ä»¬è®¤ä¸ºç”µä¿¡ç½‘æä¾›çš„ç«¯åˆ°ç«¯å¯é ä¼ è¾“çš„æœåŠ¡å¯¹ç”µè¯ä¸šåŠ¡æ— ç–‘æ˜¯å¾ˆåˆé€‚çš„ã€‚å› ä¸ºç”µè¯ç½‘çš„ç»ˆç«¯ï¼ˆç”µè¯æœºï¼‰éžå¸¸ç®€å•ï¼Œæ²¡æœ‰æ™ºèƒ½ï¼Œä¹Ÿæ²¡æœ‰å·®é”™å¤„ç†èƒ½åŠ›ã€‚å› æ­¤ç”µä¿¡ç½‘å¿…é¡»è´Ÿè´£æŠŠç”¨æˆ·ç”µè¯æœºäº§ç”Ÿçš„ä¿¡å·å¯é åœ°ä¼ é€åˆ°å¯¹æ–¹çš„ç”µè¯æœºï¼Œä½¿å¾—è¿˜åŽŸçš„è¯­éŸ³è´¨é‡ç¬¦åˆæŠ€æœ¯è§„èŒƒçš„è¦æ±‚ã€‚ è®¡ç®—æœºç½‘ç»œçš„ç«¯ç³»ç»Ÿæ˜¯æœ‰æ™ºèƒ½çš„è®¡ç®—æœºã€‚è®¡ç®—æœºæœ‰å¾ˆå¼ºçš„å·®é”™å¤„ç†èƒ½åŠ›ã€‚å› è€Œäº’è”ç½‘é‡‡ç”¨çš„è®¾è®¡æ€è·¯æ˜¯ï¼šç½‘ç»œå±‚å‘ä¸Šåªæä¾›ç®€å•çµæ´»çš„ã€æ— è¿žæŽ¥çš„ã€å°½æœ€å¤§åŠªåŠ›äº¤ä»˜çš„æ•°æ®æŠ¥æœåŠ¡ã€‚å…¶ä¸­æ•°æ®æŠ¥ï¼ˆæˆ–IPæ•°æ®æŠ¥ï¼‰å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„æ•°æ®æŠ¥æ–‡ã€æ•°æ®åŒ…ã€åˆ†ç»„ã€‚ ç½‘ç»œåœ¨å‘é€åˆ†ç»„æ—¶ä¸éœ€è¦å…ˆå»ºç«‹è¿žæŽ¥ã€‚æ¯ä¸€ä¸ªåˆ†ç»„ï¼ˆå³ IP æ•°æ®æŠ¥ï¼‰ç‹¬ç«‹å‘é€ï¼Œä¸Žå…¶å‰åŽçš„åˆ†ç»„æ— å…³ï¼ˆä¸è¿›è¡Œç¼–å·ï¼‰ã€‚ ç½‘ç»œå±‚ä¸æä¾›æœåŠ¡è´¨é‡çš„æ‰¿è¯ºã€‚å³æ‰€ä¼ é€çš„åˆ†ç»„å¯èƒ½å‡ºé”™ã€ä¸¢å¤±ã€é‡å¤å’Œå¤±åºï¼ˆä¸æŒ‰åºåˆ°è¾¾ç»ˆç‚¹ï¼‰ï¼Œå½“ç„¶ä¹Ÿä¸ä¿è¯åˆ†ç»„ä¼ é€çš„æ—¶é™ã€‚ ç”±äºŽä¼ è¾“ç½‘ç»œä¸æä¾›ç«¯åˆ°ç«¯çš„å¯é ä¼ è¾“æœåŠ¡ï¼Œè¿™å°±ä½¿ç½‘ç»œä¸­çš„è·¯ç”±å™¨å¯ä»¥åšå¾—æ¯”è¾ƒç®€å•ï¼Œè€Œä¸”ä»·æ ¼ä½Žå»‰ï¼ˆä¸Žç”µä¿¡ç½‘çš„äº¤æ¢æœºç›¸æ¯”è¾ƒï¼‰ã€‚ å¦‚æžœä¸»æœºï¼ˆå³ç«¯ç³»ç»Ÿï¼‰ä¸­çš„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡éœ€è¦æ˜¯å¯é çš„ï¼Œé‚£ä¹ˆå°±ç”±ç½‘ç»œçš„ä¸»æœºä¸­çš„è¿è¾“å±‚è´Ÿè´£å¯é äº¤ä»˜ï¼ˆåŒ…æ‹¬å·®é”™å¤„ç†ã€æµé‡æŽ§åˆ¶ç­‰ï¼‰ ã€‚ é‡‡ç”¨è¿™ç§è®¾è®¡æ€è·¯çš„å¥½å¤„æ˜¯ï¼šç½‘ç»œçš„é€ ä»·å¤§å¤§é™ä½Žï¼Œè¿è¡Œæ–¹å¼çµæ´»ï¼Œèƒ½å¤Ÿé€‚åº”å¤šç§åº”ç”¨ã€‚ äº’è¿žç½‘èƒ½å¤Ÿå‘å±•åˆ°ä»Šæ—¥çš„è§„æ¨¡ï¼Œå……åˆ†è¯æ˜Žäº†å½“åˆé‡‡ç”¨è¿™ç§è®¾è®¡æ€è·¯çš„æ­£ç¡®æ€§ã€‚ OSIä½“ç³»çš„æ”¯æŒè€…å±‚æžåŠ›ä¸»å¼ åœ¨ç½‘ç»œå±‚ä½¿ç”¨å¯é ä¼ è¾“çš„è™šç”µè·¯æœåŠ¡ï¼Œä¹Ÿæ›¾æŽ¨å‡ºè¿‡è™šç”µè·¯æœåŠ¡è‘—åæ ‡å‡†-ITU-Tçš„X.25å»ºè®®ä¹¦ã€‚ä½†çŽ°åœ¨X.25æ—©å·²æˆä¸ºåŽ†å²äº†ã€‚ 1.2 è™šç”µè·¯æœåŠ¡ä¸Žæ•°æ®æŠ¥æœåŠ¡çš„å¯¹æ¯” 2. ç½‘é™…åè®®IPç½‘é™…åè®®IPæ˜¯TCP/IPä½“ç³»ä¸­ä¸¤ä¸ªæœ€é‡è¦çš„åè®®ä¹‹ä¸€ã€‚ä¹Ÿæ˜¯æœ€é‡è¦çš„äº’è”ç½‘æ ‡å‡†åè®®ä¹‹ä¸€ã€‚å…³äºŽIPåˆåˆ†ä¸ºIPV4ç‰ˆæœ¬å’ŒIPV6ç‰ˆæœ¬ï¼ˆç‰ˆæœ¬1-3å’Œç‰ˆæœ¬5ç ”ç©¶ä¸æˆåŠŸæ‰€ä»¥ä¸ä½¿ç”¨ï¼‰ï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯IPV4ç‰ˆæœ¬ï¼Œæœ‰å…³IPV6çš„çŸ¥è¯†åŽé¢ä¼šå­¦ä¹ ã€‚ ä¸Ž IP åè®®é…å¥—ä½¿ç”¨çš„è¿˜æœ‰å››ä¸ªåè®®ï¼Œå…¶ä¸­ä¸‰ä¸ªçŽ°åœ¨ä»ç„¶åœ¨ç”¨ï¼Œä¸€ä¸ªå·²ç»è¢«çŽ°ä»£ç½‘ç»œæ·˜æ±°æŽ‰äº†ã€‚ åœ°å€è§£æžåè®®ARP (Address Resolution Protocol) ç½‘é™…æŽ§åˆ¶æŠ¥æ–‡åè®®ICMP (Internet Control Message Protocol) ç½‘é™…ç»„ç®¡ç†åè®®IGMP (Internet Group Management Protocol) é€†åœ°å€è§£æžåè®®RARP(Reverse Address Resolution Protocol),å’ŒARPåè®®é…åˆä½¿ç”¨ï¼Œä½†æ˜¯çŽ°åœ¨å·²ç»æ·˜æ±°ã€‚ ä¸Šå›¾ä¸­ï¼ŒARPåœ¨æœ€ä¸‹é¢ï¼Œå› ä¸ºIPç»å¸¸è¦ä½¿ç”¨è¿™ä¸ªåè®®ã€‚ICMPå’ŒIGMPåœ¨ä¸Šéƒ¨ï¼Œå› ä¸ºä»–ä»¬ä½¿ç”¨IPåè®®ã€‚ ç”±äºŽç½‘é™…åè®®IPæ˜¯ç”¨æ¥ä½¿äº’è”èµ·æ¥çš„è®¸å¤šè®¡ç®—æœºç½‘ç»œèƒ½å¤Ÿè¿›è¡Œé€šä¿¡çš„ï¼Œå› æ­¤TCP/IPä½“ç³»ä¸­çš„ç½‘ç»œå±‚å¸¸å¸¸è¢«ç§°ä¸ºç½‘é™…å±‚(internet layer)æˆ–IPå±‚ã€‚ 3. è™šæ‹Ÿäº’è”ç½‘å°†ç½‘ç»œäº’è¿žå¹¶èƒ½å¤Ÿäº’ç›¸é€šä¿¡ï¼Œä¼šé‡åˆ°è®¸å¤šé—®é¢˜éœ€è¦è§£å†³ï¼Œå¦‚ï¼š ä¸åŒçš„å¯»å€æ–¹æ¡ˆ ä¸åŒçš„æœ€å¤§åˆ†ç»„é•¿åº¦ ä¸åŒçš„ç½‘ç»œæŽ¥å…¥æœºåˆ¶ ä¸åŒçš„è¶…æ—¶æŽ§åˆ¶ ä¸åŒçš„å·®é”™æ¢å¤æ–¹æ³• ä¸åŒçš„çŠ¶æ€æŠ¥å‘Šæ–¹æ³• ä¸åŒçš„è·¯ç”±é€‰æ‹©æŠ€æœ¯ ä¸åŒçš„ç”¨æˆ·æŽ¥å…¥æŽ§åˆ¶ ä¸åŒçš„æœåŠ¡ï¼ˆé¢å‘è¿žæŽ¥æœåŠ¡å’Œæ— è¿žæŽ¥æœåŠ¡ï¼‰ ä¸åŒçš„ç®¡ç†ä¸ŽæŽ§åˆ¶æ–¹å¼ç­‰ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚ä½•å°†å¼‚æž„çš„ç½‘ç»œäº’ç›¸è¿žæŽ¥èµ·æ¥ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œéœ€è¦å€ŸåŠ©ä¸€äº›ä¸­é—´è®¾å¤‡è¿›è¡Œäº’è¿žã€‚ä¸­é—´è®¾å¤‡åˆç§°ä¸ºä¸­é—´ç³»ç»Ÿæˆ–ä¸­ç»§ (relay)ç³»ç»Ÿã€‚å¸¸è§æœ‰ä»¥ä¸‹äº”ç§ä¸åŒçš„ä¸­é—´è®¾å¤‡ï¼š ç‰©ç†å±‚ä¸­ç»§ç³»ç»Ÿï¼šè½¬å‘å™¨ (repeater)ï¼Œä¿¡å·æ”¾å¤§ æ•°æ®é“¾è·¯å±‚ä¸­ç»§ç³»ç»Ÿï¼šç½‘æ¡¥æˆ–æ¡¥æŽ¥å™¨ (bridge),äº¤æ¢æœºå·¥ä½œçš„å±‚ ç½‘ç»œå±‚ä¸­ç»§ç³»ç»Ÿï¼šè·¯ç”±å™¨ (router)ï¼Œç½‘ç»œæ•°æ®åŒ…çš„è½¬å‘ ç½‘æ¡¥å’Œè·¯ç”±å™¨çš„æ··åˆç‰©ï¼šæ¡¥è·¯å™¨ (brouter)ï¼Œäº§å“å°‘ã€æ™®åŠå°‘ ç½‘ç»œå±‚ä»¥ä¸Šçš„ä¸­ç»§ç³»ç»Ÿï¼šç½‘å…³ (gateway) å½“ä¸­ç»§ç³»ç»Ÿæ˜¯è½¬å‘å™¨æˆ–ç½‘æ¡¥æ—¶ï¼Œä¸€èˆ¬å¹¶ä¸ç§°ä¹‹ä¸ºç½‘ç»œäº’è¿žï¼Œå› ä¸ºè¿™ä»…ä»…æ˜¯æŠŠä¸€ä¸ªç½‘ç»œæ‰©å¤§äº†ï¼Œè€Œè¿™ä»ç„¶æ˜¯ä¸€ä¸ªç½‘ç»œã€‚ ç½‘å…³ç”±äºŽæ¯”è¾ƒå¤æ‚ï¼Œç›®å‰ä½¿ç”¨å¾—è¾ƒå°‘ã€‚ ç½‘ç»œäº’è¿žéƒ½æ˜¯æŒ‡ç”¨è·¯ç”±å™¨è¿›è¡Œç½‘ç»œäº’è¿žå’Œè·¯ç”±é€‰æ‹©ã€‚ ç”±äºŽåŽ†å²çš„åŽŸå› ï¼Œè®¸å¤šæœ‰å…³ TCP/IP çš„æ–‡çŒ®å°†ç½‘ç»œå±‚ä½¿ç”¨çš„è·¯ç”±å™¨ç§°ä¸ºç½‘å…³ã€‚ æ‰€è°“è™šæ‹Ÿäº’è¿žç½‘ç»œä¹Ÿå°±æ˜¯é€»è¾‘äº’è¿žç½‘ç»œï¼Œå®ƒçš„æ„æ€å°±æ˜¯äº’è¿žèµ·æ¥çš„å„ç§ç‰©ç†ç½‘ç»œçš„å¼‚æž„æ€§æœ¬æ¥æ˜¯å®¢è§‚å­˜åœ¨çš„ï¼Œä½†æ˜¯æˆ‘ä»¬åˆ©ç”¨ IP åè®®å°±å¯ä»¥ä½¿è¿™äº›æ€§èƒ½å„å¼‚çš„ç½‘ç»œä»Žç”¨æˆ·çœ‹èµ·æ¥å¥½åƒæ˜¯ä¸€ä¸ªç»Ÿä¸€çš„ç½‘ç»œã€‚ ä½¿ç”¨ IP åè®®çš„è™šæ‹Ÿäº’è¿žç½‘ç»œå¯ç®€ç§°ä¸º IP ç½‘ã€‚ ä½¿ç”¨è™šæ‹Ÿäº’è¿žç½‘ç»œçš„å¥½å¤„æ˜¯ï¼šå½“äº’è”ç½‘ä¸Šçš„ä¸»æœºè¿›è¡Œé€šä¿¡æ—¶ï¼Œå°±å¥½åƒåœ¨ä¸€ä¸ªç½‘ç»œä¸Šé€šä¿¡ä¸€æ ·ï¼Œè€Œçœ‹ä¸è§äº’è¿žçš„å„å…·ä½“çš„ç½‘ç»œå¼‚æž„ç»†èŠ‚ã€‚ å¦‚æžœåœ¨è¿™ç§è¦†ç›–å…¨çƒçš„ IP ç½‘çš„ä¸Šå±‚ä½¿ç”¨ TCP åè®®ï¼Œé‚£ä¹ˆå°±æ˜¯çŽ°åœ¨çš„äº’è”ç½‘ (Internet)ã€‚ ä¸Šå›¾ä¸­æºä¸»æœºH1è¦æŠŠä¸€ä¸ªIPæ•°æ®æŠ¥å‘é€ç»™ç›®çš„ä¸»æœºH2.ä¸»æœºH1å…ˆæ‰¾åˆ°è‡ªå·±çš„è·¯ç”±è¡¨ï¼Œçœ‹ç›®çš„ä¸»æœºæ˜¯å¦å°±åœ¨æœ¬ç½‘ç»œä¸Šï¼Œå¦‚æ˜¯ï¼Œåˆ™ä¸éœ€è¦ç»è¿‡ä»»ä½•è·¯ç”±å™¨è€Œæ˜¯ç›´æŽ¥äº¤ä»˜(å®žé™…ä¸Šæ˜¯åœ¨äº¤æ¢æœºå†…éƒ¨è¿›è¡Œåˆ†ç»„äº¤æ¢(å­˜å‚¨è½¬å‘))ã€‚ä»»åŠ¡å°±å®Œæˆäº†ã€‚è‹¥ä¸æ˜¯ï¼Œåˆ™å¿…é¡»å°†IPæ•°æ®æŠ¥å‘é€ç»™æŸä¸ªè·¯ç”±å™¨(R1)ï¼ŒR1åœ¨æŸ¥æ‰¾äº†è‡ªå·±çš„è·¯ç”±è¡¨åŽï¼ŒçŸ¥é“åº”å½“æŠŠæ•°æ®æŠ¥è½¬å‘ç»™R2è¿›è¡Œäº¤ä»˜ã€‚è¿™æ ·ä¸€ç›´è½¬å‘ä¸‹åŽ»ï¼Œæœ€åŽR5çŸ¥é“è‡ªå·±å’ŒH2è¿žæŽ¥åœ¨åŒä¸€ä¸ªç½‘ç»œä¸Šï¼Œä¸éœ€è¦åœ¨ç”¨åˆ«çš„è·¯ç”±å™¨è½¬å‘äº†ï¼ŒäºŽæ˜¯æŠŠæ•°æ®æŠ¥ç›´æŽ¥äº¤ä»˜ç»™ç›®çš„ä¸»æœºH2ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥æ³¨æ„åˆ°R4å’ŒR5ä½¿ç”¨äº†å«æ˜Ÿé“¾è·¯ï¼Œè€ŒR5æ‰€è¿žæŽ¥çš„æ˜¯ä¸ªæ— çº¿å±€åŸŸç½‘ã€‚åœ¨R1-R4ä¹‹é—´çš„ä¸‰ä¸ªç½‘ç»œåˆ™å¯ä»¥æ˜¯ä»»æ„ç±»åž‹çš„ç½‘ç»œã€‚ æ€»ä¹‹ï¼Œäº’è”ç½‘å¯ä»¥ç”±å¤šç§å¼‚æž„ç½‘ç»œäº’è¿žç»„æˆã€‚","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://ltyeamin.github.io/tags/è®¡ç®—æœºç½‘ç»œ/"}]},{"title":"è·Ÿç€å½¤å“¥å­¦ç½‘ç»œ-ç½‘ç»œå±‚ä¹‹IPv4","slug":"è·Ÿç€å½¤å“¥å­¦ç½‘ç»œ-ç½‘ç»œå±‚ä¹‹IPv4","date":"2019-12-22T03:58:23.000Z","updated":"2020-01-08T12:59:47.000Z","comments":true,"path":"2019/12/22/è·Ÿç€å½¤å“¥å­¦ç½‘ç»œ-ç½‘ç»œå±‚ä¹‹IPv4/","link":"","permalink":"http://ltyeamin.github.io/2019/12/22/è·Ÿç€å½¤å“¥å­¦ç½‘ç»œ-ç½‘ç»œå±‚ä¹‹IPv4/","excerpt":"","text":"1 IPv4ç»„æˆä¸Žåˆ†ç±»1.1 IPv4ç»„æˆæˆ‘ä»¬æŠŠæ•´ä¸ªäº’è”ç½‘çœ‹æˆä¸ºä¸€ä¸ªå•ä¸€çš„ã€æŠ½è±¡çš„ç½‘ç»œã€‚IP åœ°å€å°±æ˜¯ç»™æ¯ä¸ªè¿žæŽ¥åœ¨äº’è”ç½‘ä¸Šçš„ä¸»æœºï¼ˆæˆ–è·¯ç”±å™¨ï¼‰åˆ†é…ä¸€ä¸ªåœ¨å…¨ä¸–ç•ŒèŒƒå›´æ˜¯å”¯ä¸€çš„32ä½çš„æ ‡è¯†ç¬¦ã€‚ IP åœ°å€çŽ°åœ¨ç”±äº’è”ç½‘åå­—å’Œæ•°å­—åˆ†é…æœºæž„ICANN (Internet Corporation for Assigned Names and Numbers)è¿›è¡Œåˆ†é…ï¼Œæˆ‘å›½ç”¨æˆ·å¯å‘äºšå¤ªç½‘ç»œä¿¡æ¯ä¸­å¿ƒAPNIC(Asia Pacific Network Information Center)ç¼´è´¹ç”³è¯·IPåœ°å€ã€‚ åœ¨å›½å†…å®žé™…ä¸Šéƒ½æ˜¯ISPç½‘ç»œè¿è¥å•†ç»Ÿä¸€ç”³è¯·ï¼Œæœ€ç»ˆåˆ†é…åˆ°ä¼ä¸šä»¥åŠå®¶åº­ä¸ªäººç”¨æˆ·ã€‚ä»¥å‰åœ¨IPåœ°å€ä¸ç¨€ç¼ºçš„æƒ…å†µä¸‹ï¼Œä¸ªäººæœ‰å¯èƒ½åˆ†é…åˆ°å…¬ç½‘çš„IPåœ°å€ï¼ŒçŽ°åœ¨å‡ ä¹Žä¸å¯èƒ½äº†ï¼ŒIPåœ°å€èµ„æºæœ‰é™ï¼Œä¸å¯èƒ½æ¯å°ä¸»æœºéƒ½åˆ†é…ä¸€ä¸ªå…¬ç½‘IPã€‚ æœ‰å…³IPæœ€é‡è¦çš„åè®®æ–‡æ¡£å°±æ˜¯äº’è”ç½‘çš„æ­£å¼æ ‡å‡†RFC 791ã€‚ 1.2 IPv4çŽ°çŠ¶æˆ‘ä»¬å¸¸å¸¸è¯´çš„IPï¼Œå…¶å®žå°±æ˜¯IPv4ï¼Œå³IPçš„ç¬¬å››ä¸ªç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬åœ°å€ç©ºé—´æœ‰é™ï¼Œåˆ°æŸä¸ªé˜¶æ®µIPåœ°å€å°†ä¼šè€—å°½ã€‚ è¯¥è¿‡ç¨‹è‡ª80å¹´ä»£ä»¥æ¥å°±å·²é¢„è§åˆ°ï¼Œé¡¶çº§åœ°å€å®žé™…ä¸Šå·²ç»åœ¨2012å¹´è€—å°½ã€‚é‚£æ—¶ï¼Œæ‰€æœ‰IPv4åœ°å€ç©ºé—´å·²åˆ†é…ç»™äº”å¤§åŒºåŸŸäº’è”ç½‘æ³¨å†Œæœºæž„ï¼Œéžæ´²ç½‘ç»œä¿¡æ¯ä¸­å¿ƒ (AFRINIC)é’ˆå¯¹éžæ´²ï¼ŒåŒ—ç¾Žç½‘ç»œä¿¡æ¯ä¸­å¿ƒï¼ˆARINï¼‰é’ˆå¯¹å—æžæ´²ã€åŠ æ‹¿å¤§ã€éƒ¨åˆ†åŠ å‹’æ¯”æµ·åœ°åŒºå’Œç¾Žå›½ï¼Œäºšå¤ªäº’è”ç½‘ç»œä¿¡æ¯ä¸­å¿ƒï¼ˆAPNICï¼‰é’ˆå¯¹ä¸œäºšã€å¤§æ´‹æ´²ã€å—äºšå’Œä¸œå—äºšï¼Œæ‹‰ä¸ç¾Žæ´²ç½‘ç»œä¿¡æ¯ä¸­å¿ƒï¼ˆLACNICï¼‰é’ˆå¯¹åŠ å‹’æ¯”æµ·çš„å¤§éƒ¨åˆ†åœ°åŒºå’Œæ•´ä¸ªæ‹‰ä¸ç¾Žæ´²ï¼Œä»¥åŠæ¬§æ´²ç½‘ç»œä¿¡æ¯ä¸­å¿ƒï¼ˆRIPE NCCï¼‰é’ˆå¯¹æ¬§æ´²ã€ä¸­äºšã€ä¿„ç½—æ–¯å’Œè¥¿äºšã€‚ é‚£äº›åŒºåŸŸæ€§Internetæ³¨å†Œå¾ˆå¿«å°±å¼€å§‹è€—å°½ã€‚2011å¹´4æœˆ15æ—¥ï¼Œäºšå¤ªäº’è”ç½‘ç»œä¿¡æ¯ä¸­å¿ƒï¼ˆAPNICï¼‰åœ¨2012å¹´9æœˆ14æ—¥ä¸ºæ¬§æ´²ï¼Œæ¬§æ´²ç½‘ç»œä¿¡æ¯ä¸­å¿ƒï¼ˆRIPE NCCï¼‰åˆ†é…äº†æœ€åŽä¸€ä¸ªIPv4åŒºå—ï¼Œåœ¨2014å¹´6æœˆ10æ—¥ä¸ºæ‹‰ä¸ç¾Žæ´²å’ŒåŠ å‹’æ¯”æµ·ï¼ˆLACNICï¼‰åˆ†é…äº†æœ€åŽä¸€ä¸ªIPv4åŒºå—ã€‚2015å¹´9æœˆ24æ—¥ä¸ºåŒ—ç¾Žåˆ†é…IPv4åŒºå—ï¼Œç›´åˆ°ä»Šå¤©ï¼Œæ¬§æ´²RIPE NCCç»ˆäºŽè€—å°½äº†å­˜å‚¨ã€‚ è¯¥æ¶ˆæ¯æ˜¯åœ¨2019å¹´11æœˆ25å·åœ¨ä¸€å°ç”µå­é‚®ä»¶ï¼ˆç”±Nikolas Pediaditiså‘å¸ƒï¼‰ä¸­å®£å¸ƒçš„ï¼Œå†…å®¹ä¸ºï¼š å¤§æ¦‚è¯‘æ–‡å¦‚ä¸‹ï¼š äº²çˆ±çš„åŒäº‹ä»¬ï¼Œ ä»Šå¤©ï¼Œåœ¨2019å¹´11æœˆ25æ—¥UTC + 1 15:35ï¼Œæˆ‘ä»¬ä»Žå¯ç”¨æ± ä¸­çš„æœ€åŽå‰©ä½™åœ°å€è¿›è¡Œäº†æœ€ç»ˆçš„/22 IPv4åˆ†é…ã€‚çŽ°åœ¨ï¼Œæˆ‘ä»¬å·²ç»ç”¨å®Œäº†IPv4åœ°å€ã€‚ å¯¹äºŽç½‘ç»œè¿è¥å•†æ¥è¯´ï¼Œæˆ‘ä»¬çš„å®£å¸ƒå¹¶ä¸ä»¤äººæƒŠè®¶â€“ RIPEç¤¾åŒºæ—©å°±é¢„æ–™åˆ°å¹¶è®¡åˆ’IPv4è€—å°½ã€‚å®žé™…ä¸Šï¼Œæ­£æ˜¯ç”±äºŽç¤¾åŒºå¯¹è¿™äº›èµ„æºçš„è´Ÿè´£ä»»ç®¡ç†ï¼Œæˆ‘ä»¬æ‰èƒ½å¤Ÿåœ¨2012å¹´è¾¾åˆ°æœ€åŽä¸€ä¸ª/8åŽï¼Œå‘æˆ‘ä»¬æœåŠ¡åŒºåŸŸå†…çš„æ•°åƒä¸ªæ–°ç½‘ç»œæä¾›/22åˆ†é…ã€‚ ä»Žç†è®ºä¸Šè®²ï¼ŒIPv4åœ°å€è€—å°½åº”è¯¥æ„å‘³ç€ä¸èƒ½å°†ä»»ä½•æ–°çš„IPv4è®¾å¤‡æ·»åŠ åˆ°Internetï¼Œä½†æ˜¯å®žé™…ä¸Šï¼Œè®¸å¤šå› ç´ ä¼šè¿›è¡Œç¼“è§£ã€‚é¦–å…ˆæ˜¯ISPå¯ä»¥é‡ç”¨å’Œå›žæ”¶æœªä½¿ç”¨çš„IPv4åœ°å€ã€‚ç¬¬äºŒä¸ªåŽŸå› æ˜¯ç”±äºŽNATï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰ï¼Œå› æ­¤å¯ä»¥åœ¨ISPè·¯ç”±å™¨åŽé¢ç§ä¸‹ä½¿ç”¨ç›¸åŒçš„IPåœ°å€ã€‚å½“ç„¶ï¼Œæœ€åŽæ˜¯å‘IPv6çš„è¿‡æ¸¡ï¼ŒçŽ°åœ¨åº”è¯¥å»ºç«‹è‰¯å¥½çš„ç§©åºï¼Œä»Žè€Œå¯ä»¥é€šè¿‡å…·æœ‰3.4Ã—10^38å·¨å¤§åœ°å€ç©ºé—´çš„Internetç›´æŽ¥è¿›è¡Œå¯¹ç­‰è¿žæŽ¥ã€‚ 1.3 IPv4åœ°å€ç¼–å€æ–¹æ³• åˆ†ç±»çš„IPåœ°å€ã€‚è¿™æ˜¯æœ€åŸºæœ¬çš„ç¼–å€æ–¹æ³•ï¼Œåœ¨1981å¹´å°±é€šè¿‡äº†ç›¸åº”çš„æ ‡å‡†åè®®ã€‚ å­ç½‘çš„åˆ’åˆ†ã€‚è¿™æ˜¯å¯¹æœ€åŸºæœ¬çš„ç¼–å€æ–¹æ³•çš„æ”¹è¿›ï¼Œå…¶æ ‡å‡†[RFC 950]åœ¨1985å¹´é€šè¿‡ã€‚ æž„æˆè¶…ç½‘ã€‚è¿™æ˜¯æ¯”è¾ƒæ–°çš„æ— åˆ†ç±»ç¼–å€æ–¹æ³•ã€‚1993å¹´æå‡ºåŽå¾ˆå¿«å°±å¾—åˆ°æŽ¨å¹¿åº”ç”¨ã€‚1.4 IPv4åŸºæœ¬åˆ†ç±»IPåœ°å€(32ä½) = ç½‘ç»œå· + ä¸»æœºå· æ¯ä¸€ç±»åœ°å€éƒ½ç”±ä¸¤ä¸ªå›ºå®šé•¿åº¦çš„å­—æ®µç»„æˆï¼Œå…¶ä¸­ä¸€ä¸ªå­—æ®µæ˜¯ç½‘ç»œå· net-idï¼Œå®ƒæ ‡å¿—ä¸»æœºï¼ˆæˆ–è·¯ç”±å™¨ï¼‰æ‰€è¿žæŽ¥åˆ°çš„ç½‘ç»œï¼Œè€Œå¦ä¸€ä¸ªå­—æ®µåˆ™æ˜¯ä¸»æœºå· host-idï¼Œå®ƒæ ‡å¿—è¯¥ä¸»æœºï¼ˆæˆ–è·¯ç”±å™¨ï¼‰ã€‚ ä¸»æœºå·åœ¨å®ƒå‰é¢çš„ç½‘ç»œå·æ‰€æŒ‡æ˜Žçš„ç½‘ç»œèŒƒå›´å†…å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚ç”±æ­¤å¯è§ï¼Œä¸€ä¸ª IP åœ°å€åœ¨æ•´ä¸ªäº’è”ç½‘èŒƒå›´å†…æ˜¯å”¯ä¸€çš„ã€‚ IPåœ°å€åˆ†5ç±»ã€‚Aã€Bã€Cæ˜¯å¸¸ç”¨çš„åœ°å€ã€‚IPåœ°å€çš„ç¼–ç è§„å®šå…¨0è¡¨ç¤ºæ˜¯æœ¬åœ°åœ°å€ï¼Œå³æœ¬åœ°ç½‘ç»œæˆ–æœ¬åœ°ä¸»æœºã€‚å…¨1è¡¨ç¤ºå¹¿æ’­åœ°å€ï¼Œä»»ä½•ç½‘ç«™éƒ½èƒ½æŽ¥æ”¶ã€‚æ‰€ä»¥ï¼Œé™¤åŽ»å…¨0å’Œå…¨1åœ°å€å¤–ï¼ŒAç±»æœ‰126ä¸ªç½‘ç»œåœ°å€ï¼Œ1600ä¸‡ä¸ªä¸»æœºåœ°å€ï¼›Bç±»æœ‰16382ä¸ªç½‘ç»œåœ°å€ï¼Œ64000ä¸ªä¸»æœºåœ°å€ï¼›Cç±»æœ‰200ä¸‡ä¸ªç½‘ç»œåœ°å€ï¼Œ254ä¸ªä¸»æœºåœ°å€ã€‚ IPåœ°å€çš„èŒƒå›´æŒ‡æ´¾ï¼š ç½‘ç»œç±»åˆ« æœ€å¤§å¯æŒ‡æ´¾çš„ç½‘ç»œæ•° ç¬¬ä¸€ä¸ªå¯æŒ‡æ´¾çš„ç½‘ç»œå· æœ€åŽä¸€ä¸ªå¯æŒ‡æ´¾çš„ç½‘ç»œå· æ¯ä¸ªç½‘ç»œä¸­æœ€å¤§ä¸»æœºæ•° A 126 (2^7â€“ 2) 1 126 16777214 B 16383 (2^14 â€“ 1) 128.1 191.255 65534 C 2097151 (2^21â€“ 1) 192.0.1 223.255.255 254 ä¸€èˆ¬ä¸ä½¿ç”¨çš„ç‰¹æ®Šçš„IPåœ°å€ï¼š ç½‘ç»œå· ä¸»æœºå· æºåœ°å€ä½¿ç”¨ ç›®çš„åœ°å€ä½¿ç”¨ ä»£è¡¨çš„æ„æ€ 0 0 å¯ä»¥ ä¸å¯ åœ¨æœ¬ç½‘ç»œä¸Šçš„æœ¬ä¸»æœº 0 host-id å¯ä»¥ ä¸å¯ åœ¨æœ¬ç½‘ç»œä¸Šçš„æŸå°ä¸»æœºhost-id å…¨ 1 å…¨ 1 ä¸å¯ å¯ä»¥ åªåœ¨æœ¬ç½‘ç»œä¸Šè¿›è¡Œå¹¿æ’­ï¼ˆå„è·¯ç”±å™¨å‡ä¸è½¬å‘ï¼‰ net-id å…¨ 1 ä¸å¯ å¯ä»¥ å¯¹net-idä¸Šçš„æ‰€æœ‰ä¸»æœºè¿›è¡Œå¹¿æ’­ 127 éžå…¨ 0æˆ–å…¨1çš„ä»»ä½•æ•° å¯ä»¥ å¯ä»¥ ç”¨äºŽæœ¬åœ°è½¯ä»¶çŽ¯å›žæµ‹è¯• ä¾‹å¦‚å¸¸è§çš„ç‰¹æ®ŠIPï¼š 127.0.0.1ï¼Œæœ¬åœ°å›žçŽ¯åœ°å€ï¼Œå…¶å®žåªè¦æ˜¯127å¼€å§‹çš„ä»»æ„åœ°å€ï¼Œä½ åœ¨æœ¬åœ°è®¡ç®—æœºéƒ½å¯ä»¥pingé€šã€‚å¦‚æžœpingä¸é€šè¯´æ˜Žä½ çš„ç‰©ç†å±‚ç½‘å¡æœ‰é—®é¢˜ï¼Œå¦‚æžœç‰©ç†å±‚æ²¡é—®é¢˜ï¼Œé‚£ä¹ˆTCP/IPåè®®æ ˆæœ‰é—®é¢˜ã€‚ 169.254.0.0 ï¼ŒWindowsä¸»æœºç‰¹æ®Šçš„åœ°å€ï¼Œå½“Windowsä¸»æœºæ‰¾ä¸åˆ°DHCPæœåŠ¡å™¨çš„æ—¶å€™ï¼Œä¼šé»˜è®¤åˆ†é…169.254.X.Xçš„IPåœ°å€ã€‚ 10.0.0.0ï¼Œä¿ç•™çš„Aç±»ç§ç½‘åœ°å€ï¼Œä¸€èˆ¬ç”¨äºŽæ”¿åºœã€ä¼ä¸šã€å­¦æ ¡ç½‘ç»œã€‚æˆ‘å¤§å­¦æ ¡å›­ç½‘éƒ½æ˜¯ä¸€ä¸ª10.x.x.xçš„Aç±»ç½‘ç»œã€‚ 172.16.0.0 - 172.31.0.0 ï¼Œä¿ç•™çš„Cç±»ç§ç½‘åœ°å€ 192.168.0.0 - 192.168.255.0ï¼Œä¿ç•™çš„Cç±»ç§ç½‘åœ°å€1.5 IP åœ°å€çš„ä¸€äº›é‡è¦ç‰¹ç‚¹ IP åœ°å€æ˜¯ä¸€ç§åˆ†ç­‰çº§çš„åœ°å€ç»“æž„ã€‚åˆ†ä¸¤ä¸ªç­‰çº§çš„å¥½å¤„æ˜¯ï¼šç¬¬ä¸€ï¼ŒIP åœ°å€ç®¡ç†æœºæž„åœ¨åˆ†é… IP åœ°å€æ—¶åªåˆ†é…ç½‘ç»œå·ï¼Œè€Œå‰©ä¸‹çš„ä¸»æœºå·åˆ™ç”±å¾—åˆ°è¯¥ç½‘ç»œå·çš„å•ä½è‡ªè¡Œåˆ†é…ã€‚è¿™æ ·å°±æ–¹ä¾¿äº† IP åœ°å€çš„ç®¡ç†ã€‚ç¬¬äºŒï¼Œè·¯ç”±å™¨ä»…æ ¹æ®ç›®çš„ä¸»æœºæ‰€è¿žæŽ¥çš„ç½‘ç»œå·æ¥è½¬å‘åˆ†ç»„ï¼ˆè€Œä¸è€ƒè™‘ç›®çš„ä¸»æœºå·ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿è·¯ç”±è¡¨ä¸­çš„é¡¹ç›®æ•°å¤§å¹…åº¦å‡å°‘ï¼Œä»Žè€Œå‡å°äº†è·¯ç”±è¡¨æ‰€å çš„å­˜å‚¨ç©ºé—´ã€‚ å®žé™…ä¸Š IP åœ°å€æ˜¯æ ‡å¿—ä¸€ä¸ªä¸»æœºï¼ˆæˆ–è·¯ç”±å™¨ï¼‰å’Œä¸€æ¡é“¾è·¯çš„æŽ¥å£ã€‚å½“ä¸€ä¸ªä¸»æœºåŒæ—¶è¿žæŽ¥åˆ°ä¸¤ä¸ªç½‘ç»œä¸Šæ—¶ï¼Œè¯¥ä¸»æœºå°±å¿…é¡»åŒæ—¶å…·æœ‰ä¸¤ä¸ªç›¸åº”çš„ IP åœ°å€ï¼Œå…¶ç½‘ç»œå· net-id å¿…é¡»æ˜¯ä¸åŒçš„ã€‚è¿™ç§ä¸»æœºç§°ä¸ºå¤šå½’å±žä¸»æœº (multihomed host)ã€‚ç”±äºŽä¸€ä¸ªè·¯ç”±å™¨è‡³å°‘åº”å½“è¿žæŽ¥åˆ°ä¸¤ä¸ªç½‘ç»œï¼ˆè¿™æ ·å®ƒæ‰èƒ½å°† IP æ•°æ®æŠ¥ä»Žä¸€ä¸ªç½‘ç»œè½¬å‘åˆ°å¦ä¸€ä¸ªç½‘ç»œï¼‰ï¼Œå› æ­¤ä¸€ä¸ªè·¯ç”±å™¨è‡³å°‘åº”å½“æœ‰ä¸¤ä¸ªä¸åŒçš„ IP åœ°å€ã€‚ ç”¨è½¬å‘å™¨æˆ–ç½‘æ¡¥è¿žæŽ¥èµ·æ¥çš„è‹¥å¹²ä¸ªå±€åŸŸç½‘ä»ä¸ºä¸€ä¸ªç½‘ç»œï¼Œå› æ­¤è¿™äº›å±€åŸŸç½‘éƒ½å…·æœ‰åŒæ ·çš„ç½‘ç»œå·net-idã€‚ æ‰€æœ‰åˆ†é…åˆ°ç½‘ç»œå· net-id çš„ç½‘ç»œï¼Œæ— è®ºæ˜¯èŒƒå›´å¾ˆå°çš„å±€åŸŸç½‘ï¼Œè¿˜æ˜¯å¯èƒ½è¦†ç›–å¾ˆå¤§åœ°ç†èŒƒå›´çš„å¹¿åŸŸç½‘ï¼Œéƒ½æ˜¯å¹³ç­‰çš„ã€‚2. å­ç½‘åˆ’åˆ†å’Œæž„é€ è¶…ç½‘ 2.1 åˆ’åˆ†å­ç½‘2.1.1 ä»Žä¸¤çº§ IP åˆ°ä¸‰çº§ IPåœ¨ ARPANET çš„æ—©æœŸï¼ŒIP åœ°å€çš„è®¾è®¡ç¡®å®žä¸å¤Ÿåˆç†ï¼š(1) IP åœ°å€ç©ºé—´çš„åˆ©ç”¨çŽ‡æœ‰æ—¶å¾ˆä½Žã€‚(2) ç»™æ¯ä¸€ä¸ªç‰©ç†ç½‘ç»œåˆ†é…ä¸€ä¸ªç½‘ç»œå·ä¼šä½¿è·¯ç”±è¡¨å˜å¾—å¤ªå¤§å› è€Œä½¿ç½‘ç»œæ€§èƒ½å˜åã€‚(3) ä¸¤çº§çš„ IP åœ°å€ä¸å¤Ÿçµæ´»ã€‚ 2.1.2 ä¸‰çº§IPä»Ž 1985 å¹´èµ·åœ¨ IP åœ°å€ä¸­åˆå¢žåŠ äº†ä¸€ä¸ªâ€œå­ç½‘å·å­—æ®µâ€ï¼Œä½¿ä¸¤çº§çš„ IP åœ°å€å˜æˆä¸ºä¸‰çº§çš„ IP åœ°å€ã€‚è¿™ç§åšæ³•å«åšåˆ’åˆ†å­ç½‘ (subnetting) ã€‚åˆ’åˆ†å­ç½‘å·²æˆä¸ºäº’è”ç½‘çš„æ­£å¼æ ‡å‡†åè®®ã€‚ (1) åˆ’åˆ†å­ç½‘çº¯å±žä¸€ä¸ªå•ä½å†…éƒ¨çš„äº‹æƒ…ã€‚å•ä½å¯¹å¤–ä»ç„¶è¡¨çŽ°ä¸ºæ²¡æœ‰åˆ’åˆ†å­ç½‘çš„ç½‘ç»œã€‚(2) ä»Žä¸»æœºå·å€Ÿç”¨è‹¥å¹²ä¸ªä½ä½œä¸ºå­ç½‘å· subnet-idï¼Œè€Œä¸»æœºå· host-id ä¹Ÿå°±ç›¸åº”å‡å°‘äº†è‹¥å¹²ä¸ªä½ã€‚ IPåœ°å€=ç½‘ç»œå·+(å­ç½‘å·+ä¸»æœºå·) å‡¡æ˜¯ä»Žå…¶ä»–ç½‘ç»œå‘é€ç»™æœ¬å•ä½æŸä¸ªä¸»æœºçš„IPæ•°æ®æŠ¥ï¼Œä»ç„¶æ˜¯æ ¹æ®IPæ•°æ®æŠ¥çš„ç›®çš„ç½‘ç»œå· net-idï¼Œå…ˆæ‰¾åˆ°è¿žæŽ¥åœ¨æœ¬å•ä½ç½‘ç»œä¸Šçš„è·¯ç”±å™¨ã€‚ç„¶åŽæ­¤è·¯ç”±å™¨åœ¨æ”¶åˆ° IP æ•°æ®æŠ¥åŽï¼Œå†æŒ‰ç›®çš„ç½‘ç»œå· net-id å’Œå­ç½‘å· subnet-id æ‰¾åˆ°ç›®çš„å­ç½‘ã€‚æœ€åŽå°±å°† IP æ•°æ®æŠ¥ç›´æŽ¥äº¤ä»˜ç›®çš„ä¸»æœºã€‚ å‡è®¾ä»¥ä¸‹ä¸ºä¸€ä¸ªæœªåˆ’åˆ†å­ç½‘çš„Bç±»ç½‘ç»œ145.13.0.0ï¼Œç½‘ç»œå·æ˜¯145.13ï¼ŒåŽé¢ä¸¤ä½æ˜¯ä¸»æœºå·ï¼Œå³å‡¡æ˜¯åœ°å€ä¸º145.13.x.xçš„æ•°æ®æŠ¥æ–‡éƒ½è¢«é€åˆ°è¿™ä¸ªç½‘ç»œä¸Šçš„è·¯ç”±å™¨R1ã€‚ è‹¥å­ç½‘å·å 8ä½ï¼Œå°†ä¸Šè¿°çš„ç½‘ç»œåˆ’åˆ†ä¸ºä¸‰ä¸ªå­ç½‘åŽï¼Œä¸»æœºå·å°±åªæœ‰8ä½ï¼Œæ‰€ä»¥åˆ’åˆ†çš„ä¸‰ä¸ªå­ç½‘æ˜¯145.13.3.0ã€145.13.7.0ã€145.13.21.0ï¼Œåœ¨åˆ’åˆ†å­ç½‘åŽï¼Œæ•´ä¸ªç½‘ç»œå¯¹å¤–éƒ¨ä»ç„¶è¡¨çŽ°ä¸ºä¸€ä¸ªç½‘ç»œï¼Œå…¶ç½‘ç»œåœ°å€ä»ä¸º145.13.0.0ã€‚ä½†æ˜¯ç½‘ç»œ145.13.0.0ä¸Šçš„è·¯ç”±å™¨R1åœ¨æ”¶åˆ°å¤–æ¥çš„æ•°æ®åŽï¼Œå†æ ¹æ®æ•°æ®æŠ¥çš„ç›®çš„åœ°å€æŠŠå®ƒè½¬å‘åˆ°ç›¸åº”çš„å­ç½‘ã€‚åˆ’åˆ†å­ç½‘åŽçš„ä¼˜ç‚¹ï¼š å‡å°‘äº† IP åœ°å€çš„æµªè´¹ ä½¿ç½‘ç»œçš„ç»„ç»‡æ›´åŠ çµæ´» æ›´ä¾¿äºŽç»´æŠ¤å’Œç®¡ç† 2.2 å­ç½‘æŽ©ç æˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼šå‡è®¾æœ‰ä¸€ä¸ªæ•°æ®æŠ¥,å…¶ç›®çš„åœ°å€æ˜¯145.13.3.10å·²åˆ°è¾¾äº†è·¯ç”±å™¨R1ã€‚é‚£ä¹ˆè¿™ä¸ªè·¯ç”±å™¨å¦‚ä½•æŠŠå®ƒè½¬å‘åˆ°å­ç½‘145.13.3.0å‘¢ï¼Ÿ ä»Žä¸€ä¸ª IP æ•°æ®æŠ¥çš„é¦–éƒ¨å¹¶æ— æ³•åˆ¤æ–­æºä¸»æœºæˆ–ç›®çš„ä¸»æœºæ‰€è¿žæŽ¥çš„ç½‘ç»œæ˜¯å¦è¿›è¡Œäº†å­ç½‘åˆ’åˆ†ã€‚ä½¿ç”¨å­ç½‘æŽ©ç  (subnet mask) å¯ä»¥æ‰¾å‡º IP åœ°å€ä¸­çš„å­ç½‘éƒ¨åˆ†ã€‚è§„åˆ™ï¼š å­ç½‘æŽ©ç é•¿åº¦ ï¼ 32 ä½ å­ç½‘æŽ©ç å·¦è¾¹éƒ¨åˆ†çš„ä¸€è¿žä¸² 1ï¼Œå¯¹åº”äºŽç½‘ç»œå·å’Œå­ç½‘å· å­ç½‘æŽ©ç å³è¾¹éƒ¨åˆ†çš„ä¸€è¿žä¸² 0ï¼Œå¯¹åº”äºŽä¸»æœºå· (IP åœ°å€) ä¸Žè¿ç®— (å­ç½‘æŽ©ç ) = å­ç½‘çš„ç½‘ç»œåœ°å€ ä½¿ç”¨å­ç½‘æŽ©ç çš„å¥½å¤„: ä¸ç®¡ç½‘ç»œæœ‰æ²¡æœ‰åˆ’åˆ†å­ç½‘ï¼Œåªè¦æŠŠå­ç½‘æŽ©ç å’ŒIPåœ°å€è¿›è¡Œä¸Žè¿ç®—ï¼Œå°±ç«‹å³å¾—å‡ºç½‘ç»œåœ°å€ã€‚ 145.13.0.0æ˜¯ä¸€ä¸ªæ™®é€šçš„Bç±»ç½‘ç»œï¼Œå…¶å­ç½‘æŽ©ç ä¸º16ä¸ªè¿žç»­1+16ä¸ªè¿žç»­0ï¼Œæ•°æ®æŠ¥è¿›å…¥åˆ°è¿™ä¸ªç½‘ç»œåŽåˆ°è·¯ç”±å™¨å±‚ï¼Œå°±å¯ä»¥çŸ¥é“æœ‰è®¸å¤šå­ç½‘ï¼Œæ­¤æ—¶å¯ä»¥è®¡ç®—æ­¤æ—¶çš„ç½‘ç»œåœ°å€ä¸ºï¼š145.13.x.0ï¼Œå…¶xè¡¨ç¤ºä¸åŒçš„å­ç½‘å· 2.2.1 é»˜è®¤çš„å­ç½‘æŽ©ç  å­ç½‘æŽ©ç æ˜¯ä¸€ä¸ªç½‘ç»œæˆ–ä¸€ä¸ªå­ç½‘çš„é‡è¦å±žæ€§ã€‚è·¯ç”±å™¨åœ¨å’Œç›¸é‚»è·¯ç”±å™¨äº¤æ¢è·¯ç”±ä¿¡æ¯æ—¶ï¼Œå¿…é¡»æŠŠè‡ªå·±æ‰€åœ¨ç½‘ç»œï¼ˆæˆ–å­ç½‘ï¼‰çš„å­ç½‘æŽ©ç å‘Šè¯‰ç›¸é‚»è·¯ç”±å™¨ã€‚è·¯ç”±å™¨çš„è·¯ç”±è¡¨ä¸­çš„æ¯ä¸€ä¸ªé¡¹ç›®ï¼Œé™¤äº†è¦ç»™å‡ºç›®çš„ç½‘ç»œåœ°å€å¤–ï¼Œè¿˜å¿…é¡»åŒæ—¶ç»™å‡ºè¯¥ç½‘ç»œçš„å­ç½‘æŽ©ç ã€‚è‹¥ä¸€ä¸ªè·¯ç”±å™¨è¿žæŽ¥åœ¨ä¸¤ä¸ªå­ç½‘ä¸Šï¼Œå°±æ‹¥æœ‰ä¸¤ä¸ªç½‘ç»œåœ°å€å’Œä¸¤ä¸ªå­ç½‘æŽ©ç ã€‚ 2.2.2 å­ç½‘åˆ’åˆ†æ–¹æ³• æœ‰å›ºå®šé•¿åº¦å­ç½‘å’Œå˜é•¿å­ç½‘ä¸¤ç§å­ç½‘åˆ’åˆ†æ–¹æ³•ã€‚ åœ¨é‡‡ç”¨å›ºå®šé•¿åº¦å­ç½‘æ—¶ï¼Œæ‰€åˆ’åˆ†çš„æ‰€æœ‰å­ç½‘çš„å­ç½‘æŽ©ç éƒ½æ˜¯ç›¸åŒçš„ã€‚ è™½ç„¶æ ¹æ®å·²æˆä¸ºäº’è”ç½‘æ ‡å‡†åè®®çš„ RFC 950 æ–‡æ¡£ï¼Œå­ç½‘å·ä¸èƒ½ä¸ºå…¨ 1 æˆ–å…¨ 0ï¼Œä½†éšç€æ— åˆ†ç±»åŸŸé—´è·¯ç”±é€‰æ‹© CIDR çš„å¹¿æ³›ä½¿ç”¨ï¼ŒçŽ°åœ¨å…¨ 1 å’Œå…¨ 0 çš„å­ç½‘å·ä¹Ÿå¯ä»¥ä½¿ç”¨äº†ï¼Œä½†ä¸€å®šè¦è°¨æ…Žä½¿ç”¨ï¼Œç¡®è®¤ä½ çš„è·¯ç”±å™¨æ‰€ç”¨çš„è·¯ç”±é€‰æ‹©è½¯ä»¶æ˜¯å¦æ”¯æŒå…¨ 0 æˆ–å…¨ 1 çš„å­ç½‘å·è¿™ç§è¾ƒæ–°çš„ç”¨æ³•ã€‚ åˆ’åˆ†å­ç½‘å¢žåŠ äº†çµæ´»æ€§ï¼Œä½†å´å‡å°‘äº†èƒ½å¤Ÿè¿žæŽ¥åœ¨ç½‘ç»œä¸Šçš„ä¸»æœºæ€»æ•°ã€‚ 2.2.3 Bç±»åœ°å€çš„å­ç½‘åˆ’åˆ†é€‰æ‹©ï¼ˆä½¿ç”¨å›ºå®šé•¿åº¦å­ç½‘ï¼‰ å­ç½‘å·çš„ä½æ•° å­ç½‘æŽ©ç  å­ç½‘æ•° æ¯ä¸ªå­ç½‘çš„ä¸»æœºæ•° 2 255.255.192.0 2 16382 3 255.255.224.0 6 8190 4 255.255.240.0 14 4094 5 255.255.248.0 30 2046 6 255.255.252.0 62 1022 7 255.255.254.0 126 510 8 255.255.255.0 254 254 9 255.255.255.128 510 126 10 255.255.255.192 1022 62 11 255.255.255.224 2046 30 12 255.255.255.240 4094 14 13 255.255.255.248 8190 6 14 255.255.255.252 16382 2 æ³¨æ„ï¼šè¡¨ä¸­çš„â€œå­ç½‘å·çš„ä½æ•°â€ä¸­æ²¡æœ‰ 0, 1, 15 å’Œ 16 è¿™å››ç§æƒ…å†µï¼Œå› ä¸ºè¿™æ²¡æœ‰æ„ä¹‰ã€‚ å…¶å®žå¯ä»¥æ€»ç»“ä¸ºï¼šå­ç½‘æ•°=2^å­ç½‘å·çš„ä½æ•°-2ï¼Œä¸»æœºéƒ¨åˆ†å…¨0å’Œå…¨1çš„ä¸èƒ½ç”¨ å·²çŸ¥ IP åœ°å€æ˜¯ 141.14.72.24ï¼Œå­ç½‘æŽ©ç æ˜¯ 255.255.192.0ã€‚è¯•æ±‚ç½‘ç»œåœ°å€ï¼Ÿ åˆ’åˆ†æ­¥éª¤ï¼š ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºçš„IPåœ°å€ï¼Œå°†åè¿›åˆ¶çš„IPæ®µç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼› å°†å­ç½‘æŽ©ç ä¹Ÿç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼› ä¸¤è€…è¿›è¡Œä¸Žè¿ç®—å¾—å‡ºç½‘ç»œåœ°å€ä¸º141.14.64.0 è‹¥å­ç½‘æŽ©ç æ”¹ä¸º 255.255.224.0ï¼Œè¯•æ±‚ç½‘ç»œåœ°å€ï¼Œè®¨è®ºæ‰€å¾—ç»“æžœï¼Ÿ æŒ‰ç…§ä¸Šè¿°æ­¥éª¤ï¼Œå…¶å®žç®—ä¸‹æ¥çš„ç½‘ç»œåœ°å€è¿˜æ˜¯141.14.64.0ã€‚ ç”±æ­¤å¯è§ï¼šä¸åŒçš„å­ç½‘æŽ©ç å¾—å‡ºç›¸åŒçš„ç½‘ç»œåœ°å€ã€‚ä½†ä¸åŒçš„æŽ©ç çš„æ•ˆæžœæ˜¯ä¸åŒçš„ã€‚ 2.3 å„ç±»IPå­ç½‘åˆ’åˆ†ç¤ºä¾‹2.3.1 ç­‰åˆ†å­ç½‘åˆ’åˆ†èƒŒæ™¯ï¼š æŸå…¬å¸æœ‰ä¸¤ä¸ªéƒ¨é—¨ï¼Œæ¯ä¸ªéƒ¨é—¨å„æœ‰100å°ä¸»æœºï¼Œå¹¶ä¸”éƒ½åœ¨ä½¿ç”¨192.168.0.0Cç±»ç½‘ç»œï¼Œè¯¥ç½‘ç»œå­ç½‘æŽ©ç æ˜¯255.255.255.0ï¼Œè¿žæŽ¥å±€åŸŸç½‘çš„è·¯ç”±å™¨æŽ¥å£å¯é…ç½®çš„ç¬¬ä¸€ä¸ªå¯ç”¨IPåœ°å€æ˜¯192.168.0.1 éœ€æ±‚ï¼š çŽ°åœ¨å…¬å¸æå‡ºç­‰åˆ†æˆä¸¤ä¸ªå­ç½‘å°†ä¸åŒéƒ¨é—¨çš„ç½‘ç»œéš”ç¦»å‡ºæ¥ï¼Œå³å°†ä¸€ä¸ªCç±»åœ°å€ç­‰åˆ†ä¸ºä¸¤ä¸ªç½‘æ®µã€‚ä¸¤ä¸ªç½‘ç»œä¹‹é—´é€šè¿‡è·¯ç”±å™¨è¿›è¡Œç½‘ç»œè½¬å‘ï¼Œç›®çš„æ˜¯ä¸ºäº†å±€åŸŸç½‘å®‰å…¨(æ¯”å¦‚æŠ€æœ¯éƒ¨é—¨çš„ä¸»æœºä¸èƒ½å¤ŸæŸ¥çœ‹è´¢åŠ¡éƒ¨é—¨çš„å…±äº«èµ„æ–™)ã€‚ åˆ’åˆ†æ­¥éª¤ï¼š ä¸»æœºä½å¾€å¾€åŽç§»åŠ¨1ä½ æ­¤æ—¶Aå­ç½‘çš„IPæ®µå°±æ˜¯192.168.0.0(å­ç½‘ä½) 1111111(ä¸»æœºä½)ï¼ŒBå­ç½‘çš„IPæ®µå°±æ˜¯192.168.0.1(å­ç½‘ä½) 0000000(ä¸»æœºä½) æœ€ç»ˆå¾—å‡ºå­ç½‘æŽ©ç ä¸º255.255.255.128 Aå­ç½‘ä¸»æœºéƒ¨åˆ†æ˜¯å…¨0æˆ–å…¨1çš„IPåœ°å€ä¸èƒ½ç”¨ï¼Œå³192.168.0.0(æ²¡æœ‰æ„ä¹‰ï¼Œåªä»£è¡¨ç½‘ç»œå·)å’Œ192.168.0.127(å¹¿æ’­åœ°å€)ï¼Œæ‰€ä»¥Açš„æœ‰æ•ˆåœ°å€ä¸º192.168.0.1 - 192.168.0.126 Bå­ç½‘ä¸»æœºéƒ¨åˆ†æ˜¯å…¨0æˆ–å…¨1çš„IPåœ°å€ä¸èƒ½ç”¨ï¼Œå³192.168.0.128(æ²¡æœ‰æ„ä¹‰ï¼Œåªä»£è¡¨ç½‘ç»œå·)å’Œ192.168.0.255(å¹¿æ’­åœ°å€)ï¼Œæ‰€ä»¥Açš„æœ‰æ•ˆåœ°å€ä¸º192.168.0.129 - 192.168.0.254 æ€»ç»“ï¼š å­ç½‘æŽ©ç å¾€åŽç§»Nä½ï¼Œåˆ™æ¯ä¸ªå­ç½‘æ˜¯åŽŸæ¥çš„1/2^Nã€‚ å­ç½‘åˆ’åˆ†çš„ä¸ªæ•°åªèƒ½æ˜¯å¶æ•°ï¼Œä¸èƒ½æ˜¯å¥‡æ•° 2.3.2 å˜é•¿å­ç½‘åˆ’åˆ†éœ€æ±‚ï¼š åˆ¤æ–­192.168.0.101/26æ‰€å±žçš„å­ç½‘ åˆ†æžæ€è·¯: 192.168.0.101/24å­ç½‘æŽ©ç ä¸º255.255.255.0ï¼Œé‚£ä¹ˆ192.168.0.101/26å…¶å®žå°±æ˜¯å­ç½‘æŽ©ç å¾€åŽç§»ä¸¤ä½ æ•´ä¸ªç½‘ç»œè¢«åˆ†ä¸ºäº†4éƒ¨åˆ†ï¼Œä¸»æœºä½å½’0ï¼Œå­ç½‘æŽ©ç ä¸º255.255.255.64 é‚£ä¹ˆæœ€ç»ˆ101æ‰€åœ¨çš„å­ç½‘æœ‰æ•ˆåœ°å€ä¸º192.168.0.1-192.168.0.63","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://ltyeamin.github.io/tags/è®¡ç®—æœºç½‘ç»œ/"}]},{"title":"è·Ÿç€å½¤å“¥å­¦ç½‘ç»œ-åˆè¯†ç½‘ç»œ","slug":"è·Ÿç€å½¤å“¥å­¦ç½‘ç»œ-åˆè¯†ç½‘ç»œ","date":"2019-12-21T02:19:23.000Z","updated":"2020-01-08T12:59:51.000Z","comments":true,"path":"2019/12/21/è·Ÿç€å½¤å“¥å­¦ç½‘ç»œ-åˆè¯†ç½‘ç»œ/","link":"","permalink":"http://ltyeamin.github.io/2019/12/21/è·Ÿç€å½¤å“¥å­¦ç½‘ç»œ-åˆè¯†ç½‘ç»œ/","excerpt":"","text":"1.1 ä¸ºä»€ä¹ˆè¦å­¦ç½‘ç»œ èº«ä¸ºè®¡ç®—æœºä¸“ä¸šä»¥åŠITä»Žä¸šè€…ï¼ŒåŸºç¡€æ€§ä¸œè¥¿å¿…é¡»è¦æ‡‚ï¼Œä¸ç„¶éƒ½ä¸å¥½æ„æ€åœ¨è¿™è¡Œæ··ã€‚ ç†Ÿæ‚‰ç½‘ç»œåŽŸç†ï¼Œå¯ä»¥è§£å†³æ—¥å¸¸å®¶ç”¨çº§æˆ–ä¼ä¸šçº§çš„ç½‘ç»œæ•…éšœé—®é¢˜ï¼Œä¸ç„¶å°±èŠ±é’±è¯·äººè§£å†³ç½‘ç»œæ•…éšœå§ã€‚ å¯ä»¥è€ƒåŽä¸ºæˆ–æ€ç§‘ç½‘ç»œè®¤è¯ï¼Œä¸ºè‡ªå·±å†è°‹ä¸€ä»½å‡ºè·¯ï¼Œä¸ç„¶å°±ç­‰35å²è¡Œä¸šå±æœºå§ã€‚ ä½œä¸ºæ–°æ—¶ä»£çš„ä½ ï¼Œå¤šå­¦ç‚¹çŸ¥è¯†ï¼Œå¤šå……å®žè‡ªå·±ï¼Œå°‘æµªè´¹ç‚¹æ—¶é—´ï¼Œä¸ç„¶ä½ å’Œå’¸é±¼æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚ IPv4ä»Šå¹´å·²èµ°åˆ°å°½å¤´ï¼ŒIPv6å…¨é¢åŒ–å»ºè®¾ï¼Œè§‚å¯Ÿå‰æ²¿æŠ€æœ¯ï¼Œç´§è·Ÿæ—¶ä»£æ­¥ä¼ã€‚1.2 ä¼ ç»Ÿçš„ç½‘ç»œåˆ†ç±» ç”µä¿¡ç½‘ç»œï¼šå‘ç”¨æˆ·æä¾›ç”µè¯ã€ç”µæŠ¥åŠä¼ çœŸç­‰æœåŠ¡ã€‚å¦‚æˆ‘å›½çš„ä¸‰å¤§ç”µä¿¡ç½‘ç»œè¿è¥å•†ï¼ˆä¸­å›½ç”µä¿¡ã€ä¸­å›½è”é€šã€ä¸­å›½è”é€šï¼‰ã€‚ æœ‰çº¿ç”µè§†ç½‘ç»œï¼š ä»¥å‰å¹¿ç”µå±€ä¸ºå®¶åº­æä¾›çš„æœ‰çº¿ç”µè§†èŠ‚ç›®ã€‚ è®¡ç®—æœºç½‘ç»œï¼š è®¡ç®—æœºä¹‹é—´ä¼ é€æ•°æ®ã€ä¿¡æ¯å…±äº«ã€‚éšç€æ—¶ä»£çš„å¿«é€Ÿå‰è¿›å’ŒæŠ€æœ¯çš„è¿…çŒ›å‘å±•ï¼Œç”µä¿¡ç½‘ç»œå’Œæœ‰çº¿ç”µè§†ç½‘ç»œéƒ½é€æ¸èžå…¥äº†çŽ°ä»£è®¡ç®—æœºç½‘ç»œçš„æŠ€æœ¯ï¼Œæ‰©å¤§åŽŸæœ‰çš„æœåŠ¡èŒƒå›´ï¼Œè€Œè®¡ç®—æœºç½‘ç»œä¹Ÿå¯ä»¥å‘ç”¨æˆ·æä¾›ç”µè¯é€šä¿¡ã€è§†é¢‘é€šä¿¡ä»¥åŠä¼ é€è§†é¢‘èŠ‚ç›®ç­‰å…¶ä»–æœåŠ¡ã€‚è¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä»¥å‰ç»å¸¸è¯´çš„â€ä¸‰ç½‘èžåˆâ€ã€‚1.3 è®¡ç®—æœºç½‘ç»œå®šä¹‰ 1.3.1 ç™¾åº¦ç™¾ç§‘å®šä¹‰ è®¡ç®—æœºç½‘ç»œæ˜¯æŒ‡å°†åœ°ç†ä½ç½®ä¸åŒçš„å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„å¤šå°è®¡ç®—æœºåŠå…¶å¤–éƒ¨è®¾å¤‡ï¼Œé€šè¿‡é€šä¿¡çº¿è·¯è¿žæŽ¥èµ·æ¥ï¼Œåœ¨ç½‘ç»œæ“ä½œç³»ç»Ÿï¼Œç½‘ç»œç®¡ç†è½¯ä»¶åŠç½‘ç»œé€šä¿¡åè®®çš„ç®¡ç†å’Œåè°ƒä¸‹ï¼Œå®žçŽ°èµ„æºå…±äº«å’Œä¿¡æ¯ä¼ é€’çš„è®¡ç®—æœºç³»ç»Ÿ 1.3.2 é€šç”¨å®šä¹‰è®¡ç®—æœºç½‘ç»œ(ç®€ç§°ä¸ºç½‘ç»œ)ç”±è‹¥å¹²ç»“ç‚¹å’Œè¿žæŽ¥è¿™äº›ç»“ç‚¹çš„é“¾è·¯ç»„æˆã€‚ç½‘ç»œçš„ä¸­å¿ƒç»“ç‚¹å¯ä»¥æ˜¯è®¡ç®—æœºã€é›†çº¿å™¨ã€äº¤æ¢æœºæˆ–è·¯ç”±å™¨ç­‰ã€‚ 1.3.3 è¾ƒå¥½çš„å®šä¹‰è®¡ç®—æœºç½‘ç»œä¸»è¦æ˜¯ç”±ä¸€äº›é€šç”¨çš„ã€å¯ç¼–ç¨‹çš„ç¡¬ä»¶äº’è¿žè€Œæˆçš„ï¼Œè€Œè¿™äº›ç¡¬ä»¶å¹¶éžä¸“é—¨ç”¨æ¥å®žçŽ°æŸä¸€ç‰¹å®šç›®çš„ï¼ˆä¾‹å¦‚ï¼Œä¼ é€æ•°æ®æˆ–è§†é¢‘ä¿¡å·ï¼‰ã€‚è¿™äº›å¯ç¼–ç¨‹çš„ç¡¬ä»¶èƒ½å¤Ÿç”¨æ¥ä¼ é€å¤šç§ä¸åŒç±»åž‹çš„æ•°æ®ï¼Œå¹¶èƒ½æ”¯æŒå¹¿æ³›çš„å’Œæ—¥ç›Šå¢žé•¿çš„åº”ç”¨ã€‚ä»¥ä¸Šçš„å®šä¹‰å¯ç”¨ä¸‹å›¾æ¥æè¿°ï¼š 1.4 äº’è”ç½‘20ä¸–çºª90å¹´ä»£ä»¥åŽï¼ŒInternetä»£è¡¨è®¡ç®—æœºç½‘ç»œè¿…é€Ÿå‘å±•ï¼Œæœ€æ—©ç¾Žå›½äººä»…ä¾›ç”¨äºŽå…è´¹çš„æ•™è‚²ç§‘ç ”ç½‘ç»œã€‚è€ŒåŽæ¥å‘å±•ä¸ºä¾›å…¨çƒä½¿ç”¨æœ€å¤§çš„å’Œæœ€é‡è¦çš„å•†ä¸šç½‘ç»œã€‚è®¡ç®—æœºå’Œç½‘ç»œå·²ç»æˆä¸ºå½“ä»Šä¿¡æ¯æ—¶ä»£çš„æ ¸å¿ƒï¼Œå·²ç»æˆä¸ºä¿¡æ¯ç¤¾ä¼šçš„å‘½è„‰å’Œå‘å±•çŸ¥è¯†ç»æµŽçš„é‡è¦åŸºç¡€ã€‚ 1.4.1 ç›¸å…³æ¦‚å¿µ1).å› ç‰¹ç½‘ï¼š Internetï¼Œä¸­æ–‡è¯‘åå› ç‰¹ç½‘ï¼Œå…¨å›½ç§‘å­¦æŠ€æœ¯åè¯å®¡å®šå§”å‘˜ä¼šæŽ¨èï¼Œè¿™ä¸ªè¯‘åè¾ƒä¸ºå‡†ç¡®ï¼Œä½†é•¿æœŸæœªå¾—åˆ°æŽ¨ å¹¿ï¼ŒçŽ°åœ¨å¤§å®¶éƒ½æ˜¯è¯´æ˜¯äº’è”ç½‘ã€‚2). äº’è”ç½‘ï¼š Internetï¼Œä¸“ç”¨åè¯ï¼Œä¸­æ–‡è¯‘åäº’è”ç½‘ï¼Œç›®å‰æœ€æµè¡Œæœ€å¹¿çš„ã€äº‹å®žä¸Šçš„æ ‡å‡†è¯‘åã€‚Internetæ˜¯ç”±æ•°é‡æžå¤§çš„å„ç§è®¡ç®—æœºç½‘ç»œäº’è¿žèµ·æ¥çš„ã€‚é‡‡ç”¨äº’è”ç½‘è¿™ä¸ªè¯‘åèƒ½å¤Ÿä½“çŽ°å‡ºäº’è”ç½‘çš„ç‰¹å¾ã€‚å®ƒé‡‡ç”¨ TCP/IP åè®®æ—ä½œä¸ºé€šä¿¡è§„åˆ™ï¼Œæ˜¯ä¸€ä¸ªè¦†ç›–å…¨çƒã€å®žçŽ°å…¨çƒèŒƒå›´å†…è¿žé€šæ€§å’Œèµ„æºå…±äº«çš„è®¡ç®—æœºç½‘ç»œã€‚3). äº’è¿žç½‘ï¼šinternetï¼Œé¦–å­—æ¯å°å†™ï¼Œé€šç”¨åè¯ï¼Œå¯¹äºŽä»…åœ¨å±€éƒ¨èŒƒå›´äº’è¿žèµ·æ¥çš„è®¡ç®—æœºç½‘ç»œï¼ŒæŠŠè®¸å¤šç½‘ç»œé€šè¿‡è·¯ç”±å™¨è¿žæŽ¥åœ¨ä¸€èµ·å«äº’è”ç½‘ã€‚æ³¨æ„ï¼Œç½‘ç»œäº’è¿žä¸ä»…ä»…æ˜¯ç®€å•åœ°åœ¨ç‰©ç†ä¸Šè¿žæŽ¥èµ·æ¥ï¼Œå¿…é¡»åœ¨è®¡ç®—æœºå®‰è£…è®¸å¤šé€‚å½“çš„è½¯ä»¶æ‰å¯ä»¥äº¤æ¢ä¿¡æ¯ã€‚4). ä¸»æœºï¼š ä¸Žç½‘ç»œç›¸è¿žçš„è®¡ç®—æœºç§°ä¸ºä¸»æœºã€‚ä»»æ„æŠŠå‡ ä¸ªè®¡ç®—æœºç½‘ç»œäº’è¿žèµ·æ¥ï¼ˆä¸ç®¡é‡‡ç”¨ä»€ä¹ˆåè®®ï¼‰ï¼Œå¹¶èƒ½å¤Ÿç›¸äº’é€šä¿¡ï¼Œè¿™æ ·æž„æˆçš„æ˜¯ä¸€ä¸ªäº’è¿žç½‘ (internet)ï¼Œè€Œä¸æ˜¯äº’è”ç½‘ (Internet)ã€‚ 1.4.2 äº’è”ç½‘åŸºç¡€å‘å±•çš„ä¸‰ä¸ªé˜¶æ®µ ç¬¬ä¸€é˜¶æ®µä»Žå•ä¸ªç½‘ç»œARPANETå‘äº’è”ç½‘å‘å±•çš„è¿‡ç¨‹ã€‚èµ·æºäºŽ1969å¹´ç¾Žå›½å›½é˜²éƒ¨åˆ›å»ºçš„ç¬¬ä¸€ä¸ªåˆ†ç»„äº¤æ¢ç½‘ï¼ŒARPANETæœ€åˆåªæ˜¯ä¸€ä¸ªå•ä¸ªçš„åˆ†ç»„äº¤æ¢ç½‘(å¹¶ä¸æ˜¯äº’è¿žçš„ç½‘ç»œ)ã€‚20ä¸–çºª70å¹´ä»£ä¸­æœŸ,ARPANETç½‘æ»¡è¶³ä¸äº†æ‰€æœ‰çš„é€šä¿¡ï¼Œæ‰€ä»¥ç ”ç©¶äº†å¤šç§ç½‘ç»œ(å¦‚åˆ†ç»„æ— çº¿ç”µç½‘ç»œ)äº’è¿žæŠ€æœ¯ï¼Œè¿™å°±æˆä¸ºäº†æˆ‘ä»¬çŽ°åœ¨äº’è”ç½‘çš„é›å½¢ã€‚1983å¹´TCP/IPåè®®æˆä¸ºARPANETä¸Šçš„æ ‡å‡†åè®®ã€‚ä½¿å¾—æ‰€æœ‰ä½¿ç”¨TCP/IPåè®®çš„è®¡ç®—æœºéƒ½èƒ½å¤Ÿåˆ©ç”¨äº’è”ç½‘é€šä¿¡ã€‚å› è€Œå¯ä»¥è¯´æ˜¯1983å¹´äº’è”ç½‘çš„è¯žç”Ÿæ—¶é—´ã€‚1990å¹´ARPANETæ­£å¼å®£å¸ƒå…³é—­ï¼Œå› ä¸ºå®ƒçš„å®žéªŒä»»åŠ¡å·²ç»å®Œæˆã€‚ ç¬¬äºŒé˜¶æ®µå»ºæˆäº†ä¸‰çº§ç»“æž„çš„äº’è”ç½‘ã€‚ä»Ž1985å¹´èµ·ï¼Œç¾Žå›½å›½å®¶ç§‘å­¦åŸºé‡‘ä¼šNSFå›´ç»•å…­ä¸ªå¤§åž‹è®¡ç®—æœºä¸­å¿ƒå»ºè®¾ç½‘ç»œï¼Œå³å›½å®¶ç§‘å­¦åŸºé‡‘ç½‘NSFNETã€‚å®ƒæ˜¯ä¸€ä¸ªä¸‰çº§è®¡ç®—æœºç½‘ç»œï¼Œåˆ†ä¸ºä¸»å¹²ç½‘ã€åœ°åŒºç½‘å’Œæ ¡å›­ç½‘ï¼ˆæˆ–ä¼ä¸šç½‘ï¼‰ã€‚1992å¹´äº’è”ç½‘ä¸Šçš„ä¸»æœºè¶…è¿‡100ä¸‡å°ã€‚1993å¹´äº’è”ç½‘ä¸»å¹²ç½‘çš„é€ŸçŽ‡æé«˜åˆ°45Mbit/s(T3é€ŸçŽ‡)ã€‚ ç¬¬ä¸‰é˜¶æ®µé€æ¸å½¢æˆäº†å¤šå±‚æ¬¡ ISP ç»“æž„çš„äº’è”ç½‘ã€‚å‡ºçŽ°äº†äº’è”ç½‘æœåŠ¡æä¾›è€… ISP (Internet Service Provider)ã€‚æ¯”å¦‚æˆ‘å›½æœ‰åçš„ISPè¿è¥å•†-ä¸­å›½ç”µä¿¡ã€ä¸­å›½ç§»åŠ¨ã€ä¸­å›½è”é€šã€‚ä»»ä½•æœºæž„å’Œä¸ªäººåªè¦å‘æŸä¸ª ISP äº¤çº³è§„å®šçš„è´¹ç”¨ï¼Œå°±å¯ä»Žè¯¥ ISP èŽ·å–æ‰€éœ€ IP åœ°å€çš„ä½¿ç”¨æƒï¼Œå¹¶å¯é€šè¿‡è¯¥ ISP æŽ¥å…¥åˆ°äº’è”ç½‘ã€‚æ ¹æ®æä¾›æœåŠ¡çš„è¦†ç›–é¢ç§¯å¤§å°ä»¥åŠæ‰€æ‹¥æœ‰çš„IPåœ°å€æ•°ç›®çš„ä¸åŒï¼ŒISP ä¹Ÿåˆ†æˆä¸ºä¸åŒå±‚æ¬¡çš„ ISPï¼šä¸»å¹² ISPã€åœ°åŒº ISPå’Œæœ¬åœ° ISPã€‚åˆ° 2016 å¹´ 3 æœˆï¼Œå…¨çƒå·²ç»æœ‰ 226 ä¸ª IXPï¼ˆäº’è”ç½‘äº¤æ¢ç‚¹ï¼ŒInternetXchange Ponitï¼Œä¸»è¦ä½œç”¨æ˜¯å…è®¸ä¸¤ä¸ªç½‘ç»œç›´æŽ¥ç›¸è¿žå¹¶äº¤æ¢åˆ†ç»„ï¼Œè€Œä¸éœ€è¦å†é€šè¿‡ç¬¬ä¸‰ä¸ªç½‘ç»œæ¥è½¬å‘åˆ†ç»„ï¼‰ï¼Œåˆ†å¸ƒåœ¨ 172 ä¸ªå›½å®¶å’Œåœ°åŒºã€‚ä½†äº’è”ç½‘çš„å‘å±•åœ¨å…¨ä¸–ç•Œè¿˜å¾ˆä¸å¹³è¡¡ã€‚1.4.3 ä¸­å›½äº’è”ç½‘å‘å±•åŽ†ç¨‹ 1980 å¹´ï¼Œé“é“éƒ¨å¼€å§‹è¿›è¡Œè®¡ç®—æœºè”ç½‘å®žéªŒã€‚ 1986å¹´8æœˆ25æ—¥ï¼Œç‘žå£«æ—¥å†…ç“¦æ—¶é—´4ç‚¹11åˆ†ï¼ŒåŒ—äº¬æ—¶é—´11ç‚¹11åˆ†ï¼Œç”±å½“æ—¶ä»»é«˜èƒ½ç‰©ç†æ‰€ALEPHç»„ï¼ˆALEPHæ˜¯åœ¨è¥¿æ¬§æ ¸å­ä¸­å¿ƒé«˜èƒ½ç”µå­å¯¹æ’žæœºLEPä¸Šè¿›è¡Œé«˜èƒ½ç‰©ç†å®žéªŒçš„ä¸€ä¸ªå›½é™…åˆä½œç»„ï¼Œæˆ‘å›½ç§‘å­¦å®¶å‚åŠ äº†ALEPHç»„ï¼Œé«˜èƒ½ç‰©ç†æ‰€æ˜¯è¯¥å›½é™…åˆä½œç»„çš„æˆå‘˜å•ä½ã€‚ï¼‰ç»„é•¿çš„å´ä¸ºæ°‘ï¼Œä»ŽåŒ—äº¬å‘ç»™ALEPHçš„é¢†å¯¼â€”â€”ä½äºŽç‘žå£«æ—¥å†…ç“¦è¥¿æ¬§æ ¸å­ä¸­å¿ƒçš„è¯ºè´å°”å¥–èŽ·å¾—è€…æ–¯å¦ä¼¯æ ¼ï¼ˆJack Steinbergerï¼‰çš„ç”µå­é‚®ä»¶ï¼ˆE-mailï¼‰æ˜¯ä¸­å›½ç¬¬ä¸€å°å›½é™…ç”µå­é‚®ä»¶ã€‚ [1] 1989å¹´8æœˆï¼Œä¸­å›½ç§‘å­¦é™¢æ‰¿æ‹…äº†å›½å®¶è®¡å§”ç«‹é¡¹çš„â€œä¸­å…³æ‘æ•™è‚²ä¸Žç§‘ç ”ç¤ºèŒƒç½‘ç»œâ€ï¼ˆNCFCï¼‰â€”â€”ä¸­å›½ç§‘æŠ€ç½‘ï¼ˆCSTNETï¼‰å‰èº«çš„å»ºè®¾ 1989å¹´ï¼Œ ä¸­å›½å¼€å§‹å»ºè®¾äº’è”ç½‘,5å¹´ç›®æ ‡ ,å›½å®¶çº§å››å¤§éª¨å¹²ç½‘ç»œè”ç½‘,11æœˆæˆ‘å›½ç¬¬ä¸€ä¸ªå…¬ç”¨åˆ†ç»„äº¤æ¢ç½‘ CNPAC å»ºæˆè¿è¡Œã€‚ 1991å¹´ï¼Œ åœ¨ä¸­ç¾Žé«˜èƒ½ç‰©ç†å¹´ä¼šä¸Šï¼Œç¾Žæ–¹æå‡ºæŠŠä¸­å›½çº³å…¥äº’è”ç½‘ç»œçš„åˆä½œè®¡åˆ’ 1994å¹´4æœˆ20æ—¥ï¼Œâ€œNCFCå·¥ç¨‹â€é€šè¿‡ç¾Žå›½Sprintå…¬å¸è¿žå…¥Internetçš„64Kbit/så›½é™…ä¸“çº¿å¼€é€šï¼Œå®žçŽ°äº†ä¸ŽInternetçš„å…¨åŠŸèƒ½è¿žæŽ¥ï¼Œä¸­å›½ä»Žæ­¤è¢«å›½é™…ä¸Šæ­£å¼æ‰¿è®¤ä¸ºçœŸæ­£æ‹¥æœ‰å…¨åŠŸèƒ½Internetçš„å›½å®¶ï¼Œå®žçŽ°äº†ä¸­å›½ä¸ŽInternetå…¨åŠŸèƒ½ç½‘ç»œè¿žæŽ¥ï¼Œæ ‡å¿—ç€æˆ‘å›½æœ€æ—©çš„å›½é™…äº’è”ç½‘ç»œçš„è¯žç”Ÿã€‚ä¸­å›½ç§‘æŠ€ç½‘æˆä¸ºä¸­å›½æœ€æ—©çš„å›½é™…äº’è”ç½‘ç»œ 1994å¹´ï¼Œ ä¸­å›½ç¬¬ä¸€ä¸ªå…¨å›½æ€§ TCP/IP äº’è”ç½‘â€”CERNETç¤ºèŒƒç½‘ å·¥ç¨‹ å»ºæˆ,å¹¶äºŽåŒå¹´å…ˆåŽå»ºæˆ 1994å¹´ï¼Œ ä¸­å›½æ•™è‚²ä¸Žç§‘ç ”è®¡ç®—æœºç½‘ ä¸­å›½ç§‘å­¦æŠ€æœ¯ç½‘ä¸­å›½é‡‘æ¡¥ä¿¡æ¯ç½‘ä¸­å›½å…¬ç”¨è®¡ç®—æœºäº’è”ç½‘ ä¸­å›½ç§‘å­¦é™¢é«˜èƒ½ç‰©ç†ç ”ç©¶æ‰€è®¾ç«‹äº†æˆ‘å›½çš„ç¬¬ä¸€ä¸ªä¸‡ç»´ç½‘æœåŠ¡å™¨ã€‚ 1994 å¹´5æœˆï¼Œä¸­å›½ç§‘å­¦é™¢é«˜èƒ½ç‰©ç†ç ”ç©¶æ‰€è®¾ç«‹äº†æˆ‘å›½çš„ç¬¬ä¸€ä¸ªä¸‡ç»´ç½‘æœåŠ¡å™¨ã€‚ 1994å¹´9æœˆï¼Œä¸­å›½å…¬ç”¨è®¡ç®—æœºäº’è”ç½‘ CHINANET æ­£å¼å¯åŠ¨ã€‚ 1995å¹´ï¼Œå¼ æ ‘æ–°åˆ›ç«‹é¦–å®¶äº’è”ç½‘æœåŠ¡ä¾›åº”å•†â€“ç€›æµ·å¨â€“è€ç™¾å§“è¿›å…¥äº’è”ç½‘ 1998å¹´ï¼ŒCERNET ç ”ç©¶è€…åœ¨ä¸­å›½é¦–æ¬¡æ­å»ºIPV6è¯•éªŒåºŠ 2000å¹´ï¼Œ ä¸­å›½ä¸‰å¤§é—¨æˆ·ç½‘ç«™æœç‹ã€æ–°æµªã€ç½‘æ˜“åœ¨ç¾Žå›½çº³æ–¯è¾¾å…‹æŒ‚ç‰Œä¸Šå¸‚ 2001å¹´ï¼Œä¸‹ä¸€ä»£äº’è”ç½‘åœ°åŒºè¯•éªŒç½‘åœ¨åŒ—äº¬å»ºæˆéªŒæ”¶ 2002å¹´ï¼Œ ç¬¬äºŒå­£åº¦ï¼Œæœç‹çŽ‡å…ˆå®£å¸ƒç›ˆåˆ©ï¼Œå®£å¸ƒäº’è”ç½‘çš„æ˜¥å¤©å·²ç»æ¥ä¸´ 2003å¹´ï¼Œ ä¸‹ä¸€ä»£äº’è”ç½‘ç¤ºèŒƒå·¥ç¨‹CNGI é¡¹ç›®å¼€å§‹å®žæ–½ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘å›½é™†ç»­å»ºé€ äº†åŸºäºŽäº’è”ç½‘æŠ€æœ¯çš„å¹¶èƒ½å¤Ÿå’Œäº’è”ç½‘äº’è¿žçš„å¤šä¸ªå…¨å›½èŒƒå›´çš„å…¬ç”¨è®¡ç®—æœºç½‘ç»œï¼Œå…¶ä¸­è§„æ¨¡æœ€å¤§çš„å°±æ˜¯ä¸‹é¢è¿™äº”ä¸ªï¼š a. ä¸­å›½ç”µä¿¡äº’è”ç½‘ CHINANETï¼ˆä¹Ÿå°±æ˜¯åŽŸæ¥çš„ä¸­å›½å…¬ç”¨è®¡ç®—æœºäº’è”ç½‘ï¼‰ b. ä¸­å›½è”é€šäº’è”ç½‘ UNINET c. ä¸­å›½ç§»åŠ¨äº’è”ç½‘ CMNET d. ä¸­å›½æ•™è‚²å’Œç§‘ç ”è®¡ç®—æœºç½‘ CERNET,å§‹å»ºäºŽ1994å¹´,æ˜¯æˆ‘å›½ç¬¬ä¸€ä¸ªIPv4äº’è”ç½‘ä¸»å¹²ç½‘ã€‚ e. ä¸­å›½ç§‘å­¦æŠ€æœ¯ç½‘ CSTNET äº’è”ç½‘å½±å“äººç‰©ï¼š 1987å¹´ï¼Œä»»æ­£éžæ­£å¼æ³¨å†Œæˆç«‹åŽä¸ºï¼ŒåŽä¸ºè¾ƒæ—©æ˜¯ä¸€å®¶ç”Ÿäº§é”€å”®é€šä¿¡è®¾å¤‡çš„æ°‘è¥é€šä¿¡ç§‘æŠ€å…¬å¸ï¼ŒçŽ°æ˜¯å…¨çƒé¢†å…ˆçš„ä¿¡æ¯ä¸Žé€šä¿¡æŠ€æœ¯ï¼ˆICTï¼‰è§£å†³æ–¹æ¡ˆä¾›åº”å•†ã€‚ 1996å¹´ï¼Œå¼ æœé˜³åˆ›ç«‹äº†ä¸­å›½ç¬¬ä¸€å®¶ä»¥é£Žé™©æŠ•èµ„èµ„é‡‘å»ºç«‹çš„äº’è”ç½‘å…¬å¸-çˆ±ç‰¹ä¿¡å…¬å¸ï¼Œ1998å¹´çˆ±ç‰¹ä¿¡å…¬å¸æŽ¨å‡ºæœç‹äº§å“ï¼Œæ›´åä¸ºæœç‹(Sohu)å…¬å¸ã€‚æœç‹å…¬å¸æœ€ä¸»è¦çš„äº§å“å°±æ˜¯æœç‹ç½‘ç«™ï¼Œæ˜¯ä¸­å›½é¦–å®¶å¤§åž‹åˆ†ç±»æŸ¥è¯¢æœç´¢å¼•æ“Žã€‚1999å¹´ï¼Œæœç‹ç½‘ç«™å¢žåŠ æ–°é—»ä»¥åŠå†…å®¹é¢‘é“ã€‚ 1997å¹´ï¼Œä¸ç£Šåˆ›ç«‹äº†ç½‘æ˜“å…¬å¸(NetEase)ï¼ŒæŽ¨å‡ºä¸­å›½ç¬¬ä¸€å®¶ä¸­æ–‡å…¨æ–‡æœç´¢å¼•æ“Žã€‚çŽ°åœ¨ç”¨çš„126å’Œ163é‚®ç®±éƒ½å±žäºŽç½‘æ˜“äº§å“ã€‚ç½‘æ˜“çŽ°åœ¨æ˜¯å…¨å›½å‡ºåçš„ç»¼åˆé—¨æˆ·ç½‘ç«™ã€‚ 1998å¹´ï¼ŒçŽ‹å¿—ä¸œåˆ›ç«‹æ–°æµªç½‘ç«™ã€‚è¯¥ç½‘ç«™æˆä¸ºå…¨çƒæœ€å¤§çš„ä¸­æ–‡ç»¼åˆé—¨æˆ·ç½‘ç«™ã€‚æ–°æµªå¾®åšæ˜¯å…¨çƒä½¿ç”¨æœ€å¤šçš„å¾®åšä¹‹ä¸€ã€‚ 1998å¹´é©¬åŒ–è…¾ã€å¼ å¿—ä¸œåˆ›ç«‹äº†è…¾è®¯å…¬å¸ï¼ˆTencentï¼‰ï¼Œ1999å¹´è…¾è®¯æŽ¨å‡ºå³ä½¿é€šè®¯è½¯ä»¶ï¼ŒQICQï¼Œå³æˆ‘ä»¬å¸¸ç”¨çš„QQã€‚2011å¹´æŽ¨å‡ºå¾®ä¿¡(å¾®ä¿¡ä¹‹çˆ¶å¼ å°é¾™ä¹‹ä½œã€‚å…¶ä»–è¿˜æœ‰Foxmailé‚®ä»¶å®¢æˆ·ç«¯è½¯ä»¶) 1999å¹´é©¬äº‘åˆ›å»ºé˜¿é‡Œå·´å·´ï¼Œ03å¹´åˆ›å»ºæ·˜å®ç½‘ 2000å¹´ï¼ŒæŽå½¦å®å’Œå¾å‹‡åˆ›å»ºç™¾åº¦ç½‘ç«™ï¼ŒçŽ°åœ¨å·²ç»æˆä¸ºå…¨çƒæœ€å¤§çš„ä¸­æ–‡æœç´¢å¼•æ“Žã€‚ 2008å¹´å¼ æ—­è±ªåˆ›ç«‹é¥¿äº†ä¹ˆï¼Œè¥åœ¨çº¿å¤–å–ã€æ–°é›¶å”®ã€å³æ—¶é…é€å’Œé¤é¥®ä¾›åº”é“¾ç­‰ä¸šåŠ¡ï¼Œè‡´åŠ›äºŽç”¨ç§‘æŠ€æ‰“é€ æœ¬åœ°ç”Ÿæ´»æœåŠ¡å¹³å° 2010å¹´çŽ‹å…´åˆ›ç«‹ç¾Žå›¢ç½‘æˆç«‹ï¼Œæˆä¸ºå›½å†…ä¸“ä¸šçš„å›¢è´­ç½‘ç«™ã€‚ 2012å¹´å¼ ä¸€é¸£åˆ›ç«‹å­—èŠ‚è·³åŠ¨ï¼Œä»£è¡¨äº§å“ä»Šæ—¥å¤´æ¡ã€æŠ–éŸ³ã€è¥¿ç“œè§†é¢‘ã€‚ 2012å¹´ï¼Œ29å²çš„ç¨‹ç»´åˆ›åŠžå°æ¡”ç§‘æŠ€ï¼Œåœ¨åŒ—äº¬ä¸­å…³æ‘æŽ¨å‡ºæ‰‹æœºå¬è½¦è½¯ä»¶æ»´æ»´æ‰“è½¦ï¼Œ2015å¹´2æœˆï¼Œæ»´æ»´æ‰“è½¦ä¸Žå¿«çš„æ‰“è½¦è¿›è¡Œæˆ˜ç•¥åˆå¹¶ã€‚ åŒå¹´9æœˆï¼Œæ»´æ»´æ‰“è½¦æ­£å¼æ›´åä¸ºâ€œæ»´æ»´å‡ºè¡Œâ€ã€‚2016å¹´8æœˆï¼Œæ»´æ»´å‡ºè¡Œæ”¶è´­Uberä¸­å›½ã€‚æ»´æ»´å‡ºè¡Œæ˜¯æ¶µç›–å‡ºç§Ÿè½¦ã€ä¸“è½¦ã€æ»´æ»´å¿«è½¦ã€é¡ºé£Žè½¦ã€ä»£é©¾åŠå¤§å·´ç­‰å¤šé¡¹ä¸šåŠ¡åœ¨å†…çš„ä¸€ç«™å¼å‡ºè¡Œå¹³å° 2014å¹´ï¼Œåˆ˜å¼ºä¸œåˆ›ç«‹çš„äº¬ä¸œé›†å›¢åœ¨ç¾Žå›½çº³æ–¯è¾¾å…‹è¯åˆ¸äº¤æ˜“æ‰€æ­£å¼æŒ‚ç‰Œä¸Šå¸‚ã€‚ 1.4.4 äº’è”ç½‘çš„æ ‡å‡†åŒ–å·¥ä½œæˆä¸ºäº’è”ç½‘æ­£å¼æ ‡å‡†è¦ç»è¿‡çš„é˜¶æ®µæ‰€æœ‰äº’è”ç½‘æ ‡å‡†éƒ½ä»¥ RFC çš„å½¢å¼åœ¨äº’è”ç½‘ä¸Šå‘è¡¨ã€‚ä¹‹å‰çš„ä¸‰ä¸ªé˜¶æ®µï¼š äº’è”ç½‘è‰æ¡ˆ (Internet Draft) â€”â€”æœ‰æ•ˆæœŸåªæœ‰å…­ä¸ªæœˆã€‚åœ¨è¿™ä¸ªé˜¶æ®µè¿˜ä¸æ˜¯ RFC æ–‡æ¡£ã€‚ å»ºè®®æ ‡å‡† (Proposed Standard) â€”â€”ä»Žè¿™ä¸ªé˜¶æ®µå¼€å§‹å°±æˆä¸º RFC æ–‡æ¡£ã€‚ äº’è”ç½‘æ ‡å‡† (Internet Standard) â€”â€”è¾¾åˆ°æ­£å¼æ ‡å‡†åŽï¼Œæ¯ä¸ªæ ‡å‡†å°±åˆ†é…åˆ°ä¸€ä¸ªç¼–å· STD xxxxã€‚ ä¸€ä¸ªæ ‡å‡†å¯ä»¥å’Œå¤šä¸ª RFC æ–‡æ¡£å…³è”ã€‚çŽ°åœ¨ç®€åŒ–ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šå»ºè®®æ ‡å‡†ï¼Œäº’è”ç½‘æ ‡å‡†ã€‚1.4.5 äº’è”ç½‘ç‰¹æ€§ 1). è¿žé€šæ€§â€‹ a. äº’è”ç½‘ä½¿ä¸Šç½‘ç”¨æˆ·ä¹‹é—´ï¼Œä¸ç®¡è·ç¦»å¤šè¿œï¼Œéƒ½å¯ä»¥éžå¸¸ä¾¿æ·ã€éžå¸¸ç»æµŽçš„äº¤æ¢å„ç§ä¿¡æ¯(æ•°æ®)ã€‚â€‹ b. ä½¿ä¸Šç½‘ç”¨æˆ·ä¹‹é—´éƒ½å¯ä»¥äº¤æ¢ä¿¡æ¯(æ•°æ®ï¼Œä»¥åŠå„ç§éŸ³é¢‘è§†é¢‘),å¥½åƒè¿™äº›ç”¨æˆ·çš„è®¡ç®—æœºéƒ½å¯ä»¥å½¼æ­¤ç›´æŽ¥è¿žé€šä¸€æ ·ã€‚â€‹ c. äº’è”ç½‘å…·æœ‰è™šæ‹Ÿçš„ç‰¹ç‚¹ï¼Œæ— æ³•å‡†ç¡®çŸ¥é“å¯¹æ–¹æ˜¯è°ï¼Œä¹Ÿæ— æ³•çŸ¥é“å¯¹æ–¹çš„ä½ç½®ã€‚2). èµ„æºå…±äº«â€‹ a. ä¿¡æ¯å…±äº«: éŸ³é¢‘è§†é¢‘åœ¨çº¿è§‚çœ‹â€‹ b. è½¯ä»¶å…±äº«: è¿œç¨‹æ¡Œé¢ã€äº‘æ¡Œé¢ã€äº‘è®¡ç®—ä¸­çš„PaaSå’ŒSaaSâ€‹ c. ç¡¬ä»¶å…±äº«: å±€åŸŸç½‘å…±äº«ä¸€å°æ‰“å°æœº 1.4.6 äº’è”ç½‘ç»„æˆ ä»Žäº’è”ç½‘çš„å·¥ä½œæ–¹å¼ä¸Šçœ‹ï¼Œå¯ä»¥åˆ’åˆ†ä¸ºä¸¤å¤§å—è¾¹ç¼˜éƒ¨åˆ†å’Œæ ¸å¿ƒéƒ¨åˆ†ã€‚ 1.4.6.1 è¾¹ç¼˜éƒ¨åˆ†â€‹ ç”±æ‰€æœ‰è¿žæŽ¥åœ¨äº’è”ç½‘ä¸Šçš„ä¸»æœºç»„æˆã€‚è¿™éƒ¨åˆ†æ˜¯ç”¨æˆ·ç›´æŽ¥ä½¿ç”¨çš„ï¼Œç”¨æ¥è¿›è¡Œé€šä¿¡ï¼ˆä¼ é€æ•°æ®ã€éŸ³é¢‘æˆ–è§†é¢‘ï¼‰å’Œèµ„æºå…±äº«ã€‚ æˆ‘ä»¬ç»å¸¸è¯´çš„ä¸»æœºAä¸Žä¸»æœºBè¿›è¡Œé€šä¿¡ï¼Œå®žé™…ä¸ŠæŒ‡çš„æ˜¯ä¸»æœºAçš„æŸä¸ªè¿›ç¨‹å’Œä¸»æœºBçš„å¦ä¸€ä¸ªè¿›ç¨‹è¿›è¡Œé€šä¿¡ã€‚è€Œè¿™ç§ç½‘ç»œè¾¹ç¼˜çš„ç«¯ç³»ç»Ÿä¹‹é—´çš„é€šä¿¡æ–¹å¼é€šå¸¸å¯ä»¥åˆ’åˆ†ä¸ºä¸¤ç±»ï¼šå®¢æˆ·æœº-æœåŠ¡å™¨C/Sæ–¹å¼(å®¢æˆ·æœºæ˜¯æœåŠ¡è¯·æ±‚æ–¹ï¼ŒæœåŠ¡å™¨æ˜¯æœåŠ¡æä¾›æ–¹)å’Œå¯¹ç­‰P2P(å³Peer-to-Peer æ–¹å¼ï¼Œä¸åŒºåˆ†å“ªä¸ªæ˜¯æœåŠ¡æ–¹å“ªä¸ªæ˜¯å®¢æˆ·è¯·æ±‚æ–¹ )ç‚¹å¯¹ç‚¹é€šä¿¡æ–¹å¼(æ¯”å¦‚å¸¸è§çš„è¿…é›·ã€å¿«æ’­ã€BTä¸‹è½½åº”ç”¨è½¯ä»¶) 1.4.6.2 æ ¸å¿ƒéƒ¨åˆ†ç½‘ç»œæ ¸å¿ƒéƒ¨åˆ†æ˜¯äº’è”ç½‘ä¸­æœ€å¤æ‚çš„éƒ¨åˆ†ï¼Œç”±å¤§é‡ç½‘ç»œå’Œè¿žæŽ¥è¿™äº›ç½‘ç»œçš„è·¯ç”±å™¨ç»„æˆã€‚è¿™éƒ¨åˆ†æ˜¯ä¸ºè¾¹ç¼˜éƒ¨åˆ†æä¾›æœåŠ¡çš„ï¼ˆæä¾›è¿žé€šæ€§å’Œäº¤æ¢ï¼‰ã€‚ 1.4.7 å…¸åž‹çš„äº¤æ¢æŠ€æœ¯ ç”µè·¯äº¤æ¢: ç”µè·¯äº¤æ¢å¿…å®šæ˜¯é¢å‘è¿žæŽ¥çš„ã€‚ 5éƒ¨ç”µè¯æœºä¸¤ä¸¤ç›´æŽ¥ç›¸è¿ž,éœ€10å¯¹ç”µçº¿ã€‚è€—æï¼Œå¦‚æžœè®¡ç®—æœºæ•°æ®ç”¨ç”µè·¯äº¤æ¢ï¼Œå•å‘é€šä¿¡ï¼Œçº¿è·¯çš„ä¼ è¾“é€ŸçŽ‡å¾ˆä½Žã€‚ Néƒ¨ç”µè¯æœºä¸¤ä¸¤ç›´æŽ¥ç›¸è¿žï¼Œéœ€ N(N â€“1)/2å¯¹ç”µçº¿ã€‚è¿™ç§ç›´æŽ¥è¿žæŽ¥æ–¹æ³•æ‰€éœ€è¦çš„ç”µçº¿å¯¹çš„æ•°é‡ä¸Žç”µè¯æœºæ•°é‡çš„å¹³æ–¹æˆæ­£æ¯”ã€‚å½“ç”µè¯æœºçš„æ•°é‡å¤šçš„æ—¶å€™ï¼Œå°±è¦ä½¿ç”¨äº¤æ¢æœºæ¥å®Œæˆå…¨ç½‘çš„è¿žæŽ¥ã€‚ ç”µè·¯äº¤æ¢åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š 1). å»ºç«‹è¿žæŽ¥ï¼šå»ºç«‹ä¸€æ¡ä¸“ç”¨çš„ç‰©ç†é€šè·¯ï¼Œä»¥ä¿è¯åŒæ–¹é€šè¯æ—¶æ‰€éœ€çš„é€šä¿¡èµ„æºåœ¨é€šä¿¡æ—¶ä¸ä¼šè¢«å…¶ä»–ç”¨æˆ·å ç”¨ï¼› 2). é€šä¿¡ï¼šä¸»å«å’Œè¢«å«åŒæ–¹å°±èƒ½äº’ç›¸é€šç”µè¯ï¼› 3). é‡Šæ”¾è¿žæŽ¥ï¼šé‡Šæ”¾åˆšæ‰ä½¿ç”¨çš„è¿™æ¡ä¸“ç”¨çš„ç‰©ç†é€šè·¯ï¼ˆé‡Šæ”¾åˆšæ‰å ç”¨çš„æ‰€æœ‰é€šä¿¡èµ„æºï¼‰ã€‚ ç”µè·¯äº¤æ¢ç‰¹ç‚¹: 1). è®¡ç®—æœºæ•°æ®å…·æœ‰çªå‘æ€§ã€‚ 2). è¿™å¯¼è‡´åœ¨ä¼ é€è®¡ç®—æœºæ•°æ®æ—¶ï¼Œé€šä¿¡çº¿è·¯çš„åˆ©ç”¨çŽ‡å¾ˆä½Ž(ç”¨æ¥ä¼ é€æ•°æ®çš„æ—¶é—´å¾€å¾€ä¸åˆ°10%ç”šè‡³ä¸åˆ°1% )ã€‚ åˆ†ç»„äº¤æ¢: é‡‡ç”¨å­˜å‚¨è½¬å‘æŠ€æœ¯ï¼Œå°†æŠ¥æ–‡åˆ’åˆ†ä¸ºå‡ ä¸ªåˆ†ç»„ç„¶åŽå†ä¼ é€ï¼Œäº’è”ç½‘çš„æ ¸å¿ƒéƒ¨åˆ†é‡‡ç”¨äº†åˆ†ç»„äº¤æ¢æŠ€æœ¯ã€‚ åˆ†ç»„äº¤æ¢ç‰¹ç‚¹: 1). åˆ†ç»„äº¤æ¢åˆ™é‡‡ç”¨å­˜å‚¨è½¬å‘æŠ€æœ¯ã€‚2). åœ¨å‘é€ç«¯ï¼Œå…ˆæŠŠè¾ƒé•¿çš„æŠ¥æ–‡åˆ’åˆ†æˆè¾ƒçŸ­çš„ã€å›ºå®šé•¿åº¦çš„æ•°æ®æ®µã€‚ åˆ†ç»„äº¤æ¢çš„ä¼ è¾“å•å…ƒ: 1). æ¯ä¸€ä¸ªåˆ†ç»„çš„é¦–éƒ¨éƒ½å«æœ‰åœ°å€ï¼ˆè¯¸å¦‚ç›®çš„åœ°å€å’Œæºåœ°å€ï¼‰ç­‰æŽ§åˆ¶ä¿¡æ¯ã€‚2). åˆ†ç»„äº¤æ¢ç½‘ä¸­çš„ç»“ç‚¹äº¤æ¢æœºæ ¹æ®æ”¶åˆ°çš„åˆ†ç»„é¦–éƒ¨ä¸­çš„åœ°å€ä¿¡æ¯ï¼ŒæŠŠåˆ†ç»„è½¬å‘åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹äº¤æ¢æœºã€‚3). æ¯ä¸ªåˆ†ç»„åœ¨äº’è”ç½‘ä¸­ç‹¬ç«‹åœ°é€‰æ‹©ä¼ è¾“è·¯å¾„ã€‚4). ç”¨è¿™æ ·çš„å­˜å‚¨è½¬å‘æ–¹å¼ï¼Œæœ€åŽåˆ†ç»„å°±èƒ½åˆ°è¾¾æœ€ç»ˆç›®çš„åœ°ã€‚ | ä¼˜ç‚¹ | æ‰€é‡‡ç”¨çš„æ‰‹æ®µ || :â€“: | :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-: || é«˜æ•ˆ | åœ¨åˆ†ç»„ä¼ è¾“çš„è¿‡ç¨‹ä¸­åŠ¨æ€åˆ†é…ä¼ è¾“å¸¦å®½ï¼Œå¯¹é€šä¿¡é“¾è·¯æ˜¯é€æ®µå ç”¨ || çµæ´» | ä¸ºæ¯ä¸€ä¸ªåˆ†ç»„ç‹¬ç«‹åœ°é€‰æ‹©æœ€åˆé€‚çš„è½¬å‘è·¯ç”± || è¿…é€Ÿ | ä»¥åˆ†ç»„ä½œä¸ºä¼ é€å•ä½ï¼Œå¯ä»¥ä¸å…ˆå»ºç«‹è¿žæŽ¥å°±èƒ½å‘å…¶ä»–ä¸»æœºå‘é€åˆ†ç»„ || å¯é  | ä¿è¯å¯é çš„ç½‘ç»œåè®®ï¼›åˆ†å¸ƒå¼å¤šè·¯ç”±çš„åˆ†ç»„äº¤æ¢ç½‘ï¼Œä½¿ç½‘ç»œæœ‰å¾ˆå¥½çš„ç”Ÿå­˜æ€§ | æŠ¥æ–‡äº¤æ¢ è·¯ç”±å™¨å¤„ç†åˆ†ç»„çš„è¿‡ç¨‹æ˜¯ï¼š 1). æŠŠæ”¶åˆ°çš„åˆ†ç»„å…ˆæ”¾å…¥ç¼“å­˜ï¼ˆæš‚æ—¶å­˜å‚¨ï¼‰ï¼› 2). æŸ¥æ‰¾è½¬å‘è¡¨ï¼Œæ‰¾å‡ºåˆ°æŸä¸ªç›®çš„åœ°å€åº”ä»Žå“ªä¸ªç«¯å£è½¬å‘ï¼› 3). æŠŠåˆ†ç»„é€åˆ°é€‚å½“çš„ç«¯å£è½¬å‘å‡ºåŽ»ã€‚ ä¸‰ç§äº¤æ¢æ–¹å¼çš„ä¸»è¦ç‰¹ç‚¹ï¼š ç”µè·¯äº¤æ¢ï¼šæ•´ä¸ªæŠ¥æ–‡çš„æ¯”ç‰¹æµè¿žç»­çš„ä»Žæºç‚¹ç›´è¾¾ç»ˆç‚¹ã€‚ æŠ¥æ–‡äº¤æ¢ï¼šæ•´ä¸ªæŠ¥æ–‡å…ˆä¼ é€åˆ°ç›¸é‚»ç»“ç‚¹ï¼Œå…¨éƒ¨å­˜å‚¨ä¸‹æ¥åŽæŸ¥æ‰¾è½¬å‘è¡¨ï¼Œè½¬å‘åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹ã€‚ åˆ†ç»„äº¤æ¢ï¼š å•ä¸ªåˆ†ç»„ï¼ˆè¿™åªæ˜¯æŠ¥æ–‡çš„ä¸€éƒ¨åˆ†ï¼‰ä¼ é€åˆ°ç›¸é‚»ç»“ç‚¹ï¼Œå­˜å‚¨ä¸‹æ¥åŽæŸ¥æ‰¾è½¬å‘è¡¨ï¼Œè½¬å‘åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹ã€‚ ä»Žä¸Šå›¾å¯çœ‹å‡ºï¼Œè‹¥è¦è¿žç»­ä¼ é€å¤§é‡çš„æ•°æ®ï¼Œä¸”å…¶ä¼ é€çš„æ—¶é—´è¿œå¤§äºŽè¿žæŽ¥å»ºç«‹çš„æ—¶é—´ï¼Œåˆ™ç”µè·¯äº¤æ¢çš„ä¼ è¾“é€ŸçŽ‡è¾ƒå¿«ã€‚æŠ¥æ–‡äº¤æ¢å’Œåˆ†ç»„äº¤æ¢ä¸éœ€è¦é¢„å…ˆåˆ†é…ä¼ è¾“å¸¦å®½ï¼Œåœ¨ä¼ é€çªå‘æ•°æ®æ—¶å¯æé«˜æ•´ä¸ªç½‘ç»œçš„ä¿¡é“åˆ©ç”¨çŽ‡ã€‚ç”±äºŽä¸€ä¸ªåˆ†ç»„äº¤æ¢çš„é•¿åº¦å¾€å¾€å°äºŽæ•´ä¸ªæŠ¥æ–‡çš„é•¿åº¦ï¼Œå› æ­¤åˆ†ç»„äº¤æ¢æ¯”æŠ¥æ–‡äº¤æ¢çš„æ—¶å»¶å°ï¼ŒåŒæ—¶ä¹Ÿå…·æœ‰æ›´å¥½çš„çµæ´»æ€§ã€‚ 1.5 è®¡ç®—æœºç½‘ç»œçš„ç±»åˆ«1.5.1 æŒ‰ç…§ç½‘ç»œçš„ä½œç”¨èŒƒå›´è¿›è¡Œåˆ†ç±» å¹¿åŸŸç½‘ WAN (Wide Area Network)ï¼šä½œç”¨èŒƒå›´é€šå¸¸ä¸ºå‡ ååˆ°å‡ åƒå…¬é‡Œã€‚ åŸŽåŸŸç½‘ MAN (Metropolitan Area Network)ï¼šä½œç”¨è·ç¦»çº¦ä¸º 5~50 å…¬é‡Œã€‚ å±€åŸŸç½‘ LAN (Local Area Network) ï¼šå±€é™åœ¨è¾ƒå°çš„èŒƒå›´ï¼Œæ¯”å¦‚å¦‚1å…¬é‡Œå·¦å³ã€‚ ä¸ªäººåŒºåŸŸç½‘ PAN (Personal Area Network) ï¼šèŒƒå›´å¾ˆå°ï¼Œå¤§çº¦åœ¨10ç±³å·¦å³ã€‚ 1.5.2 æŒ‰ç…§ç½‘ç»œçš„ä½¿ç”¨è€…è¿›è¡Œåˆ†ç±» å…¬ç”¨ç½‘ (public network) ï¼šæŒ‰è§„å®šäº¤çº³è´¹ç”¨çš„äººéƒ½å¯ä»¥ä½¿ç”¨çš„ç½‘ç»œã€‚å› æ­¤ä¹Ÿå¯ç§°ä¸ºå…¬ä¼—ç½‘ã€‚ ä¸“ç”¨ç½‘ (private network) ï¼šä¸ºç‰¹æ®Šä¸šåŠ¡å·¥ä½œçš„éœ€è¦è€Œå»ºé€ çš„ç½‘ç»œã€‚ 1.5.3 ç”¨æ¥æŠŠç”¨æˆ·æŽ¥å…¥åˆ°äº’è”ç½‘çš„ç½‘ç»œ æŽ¥å…¥ç½‘AN (Access Network)ï¼Œå®ƒåˆç§°ä¸ºæœ¬åœ°æŽ¥å…¥ç½‘æˆ–å±…æ°‘æŽ¥å…¥ç½‘ã€‚ æŽ¥å…¥ç½‘æ˜¯ä¸€ç±»æ¯”è¾ƒç‰¹æ®Šçš„è®¡ç®—æœºç½‘ç»œï¼Œç”¨äºŽå°†ç”¨æˆ·æŽ¥å…¥äº’è”ç½‘ã€‚ æŽ¥å…¥ç½‘æœ¬èº«æ—¢ä¸å±žäºŽäº’è”ç½‘çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œä¹Ÿä¸å±žäºŽäº’è”ç½‘çš„è¾¹ç¼˜éƒ¨åˆ†ã€‚ æŽ¥å…¥ç½‘æ˜¯ä»ŽæŸä¸ªç”¨æˆ·ç«¯ç³»ç»Ÿåˆ°äº’è”ç½‘ä¸­çš„ç¬¬ä¸€ä¸ªè·¯ç”±å™¨ï¼ˆä¹Ÿç§°ä¸ºè¾¹ç¼˜è·¯ç”±å™¨ï¼‰ä¹‹é—´çš„ä¸€ç§ç½‘ç»œã€‚ ä»Žè¦†ç›–çš„èŒƒå›´çœ‹ï¼Œå¾ˆå¤šæŽ¥å…¥ç½‘è¿˜æ˜¯å±žäºŽå±€åŸŸç½‘ã€‚ ä»Žä½œç”¨ä¸Šçœ‹ï¼ŒæŽ¥å…¥ç½‘åªæ˜¯èµ·åˆ°è®©ç”¨æˆ·èƒ½å¤Ÿä¸Žäº’è”ç½‘è¿žæŽ¥çš„â€œæ¡¥æ¢â€ä½œç”¨ã€‚ 1.6 è®¡ç®—æœºçš„ç½‘ç»œæ€§èƒ½1.6.1 è®¡ç®—æœºç½‘ç»œæ€§èƒ½æŒ‡æ ‡è®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½ä¸€èˆ¬æ˜¯æŒ‡å®ƒçš„å‡ ä¸ªé‡è¦çš„æ€§èƒ½æŒ‡æ ‡ï¼Œä¸»è¦åŒ…æ‹¬ï¼š 1.6.1.1 é€ŸçŽ‡ æ¯”ç‰¹ï¼ˆbitï¼‰æ˜¯è®¡ç®—æœºä¸­æ•°æ®é‡çš„å•ä½ï¼Œä¹Ÿæ˜¯ä¿¡æ¯è®ºä¸­ä½¿ç”¨çš„ä¿¡æ¯é‡çš„å•ä½ã€‚ æ¯”ç‰¹ï¼ˆbitï¼‰æ¥æºäºŽ binary digitï¼Œæ„æ€æ˜¯ä¸€ä¸ªâ€œäºŒè¿›åˆ¶æ•°å­—â€ï¼Œå› æ­¤ä¸€ä¸ªæ¯”ç‰¹å°±æ˜¯äºŒè¿›åˆ¶æ•°å­—ä¸­çš„ä¸€ä¸ª 1 æˆ– 0ã€‚ é€ŸçŽ‡æ˜¯è®¡ç®—æœºç½‘ç»œä¸­æœ€é‡è¦çš„ä¸€ä¸ªæ€§èƒ½æŒ‡æ ‡ï¼ŒæŒ‡çš„æ˜¯æ•°æ®çš„ä¼ é€é€ŸçŽ‡ï¼Œå®ƒä¹Ÿç§°ä¸ºæ•°æ®çŽ‡ (data rate) æˆ–æ¯”ç‰¹çŽ‡ (bit rate)ã€‚ é€ŸçŽ‡çš„å•ä½æ˜¯ bit/sï¼Œæˆ– kbit/sã€Mbit/sã€ Gbit/sç­‰ã€‚ä¾‹å¦‚4 * 1010 bit/s çš„æ•°æ®çŽ‡å°±è®°ä¸º 40 Gbit/sã€‚ é€ŸçŽ‡å¾€å¾€æ˜¯æŒ‡é¢å®šé€ŸçŽ‡æˆ–æ ‡ç§°é€ŸçŽ‡ï¼Œéžå®žé™…è¿è¡Œé€ŸçŽ‡ã€‚ 1.6.1.2 å¸¦å®½ä¸¤ç§ä¸åŒæ„ä¹‰ï¼š â€œå¸¦å®½â€(bandwidth) æœ¬æ¥æ˜¯æŒ‡ä¿¡å·å…·æœ‰çš„é¢‘å¸¦å®½åº¦ï¼Œå…¶å•ä½æ˜¯èµ«ï¼ˆæˆ–åƒèµ«ã€å…†èµ«ã€å‰èµ«ç­‰ï¼‰ã€‚ åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œå¸¦å®½ç”¨æ¥è¡¨ç¤ºç½‘ç»œä¸­æŸé€šé“ä¼ é€æ•°æ®çš„èƒ½åŠ›ã€‚è¡¨ç¤ºåœ¨å•ä½æ—¶é—´å†…ç½‘ç»œä¸­çš„æŸä¿¡é“æ‰€èƒ½é€šè¿‡çš„â€œæœ€é«˜æ•°æ®çŽ‡â€ã€‚å•ä½æ˜¯ bit/sï¼Œå³ â€œæ¯”ç‰¹æ¯ç§’â€ã€‚ æˆ‘ä»¬ç»å¸¸è¯´çš„ç™¾å…†å®½å¸¦ï¼Œå…¶å®žå¹¶ä¸æ˜¯æ¯ç§’100MBit/sçš„å®½å¸¦é€ŸçŽ‡ã€‚å®žé™…çš„å¸¦å®½æ²¡æœ‰è¿™ä¹ˆå¤§ã€‚ å®žé™…å®½å¸¦é€Ÿåº¦çš„è®¡ç®—å…¬å¼ï¼š æœåŠ¡å•†æ‰¿è¯ºç»™ä½ æä¾›çš„å¸¦å®½Ã—1024Ã·8=ä½ æ¯ç§’é’Ÿå®žé™…å¯ç”¨çš„ç½‘ç»œé€Ÿåº¦ æ¯”å¦‚æˆ‘çŽ°åœ¨çš„ç½‘ç»œå¸¦å®½æ˜¯ç™¾å…†å¸¦å®½ï¼Œå®žé™…ç½‘é€Ÿä¸ºï¼š100 Mbps/s * 1024 / 8 =12800KB/s = 12.5MB/s ,å½“ç„¶å®žé™…ä¸å¯èƒ½å®Œå…¨å‡†ç¡®ï¼ŒåŸºæœ¬æ˜¯å°äºŽ12.5MB/sã€‚ä¸‹å›¾æˆ‘æ˜¯ç”¨ç”µè„‘ç®¡å®¶æµ‹è¯•çš„ç½‘é€Ÿï¼š Mbpsã€MB/sã€Mb/sçš„åŒºåˆ«: Mbpsè¡¨ç¤ºå…†æ¯”ç‰¹ MB/s çš„å«ä¹‰æ˜¯å…†å­—èŠ‚æ¯ç§’ï¼šæ˜¯æŒ‡æ¯ç§’ä¼ è¾“çš„å­—èŠ‚æ•°é‡ï¼Œä¸€ä¸ªå­—èŠ‚ä¸º8 bitã€‚ Mb/sçš„å«ä¹‰æ˜¯å…†æ¯”ç‰¹æ¯ç§’ï¼šæ˜¯æŒ‡æ¯ç§’ä¼ è¾“çš„æ¯”ç‰¹ä½æ•° 1.6.1.3 åžåçŽ‡ åžåé‡ (throughput) è¡¨ç¤ºåœ¨å•ä½æ—¶é—´å†…é€šè¿‡æŸä¸ªç½‘ç»œï¼ˆæˆ–ä¿¡é“ã€æŽ¥å£ï¼‰çš„æ•°æ®é‡ã€‚ åžåé‡æ›´ç»å¸¸åœ°ç”¨äºŽå¯¹çŽ°å®žä¸–ç•Œä¸­çš„ç½‘ç»œçš„ä¸€ç§æµ‹é‡ï¼Œä»¥ä¾¿çŸ¥é“å®žé™…ä¸Šåˆ°åº•æœ‰å¤šå°‘æ•°æ®é‡èƒ½å¤Ÿé€šè¿‡ç½‘ç»œã€‚ åžåé‡å—ç½‘ç»œçš„å¸¦å®½æˆ–ç½‘ç»œçš„é¢å®šé€ŸçŽ‡çš„é™åˆ¶ã€‚ 1.6.1.4 æ—¶å»¶æ—¶å»¶ (delay æˆ– latency) æ˜¯æŒ‡æ•°æ®ï¼ˆä¸€ä¸ªæŠ¥æ–‡æˆ–åˆ†ç»„ï¼Œç”šè‡³æ¯”ç‰¹ï¼‰ä»Žç½‘ç»œï¼ˆæˆ–é“¾è·¯ï¼‰çš„ä¸€ç«¯ä¼ é€åˆ°å¦ä¸€ç«¯æ‰€éœ€çš„æ—¶é—´ã€‚æœ‰æ—¶ä¹Ÿç§°ä¸ºå»¶è¿Ÿæˆ–è¿Ÿå»¶ã€‚ ç½‘ç»œä¸­çš„æ—¶å»¶ç”±ä»¥ä¸‹å‡ ä¸ªä¸åŒçš„éƒ¨åˆ†ç»„æˆï¼š 1). å‘é€æ—¶å»¶,ä¹Ÿç§°ä¸ºä¼ è¾“æ—¶å»¶ã€‚å‘é€æ—¶å»¶=æ•°æ®å¸§é•¿åº¦(bit) / å‘é€é€ŸçŽ‡ a. å‘é€æ•°æ®æ—¶ï¼Œæ•°æ®å¸§ä»Žç»“ç‚¹è¿›å…¥åˆ°ä¼ è¾“åª’ä½“æ‰€éœ€è¦çš„æ—¶é—´ã€‚ b. ä¹Ÿå°±æ˜¯ä»Žå‘é€æ•°æ®å¸§çš„ç¬¬ä¸€ä¸ªæ¯”ç‰¹ç®—èµ·ï¼Œåˆ°è¯¥å¸§çš„æœ€åŽä¸€ä¸ªæ¯”ç‰¹å‘é€å®Œæ¯•æ‰€éœ€çš„æ—¶é—´ã€‚ 2). ä¼ æ’­æ—¶å»¶,ä¼ æ’­æ—¶å»¶=ä¿¡é“é•¿åº¦ï¼ˆç±³ï¼‰/ ä¿¡å·åœ¨ä¿¡é“ä¸Šçš„ä¼ æ’­é€ŸçŽ‡ï¼ˆç±³/ç§’ï¼‰ a.ç”µç£æ³¢åœ¨ä¿¡é“ä¸­éœ€è¦ä¼ æ’­ä¸€å®šçš„è·ç¦»è€ŒèŠ±è´¹çš„æ—¶é—´ã€‚ b.å‘é€æ—¶å»¶ä¸Žä¼ æ’­æ—¶å»¶æœ‰æœ¬è´¨ä¸Šçš„ä¸åŒã€‚ c.ä¿¡å·å‘é€é€ŸçŽ‡å’Œä¿¡å·åœ¨ä¿¡é“ä¸Šçš„ä¼ æ’­é€ŸçŽ‡æ˜¯å®Œå…¨ä¸åŒçš„æ¦‚å¿µã€‚ 3).å¤„ç†æ—¶å»¶ ä¸»æœºæˆ–è·¯ç”±å™¨åœ¨æ”¶åˆ°åˆ†ç»„æ—¶ï¼Œä¸ºå¤„ç†åˆ†ç»„ï¼ˆä¾‹å¦‚åˆ†æžé¦–éƒ¨ã€æå–æ•°æ®ã€å·®é”™æ£€éªŒæˆ–æŸ¥æ‰¾è·¯ç”±ï¼‰æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚ 4).æŽ’é˜Ÿæ—¶å»¶ åˆ†ç»„åœ¨è·¯ç”±å™¨è¾“å…¥è¾“å‡ºé˜Ÿåˆ—ä¸­æŽ’é˜Ÿç­‰å¾…å¤„ç†æ‰€ç»åŽ†çš„æ—¶å»¶ã€‚æŽ’é˜Ÿæ—¶å»¶çš„é•¿çŸ­å¾€å¾€å–å†³äºŽç½‘ç»œä¸­å½“æ—¶çš„é€šä¿¡é‡ã€‚ æ•°æ®åœ¨ç½‘ç»œä¸­ç»åŽ†çš„æ€»æ—¶å»¶å°±æ˜¯å‘é€æ—¶å»¶ã€ä¼ æ’­æ—¶å»¶ã€å¤„ç†æ—¶å»¶å’ŒæŽ’é˜Ÿæ—¶å»¶ä¹‹å’Œã€‚å¿…é¡»æŒ‡å‡ºï¼Œåœ¨æ€»æ—¶å»¶ä¸­ï¼Œç©¶ç«Ÿæ˜¯å“ªä¸€ç§æ—¶å»¶å ä¸»å¯¼åœ°ä½ï¼Œå¿…é¡»å…·ä½“åˆ†æžã€‚ å®¹æ˜“äº§ç”Ÿçš„é”™è¯¯æ¦‚å¿µ: å¯¹äºŽé«˜é€Ÿç½‘ç»œé“¾è·¯ï¼Œæˆ‘ä»¬æé«˜çš„ä»…ä»…æ˜¯æ•°æ®çš„å‘é€é€ŸçŽ‡è€Œä¸æ˜¯æ¯”ç‰¹åœ¨é“¾è·¯ä¸Šçš„ä¼ æ’­é€ŸçŽ‡ã€‚ æé«˜é“¾è·¯å¸¦å®½å‡å°äº†æ•°æ®çš„å‘é€æ—¶å»¶ã€‚ ä»¥ä¸‹è¯´æ³•æ˜¯é”™è¯¯çš„ï¼šâ€œåœ¨é«˜é€Ÿé“¾è·¯ï¼ˆæˆ–é«˜å¸¦å®½é“¾è·¯ï¼‰ä¸Šï¼Œæ¯”ç‰¹ä¼šä¼ é€å¾—æ›´å¿«äº›â€ 1.6.1.5 æ—¶å»¶å¸¦å®½ç§¯é“¾è·¯çš„æ—¶å»¶å¸¦å®½ç§¯åˆç§°ä¸ºä»¥æ¯”ç‰¹ä¸ºå•ä½çš„é“¾è·¯é•¿åº¦ã€‚æ—¶å»¶å¸¦å®½ç§¯ = ä¼ æ’­æ—¶å»¶*å¸¦å®½ 1.6.1.6 å¾€è¿”æ—¶é—´ RTT äº’è”ç½‘ä¸Šçš„ä¿¡æ¯ä¸ä»…ä»…å•æ–¹å‘ä¼ è¾“ï¼Œè€Œæ˜¯åŒå‘äº¤äº’çš„ã€‚å› æ­¤ï¼Œæœ‰æ—¶å¾ˆéœ€è¦çŸ¥é“åŒå‘äº¤äº’ä¸€æ¬¡æ‰€éœ€çš„æ—¶é—´ã€‚ å¾€è¿”æ—¶é—´ RTT (round-trip time) è¡¨ç¤ºä»Žå‘é€æ–¹å‘é€æ•°æ®å¼€å§‹ï¼Œåˆ°å‘é€æ–¹æ”¶åˆ°æ¥è‡ªæŽ¥æ”¶æ–¹çš„ç¡®è®¤ï¼Œæ€»å…±ç»åŽ†çš„æ—¶é—´ã€‚ åœ¨äº’è”ç½‘ä¸­ï¼Œå¾€è¿”æ—¶é—´è¿˜åŒ…æ‹¬å„ä¸­é—´ç»“ç‚¹çš„å¤„ç†æ—¶å»¶ã€æŽ’é˜Ÿæ—¶å»¶ä»¥åŠè½¬å‘æ•°æ®æ—¶çš„å‘é€æ—¶å»¶ã€‚ å½“ä½¿ç”¨å«æ˜Ÿé€šä¿¡æ—¶ï¼Œå¾€è¿”æ—¶é—´ RTT ç›¸å¯¹è¾ƒé•¿ï¼Œæ˜¯å¾ˆé‡è¦çš„ä¸€ä¸ªæ€§èƒ½æŒ‡æ ‡ã€‚ 1.6.1.7 åˆ©ç”¨çŽ‡ åˆ†ä¸ºä¿¡é“åˆ©ç”¨çŽ‡å’Œç½‘ç»œåˆ©ç”¨çŽ‡ã€‚ ä¿¡é“åˆ©ç”¨çŽ‡æŒ‡å‡ºæŸä¿¡é“æœ‰ç™¾åˆ†ä¹‹å‡ çš„æ—¶é—´æ˜¯è¢«åˆ©ç”¨çš„ï¼ˆæœ‰æ•°æ®é€šè¿‡ï¼‰ã€‚ å®Œå…¨ç©ºé—²çš„ä¿¡é“çš„åˆ©ç”¨çŽ‡æ˜¯é›¶ã€‚ ç½‘ç»œåˆ©ç”¨çŽ‡åˆ™æ˜¯å…¨ç½‘ç»œçš„ä¿¡é“åˆ©ç”¨çŽ‡çš„åŠ æƒå¹³å‡å€¼ã€‚ ä¿¡é“åˆ©ç”¨çŽ‡å¹¶éžè¶Šé«˜è¶Šå¥½ã€‚å½“æŸä¿¡é“çš„åˆ©ç”¨çŽ‡å¢žå¤§æ—¶ï¼Œè¯¥ä¿¡é“å¼•èµ·çš„æ—¶å»¶ä¹Ÿå°±è¿…é€Ÿå¢žåŠ ã€‚ æ—¶å»¶ä¸Žç½‘ç»œåˆ©ç”¨çŽ‡çš„å…³ç³» æ ¹æ®æŽ’é˜Ÿè®ºçš„ç†è®ºï¼Œå½“æŸä¿¡é“çš„åˆ©ç”¨çŽ‡å¢žå¤§æ—¶ï¼Œè¯¥ä¿¡é“å¼•èµ·çš„æ—¶å»¶ä¹Ÿå°±è¿…é€Ÿå¢žåŠ ã€‚è‹¥ä»¤ D0 è¡¨ç¤ºç½‘ç»œç©ºé—²æ—¶çš„æ—¶å»¶ï¼ŒD è¡¨ç¤ºç½‘ç»œå½“å‰çš„æ—¶å»¶ï¼Œåˆ™åœ¨é€‚å½“çš„å‡å®šæ¡ä»¶ä¸‹ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ç®€å•å…¬å¼è¡¨ç¤º D å’Œ D0 ä¹‹é—´çš„å…³ç³»ï¼šD = D0 / 1 - Uï¼Œå…¶ä¸­U æ˜¯ç½‘ç»œçš„åˆ©ç”¨çŽ‡ï¼Œæ•°å€¼åœ¨ 0 åˆ° 1 ä¹‹é—´ã€‚ å½“ä¿¡é“çš„åˆ©ç”¨çŽ‡å¢žå¤§æ—¶ï¼Œè¯¥ä¿¡é“å¼•èµ·çš„æ—¶å»¶è¿…é€Ÿå¢žåŠ ã€‚ 1.6.2 è®¡ç®—æœºç½‘ç»œçš„éžæ€§èƒ½ç‰¹å¾è´¹ç”¨ã€è´¨é‡ã€æ ‡å‡†åŒ–ã€å¯é æ€§ã€å¯æ‰©å±•æ€§å’Œå¯å‡çº§æ€§ ã€æ˜“äºŽç®¡ç†å’Œç»´æŠ¤ ã€‚ 1.7 è®¡ç®—æœºç½‘ç»œçš„ä½“ç³»ç»“æž„1.7.1 è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æž„çš„å½¢æˆ è®¡ç®—æœºç½‘ç»œæ˜¯ä¸ªéžå¸¸å¤æ‚çš„ç³»ç»Ÿã€‚ ç›¸äº’é€šä¿¡çš„ä¸¤ä¸ªè®¡ç®—æœºç³»ç»Ÿå¿…é¡»é«˜åº¦åè°ƒå·¥ä½œæ‰è¡Œï¼Œè€Œè¿™ç§â€œåè°ƒâ€æ˜¯ç›¸å½“å¤æ‚çš„ã€‚ â€œåˆ†å±‚â€å¯å°†åºžå¤§è€Œå¤æ‚çš„é—®é¢˜ï¼Œè½¬åŒ–ä¸ºè‹¥å¹²è¾ƒå°çš„å±€éƒ¨é—®é¢˜ï¼Œè€Œè¿™äº›è¾ƒå°çš„å±€éƒ¨é—®é¢˜å°±æ¯”è¾ƒæ˜“äºŽç ”ç©¶å’Œå¤„ç†ã€‚ 1974 å¹´ï¼Œç¾Žå›½çš„ IBM å…¬å¸å®£å¸ƒäº†ç³»ç»Ÿç½‘ç»œä½“ç³»ç»“æž„SNA (System Network Architecture)ã€‚è¿™ä¸ªè‘—åçš„ç½‘ç»œæ ‡å‡†å°±æ˜¯æŒ‰ç…§åˆ†å±‚çš„æ–¹æ³•åˆ¶å®šçš„ã€‚ ä¸ä¹…åŽï¼Œå…¶ä»–ä¸€äº›å…¬å¸ä¹Ÿç›¸ç»§æŽ¨å‡ºè‡ªå·±å…¬å¸çš„å…·æœ‰ä¸åŒåç§°çš„ä½“ç³»ç»“æž„ã€‚ ç”±äºŽç½‘ç»œä½“ç³»ç»“æž„çš„ä¸åŒï¼Œä¸åŒå…¬å¸çš„è®¾å¤‡å¾ˆéš¾äº’ç›¸è¿žé€šã€‚ä¸ºäº†ä½¿ä¸åŒä½“ç³»ç»“æž„çš„è®¡ç®—æœºç½‘ç»œéƒ½èƒ½äº’è¿žï¼Œå›½é™…æ ‡å‡†åŒ–ç»„ç»‡ ISO äºŽ 1977 å¹´æˆç«‹äº†ä¸“é—¨æœºæž„ç ”ç©¶è¯¥é—®é¢˜ã€‚ä»–ä»¬æå‡ºäº†ä¸€ä¸ªè¯•å›¾ä½¿å„ç§è®¡ç®—æœºåœ¨ä¸–ç•ŒèŒƒå›´å†…äº’è¿žæˆç½‘çš„æ ‡å‡†æ¡†æž¶ï¼Œå³è‘—åçš„å¼€æ”¾ç³»ç»Ÿäº’è¿žåŸºæœ¬å‚è€ƒæ¨¡åž‹ OSI/RM (Open Systems Interconnection Reference Model)ï¼Œç®€ç§°ä¸º OSIã€‚åªè¦éµå¾ª OSI æ ‡å‡†ï¼Œä¸€ä¸ªç³»ç»Ÿå°±å¯ä»¥å’Œä½äºŽä¸–ç•Œä¸Šä»»ä½•åœ°æ–¹çš„ã€ä¹Ÿéµå¾ªè¿™åŒä¸€æ ‡å‡†çš„å…¶ä»–ä»»ä½•ç³»ç»Ÿè¿›è¡Œé€šä¿¡ã€‚ OSI åªèŽ·å¾—äº†ä¸€äº›ç†è®ºç ”ç©¶çš„æˆæžœï¼Œåœ¨å¸‚åœºåŒ–æ–¹é¢å´å¤±è´¥äº†ã€‚åŽŸå› åŒ…æ‹¬ï¼š OSI çš„ä¸“å®¶ä»¬åœ¨å®Œæˆ OSI æ ‡å‡†æ—¶æ²¡æœ‰å•†ä¸šé©±åŠ¨åŠ›ï¼› OSI çš„åè®®å®žçŽ°èµ·æ¥è¿‡åˆ†å¤æ‚ï¼Œä¸”è¿è¡Œæ•ˆçŽ‡å¾ˆä½Žï¼› OSI æ ‡å‡†çš„åˆ¶å®šå‘¨æœŸå¤ªé•¿ï¼Œå› è€Œä½¿å¾—æŒ‰ OSI æ ‡å‡†ç”Ÿäº§çš„è®¾å¤‡æ— æ³•åŠæ—¶è¿›å…¥å¸‚åœºï¼› OSI çš„å±‚æ¬¡åˆ’åˆ†ä¹Ÿä¸å¤ªåˆç†ï¼Œæœ‰äº›åŠŸèƒ½åœ¨å¤šä¸ªå±‚æ¬¡ä¸­é‡å¤å‡ºçŽ°ã€‚ æœ€ç»ˆçš„ç»“æžœå¯æƒ³è€ŒçŸ¥ï¼Œæ³•å¾‹ä¸Šçš„ (de jure) å›½é™…æ ‡å‡† OSI å¹¶æ²¡æœ‰å¾—åˆ°å¸‚åœºçš„è®¤å¯ã€‚è€Œéžå›½é™…æ ‡å‡† TCP/IP å´èŽ·å¾—äº†æœ€å¹¿æ³›çš„åº”ç”¨ã€‚TCP/IP å¸¸è¢«ç§°ä¸ºäº‹å®žä¸Šçš„ (de facto) å›½é™…æ ‡å‡†ã€‚ 1.7.2 åè®®ä¸Žåˆ’åˆ†å±‚æ¬¡ è®¡ç®—æœºç½‘ç»œä¸­çš„æ•°æ®äº¤æ¢å¿…é¡»éµå®ˆäº‹å…ˆçº¦å®šå¥½çš„è§„åˆ™ã€‚ è¿™äº›è§„åˆ™æ˜Žç¡®è§„å®šäº†æ‰€äº¤æ¢çš„æ•°æ®çš„æ ¼å¼ä»¥åŠæœ‰å…³çš„åŒæ­¥é—®é¢˜ï¼ˆåŒæ­¥å«æœ‰æ—¶åºçš„æ„æ€ï¼‰ã€‚ ç½‘ç»œåè®® (network protocol)ï¼Œç®€ç§°ä¸ºåè®®ï¼Œæ˜¯ä¸ºè¿›è¡Œç½‘ç»œä¸­çš„æ•°æ®äº¤æ¢è€Œå»ºç«‹çš„è§„åˆ™ã€æ ‡å‡†æˆ–çº¦å®šã€‚ ä¸»è¦ç”±è¯­æ³•(æ•°æ®ä¸ŽæŽ§åˆ¶ä¿¡æ¯çš„ç»“æž„æˆ–æ ¼å¼)ã€è¯­ä¹‰(éœ€è¦å‘å‡ºä½•ç§æŽ§åˆ¶ä¿¡æ¯ï¼Œå®Œæˆä½•ç§åŠ¨ä½œä»¥åŠåšå‡ºä½•ç§å“åº”)ã€åŒæ­¥(äº‹ä»¶å®žçŽ°é¡ºåºçš„è¯¦ç»†è¯´æ˜Ž)ä¸‰ä¸ªè¦ç´ ç»„æˆã€‚ ç”±æ­¤å¯è§ï¼Œç½‘ç»œåè®®æ˜¯è®¡ç®—æœºç½‘ç»œçš„ä¸å¯ç¼ºå°‘çš„ç»„æˆéƒ¨åˆ†ã€‚ å±‚æ¬¡å¼åè®®ç»“æž„ï¼šARPANET çš„ç ”åˆ¶ç»éªŒè¡¨æ˜Žï¼Œå¯¹äºŽéžå¸¸å¤æ‚çš„è®¡ç®—æœºç½‘ç»œåè®®ï¼Œå…¶ç»“æž„åº”è¯¥æ˜¯å±‚æ¬¡å¼çš„ã€‚ åˆ†å±‚çš„ä¼˜ç¼ºç‚¹ï¼š ä¼˜ç‚¹ ç¼ºç‚¹ å„å±‚ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ é™ä½Žæ•ˆçŽ‡ çµæ´»æ€§å¥½ æœ‰äº›åŠŸèƒ½ä¼šåœ¨ä¸åŒçš„å±‚æ¬¡ä¸­é‡å¤å‡ºçŽ°ï¼Œå› è€Œäº§ç”Ÿäº†é¢å¤–å¼€é”€ ç»“æž„ä¸Šå¯åˆ†å‰²å¼€ å±‚æ•°å¤ªå°‘ï¼Œå°±ä¼šä½¿æ¯ä¸€å±‚çš„åè®®å¤ªå¤æ‚ æ˜“äºŽå®žçŽ°å’Œç»´æŠ¤ å±‚æ•°å¤ªå¤šï¼Œåˆä¼šåœ¨æè¿°å’Œç»¼åˆå„å±‚åŠŸèƒ½çš„ç³»ç»Ÿå·¥ç¨‹ä»»åŠ¡æ—¶é‡åˆ°è¾ƒå¤šçš„å›°éš¾ èƒ½ä¿ƒè¿›æ ‡å‡†åŒ–å·¥ä½œ 1.7.3 å…·æœ‰äº”å±‚åè®®çš„ä½“ç³»ç»“æž„ OSI(å¼€å‘äº’è¿žç³»ç»Ÿ) çš„ä¸ƒå±‚åè®®ä½“ç³»ç»“æž„çš„æ¦‚å¿µæ¸…æ¥šï¼Œç†è®ºä¹Ÿè¾ƒå®Œæ•´ï¼Œä½†å®ƒæ—¢å¤æ‚åˆä¸å®žç”¨ã€‚ TCP/IP æ˜¯å››å±‚ä½“ç³»ç»“æž„ï¼šåº”ç”¨å±‚ã€è¿è¾“å±‚ã€ç½‘é™…å±‚å’Œç½‘ç»œæŽ¥å£å±‚ã€‚ ä½†æœ€ä¸‹é¢çš„ç½‘ç»œæŽ¥å£å±‚å¹¶æ²¡æœ‰å…·ä½“å†…å®¹ã€‚ å› æ­¤å¾€å¾€é‡‡å–æŠ˜ä¸­çš„åŠžæ³•ï¼Œå³ç»¼åˆ OSI å’Œ TCP/IP çš„ä¼˜ç‚¹ï¼Œé‡‡ç”¨ä¸€ç§åªæœ‰äº”å±‚åè®®çš„ä½“ç³»ç»“æž„ ã€‚ OSIä¸ƒå±‚æ¨¡åž‹ç®€è¿°ï¼š åº”ç”¨å±‚ï¼šèƒ½å¤Ÿäº§ç”Ÿç½‘ç»œæµé‡å’Œç”¨æˆ·äº¤äº’çš„åº”ç”¨ç¨‹åºï¼Œæ—¥å¸¸ä½¿ç”¨å„ç§åº”ç”¨è½¯ä»¶ è¡¨ç¤ºå±‚ï¼šåŠ å¯†ã€åŽ‹ç¼©ï¼Œé’ˆå¯¹è½¯ä»¶å¼€å‘äººå‘˜ï¼Œæ¯”å¦‚ç¨‹åºçš„ç¼–è§£ç ã€è§£åŽ‹ç¼©ã€åŠ è§£å¯† ä¼šè¯å±‚ï¼šæœåŠ¡å™¨ç«¯å®¢æˆ·ç«¯å»ºç«‹é¢ä¼šè¯ï¼Œå…³äºŽè¿›ç¨‹ä»¥åŠç«¯å£ ä¼ è¾“å±‚ï¼šå¯é ä¼ è¾“å»ºç«‹ä¼šè¯(TCPä¸‰æ¬¡æ¡æ‰‹æœºåˆ¶)ã€ä¸å¯é ä¼ è¾“åè®®(UDP)ä¼šè¯ï¼Œå¯ä»¥åšæµé‡æŽ§åˆ¶ ç½‘ç»œå±‚ï¼šIPåœ°å€ç¼–å€ï¼Œé€‰æ‹©æœ€ä½³è·¯å¾„ï¼Œè·¯ç”±å™¨åœ¨è¿™ä¸€å±‚å·¥ä½œï¼Œè¯¥å±‚çš„æ•°æ®ä¼ è¾“å•ä½ä¸ºæ•°æ®æŠ¥ã€‚ æ•°æ®é“¾è·¯å±‚: æ·»åŠ ç‰©ç†å±‚MACåœ°å€ï¼Œäº¤æ¢æœºåœ¨è¿™ä¸€å±‚å·¥ä½œï¼Œè¯¥å±‚çš„æ•°æ®ä¼ è¾“å•ä½ä¸ºå¸§ã€‚ ç‰©ç†å±‚ï¼š ç”µåŽ‹ã€æŽ¥å£æ ‡å‡†(USBã€ä»¥å¤ªç½‘ç½‘å¡æŽ¥å£)ã€ä¼ è¾“ä»‹è´¨(åŒè½´ç”µç¼†ã€åŒç»žçº¿ã€å…‰çº¤)ï¼Œè¯¥å±‚çš„æ•°æ®ä¼ è¾“å•ä½ä¸ºæ¯”ç‰¹æµã€‚","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://ltyeamin.github.io/tags/è®¡ç®—æœºç½‘ç»œ/"}]},{"title":"Zookeeperé›†ç¾¤æ­å»º","slug":"Zookeeperé›†ç¾¤æ­å»º","date":"2019-11-27T14:10:14.000Z","updated":"2019-12-20T12:20:28.492Z","comments":true,"path":"2019/11/27/Zookeeperé›†ç¾¤æ­å»º/","link":"","permalink":"http://ltyeamin.github.io/2019/11/27/Zookeeperé›†ç¾¤æ­å»º/","excerpt":"","text":"1. å‡†å¤‡å·¥ä½œ å®‰è£…JDK Zookeeperå®‰è£…åŒ…ä¸‹è½½ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©3.5.6è¿›è¡Œä¸‹è½½ å‡†å¤‡ä¸‰å°æœºå™¨ï¼Œåˆ†åˆ«æ˜¯192.168.5.1,192.168.5.100,192.168.5.101 å°†zookeeperçš„å®‰è£…åŒ…ä¸Šä¼ åˆ°è¿™ä¸‰å°æœºå™¨ç›¸åŒçš„ç›®å½•ä¸Š(æ–¹ä¾¿ç®¡ç†) 2. å¼€å§‹æ­å»º1ï¼‰é…ç½®é›†ç¾¤ åœ¨ä¸‰å°æœºå™¨ä¾æ¬¡è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š è§£åŽ‹Zookeeperï¼Œå¹¶åˆ›å»ºdataç›®å½•ï¼Œå¦å¤–å°†confä¸‹çš„zoo_sample.cfgæ–‡ä»¶å¤åˆ¶å¹¶æ”¹åä¸ºzoo.cfg 1234tar -xzvf apache-zookeeper-3.5.6-bin.tar.gzcd apache-zookeeper-3.5.6-bin/mkdir datacp conf/zoo_sample.cfg conf/zoo.cfg åœ¨ä¸‰å°æœºå™¨ä¸Šé…ç½®zoo.cfgé›†ç¾¤çŽ¯å¢ƒ 1vi conf/zoo.cf ä¿®æ”¹å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536# The number of milliseconds of each ticktickTime=2000# The number of ticks that the initial # synchronization phase can takeinitLimit=10# The number of ticks that can pass between # sending a request and getting an acknowledgementsyncLimit=5# the directory where the snapshot is stored.# do not use /tmp for storage, /tmp here is just # example sakes.# è¿™é‡Œæ”¹æˆdataç›®å½•ï¼Œç”¨äºŽå­˜æ”¾æ•°æ®ï¼Œç”¨ç›¸å¯¹è·¯å¾„dataDir=../data# the port at which the clients will connect# é»˜è®¤ç«¯å£ä¸º2181å¯ä»¥ä¸æ”¹ï¼Œå¦‚æžœåœ¨ä¸€å°æœºå™¨æ­å»ºä¼ªé›†ç¾¤åˆ™éœ€è¦ä¿®æ”¹clientPort=2181# the maximum number of client connections.# increase this if you need to handle more clients#maxClientCnxns=60## Be sure to read the maintenance section of the # administrator guide before turning on autopurge.## http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance## The number of snapshots to retain in dataDir#autopurge.snapRetainCount=3# Purge task interval in hours# Set to \"0\" to disable auto purge feature#autopurge.purgeInterval=1# åœ¨æ¯ä¸€ä¸ª zookeeperçš„zoo.cfgé…ç½®å®¢æˆ·ç«¯è®¿é—®ç«¯å£ï¼ˆclientPortï¼‰å’Œé›†ç¾¤æœåŠ¡å™¨IPåˆ—è¡¨ã€‚# è§£é‡Šï¼šserver.æœåŠ¡å™¨ID=æœåŠ¡å™¨ IP åœ°å€ï¼šæœåŠ¡å™¨ä¹‹é—´é€šä¿¡ç«¯å£ï¼šæœåŠ¡å™¨ä¹‹é—´æŠ•ç¥¨é€‰ä¸¾ç«¯å£# é›†ç¾¤æœåŠ¡å™¨IPåˆ—è¡¨å¦‚ä¸‹server.1=192.168.5.100:2881:3881server.2=192.168.5.101:2881:3881server.3=192.168.5.1:2881:3881 æ ¹æ®ä¸Šè¿°çš„é…ç½®ï¼Œåœ¨æ¯ä¸ª zookeeperçš„data ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª myid æ–‡ä»¶ï¼Œå†…å®¹åˆ†åˆ«æ˜¯ 1ã€2ã€3 ã€‚è¿™ä¸ªæ–‡ä»¶å°±æ˜¯è®°å½•æ¯ä¸ªæœåŠ¡å™¨çš„ IDã€‚æ¯”å¦‚è¿™é‡ŒæœåŠ¡1ã€2ã€3åˆ†åˆ«ä»£è¡¨192.168.5.100ã€192.168.5.101ã€192.168.5.1è¿™ä¸‰å°æœºå™¨ã€‚ 123456# åœ¨192.168.5.100æ‰§è¡Œtouch data/myid &amp;&amp; echo 1 &gt; data/myid# åœ¨192.168.5.101æ‰§è¡Œtouch data/myid &amp;&amp; echo 2 &gt; data/myid# åœ¨192.168.5.1æ‰§è¡Œtouch data/myid &amp;&amp; echo 3 &gt; data/myid 2ï¼‰å¯åŠ¨é›†ç¾¤å¯åŠ¨é›†ç¾¤å°±æ˜¯åˆ†åˆ«å¯åŠ¨æ¯ä¸ªå®žä¾‹,å³åœ¨ä¸‰å°å¯åŠ¨Zookeeperï¼š 1./bin/zkServer.sh start å¯åŠ¨æˆåŠŸåŽä¼šæ˜¾ç¤ºSTARTEDï¼Œå¦‚ä¸‹ï¼š 1234[litong@localhost apache-zookeeper-3.5.6-bin]# ./bin/zkServer.sh startZooKeeper JMX enabled by defaultUsing config: /usr/local/bin/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfgStarting zookeeper ... STARTED 3ï¼‰é›†ç¾¤éªŒè¯å¯åŠ¨æˆåŠŸåŽï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸‰å°æœºå™¨ä¸Šè¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯æŸ¥è¯¢é›†ç¾¤çŠ¶æ€ï¼š 1./bin/zkServer.sh status 192.168.5.100æœºå™¨çš„è¾“å‡ºç»“æžœï¼š 12345[root@localhost apache-zookeeper-3.5.6-bin]# ./bin/zkServer.sh statusZooKeeper JMX enabled by defaultUsing config: /usr/local/bin/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfgClient port found: 2181. Client address: localhost.Mode: follower 192.168.5.101æœºå™¨çš„è¾“å‡ºç»“æžœï¼š 12345[root@localhost apache-zookeeper-3.5.6-bin]# ./bin/zkServer.sh statusZooKeeper JMX enabled by defaultUsing config: /usr/local/bin/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfgClient port found: 2181. Client address: localhost.Mode: leader 192.168.5.1æœºå™¨çš„è¾“å‡ºç»“æžœï¼š 12345litong@LT:/media/litong/è½¯ä»¶/programs/tools/apache-zookeeper-3.5.6-bin/bin$ ./zkServer.sh statusZooKeeper JMX enabled by defaultUsing config: /media/litong/è½¯ä»¶/programs/tools/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfgClient port found: 2181. Client address: localhost.Mode: follower ä»Žä¸‰å°æœºå™¨çš„çŠ¶æ€å¯ä»¥æŸ¥çœ‹ï¼Œ192.168.5.101æœºå™¨ä¸Šæ˜¾ç¤ºMode: leaderï¼Œæ˜¯ä¸»èŠ‚ç‚¹(master)ï¼Œå…¶ä»–ä¸¤å°æœºå™¨ä¸Šæ˜¾ç¤ºMode: followerï¼Œåˆ™æ˜¯ä¸¤ä¸ªslaveã€‚ 3. å‚è€ƒæ–‡æ¡£â€‹ 1. Zookeeperä¸»é¡µ â€‹ 2. Zookeeperæ–‡æ¡£","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"Zookeeper","slug":"Zookeeper","permalink":"http://ltyeamin.github.io/tags/Zookeeper/"}]},{"title":"LinuxåŸºç¡€-SSHå…å¯†ç™»å½•","slug":"LinuxåŸºç¡€-SSHå…å¯†ç™»å½•","date":"2019-11-23T05:01:17.000Z","updated":"2019-11-23T05:32:34.209Z","comments":true,"path":"2019/11/23/LinuxåŸºç¡€-SSHå…å¯†ç™»å½•/","link":"","permalink":"http://ltyeamin.github.io/2019/11/23/LinuxåŸºç¡€-SSHå…å¯†ç™»å½•/","excerpt":"","text":"Linux SSHç™»å½•ç”±ä¸¤ç§æ–¹å¼: è´¦æˆ·å¯†ç ç™»å½• å¯†é’¥ç™»å½• æˆ‘æœ‰ä¸¤å°ä¸»æœºï¼Œipåˆ†åˆ«ä¸º192.168.5.1å’Œ192.168.5.100ï¼Œæˆ‘è¦ä»Žå‰è€…è¿œç¨‹ç™»å½•åˆ°åŽè€…ä¸»æœºä¸Šï¼Œä¸‹é¢æˆ‘åˆ†åˆ«æ¥æ¼”ç¤ºä¸€ä¸‹ä¸¤ç§æ–¹å¼: è´¦å·å¯†ç ç™»å½•1ssh root@192.168.5.100 æ³¨æ„ï¼š é»˜è®¤ç«¯å£å·æ˜¯22,å¦‚æžœä¸æ˜¯22éœ€è¦åŠ å…¥-p+ç«¯å£å·è¿›è¡Œç™»å½•ï¼Œæ¯”å¦‚è¿œç¨‹ç™»å½•ç¤ºä¾‹: 123456789101112litong@LT:~$ ssh -p22 root@192.168.5.100root@192.168.5.100's password: Last login: Sat Nov 23 18:34:53 2019 from 192.168.5.1[root@localhost ~]# ifconfig ens33ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet 192.168.5.100 netmask 255.255.255.0 broadcast 192.168.5.255 inet6 fe80::79ad:6fa6:c473:3647 prefixlen 64 scopeid 0x20&lt;link&gt; ether 00:0c:29:b3:a4:0f txqueuelen 1000 (Ethernet) RX packets 281 bytes 40054 (39.1 KiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 211 bytes 37007 (36.1 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 å…¬é’¥å…å¯†ç™»å½• å…ˆåœ¨192.168.5.1è¿™å¤ªæœºå™¨ä¸Šç”Ÿæˆå…¬é’¥ï¼› 1ssh-keygen -t rsa æ‰§è¡Œä¸Šè¿°å‘½ä»¤åŽï¼Œæ•²ä¸‰æ¬¡å›žè½¦å³å¯ç”Ÿæˆï¼Œç”ŸæˆåŽä¼šåœ¨å½“å‰è´¦å·çš„homeçš„.sshç›®å½•ä¸­ã€‚ 12345678910litong@LT:~$ ssh-keygen -t rsaGenerating public/private rsa key pair.Enter file in which to save the key (/home/litong/.ssh/id_rsa): /home/litong/.ssh/id_rsa already exists.Overwrite (y/n)? litong@LT:~$ ls -l ~/.ssh/æ€»ç”¨é‡ 12-rw------- 1 litong litong 1675 9æœˆ 10 22:03 id_rsa-rw-r--r-- 1 litong litong 400 9æœˆ 10 22:03 id_rsa.pub-rw-r--r-- 1 litong litong 2214 11æœˆ 20 21:54 known_hosts â€‹ authorized_keys:å­˜æ”¾è¿œç¨‹å…å¯†ç™»å½•çš„å…¬é’¥,ä¸»è¦é€šè¿‡è¿™ä¸ªæ–‡ä»¶è®°å½•å¤šå°æœºå™¨çš„å…¬é’¥,è¿™ä¸ªæ–‡ä»¶å¯ä»¥æ²¡æœ‰ï¼› id_rsa : ç”Ÿæˆçš„ç§é’¥æ–‡ä»¶ï¼› id_rsa.pub ï¼š ç”Ÿæˆçš„å…¬é’¥æ–‡ä»¶ï¼› know_hosts : å·²çŸ¥çš„ä¸»æœºå…¬é’¥æ¸…å•ã€‚ æ³¨æ„: â€‹ 1). sshç›®å½•çš„æƒé™å¿…é¡»æ˜¯700 â€‹ 2). .ssh/authorized_keysæ–‡ä»¶æƒé™å¿…é¡»æ˜¯600 ç¡®è®¤å…¬é’¥æ–‡ä»¶id_rsa.pubæ˜¯å¦å­˜åœ¨ï¼Œå¹¶æŠŠå…¬é’¥æ–‡ä»¶ä¸Šä¼ åˆ°è¿œç¨‹ç™»å½•çš„æœºå™¨ä¸Šã€‚ å¤åˆ¶æ–‡ä»¶æœ‰å¤šç§æ–¹å¼ï¼š é€šè¿‡ssh-copy-idçš„æ–¹å¼ 1sudo ssh-copy-id -i ~/.ssh/id_rsa.pub 192.168.5.100 é€šè¿‡scpå°†å†…å®¹å†™åˆ°å¯¹æ–¹çš„æ–‡ä»¶ä¸­ 1scp -p ~/.ssh/id_rsa.pub root@192.168.5.100:/root/.ssh/authorized_keys ä¸Šä¼ æˆåŠŸåŽï¼ŒæŸ¥çœ‹è¿œç¨‹ä¸»æœº~/.ssh/authorized_keysæ–‡ä»¶çš„å†…å®¹ï¼Œå…¶ä¸­å†…å®¹åŒ…å«è¦è¿œç¨‹ä¸»æœºçš„å…¬é’¥åˆ™è¯´å—é…ç½®å®Œæˆ 192.168.5.1æœºå™¨å…¬é’¥12litong@LT:~/.ssh$ cat id_rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEeCQP2arzLybGinLvKEgN6cJtINUhDL8uLIwaCJdsv7FbYrBK9R2I01F+pftjiiILCrg0GgwSThAJ7cCxbmriw+D1ZoZdC+MJPONiv4PF9KBWNTGdZ1fLjpEifUI3Aax23TdQqkHs+4+T8zOK2v4MsDgit4nqJheV2I+cXuumPlCONndfr43KxPsGJqAtb8yzkMA20/r8fnnOMbfblDnsAOTGWjC+ond2Eph5AlY2tW+s9JiFBHVawalheqYBVmKlNT3vqVp5IKrnJrIVagN59FKqSOAYTFc/7eR61npGtf0+Ftew137FICGp7F6v4JxjqNuSkxsXsH6+2Z071A3X ltyeamin@gmail.com 192.168.5.100è¿œç¨‹æœºå™¨å…å¯†ç™»å½•å…¬é’¥12root@localhost .ssh]# cat authorized_keys ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEeCQP2arzLybGinLvKEgN6cJtINUhDL8uLIwaCJdsv7FbYrBK9R2I01F+pftjiiILCrg0GgwSThAJ7cCxbmriw+D1ZoZdC+MJPONiv4PF9KBWNTGdZ1fLjpEifUI3Aax23TdQqkHs+4+T8zOK2v4MsDgit4nqJheV2I+cXuumPlCONndfr43KxPsGJqAtb8yzkMA20/r8fnnOMbfblDnsAOTGWjC+ond2Eph5AlY2tW+s9JiFBHVawalheqYBVmKlNT3vqVp5IKrnJrIVagN59FKqSOAYTFc/7eR61npGtf0+Ftew137FICGp7F6v4JxjqNuSkxsXsH6+2Z071A3X ltyeamin@gmail.com å°è¯•å…å¯†ç™»å½•ã€‚ 12litong@LT:~/.ssh$ ssh root@192.168.5.100Last login: Sat Nov 23 19:07:01 2019 from 192.168.5.1 æ€»ç»“ æ—¥å¸¸å·¥ä½œä¸­ï¼Œå…å¯†ç™»å½•ç”¨å¤„ç‰¹åˆ«å¤šï¼Œé¡¹ç›®éƒ¨ç½²çš„æ—¶å€™ä¸Šä¼ æ—¶å€™éœ€è¦å…å¯†ç™»å½•ï¼Œä¸å¯èƒ½å°†å¯†ç åŽŸæ–‡è®¾ç½®åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿™æ ·ç‰¹åˆ«ä¸å®‰å…¨ã€‚","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://ltyeamin.github.io/tags/Linux/"}]},{"title":"RocketMQæ¶ˆæ¯å‘é€æ ·ä¾‹","slug":"RocketMQæ¶ˆæ¯å‘é€æ ·ä¾‹","date":"2019-11-20T02:19:23.000Z","updated":"2020-01-08T13:33:44.407Z","comments":true,"path":"2019/11/20/RocketMQæ¶ˆæ¯å‘é€æ ·ä¾‹/","link":"","permalink":"http://ltyeamin.github.io/2019/11/20/RocketMQæ¶ˆæ¯å‘é€æ ·ä¾‹/","excerpt":"","text":"1. æ¶ˆæ¯å‘é€æ ·ä¾‹ å¯¼å…¥MQå®¢æˆ·ç«¯ä¾èµ– maven pom.xmlæ–‡ä»¶é…ç½® 123456&lt;dependency&gt; &lt;groupId&gt;org.apache.rocketmq&lt;/groupId&gt; &lt;artifactId&gt;rocketmq-client&lt;/artifactId&gt; &lt;!-- æ³¨æ„ç‰ˆæœ¬ï¼Œç‰ˆæœ¬å¿…é¡»å’Œserverç«¯ä¿æŒä¸€è‡´--&gt; &lt;version&gt;4.4.0&lt;/version&gt;&lt;/dependency&gt; Gradle build.gradleæ–‡ä»¶é…ç½® 1compile('org.apache.rocketmq:rocketmq-client:4.5.2') æ¶ˆæ¯å‘é€è€…æ­¥éª¤åˆ†æž 1234561.åˆ›å»ºæ¶ˆæ¯ç”Ÿäº§è€…producerï¼Œå¹¶åˆ¶å®šç”Ÿäº§è€…ç»„å2.æŒ‡å®šNameserveråœ°å€3.å¯åŠ¨producer4.åˆ›å»ºæ¶ˆæ¯å¯¹è±¡ï¼ŒæŒ‡å®šä¸»é¢˜Topicã€Tagå’Œæ¶ˆæ¯ä½“5.å‘é€æ¶ˆæ¯6.å…³é—­ç”Ÿäº§è€…producer æ¶ˆæ¯æ¶ˆè´¹è€…æ­¥éª¤åˆ†æž 123451.åˆ›å»ºæ¶ˆè´¹è€…Consumerï¼Œåˆ¶å®šæ¶ˆè´¹è€…ç»„å2.æŒ‡å®šNameserveråœ°å€3.è®¢é˜…ä¸»é¢˜Topicå’ŒTag4.è®¾ç½®å›žè°ƒå‡½æ•°ï¼Œå¤„ç†æ¶ˆæ¯5.å¯åŠ¨æ¶ˆè´¹è€…consumer 1.1 åŸºæœ¬æ ·ä¾‹1.1.1 æ¶ˆæ¯å‘é€1ï¼‰å‘é€åŒæ­¥æ¶ˆæ¯è¿™ç§å¯é æ€§åŒæ­¥åœ°å‘é€æ–¹å¼ä½¿ç”¨çš„æ¯”è¾ƒå¹¿æ³›ï¼Œæ¯”å¦‚ï¼šé‡è¦çš„æ¶ˆæ¯é€šçŸ¥ï¼ŒçŸ­ä¿¡é€šçŸ¥ã€‚ 1234567891011121314151617181920212223public class SyncProducer &#123; public static void main(String[] args) throws Exception &#123; // å®žä¾‹åŒ–æ¶ˆæ¯ç”Ÿäº§è€…Producer DefaultMQProducer producer = new DefaultMQProducer(\"please_rename_unique_group_name\"); // è®¾ç½®NameServerçš„åœ°å€ producer.setNamesrvAddr(\"localhost:9876\"); // å¯åŠ¨Producerå®žä¾‹ producer.start(); for (int i = 0; i &lt; 10; i++) &#123; // åˆ›å»ºæ¶ˆæ¯ï¼Œå¹¶æŒ‡å®šTopicï¼ŒTagå’Œæ¶ˆæ¯ä½“ Message msg = new Message(\"TopicTest\" /* Topic */, \"TagA\" /* Tag */, (\"Hello RocketMQ \" + i).getBytes(RemotingHelper.DEFAULT_CHARSET) /* Message body */ ); // å‘é€æ¶ˆæ¯åˆ°ä¸€ä¸ªBroker SendResult sendResult = producer.send(msg); // é€šè¿‡sendResultè¿”å›žæ¶ˆæ¯æ˜¯å¦æˆåŠŸé€è¾¾ System.out.printf(\"%s%n\", sendResult); &#125; // å¦‚æžœä¸å†å‘é€æ¶ˆæ¯ï¼Œå…³é—­Producerå®žä¾‹ã€‚ producer.shutdown(); &#125;&#125; 2ï¼‰å‘é€å¼‚æ­¥æ¶ˆæ¯å¼‚æ­¥æ¶ˆæ¯é€šå¸¸ç”¨åœ¨å¯¹å“åº”æ—¶é—´æ•æ„Ÿçš„ä¸šåŠ¡åœºæ™¯ï¼Œå³å‘é€ç«¯ä¸èƒ½å®¹å¿é•¿æ—¶é—´åœ°ç­‰å¾…Brokerçš„å“åº”ã€‚ 1234567891011121314151617181920212223242526272829303132333435public class AsyncProducer &#123; public static void main(String[] args) throws Exception &#123; // å®žä¾‹åŒ–æ¶ˆæ¯ç”Ÿäº§è€…Producer DefaultMQProducer producer = new DefaultMQProducer(\"please_rename_unique_group_name\"); // è®¾ç½®NameServerçš„åœ°å€ producer.setNamesrvAddr(\"localhost:9876\"); // å¯åŠ¨Producerå®žä¾‹ producer.start(); // å¼‚æ­¥å‘é€å¤±è´¥åŽçš„é‡è¯•æ¬¡æ•° producer.setRetryTimesWhenSendAsyncFailed(0); for (int i = 0; i &lt; 10; i++) &#123; final int index = i; // åˆ›å»ºæ¶ˆæ¯ï¼Œå¹¶æŒ‡å®šTopicï¼ŒTagå’Œæ¶ˆæ¯ä½“ Message msg = new Message(\"TopicTest\", \"TagA\", \"OrderID199\", \"Hello world\".getBytes(RemotingHelper.DEFAULT_CHARSET)); // SendCallbackæŽ¥æ”¶å¼‚æ­¥è¿”å›žç»“æžœçš„å›žè°ƒ producer.send(msg, new SendCallback() &#123; @Override public void onSuccess(SendResult sendResult) &#123; System.out.printf(\"%-10d OK %s %n\", index, sendResult.getMsgId()); &#125; @Override public void onException(Throwable e) &#123; System.out.printf(\"%-10d Exception %s %n\", index, e); e.printStackTrace(); &#125; &#125;); &#125; // å¦‚æžœä¸å†å‘é€æ¶ˆæ¯ï¼Œå…³é—­Producerå®žä¾‹ã€‚ producer.shutdown(); &#125;&#125; 3ï¼‰å•å‘å‘é€æ¶ˆæ¯è¿™ç§æ–¹å¼ä¸»è¦ç”¨åœ¨ä¸ç‰¹åˆ«å…³å¿ƒå‘é€ç»“æžœçš„åœºæ™¯ï¼Œä¾‹å¦‚æ—¥å¿—å‘é€ã€‚ 12345678910111213141516171819202122public class OnewayProducer &#123; public static void main(String[] args) throws Exception&#123; // å®žä¾‹åŒ–æ¶ˆæ¯ç”Ÿäº§è€…Producer DefaultMQProducer producer = new DefaultMQProducer(\"please_rename_unique_group_name\"); // è®¾ç½®NameServerçš„åœ°å€ producer.setNamesrvAddr(\"localhost:9876\"); // å¯åŠ¨Producerå®žä¾‹ producer.start(); for (int i = 0; i &lt; 10; i++) &#123; // åˆ›å»ºæ¶ˆæ¯ï¼Œå¹¶æŒ‡å®šTopicï¼ŒTagå’Œæ¶ˆæ¯ä½“ Message msg = new Message(\"TopicTest\" /* Topic */, \"TagA\" /* Tag */, (\"Hello RocketMQ \" + i).getBytes(RemotingHelper.DEFAULT_CHARSET) /* Message body */ ); // å‘é€å•å‘æ¶ˆæ¯ï¼Œæ²¡æœ‰ä»»ä½•è¿”å›žç»“æžœ producer.sendOneway(msg); &#125; // å¦‚æžœä¸å†å‘é€æ¶ˆæ¯ï¼Œå…³é—­Producerå®žä¾‹ã€‚ producer.shutdown(); &#125;&#125; 1.1.2 æ¶ˆè´¹æ¶ˆæ¯1ï¼‰è´Ÿè½½å‡è¡¡æ¨¡å¼æ¶ˆè´¹è€…é‡‡ç”¨è´Ÿè½½å‡è¡¡æ–¹å¼æ¶ˆè´¹æ¶ˆæ¯ï¼Œå¤šä¸ªæ¶ˆè´¹è€…å…±åŒæ¶ˆè´¹é˜Ÿåˆ—æ¶ˆæ¯ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…å¤„ç†çš„æ¶ˆæ¯ä¸åŒ 1234567891011121314151617181920212223public static void main(String[] args) throws Exception &#123; // å®žä¾‹åŒ–æ¶ˆæ¯ç”Ÿäº§è€…,æŒ‡å®šç»„å DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(\"group1\"); // æŒ‡å®šNamesrvåœ°å€ä¿¡æ¯. consumer.setNamesrvAddr(\"localhost:9876\"); // è®¢é˜…Topic consumer.subscribe(\"Test\", \"*\"); //è´Ÿè½½å‡è¡¡æ¨¡å¼æ¶ˆè´¹ï¼Œä¸æŒ‡å®šé»˜è®¤æ˜¯è´Ÿè½½å‡è¡¡çš„æ¶ˆæ¯æ¶ˆè´¹æ¨¡å¼ consumer.setMessageModel(MessageModel.CLUSTERING); // æ³¨å†Œå›žè°ƒå‡½æ•°ï¼Œå¤„ç†æ¶ˆæ¯ consumer.registerMessageListener(new MessageListenerConcurrently() &#123; @Override public ConsumeConcurrentlyStatus consumeMessage(List&lt;MessageExt&gt; msgs, ConsumeConcurrentlyContext context) &#123; System.out.printf(\"%s Receive New Messages: %s %n\", Thread.currentThread().getName(), msgs); return ConsumeConcurrentlyStatus.CONSUME_SUCCESS; &#125; &#125;); //å¯åŠ¨æ¶ˆæ¯è€… consumer.start(); System.out.printf(\"Consumer Started.%n\");&#125; 2ï¼‰å¹¿æ’­æ¨¡å¼æ¶ˆè´¹è€…é‡‡ç”¨å¹¿æ’­çš„æ–¹å¼æ¶ˆè´¹æ¶ˆæ¯ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹çš„æ¶ˆæ¯éƒ½æ˜¯ç›¸åŒçš„ 1234567891011121314151617181920212223public static void main(String[] args) throws Exception &#123; // å®žä¾‹åŒ–æ¶ˆæ¯ç”Ÿäº§è€…,æŒ‡å®šç»„å DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(\"group1\"); // æŒ‡å®šNamesrvåœ°å€ä¿¡æ¯. consumer.setNamesrvAddr(\"localhost:9876\"); // è®¢é˜…Topic consumer.subscribe(\"Test\", \"*\"); //å¹¿æ’­æ¨¡å¼æ¶ˆè´¹ consumer.setMessageModel(MessageModel.BROADCASTING); // æ³¨å†Œå›žè°ƒå‡½æ•°ï¼Œå¤„ç†æ¶ˆæ¯ consumer.registerMessageListener(new MessageListenerConcurrently() &#123; @Override public ConsumeConcurrentlyStatus consumeMessage(List&lt;MessageExt&gt; msgs, ConsumeConcurrentlyContext context) &#123; System.out.printf(\"%s Receive New Messages: %s %n\", Thread.currentThread().getName(), msgs); return ConsumeConcurrentlyStatus.CONSUME_SUCCESS; &#125; &#125;); //å¯åŠ¨æ¶ˆæ¯è€… consumer.start(); System.out.printf(\"Consumer Started.%n\");&#125; 1.2 é¡ºåºæ¶ˆæ¯æ¶ˆæ¯æœ‰åºæŒ‡çš„æ˜¯å¯ä»¥æŒ‰ç…§æ¶ˆæ¯çš„å‘é€é¡ºåºæ¥æ¶ˆè´¹(FIFO)ã€‚RocketMQå¯ä»¥ä¸¥æ ¼çš„ä¿è¯æ¶ˆæ¯æœ‰åºï¼Œå¯ä»¥åˆ†ä¸ºåˆ†åŒºæœ‰åºæˆ–è€…å…¨å±€æœ‰åºã€‚ é¡ºåºæ¶ˆè´¹çš„åŽŸç†è§£æžï¼Œåœ¨é»˜è®¤çš„æƒ…å†µä¸‹æ¶ˆæ¯å‘é€ä¼šé‡‡å–Round Robinè½®è¯¢æ–¹å¼æŠŠæ¶ˆæ¯å‘é€åˆ°ä¸åŒçš„queue(åˆ†åŒºé˜Ÿåˆ—)ï¼›è€Œæ¶ˆè´¹æ¶ˆæ¯çš„æ—¶å€™ä»Žå¤šä¸ªqueueä¸Šæ‹‰å–æ¶ˆæ¯ï¼Œè¿™ç§æƒ…å†µå‘é€å’Œæ¶ˆè´¹æ˜¯ä¸èƒ½ä¿è¯é¡ºåºã€‚ä½†æ˜¯å¦‚æžœæŽ§åˆ¶å‘é€çš„é¡ºåºæ¶ˆæ¯åªä¾æ¬¡å‘é€åˆ°åŒä¸€ä¸ªqueueä¸­ï¼Œæ¶ˆè´¹çš„æ—¶å€™åªä»Žè¿™ä¸ªqueueä¸Šä¾æ¬¡æ‹‰å–ï¼Œåˆ™å°±ä¿è¯äº†é¡ºåºã€‚å½“å‘é€å’Œæ¶ˆè´¹å‚ä¸Žçš„queueåªæœ‰ä¸€ä¸ªï¼Œåˆ™æ˜¯å…¨å±€æœ‰åºï¼›å¦‚æžœå¤šä¸ªqueueå‚ä¸Žï¼Œåˆ™ä¸ºåˆ†åŒºæœ‰åºï¼Œå³ç›¸å¯¹æ¯ä¸ªqueueï¼Œæ¶ˆæ¯éƒ½æ˜¯æœ‰åºçš„ã€‚ ä¸‹é¢ç”¨è®¢å•è¿›è¡Œåˆ†åŒºæœ‰åºçš„ç¤ºä¾‹ã€‚ä¸€ä¸ªè®¢å•çš„é¡ºåºæµç¨‹æ˜¯ï¼šåˆ›å»ºã€ä»˜æ¬¾ã€æŽ¨é€ã€å®Œæˆã€‚è®¢å•å·ç›¸åŒçš„æ¶ˆæ¯ä¼šè¢«å…ˆåŽå‘é€åˆ°åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œæ¶ˆè´¹æ—¶ï¼ŒåŒä¸€ä¸ªOrderIdèŽ·å–åˆ°çš„è‚¯å®šæ˜¯åŒä¸€ä¸ªé˜Ÿåˆ—ã€‚ 1.2.1 é¡ºåºæ¶ˆæ¯ç”Ÿäº§123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134/*** Producerï¼Œå‘é€é¡ºåºæ¶ˆæ¯*/public class Producer &#123; public static void main(String[] args) throws Exception &#123; DefaultMQProducer producer = new DefaultMQProducer(\"please_rename_unique_group_name\"); producer.setNamesrvAddr(\"127.0.0.1:9876\"); producer.start(); String[] tags = new String[]&#123;\"TagA\", \"TagC\", \"TagD\"&#125;; // è®¢å•åˆ—è¡¨ List&lt;OrderStep&gt; orderList = new Producer().buildOrders(); Date date = new Date(); SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\"); String dateStr = sdf.format(date); for (int i = 0; i &lt; 10; i++) &#123; // åŠ ä¸ªæ—¶é—´å‰ç¼€ String body = dateStr + \" Hello RocketMQ \" + orderList.get(i); Message msg = new Message(\"TopicTest\", tags[i % tags.length], \"KEY\" + i, body.getBytes()); SendResult sendResult = producer.send(msg, new MessageQueueSelector() &#123; @Override public MessageQueue select(List&lt;MessageQueue&gt; mqs, Message msg, Object arg) &#123; Long id = (Long) arg; //æ ¹æ®è®¢å•idé€‰æ‹©å‘é€queue long index = id % mqs.size(); // æ±‚æ¨¡ç¡®å®šé˜Ÿåˆ—çš„ä½ç½® return mqs.get((int) index); &#125; &#125;, orderList.get(i).getOrderId());//è®¢å•id System.out.println(String.format(\"SendResult status:%s, queueId:%d, body:%s\", sendResult.getSendStatus(), sendResult.getMessageQueue().getQueueId(), body)); &#125; producer.shutdown(); &#125; /** * è®¢å•çš„æ­¥éª¤ */ private static class OrderStep &#123; private long orderId; private String desc; public long getOrderId() &#123; return orderId; &#125; public void setOrderId(long orderId) &#123; this.orderId = orderId; &#125; public String getDesc() &#123; return desc; &#125; public void setDesc(String desc) &#123; this.desc = desc; &#125; @Override public String toString() &#123; return \"OrderStep&#123;\" + \"orderId=\" + orderId + \", desc='\" + desc + '\\'' + '&#125;'; &#125; &#125; /** * ç”Ÿæˆæ¨¡æ‹Ÿè®¢å•æ•°æ® */ private List&lt;OrderStep&gt; buildOrders() &#123; List&lt;OrderStep&gt; orderList = new ArrayList&lt;OrderStep&gt;(); OrderStep orderDemo = new OrderStep(); orderDemo.setOrderId(15103111039L); orderDemo.setDesc(\"åˆ›å»º\"); orderList.add(orderDemo); orderDemo = new OrderStep(); orderDemo.setOrderId(15103111065L); orderDemo.setDesc(\"åˆ›å»º\"); orderList.add(orderDemo); orderDemo = new OrderStep(); orderDemo.setOrderId(15103111039L); orderDemo.setDesc(\"ä»˜æ¬¾\"); orderList.add(orderDemo); orderDemo = new OrderStep(); orderDemo.setOrderId(15103117235L); orderDemo.setDesc(\"åˆ›å»º\"); orderList.add(orderDemo); orderDemo = new OrderStep(); orderDemo.setOrderId(15103111065L); orderDemo.setDesc(\"ä»˜æ¬¾\"); orderList.add(orderDemo); orderDemo = new OrderStep(); orderDemo.setOrderId(15103117235L); orderDemo.setDesc(\"ä»˜æ¬¾\"); orderList.add(orderDemo); orderDemo = new OrderStep(); orderDemo.setOrderId(15103111065L); orderDemo.setDesc(\"å®Œæˆ\"); orderList.add(orderDemo); orderDemo = new OrderStep(); orderDemo.setOrderId(15103111039L); orderDemo.setDesc(\"æŽ¨é€\"); orderList.add(orderDemo); orderDemo = new OrderStep(); orderDemo.setOrderId(15103117235L); orderDemo.setDesc(\"å®Œæˆ\"); orderList.add(orderDemo); orderDemo = new OrderStep(); orderDemo.setOrderId(15103111039L); orderDemo.setDesc(\"å®Œæˆ\"); orderList.add(orderDemo); return orderList; &#125;&#125; 1.2.2 é¡ºåºæ¶ˆè´¹æ¶ˆæ¯1234567891011121314151617181920212223242526272829303132333435363738394041424344/*** é¡ºåºæ¶ˆæ¯æ¶ˆè´¹ï¼Œå¸¦äº‹åŠ¡æ–¹å¼ï¼ˆåº”ç”¨å¯æŽ§åˆ¶Offsetä»€ä¹ˆæ—¶å€™æäº¤ï¼‰*/public class ConsumerInOrder &#123; public static void main(String[] args) throws Exception &#123; DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(\"please_rename_unique_group_name_3\"); consumer.setNamesrvAddr(\"127.0.0.1:9876\"); /** * è®¾ç½®Consumerç¬¬ä¸€æ¬¡å¯åŠ¨æ˜¯ä»Žé˜Ÿåˆ—å¤´éƒ¨å¼€å§‹æ¶ˆè´¹è¿˜æ˜¯é˜Ÿåˆ—å°¾éƒ¨å¼€å§‹æ¶ˆè´¹&lt;br&gt; * å¦‚æžœéžç¬¬ä¸€æ¬¡å¯åŠ¨ï¼Œé‚£ä¹ˆæŒ‰ç…§ä¸Šæ¬¡æ¶ˆè´¹çš„ä½ç½®ç»§ç»­æ¶ˆè´¹ */ consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_FIRST_OFFSET); consumer.subscribe(\"TopicTest\", \"TagA || TagC || TagD\"); consumer.registerMessageListener(new MessageListenerOrderly() &#123; Random random = new Random(); @Override public ConsumeOrderlyStatus consumeMessage(List&lt;MessageExt&gt; msgs, ConsumeOrderlyContext context) &#123; context.setAutoCommit(true); for (MessageExt msg : msgs) &#123; // å¯ä»¥çœ‹åˆ°æ¯ä¸ªqueueæœ‰å”¯ä¸€çš„consumeçº¿ç¨‹æ¥æ¶ˆè´¹, è®¢å•å¯¹æ¯ä¸ªqueue(åˆ†åŒº)æœ‰åº System.out.println(\"consumeThread=\" + Thread.currentThread().getName() + \"queueId=\" + msg.getQueueId() + \", content:\" + new String(msg.getBody())); &#125; try &#123; //æ¨¡æ‹Ÿä¸šåŠ¡é€»è¾‘å¤„ç†ä¸­... TimeUnit.SECONDS.sleep(random.nextInt(10)); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return ConsumeOrderlyStatus.SUCCESS; &#125; &#125;); consumer.start(); System.out.println(\"Consumer Started.\"); &#125;&#125; 1.3 å»¶æ—¶æ¶ˆæ¯æ¯”å¦‚ç”µå•†é‡Œï¼Œæäº¤äº†ä¸€ä¸ªè®¢å•å°±å¯ä»¥å‘é€ä¸€ä¸ªå»¶æ—¶æ¶ˆæ¯ï¼Œ1håŽåŽ»æ£€æŸ¥è¿™ä¸ªè®¢å•çš„çŠ¶æ€ï¼Œå¦‚æžœè¿˜æ˜¯æœªä»˜æ¬¾å°±å–æ¶ˆè®¢å•é‡Šæ”¾åº“å­˜ã€‚ 1.3.1 å¯åŠ¨æ¶ˆæ¯æ¶ˆè´¹è€…123456789101112131415161718192021public class ScheduledMessageConsumer &#123; public static void main(String[] args) throws Exception &#123; // å®žä¾‹åŒ–æ¶ˆè´¹è€… DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(\"ExampleConsumer\"); // è®¢é˜…Topics consumer.subscribe(\"TestTopic\", \"*\"); // æ³¨å†Œæ¶ˆæ¯ç›‘å¬è€… consumer.registerMessageListener(new MessageListenerConcurrently() &#123; @Override public ConsumeConcurrentlyStatus consumeMessage(List&lt;MessageExt&gt; messages, ConsumeConcurrentlyContext context) &#123; for (MessageExt message : messages) &#123; // Print approximate delay time period System.out.println(\"Receive message[msgId=\" + message.getMsgId() + \"] \" + (System.currentTimeMillis() - message.getStoreTimestamp()) + \"ms later\"); &#125; return ConsumeConcurrentlyStatus.CONSUME_SUCCESS; &#125; &#125;); // å¯åŠ¨æ¶ˆè´¹è€… consumer.start(); &#125;&#125; 1.3.2 å‘é€å»¶æ—¶æ¶ˆæ¯123456789101112131415161718public class ScheduledMessageProducer &#123; public static void main(String[] args) throws Exception &#123; // å®žä¾‹åŒ–ä¸€ä¸ªç”Ÿäº§è€…æ¥äº§ç”Ÿå»¶æ—¶æ¶ˆæ¯ DefaultMQProducer producer = new DefaultMQProducer(\"ExampleProducerGroup\"); // å¯åŠ¨ç”Ÿäº§è€… producer.start(); int totalMessagesToSend = 100; for (int i = 0; i &lt; totalMessagesToSend; i++) &#123; Message message = new Message(\"TestTopic\", (\"Hello scheduled message \" + i).getBytes()); // è®¾ç½®å»¶æ—¶ç­‰çº§3,è¿™ä¸ªæ¶ˆæ¯å°†åœ¨10sä¹‹åŽå‘é€(çŽ°åœ¨åªæ”¯æŒå›ºå®šçš„å‡ ä¸ªæ—¶é—´,è¯¦çœ‹delayTimeLevel) message.setDelayTimeLevel(3); // å‘é€æ¶ˆæ¯ producer.send(message); &#125; // å…³é—­ç”Ÿäº§è€… producer.shutdown(); &#125;&#125; 1.3.3 éªŒè¯æ‚¨å°†ä¼šçœ‹åˆ°æ¶ˆæ¯çš„æ¶ˆè´¹æ¯”å­˜å‚¨æ—¶é—´æ™š10ç§’ 1.3.4 ä½¿ç”¨é™åˆ¶12// org/apache/rocketmq/store/config/MessageStoreConfig.javaprivate String messageDelayLevel = \"1s 5s 10s 30s 1m 2m 3m 4m 5m 6m 7m 8m 9m 10m 20m 30m 1h 2h\"; çŽ°åœ¨RocketMqå¹¶ä¸æ”¯æŒä»»æ„æ—¶é—´çš„å»¶æ—¶ï¼Œéœ€è¦è®¾ç½®å‡ ä¸ªå›ºå®šçš„å»¶æ—¶ç­‰çº§ï¼Œä»Ž1såˆ°2håˆ†åˆ«å¯¹åº”ç€ç­‰çº§1åˆ°18 1.4 æ‰¹é‡æ¶ˆæ¯æ‰¹é‡å‘é€æ¶ˆæ¯èƒ½æ˜¾è‘—æé«˜ä¼ é€’å°æ¶ˆæ¯çš„æ€§èƒ½ã€‚é™åˆ¶æ˜¯è¿™äº›æ‰¹é‡æ¶ˆæ¯åº”è¯¥æœ‰ç›¸åŒçš„topicï¼Œç›¸åŒçš„waitStoreMsgOKï¼Œè€Œä¸”ä¸èƒ½æ˜¯å»¶æ—¶æ¶ˆæ¯ã€‚æ­¤å¤–ï¼Œè¿™ä¸€æ‰¹æ¶ˆæ¯çš„æ€»å¤§å°ä¸åº”è¶…è¿‡4MBã€‚ 1.4.1 å‘é€æ‰¹é‡æ¶ˆæ¯å¦‚æžœæ‚¨æ¯æ¬¡åªå‘é€ä¸è¶…è¿‡4MBçš„æ¶ˆæ¯ï¼Œåˆ™å¾ˆå®¹æ˜“ä½¿ç”¨æ‰¹å¤„ç†ï¼Œæ ·ä¾‹å¦‚ä¸‹ï¼š 1234567891011String topic = \"BatchTest\";List&lt;Message&gt; messages = new ArrayList&lt;&gt;();messages.add(new Message(topic, \"TagA\", \"OrderID001\", \"Hello world 0\".getBytes()));messages.add(new Message(topic, \"TagA\", \"OrderID002\", \"Hello world 1\".getBytes()));messages.add(new Message(topic, \"TagA\", \"OrderID003\", \"Hello world 2\".getBytes()));try &#123; producer.send(messages);&#125; catch (Exception e) &#123; e.printStackTrace(); //å¤„ç†error&#125; å¦‚æžœæ¶ˆæ¯çš„æ€»é•¿åº¦å¯èƒ½å¤§äºŽ4MBæ—¶ï¼Œè¿™æ—¶å€™æœ€å¥½æŠŠæ¶ˆæ¯è¿›è¡Œåˆ†å‰² 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455public class ListSplitter implements Iterator&lt;List&lt;Message&gt;&gt; &#123; private final int SIZE_LIMIT = 1024 * 1024 * 4; private final List&lt;Message&gt; messages; private int currIndex; public ListSplitter(List&lt;Message&gt; messages) &#123; this.messages = messages; &#125; @Override public boolean hasNext() &#123; return currIndex &lt; messages.size(); &#125; @Override public List&lt;Message&gt; next() &#123; int nextIndex = currIndex; int totalSize = 0; for (; nextIndex &lt; messages.size(); nextIndex++) &#123; Message message = messages.get(nextIndex); int tmpSize = message.getTopic().length() + message.getBody().length; Map&lt;String, String&gt; properties = message.getProperties(); for (Map.Entry&lt;String, String&gt; entry : properties.entrySet()) &#123; tmpSize += entry.getKey().length() + entry.getValue().length(); &#125; tmpSize = tmpSize + 20; // å¢žåŠ æ—¥å¿—çš„å¼€é”€20å­—èŠ‚ if (tmpSize &gt; SIZE_LIMIT) &#123; //å•ä¸ªæ¶ˆæ¯è¶…è¿‡äº†æœ€å¤§çš„é™åˆ¶ //å¿½ç•¥,å¦åˆ™ä¼šé˜»å¡žåˆ†è£‚çš„è¿›ç¨‹ if (nextIndex - currIndex == 0) &#123; //å‡å¦‚ä¸‹ä¸€ä¸ªå­åˆ—è¡¨æ²¡æœ‰å…ƒç´ ,åˆ™æ·»åŠ è¿™ä¸ªå­åˆ—è¡¨ç„¶åŽé€€å‡ºå¾ªçŽ¯,å¦åˆ™åªæ˜¯é€€å‡ºå¾ªçŽ¯ nextIndex++; &#125; break; &#125; if (tmpSize + totalSize &gt; SIZE_LIMIT) &#123; break; &#125; else &#123; totalSize += tmpSize; &#125; &#125; List&lt;Message&gt; subList = messages.subList(currIndex, nextIndex); currIndex = nextIndex; return subList; &#125;&#125;//æŠŠå¤§çš„æ¶ˆæ¯åˆ†è£‚æˆè‹¥å¹²ä¸ªå°çš„æ¶ˆæ¯ListSplitter splitter = new ListSplitter(messages);while (splitter.hasNext()) &#123; try &#123; List&lt;Message&gt; listItem = splitter.next(); producer.send(listItem); &#125; catch (Exception e) &#123; e.printStackTrace(); //å¤„ç†error &#125;&#125; 1.5 è¿‡æ»¤æ¶ˆæ¯åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒTAGæ˜¯ä¸€ä¸ªç®€å•è€Œæœ‰ç”¨çš„è®¾è®¡ï¼Œå…¶å¯ä»¥æ¥é€‰æ‹©æ‚¨æƒ³è¦çš„æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼š 12DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(\"CID_EXAMPLE\");consumer.subscribe(\"TOPIC\", \"TAGA || TAGB || TAGC\"); æ¶ˆè´¹è€…å°†æŽ¥æ”¶åŒ…å«TAGAæˆ–TAGBæˆ–TAGCçš„æ¶ˆæ¯ã€‚ä½†æ˜¯é™åˆ¶æ˜¯ä¸€ä¸ªæ¶ˆæ¯åªèƒ½æœ‰ä¸€ä¸ªæ ‡ç­¾ï¼Œè¿™å¯¹äºŽå¤æ‚çš„åœºæ™¯å¯èƒ½ä¸èµ·ä½œç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨SQLè¡¨è¾¾å¼ç­›é€‰æ¶ˆæ¯ã€‚SQLç‰¹æ€§å¯ä»¥é€šè¿‡å‘é€æ¶ˆæ¯æ—¶çš„å±žæ€§æ¥è¿›è¡Œè®¡ç®—ã€‚åœ¨RocketMQå®šä¹‰çš„è¯­æ³•ä¸‹ï¼Œå¯ä»¥å®žçŽ°ä¸€äº›ç®€å•çš„é€»è¾‘ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š 1234567891011121314------------| message ||----------| a &gt; 5 AND b = &apos;abc&apos;| a = 10 | --------------------&gt; Gotten| b = &apos;abc&apos;|| c = true |------------------------| message ||----------| a &gt; 5 AND b = &apos;abc&apos;| a = 1 | --------------------&gt; Missed| b = &apos;abc&apos;|| c = true |------------ 1.5.1 SQLåŸºæœ¬è¯­æ³•RocketMQåªå®šä¹‰äº†ä¸€äº›åŸºæœ¬è¯­æ³•æ¥æ”¯æŒè¿™ä¸ªç‰¹æ€§ã€‚ä½ ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“åœ°æ‰©å±•å®ƒã€‚ æ•°å€¼æ¯”è¾ƒï¼Œæ¯”å¦‚ï¼š&gt;ï¼Œ&gt;=ï¼Œ&lt;ï¼Œ&lt;=ï¼ŒBETWEENï¼Œ=ï¼› å­—ç¬¦æ¯”è¾ƒï¼Œæ¯”å¦‚ï¼š=ï¼Œ&lt;&gt;ï¼ŒINï¼› IS NULL æˆ–è€… IS NOT NULLï¼› é€»è¾‘ç¬¦å· ANDï¼ŒORï¼ŒNOTï¼› å¸¸é‡æ”¯æŒç±»åž‹ä¸ºï¼š æ•°å€¼ï¼Œæ¯”å¦‚ï¼š123ï¼Œ3.1415ï¼› å­—ç¬¦ï¼Œæ¯”å¦‚ï¼šâ€˜abcâ€™ï¼Œå¿…é¡»ç”¨å•å¼•å·åŒ…è£¹èµ·æ¥ï¼› NULLï¼Œç‰¹æ®Šçš„å¸¸é‡ å¸ƒå°”å€¼ï¼ŒTRUE æˆ– FALSE åªæœ‰ä½¿ç”¨pushæ¨¡å¼çš„æ¶ˆè´¹è€…æ‰èƒ½ç”¨ä½¿ç”¨SQL92æ ‡å‡†çš„sqlè¯­å¥ï¼ŒæŽ¥å£å¦‚ä¸‹ï¼š 1public void subscribe(finalString topic, final MessageSelector messageSelector) 1.5.2 æ¶ˆæ¯ç”Ÿäº§è€…å‘é€æ¶ˆæ¯æ—¶ï¼Œä½ èƒ½é€šè¿‡putUserPropertyæ¥è®¾ç½®æ¶ˆæ¯çš„å±žæ€§ 1234567891011DefaultMQProducer producer = new DefaultMQProducer(\"please_rename_unique_group_name\");producer.start();Message msg = new Message(\"TopicTest\", tag, (\"Hello RocketMQ \" + i).getBytes(RemotingHelper.DEFAULT_CHARSET));// è®¾ç½®ä¸€äº›å±žæ€§msg.putUserProperty(\"a\", String.valueOf(i));SendResult sendResult = producer.send(msg);producer.shutdown(); 1.5.3 æ¶ˆæ¯æ¶ˆè´¹è€…ç”¨MessageSelector.bySqlæ¥ä½¿ç”¨sqlç­›é€‰æ¶ˆæ¯ 12345678910DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(\"please_rename_unique_group_name_4\");// åªæœ‰è®¢é˜…çš„æ¶ˆæ¯æœ‰è¿™ä¸ªå±žæ€§a, a &gt;=0 and a &lt;= 3consumer.subscribe(\"TopicTest\", MessageSelector.bySql(\"a between 0 and 3\");consumer.registerMessageListener(new MessageListenerConcurrently() &#123; @Override public ConsumeConcurrentlyStatus consumeMessage(List&lt;MessageExt&gt; msgs, ConsumeConcurrentlyContext context) &#123; return ConsumeConcurrentlyStatus.CONSUME_SUCCESS; &#125;&#125;);consumer.start(); 1.6 äº‹åŠ¡æ¶ˆæ¯1.6.1 æµç¨‹åˆ†æž ä¸Šå›¾è¯´æ˜Žäº†äº‹åŠ¡æ¶ˆæ¯çš„å¤§è‡´æ–¹æ¡ˆï¼Œå…¶ä¸­åˆ†ä¸ºä¸¤ä¸ªæµç¨‹ï¼šæ­£å¸¸äº‹åŠ¡æ¶ˆæ¯çš„å‘é€åŠæäº¤ã€äº‹åŠ¡æ¶ˆæ¯çš„è¡¥å¿æµç¨‹ã€‚ 1ï¼‰äº‹åŠ¡æ¶ˆæ¯å‘é€åŠæäº¤â€‹ (1) å‘é€æ¶ˆæ¯ï¼ˆhalfæ¶ˆæ¯ï¼‰ã€‚ â€‹ (2) æœåŠ¡ç«¯å“åº”æ¶ˆæ¯å†™å…¥ç»“æžœã€‚ â€‹ (3) æ ¹æ®å‘é€ç»“æžœæ‰§è¡Œæœ¬åœ°äº‹åŠ¡ï¼ˆå¦‚æžœå†™å…¥å¤±è´¥ï¼Œæ­¤æ—¶halfæ¶ˆæ¯å¯¹ä¸šåŠ¡ä¸å¯è§ï¼Œæœ¬åœ°é€»è¾‘ä¸æ‰§è¡Œï¼‰ã€‚ â€‹ (4) æ ¹æ®æœ¬åœ°äº‹åŠ¡çŠ¶æ€æ‰§è¡ŒCommitæˆ–è€…Rollbackï¼ˆCommitæ“ä½œç”Ÿæˆæ¶ˆæ¯ç´¢å¼•ï¼Œæ¶ˆæ¯å¯¹æ¶ˆè´¹è€…å¯è§ï¼‰ 2ï¼‰äº‹åŠ¡è¡¥å¿â€‹ (1) å¯¹æ²¡æœ‰Commit/Rollbackçš„äº‹åŠ¡æ¶ˆæ¯ï¼ˆpendingçŠ¶æ€çš„æ¶ˆæ¯ï¼‰ï¼Œä»ŽæœåŠ¡ç«¯å‘èµ·ä¸€æ¬¡â€œå›žæŸ¥â€ â€‹ (2) Produceræ”¶åˆ°å›žæŸ¥æ¶ˆæ¯ï¼Œæ£€æŸ¥å›žæŸ¥æ¶ˆæ¯å¯¹åº”çš„æœ¬åœ°äº‹åŠ¡çš„çŠ¶æ€ â€‹ (3) æ ¹æ®æœ¬åœ°äº‹åŠ¡çŠ¶æ€ï¼Œé‡æ–°Commitæˆ–è€…Rollback â€‹ å…¶ä¸­ï¼Œè¡¥å¿é˜¶æ®µç”¨äºŽè§£å†³æ¶ˆæ¯Commitæˆ–è€…Rollbackå‘ç”Ÿè¶…æ—¶æˆ–è€…å¤±è´¥çš„æƒ…å†µã€‚ 3ï¼‰äº‹åŠ¡æ¶ˆæ¯çŠ¶æ€äº‹åŠ¡æ¶ˆæ¯å…±æœ‰ä¸‰ç§çŠ¶æ€ï¼Œæäº¤çŠ¶æ€ã€å›žæ»šçŠ¶æ€ã€ä¸­é—´çŠ¶æ€ï¼š TransactionStatus.CommitTransaction: æäº¤äº‹åŠ¡ï¼Œå®ƒå…è®¸æ¶ˆè´¹è€…æ¶ˆè´¹æ­¤æ¶ˆæ¯ã€‚ TransactionStatus.RollbackTransaction: å›žæ»šäº‹åŠ¡ï¼Œå®ƒä»£è¡¨è¯¥æ¶ˆæ¯å°†è¢«åˆ é™¤ï¼Œä¸å…è®¸è¢«æ¶ˆè´¹ã€‚ TransactionStatus.Unknown: ä¸­é—´çŠ¶æ€ï¼Œå®ƒä»£è¡¨éœ€è¦æ£€æŸ¥æ¶ˆæ¯é˜Ÿåˆ—æ¥ç¡®å®šçŠ¶æ€ã€‚ 1.6.2 å‘é€äº‹åŠ¡æ¶ˆæ¯1) åˆ›å»ºäº‹åŠ¡æ€§ç”Ÿäº§è€…ä½¿ç”¨ TransactionMQProducerç±»åˆ›å»ºç”Ÿäº§è€…ï¼Œå¹¶æŒ‡å®šå”¯ä¸€çš„ ProducerGroupï¼Œå°±å¯ä»¥è®¾ç½®è‡ªå®šä¹‰çº¿ç¨‹æ± æ¥å¤„ç†è¿™äº›æ£€æŸ¥è¯·æ±‚ã€‚æ‰§è¡Œæœ¬åœ°äº‹åŠ¡åŽã€éœ€è¦æ ¹æ®æ‰§è¡Œç»“æžœå¯¹æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œå›žå¤ã€‚å›žä¼ çš„äº‹åŠ¡çŠ¶æ€åœ¨è¯·å‚è€ƒå‰ä¸€èŠ‚ã€‚ 1234567891011121314151617181920212223242526public class Producer &#123; public static void main(String[] args) throws MQClientException, InterruptedException &#123; //åˆ›å»ºäº‹åŠ¡ç›‘å¬å™¨ TransactionListener transactionListener = new TransactionListenerImpl(); //åˆ›å»ºæ¶ˆæ¯ç”Ÿäº§è€… TransactionMQProducer producer = new TransactionMQProducer(\"group6\"); producer.setNamesrvAddr(\"192.168.25.135:9876;192.168.25.138:9876\"); //ç”Ÿäº§è€…è¿™æ˜¯ç›‘å¬å™¨ producer.setTransactionListener(transactionListener); //å¯åŠ¨æ¶ˆæ¯ç”Ÿäº§è€… producer.start(); String[] tags = new String[]&#123;\"TagA\", \"TagB\", \"TagC\"&#125;; for (int i = 0; i &lt; 3; i++) &#123; try &#123; Message msg = new Message(\"TransactionTopic\", tags[i % tags.length], \"KEY\" + i, (\"Hello RocketMQ \" + i).getBytes(RemotingHelper.DEFAULT_CHARSET)); SendResult sendResult = producer.sendMessageInTransaction(msg, null); System.out.printf(\"%s%n\", sendResult); TimeUnit.SECONDS.sleep(1); &#125; catch (MQClientException | UnsupportedEncodingException e) &#123; e.printStackTrace(); &#125; &#125; //producer.shutdown(); &#125;&#125; 2ï¼‰å®žçŽ°äº‹åŠ¡çš„ç›‘å¬æŽ¥å£å½“å‘é€åŠæ¶ˆæ¯æˆåŠŸæ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ executeLocalTransaction æ–¹æ³•æ¥æ‰§è¡Œæœ¬åœ°äº‹åŠ¡ã€‚å®ƒè¿”å›žå‰ä¸€èŠ‚ä¸­æåˆ°çš„ä¸‰ä¸ªäº‹åŠ¡çŠ¶æ€ä¹‹ä¸€ã€‚checkLocalTranscation æ–¹æ³•ç”¨äºŽæ£€æŸ¥æœ¬åœ°äº‹åŠ¡çŠ¶æ€ï¼Œå¹¶å›žåº”æ¶ˆæ¯é˜Ÿåˆ—çš„æ£€æŸ¥è¯·æ±‚ã€‚å®ƒä¹Ÿæ˜¯è¿”å›žå‰ä¸€èŠ‚ä¸­æåˆ°çš„ä¸‰ä¸ªäº‹åŠ¡çŠ¶æ€ä¹‹ä¸€ã€‚ 123456789101112131415161718192021public class TransactionListenerImpl implements TransactionListener &#123; @Override public LocalTransactionState executeLocalTransaction(Message msg, Object arg) &#123; System.out.println(\"æ‰§è¡Œæœ¬åœ°äº‹åŠ¡\"); if (StringUtils.equals(\"TagA\", msg.getTags())) &#123; return LocalTransactionState.COMMIT_MESSAGE; &#125; else if (StringUtils.equals(\"TagB\", msg.getTags())) &#123; return LocalTransactionState.ROLLBACK_MESSAGE; &#125; else &#123; return LocalTransactionState.UNKNOW; &#125; &#125; @Override public LocalTransactionState checkLocalTransaction(MessageExt msg) &#123; System.out.println(\"MQæ£€æŸ¥æ¶ˆæ¯Tagã€\"+msg.getTags()+\"ã€‘çš„æœ¬åœ°äº‹åŠ¡æ‰§è¡Œç»“æžœ\"); return LocalTransactionState.COMMIT_MESSAGE; &#125;&#125; 1.6.3 ä½¿ç”¨é™åˆ¶ äº‹åŠ¡æ¶ˆæ¯ä¸æ”¯æŒå»¶æ—¶æ¶ˆæ¯å’Œæ‰¹é‡æ¶ˆæ¯ã€‚ ä¸ºäº†é¿å…å•ä¸ªæ¶ˆæ¯è¢«æ£€æŸ¥å¤ªå¤šæ¬¡è€Œå¯¼è‡´åŠé˜Ÿåˆ—æ¶ˆæ¯ç´¯ç§¯ï¼Œæˆ‘ä»¬é»˜è®¤å°†å•ä¸ªæ¶ˆæ¯çš„æ£€æŸ¥æ¬¡æ•°é™åˆ¶ä¸º 15 æ¬¡ï¼Œä½†æ˜¯ç”¨æˆ·å¯ä»¥é€šè¿‡ Broker é…ç½®æ–‡ä»¶çš„ transactionCheckMaxå‚æ•°æ¥ä¿®æ”¹æ­¤é™åˆ¶ã€‚å¦‚æžœå·²ç»æ£€æŸ¥æŸæ¡æ¶ˆæ¯è¶…è¿‡ N æ¬¡çš„è¯ï¼ˆ N = transactionCheckMax ï¼‰ åˆ™ Broker å°†ä¸¢å¼ƒæ­¤æ¶ˆæ¯ï¼Œå¹¶åœ¨é»˜è®¤æƒ…å†µä¸‹åŒæ—¶æ‰“å°é”™è¯¯æ—¥å¿—ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡é‡å†™ AbstractTransactionCheckListener ç±»æ¥ä¿®æ”¹è¿™ä¸ªè¡Œä¸ºã€‚ äº‹åŠ¡æ¶ˆæ¯å°†åœ¨ Broker é…ç½®æ–‡ä»¶ä¸­çš„å‚æ•° transactionMsgTimeout è¿™æ ·çš„ç‰¹å®šæ—¶é—´é•¿åº¦ä¹‹åŽè¢«æ£€æŸ¥ã€‚å½“å‘é€äº‹åŠ¡æ¶ˆæ¯æ—¶ï¼Œç”¨æˆ·è¿˜å¯ä»¥é€šè¿‡è®¾ç½®ç”¨æˆ·å±žæ€§ CHECK_IMMUNITY_TIME_IN_SECONDS æ¥æ”¹å˜è¿™ä¸ªé™åˆ¶ï¼Œè¯¥å‚æ•°ä¼˜å…ˆäºŽ transactionMsgTimeout å‚æ•°ã€‚ äº‹åŠ¡æ€§æ¶ˆæ¯å¯èƒ½ä¸æ­¢ä¸€æ¬¡è¢«æ£€æŸ¥æˆ–æ¶ˆè´¹ã€‚ æäº¤ç»™ç”¨æˆ·çš„ç›®æ ‡ä¸»é¢˜æ¶ˆæ¯å¯èƒ½ä¼šå¤±è´¥ï¼Œç›®å‰è¿™ä¾æ—¥å¿—çš„è®°å½•è€Œå®šã€‚å®ƒçš„é«˜å¯ç”¨æ€§é€šè¿‡ RocketMQ æœ¬èº«çš„é«˜å¯ç”¨æ€§æœºåˆ¶æ¥ä¿è¯ï¼Œå¦‚æžœå¸Œæœ›ç¡®ä¿äº‹åŠ¡æ¶ˆæ¯ä¸ä¸¢å¤±ã€å¹¶ä¸”äº‹åŠ¡å®Œæ•´æ€§å¾—åˆ°ä¿è¯ï¼Œå»ºè®®ä½¿ç”¨åŒæ­¥çš„åŒé‡å†™å…¥æœºåˆ¶ã€‚ äº‹åŠ¡æ¶ˆæ¯çš„ç”Ÿäº§è€… ID ä¸èƒ½ä¸Žå…¶ä»–ç±»åž‹æ¶ˆæ¯çš„ç”Ÿäº§è€… ID å…±äº«ã€‚ä¸Žå…¶ä»–ç±»åž‹çš„æ¶ˆæ¯ä¸åŒï¼Œäº‹åŠ¡æ¶ˆæ¯å…è®¸åå‘æŸ¥è¯¢ã€MQæœåŠ¡å™¨èƒ½é€šè¿‡å®ƒä»¬çš„ç”Ÿäº§è€… ID æŸ¥è¯¢åˆ°æ¶ˆè´¹è€…ã€‚","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"RocketMQ","slug":"RocketMQ","permalink":"http://ltyeamin.github.io/tags/RocketMQ/"}]},{"title":"RocketMQé›†ç¾¤æ­å»º","slug":"RocketMQé›†ç¾¤æ­å»º","date":"2019-11-09T02:20:14.000Z","updated":"2020-01-08T13:06:29.617Z","comments":true,"path":"2019/11/09/RocketMQé›†ç¾¤æ­å»º/","link":"","permalink":"http://ltyeamin.github.io/2019/11/09/RocketMQé›†ç¾¤æ­å»º/","excerpt":"","text":"1. RocketMQå¿«é€Ÿå…¥é—¨RocketMQæ˜¯é˜¿é‡Œå·´å·´2016å¹´MQä¸­é—´ä»¶ï¼Œä½¿ç”¨Javaè¯­è¨€å¼€å‘ï¼Œåœ¨é˜¿é‡Œå†…éƒ¨ï¼ŒRocketMQæ‰¿æŽ¥äº†ä¾‹å¦‚â€œåŒ11â€ç­‰é«˜å¹¶å‘åœºæ™¯çš„æ¶ˆæ¯æµè½¬ï¼Œèƒ½å¤Ÿå¤„ç†ä¸‡äº¿çº§åˆ«çš„æ¶ˆæ¯ã€‚ 1.1 å‡†å¤‡å·¥ä½œ1.1.1 ä¸‹è½½RocketMQRocketMQæœ€æ–°ç‰ˆæœ¬ï¼š4.5.2 Release ä¸‹è½½åœ°å€ 1.2.2 çŽ¯å¢ƒè¦æ±‚ Linux64ä½ç³»ç»Ÿ JDK1.8(64ä½) æºç å®‰è£…éœ€è¦å®‰è£…Maven 3.2.x 1.2 å®‰è£…RocketMQ1.2.1 å®‰è£…æ­¥éª¤æœ¬æ•™ç¨‹ä»¥äºŒè¿›åˆ¶åŒ…æ–¹å¼å®‰è£… è§£åŽ‹å®‰è£…åŒ… è¿›å…¥å®‰è£…ç›®å½• 2.2.2 ç›®å½•ä»‹ç» binï¼šå¯åŠ¨è„šæœ¬ï¼ŒåŒ…æ‹¬shellè„šæœ¬å’ŒCMDè„šæœ¬ confï¼šå®žä¾‹é…ç½®æ–‡ä»¶ ï¼ŒåŒ…æ‹¬brokeré…ç½®æ–‡ä»¶ã€logbacké…ç½®æ–‡ä»¶ç­‰ libï¼šä¾èµ–jaråŒ…ï¼ŒåŒ…æ‹¬Nettyã€commons-langã€FastJSONç­‰ 1.3 å¯åŠ¨RocketMQ å¯åŠ¨NameServer 1234# 1.å¯åŠ¨NameServernohup sh bin/mqnamesrv &amp;# 2.æŸ¥çœ‹å¯åŠ¨æ—¥å¿—tail -f ~/logs/rocketmqlogs/namesrv.log å¯åŠ¨Broker 1234# 1.å¯åŠ¨Brokernohup sh bin/mqbroker -n localhost:9876 &amp;# 2.æŸ¥çœ‹å¯åŠ¨æ—¥å¿—tail -f ~/logs/rocketmqlogs/broker.log é—®é¢˜æè¿°ï¼š RocketMQé»˜è®¤çš„è™šæ‹Ÿæœºå†…å­˜è¾ƒå¤§ï¼Œå¯åŠ¨Brokerå¦‚æžœå› ä¸ºå†…å­˜ä¸è¶³å¤±è´¥ï¼Œéœ€è¦ç¼–è¾‘å¦‚ä¸‹ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹JVMå†…å­˜å¤§å° 123# ç¼–è¾‘runbroker.shå’Œrunserver.shä¿®æ”¹é»˜è®¤JVMå¤§å°vi runbroker.shvi runserver.sh å‚è€ƒè®¾ç½®ï¼š 1JAVA_OPT=\"$&#123;JAVA_OPT&#125; -server -Xms256m -Xmx256m -Xmn128m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=320m\" 1.4 æµ‹è¯•RocketMQ1.4.1 å‘é€æ¶ˆæ¯1234# 1.è®¾ç½®çŽ¯å¢ƒå˜é‡export NAMESRV_ADDR=localhost:9876# 2.ä½¿ç”¨å®‰è£…åŒ…çš„Demoå‘é€æ¶ˆæ¯sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer 1.4.2 æŽ¥æ”¶æ¶ˆæ¯1234# 1.è®¾ç½®çŽ¯å¢ƒå˜é‡export NAMESRV_ADDR=localhost:9876# 2.æŽ¥æ”¶æ¶ˆæ¯sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer 1.5 å…³é—­RocketMQ1234# 1.å…³é—­NameServersh bin/mqshutdown namesrv# 2.å…³é—­Brokersh bin/mqshutdown broker 2. RocketMQé›†ç¾¤æ­å»º2.1 å„è§’è‰²ä»‹ç» Producerï¼šæ¶ˆæ¯çš„å‘é€è€…ï¼›ä¸¾ä¾‹ï¼šå‘ä¿¡è€… Consumerï¼šæ¶ˆæ¯æŽ¥æ”¶è€…ï¼›ä¸¾ä¾‹ï¼šæ”¶ä¿¡è€… Brokerï¼šæš‚å­˜å’Œä¼ è¾“æ¶ˆæ¯ï¼›ä¸¾ä¾‹ï¼šé‚®å±€ NameServerï¼šç®¡ç†Brokerï¼›ä¸¾ä¾‹ï¼šå„ä¸ªé‚®å±€çš„ç®¡ç†æœºæž„ Topicï¼šåŒºåˆ†æ¶ˆæ¯çš„ç§ç±»ï¼›ä¸€ä¸ªå‘é€è€…å¯ä»¥å‘é€æ¶ˆæ¯ç»™ä¸€ä¸ªæˆ–è€…å¤šä¸ªTopicï¼›ä¸€ä¸ªæ¶ˆæ¯çš„æŽ¥æ”¶è€…å¯ä»¥è®¢é˜…ä¸€ä¸ªæˆ–è€…å¤šä¸ªTopicæ¶ˆæ¯ Message Queueï¼šç›¸å½“äºŽæ˜¯Topicçš„åˆ†åŒºï¼›ç”¨äºŽå¹¶è¡Œå‘é€å’ŒæŽ¥æ”¶æ¶ˆæ¯ 2.2 é›†ç¾¤æ­å»ºæ–¹å¼2.2.1 é›†ç¾¤ç‰¹ç‚¹ NameServeræ˜¯ä¸€ä¸ªå‡ ä¹Žæ— çŠ¶æ€èŠ‚ç‚¹ï¼Œå¯é›†ç¾¤éƒ¨ç½²ï¼ŒèŠ‚ç‚¹ä¹‹é—´æ— ä»»ä½•ä¿¡æ¯åŒæ­¥ã€‚ Brokeréƒ¨ç½²ç›¸å¯¹å¤æ‚ï¼ŒBrokeråˆ†ä¸ºMasterä¸ŽSlaveï¼Œä¸€ä¸ªMasterå¯ä»¥å¯¹åº”å¤šä¸ªSlaveï¼Œä½†æ˜¯ä¸€ä¸ªSlaveåªèƒ½å¯¹åº”ä¸€ä¸ªMasterï¼ŒMasterä¸ŽSlaveçš„å¯¹åº”å…³ç³»é€šè¿‡æŒ‡å®šç›¸åŒçš„BrokerNameï¼Œä¸åŒçš„BrokerIdæ¥å®šä¹‰ï¼ŒBrokerIdä¸º0è¡¨ç¤ºMasterï¼Œéž0è¡¨ç¤ºSlaveã€‚Masterä¹Ÿå¯ä»¥éƒ¨ç½²å¤šä¸ªã€‚æ¯ä¸ªBrokerä¸ŽNameServeré›†ç¾¤ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å»ºç«‹é•¿è¿žæŽ¥ï¼Œå®šæ—¶æ³¨å†ŒTopicä¿¡æ¯åˆ°æ‰€æœ‰NameServerã€‚ Producerä¸ŽNameServeré›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆéšæœºé€‰æ‹©ï¼‰å»ºç«‹é•¿è¿žæŽ¥ï¼Œå®šæœŸä»ŽNameServerå–Topicè·¯ç”±ä¿¡æ¯ï¼Œå¹¶å‘æä¾›TopicæœåŠ¡çš„Masterå»ºç«‹é•¿è¿žæŽ¥ï¼Œä¸”å®šæ—¶å‘Masterå‘é€å¿ƒè·³ã€‚Producerå®Œå…¨æ— çŠ¶æ€ï¼Œå¯é›†ç¾¤éƒ¨ç½²ã€‚ Consumerä¸ŽNameServeré›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆéšæœºé€‰æ‹©ï¼‰å»ºç«‹é•¿è¿žæŽ¥ï¼Œå®šæœŸä»ŽNameServerå–Topicè·¯ç”±ä¿¡æ¯ï¼Œå¹¶å‘æä¾›TopicæœåŠ¡çš„Masterã€Slaveå»ºç«‹é•¿è¿žæŽ¥ï¼Œä¸”å®šæ—¶å‘Masterã€Slaveå‘é€å¿ƒè·³ã€‚Consumeræ—¢å¯ä»¥ä»ŽMasterè®¢é˜…æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥ä»ŽSlaveè®¢é˜…æ¶ˆæ¯ï¼Œè®¢é˜…è§„åˆ™ç”±Brokeré…ç½®å†³å®šã€‚ 2.2.3 é›†ç¾¤æ¨¡å¼1ï¼‰å•Masteræ¨¡å¼è¿™ç§æ–¹å¼é£Žé™©è¾ƒå¤§ï¼Œä¸€æ—¦Brokeré‡å¯æˆ–è€…å®•æœºæ—¶ï¼Œä¼šå¯¼è‡´æ•´ä¸ªæœåŠ¡ä¸å¯ç”¨ã€‚ä¸å»ºè®®çº¿ä¸ŠçŽ¯å¢ƒä½¿ç”¨,å¯ä»¥ç”¨äºŽæœ¬åœ°æµ‹è¯•ã€‚ 2ï¼‰å¤šMasteræ¨¡å¼ä¸€ä¸ªé›†ç¾¤æ— Slaveï¼Œå…¨æ˜¯Masterï¼Œä¾‹å¦‚2ä¸ªMasteræˆ–è€…3ä¸ªMasterï¼Œè¿™ç§æ¨¡å¼çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œå•ä¸ªMasterå®•æœºæˆ–é‡å¯ç»´æŠ¤å¯¹åº”ç”¨æ— å½±å“ï¼Œåœ¨ç£ç›˜é…ç½®ä¸ºRAID10æ—¶ï¼Œå³ä½¿æœºå™¨å®•æœºä¸å¯æ¢å¤æƒ…å†µä¸‹ï¼Œç”±äºŽRAID10ç£ç›˜éžå¸¸å¯é ï¼Œæ¶ˆæ¯ä¹Ÿä¸ä¼šä¸¢ï¼ˆå¼‚æ­¥åˆ·ç›˜ä¸¢å¤±å°‘é‡æ¶ˆæ¯ï¼ŒåŒæ­¥åˆ·ç›˜ä¸€æ¡ä¸ä¸¢ï¼‰ï¼Œæ€§èƒ½æœ€é«˜ï¼› ç¼ºç‚¹ï¼šå•å°æœºå™¨å®•æœºæœŸé—´ï¼Œè¿™å°æœºå™¨ä¸Šæœªè¢«æ¶ˆè´¹çš„æ¶ˆæ¯åœ¨æœºå™¨æ¢å¤ä¹‹å‰ä¸å¯è®¢é˜…ï¼Œæ¶ˆæ¯å®žæ—¶æ€§ä¼šå—åˆ°å½±å“ã€‚ 3ï¼‰å¤šMasterå¤šSlaveæ¨¡å¼ï¼ˆå¼‚æ­¥ï¼‰æ¯ä¸ªMasteré…ç½®ä¸€ä¸ªSlaveï¼Œæœ‰å¤šå¯¹Master-Slaveï¼ŒHAé‡‡ç”¨å¼‚æ­¥å¤åˆ¶æ–¹å¼ï¼Œä¸»å¤‡æœ‰çŸ­æš‚æ¶ˆæ¯å»¶è¿Ÿï¼ˆæ¯«ç§’çº§ï¼‰ï¼Œè¿™ç§æ¨¡å¼çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š ä¼˜ç‚¹ï¼šå³ä½¿ç£ç›˜æŸåï¼Œæ¶ˆæ¯ä¸¢å¤±çš„éžå¸¸å°‘ï¼Œä¸”æ¶ˆæ¯å®žæ—¶æ€§ä¸ä¼šå—å½±å“ï¼ŒåŒæ—¶Masterå®•æœºåŽï¼Œæ¶ˆè´¹è€…ä»ç„¶å¯ä»¥ä»ŽSlaveæ¶ˆè´¹ï¼Œè€Œä¸”æ­¤è¿‡ç¨‹å¯¹åº”ç”¨é€æ˜Žï¼Œä¸éœ€è¦äººå·¥å¹²é¢„ï¼Œæ€§èƒ½åŒå¤šMasteræ¨¡å¼å‡ ä¹Žä¸€æ ·ï¼› ç¼ºç‚¹ï¼šMasterå®•æœºï¼Œç£ç›˜æŸåæƒ…å†µä¸‹ä¼šä¸¢å¤±å°‘é‡æ¶ˆæ¯ã€‚ 4ï¼‰å¤šMasterå¤šSlaveæ¨¡å¼ï¼ˆåŒæ­¥ï¼‰æ¯ä¸ªMasteré…ç½®ä¸€ä¸ªSlaveï¼Œæœ‰å¤šå¯¹Master-Slaveï¼ŒHAé‡‡ç”¨åŒæ­¥åŒå†™æ–¹å¼ï¼Œå³åªæœ‰ä¸»å¤‡éƒ½å†™æˆåŠŸï¼Œæ‰å‘åº”ç”¨è¿”å›žæˆåŠŸï¼Œè¿™ç§æ¨¡å¼çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š ä¼˜ç‚¹ï¼šæ•°æ®ä¸ŽæœåŠ¡éƒ½æ— å•ç‚¹æ•…éšœï¼ŒMasterå®•æœºæƒ…å†µä¸‹ï¼Œæ¶ˆæ¯æ— å»¶è¿Ÿï¼ŒæœåŠ¡å¯ç”¨æ€§ä¸Žæ•°æ®å¯ç”¨æ€§éƒ½éžå¸¸é«˜ï¼› ç¼ºç‚¹ï¼šæ€§èƒ½æ¯”å¼‚æ­¥å¤åˆ¶æ¨¡å¼ç•¥ä½Žï¼ˆå¤§çº¦ä½Ž10%å·¦å³ï¼‰ï¼Œå‘é€å•ä¸ªæ¶ˆæ¯çš„RTä¼šç•¥é«˜ï¼Œä¸”ç›®å‰ç‰ˆæœ¬åœ¨ä¸»èŠ‚ç‚¹å®•æœºåŽï¼Œå¤‡æœºä¸èƒ½è‡ªåŠ¨åˆ‡æ¢ä¸ºä¸»æœºã€‚ 2.3 åŒä¸»åŒä»Žé›†ç¾¤æ­å»º2.3.1 æ€»ä½“æž¶æž„æ¶ˆæ¯é«˜å¯ç”¨é‡‡ç”¨2m-2sï¼ˆåŒæ­¥åŒå†™ï¼‰æ–¹å¼ 2.3.2 é›†ç¾¤å·¥ä½œæµç¨‹ å¯åŠ¨NameServerï¼ŒNameServerèµ·æ¥åŽç›‘å¬ç«¯å£ï¼Œç­‰å¾…Brokerã€Producerã€Consumerè¿žä¸Šæ¥ï¼Œç›¸å½“äºŽä¸€ä¸ªè·¯ç”±æŽ§åˆ¶ä¸­å¿ƒã€‚ Brokerå¯åŠ¨ï¼Œè·Ÿæ‰€æœ‰çš„NameServerä¿æŒé•¿è¿žæŽ¥ï¼Œå®šæ—¶å‘é€å¿ƒè·³åŒ…ã€‚å¿ƒè·³åŒ…ä¸­åŒ…å«å½“å‰Brokerä¿¡æ¯(IP+ç«¯å£ç­‰)ä»¥åŠå­˜å‚¨æ‰€æœ‰Topicä¿¡æ¯ã€‚æ³¨å†ŒæˆåŠŸåŽï¼ŒNameServeré›†ç¾¤ä¸­å°±æœ‰Topicè·ŸBrokerçš„æ˜ å°„å…³ç³»ã€‚ æ”¶å‘æ¶ˆæ¯å‰ï¼Œå…ˆåˆ›å»ºTopicï¼Œåˆ›å»ºTopicæ—¶éœ€è¦æŒ‡å®šè¯¥Topicè¦å­˜å‚¨åœ¨å“ªäº›Brokerä¸Šï¼Œä¹Ÿå¯ä»¥åœ¨å‘é€æ¶ˆæ¯æ—¶è‡ªåŠ¨åˆ›å»ºTopicã€‚ Producerå‘é€æ¶ˆæ¯ï¼Œå¯åŠ¨æ—¶å…ˆè·ŸNameServeré›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€å°å»ºç«‹é•¿è¿žæŽ¥ï¼Œå¹¶ä»ŽNameServerä¸­èŽ·å–å½“å‰å‘é€çš„Topicå­˜åœ¨å“ªäº›Brokerä¸Šï¼Œè½®è¯¢ä»Žé˜Ÿåˆ—åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åŽä¸Žé˜Ÿåˆ—æ‰€åœ¨çš„Brokerå»ºç«‹é•¿è¿žæŽ¥ä»Žè€Œå‘Brokerå‘æ¶ˆæ¯ã€‚ Consumerè·ŸProducerç±»ä¼¼ï¼Œè·Ÿå…¶ä¸­ä¸€å°NameServerå»ºç«‹é•¿è¿žæŽ¥ï¼ŒèŽ·å–å½“å‰è®¢é˜…Topicå­˜åœ¨å“ªäº›Brokerä¸Šï¼Œç„¶åŽç›´æŽ¥è·ŸBrokerå»ºç«‹è¿žæŽ¥é€šé“ï¼Œå¼€å§‹æ¶ˆè´¹æ¶ˆæ¯ã€‚ 2.3.3 æœåŠ¡å™¨çŽ¯å¢ƒ åºå· IP è§’è‰² æž¶æž„æ¨¡å¼ 1 192.168.5.100 nameserverã€brokerserver Master1ã€Slave2 2 192.168.5.101 nameserverã€brokerserver Master2ã€Slave1 2.3.4 Hostæ·»åŠ ä¿¡æ¯1vim /etc/hosts é…ç½®å¦‚ä¸‹: 12345678# nameserver192.168.5.100 rocketmq-nameserver1192.168.5.101 rocketmq-nameserver2# broker192.168.5.100 rocketmq-master1192.168.5.100 rocketmq-slave2192.168.5.101 rocketmq-master2192.168.5.101 rocketmq-slave1 é…ç½®å®ŒæˆåŽ, é‡å¯ç½‘å¡ 1systemctl restart network 2.3.5 é˜²ç«å¢™é…ç½®å®¿ä¸»æœºéœ€è¦è¿œç¨‹è®¿é—®è™šæ‹Ÿæœºçš„rocketmqæœåŠ¡å’ŒwebæœåŠ¡ï¼Œéœ€è¦å¼€æ”¾ç›¸å…³çš„ç«¯å£å·ï¼Œç®€å•ç²—æš´çš„æ–¹å¼æ˜¯ç›´æŽ¥å…³é—­é˜²ç«å¢™ 123456# å…³é—­é˜²ç«å¢™systemctl stop firewalld.service # æŸ¥çœ‹é˜²ç«å¢™çš„çŠ¶æ€firewall-cmd --state # ç¦æ­¢firewallå¼€æœºå¯åŠ¨systemctl disable firewalld.service æˆ–è€…ä¸ºäº†å®‰å…¨ï¼Œåªå¼€æ”¾ç‰¹å®šçš„ç«¯å£å·ï¼ŒRocketMQé»˜è®¤ä½¿ç”¨3ä¸ªç«¯å£ï¼š9876 ã€10911 ã€11011 ã€‚å¦‚æžœé˜²ç«å¢™æ²¡æœ‰å…³é—­çš„è¯ï¼Œé‚£ä¹ˆé˜²ç«å¢™å°±å¿…é¡»å¼€æ”¾è¿™äº›ç«¯å£ï¼š nameserver é»˜è®¤ä½¿ç”¨ 9876 ç«¯å£ master é»˜è®¤ä½¿ç”¨ 10911 ç«¯å£ slave é»˜è®¤ä½¿ç”¨11011 ç«¯å£ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 12345678# å¼€æ”¾name serveré»˜è®¤ç«¯å£firewall-cmd --remove-port=9876/tcp --permanent# å¼€æ”¾masteré»˜è®¤ç«¯å£firewall-cmd --remove-port=10911/tcp --permanent# å¼€æ”¾slaveé»˜è®¤ç«¯å£ (å½“å‰é›†ç¾¤æ¨¡å¼å¯ä¸å¼€å¯)firewall-cmd --remove-port=11011/tcp --permanent # é‡å¯é˜²ç«å¢™firewall-cmd --reload 2.3.6 çŽ¯å¢ƒå˜é‡é…ç½®1vim /etc/profile åœ¨profileæ–‡ä»¶çš„æœ«å°¾åŠ å…¥å¦‚ä¸‹å‘½ä»¤ 1234#set rocketmqROCKETMQ_HOME=/usr/local/bin/rocketmq-all-4.5.2-bin-releasePATH=$PATH:$ROCKETMQ_HOME/binexport ROCKETMQ_HOME PATH è¾“å…¥:wq! ä¿å­˜å¹¶é€€å‡ºï¼Œ å¹¶ä½¿å¾—é…ç½®ç«‹åˆ»ç”Ÿæ•ˆï¼š 1source /etc/profile 2.3.7 åˆ›å»ºæ¶ˆæ¯å­˜å‚¨è·¯å¾„1234567mkdir $ROCKETMQ_HOME/storemkdir $ROCKETMQ_HOME/store/commitlogmkdir $ROCKETMQ_HOME/store/consumequeuemkdir $ROCKETMQ_HOME/store/indexmkdir $ROCKETMQ_HOME/store/abortmkdir $ROCKETMQ_HOMEcheckpointcp -r $ROCKETMQ_HOME/store/ $ROCKETMQ_HOME/slave-store 2.3.8 brokeré…ç½®æ–‡ä»¶1ï¼‰master1æœåŠ¡å™¨ï¼š192.168.5.100 1vi $ROCKETMQ_HOME/conf/2m-2s-sync/broker-a.properties ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#æ‰€å±žé›†ç¾¤åå­—brokerClusterName=rocketmq-cluster#brokeråå­—ï¼Œæ³¨æ„æ­¤å¤„ä¸åŒçš„é…ç½®æ–‡ä»¶å¡«å†™çš„ä¸ä¸€æ ·brokerName=broker-a#0 è¡¨ç¤º Masterï¼Œ&gt;0 è¡¨ç¤º SlavebrokerId=0#nameServeråœ°å€ï¼Œåˆ†å·åˆ†å‰²ï¼Œæ³¨æ„è¿™é‡Œä¸€ä¸‹ç”±ä¸ªå‘ï¼Œå°±æ˜¯;åŽé¢è¦æœ‰ç©ºæ ¼namesrvAddr=rocketmq-nameserver1:9876; rocketmq-nameserver2:9876#åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ä¸å­˜åœ¨çš„topicï¼Œé»˜è®¤åˆ›å»ºçš„é˜Ÿåˆ—æ•°defaultTopicQueueNums=4#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºTopicï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateTopicEnable=true#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºè®¢é˜…ç»„ï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateSubscriptionGroup=true#Broker å¯¹å¤–æœåŠ¡çš„ç›‘å¬ç«¯å£listenPort=10911#åˆ é™¤æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4ç‚¹deleteWhen=04#æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶fileReservedTime=120#commitLogæ¯ä¸ªæ–‡ä»¶çš„å¤§å°é»˜è®¤1GmappedFileSizeCommitLog=1073741824#ConsumeQueueæ¯ä¸ªæ–‡ä»¶é»˜è®¤å­˜30Wæ¡ï¼Œæ ¹æ®ä¸šåŠ¡æƒ…å†µè°ƒæ•´mappedFileSizeConsumeQueue=300000#destroyMappedFileIntervalForcibly=120000#redeleteHangedFileInterval=120000#æ£€æµ‹ç‰©ç†æ–‡ä»¶ç£ç›˜ç©ºé—´diskMaxUsedSpaceRatio=88#å­˜å‚¨è·¯å¾„storePathRootDir=$ROCKETMQ_HOME/store#commitLog å­˜å‚¨è·¯å¾„storePathCommitLog=$ROCKETMQ_HOME/store/commitlog#æ¶ˆè´¹é˜Ÿåˆ—å­˜å‚¨è·¯å¾„å­˜å‚¨è·¯å¾„storePathConsumeQueue=$ROCKETMQ_HOME/store/consumequeue#æ¶ˆæ¯ç´¢å¼•å­˜å‚¨è·¯å¾„storePathIndex=$ROCKETMQ_HOME/store/index#checkpoint æ–‡ä»¶å­˜å‚¨è·¯å¾„storeCheckpoint=$ROCKETMQ_HOME/store/checkpoint#abort æ–‡ä»¶å­˜å‚¨è·¯å¾„abortFile=$ROCKETMQ_HOME/store/abort#é™åˆ¶çš„æ¶ˆæ¯å¤§å°maxMessageSize=65536#flushCommitLogLeastPages=4#flushConsumeQueueLeastPages=2#flushCommitLogThoroughInterval=10000#flushConsumeQueueThoroughInterval=60000#Broker çš„è§’è‰²#- ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master#- SYNC_MASTER åŒæ­¥åŒå†™Master#- SLAVEbrokerRole=SYNC_MASTER#åˆ·ç›˜æ–¹å¼#- ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜#- SYNC_FLUSH åŒæ­¥åˆ·ç›˜flushDiskType=SYNC_FLUSH#checkTransactionMessageEnable=false#å‘æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#sendMessageThreadPoolNums=128#æ‹‰æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#pullMessageThreadPoolNums=128 2ï¼‰slave2æœåŠ¡å™¨ï¼š192.168.5.100 1vi $ROCKETMQ_HOME/conf/2m-2s-sync/broker-b-s.properties ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#æ‰€å±žé›†ç¾¤åå­—brokerClusterName=rocketmq-cluster#brokeråå­—ï¼Œæ³¨æ„æ­¤å¤„ä¸åŒçš„é…ç½®æ–‡ä»¶å¡«å†™çš„ä¸ä¸€æ ·brokerName=broker-b#0 è¡¨ç¤º Masterï¼Œ&gt;0 è¡¨ç¤º SlavebrokerId=1#nameServeråœ°å€ï¼Œåˆ†å·åˆ†å‰²ï¼Œæ³¨æ„è¿™é‡Œä¸€ä¸‹ç”±ä¸ªå‘ï¼Œå°±æ˜¯;åŽé¢è¦æœ‰ç©ºæ ¼namesrvAddr=rocketmq-nameserver1:9876; rocketmq-nameserver2:9876#åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ä¸å­˜åœ¨çš„topicï¼Œé»˜è®¤åˆ›å»ºçš„é˜Ÿåˆ—æ•°defaultTopicQueueNums=4#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºTopicï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateTopicEnable=true#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºè®¢é˜…ç»„ï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateSubscriptionGroup=true#Broker å¯¹å¤–æœåŠ¡çš„ç›‘å¬ç«¯å£listenPort=11011#åˆ é™¤æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4ç‚¹deleteWhen=04#æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶fileReservedTime=120#commitLogæ¯ä¸ªæ–‡ä»¶çš„å¤§å°é»˜è®¤1GmappedFileSizeCommitLog=1073741824#ConsumeQueueæ¯ä¸ªæ–‡ä»¶é»˜è®¤å­˜30Wæ¡ï¼Œæ ¹æ®ä¸šåŠ¡æƒ…å†µè°ƒæ•´# mapedFileSizeConsumeQueue=300000 è¿™ä¸ªé…ç½®åœ¨4.5.2ç‰ˆæœ¬æ²¡ç”¨ï¼Œç‰ˆæœ¬å‡çº§å¸¦æ¥çš„é…ç½®ç¼–å·mappedFileSizeConsumeQueue=300000#destroyMappedFileIntervalForcibly=120000#redeleteHangedFileInterval=120000#æ£€æµ‹ç‰©ç†æ–‡ä»¶ç£ç›˜ç©ºé—´diskMaxUsedSpaceRatio=88#å­˜å‚¨è·¯å¾„storePathRootDir=$ROCKETMQ_HOME/slave-store#commitLog å­˜å‚¨è·¯å¾„storePathCommitLog=$ROCKETMQ_HOME/slave-store/commitlog#æ¶ˆè´¹é˜Ÿåˆ—å­˜å‚¨è·¯å¾„å­˜å‚¨è·¯å¾„storePathConsumeQueue=$ROCKETMQ_HOME/slave-store/consumequeue#æ¶ˆæ¯ç´¢å¼•å­˜å‚¨è·¯å¾„storePathIndex=$ROCKETMQ_HOME/slave-store/index#checkpoint æ–‡ä»¶å­˜å‚¨è·¯å¾„storeCheckpoint=$ROCKETMQ_HOME/slave-store/checkpoint#abort æ–‡ä»¶å­˜å‚¨è·¯å¾„abortFile=$ROCKETMQ_HOME/slave-store/abort#é™åˆ¶çš„æ¶ˆæ¯å¤§å°maxMessageSize=65536#flushCommitLogLeastPages=4#flushConsumeQueueLeastPages=2#flushCommitLogThoroughInterval=10000#flushConsumeQueueThoroughInterval=60000#Broker çš„è§’è‰²#- ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master#- SYNC_MASTER åŒæ­¥åŒå†™Master#- SLAVEbrokerRole=SLAVE#åˆ·ç›˜æ–¹å¼#- ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜#- SYNC_FLUSH åŒæ­¥åˆ·ç›˜flushDiskType=ASYNC_FLUSH#checkTransactionMessageEnable=false#å‘æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#sendMessageThreadPoolNums=128#æ‹‰æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#pullMessageThreadPoolNums=128 3ï¼‰master2æœåŠ¡å™¨ï¼š192.168.5.101 1vi $ROCKETMQ_HOME/conf/2m-2s-sync/broker-b.properties ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#æ‰€å±žé›†ç¾¤åå­—brokerClusterName=rocketmq-cluster#brokeråå­—ï¼Œæ³¨æ„æ­¤å¤„ä¸åŒçš„é…ç½®æ–‡ä»¶å¡«å†™çš„ä¸ä¸€æ ·brokerName=broker-b#0 è¡¨ç¤º Masterï¼Œ&gt;0 è¡¨ç¤º SlavebrokerId=0#nameServeråœ°å€ï¼Œåˆ†å·åˆ†å‰²ï¼Œæ³¨æ„è¿™é‡Œä¸€ä¸‹ç”±ä¸ªå‘ï¼Œå°±æ˜¯;åŽé¢è¦æœ‰ç©ºæ ¼namesrvAddr=rocketmq-nameserver1:9876; rocketmq-nameserver2:9876#åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ä¸å­˜åœ¨çš„topicï¼Œé»˜è®¤åˆ›å»ºçš„é˜Ÿåˆ—æ•°defaultTopicQueueNums=4#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºTopicï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateTopicEnable=true#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºè®¢é˜…ç»„ï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateSubscriptionGroup=true#Broker å¯¹å¤–æœåŠ¡çš„ç›‘å¬ç«¯å£listenPort=10911#åˆ é™¤æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4ç‚¹deleteWhen=04#æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶fileReservedTime=120#commitLogæ¯ä¸ªæ–‡ä»¶çš„å¤§å°é»˜è®¤1GmappedFileSizeCommitLog=1073741824#ConsumeQueueæ¯ä¸ªæ–‡ä»¶é»˜è®¤å­˜30Wæ¡ï¼Œæ ¹æ®ä¸šåŠ¡æƒ…å†µè°ƒæ•´mappedFileSizeConsumeQueue=300000#destroyMappedFileIntervalForcibly=120000#redeleteHangedFileInterval=120000#æ£€æµ‹ç‰©ç†æ–‡ä»¶ç£ç›˜ç©ºé—´diskMaxUsedSpaceRatio=88#å­˜å‚¨è·¯å¾„storePathRootDir=$ROCKETMQ_HOME/store#commitLog å­˜å‚¨è·¯å¾„storePathCommitLog=$ROCKETMQ_HOME/store/commitlog#æ¶ˆè´¹é˜Ÿåˆ—å­˜å‚¨è·¯å¾„å­˜å‚¨è·¯å¾„storePathConsumeQueue=$ROCKETMQ_HOME/store/consumequeue#æ¶ˆæ¯ç´¢å¼•å­˜å‚¨è·¯å¾„storePathIndex=$ROCKETMQ_HOME/store/index#checkpoint æ–‡ä»¶å­˜å‚¨è·¯å¾„storeCheckpoint=$ROCKETMQ_HOME/store/checkpoint#abort æ–‡ä»¶å­˜å‚¨è·¯å¾„abortFile=$ROCKETMQ_HOME/store/abort#é™åˆ¶çš„æ¶ˆæ¯å¤§å°maxMessageSize=65536#flushCommitLogLeastPages=4#flushConsumeQueueLeastPages=2#flushCommitLogThoroughInterval=10000#flushConsumeQueueThoroughInterval=60000#Broker çš„è§’è‰²#- ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master#- SYNC_MASTER åŒæ­¥åŒå†™Master#- SLAVEbrokerRole=SYNC_MASTER#åˆ·ç›˜æ–¹å¼#- ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜#- SYNC_FLUSH åŒæ­¥åˆ·ç›˜flushDiskType=SYNC_FLUSH#checkTransactionMessageEnable=false#å‘æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#sendMessageThreadPoolNums=128#æ‹‰æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#pullMessageThreadPoolNums=128 4ï¼‰slave1æœåŠ¡å™¨ï¼š192.168.5.101 1vi $ROCKETMQ_HOME/conf/2m-2s-sync/broker-a-s.properties ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#æ‰€å±žé›†ç¾¤åå­—brokerClusterName=rocketmq-cluster#brokeråå­—ï¼Œæ³¨æ„æ­¤å¤„ä¸åŒçš„é…ç½®æ–‡ä»¶å¡«å†™çš„ä¸ä¸€æ ·brokerName=broker-a#0 è¡¨ç¤º Masterï¼Œ&gt;0 è¡¨ç¤º SlavebrokerId=1#nameServeråœ°å€ï¼Œåˆ†å·åˆ†å‰²namesrvAddr=rocketmq-nameserver1:9876; rocketmq-nameserver2:9876#åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ä¸å­˜åœ¨çš„topicï¼Œé»˜è®¤åˆ›å»ºçš„é˜Ÿåˆ—æ•°defaultTopicQueueNums=4#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºTopicï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateTopicEnable=true#æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºè®¢é˜…ç»„ï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­autoCreateSubscriptionGroup=true#Broker å¯¹å¤–æœåŠ¡çš„ç›‘å¬ç«¯å£listenPort=11011#åˆ é™¤æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4ç‚¹deleteWhen=04#æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶fileReservedTime=120#commitLogæ¯ä¸ªæ–‡ä»¶çš„å¤§å°é»˜è®¤1GmapedFileSizeCommitLog=1073741824#ConsumeQueueæ¯ä¸ªæ–‡ä»¶é»˜è®¤å­˜30Wæ¡ï¼Œæ ¹æ®ä¸šåŠ¡æƒ…å†µè°ƒæ•´mappedFileSizeConsumeQueue=300000#destroyMappedFileIntervalForcibly=120000#redeleteHangedFileInterval=120000#æ£€æµ‹ç‰©ç†æ–‡ä»¶ç£ç›˜ç©ºé—´diskMaxUsedSpaceRatio=88#å­˜å‚¨è·¯å¾„storePathRootDir=$ROCKETMQ_HOME/slave-store#commitLog å­˜å‚¨è·¯å¾„storePathCommitLog=$ROCKETMQ_HOME/slave-store/commitlog#æ¶ˆè´¹é˜Ÿåˆ—å­˜å‚¨è·¯å¾„å­˜å‚¨è·¯å¾„storePathConsumeQueue=$ROCKETMQ_HOME/slave-store/consumequeue#æ¶ˆæ¯ç´¢å¼•å­˜å‚¨è·¯å¾„storePathIndex=$ROCKETMQ_HOME/slave-store/index#checkpoint æ–‡ä»¶å­˜å‚¨è·¯å¾„storeCheckpoint=$ROCKETMQ_HOME/checkpoint#abort æ–‡ä»¶å­˜å‚¨è·¯å¾„abortFile=/$ROCKETMQ_HOME/slave-store/abort#é™åˆ¶çš„æ¶ˆæ¯å¤§å°maxMessageSize=65536#flushCommitLogLeastPages=4#flushConsumeQueueLeastPages=2#flushCommitLogThoroughInterval=10000#flushConsumeQueueThoroughInterval=60000#Broker çš„è§’è‰²#- ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master#- SYNC_MASTER åŒæ­¥åŒå†™Master#- SLAVEbrokerRole=SLAVE#åˆ·ç›˜æ–¹å¼#- ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜#- SYNC_FLUSH åŒæ­¥åˆ·ç›˜flushDiskType=ASYNC_FLUSH#checkTransactionMessageEnable=false#å‘æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#sendMessageThreadPoolNums=128#æ‹‰æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡#pullMessageThreadPoolNums=128 2.3.9 ä¿®æ”¹å¯åŠ¨è„šæœ¬æ–‡ä»¶1ï¼‰runbroker.sh1vi $ROCKETMQ_HOME/bin/runbroker.sh éœ€è¦æ ¹æ®å†…å­˜å¤§å°è¿›è¡Œé€‚å½“çš„å¯¹JVMå‚æ•°è¿›è¡Œè°ƒæ•´ï¼š 123#===================================================# å¼€å‘çŽ¯å¢ƒé…ç½® JVM ConfigurationJAVA_OPT=\"$&#123;JAVA_OPT&#125; -server -Xms256m -Xmx256m -Xmn128m\" 2ï¼‰runserver.sh1vim $ROCKETMQ_HOME/bin/runserver.sh 1JAVA_OPT=\"$&#123;JAVA_OPT&#125; -server -Xms256m -Xmx256m -Xmn128m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=320m\" 3.3.10 æœåŠ¡å¯åŠ¨1ï¼‰å¯åŠ¨NameServeé›†ç¾¤åˆ†åˆ«åœ¨192.168.5.100å’Œ192.168.5.101å¯åŠ¨NameServer 12cd $ROCKETMQ_HOME/binnohup sh mqnamesrv &amp; 2ï¼‰å¯åŠ¨Brokeré›†ç¾¤ åœ¨192.168.5.100ä¸Šå¯åŠ¨master1å’Œslave2 master1ï¼š 1nohup sh mqbroker -c $ROCKETMQ_HOME/conf/2m-2s-sync/broker-a.properties &amp; slave2ï¼š 1nohup sh mqbroker -c $ROCKETMQ_HOME/conf/2m-2s-sync/broker-b-s.properties &amp; åœ¨192.168.5.101ä¸Šå¯åŠ¨master2å’Œslave2 master2 12cd /usr/local/bin/rocketmq-all-4.5.2-bin-release/binnohup sh mqbroker -c $ROCKETMQ_HOME/conf/2m-2s-sync/broker-b.properties &amp; slave1 12cd /usr/local/bin/rocketmq-all-4.5.2-bin-release/binnohup sh mqbroker -c $ROCKETMQ_HOME/conf/2m-2s-sync/broker-a-s.properties &amp; 2.3.11 æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€å¯åŠ¨åŽé€šè¿‡JPSæŸ¥çœ‹å¯åŠ¨è¿›ç¨‹ 2.3.12 æŸ¥çœ‹æ—¥å¿—1234# æŸ¥çœ‹nameServeræ—¥å¿—tail -500f ~/logs/rocketmqlogs/namesrv.log# æŸ¥çœ‹brokeræ—¥å¿—tail -500f ~/logs/rocketmqlogs/broker.log 3. å‚è€ƒæ–‡æ¡£ RocketMQå‡çº§Bug RocketMQé›†ç¾¤æ­å»º","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"RocketMQ","slug":"RocketMQ","permalink":"http://ltyeamin.github.io/tags/RocketMQ/"}]},{"title":"RocketMQæ¦‚è¿°","slug":"RocketMQæ¦‚è¿°","date":"2019-11-08T14:15:16.000Z","updated":"2020-01-08T13:06:36.791Z","comments":true,"path":"2019/11/08/RocketMQæ¦‚è¿°/","link":"","permalink":"http://ltyeamin.github.io/2019/11/08/RocketMQæ¦‚è¿°/","excerpt":"","text":"1. MQä»‹ç»1.1 ä¸ºä»€ä¹ˆè¦ç”¨MQæ¶ˆæ¯é˜Ÿåˆ—æ˜¯ä¸€ç§â€œå…ˆè¿›å…ˆå‡ºâ€çš„æ•°æ®ç»“æž„ å…¶åº”ç”¨åœºæ™¯ä¸»è¦åŒ…å«ä»¥ä¸‹3ä¸ªæ–¹é¢ åº”ç”¨è§£è€¦ ç³»ç»Ÿçš„è€¦åˆæ€§è¶Šé«˜ï¼Œå®¹é”™æ€§å°±è¶Šä½Žã€‚ä»¥ç”µå•†åº”ç”¨ä¸ºä¾‹ï¼Œç”¨æˆ·åˆ›å»ºè®¢å•åŽï¼Œå¦‚æžœè€¦åˆè°ƒç”¨åº“å­˜ç³»ç»Ÿã€ç‰©æµç³»ç»Ÿã€æ”¯ä»˜ç³»ç»Ÿï¼Œä»»ä½•ä¸€ä¸ªå­ç³»ç»Ÿå‡ºäº†æ•…éšœæˆ–è€…å› ä¸ºå‡çº§ç­‰åŽŸå› æš‚æ—¶ä¸å¯ç”¨ï¼Œéƒ½ä¼šé€ æˆä¸‹å•æ“ä½œå¼‚å¸¸ï¼Œå½±å“ç”¨æˆ·ä½¿ç”¨ä½“éªŒã€‚ ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è§£è€¦åˆï¼Œç³»ç»Ÿçš„è€¦åˆæ€§å°±ä¼šæé«˜äº†ã€‚æ¯”å¦‚ç‰©æµç³»ç»Ÿå‘ç”Ÿæ•…éšœï¼Œéœ€è¦å‡ åˆ†é’Ÿæ‰èƒ½æ¥ä¿®å¤ï¼Œåœ¨è¿™æ®µæ—¶é—´å†…ï¼Œç‰©æµç³»ç»Ÿè¦å¤„ç†çš„æ•°æ®è¢«ç¼“å­˜åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç”¨æˆ·çš„ä¸‹å•æ“ä½œæ­£å¸¸å®Œæˆã€‚å½“ç‰©æµç³»ç»Ÿå›žå¤åŽï¼Œè¡¥å……å¤„ç†å­˜åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„è®¢å•æ¶ˆæ¯å³å¯ï¼Œç»ˆç«¯ç³»ç»Ÿæ„ŸçŸ¥ä¸åˆ°ç‰©æµç³»ç»Ÿå‘ç”Ÿè¿‡å‡ åˆ†é’Ÿæ•…éšœã€‚ æµé‡å‰Šå³° åº”ç”¨ç³»ç»Ÿå¦‚æžœé‡åˆ°ç³»ç»Ÿè¯·æ±‚æµé‡çš„çž¬é—´çŒ›å¢žï¼Œæœ‰å¯èƒ½ä¼šå°†ç³»ç»ŸåŽ‹åž®ã€‚æœ‰äº†æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥å°†å¤§é‡è¯·æ±‚ç¼“å­˜èµ·æ¥ï¼Œåˆ†æ•£åˆ°å¾ˆé•¿ä¸€æ®µæ—¶é—´å¤„ç†ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§æåˆ°ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œç”¨æˆ·ä½“éªŒã€‚ ä¸€èˆ¬æƒ…å†µï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œå¦‚æžœç³»ç»Ÿè´Ÿè½½è¶…è¿‡é˜ˆå€¼ï¼Œå°±ä¼šé˜»æ­¢ç”¨æˆ·è¯·æ±‚ï¼Œè¿™ä¼šå½±å“ç”¨æˆ·ä½“éªŒï¼Œè€Œå¦‚æžœä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å°†è¯·æ±‚ç¼“å­˜èµ·æ¥ï¼Œç­‰å¾…ç³»ç»Ÿå¤„ç†å®Œæ¯•åŽé€šçŸ¥ç”¨æˆ·ä¸‹å•å®Œæ¯•ï¼Œè¿™æ ·æ€»ä¸èƒ½ä¸‹å•ä½“éªŒè¦å¥½ã€‚ å¤„äºŽç»æµŽè€ƒé‡ç›®çš„ï¼š ä¸šåŠ¡ç³»ç»Ÿæ­£å¸¸æ—¶æ®µçš„QPSå¦‚æžœæ˜¯1000ï¼Œæµé‡æœ€é«˜å³°æ˜¯10000ï¼Œä¸ºäº†åº”å¯¹æµé‡é«˜å³°é…ç½®é«˜æ€§èƒ½çš„æœåŠ¡å™¨æ˜¾ç„¶ä¸åˆ’ç®—ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å¯¹å³°å€¼æµé‡å‰Šå³° æ•°æ®åˆ†å‘ é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥è®©æ•°æ®åœ¨å¤šä¸ªç³»ç»Ÿæ›´åŠ ä¹‹é—´è¿›è¡Œæµé€šã€‚æ•°æ®çš„äº§ç”Ÿæ–¹ä¸éœ€è¦å…³å¿ƒè°æ¥ä½¿ç”¨æ•°æ®ï¼Œåªéœ€è¦å°†æ•°æ®å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ•°æ®ä½¿ç”¨æ–¹ç›´æŽ¥åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­ç›´æŽ¥èŽ·å–æ•°æ®å³å¯ 1.2 MQçš„ä¼˜ç‚¹å’Œç¼ºç‚¹ä¼˜ç‚¹ï¼šè§£è€¦ã€å‰Šå³°ã€æ•°æ®åˆ†å‘ ç¼ºç‚¹åŒ…å«ä»¥ä¸‹å‡ ç‚¹ï¼š ç³»ç»Ÿå¯ç”¨æ€§é™ä½Ž ç³»ç»Ÿå¼•å…¥çš„å¤–éƒ¨ä¾èµ–è¶Šå¤šï¼Œç³»ç»Ÿç¨³å®šæ€§è¶Šå·®ã€‚ä¸€æ—¦MQå®•æœºï¼Œå°±ä¼šå¯¹ä¸šåŠ¡é€ æˆå½±å“ã€‚ å¦‚ä½•ä¿è¯MQçš„é«˜å¯ç”¨ï¼Ÿ ç³»ç»Ÿå¤æ‚åº¦æé«˜ MQçš„åŠ å…¥å¤§å¤§å¢žåŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼Œä»¥å‰ç³»ç»Ÿé—´æ˜¯åŒæ­¥çš„è¿œç¨‹è°ƒç”¨ï¼ŒçŽ°åœ¨æ˜¯é€šè¿‡MQè¿›è¡Œå¼‚æ­¥è°ƒç”¨ã€‚ å¦‚ä½•ä¿è¯æ¶ˆæ¯æ²¡æœ‰è¢«é‡å¤æ¶ˆè´¹ï¼Ÿæ€Žä¹ˆå¤„ç†æ¶ˆæ¯ä¸¢å¤±æƒ…å†µï¼Ÿé‚£ä¹ˆä¿è¯æ¶ˆæ¯ä¼ é€’çš„é¡ºåºæ€§ï¼Ÿ ä¸€è‡´æ€§é—®é¢˜ Aç³»ç»Ÿå¤„ç†å®Œä¸šåŠ¡ï¼Œé€šè¿‡MQç»™Bã€Cã€Dä¸‰ä¸ªç³»ç»Ÿå‘æ¶ˆæ¯æ•°æ®ï¼Œå¦‚æžœBç³»ç»Ÿã€Cç³»ç»Ÿå¤„ç†æˆåŠŸï¼ŒDç³»ç»Ÿå¤„ç†å¤±è´¥ã€‚ å¦‚ä½•ä¿è¯æ¶ˆæ¯æ•°æ®å¤„ç†çš„ä¸€è‡´æ€§ï¼Ÿ 1.3 RocetMQåŽ†å²åŠå…¶ç‰¹å¾â€‹ é˜¿é‡Œçš„æ¶ˆæ¯ä¸­é—´ä»¶æœ‰å¾ˆé•¿çš„åŽ†å²ï¼Œä»Ž2007å¹´çš„Notifyåˆ°2010å¹´çš„Napoli, 2011å¹´å‡çº§åŽæ”¹ä¸ºMetaQï¼Œç„¶åŽåˆ°2012å¹´å¼€å§‹åšRocketMQ, RocketMQä½¿ç”¨Javaè¯­è¨€å¼€å‘ï¼ŒäºŽ2016å¹´å¼€æºã€‚ç¬¬ä¸€ä»£çš„Notifyä¸»è¦ä½¿ç”¨äº†æŽ¨æ¨¡åž‹ï¼Œè§£å†³äº†äº‹åŠ¡æ¶ˆæ¯ï¼›ç¬¬äºŒä»£çš„MetaQä¸»è¦ä½¿ç”¨äº†æ‹‰æ¨¡åž‹ï¼Œè§£å†³äº†é¡ºåºæ¶ˆæ¯å’Œæµ·é‡å †ç§¯çš„é—®é¢˜ã€‚RocketMQåŸºäºŽé•¿è½®è¯¢çš„æ‹‰å–æ–¹å¼ï¼Œå…¼æœ‰ä¸¤è€…çš„ä¼˜ç‚¹ã€‚â€‹ æ¯ä¸€æ¬¡äº§å“è¿­ä»£ï¼Œéƒ½å¸å–äº†ä¹‹å‰çš„ç»éªŒæ•™è®­ï¼Œç›®å‰RocketMQå·²ç»æˆä¸ºApacheé¡¶çº§é¡¹ç›®ã€‚åœ¨é˜¿é‡Œå†…éƒ¨ï¼ŒRocketMQå¾ˆå¥½åœ°æœåŠ¡äº†é›†å›¢å¤§å¤§å°å°ä¸Šåƒä¸ªåº”ç”¨ï¼Œåœ¨æ¯å¹´çš„åŒåä¸€å½“å¤©ï¼Œæ›´æœ‰ä¸å¯æ€è®®çš„ä¸‡äº¿çº§æ¶ˆæ¯é€šè¿‡RocketMQæµè½¬ï¼ˆåœ¨2017å¹´çš„åŒåä¸€å½“å¤©ï¼Œæ•´ä¸ªé˜¿é‡Œå·´å·´é›†å›¢é€šè¿‡RocketMQæµè½¬çš„çº¿ä¸Šæ¶ˆæ¯è¾¾åˆ°äº†ä¸‡äº¿çº§ï¼Œå³°å€¼TPSè¾¾åˆ°5600ä¸‡ï¼‰ï¼Œåœ¨é˜¿é‡Œå¤§ä¸­å°ç­–ç•¥ä¸Šå‘æŒ¥ç€ä¸¾è¶³è½»é‡çš„ä½œç”¨ã€‚æ­¤å¤–ï¼ŒRocketMQæ˜¯ä½¿ç”¨Javaè¯­è¨€å¼€å‘çš„ï¼Œæ¯”èµ·Kafkaçš„Scalaè¯­è¨€å’ŒRabbitMQçš„Erlangè¯­è¨€ï¼Œæ›´å®¹æ˜“æ‰¾åˆ°æŠ€æœ¯äººå‘˜è¿›è¡Œå®šåˆ¶å¼€å‘ã€‚ ä»ŽRocketMQ Githubä¸»é¡µä¸Šå¯ä»¥æ‰¾åˆ°å¦‚ä¸‹è¡¨è¿°ã€‚ Apache RocketMQ is a distributed messaging and streaming platform with low latency, high performance and reliability, trillion-level capacity and flexible scalability. It offers a variety of features: Pub/Sub messaging model Financial grade transactional message A variety of cross language clients, such as Java, C/C++, Python, Go Pluggable transport protocols, such as TCP, SSL, AIO Inbuilt message tracing capability, also support opentracing Versatile big-data and streaming ecosytem integration Message retroactivity by time or offset Reliable FIFO and strict ordered messaging in the same queue Efficient pull&amp;push consumption model Million-level message accumulation capacity in a single queue Multiple messaging protocols like JMS and OpenMessaging Flexible distributed scale-out deployment architecture Lightning-fast batch message exchange system Various message filter mechanics such as SQL and Tag Docker images for isolated testing and cloud isolated clusters Feature-rich administrative dashboard for configuration, metrics and monitoring Authentication and authorisation å¤§æ¦‚æ„æ€æˆ‘åœ¨è¿™é‡Œç¿»è¯‘ä¸€ä¸‹: â€‹ Apache RocketMQæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ¶ˆæ¯ä¼ é€’å’Œæµåª’ä½“å¹³å°ï¼Œå…·æœ‰ä½Žå»¶è¿Ÿï¼Œé«˜æ€§èƒ½å’Œå¯é æ€§ï¼Œä¸‡äº¿çº§å®¹é‡å’Œçµæ´»çš„å¯ä¼¸ç¼©æ€§ã€‚ å®ƒå…·æœ‰å¤šç§åŠŸèƒ½ï¼š å‘å¸ƒ/è®¢é˜…æ¶ˆæ¯ä¼ é€’æ¨¡åž‹ é‡‘èžçº§äº¤æ˜“æ¶ˆæ¯ å„ç§è·¨è¯­è¨€å®¢æˆ·ç«¯ï¼Œä¾‹å¦‚Javaï¼ŒC / C ++ï¼ŒPythonï¼ŒGo å¯æ’æ‹”çš„ä¼ è¾“åè®®ï¼Œä¾‹å¦‚TCPï¼ŒSSLï¼ŒAIO å†…ç½®çš„æ¶ˆæ¯è·Ÿè¸ªåŠŸèƒ½ï¼Œè¿˜æ”¯æŒå¼€æ”¾å¼è·Ÿè¸ª å¤šåŠŸèƒ½çš„å¤§æ•°æ®å’Œæµç”Ÿæ€ç³»ç»Ÿé›†æˆ æŒ‰æ—¶é—´æˆ–åç§»é‡è¿½æº¯æ¶ˆæ¯ å¯é çš„FIFOå’Œä¸¥æ ¼çš„æœ‰åºæ¶ˆæ¯ä¼ é€’åœ¨åŒä¸€é˜Ÿåˆ—ä¸­ é«˜æ•ˆçš„æŽ¨æ‹‰æ¶ˆè´¹æ¨¡åž‹ å•ä¸ªé˜Ÿåˆ—ä¸­çš„ç™¾ä¸‡çº§æ¶ˆæ¯ç´¯ç§¯å®¹é‡ å¤šç§æ¶ˆæ¯ä¼ é€’åè®®ï¼Œä¾‹å¦‚JMSå’ŒOpenMessaging çµæ´»çš„åˆ†å¸ƒå¼æ¨ªå‘æ‰©å±•éƒ¨ç½²æž¶æž„ å¿«å¦‚é—ªç”µçš„æ‰¹é‡æ¶ˆæ¯äº¤æ¢ç³»ç»Ÿ å¦‚SQLå’ŒTagå„ç§æ¶ˆæ¯è¿‡æ»¤å™¨æœºåˆ¶ ç”¨äºŽéš”ç¦»æµ‹è¯•å’Œäº‘éš”ç¦»ç¾¤é›†çš„Dockeræ˜ åƒ åŠŸèƒ½ä¸°å¯Œçš„ç®¡ç†ä»ªè¡¨æ¿ï¼Œç”¨äºŽé…ç½®ï¼ŒæŒ‡æ ‡å’Œç›‘è§† è®¤è¯ä¸ŽæŽˆæƒç®¡ç† 1.4 å„ç§MQäº§å“çš„æ¯”è¾ƒå¸¸è§çš„MQäº§å“åŒ…æ‹¬Kafkaã€ActiveMQã€RabbitMQã€RocketMQã€‚ 2. æ€»ç»“â€‹ RocketMQåŸºäºŽJavaå¼€å‘çš„ï¼Œå®Œå…¨çš„åˆ†å¸ƒå¼æž¶æž„ï¼ŒAPIç›¸å¯¹æ¯”è¾ƒç®€å•(ç›¸æ¯”RabbitMQ)ï¼Œå®¹æ˜“æŽŒæ¡ï¼Œå¹¶åœ¨é˜¿é‡Œå·´å·´é›†å›¢å†…éƒ¨ç»è¿‡äº†å¤§é‡(åŒ11)çš„å®žè·µï¼Œåˆ†æ€§èƒ½å¼ºæ‚ã€‚å”¯ä¸€ä¸è¶³çš„ä¸€ç‚¹æ˜¯æ–‡æ¡£ç›¸å¯¹ä¸æ˜¯å¾ˆå¤šï¼Œè‹¥èƒ½è·Ÿéšæºç æ·±å…¥äº†è§£å…¶å†…éƒ¨æœºåˆ¶ï¼Œè¿™ä¹Ÿä¸ç®—ç¼ºç‚¹ã€‚ 3. å‚è€ƒæ–‡æ¡£ RocketMQä¸»é¡µ ä¸ºä»€ä¹ˆé€‰æ‹©RocketMQ RocketMQ Github å¸¸è§MQäº§å“å¯¹æ¯” 17ä¸ªæ–¹é¢å¯¹æ¯”ä¸»æµMQå·®å¼‚ RocketæŠ€æœ¯å†…å¹• Rocketå®žæˆ˜ä¸ŽåŽŸç†","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"RocketMQ","slug":"RocketMQ","permalink":"http://ltyeamin.github.io/tags/RocketMQ/"}]},{"title":"ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬","slug":"ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬","date":"2019-11-02T10:15:00.000Z","updated":"2019-12-20T12:20:19.299Z","comments":true,"path":"2019/11/02/ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬/","link":"","permalink":"http://ltyeamin.github.io/2019/11/02/ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è„šæœ¬/","excerpt":"","text":"å‰è¨€çŽ°åœ¨åšå®¢çš„å›¾ç‰‡éƒ½æ”¾åœ¨ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ä¸Šé¢ï¼Œä¸ªäººç”¨æˆ·æœ‰å…è´¹10GBçš„å­˜å‚¨ç©ºé—´ã€‚ å› ä¸ºæ¯ä¸€ä¸ªçš„bucketç©ºé—´åˆ†é…ä¸€ä¸ªä¸ƒç‰›äº‘çš„ç©ºé—´åŸŸåï¼Œå¦‚ä¸‹ç¤ºä¾‹ï¼š S3 åŸŸå Endpoint(åŒºåŸŸèŠ‚ç‚¹)ï¼š s3-cn-east-1.qiniucs.com ç©ºé—´åŸŸåï¼š 20191119.s3-cn-east-1.qiniucs.com èžåˆ CDN æµ‹è¯•åŸŸå ä¸ƒç‰›èžåˆ CDN æµ‹è¯•åŸŸåï¼ˆä»¥ clouddn.com/qiniucdn.com/qiniudn.com/qnssl.com/qbox.me ç»“å°¾ï¼‰ï¼Œæ¯ä¸ªåŸŸåæ¯æ—¥é™æ€»æµé‡ 10GBï¼Œæ¯ä¸ªæµ‹è¯•åŸŸåè‡ªåˆ›å»ºèµ· 30 ä¸ªè‡ªç„¶æ—¥åŽç³»ç»Ÿä¼šè‡ªåŠ¨å›žæ”¶ï¼Œä»…ä¾›æµ‹è¯•ä½¿ç”¨å¹¶ä¸”ä¸æ”¯æŒ Https è®¿é—®ï¼Œè¯¦æƒ…æŸ¥çœ‹ ä¸ƒç‰›æµ‹è¯•åŸŸåä½¿ç”¨è§„èŒƒ ã€‚ç‚¹å‡»åŸŸåå¯æŸ¥çœ‹å‰©ä½™å›žæ”¶æ—¶é—´ã€‚ q176n8af9.bkt.clouddn.com ä¸ƒç‰›äº‘å¾ˆå‘çš„ä¸€ç‚¹å°±æ˜¯è¿™ä¸ªæµ‹è¯•åŸŸåæœ‰æ•ˆæœŸæ˜¯30å¤©(éšå£ä¸€è¯´ï¼Œäººå®¶å…è´¹ç»™ä½ çš„10Gå­˜å‚¨å·²ç»å¾ˆä¸é”™äº†)ï¼Œæ‰€ä»¥30å¤©ä»¥åŽåŸŸåä¼šè‡ªåŠ¨è¿‡æœŸï¼Œæ„å‘³ç€é‡Œé¢å­˜å‚¨çš„å›¾ç‰‡ä»¥åŠå¯¹è±¡éƒ½ä¸èƒ½è®¿é—®ã€‚ è§£å†³è¿™ç§é—®é¢˜æœ‰ä¸¤ç§æ–¹æ³•ï¼š ç»‘å®šä¸€ä¸ªå¤‡æ¡ˆçš„åŸŸå(éžå¸¸å»ºè®®)ï¼› ä¼˜ç‚¹ï¼šå¿«é€Ÿå¥½ç®¡ç†ï¼Œåªæœ‰åŸŸåä¸è¿‡æœŸï¼Œç»ˆèº«äº«å—ï¼› ç¼ºç‚¹ï¼šæ¡ä»¶é™åˆ¶æ¯”è¾ƒå¤§ï¼ŒåŸŸåè¦å¤‡æ¡ˆã€‚ åˆ‡æ¢bucketç©ºé—´ï¼Œå³æ–°å»ºä¸€ä¸ªæ–°çš„bucketï¼Œç„¶åŽå°†æ—§çš„bucketè¿ç§»è¿‡åŽ»ã€‚ ä¼˜ç‚¹ï¼šå…è´¹ ç¼ºç‚¹ï¼šéº»çƒ¦ï¼Œæ¯éš”30å¤©è¿ç§»ä¸€æ¬¡ è¿ç§»æˆ‘åªæœ‰å›½å†…çš„åŸŸåï¼šhttp://yeamin.top ã€‚ æˆ‘çš„BlogåŸŸåæ˜¯http://blog.yeamin.top ã€‚ å› ä¸ºæˆ‘ä¸ªäººæ²¡æœ‰æœåŠ¡å™¨ï¼Œä¸»åŸŸåéƒ½æ²¡æœ‰åœ¨å›½å†…å¤‡æ¡ˆï¼Œåœ¨æˆ‘è¿™é‡Œé€‰æ‹©äº†ç¬¬äºŒç§æ–¹å¼ï¼šè¿ç§»ç©ºé—´æ¢å–æ–°çš„bucketå’ŒåŸŸåã€‚ å‡†å¤‡å·¥ä½œæ‰“å¼€ä¸ƒç‰›äº‘å®˜ç½‘ï¼Œç™»å½•è¿›å…¥åˆ°ç®¡ç†æŽ§åˆ¶å°ï¼Œå·¦ä¾§é€‰æ‹©å¯¹è±¡å­˜å‚¨ æ‰¾åˆ°è¦è¿ç§»çš„bucket,å³æºå­˜å‚¨ï¼› æ–°å»ºä¸€ä¸ªbucketï¼Œå³ä¾¿ç›®æ ‡å­˜å‚¨ç©ºé—´ï¼› ä¸‹è½½å¹¶è§£åŽ‹ä¸ƒç‰›äº‘å®˜æ–¹æä¾›çš„åŒæ­¥è¿ç§»å·¥å…·ï¼šhttp://developer.qiniu.com/docs/v6/tools/qshell.htmlï¼› åœ¨å³ä¸Šè§’æ‰¾åˆ°æˆ‘çš„å›¾åƒæ‚¬æµ®å‡ºæ¥èœå•åŽï¼Œé€‰æ‹©ç§˜é’¥ç®¡ç†ï¼Œå‡†å¤‡å¥½AKå’ŒSK(AccessKey/SecretKey)ã€‚ å…·ä½“è¿ç§»å¯ä»¥å‚ç…§ä¸ƒç‰›äº‘çš„è¿ç§»æ–‡æ¡£å¯å®Œæˆè¿ç§»å·¥ä½œï¼Œä½†æ˜¯æˆ‘è§‰å¾—æ¯æ¬¡éƒ½è¿™æ ·ä¸€ä¸ªä¸€ä¸ªè¿™æ ·è¿ç§»å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘ä»Šå¤©æŠ½ç©ºå†™äº†ä¸€æ®µè„šæœ¬åŽ»å¤„ç†è¿ç§»å·¥ä½œã€‚ è„šæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869#!/bin/bash## author: tong.li# description: qshell bucket transfer# date: 2019-11-02 14:45:22#å‡†å¤‡é…ç½®çŽ¯å¢ƒecho \"Prepare Environment...\"if [ ! -x './qshell-windows-x64-v2.4.0' ] then echo \"qshell script file not exist\"fiif [[ !\"$1\" ]]; then echo -n \"please input account:\" read accountfiecho -n 'please input your AK:'read AKecho -n 'please input your SK:'read SKif [[ ! \"$AK\" || ! \"$SK\" ]]; then echo \"AK OR SK is null, please try again\" exit 0fi# å·²æœ‰è´¦æˆ·åˆ—è¡¨rs=`./qshell-windows-x64-v2.4.0 user ls | awk '&#123;print $2&#125;'`if [[ $rs=~$AK &amp;&amp; $rs=~$SK &amp;&amp; $rs=~$account ]]; then echo \"Config OK...\"else echo \"Starting AKã€SK Config...\" ./qshell-windows-x64-v2.4.0 account ak sk namefiecho \"account: $account\"echo \"AK is : $AK\"echo \"SK is: $SK\"if [[ !\"$sourcebucket\" ]]; then echo -n \"please input sourcebucket:\" read sourcebucketfiif [[ !\"$desbucket\" ]]; then echo -n \"please input desbucket:\" read desbucketfi# åˆ—ä¸¾å½“å‰éœ€è¦å¤åˆ¶bucketæ•°æ®./qshell-windows-x64-v2.4.0 listbucket $sourcebucket -o cp.txt# ç”Ÿæˆæ–‡ä»¶åˆ—è¡¨cat cp.txt | awk '&#123;print $1&#125;' &gt; cpp.txtsize=$(du -sb cpp.txt|cut -f1)if [[ size &lt;=0 ]]; then echo \"cpp.txt size is 0KB\" exit 0fi# å¼€å§‹æ‰¹é‡è¿ç§»./qshell-windows-x64-v2.4.0 batchcopy $sourcebucket $desbucket -i cpp.txtif [ $? -eq 0 ]; then echo \"==============transfer bucket From $sourcebucket to $desbucket success==============================\"else echo \"=============================transfer bucket failed,please try again==================================\"fi æ‰§è¡Œè¿ç§» å°†ä¸Šè¿°ä»£ç ä¿å­˜batchcopy.shï¼Œå¹¶èµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼› æ‰§è¡Œ./batchcopy.sh ä½ çš„ä¸ƒç‰›äº‘è´¦æˆ·å ä¹‹åŽæŒ‰è¾“å…¥æç¤ºè¾“å…¥AKã€SKã€æºbucketã€ç›®æ ‡bucketå³å¯å®Œæˆè¿ç§»æ“ä½œã€‚ æ€»ç»“â€‹ ç»å¸¸çœ‹åˆ«äººçš„shellè„šæœ¬ï¼Œè‡ªå·±ä»Žæ¥ä¹Ÿæ²¡å†™è¿‡ï¼Œè¿™æ˜¯æ˜¯ç¬¬ä¸€æ¬¡å†™è„šæœ¬ï¼Œå¤šå°‘å¯èƒ½æœ‰äº›bugã€‚åŽç»­å‘çŽ°äº†ä¼šåŠæ—¶æ›´æ­£ä»–ã€‚æ€»ä¹‹è¿˜æ˜¯å¤šå­¦å¤šå®žè·µä¸€ä¸‹æ²¡åå¤„ã€‚ å‚è€ƒæ–‡æ¡£ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨è¿ç§»æ–‡æ¡£ ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ç©ºé—´è¿ç§»è¯¦è§£","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"å®žç”¨å·¥å…·åŠæŠ€å·§","slug":"å®žç”¨å·¥å…·åŠæŠ€å·§","permalink":"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/"}]},{"title":"è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools","slug":"è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools","date":"2019-10-12T14:40:10.000Z","updated":"2019-11-09T03:44:53.969Z","comments":true,"path":"2019/10/12/è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools/","link":"","permalink":"http://ltyeamin.github.io/2019/10/12/è·¨å¹³å°åŠžå…¬åˆ©å™¨-uTools/","excerpt":"","text":"ä¹‹å‰ä¹ æƒ¯äº†Mac Pro çš„Spotlightæ¨¡å¼è¿›è¡Œæ£€ç´¢åº”ç”¨å’Œæ–‡ä»¶ï¼Œåœ¨å‰æ®µæ—¥å­ä¸­ï¼Œæˆ‘æˆåŠŸçš„æ‰¾åˆ°äº†ä¸€æ¬¾Windowsä¸Šç±»ä¼¼çš„è½¯ä»¶Everything+Woxï¼Œä»åœ¨ä½¿ç”¨Windowsçš„æœ‹å‹æœ‰å…´è¶£å¯ä»¥çœ‹æˆ‘é˜…è¯»è¿™è¾¹æ–‡ç« è¿›è¡Œæ“ä½œä½“éªŒã€‚ è¨€å½’æ­£ä¼ ï¼Œæˆ‘åœ¨å®¶ä½¿ç”¨çš„ç”µè„‘ç³»ç»Ÿæ˜¯Deepin Linux,æ›¾ç»ä¹Ÿæƒ³æ‰¾åˆ°è¿™ç§æ¬¾é€Ÿæ£€ç´¢å·¥å…·ï¼Œä½†æ˜¯æ‰¾äº†å¾ˆé•¿æ—¶é—´å´æ²¡æœ‰æ‰¾åˆ°ã€‚ ä»Šå¤©æˆ‘å¶å°”åœ¨æ·±åº¦åº”ç”¨å•†åº—å‘çŽ°ä¸€æ¬¾åå«utoolsçš„è½¯ä»¶ï¼Œç±»ä¼¼äºŽSpotlightæ¨¡å¼ã€‚ äºŽæ˜¯æˆ‘æ‰“å¼€å®˜ç½‘ï¼Œå®˜ç½‘æ˜¯è¿™æ ·ä»‹ç»çš„ï¼š ä½ çš„ç”Ÿäº§åŠ›å·¥å…·é›†uToolsæ˜¯ä¸€ä¸ªæžç®€ã€æ’ä»¶åŒ–ã€è·¨å¹³å°çš„çŽ°ä»£æ¡Œé¢è½¯ä»¶ã€‚é€šè¿‡è‡ªç”±é€‰é…ä¸°å¯Œçš„æ’ä»¶ï¼Œæ‰“é€ ä½ å¾—å¿ƒåº”æ‰‹çš„å·¥å…·é›†åˆã€‚å½“ä½ ç†Ÿæ‚‰å®ƒåŽï¼Œèƒ½å¤Ÿä¸ºä½ èŠ‚çº¦å¤§é‡æ—¶é—´ï¼Œè®©ä½ å¯ä»¥æ›´åŠ ä¸“æ³¨åœ°æ”¹å˜ä¸–ç•Œã€‚ uToolsæ˜¯è·¨å¹³å°çš„è½¯ä»¶,åŒæ—¶æ”¯æŒWindowsã€Macã€Linuxç­‰å¹³å°ï¼Œä¸åŒå¹³å°ç¨å¾®æœ‰äº›å·®åˆ«ã€‚Linuxå¹³å°æ²¡æœ‰æ–‡ä»¶æ£€ç´¢ï¼Œè¿™ç‚¹æ˜¯å¾ˆé—æ†¾çš„ï¼Œä½†æ˜¯ç¬”è€…ç›¸ä¿¡å¼€å‘è€…åŽç»­ä¼šæ…¢æ…¢å®Œå–„ã€‚ utoolså¸¸ç”¨ä½“éªŒæ’ä»¶ä¸­å¿ƒ å¿«é€Ÿå¯åŠ¨ æœ¬åœ°æœç´¢æ³¨æ„ï¼šä»…æ”¯æŒWindowså’ŒMacå¹³å°ï¼ŒLinuxå¹³å°ä¸‹ä¼šå¾ˆå¿«å¼€å‘ å›¾ç•¥ è‡ªåŠ¨è¯†åˆ« æ•°æ®åŒæ­¥ HttpæŠ“åŒ… å›¾ç•¥ å‰ªè´´æ¿ å›¾ç•¥ å›¾åºŠ å›¾ç•¥ hostsåˆ‡æ¢ å›¾ç•¥ ç¿»è¯‘ å›¾ç•¥ è®¡ç®—å™¨ å›¾ç•¥ å†…ç½‘ç©¿é€ å›¾ç•¥ ç›¸å…³ç«™ç‚¹ å®˜ç½‘åœ°å€ï¼šhttps://www.u.tools/ å®˜ç½‘ä¸‹è½½åœ°å€ï¼šhttps://www.u.tools/download.html ä½¿ç”¨æ–‡æ¡£åœ°å€: https://www.u.tools/docs/guide/about-uTools.html è®¨è®ºç¤¾åŒº: https://yuanliao.info/","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"å®žç”¨å·¥å…·åŠæŠ€å·§","slug":"å®žç”¨å·¥å…·åŠæŠ€å·§","permalink":"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/"}]},{"title":"ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®","slug":"ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®","date":"2019-10-12T12:23:11.000Z","updated":"2019-11-09T03:25:49.482Z","comments":true,"path":"2019/10/12/ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®/","link":"","permalink":"http://ltyeamin.github.io/2019/10/12/ã€Pythonçˆ¬è™«ã€‘ä½¿ç”¨Requestsåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®/","excerpt":"","text":"çˆ¬è™«åˆ†æžçˆ¬è™«éœ€æ±‚æè¿°: çˆ¬å–çŒ«çœ¼ç”µå½±TOP100çš„ç”µå½±åç§°ã€æ—¶é—´ã€è¯„åˆ†ã€æµ·æŠ¥å›¾ç‰‡ç­‰ä¿¡æ¯ ç«™ç‚¹: https://maoyan.com/board/4 åˆ†æž: æ‰“å¼€ç«™ç‚¹å³æ˜¯çŒ«çœ¼ç”µå½±TOP100çš„ç¬¬ä¸€é¡µ,ç‚¹å‡»ä¸‹ä¸€é¡µï¼Œæˆ‘ä»¬è§‚å¯Ÿåœ°å€æ URLåŽè¾¹è¿½åŠ äº†?offset=10çš„å‚æ•°ï¼Œæ˜¾ç„¶offsetå‚æ•°ä»£è¡¨åç§»é‡ï¼Œoffset=10è¡¨ç¤ºç¬¬ä¸€é¡µï¼Œoffset=20è¡¨ç¤ºç¬¬äºŒé¡µï¼Œç”±æ­¤å¯æŽ¨ï¼Œè‹¥åç§»é‡æœªnï¼Œåˆ™ç”µå½±åºå·å°±æ˜¯n+1åˆ°n+10ï¼Œæ¯é¡µæ˜¾ç¤º10ä¸ªã€‚å› æ­¤ï¼Œæƒ³è¦èŽ·å–TOP100ï¼Œè¦åˆ†å¼€è¯·æ±‚10æ¬¡ï¼Œè€Œ10æ¬¡çš„offsetå‚æ•°å€¼åˆ†åˆ«è®¾ç½®ä¸º0ã€10ã€20â€¦90å³å¯ï¼Œè¿™æ ·èŽ·å–ä¸åŒçš„é¡µé¢ä¹‹åŽï¼Œå†é€šè¿‡ä»»æ„ä¸€ä¸ªçš„è§£æžå™¨æå–ç›¸å…³çš„æ•°æ®å³å¯å®Œæˆã€‚ ä»£ç ç¼–å†™åˆ©ç”¨æ­£åˆ™è¿›è¡Œè§£æž1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#!/usr/bin python3.6# -*- encoding: utf-8 -*-\"\"\"@File : __init__.py.py@Description : åˆ©ç”¨requestsåº“å’Œlxmlè§£æžåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®@Author : tong.li@Email : lt_alex@163.com@Blog : http://blog.yeamin.top@Time : 2019/10/12 ä¸‹åˆ8:31\"\"\"import requestsimport reimport timefrom requests.exceptions import RequestExceptiondef request_page(url): try: # è®¾ç½®è¯·æ±‚å¤´ headers = &#123; 'User-Agent' : 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36' &#125; response = requests.get(url, headers=headers) if response.status_code == 200: text = response.text # èŽ·å–ç”µå½±æŽ’åã€æµ·æŠ¥ã€åç§°ã€ä¸»æ¼”ã€å‘å¸ƒæ—¶é—´ã€è¯„åˆ† regx = re.compile('&lt;dd&gt;.*?board-index.*?&gt;(.*?)&lt;/i&gt;.*?data-src=\"(.*?)\".*?name.*?a.*?&gt;(.*?)&lt;/a&gt;' '.*?star.*?&gt;.*?ï¼š(.*?)\\s*&lt;/p&gt;.*?releasetime.*?&gt;.*?ï¼š(.*?)&lt;/p&gt;.*?integer.*?&gt;(.*?)&lt;/i&gt;' '.*?fraction.*?&gt;(.*?)&lt;/i&gt;.*?&lt;/dd&gt;', re.S) items = re.findall(regx, text) for item in items: yield &#123; 'index': item[0], 'name': item[2], 'actor': item[3], 'post_img': item[1], 'time': item[4], 'score': item[5]+item[6] &#125; return items return None except RequestException: return None# å­˜å‚¨:æ–‡ä»¶/æ•°æ®åº“def store(text,filename): with open(filename, 'a', encoding='utf-8') as file: file.write(str(text) + '\\n')def getData(url): datas = request_page(url) for data in datas: # æŽ§åˆ¶å°æ‰“å°æ•°æ® print(data) # å°†æ•°æ®å†™å…¥txtçº¯æ–‡æœ¬æ–‡ä»¶ä¸­ store(data,'result.txt')if __name__ == '__main__': # çŒ«çœ¼ç”µå½±TOP100æ¦œå• url = 'https://maoyan.com/board/4?offset=' for i in range(10): getData(url + str(i * 10)) # çŒ«çœ¼ç”µå½±æœ‰åçˆ¬è™«é™åˆ¶,çˆ¬çš„å¤ªå¤šä¼šæœ‰IPæˆ–éªŒè¯ç é™åˆ¶,ç­‰å¾…0.5æ¯«ç§’å†æ¬¡è¯·æ±‚ time.sleep(0.5) åˆ©ç”¨xlmlåŠXpathè§£æž12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#!/usr/bin python3.6# -*- encoding: utf-8 -*-\"\"\"@File : __init__.py.py@Description : åˆ©ç”¨requestsåº“å’Œlxmlè§£æžåº“çˆ¬å–çŒ«çœ¼ç”µå½±TOP100æ•°æ®@Author : tong.li@Email : lt_alex@163.com@Blog : http://blog.yeamin.top@Time : 2019/10/12 ä¸‹åˆ8:31\"\"\"from lxml import etreeimport requestsimport timefrom requests.exceptions import RequestExceptiondef request_page(url): try: # è®¾ç½®è¯·æ±‚å¤´ headers = &#123; 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36' &#125; response = requests.get(url, headers=headers) if response.status_code == 200: text = response.text return text return None except RequestException: return Nonedef dealData(items): for item in items: yield &#123; 'index': item[0], 'name': item[1], 'actor': item[2].strip(), 'time': item[3][5:], 'score': item[4] + item[5], 'post_img': item[6] &#125; return itemsif __name__ == '__main__': for i in range(10): # çŒ«çœ¼ç”µå½±TOP100æ¦œå• url = 'https://maoyan.com/board/4?offset='+ str(i * 10) html = etree.HTML(request_page(url)) indexs = html.xpath('//*[@id=\"app\"]/div/div/div[1]/dl/dd/i/text()') name = html.xpath('//*[@id=\"app\"]/div/div/div[1]/dl/dd/div/div/div[1]/p[1]/a/text()') actor = html.xpath('//*[@id=\"app\"]/div/div/div[1]/dl/dd/div/div/div[1]/p[2]/text()') times = html.xpath('//*[@id=\"app\"]/div/div/div[1]/dl/dd/div/div/div[1]/p[3]/text()') score1 = html.xpath('//*[@id=\"app\"]/div/div/div[1]/dl/dd/div/div/div[2]/p/i[1]/text()') score2 = html.xpath('//*[@id=\"app\"]/div/div/div[1]/dl/dd/div/div/div[2]/p/i[2]/text()') # å–å›¾ç‰‡åœ°å€çš„æ—¶å€™å‘çŽ°é—®é¢˜,æ‰“å¼€æµè§ˆå™¨F12æŽ§åˆ¶å°,åœ¨Elementçœ‹åˆ°çš„imgæ ‡ç­¾å›¾ç‰‡åœ°å€å±žæ€§åä¸ºsrc, # ä½†æ˜¯åœ¨Sourceä¸‹çœ‹åˆ°çš„å±žæ€§åæ˜¯data-src,åŽŸå› å¯èƒ½æ˜¯æµè§ˆå™¨å¯¹JavaScriptä»£ç è¿›è¡Œäº†æ¸²æŸ“ images = html.xpath('//*[@class=\"board-img\"]/@data-src') datas = zip(indexs,name,actor,times,score1,score2,images) for data in dealData(datas): print(data) # çŒ«çœ¼ç”µå½±æœ‰åçˆ¬è™«é™åˆ¶,çˆ¬çš„å¤ªå¤šä¼šæœ‰IPæˆ–éªŒè¯ç é™åˆ¶,ç­‰å¾…0.5æ¯«ç§’å†æ¬¡è¯·æ±‚ time.sleep(0.5) çˆ¬å–ç»“æžœ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100&#123;'index': '1', 'name': 'éœ¸çŽ‹åˆ«å§¬', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,å¼ ä¸°æ¯…,å·©ä¿', 'time': '1993-07-26', 'score': '9.5', 'post_img': 'https://p1.meituan.net/movie/20803f59291c47e1e116c11963ce019e68711.jpg@160w_220h_1e_1c'&#125;&#123;'index': '2', 'name': 'è‚–ç”³å…‹çš„æ•‘èµŽ', 'actor': 'ä¸»æ¼”ï¼šè’‚å§†Â·ç½—å®¾æ–¯,æ‘©æ ¹Â·å¼—é‡Œæ›¼,é²å‹ƒÂ·å†ˆé¡¿', 'time': '1994-09-10(åŠ æ‹¿å¤§)', 'score': '9.5', 'post_img': 'https://p0.meituan.net/movie/283292171619cdfd5b240c8fd093f1eb255670.jpg@160w_220h_1e_1c'&#125;&#123;'index': '3', 'name': 'ç½—é©¬å‡æ—¥', 'actor': 'ä¸»æ¼”ï¼šæ ¼åˆ©é«˜é‡ŒÂ·æ´¾å…‹,å¥¥é»›ä¸½Â·èµ«æœ¬,åŸƒè¿ªÂ·è‰¾ä¼¯ç‰¹', 'time': '1953-09-02(ç¾Žå›½)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/289f98ceaa8a0ae737d3dc01cd05ab052213631.jpg@160w_220h_1e_1c'&#125;&#123;'index': '4', 'name': 'è¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·', 'actor': 'ä¸»æ¼”ï¼šè®©Â·é›·è¯º,åŠ é‡ŒÂ·å¥¥å¾·æ›¼,å¨œå¡”èŽ‰Â·æ³¢ç‰¹æ›¼', 'time': '1994-09-14(æ³•å›½)', 'score': '9.5', 'post_img': 'https://p1.meituan.net/movie/6bea9af4524dfbd0b668eaa7e187c3df767253.jpg@160w_220h_1e_1c'&#125;&#123;'index': '5', 'name': 'æ³°å¦å°¼å…‹å·', 'actor': 'ä¸»æ¼”ï¼šèŽ±æ˜‚çº³å¤šÂ·è¿ªå¡æ™®é‡Œå¥¥,å‡¯ç‰¹Â·æ¸©ä¸èŽ±ç‰¹,æ¯”åˆ©Â·èµžæ©', 'time': '1998-04-03', 'score': '9.5', 'post_img': 'https://p1.meituan.net/movie/b607fba7513e7f15eab170aac1e1400d878112.jpg@160w_220h_1e_1c'&#125;&#123;'index': '6', 'name': 'å”ä¼¯è™Žç‚¹ç§‹é¦™', 'actor': 'ä¸»æ¼”ï¼šå‘¨æ˜Ÿé©°,å·©ä¿,éƒ‘ä½©ä½©', 'time': '1993-07-01(ä¸­å›½é¦™æ¸¯)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/da64660f82b98cdc1b8a3804e69609e041108.jpg@160w_220h_1e_1c'&#125;&#123;'index': '7', 'name': 'é­‚æ–­è“æ¡¥', 'actor': 'ä¸»æ¼”ï¼šè´¹é›¯Â·ä¸½,ç½—ä¼¯ç‰¹Â·æ³°å‹’,éœ²å¡žå°”Â·æ²ƒç‰¹æ£®', 'time': '1940-05-17(ç¾Žå›½)', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/46c29a8b8d8424bdda7715e6fd779c66235684.jpg@160w_220h_1e_1c'&#125;&#123;'index': '8', 'name': 'ä¹±ä¸–ä½³äºº', 'actor': 'ä¸»æ¼”ï¼šè´¹é›¯Â·ä¸½,å…‹æ‹‰å…‹Â·ç›–åš,å¥¥åˆ©ç»´å¨…Â·å¾·å“ˆç»´å…°', 'time': '1939-12-15(ç¾Žå›½)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/223c3e186db3ab4ea3bb14508c709400427933.jpg@160w_220h_1e_1c'&#125;&#123;'index': '9', 'name': 'å¤©ç©ºä¹‹åŸŽ', 'actor': 'ä¸»æ¼”ï¼šå¯ºç”°å†œ,é¹«å°¾çœŸçŸ¥å­,é¾Ÿå±±åŠ©æ¸…', 'time': '1992-05-01', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/ba1ed511668402605ed369350ab779d6319397.jpg@160w_220h_1e_1c'&#125;&#123;'index': '10', 'name': 'è¾›å¾·å‹’çš„åå•', 'actor': 'ä¸»æ¼”ï¼šè¿žå§†Â·å°¼æ£®,æ‹‰å°”å¤«Â·è´¹å› æ–¯,æœ¬Â·é‡‘æ–¯åˆ©', 'time': '1993-12-15(ç¾Žå›½)', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/b0d986a8bf89278afbb19f6abaef70f31206570.jpg@160w_220h_1e_1c'&#125;&#123;'index': '11', 'name': 'éŸ³ä¹ä¹‹å£°', 'actor': 'ä¸»æ¼”ï¼šæœ±èŽ‰Â·å®‰å¾·é²æ–¯,å…‹é‡Œæ–¯æ‰˜å¼—Â·æ™®å¢é»˜,åŸƒç³è¯ºÂ·å¸•å…‹', 'time': '1965-03-02(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/6bc004d57358ee6875faa5e9a1239140128550.jpg@160w_220h_1e_1c'&#125;&#123;'index': '12', 'name': 'å–œå‰§ä¹‹çŽ‹', 'actor': 'ä¸»æ¼”ï¼šå‘¨æ˜Ÿé©°,èŽ«æ–‡è”š,å¼ æŸèŠ', 'time': '1999-02-13(ä¸­å›½é¦™æ¸¯)', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/18e3191039d5e71562477659301f04aa61905.jpg@160w_220h_1e_1c'&#125;&#123;'index': '13', 'name': 'å¤§é—¹å¤©å®«', 'actor': 'ä¸»æ¼”ï¼šé‚±å²³å³°,æ¯•å…‹,å¯Œæ¶¦ç”Ÿ', 'time': '1965-12-31', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/14a7b337e8063e3ce05a5993ed80176b74208.jpg@160w_220h_1e_1c'&#125;&#123;'index': '14', 'name': 'æ˜¥å…‰ä¹æ³„', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,æ¢æœä¼Ÿ,å¼ éœ‡', 'time': '1997-05-30(ä¸­å›½é¦™æ¸¯)', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/ae7245920d95c03765fe1615f3a1fe3865785.jpg@160w_220h_1e_1c'&#125;&#123;'index': '15', 'name': 'å‰ªåˆ€æ‰‹çˆ±å¾·åŽ', 'actor': 'ä¸»æ¼”ï¼šçº¦ç¿°å°¼Â·å¾·æ™®,è–‡è¯ºå¨œÂ·ç‘žå¾·,é»›å®‰Â·éŸ¦æ–¯ç‰¹', 'time': '1990-12-06(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/6a964e9cee699267053bd6a4bf6f2671195394.jpg@160w_220h_1e_1c'&#125;&#123;'index': '16', 'name': 'ç¾Žä¸½äººç”Ÿ', 'actor': 'ä¸»æ¼”ï¼šç½—ä¼¯æ‰˜Â·è´å°¼å°¼,å°¼å¯èŽ±å¡”Â·å¸ƒæ‹‰æ–¯åŸº,ä¹”æ²»Â·åŽå¡”é‡Œå°¼', 'time': '1997-12-20(æ„å¤§åˆ©)', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/43d259ecbcd53e8bbe902632772281d6327525.jpg@160w_220h_1e_1c'&#125;&#123;'index': '17', 'name': 'é»‘å®¢å¸å›½', 'actor': 'ä¸»æ¼”ï¼šåŸºåŠªÂ·é‡Œç»´æ–¯,å‡¯ç‘ž-å®‰Â·èŽ«æ–¯,åŠ³ä¼¦æ–¯Â·è²ä»€ä¼¯æ©', 'time': '2000-01-14', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/ad974d3527879f00be2eec29135118163728582.jpg@160w_220h_1e_1c'&#125;&#123;'index': '18', 'name': 'å“ˆåˆ©Â·æ³¢ç‰¹ä¸Žé­”æ³•çŸ³', 'actor': 'ä¸»æ¼”ï¼šä¸¹å°¼å°”Â·é›·å¾·å…‹é‡Œå¤«,é²ä¼¯ç‰¹Â·æ ¼æž—ç‰¹,è‰¾çŽ›Â·æ²ƒç‰¹æ£®', 'time': '2002-01-26', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/aacb9ed2a6601bfe515ef0970add1715623792.jpg@160w_220h_1e_1c'&#125;&#123;'index': '19', 'name': 'æŒ‡çŽ¯çŽ‹3ï¼šçŽ‹è€…æ— æ•Œ', 'actor': 'ä¸»æ¼”ï¼šä¼ŠèŽ±è´¾Â·ä¼å¾·,ä¼Šæ©Â·éº¦å…‹èŽ±æ©,ä¸½èŠ™Â·æ³°å‹’', 'time': '2004-03-15', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/932bdfbef5be3543e6b136246aeb99b8123736.jpg@160w_220h_1e_1c'&#125;&#123;'index': '20', 'name': 'æ— é—´é“', 'actor': 'ä¸»æ¼”ï¼šåˆ˜å¾·åŽ,æ¢æœä¼Ÿ,é»„ç§‹ç”Ÿ', 'time': '2003-09-05', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/606de8f394d40dbcbb9b87943fec71a2130408.jpg@160w_220h_1e_1c'&#125;&#123;'index': '21', 'name': 'è™è ä¾ ï¼šé»‘æš—éª‘å£«', 'actor': 'ä¸»æ¼”ï¼šå…‹é‡Œæ–¯è’‚å®‰Â·è´å°”,å¸Œæ–¯Â·èŽ±æ°,é˜¿ä¼¦Â·ä¼Šå…‹å“ˆç‰¹', 'time': '2008-07-18(ç¾Žå›½)', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/09658109acfea0e248a63932337d8e6a4268980.jpg@160w_220h_1e_1c'&#125;&#123;'index': '22', 'name': 'æ¥šé—¨çš„ä¸–ç•Œ', 'actor': 'ä¸»æ¼”ï¼šé‡‘Â·å‡¯ç‘ž,åŠ³æ‹‰Â·ç³å¦®,è¯ºäºšÂ·è‰¾é»˜é‡Œå¥‡', 'time': '1998-06-01(ç¾Žå›½)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/8959888ee0c399b0fe53a714bc8a5a17460048.jpg@160w_220h_1e_1c'&#125;&#123;'index': '23', 'name': 'åŠ å‹’æ¯”æµ·ç›—', 'actor': 'ä¸»æ¼”ï¼šçº¦ç¿°å°¼Â·å¾·æ™®,å‡¯æ‹‰Â·å¥ˆç‰¹èŽ‰,å¥¥å…°å¤šÂ·å¸ƒé²å§†', 'time': '2003-11-21', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/b05b94b28eca53f325ae8d807fcd4ce01798036.jpg@160w_220h_1e_1c'&#125;&#123;'index': '24', 'name': 'æ•™çˆ¶2', 'actor': 'ä¸»æ¼”ï¼šé˜¿å°”Â·å¸•è¥¿è¯º,ç½—ä¼¯ç‰¹Â·å¾·å°¼ç½—,é»›å®‰Â·åŸºé¡¿', 'time': '1974-12-12(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/bb1dee5e0b25889a2410211c1d5010ae190824.jpg@160w_220h_1e_1c'&#125;&#123;'index': '25', 'name': 'å°„é›•è‹±é›„ä¼ ä¹‹ä¸œæˆè¥¿å°±', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,æ¢æœä¼Ÿ,å¼ å­¦å‹', 'time': '1993-02-05(ä¸­å›½é¦™æ¸¯)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/53b6f0b66882a53b08896c92076515a8236400.jpg@160w_220h_1e_1c'&#125;&#123;'index': '26', 'name': 'æœºå™¨äººæ€»åŠ¨å‘˜', 'actor': 'ä¸»æ¼”ï¼šæœ¬Â·è´å°”ç‰¹,è‰¾ä¸½èŽŽÂ·å¥ˆç‰¹,æ°å¤«Â·æ ¼å°”æž—', 'time': '2008-06-27(ç¾Žå›½)', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/267dd2483f0fb57081474c00fbea38451415571.jpg@160w_220h_1e_1c'&#125;&#123;'index': '27', 'name': 'æŒ‡çŽ¯çŽ‹1ï¼šæŠ¤æˆ’ä½¿è€…', 'actor': 'ä¸»æ¼”ï¼šä¼ŠèŽ±è´¾Â·ä¼å¾·,ä¼Šæ©Â·éº¦å…‹èŽ±æ©,ä¸½èŠ™Â·æ³°å‹’', 'time': '2002-04-04', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/dd08154878aac7c8c649fe3eeb8ccd0a2498277.jpg@160w_220h_1e_1c'&#125;&#123;'index': '28', 'name': 'æŒ‡çŽ¯çŽ‹2ï¼šåŒå¡”å¥‡å…µ', 'actor': 'ä¸»æ¼”ï¼šä¼ŠèŽ±è´¾Â·ä¼å¾·,ä¼Šæ©Â·éº¦å…‹èŽ±æ©,ä¸½èŠ™Â·æ³°å‹’', 'time': '2003-04-25', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/02bb9fd161c05bad6089133098efcdb5546589.jpg@160w_220h_1e_1c'&#125;&#123;'index': '29', 'name': 'ç‹®å­çŽ‹', 'actor': 'ä¸»æ¼”ï¼šé©¬ä¿®Â·å¸ƒç½—å¾·é‡Œå…‹,å°¼åŸºå¡”Â·å¡å…°å§†,è©¹å§†æ–¯Â·åŽ„å°”Â·ç¼æ–¯', 'time': '1995-07-15', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/27b76fe6cf3903f3d74963f70786001e1438406.jpg@160w_220h_1e_1c'&#125;&#123;'index': '30', 'name': 'æ´»ç€', 'actor': 'ä¸»æ¼”ï¼šè‘›ä¼˜,å·©ä¿,ç‰›çŠ‡', 'time': '1994-05-18(æ³•å›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/4c41068ef7608c1d4fbfbe6016e589f7204391.jpg@160w_220h_1e_1c'&#125;&#123;'index': '31', 'name': 'æ‹¯æ•‘å¤§å…µç‘žæ©', 'actor': 'ä¸»æ¼”ï¼šæ±¤å§†Â·æ±‰å…‹æ–¯,é©¬ç‰¹Â·è¾¾è’™,æ±¤å§†Â·å¡žå…¹æ‘©å°”', 'time': '1998-11-13', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/a2a287c77415dc1f85b04d288f7d63ab1089754.jpg@160w_220h_1e_1c'&#125;&#123;'index': '32', 'name': 'ç›—æ¢¦ç©ºé—´', 'actor': 'ä¸»æ¼”ï¼šèŽ±æ˜‚çº³å¤šÂ·è¿ªå¡æ™®é‡Œå¥¥,æ¸¡è¾¹è°¦,çº¦ç‘Ÿå¤«Â·é«˜ç™»-èŽ±ç»´ç‰¹', 'time': '2010-09-01', 'score': '9.2', 'post_img': 'https://p1.meituan.net/movie/2f344a9f9575edbcae9f0abe0578bc90339773.jpg@160w_220h_1e_1c'&#125;&#123;'index': '33', 'name': 'å“ˆå°”çš„ç§»åŠ¨åŸŽå ¡', 'actor': 'ä¸»æ¼”ï¼šå€èµåƒæƒ å­,æœ¨æ‘æ‹“å“‰,ç¾Žè½®æ˜Žå®', 'time': '2004-11-20(æ—¥æœ¬)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/0127b451d5b8f0679c6f81c8ed414bb2432442.jpg@160w_220h_1e_1c'&#125;&#123;'index': '34', 'name': 'å¿ çŠ¬å…«å…¬çš„æ•…äº‹', 'actor': 'ä¸»æ¼”ï¼šForest,ç†æŸ¥Â·åŸºå°”,ç¼Â·è‰¾ä¼¦', 'time': '2010-03-12(è‹±å›½)', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/7787c10ad5e95b03cf83ef9473500d8e282796.jpg@160w_220h_1e_1c'&#125;&#123;'index': '35', 'name': 'ç–¯ç‹‚åŽŸå§‹äºº', 'actor': 'ä¸»æ¼”ï¼šå°¼å¤æ‹‰æ–¯Â·å‡¯å¥‡,è‰¾çŽ›Â·æ–¯é€š,ç‘žå®‰Â·é›·è¯ºå…¹', 'time': '2013-04-20', 'score': '9.5', 'post_img': 'https://p1.meituan.net/movie/bc022b86345c643ca21d759166f77a553679589.jpg@160w_220h_1e_1c'&#125;&#123;'index': '36', 'name': 'æå‡»ä¿±ä¹éƒ¨', 'actor': 'ä¸»æ¼”ï¼šçˆ±å¾·åŽÂ·å“ˆé‡Œæ£®Â·è¯ºé¡¿,å¸ƒæ‹‰å¾·Â·çš®ç‰¹,æµ·ä¼¦å¨œÂ·ä¼¯ç¿°Â·å¡ç‰¹', 'time': '1999-10-15(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/b3defc07dfaa1b6f5b74852ce38a3f8f242792.jpg@160w_220h_1e_1c'&#125;&#123;'index': '37', 'name': 'ä¸œé‚ªè¥¿æ¯’', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,æ¢æœä¼Ÿ,åˆ˜å˜‰çŽ²', 'time': '1994-09-17', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/7e471a9171a410ebc9413b2f1de67afc130067.jpg@160w_220h_1e_1c'&#125;&#123;'index': '38', 'name': 'å¹½çµå…¬ä¸»', 'actor': 'ä¸»æ¼”ï¼šæ¾ç”°æ´‹æ²»,çŸ³ç”°ç™¾åˆå­,ç”°ä¸­è£•å­', 'time': '1998-05-01', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/a08f65e6cb50fab32df5da69ff116f593095363.jpg@160w_220h_1e_1c'&#125;&#123;'index': '39', 'name': 'é˜¿å‡¡è¾¾', 'actor': 'ä¸»æ¼”ï¼šè¨å§†Â·æ²ƒè¾›é¡¿,ä½ä¼ŠÂ·ç´¢å°”è¾¾å¨œ,ç±³æ­‡å°”Â·ç½—å¾·é‡Œæ ¼å…¹', 'time': '2010-01-04', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/91f575ec93f019f428d1f33e3ceca7c5115495.jpg@160w_220h_1e_1c'&#125;&#123;'index': '40', 'name': 'é£Žä¹‹è°·', 'actor': 'ä¸»æ¼”ï¼šå²›æœ¬é¡»ç¾Ž,æ°¸äº•ä¸€éƒŽ,å‚æœ¬åƒå¤', 'time': '1992', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/4f9638ba234c3fb673f23a09968db875371576.jpg@160w_220h_1e_1c'&#125;&#123;'index': '41', 'name': 'åäºŒæ€’æ±‰', 'actor': 'ä¸»æ¼”ï¼šäº¨åˆ©Â·æ–¹è¾¾,æŽÂ·ç§‘å¸ƒ,é©¬ä¸Â·é²å°”è¨å§†', 'time': '1957-04-13(ç¾Žå›½)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/df15efd261060d3094a73ef679888d4f238149.jpg@160w_220h_1e_1c'&#125;&#123;'index': '42', 'name': 'å¤§è¯è¥¿æ¸¸ä¹‹æœˆå…‰å®ç›’', 'actor': 'ä¸»æ¼”ï¼šå‘¨æ˜Ÿé©°,èŽ«æ–‡è”š,å´å­Ÿè¾¾', 'time': '2014-10-24', 'score': '9.6', 'post_img': 'https://p0.meituan.net/movie/92eb862c42c49f8e41e459c369c4512b226610.jpg@160w_220h_1e_1c'&#125;&#123;'index': '43', 'name': 'Vå­—ä»‡æ€é˜Ÿ', 'actor': 'ä¸»æ¼”ï¼šå¨œå¡”èŽ‰Â·æ³¢ç‰¹æ›¼,é›¨æžœÂ·ç»´æ–‡,æ–¯è’‚èŠ¬Â·ç‘ž', 'time': '2006-03-17(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/06ec3c1c647942b1e40bca84036014e9490863.jpg@160w_220h_1e_1c'&#125;&#123;'index': '44', 'name': 'æ”¾ç‰›ç­çš„æ˜¥å¤©', 'actor': 'ä¸»æ¼”ï¼šçƒ­æ‹‰å°”Â·æœ±å°¼å¥¥,è®©-å·´è’‚æ–¯ç‰¹Â·èŽ«å°¼è€¶,çŽ›ä¸½Â·å¸ƒå¥ˆå°”', 'time': '2004-10-16', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/70de97ebb6b5251ecb7c3f6d7a782a7f189340.jpg@160w_220h_1e_1c'&#125;&#123;'index': '45', 'name': 'å½“å¹¸ç¦æ¥æ•²é—¨', 'actor': 'ä¸»æ¼”ï¼šå¨å°”Â·å²å¯†æ–¯,è´¾ç™»Â·å²å¯†æ–¯,å¦è¿ªÂ·ç‰›é¡¿', 'time': '2008-01-17', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/5896de3c1474277730e321c9b1db04a9205644.jpg@160w_220h_1e_1c'&#125;&#123;'index': '46', 'name': 'é€Ÿåº¦ä¸Žæ¿€æƒ…5', 'actor': 'ä¸»æ¼”ï¼šèŒƒÂ·è¿ªå¡žå°”,ä¿ç½—Â·æ²ƒå…‹,é“æ©Â·å¼ºæ£®', 'time': '2011-05-12', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/845ce32778a1b3f258de089f91a3979b5766154.jpg@160w_220h_1e_1c'&#125;&#123;'index': '47', 'name': 'é©¯é¾™é«˜æ‰‹', 'actor': 'ä¸»æ¼”ï¼šæ°ä¼ŠÂ·å·´é²åˆ‡å°”,æ°æ‹‰å¾·Â·å·´ç‰¹å‹’,äºšç¾ŽèŽ‰å¡Â·è´¹é›·æ‹‰', 'time': '2010-05-14', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/b0d97e4158b47d653d7a81d66f7dd3092146907.jpg@160w_220h_1e_1c'&#125;&#123;'index': '48', 'name': 'å‹‡æ•¢çš„å¿ƒ', 'actor': 'ä¸»æ¼”ï¼šæ¢…å°”Â·å‰å¸ƒæ£®,è‹è²Â·çŽ›ç´¢,å¸•ç‰¹é‡Œå…‹Â·éº¦é«˜æ±‰', 'time': '1995-05-24(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/f8e9d5a90224746d15dfdbd53d4fae3d209420.jpg@160w_220h_1e_1c'&#125;&#123;'index': '49', 'name': 'é—»é¦™è¯†å¥³äºº', 'actor': 'ä¸»æ¼”ï¼šé˜¿å°”Â·å¸•è¥¿è¯º,å…‹é‡Œæ–¯Â·å¥¥å”çº³,åŠ å¸ƒé‡ŒåŸƒå°”Â·å®‰ç“¦å°”', 'time': '1992-12-23(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/8d7b0b902afd4ec1a3dd7a9c6149463c187734.jpg@160w_220h_1e_1c'&#125;&#123;'index': '50', 'name': 'ç¥žå·å¥¶çˆ¸', 'actor': 'ä¸»æ¼”ï¼šå²è’‚å¤«Â·å¡ç‘žå°”,æ°æ£®Â·å¸­æ ¼å°”,æ‹‰å¡žå°”Â·å¸ƒå…°å¾·', 'time': '2010-07-09(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/85c2bfba6025bfbfb53291ae5924c215308805.jpg@160w_220h_1e_1c'&#125;&#123;'index': '51', 'name': 'é»‘å®¢å¸å›½3ï¼šçŸ©é˜µé©å‘½', 'actor': 'ä¸»æ¼”ï¼šåŸºåŠªÂ·é‡Œç»´æ–¯,é›¨æžœÂ·ç»´æ–‡,å‡¯ç‘ž-å®‰Â·èŽ«æ–¯', 'time': '2003-11-05', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/2e383b5f5f306f10f9f26d9f1c28cf1d825537.jpg@160w_220h_1e_1c'&#125;&#123;'index': '52', 'name': 'é£žå±‹çŽ¯æ¸¸è®°', 'actor': 'ä¸»æ¼”ï¼šçˆ±å¾·åŽÂ·é˜¿æ–¯çº³,ä¹”ä¸¹Â·é•¿äº•,é²å‹ƒÂ·å½¼å¾·æ£®', 'time': '2009-08-04', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/47dd790e19dad72b50580641de5608c5199014.jpg@160w_220h_1e_1c'&#125;&#123;'index': '53', 'name': 'æ–­èƒŒå±±', 'actor': 'ä¸»æ¼”ï¼šå¸Œæ–¯Â·èŽ±æ°,æ°å…‹Â·å‰ä¼¦å“ˆå°”,ç±³æ­‡å°”Â·å¨å»‰å§†æ–¯', 'time': '2006-01-13(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/e71affe126eeb4f8bfcc738cbddeebc8288766.jpg@160w_220h_1e_1c'&#125;&#123;'index': '54', 'name': 'æ€¦ç„¶å¿ƒåŠ¨', 'actor': 'ä¸»æ¼”ï¼šçŽ›å¾·ç³Â·å¡ç½—å°”,å¡å…°Â·éº¦å…‹å¥¥åˆ©è²,è‰¾ä¸¹Â·å¥Žå› ', 'time': '2010-08-06(ç¾Žå›½)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/15f1ac49b6d1ff7b71207672993ed6901536456.jpg@160w_220h_1e_1c'&#125;&#123;'index': '55', 'name': 'ä¸‰å‚»å¤§é—¹å®èŽ±åž', 'actor': 'ä¸»æ¼”ï¼šé˜¿ç±³å°”Â·æ±—,é»„æ¸¤,å¡ç³å¨œÂ·å¡æ™®', 'time': '2011-12-08', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/ca4a128a5a54d5b5e35ceba622636c831810197.jpg@160w_220h_1e_1c'&#125;&#123;'index': '56', 'name': 'æœ«ä»£çš‡å¸', 'actor': 'ä¸»æ¼”ï¼šå°Šé¾™,é™ˆå†²,å½¼å¾—Â·å¥¥å›¾å°”', 'time': '1987-10-23', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/21b9211eb1094af360842472018db634286646.jpg@160w_220h_1e_1c'&#125;&#123;'index': '57', 'name': 'æ— æ•Œç ´åçŽ‹', 'actor': 'ä¸»æ¼”ï¼šçº¦ç¿°Â·CÂ·èµ–åˆ©,è¨æ‹‰Â·è¥¿å°”å¼—æ›¼,ç®€Â·æž—å¥‡', 'time': '2012-11-06', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/fcc17667b8343131101eeb4c67d90bf9150883.jpg@160w_220h_1e_1c'&#125;&#123;'index': '58', 'name': 'è‡´å‘½é­”æœ¯', 'actor': 'ä¸»æ¼”ï¼šä¼‘Â·æ°å…‹æ›¼,å…‹é‡Œæ–¯è’‚å®‰Â·è´å°”,è¿ˆå…‹å°”Â·å‡¯æ©', 'time': '2006-10-20(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/75c0d3eb584be030a01f2e26741a8f41251454.jpg@160w_220h_1e_1c'&#125;&#123;'index': '59', 'name': 'å°‘å¹´æ´¾çš„å¥‡å¹»æ¼‚æµ', 'actor': 'ä¸»æ¼”ï¼šè‹æ‹‰Â·æ²™çŽ›,ä¼Šå°”å‡¡Â·å¯æ±—,å¡”å¸ƒ', 'time': '2012-11-22', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/34998e31c6d07475f1add6b8b16fd21d192579.jpg@160w_220h_1e_1c'&#125;&#123;'index': '60', 'name': 'é¬¼å­æ¥äº†', 'actor': 'ä¸»æ¼”ï¼šå§œæ–‡,å§œå®æ³¢,é™ˆå¼º', 'time': '2000-05-12(æ³•å›½æˆ›çº³)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/0b507aa44c4dfbbcc91949b69b1b39a168922.jpg@160w_220h_1e_1c'&#125;&#123;'index': '61', 'name': 'è™è ä¾ ï¼šé»‘æš—éª‘å£«å´›èµ·', 'actor': 'ä¸»æ¼”ï¼šå…‹é‡Œæ–¯è’‚å®‰Â·è´å°”,è¿ˆå…‹å°”Â·å‡¯æ©,åŠ é‡ŒÂ·å¥¥å¾·æ›¼', 'time': '2012-08-27', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/96bb58f3e9d213fb0438987d16d27561379209.jpg@160w_220h_1e_1c'&#125;&#123;'index': '62', 'name': 'ç¾Žä¸½å¿ƒçµ', 'actor': 'ä¸»æ¼”ï¼šç½—ç´ Â·å…‹æ´›,è©¹å¦®å¼—Â·åº·çº³åˆ©,è‰¾å¾·Â·å“ˆé‡Œæ–¯', 'time': '2001-12-21(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/7b7d1f8aa36d7a15463ce6942708a1a7265296.jpg@160w_220h_1e_1c'&#125;&#123;'index': '63', 'name': 'å“ˆåˆ©Â·æ³¢ç‰¹ä¸Žæ­»äº¡åœ£å™¨ï¼ˆä¸‹ï¼‰', 'actor': 'ä¸»æ¼”ï¼šä¸¹å°¼å°”Â·é›·å¾·å…‹é‡Œå¤«,é²ä¼¯ç‰¹Â·æ ¼æž—ç‰¹,è‰¾çŽ›Â·æ²ƒç‰¹æ£®', 'time': '2011-08-04', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/bb0eca029cd25329776a4549b3fbe262924727.jpg@160w_220h_1e_1c'&#125;&#123;'index': '64', 'name': 'å€©å¥³å¹½é­‚', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,çŽ‹ç¥–è´¤,åˆé©¬', 'time': '2011-04-30', 'score': '9.2', 'post_img': 'https://p1.meituan.net/movie/96d98200d2afb4b87ff189f9c15b6545568339.jpg@160w_220h_1e_1c'&#125;&#123;'index': '65', 'name': 'å¤œè®¿å¸è¡€é¬¼', 'actor': 'ä¸»æ¼”ï¼šæ±¤å§†Â·å…‹é²æ–¯,å¸ƒæ‹‰å¾·Â·çš®ç‰¹,å…‹å°”æ–¯æ»•Â·é‚“æ–¯ç‰¹', 'time': '1994-11-11(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/7ec873ba943f13e3c63789d899bd0e23256871.jpg@160w_220h_1e_1c'&#125;&#123;'index': '66', 'name': 'é’¢ç´å®¶', 'actor': 'ä¸»æ¼”ï¼šè‰¾å¾·é‡Œå®‰Â·å¸ƒæ´›è¿ª,è‰¾ç±³èŽ‰å¨…Â·ç¦å…‹æ–¯,ç±³å“ˆä¹ŒÂ·çƒ­å¸ƒç½—å¤«æ–¯åŸº', 'time': '2002-09-25(æ³•å›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/484171372de45945e8bbbcc97db57e09136701.jpg@160w_220h_1e_1c'&#125;&#123;'index': '67', 'name': 'è§¦ä¸å¯åŠ', 'actor': 'ä¸»æ¼”ï¼šå¼—æœ—ç´¢ç“¦Â·å…‹é²å¡ž,å¥¥çŽ›Â·å¸Œ,å®‰å¨œÂ·å‹’å°¼', 'time': '2011-11-02(æ³•å›½)', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/1e700e53e4fe29dd5942381bb353c8532239179.jpg@160w_220h_1e_1c'&#125;&#123;'index': '68', 'name': 'æœ¬æ°æ˜ŽÂ·å·´é¡¿å¥‡äº‹', 'actor': 'ä¸»æ¼”ï¼šå¸ƒæ‹‰å¾·Â·çš®ç‰¹,å‡¯ç‰¹Â·å¸ƒå…°åˆ‡ç‰¹,å¡”æ‹‰å‰Â·PÂ·æ±‰æ£®', 'time': '2008-12-25(ç¾Žå›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/2526f77c650bf7cf3d5ee2dccdeac332244951.jpg@160w_220h_1e_1c'&#125;&#123;'index': '69', 'name': 'ç”œèœœèœœ', 'actor': 'ä¸»æ¼”ï¼šé»Žæ˜Ž,å¼ æ›¼çŽ‰,æ›¾å¿—ä¼Ÿ', 'time': '2015-02-13', 'score': '9.2', 'post_img': 'https://p1.meituan.net/movie/0b0d45b58946078dd24d4945dd6be3b51329411.jpg@160w_220h_1e_1c'&#125;&#123;'index': '70', 'name': 'å¤§è¯è¥¿æ¸¸ä¹‹å¤§åœ£å¨¶äº²', 'actor': 'ä¸»æ¼”ï¼šå‘¨æ˜Ÿé©°,æœ±èŒµ,èŽ«æ–‡è”š', 'time': '2014-10-24', 'score': '8.8', 'post_img': 'https://p1.meituan.net/moviemachine/508056769092059fe43a611b949f27d14863831.jpg@160w_220h_1e_1c'&#125;&#123;'index': '71', 'name': 'åˆæ‹è¿™ä»¶å°äº‹', 'actor': 'ä¸»æ¼”ï¼šé©¬é‡Œå¥¥Â·æ¯›ç‘žå°”,å¹³é‡‡å¨œÂ·ä¹ç»´ç‘Ÿæ´¾å¸ƒæ©,é˜¿æŸ¥æ‹‰é‚£Â·é˜¿ç‘žäºšå«è€ƒ', 'time': '2012-06-05', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/7ed07b8ea8c0e0d0c7b685d20e3ec64e232004.jpg@160w_220h_1e_1c'&#125;&#123;'index': '72', 'name': 'ç†”ç‚‰', 'actor': 'ä¸»æ¼”ï¼šå­”åˆ˜,éƒ‘æœ‰ç¾Ž,é‡‘æ™ºè‹±', 'time': '2011-09-22(éŸ©å›½)', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/2a0783b4fd95566568f24adfad2181bb5392280.jpg@160w_220h_1e_1c'&#125;&#123;'index': '73', 'name': 'æ–°é¾™é—¨å®¢æ ˆ', 'actor': 'ä¸»æ¼”ï¼šå¼ æ›¼çŽ‰,æ¢å®¶è¾‰,ç”„å­ä¸¹', 'time': '2012-02-24', 'score': '8.8', 'post_img': 'https://p1.meituan.net/movie/7833126c8c21a11571bb52fbdece0acb811449.jpg@160w_220h_1e_1c'&#125;&#123;'index': '74', 'name': 'ç´ åª›', 'actor': 'ä¸»æ¼”ï¼šæŽæ¥,è–›è€¿æ±‚,ä¸¥å¿—åª›', 'time': '2013-10-02(éŸ©å›½)', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/19653e8af59cf473cd40f9ccc0658d93692304.jpg@160w_220h_1e_1c'&#125;&#123;'index': '75', 'name': 'å°éž‹å­', 'actor': 'ä¸»æ¼”ï¼šé»˜ç½•é»˜å¾·Â·é˜¿ç±³å°”Â·çº³å‰,Kamal Mirkarimi,Behzad Rafi', 'time': '1999-01-22(ç¾Žå›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/135c612860fae899df2220149664d97a173555.jpg@160w_220h_1e_1c'&#125;&#123;'index': '76', 'name': 'è¤ç«ä¹‹æ£®', 'actor': 'ä¸»æ¼”ï¼šå†…å±±æ˜‚è¾‰,ä½ä»“ç»«éŸ³,åŽè—¤å¼˜æ ‘', 'time': '2011-09-17(æ—¥æœ¬)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/5420be40e3b755ffe04779b9b199e935256906.jpg@160w_220h_1e_1c'&#125;&#123;'index': '77', 'name': 'æ•™çˆ¶', 'actor': 'ä¸»æ¼”ï¼šé©¬é¾™Â·ç™½å…°åº¦,é˜¿å°”Â·å¸•è¥¿è¯º,è©¹å§†æ–¯Â·è‚¯æ©', 'time': '2015-04-18', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/1199dc6273680f175fd9b06c9c36d08a219658.jpg@160w_220h_1e_1c'&#125;&#123;'index': '78', 'name': 'ç©¿æ¡çº¹ç¡è¡£çš„ç”·å­©', 'actor': 'ä¸»æ¼”ï¼šé˜¿æ²™Â·å·´ç‰¹è²å°”å¾·,ç»´æ‹‰Â·æ³•æ¢…åŠ ,å¤§å«Â·ä¼‘é‡Œæ–¯', 'time': '2008-09-12(è‹±å›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/d5970e36c8868a4b746c80f3b3f8a404174615.jpg@160w_220h_1e_1c'&#125;&#123;'index': '79', 'name': 'æ—¶ç©ºæ‹æ—…äºº', 'actor': 'ä¸»æ¼”ï¼šç‘žç§‹Â·éº¦å…‹äºšå½“æ–¯,å¤šå§†çº³å°”Â·æ ¼é‡Œæ£®,æ¯”å°”Â·å¥ˆä¼Š', 'time': '2013-09-04(è‹±å›½)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/4abc8c932cfacfc0089e2883765d02d1295222.jpg@160w_220h_1e_1c'&#125;&#123;'index': '80', 'name': 'çªƒå¬é£Žæš´', 'actor': 'ä¸»æ¼”ï¼šä¹Œå°”é‡Œå¸ŒÂ·ç©†åŸƒ,å¡žå·´æ–¯è’‚å®‰Â·ç§‘èµ«,é©¬è’‚å¨œÂ·æ ¼å¾·å…‹', 'time': '2006-03-23(å¾·å›½)', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/3985eaf3858bea0f2a3d966bf7ee2103178217.jpg@160w_220h_1e_1c'&#125;&#123;'index': '81', 'name': '7å·æˆ¿çš„ç¤¼ç‰©', 'actor': 'ä¸»æ¼”ï¼šæŸ³æ‰¿é¾™,éƒ‘é•‡è£,æœ´ä¿¡æƒ ', 'time': '2013-01-23(éŸ©å›½)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/6a6e74b2c289f9fa4433dd2dc04a7741331638.jpg@160w_220h_1e_1c'&#125;&#123;'index': '82', 'name': 'ææ€–ç›´æ’­', 'actor': 'ä¸»æ¼”ï¼šæ²³æ­£å®‡,æŽç’Ÿè£,æŽå¤§ä¸º', 'time': '2013-07-31(éŸ©å›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/b5ff0216e689b3fcc065590c48cd5105255305.jpg@160w_220h_1e_1c'&#125;&#123;'index': '83', 'name': 'æµ·è±šæ¹¾', 'actor': 'ä¸»æ¼”ï¼šé‡Œå…‹Â·å¥¥å·´ç‘ž,è·¯æ˜“Â·è¥¿éœå°¤æ–¯,å“ˆè¿ªÂ·ç¼æ–¯', 'time': '2009-07-31(ç¾Žå›½)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/7373dbba07b50ce6f24336edb96b2ea4271536.jpg@160w_220h_1e_1c'&#125;&#123;'index': '84', 'name': 'å¿ çŠ¬å…«å…¬ç‰©è¯­', 'actor': 'ä¸»æ¼”ï¼šä»²ä»£è¾¾çŸ¢,æ˜¥å·çœŸæ¾„,äº•å·æ¯”ä½å¿—', 'time': '1987-08-01(æ—¥æœ¬)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/c835b3588d0061ed3b992388a0a96f15160913.jpg@160w_220h_1e_1c'&#125;&#123;'index': '85', 'name': 'ä¸Šå¸ä¹‹åŸŽ', 'actor': 'ä¸»æ¼”ï¼šäºšåŽ†æ¡‘å¾·é›·Â·ç½—å¾·é‡Œæ ¼æ–¯,è‰¾èŽ‰ä¸Â·å¸ƒæ‹‰åŠ ,èŽ±å®‰å¾·é²Â·è²å°”ç±³è¯º', 'time': '2002-08-30(å·´è¥¿)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/b553d13f30100db731ab6cf45668e52d94703.jpg@160w_220h_1e_1c'&#125;&#123;'index': '86', 'name': 'è¾©æŠ¤äºº', 'actor': 'ä¸»æ¼”ï¼šå®‹åº·æ˜Š,éƒ­åº¦æ²…,å´è¾¾æ´™', 'time': '2013-12-18(éŸ©å›½)', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/8fabf3894b7d12d3d2f6e66404813670265761.jpg@160w_220h_1e_1c'&#125;&#123;'index': '87', 'name': 'ç¾Žå›½å¾€äº‹', 'actor': 'ä¸»æ¼”ï¼šç½—ä¼¯ç‰¹Â·å¾·å°¼ç½—,è©¹å§†æ–¯Â·ä¼å…¹,ä¼Šä¸½èŽŽç™½Â·éº¦æˆˆæ–‡', 'time': '2015-04-23', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/92198a6fc8c3f5d13aa1bdf203572c0f99438.jpg@160w_220h_1e_1c'&#125;&#123;'index': '88', 'name': 'å®Œç¾Žçš„ä¸–ç•Œ', 'actor': 'ä¸»æ¼”ï¼šå‡¯æ–‡Â·ç§‘æ–¯ç‰¹çº³,å…‹æž—ç‰¹Â·ä¼Šæ–¯ç‰¹ä¼å¾·,TÂ·JÂ·åŠ³ç‘Ÿ', 'time': '1993-11-24(ç¾Žå›½)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/30310858fdab34c7a17cfd7ec8ad8bfc112201.jpg@160w_220h_1e_1c'&#125;&#123;'index': '89', 'name': 'ä¸ƒæ­¦å£«', 'actor': 'ä¸»æ¼”ï¼šä¸‰èˆ¹æ•éƒŽ,å¿—æ‘ä¹”,åƒç§‹å®ž', 'time': '1954-04-26(æ—¥æœ¬)', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/4ffca83fd972f71e291f8ea8d78a4b58594878.jpg@160w_220h_1e_1c'&#125;&#123;'index': '90', 'name': 'ä¸€ä¸€', 'actor': 'ä¸»æ¼”ï¼šå´å¿µçœŸ,é‡‘ç‡•çŽ²,æŽå‡¯èŽ‰', 'time': '2000-09-20(æ³•å›½)', 'score': '8.9', 'post_img': 'https://p1.meituan.net/movie/2c0a5fedf4b43d142121b91c6ccabe1b59051.jpg@160w_220h_1e_1c'&#125;&#123;'index': '91', 'name': 'è‹±é›„æœ¬è‰²', 'actor': 'ä¸»æ¼”ï¼šç‹„é¾™,å¼ å›½è£,å‘¨æ¶¦å‘', 'time': '2017-11-17', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/3e5f5f3aa4b7e5576521e26c2c7c894d253975.jpg@160w_220h_1e_1c'&#125;&#123;'index': '92', 'name': 'é˜¿é£žæ­£ä¼ ', 'actor': 'ä¸»æ¼”ï¼šå¼ å›½è£,å¼ æ›¼çŽ‰,åˆ˜å¾·åŽ', 'time': '2018-06-25', 'score': '8.8', 'post_img': 'https://p0.meituan.net/movie/885fc379c614a2b4175587b95ac98eb95045650.jpg@160w_220h_1e_1c'&#125;&#123;'index': '93', 'name': 'çˆ±Â·å›žå®¶', 'actor': 'ä¸»æ¼”ï¼šä¿žæ‰¿è±ª,é‡‘è‰ºèŠ¬,ç«¥å­ç†™', 'time': '2002-04-05(éŸ©å›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/36a893c53a13f9bb934071b86ae3b5c492427.jpg@160w_220h_1e_1c'&#125;&#123;'index': '94', 'name': 'æµ·æ´‹', 'actor': 'ä¸»æ¼”ï¼šé›…å…‹Â·è´æ±‰,å§œæ–‡,å…°æ–¯æ´›ç‰¹Â·ä½©æž—', 'time': '2011-08-12', 'score': '9.0', 'post_img': 'https://p0.meituan.net/movie/0018b57299d0d4540330a31244c880a9112971.jpg@160w_220h_1e_1c'&#125;&#123;'index': '95', 'name': 'æˆ‘çˆ±ä½ ', 'actor': 'ä¸»æ¼”ï¼šå®‹åœ¨æµ©,æŽé¡ºæ‰,å°¹ç§€æ™¶', 'time': '2011-02-17(éŸ©å›½)', 'score': '9.0', 'post_img': 'https://p1.meituan.net/movie/ed50b58bf636d207c56989872a91f4cf305138.jpg@160w_220h_1e_1c'&#125;&#123;'index': '96', 'name': 'é»„é‡‘ä¸‰é•–å®¢', 'actor': 'ä¸»æ¼”ï¼šå…‹æž—ç‰¹Â·ä¼Šæ–¯ç‰¹ä¼å¾·,æŽÂ·èŒƒÂ·å…‹é‡Œå¤«,åŸƒé‡ŒÂ·ç“¦æ‹‰èµ«', 'time': '1966-12-23(æ„å¤§åˆ©)', 'score': '8.9', 'post_img': 'https://p0.meituan.net/movie/cd18ed2c5cda9e71e17e5e6ef61ced172912303.jpg@160w_220h_1e_1c'&#125;&#123;'index': '97', 'name': 'è¿å¾™çš„é¸Ÿ', 'actor': 'ä¸»æ¼”ï¼šé›…å…‹Â·è´æ±‰,Philippe Labro', 'time': '2001-12-12(æ³•å›½)', 'score': '9.1', 'post_img': 'https://p1.meituan.net/movie/a1634f4e49c8517ae0a3e4adcac6b0dc43994.jpg@160w_220h_1e_1c'&#125;&#123;'index': '98', 'name': 'åƒä¸Žåƒå¯»', 'actor': 'ä¸»æ¼”ï¼šæŸŠç‘ ç¾Ž,å‘¨å†¬é›¨,å…¥é‡Žè‡ªç”±', 'time': '2019-06-21', 'score': '9.3', 'post_img': 'https://p0.meituan.net/movie/30b20139e68c46d02e0893277d633b701292458.jpg@160w_220h_1e_1c'&#125;&#123;'index': '99', 'name': 'å¤©å ‚ç”µå½±é™¢', 'actor': 'ä¸»æ¼”ï¼šè²åˆ©æµ¦Â·è¯ºç“¦é›·,èµ›å°”ä¹”Â·å¡æ–¯ç‰¹åˆ©æ‰˜,è’‚å…¹äºšå¨œÂ·ç½—è¾¾æ‰˜', 'time': '2019-06-15', 'score': '9.2', 'post_img': 'https://p0.meituan.net/movie/76fc92cfa6c8f2959431b8aa604ef7ae126414.jpg@160w_220h_1e_1c'&#125;&#123;'index': '100', 'name': 'é¾™çŒ«', 'actor': 'ä¸»æ¼”ï¼šç§¦å²š,ç³¸äº•é‡é‡Œ,å²›æœ¬é¡»ç¾Ž', 'time': '2018-12-14', 'score': '9.1', 'post_img': 'https://p0.meituan.net/movie/c304c687e287c7c2f9e22cf78257872d277201.jpg@160w_220h_1e_1c'&#125; æ€»ç»“å…¶å®žè¿˜å¯ä»¥åˆ©ç”¨å…¶ä»–è§£æžåº“è¿›è¡Œè§£æžï¼Œæ¯”å¦‚Beautiful Soup 4å’ŒPyQueryåº“,è¿™ä¸¤ä¸ªåº“ç›¸æ¯”æ­£åˆ™å’ŒXpathè§£æžè½»å·§ç®€å•ï¼Œä½†æ˜¯ç›¸æ¯”ä¹‹ä¸‹æ€§èƒ½ä¼šæœ‰æ‰€ç‰ºç‰²ã€‚ Beautiful Soup 4 è§£æžåº“å¯¹XMlæ–‡æ¡£çš„å®½å®¹åº¦ä¸å¥½ï¼Œåœ¨å½“ä¸‹çš„äº’è”ç½‘çŽ¯å¢ƒä¸‹ï¼Œç½‘ç«™ç»“æž„å¼€å‘ã€å‡çº§å’Œç»´æŠ¤å˜çš„å¾ˆå¤æ‚ï¼Œå¯¹äºŽä¸€äº›ä¸è§„èŒƒçš„ç½‘ç«™è€Œè¨€ï¼Œè§£æžä¼šæœ‰é—®é¢˜ï¼Œè€Œlxmlè§£å†³äº†è¯¥é—®é¢˜ã€‚å¦å¤–ï¼Œ Beautiful Soup 4 è§£æžæ—¶å€™ä¼šå°†æ‰€æœ‰çš„XMlèŠ‚ç‚¹åŠ è½½åˆ°å†…å­˜ä¸­å½¢æˆDOMæ ‘ï¼Œæ€§èƒ½ç›¸æ¯”æ­£åˆ™ä¸‹é™äº†å¾ˆå¤šã€‚ PyQueryè§£æžåº“ï¼Œå…¶å®žè¯­æ³•ç»“æž„å…¶å®žå°±æ˜¯ç”±JavaScriptçš„JQueryåº“æ¼”å˜è€Œæ¥çš„ï¼Œè¯¥åº“CSSé€‰æ‹©å™¨æ”¯æŒæ€§ç‰¹åˆ«å¥½ï¼Œç†Ÿç»ƒä½¿ç”¨JQueryçš„æœ‹å‹ä¹Ÿå¿…å®šä¼šä½¿ç”¨è¯¥ä¼šã€‚ å› ä¸ºæˆ‘æœ¬äººä¸å–œæ¬¢ç”¨è¿™ä¸ªBeautiful Soup 4 åº“ï¼Œæ‰€ä»¥ä¸æ‰“ç®—æ·±å…¥ç ”ç©¶ï¼Œå¦å¤–,PyQueryå’ŒJQueryæ“ä½œç±»ä¼¼ï¼Œæˆ‘åœ¨æœ¬æ–‡ä¹Ÿä¸åšç´¯è¿°ã€‚è‹¥æœ‰è¯»è€…å¯¹è¯¥åº“æ„Ÿå…´è¶£å¯è‡ªè¡Œç ”ç©¶ã€‚","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"Python","slug":"Python","permalink":"http://ltyeamin.github.io/tags/Python/"}]},{"title":"Nginxè®¾ç½®é»‘ç™½åå•","slug":"Nginxè®¾ç½®é»‘ç™½åå•","date":"2019-09-02T10:15:00.000Z","updated":"2020-01-08T13:06:29.422Z","comments":true,"path":"2019/09/02/Nginxè®¾ç½®é»‘ç™½åå•/","link":"","permalink":"http://ltyeamin.github.io/2019/09/02/Nginxè®¾ç½®é»‘ç™½åå•/","excerpt":"","text":"åœ¨æ—¥å¸¸è¿ç»´å·¥ä½œä¸­ï¼Œä¼šç¢°åˆ°è¿™æ ·çš„éœ€æ±‚ï¼Œå¯¹äºŽä¸€äº›httpè¯·æ±‚åªå¯¹æŸäº›ipå¼€å‘ï¼Œå…¶ä»–çš„ipçš„å®¢æˆ·ç«¯éƒ½ä¸èƒ½è®¿é—®ã€‚ åœ¨æµ‹è¯•ä¹‹å‰æˆ‘åˆ—ä¸€ä¸‹æœ¬æ¬¡æµ‹è¯•çš„ç»ˆç«¯IPã€‚ å®¿ä¸»æœºDeepin Linux ï¼š 192.168.1.106 è™šæ‹ŸæœºWindows 10 : 192.168.1.107 ç§»åŠ¨Androidç»ˆç«¯æœº MIUI10: 192.168.1.100 Nginxæ˜¯åœ¨Deepinéƒ¨ç½²çš„ï¼ŒçŽ°åœ¨æˆ‘ä»¬å¯åŠ¨Nginx 12cd /usr/local/nginx/sbin./nginx 1å¯åŠ¨åŽï¼Œåœ¨å®¿ä¸»æœºéšä¾¿è®¿é—®ä¸€ä¸ªè¯·æ±‚(è¿™é‡Œæ˜¯æˆ‘ä¹‹å‰æ–‡ç« é…ç½®çš„é™æ€å›¾ç‰‡èµ„æºçš„è½¬å‘)ï¼Œæ¯”å¦‚http://127.0.0.1æˆ–http://192.168.1.106 æ­¤å¤–ï¼Œæˆ‘ä»¬ç”¨Androidæ‰‹æœºå’ŒWindows 10è™šæ‹ŸæœºåŒæ ·è®¿é—®http://192.168.1.106ä¹Ÿèƒ½è®¿é—®åˆ°ï¼Œæ‰‹æœºå’Œå®¿ä¸»æœºæ˜¯åŒä¸€ä¸ªè·¯ç”±å™¨ï¼Œè€Œè™šæ‹Ÿæœºç½‘ç»œæ˜¯æ¡¥æŽ¥æ¨¡å¼ã€‚æ‰€ä»¥æ˜¯åœ¨åŒä¸€å±€åŸŸç½‘éƒ½èƒ½å¤Ÿäº’é€šã€‚ æˆ‘ä»¬è®©æ‰‹æœºæ— æ³•è®¿é—®ï¼Œè®©è™šæ‹Ÿæœºå¯ä»¥é€šè¿‡ã€‚ åˆ©ç”¨allowã€denyå‚æ•°è¿›è¡Œè®¿é—®é™åˆ¶ æ›´æ”¹nginx.confã€‚ 12345678location / &#123; deny 192.168.1.100; #ç¦æ­¢IPä¸º192.168.1.100è®¿é—® allow all; # é™¤è¿‡ä¸Šè¿°é»‘åå•çš„é™åˆ¶å¤–ï¼Œå…è®¸å…¶ä»–IPè®¿é—® autoindex on; #å¼€å¯ç´¢å¼•åŠŸèƒ½ autoindex_exact_size off; # å…³é—­è®¡ç®—æ–‡ä»¶ç¡®åˆ‡å¤§å°ï¼ˆå•ä½bytesï¼‰ï¼Œåªæ˜¾ç¤ºå¤§æ¦‚å¤§å°ï¼ˆå•ä½kbã€mbã€gbï¼‰ autoindex_localtime on; # æ˜¾ç¤ºæœ¬æœºæ—¶é—´è€Œéž GMT æ—¶é—´ &#125; é‡æ–°åŠ è½½é…ç½®ã€‚ 1sudo ./nginx -s reload é»‘åå•é™åˆ¶æ•ˆæžœã€‚","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"http://ltyeamin.github.io/tags/Nginx/"}]},{"title":"Deepin Linuxå®‰è£…Docker","slug":"Deepin Linuxå®‰è£…Docker","date":"2019-09-01T04:45:00.000Z","updated":"2019-09-13T02:55:05.743Z","comments":true,"path":"2019/09/01/Deepin Linuxå®‰è£…Docker/","link":"","permalink":"http://ltyeamin.github.io/2019/09/01/Deepin Linuxå®‰è£…Docker/","excerpt":"","text":"æ™®é€šå®‰è£…ä¸€èˆ¬çš„Linux(Debianã€Unbantu)å‘è¡Œç‰ˆå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š 1wget -qO- https://get.docker.com/ | sh ä½†æ˜¯åœ¨Deepinæ‰§è¡Œè¿™å‘½ä»¤ä¼šå®‰è£…å¤±è´¥ã€‚ æŸ¥é˜…èµ„æ–™å¯ä»¥æ‰¾åˆ°dockeræ”¯æŒçš„Linuxå‘è¡Œç‰ˆã€‚ 123456789101112131415161718192021222324252627282930313233343536x86_64-centos-7x86_64-fedora-28x86_64-fedora-29x86_64-debian-jessiex86_64-debian-stretchx86_64-debian-busterx86_64-ubuntu-trustyx86_64-ubuntu-xenialx86_64-ubuntu-bionicx86_64-ubuntu-cosmics390x-ubuntu-xenials390x-ubuntu-bionics390x-ubuntu-cosmicppc64le-ubuntu-xenialppc64le-ubuntu-bionicppc64le-ubuntu-cosmicaarch64-ubuntu-xenialaarch64-ubuntu-bionicaarch64-ubuntu-cosmicaarch64-debian-jessieaarch64-debian-stretchaarch64-debian-busteraarch64-fedora-28aarch64-fedora-29aarch64-centos-7armv6l-raspbian-jessiearmv7l-raspbian-jessiearmv6l-raspbian-stretcharmv7l-raspbian-stretcharmv7l-debian-jessiearmv7l-debian-stretcharmv7l-debian-busterarmv7l-ubuntu-trustyarmv7l-ubuntu-xenialarmv7l-ubuntu-bionicarmv7l-ubuntu-cosmic æŸ¥çœ‹äº†æˆ‘çš„ç³»ç»Ÿçš„ç‰ˆæœ¬ï¼š 123456litong@LT:~$ cat /etc/issueDeepin GNU/Linux 15.10.2 \\n \\llitong@LT:~$ cat /etc/debian_version 9.0litong@LT:~$ uname -r4.15.0-29deepin-generic è¿™é‡Œæˆ‘çš„ç³»ç»Ÿæ˜¯Deepin 15.10.2ï¼Œè€Œæˆ‘çš„Deepin Linuxæ˜¯åŸºäºŽDebian 9.0ï¼Œå³ä¸Šè¿°çš„ç‰ˆæœ¬x86_64-debian-stretchè¿›è¡Œçš„æ·±åº¦å¼€å‘ï¼Œæˆ‘ç³»ç»ŸDebian 9.0æ˜¯sidç‰ˆçš„ï¼Œå¹¶ä¸æ˜¯releaseç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¸æ˜¯dockerå®˜æ–¹è®¤è¯çš„stableç‰ˆæœ¬ï¼Œæ•…ä¸æ”¯æŒDeepin Linuxã€‚ Deepinä¸Šå®‰è£…Docker è‹¥ä»¥å‰å®‰è£…è¿‡æ—§ç‰ˆæœ¬åˆ™å…ˆå¸è½½æ—§ç‰ˆæœ¬ï¼Œå¦‚æ²¡æœ‰å®‰è£…è¿‡ï¼Œåˆ™è·³è¿‡ï¼› 1sudo apt-get remove docker.io docker-engine å®‰è£…docker-ceä¸Žå¯†é’¥ç®¡ç†ä¸Žä¸‹è½½ç›¸å…³ä¾èµ–å·¥å…·ï¼› 1sudo apt-get install apt-transport-https ca-certificates curl python-software-properties software-properties-common ä¸‹è½½å¹¶å®‰è£…å¯†åŒ™å¹¶éªŒè¯ç§˜é’¥ï¼Œè‹¥æˆåŠŸåˆ™è¿”å›žOKï¼› 1curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add - å¦‚æžœä¸æˆåŠŸï¼ˆdockerå®˜æ–¹åœ¨å¢™å¤–ï¼Œéœ€ç§‘å­¦ä¸Šç½‘ï¼‰ï¼Œåˆ™ä½¿ç”¨å›½å†…é•œåƒæºå°†ä¸Šè¿°å‘½ä»¤æ¢æˆ 1curl -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/debian/gpg | sudo apt-key add - éªŒè¯ç§˜é’¥æ˜¯å¦å®‰è£…æˆåŠŸï¼› 123456litong@LT:~$ sudo apt-key fingerprint 0EBFCD88[sudo] litong çš„å¯†ç ï¼špub rsa4096 2017-02-22 [SCEA] 9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88uid [ æœªçŸ¥ ] Docker Release (CE deb) &lt;docker@docker.com&gt;sub rsa4096 2017-02-22 [S] å®‰è£…docker-ceç»„ä»¶ï¼› 1sudo apt-get install docker-ce æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸï¼› 123456789101112131415161718192021222324252627litong@LT:~$ docker versionClient: Docker Engine - Community Version: 19.03.2 API version: 1.40 Go version: go1.12.8 Git commit: 6a30dfca03 Built: Thu Aug 29 05:29:49 2019 OS/Arch: linux/amd64 Experimental: falseServer: Docker Engine - Community Engine: Version: 19.03.2 API version: 1.40 (minimum version 1.12) Go version: go1.12.8 Git commit: 6a30dfca03 Built: Thu Aug 29 05:28:23 2019 OS/Arch: linux/amd64 Experimental: false containerd: Version: 1.2.6 GitCommit: 894b81a4b802e4eb2a91d1ce216b8817763c29fb runc: Version: 1.0.0-rc8 GitCommit: 425e105d5a03fabd737a126ad93d62a9eeede87f docker-init: Version: 0.18.0 GitCommit: fec3683 æ™®é€šç”¨æˆ·è¿è¡Œdocker å®‰è£…dockerå®ŒæˆåŽï¼Œæ™®é€šç”¨æˆ·æ‰§è¡Œdockerå‘½ä»¤æ—¶å€™ï¼Œæœ‰å¯èƒ½ä¼šå‡ºçŽ°é”™è¯¯æç¤ºï¼š 1Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.26/images/json: dial unix /var/run/docker.sock: connect: permission denied é€šè¿‡æŸ¥é˜…èµ„æ–™ï¼Œåœ¨docker mannualæ‰¾åˆ°è§£å†³æ€è·¯ï¼š Manage Docker as a non-root userThe docker daemon binds to a Unix socket instead of a TCP port. By default that Unix socket is owned by the user root and other users can only access it using sudo. The docker daemon always runs as the root user.If you donâ€™t want to use sudo when you use the docker command, create a Unix group called docker and add users to it. When the docker daemon starts, it makes the ownership of the Unix socket read/writable by the docker group. å¤§æ¦‚ç¿»è¯‘äº†ä¸€ä¸‹ï¼Œæ„æ€æ˜¯ï¼šDockerè¿›ç¨‹ä½¿ç”¨Unix Socketè€Œä¸æ˜¯TCPç«¯å£ã€‚è€Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒUnix socketå±žäºŽrootç”¨æˆ·ï¼Œéœ€è¦rootæƒé™æ‰èƒ½è®¿é—®ã€‚ è§£å†³æ–¹æ¡ˆï¼š dockerå®ˆæŠ¤è¿›ç¨‹å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šé»˜è®¤èµ‹äºˆåå­—ä¸ºdockerçš„ç”¨æˆ·ç»„è¯»å†™Unix socketçš„æƒé™ï¼Œå› æ­¤åªè¦åˆ›å»ºdockerç”¨æˆ·ç»„ï¼Œå¹¶å°†å½“å‰ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ä¸­ï¼Œé‚£ä¹ˆå½“å‰ç”¨æˆ·å°±æœ‰æƒé™è®¿é—®Unix socketäº†ï¼Œè¿›è€Œä¹Ÿå°±å¯ä»¥æ‰§è¡Œdockerç›¸å…³å‘½ä»¤ã€‚ æ·»åŠ dockerç”¨æˆ·ç»„ï¼Œè‹¥å·²ç”±dockerç»„åˆ™è·³è¿‡ï¼› 1sudo groupadd docker å°†ç™»é™†ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ä¸­ï¼› 1sudo gpasswd -a $USER docker æ›´æ–°ç”¨æˆ·ç»„ï¼› 1newgrp docker æµ‹è¯•dockerå‘½ä»¤æ˜¯å¦å¯ä»¥ä½¿ç”¨sudoæ­£å¸¸ä½¿ç”¨ã€‚ 1docker ps ä½¿ç”¨é˜¿é‡Œäº‘dockeré•œåƒåŠ é€Ÿ è¿›å…¥é˜¿é‡Œäº‘æŽ§åˆ¶å°ï¼Œé€‰æ‹©å®¹å™¨é•œåƒæœåŠ¡ï¼Œå·¦è¾¹èœå•æœ€ä¸‹æ–¹çš„é•œåƒä¸­å¿ƒ-é•œåƒåŠ é€Ÿå™¨ï¼› æ ¹æ®é˜¿é‡Œäº‘æ“ä½œæ–‡æ¡£é€‰æ‹©ä¸åŒç³»ç»Ÿçš„é•œåƒåŠ é€Ÿå‘½ä»¤ï¼› 12345678sudo mkdir -p /etc/dockersudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'&#123; \"registry-mirrors\": [\"æ›¿æ¢ä½ çš„åŠ é€Ÿå™¨åœ°å€\"]&#125;EOFsudo systemctl daemon-reloadsudo systemctl restart docker","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://ltyeamin.github.io/tags/Docker/"}]},{"title":"ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³","slug":"ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³","date":"2019-08-11T14:22:13.000Z","updated":"2020-01-08T13:06:40.580Z","comments":true,"path":"2019/08/11/ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³/","link":"","permalink":"http://ltyeamin.github.io/2019/08/11/ç™¾åº¦ç½‘ç›˜ç ´é€Ÿè§£å†³/","excerpt":"","text":"ä»Šå¤©åœ¨å®¶ä¸‹è½½ä¸€ä¸ªåˆ«äººç»™æˆ‘çš„ç™¾åº¦ç½‘ç›˜èµ„æ–™ï¼Œèµ„æ–™å¤§å°å·®ä¸å¤š2ä¸ªG,ä½†æ˜¯æ‰“å¼€æµè§ˆå™¨å‘çŽ°æœ‰ä¸€ä»¶æ˜¯éžå¸¸çƒ¦èºçš„äº‹æƒ…:å°æ–‡ä»¶å¯ä»¥ç›´æŽ¥åœ¨æµè§ˆå™¨ç«¯è¿›è¡Œä¸‹è½½,ä½†æ˜¯å¤§æ–‡ä»¶å¿…é¡»ä¸‹è½½ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯è¿›è¡Œä¸‹è½½. æ²¡åŠžæ³•,æˆ‘åªå¥½åŽ»åº”ç”¨å•†åº—åŽ»ä¸‹è½½ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯,åœ¨æ·±åº¦åº”ç”¨å•†åº—è¿˜å¥½æ‰¾åˆ°äº†ç™¾åº¦ç½‘ç›˜çš„å®¢æˆ·ç«¯(å›½äº§Deepinç³»ç»Ÿç¬¬ä¸‰æ–¹è½¯ä»¶æºè¿˜æ˜¯æ¯”è¾ƒç»™åŠ›)ã€‚ç´§æŽ¥ç€æˆ‘å°±åœ¨å®¢æˆ·ç«¯ç«¯ç™»å½•ä¸‹è½½,å¦‚ä¸‹å›¾: ç”¨äº†å®¢æˆ·ç«¯ä¹‹åŽå‘çŽ°,ä¸‹è½½é€Ÿåº¦ç‰¹åˆ«æ…¢,äºŽæ˜¯åœ¨ç½‘ä¸Šæ‰¾åˆ°ä¸€äº›è§£å†³æ–¹æ¡ˆ:æµè§ˆå™¨æ’ä»¶+ç¬¬ä¸‰æ–¹ç½‘ç»œä¸‹è½½å·¥å…·(Motrix/Aria2)è¿›è¡Œä¸‹è½½.æˆ‘è¿™é‡Œé‡‡ç”¨Motrixæ–¹å¼,Aria2çš„æ–¹å¼è¯»è€…å¯è‡ªè¡Œç ”ç©¶å®‰è£…ä¸Žä½¿ç”¨ã€‚ å®‰è£…ä¸Žè®¾ç½® å®‰è£…æµè§ˆå™¨æ’ä»¶ Motrix:åœ¨Chromeæµè§ˆå™¨åº”ç”¨å•†åº—æœç´¢ç™¾åº¦ç½‘ç›˜åŠ©æ‰‹å¹¶ä¸‹è½½å®‰è£…ã€‚ Aria2: åœ¨Chromeæµè§ˆå™¨åº”ç”¨å•†åº—æœç´¢YAAW for Chromeå¹¶ä¸‹è½½å®‰è£…ã€‚ ç½‘ç»œä¸‹è½½å·¥å…·å®‰è£… Motrix: ä¸‹è½½åœ°å€ Aria2:ä¸‹è½½åœ°å€ ä½¿ç”¨ä½“éªŒ æ€»ç»“ç”±ä¸Šå¯çŸ¥,ç™¾åº¦äº‘ç½‘ç›˜ç¡®å®žåšäº†ç½‘é€Ÿé™åˆ¶ã€‚è™½ç„¶é€šè¿‡ç¬¬ä¸‰æ–¹ä¸‹è½½å·¥å…·æå‡äº†ä¸€äº›ä¸‹è½½é€Ÿåº¦,ä½†æ˜¯ä¸‹è½½è¿˜æ˜¯æœ‰ç‚¹æ…¢ï¼Œè¿™ä¸ªå…¶å®žå¯ä»¥ç†è§£çš„ï¼Œå› ä¸ºå½“ä¸‹çš„ç½‘ç»œæ˜¯é•¿åŸŽå®½å¸¦ï¼Œæ…¢ä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"å®žç”¨å·¥å…·åŠæŠ€å·§","slug":"å®žç”¨å·¥å…·åŠæŠ€å·§","permalink":"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/"}]},{"title":"é­”éƒ½ä¸Šæµ·","slug":"é­”éƒ½ä¸Šæµ·","date":"2019-06-09T04:57:10.000Z","updated":"2020-01-08T13:06:39.889Z","comments":true,"path":"2019/06/09/é­”éƒ½ä¸Šæµ·/","link":"","permalink":"http://ltyeamin.github.io/2019/06/09/é­”éƒ½ä¸Šæµ·/","excerpt":"","text":"ä¸Šæµ·å®£ä¼ ç‰‡ const dp0 = new DPlayer({ container: document.getElementById('dplayer0'), screenshot: true, video: { url: 'http://q3j85ddid.bkt.clouddn.com/videos/lvyou/shanghai2.mp4' }, subtitle: { url: 'webvtt.vtt' }, danmaku: { id: 'demo', api: 'https://api.prprpr.me/dplayer/' } }); const dp1 = new DPlayer({ container: document.getElementById('dplayer1'), screenshot: true, video: { url: 'http://q3j85ddid.bkt.clouddn.com/videos/lvyou/shanghai1.mp4' }, subtitle: { url: 'webvtt.vtt' }, danmaku: { id: 'demo', api: 'https://api.prprpr.me/dplayer/' } });","categories":[{"name":"others","slug":"others","permalink":"http://ltyeamin.github.io/categories/others/"}],"tags":[{"name":"è‡ªåª’ä½“","slug":"è‡ªåª’ä½“","permalink":"http://ltyeamin.github.io/tags/è‡ªåª’ä½“/"}]},{"title":"SambaæœåŠ¡å™¨æ­å»º","slug":"SambaæœåŠ¡å™¨æ­å»º","date":"2019-06-08T07:17:23.000Z","updated":"2020-01-08T13:06:37.355Z","comments":true,"path":"2019/06/08/SambaæœåŠ¡å™¨æ­å»º/","link":"","permalink":"http://ltyeamin.github.io/2019/06/08/SambaæœåŠ¡å™¨æ­å»º/","excerpt":"","text":"","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"Samba","slug":"Samba","permalink":"http://ltyeamin.github.io/tags/Samba/"}]},{"title":"è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜","slug":"è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜","date":"2019-06-04T14:22:13.000Z","updated":"2020-01-08T13:06:42.163Z","comments":true,"path":"2019/06/04/è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜/","link":"","permalink":"http://ltyeamin.github.io/2019/06/04/è®°å½•ä¸€æ¬¡Mavenä¸­é…ç½®æ–‡ä»¶å°¾å›žè½¦æ¢è¡Œå¼•å‘çš„é—®é¢˜/","excerpt":"","text":"é—®é¢˜æè¿°ä»Šå¤©æ‰“å¼€IDEAåŠ è½½é¡¹ç›®æ—¶ï¼Œå‘çŽ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„é—®é¢˜ï¼šé¡¹ç›®ä¾èµ–åŠä»£ç æ²¡ä»»ä½•é—®é¢˜ï¼ŒMavenä¾èµ–æ£€æµ‹çº¢è‰²æ³¢æµªçº¿ä¾æ—§å­˜åœ¨ã€‚è™½è¯´é¡¹ç›®ä¾æ—§èƒ½è·‘èµ·æ¥ä¸å½±å“å¼€å‘ï¼Œä½†æ˜¯mavenå‘½ä»¤æ“ä½œç”¨ä¸äº†ã€‚ é‡åˆ°é—®é¢˜åŽï¼Œæˆ‘å¤§åƒä¸€æƒŠã€‚æ˜¨å¤©çœ‹é¡¹ç›®è¿˜å¥½å¥½çš„ï¼Œä»Šå¤©å°±æŠ¥å‡ºæŸä¸ªé¡¹ç›®ä¸€ä¸ªä¾èµ–åŒ…æ‰¾ä¸åˆ°ã€‚å¯å®žé™…ä¸Šã€‚è¯¥ä¾èµ–åŒ…åœ¨æœ¬åœ°åº“æ˜¯å­˜åœ¨çš„ã€‚äºŽæ˜¯ï¼Œæˆ‘åˆ æŽ‰äº†ä¾èµ–åŒ…ï¼Œé‡æ–°è¿œç¨‹ä»“åº“ä¸‹è½½ã€‚ ç§æœå’Œä¸­å¤®ä»“åº“åˆ‡æ¢å¥½å‡ æ¬¡ï¼Œé‡æ–°ä¸‹è½½çš„ä¾èµ–åŒ…éƒ½æ˜¯å®Œæ•´æ²¡é—®é¢˜çš„ã€‚åŒæ ·Mavençš„Cleanæˆ–Installæ­é…ä½¿ç”¨å¤šæ¬¡ï¼Œè¿™è®©æˆ‘æ›´åŠ éƒé—·ï¼Œå¯»æ‰¾ç€è§£å†³æ–¹æ¡ˆã€‚ é—®é¢˜æŽ’æŸ¥ä¸Žè§£å†³è§£å†³ä¸€åœ¨é¡¹ç›®ä¸­çš„pom.xmlæ–‡ä»¶é‡ŒæŠŠçº¢è‰²æ³¢æµªçº¿çš„ä¾èµ–çº¿æ³¨é‡ŠæŽ‰ï¼Œç„¶åŽé‡æ–°åŠ è½½ä¹‹åŽï¼Œå°±ä¸ä¼šå‡ºçŽ°ã€‚ ç„¶åŽæ’¤é”€æ³¨é‡Šï¼Œç„¶åŽåŠ è½½å°±OKäº†ï¼Œç½‘ä¸Šä¸Šè¯´è¿™æ˜¯IDEAå¼€å‘å·¥å…·çš„BUGï¼Œè¿™è°æ™“å¾—ï¼Œå…ˆè¿™æ ·å¹²å§ã€‚ è§£å†³äºŒè§£å†³ä¸€è™½ç„¶è§£å†³äº†ä¾èµ–æ‰¾ä¸åˆ°çº¢è‰²æ³¢æµªçº¿é—®é¢˜ï¼Œä½†è¿˜æ˜¯é¢„ç•™ä¸€äº›é—®é¢˜ï¼Œé‚£å°±æ˜¯Mavençš„åŸºæœ¬å‘½ä»¤æ“ä½œç”¨ä¸äº†ã€‚æ¯”å¦‚æˆ‘ä½¿ç”¨äº†mvn cleanè¿›è¡Œæ“ä½œï¼ŒæŽ§åˆ¶å°åˆ™æŠ¥å‡ºä¸€æ®µæ—¥å¿—: 12345D:\\applications\\develop\\JDK8\\bin\\java.exe -Dmaven.multiModuleProjectDirectory=E:\\work\\code\\cashloan-api -Dmaven.home=D:\\applications\\develop\\apache-maven-3.6.1 -Dclassworlds.conf=D:\\applications\\develop\\apache-maven-3.6.1\\bin\\m2.conf \"-javaagent:D:\\applications\\develop\\IntelliJ IDEA 2019.1.3\\lib\\idea_rt.jar=57134:D:\\applications\\develop\\IntelliJ IDEA 2019.1.3\\bin\" -Dfile.encoding=UTF-8 -classpath D:\\applications\\develop\\apache-maven-3.6.1\\boot\\plexus-classworlds-2.6.0.jar org.codehaus.classworlds.Launcher -Didea.version2019.1.3 -s D:\\applications\\develop\\apache-maven-3.6.1\\conf\\settings.xml -Dmaven.repo.local=D:\\applications\\develop\\apache-maven-3.6.1\\repo install[ERROR] Error executing Maven.[ERROR] 2 problems were encountered while building the effective settings[FATAL] Non-parseable settings D:\\applications\\develop\\apache-maven-3.6.1\\conf\\settings.xml: in epilog non whitespace content is not allowed but got j (position: END_TAG seen ...&lt;/settings&gt;\\n\\nj... @300:2) @ D:\\applications\\develop\\apache-maven-3.6.1\\conf\\settings.xml, line 300, column 2[FATAL] Non-parseable settings D:\\applications\\develop\\apache-maven-3.6.1\\conf\\settings.xml: in epilog non whitespace content is not allowed but got j (position: END_TAG seen ...&lt;/settings&gt;\\n\\nj... @300:2) @ D:\\applications\\develop\\apache-maven-3.6.1\\conf\\settings.xml, line 300, column 2 é€šè¿‡æ—¥å¿—æˆ‘è§‰å¾—Mavençš„é…ç½®æ–‡ä»¶settings.xmlæœ‰é—®é¢˜ï¼Œç¬¬300è¡Œç¬¬2åˆ—æœ‰ç–‘æƒ‘ã€‚ æˆ‘æ‰“å¼€settings.xmlsæ–‡ä»¶ï¼Œæ²¡æœ‰300è¡Œï¼ŒæŸ¥çœ‹å¥½åƒå¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯ä»”ç»†é˜…è¯»æ—¥å¿—END_TAG seen â€¦\\n\\njâ€¦ @300:2ï¼Œè¿™ä¸ªè®©æˆ‘æœ‰æ‰€å¯ç¤ºï¼ŒçŒœæµ‹æ˜¯æ¢è¡Œçš„é—®é¢˜ã€‚ Whatï¼Ÿxmlæ–‡ä»¶å°¾ä¸èƒ½æœ‰å›žè½¦æ¢è¡Œï¼Œæˆ‘ä¸ä¿¡è¿™ä¸ªé‚ªï¼Œæˆ‘å°±åŽ»è¯•è¯•ã€‚ è¯•äº†ä»¥åŽï¼Œæ‰çŸ¥é“çœŸçš„æ˜¯è¿™ä¸ªé—®é¢˜ã€‚è¯¥æ­»ï¼Œæƒ³äº†ä¸€ä¸‹ï¼Œè‡ªå·±ä»Šå¤©æ—©ä¸Šæ”¹åŠ¨è¿‡é…ç½®æ–‡ä»¶ï¼Œå¯èƒ½åœ¨ä¿å­˜ä¹‹å‰æ•²äº†å›žè½¦ï¼ŒçœŸæ˜¯è¯¥æ­»ï¼ï¼ï¼ æ€»ç»“æœ‰å‘ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯å¦‚ä½•åŽ»å¡«å‘ã€‚","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"Maven","slug":"Maven","permalink":"http://ltyeamin.github.io/tags/Maven/"}]},{"title":"Windowsæœç´¢åˆ©å™¨","slug":"Windowsæœç´¢åˆ©å™¨","date":"2019-06-03T14:22:13.000Z","updated":"2020-01-08T13:06:41.517Z","comments":true,"path":"2019/06/03/Windowsæœç´¢åˆ©å™¨/","link":"","permalink":"http://ltyeamin.github.io/2019/06/03/Windowsæœç´¢åˆ©å™¨/","excerpt":"","text":"å‰å‡ å‘¨å¿™äºŽæ¢å·¥ä½œï¼Œåšå®¢æ²¡æœ‰å¤ªå¤šçš„æ›´æ–°ã€‚ä»Šå¤©åˆšå¥½å…¥èŒæ–°å…¬å¸çš„ç¬¬ä¸€å¤©ï¼ŒåŠžå…¬ç”µè„‘æ˜¯å°å¼DELL+Intel i5ä¸ƒä»£(å››æ ¸å››çº¿ç¨‹ï¼Œä¸»é¢‘3.1HZï¼Œç¿é¢‘3.6HZ)+8G DDR4ã€‚ç¬”è€…å‰å…¬å¸åŠžå…¬çŽ¯å¢ƒæ˜¯Mac Pro + Mac OS X 10ï¼Œå®¶é‡Œæ—¥å¸¸çŽ¯å¢ƒæ˜¯è”æƒ³Lenovo+Deepin Linuxã€‚å¯ä»¥è¯´å·²ç»ä¸€å¹´å¤šæ²¡æŽ¥è§¦Windowsç³»ç»Ÿäº†ï¼ŒçŽ°åœ¨ä½¿ç”¨èµ·æ¥å¤šå°‘æœ‰äº›ä¸ä¹ æƒ¯ï¼Œä¸»è¦æ˜¯å„ä¸ªæ“ä½œç³»ç»Ÿæ“ä½œç†å¿µä¸åŒã€‚ æˆ‘å‡ ä¹Žæ¯å¤©éƒ½åœ¨ä½¿ç”¨è®¡ç®—æœºè¿›è¡Œå·¥ä½œå’Œä¸ªäººç”Ÿæ´»ï¼Œé‚£ä¹ˆæˆ‘å¯èƒ½ä¼šåœ¨è®¡ç®—æœºä¸Šæ‹¥æœ‰å¤§é‡æ–‡ä»¶ï¼Œç…§ç‰‡ï¼Œæ–‡ä»¶å¤¹ï¼Œæ–‡æ¡£å’Œå…¶ä»–æ•°æ®ã€‚å¦‚æžœæ‰¾åˆ°ä¸€ä¸ªç‰¹å®šçš„æ–‡ä»¶æ˜¯éžå¸¸ç—›è‹¦çš„ã€‚å¹¸è¿çš„æ˜¯ï¼ŒMacä¸­çš„Spotlightæ¨¡å¼å¯è®©æˆ‘åœ¨Macä¸Šæœç´¢å‡ ä¹Žä»»ä½•å†…å®¹ï¼Œä»Žè€Œè½»æ¾æ‰¾åˆ°æ‚¨éœ€è¦çš„ä»»ä½•å†…å®¹ã€‚å¦‚ä¸‹å›¾ï¼š æ­£æ˜¯å› ä¸ºä¹ æƒ¯äº†åœ¨Mac OS Xé€šè¿‡Spotlightæ¨¡å¼è¿›è¡Œæœç´¢åº”ç”¨ã€æ–‡ä»¶ï¼Œæ‰€ä»¥ä»Šå¤©è£…æœºçš„æ—¶å€™æ‰¾äº†ä¸€ä¸‹Windowsçš„æ›¿ä»£æ–¹æ¡ˆã€‚ æ–‡ä»¶æœç´¢ç¥žå™¨-EverythingåŸºæœ¬ç®€ä»‹åŸºäºŽåç§°å¿«é€Ÿå®šä½æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚ è½»é‡å®‰è£…æ–‡ä»¶ å¹²å‡€ç®€æ´çš„ç”¨æˆ·ç•Œé¢ å¿«é€Ÿæ–‡ä»¶ç´¢å¼• å¿«é€Ÿæœç´¢ æœ€å°èµ„æºä½¿ç”¨ ä¾¿äºŽæ–‡ä»¶åˆ†äº« å®žæ—¶æ›´æ–° æ›´å¤šâ€¦ ä¸­æ–‡å®˜ç½‘ ä¸‹è½½åœ°å€ ä¸­æ–‡æ–‡æ¡£ ä½¿ç”¨ä½“éªŒ Spotlightå¿«é€Ÿæ£€ç´¢æ›¿ä»£æ–¹æ¡ˆ-WoxåŸºæœ¬ç®€ä»‹Woxæ˜¯ä¸€æ¬¾å›½äº§å¼€æºå…è´¹çš„è½¯ä»¶å¿«æ·å¯åŠ¨å·¥å…·ï¼Œå®ƒå¯ä»¥å¿«é€Ÿæœç´¢å¹¶æ‰“å¼€ä½ ç”µè„‘ä¸Šçš„ç¨‹åºã€æ–‡ä»¶ã€æŸ¥è¯ç¿»è¯‘ã€ç½‘ç«™æŸ¥æ‰¾ç­‰å…¶ä»–æ“ä½œï¼ŒåŒæ—¶è¿˜æ”¯æŒæ’ä»¶å®‰è£…ã€‚ Tips: å¦‚æžœä½ éœ€è¦ç”¨åˆ°æ–‡ä»¶çš„å¿«é€Ÿæœç´¢ã€æ‰“å¼€åŠŸèƒ½ï¼Œéœ€è¦é¢„å…ˆå®‰è£…Everythingã€‚ å®˜ç½‘ ä¸‹è½½åœ°å€ ä¸­æ–‡æ–‡æ¡£ Githubåœ°å€ ä½¿ç”¨ä½“éªŒå¯åŠ¨æ–¹å¼å¿«æ·é”®å¯åŠ¨æŒ‰ä¸‹ã€Alt+Spaceã€‘å³å¯ï¼Œå¯ä»¥åœ¨settingé‡Œè®¾ç½®ã€‚æˆ‘è®¾ç½®çš„å¿«æ·é”®è®¾ç½®ä¸ºã€Ctrl+Spaceã€‘,å’ŒMacå¿«æ·é”®ä¿æŒä¸€è‡´ã€‚ è®¾ç½®åˆšåˆšä½¿ç”¨Woxçš„ç”¨æˆ·ï¼Œå¸¸å¸¸ä¼šæ‰¾ä¸åˆ°Woxçš„è®¾ç½®é¡µé¢ã€‚ç›®å‰ï¼Œç”¨æˆ·æœ‰ä¸¤ç§æ–¹å¼æ‰“å¼€è®¾ç½®ç•Œé¢ï¼š é€šè¿‡settingå‘½ä»¤ï¼ˆæŽ¨èï¼‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç›´æŽ¥è¾“å…¥settingç„¶åŽé€‰æ‹©ç¬¬ä¸€é¡¹ï¼› é€šè¿‡å³é”®æ‰˜ç›˜å›¾æ ‡ã€‚ åœ¨settingé‡Œï¼Œå¯ä»¥è®¾ç½®ä¸»é¢˜ã€çª—å£è®¾ç½®ã€å¿«æ·é”®è®¾ç½®ã€æœç´¢è®¾ç½®ã€æ’ä»¶è®¾ç½®ï¼Œè¯»è€…å¯æ ¹æ®è‡ªèº«éœ€æ±‚è¿›è¡Œç›¸åº”çš„è®¾ç½®å³å¯ã€‚ åº”ç”¨æœç´¢ æµè§ˆå™¨æœç´¢ å‘½ä»¤ç»ˆç«¯æ‰§è¡Œæ›¿æ¢Windowsçš„å‘½ä»¤ç»ˆç«¯ï¼Œæ›¿æ¢Windowsé”®+Ré”®ã€‚","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"å®žç”¨å·¥å…·åŠæŠ€å·§","slug":"å®žç”¨å·¥å…·åŠæŠ€å·§","permalink":"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/"}]},{"title":"Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜","slug":"Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜","date":"2019-05-28T01:27:55.000Z","updated":"2019-05-29T14:03:53.000Z","comments":true,"path":"2019/05/28/Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜/","link":"","permalink":"http://ltyeamin.github.io/2019/05/28/Spring Cloud-Feignä½¿ç”¨æ—¶èŽ·å–apolloé…ç½®å¤±è´¥é—®é¢˜/","excerpt":"","text":"é—®é¢˜æè¿°ä»Šå¤©å‘çŽ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„äº‹æƒ…ï¼Œå°±æ˜¯æœ¬åœ°å†™æ­»çš„FeignClientçš„urlå±žæ€§é…ç½®è¿›è¡Œfeignè°ƒç”¨æ²¡é—®é¢˜ï¼Œä½†æ˜¯æŠŠé…ç½®è¿ç§»åˆ°Ctrip Apolloé…ç½®ä¸­å¿ƒfeignè°ƒç”¨å°±æœ‰é—®é¢˜ã€‚ ä»£ç ç‰‡æ®µ123456789101112131415@FeignClient(url = \"$&#123;api.service.baseUrl&#125;\",name = \"sms-service\")public interface SmsClient &#123; /** * å‘é€çŸ­ä¿¡éªŒè¯ç ,4ä½æ•°å­—,5åˆ†é’Ÿæœ‰æ•ˆ */ @PostMapping(\"xxxx/xxxxx\") ApiResult&lt;String&gt; sendSmsVerifyCode(String xxx, Integer xxx) ; /** * æ ¡éªŒçŸ­ä¿¡éªŒè¯ç  */ @PostMapping(\"xxxx/xxxxx\") ApiResult&lt;String&gt; checkSmsVerifyCode(String xxx, Integer codeType, String xxx) ;&#125; æŠ¥é”™æ—¥å¿—123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115feign.RetryableException: $&#123;api.service.baseUrl&#125; executing POST http://$&#123;api.service.baseUrl&#125;/xxx/xxx?xxx=18800009999&amp;xxx=8 at feign.FeignException.errorExecuting(FeignException.java:65) at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:105) at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:77) at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:102) at com.sun.proxy.$Proxy148.sendSmsVerifyCode(Unknown Source) at com.yimi.darwin.biz.open.copartner.service.impl.SmsServiceImpl.sendVerifyCode(SmsServiceImpl.java:33) at com.yimi.darwin.biz.open.copartner.controller.SmsController.sendVerifyCode(SmsController.java:62) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at com.yimi.tools.filter.RequestAndResponseLoggingFilter.doFilterWrapped(RequestAndResponseLoggingFilter.java:55) at com.yimi.tools.filter.RequestAndResponseLoggingFilter.doFilterInternal(RequestAndResponseLoggingFilter.java:47) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.cloud.sleuth.instrument.web.ExceptionLoggingFilter.doFilter(ExceptionLoggingFilter.java:48) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at brave.servlet.TracingFilter.doFilter(TracingFilter.java:86) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:65) at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132) at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292) at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81) at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138) at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135) at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272) at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81) at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104) at io.undertow.server.Connectors.executeRootHandler(Connectors.java:336) at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread.run(Thread.java:748)Caused by: java.net.UnknownHostException: $&#123;api.service.baseUrl&#125; at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184) at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) at java.net.Socket.connect(Socket.java:589) at sun.net.NetworkClient.doConnect(NetworkClient.java:175) at sun.net.www.http.HttpClient.openServer(HttpClient.java:463) at sun.net.www.http.HttpClient.openServer(HttpClient.java:558) at sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242) at sun.net.www.http.HttpClient.New(HttpClient.java:339) at sun.net.www.http.HttpClient.New(HttpClient.java:357) at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220) at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156) at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050) at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984) at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1564) at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492) at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480) at feign.Client$Default.convertResponse(Client.java:150) at feign.Client$Default.execute(Client.java:72) at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:91) at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:55) at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:98) ... 89 common frames omitted é—®é¢˜åˆ†æžä¸Žè§£å†³æˆ‘ä»¬ä»ŽæŠ¥é”™æ—¥å¿—å‘çŽ°ï¼Œapi.service.baseUrlè¿™ä¸ªé…ç½®æ³¨å…¥å¤±è´¥ã€‚ æˆ‘ä¸ºäº†éªŒè¯ï¼Œä¸“é—¨å†™ä¸€ä¸ªæµ‹è¯•æŽ¥å£ï¼ŒæŸ¥çœ‹é…ç½®åˆ°åº•æœ‰æ²¡æœ‰åŠ è½½ï¼š 1234567@Value(\"$&#123;api.service.baseUrl&#125;\")private String url;@GetMapping(\"/url\")public String getUrl() &#123; return url;&#125; é€šè¿‡è°ƒç”¨localhost:8301/urlï¼ŒæŽ¥å£å“åº”äº†ç»“æžœï¼šhttps://xxx.com/, æ­¤æ—¶ï¼Œæˆ‘ä»¬å‘çŽ°ï¼Œé¡¹ç›®ä¸­api.service.baseUrlå´èƒ½æ‹¿åˆ°å€¼ï¼Œè¯´æ˜Žæ•´ä¸ªé¡¹ç›®é…ç½®æ˜¯OKçš„ã€‚ ç´§æŽ¥ç€æˆ‘ä»¬åŽ»apolloå®˜æ–¹çš„githubä¸Šæ‰¾ç­”æ¡ˆï¼Œä¹Ÿæ˜¯åœ¨å®˜æ–¹issueå’Œwikiæ‰¾åˆ°ç­”æ¡ˆçš„ã€‚ å½“é¡¹ç›®å¯åŠ¨æ—¶å€™ï¼Œä¼šæ‰«æ@FeignClientæ³¨è§£ï¼Œæ‰«æçš„è¿‡ç¨‹ä¸­ï¼Œä¼šæ³¨å…¥urlçš„å€¼ã€‚ä½†æ­¤æ—¶apolloé…ç½®æ˜¯åœ¨Feignæ‰«æåŽåŠ è½½çš„ï¼Œå…¶å®žè§£å†³æ–¹æ¡ˆå°±æ˜¯è®©apolloå…ˆäºŽfeignçš„æ‰«æåŠ è½½ï¼Œå³apolloé…ç½®é¥¥é¥¿åŠ è½½ã€‚ 1234# will inject &apos;application&apos; namespace in bootstrap phaseapollo.bootstrap.enabled = true# put apollo initialization before logging system initializationapollo.bootstrap.eagerLoad.enabled=true Spring Booté™¤äº†æ”¯æŒä¸Šè¿°ä¸¤ç§é›†æˆæ–¹å¼ä»¥å¤–ï¼Œè¿˜æ”¯æŒé€šè¿‡application.properties/bootstrap.propertiesæ¥é…ç½®ï¼Œè¯¥æ–¹å¼èƒ½ä½¿é…ç½®åœ¨æ›´æ—©çš„é˜¶æ®µæ³¨å…¥ï¼Œæ¯”å¦‚ä½¿ç”¨@ConditionalOnPropertyçš„åœºæ™¯æˆ–è€…æ˜¯æœ‰ä¸€äº›spring-boot-starteråœ¨å¯åŠ¨é˜¶æ®µå°±éœ€è¦è¯»å–é…ç½®åšä¸€äº›äº‹æƒ…ï¼ˆå¦‚dubbo-spring-boot-projectï¼‰ï¼Œæ‰€ä»¥å¯¹äºŽSpring BootçŽ¯å¢ƒå»ºè®®é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥æŽ¥å…¥Apollo(éœ€è¦0.10.0åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ã€‚ ä»Ž1.2.0ç‰ˆæœ¬å¼€å§‹ï¼Œå¦‚æžœå¸Œæœ›æŠŠæ—¥å¿—ç›¸å…³çš„é…ç½®ï¼ˆå¦‚logging.level.root=infoæˆ–logback-spring.xmlä¸­çš„å‚æ•°ï¼‰ä¹Ÿæ”¾åœ¨Apolloç®¡ç†ï¼Œé‚£ä¹ˆå¯ä»¥é¢å¤–é…ç½®apollo.bootstrap.eagerLoad.enabled=trueæ¥ä½¿Apolloçš„åŠ è½½é¡ºåºæ”¾åˆ°æ—¥å¿—ç³»ç»ŸåŠ è½½ä¹‹å‰ï¼Œä¸è¿‡è¿™ä¼šå¯¼è‡´Apolloçš„å¯åŠ¨è¿‡ç¨‹æ— æ³•é€šè¿‡æ—¥å¿—çš„æ–¹å¼è¾“å‡º(å› ä¸ºæ‰§è¡ŒApolloåŠ è½½çš„æ—¶å€™ï¼Œæ—¥å¿—ç³»ç»ŸåŽ‹æ ¹æ²¡æœ‰å‡†å¤‡å¥½å‘¢ï¼æ‰€ä»¥åœ¨Apolloä»£ç ä¸­ä½¿ç”¨Slf4jçš„æ—¥å¿—è¾“å‡ºä¾¿æ²¡æœ‰ä»»ä½•å†…å®¹)ï¼Œæ›´å¤šä¿¡æ¯å¯ä»¥å‚è€ƒPR 1614ã€‚å‚è€ƒé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š # will inject â€˜applicationâ€™ namespace in bootstrap phase apollo.bootstrap.enabled = true # put apollo initialization before logging system initialization apollo.bootstrap.eagerLoad.enabled=true å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœæ‚¨çš„apollo clientä¾èµ–ç‰ˆæœ¬æ˜¯1.1.0åŠä»¥ä¸‹çš„ï¼ŒåŠ äº†ä»¥ä¸Šçš„é…ç½®ï¼Œå‘çŽ°æ˜¯æ²¡æœ‰ç”¨çš„ã€‚æˆ‘ä»¬å¯ä»¥å°è¯•æ‰‹åŠ¨åŽ»åŠ è½½ã€‚ 12345678910111213import com.ctrip.framework.apollo.ConfigService;public class ClientUrlConfig &#123; public void init() &#123; this.initSet(\"æ­¤å¤„å†™ä½ éœ€è¦æå‰åˆå§‹åŒ–çš„key\"); &#125; private void initSet(String... keys) &#123; for (String key : keys) &#123; String val = ConfigService.getAppConfig().getProperty(key, null); System.setProperty(key, val); &#125; &#125;&#125; ç„¶åŽåœ¨SpringApplication.run() ä¹‹å‰åŠ è½½ 1234public static void main(String[] args) &#123; new ClientUrlConfig().init(); SpringApplication.run(Application.class, args);&#125; æ‰‹åŠ¨åŠ è½½åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ ${api.service.baseUrl}è¿›è¡ŒåŠ è½½ä»¥åŠFeignè°ƒç”¨äº†ã€‚","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"Spring Cloud","slug":"Spring-Cloud","permalink":"http://ltyeamin.github.io/tags/Spring-Cloud/"}]},{"title":"èŠèŠJavaé”çš„é‚£äº›äº‹","slug":"èŠèŠJavaé”çš„é‚£äº›äº‹","date":"2019-04-02T13:12:49.000Z","updated":"2019-05-29T14:03:52.000Z","comments":true,"path":"2019/04/02/èŠèŠJavaé”çš„é‚£äº›äº‹/","link":"","permalink":"http://ltyeamin.github.io/2019/04/02/èŠèŠJavaé”çš„é‚£äº›äº‹/","excerpt":"","text":"æ˜¨å¤©æˆ‘ä»¬å­¦ä¹ äº†HashMapç›¸å…³çš„æºç ï¼Œæœ¬æ¥æ‰“ç®—ä»Šå¤©å†™ConcurrentHashMapæºç åˆ†æžï¼Œä½†æ˜¯ConcurrentHashMapæ¶‰åŠåˆ°ä¸€äº›é”çš„æ¦‚å¿µï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¶Šæ˜¯åº•å±‚çš„ä¸œè¥¿ï¼Œè¶Šæ˜¯è¦å¥½å¥½ç ”ç©¶ä¸€ç•ªï¼Œä»Šå¤©è¶æ­¤æœºä¼šå¥½å¥½çš„ç³»ç»Ÿå­¦ä¹ ä¸€ä¸‹ã€‚ é‚£ä¹ˆä»Šå¤©å°±æ¥èŠèŠJavaé”çš„é‚£äº›äº‹æƒ…ã€‚Javaä¸ºæˆ‘ä»¬æä¾›äº†ç§ç±»ä¸°å¯Œçš„é”ï¼Œæ¯ç§é”å› å…¶ç‰¹æ€§çš„ä¸åŒï¼Œåœ¨é€‚å½“çš„åœºæ™¯ä¸‹èƒ½å¤Ÿå±•çŽ°å‡ºéžå¸¸é«˜çš„æ•ˆçŽ‡ã€‚æœ¬æ–‡æ—¨åœ¨å¯¹é”ç›¸å…³æºç ï¼ˆæœ¬æ–‡ä¸­çš„æºç æ¥è‡ªJDK 8å’ŒNetty 3.10.6ï¼‰ã€ä½¿ç”¨åœºæ™¯è¿›è¡Œä¸¾ä¾‹ï¼Œä¸ºè¯»è€…ä»‹ç»ä¸»æµé”çš„çŸ¥è¯†ç‚¹ï¼Œä»¥åŠä¸åŒçš„é”çš„é€‚ç”¨åœºæ™¯ã€‚ Javaä¸­å¾€å¾€æ˜¯æŒ‰ç…§æ˜¯å¦å«æœ‰æŸä¸€ç‰¹æ€§æ¥å®šä¹‰é”ï¼Œæˆ‘ä»¬é€šè¿‡ç‰¹æ€§å°†é”è¿›è¡Œåˆ†ç»„å½’ç±»ï¼Œå†ä½¿ç”¨å¯¹æ¯”çš„æ–¹å¼è¿›è¡Œä»‹ç»ï¼Œå¸®åŠ©å¤§å®¶æ›´å¿«æ·çš„ç†è§£ç›¸å…³çŸ¥è¯†ã€‚ä¸‹é¢ç»™å‡ºæœ¬æ–‡å†…å®¹çš„æ€»ä½“åˆ†ç±»ç›®å½•ï¼š ä¹è§‚é” VS æ‚²è§‚é”ä¹è§‚é”ä¸Žæ‚²è§‚é”æ˜¯ä¸€ç§å¹¿ä¹‰ä¸Šçš„æ¦‚å¿µï¼Œä½“çŽ°äº†çœ‹å¾…çº¿ç¨‹åŒæ­¥çš„ä¸åŒè§’åº¦ã€‚åœ¨Javaå’Œæ•°æ®åº“ä¸­éƒ½æœ‰æ­¤æ¦‚å¿µå¯¹åº”çš„å®žé™…åº”ç”¨ã€‚ å…ˆè¯´æ¦‚å¿µã€‚å¯¹äºŽåŒä¸€ä¸ªæ•°æ®çš„å¹¶å‘æ“ä½œï¼Œæ‚²è§‚é”è®¤ä¸ºè‡ªå·±åœ¨ä½¿ç”¨æ•°æ®çš„æ—¶å€™ä¸€å®šæœ‰åˆ«çš„çº¿ç¨‹æ¥ä¿®æ”¹æ•°æ®(æ¯”è¾ƒæ‚²è§‚)ï¼Œå› æ­¤åœ¨èŽ·å–æ•°æ®çš„æ—¶å€™ä¼šå…ˆåŠ é”ï¼Œç¡®ä¿æ•°æ®ä¸ä¼šè¢«åˆ«çš„çº¿ç¨‹ä¿®æ”¹ã€‚Javaä¸­ï¼Œsynchronizedå…³é”®å­—å’ŒLockçš„å®žçŽ°ç±»éƒ½æ˜¯æ‚²è§‚é”ã€‚ è€Œä¹è§‚é”è®¤ä¸ºè‡ªå·±åœ¨ä½¿ç”¨æ•°æ®æ—¶ä¸ä¼šæœ‰åˆ«çš„çº¿ç¨‹ä¿®æ”¹æ•°æ®ï¼Œæ‰€ä»¥ä¸ä¼šæ·»åŠ é”ï¼Œåªæ˜¯åœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™åŽ»åˆ¤æ–­ä¹‹å‰æœ‰æ²¡æœ‰åˆ«çš„çº¿ç¨‹æ›´æ–°äº†è¿™ä¸ªæ•°æ®ã€‚å¦‚æžœè¿™ä¸ªæ•°æ®æ²¡æœ‰è¢«æ›´æ–°ï¼Œå½“å‰çº¿ç¨‹å°†è‡ªå·±ä¿®æ”¹çš„æ•°æ®æˆåŠŸå†™å…¥ã€‚å¦‚æžœæ•°æ®å·²ç»è¢«å…¶ä»–çº¿ç¨‹æ›´æ–°ï¼Œåˆ™æ ¹æ®ä¸åŒçš„å®žçŽ°æ–¹å¼æ‰§è¡Œä¸åŒçš„æ“ä½œï¼ˆä¾‹å¦‚æŠ¥é”™æˆ–è€…è‡ªåŠ¨é‡è¯•ï¼‰ã€‚ ä¹è§‚é”åœ¨Javaä¸­æ˜¯é€šè¿‡ä½¿ç”¨æ— é”ç¼–ç¨‹æ¥å®žçŽ°ï¼Œæœ€å¸¸é‡‡ç”¨çš„æ˜¯CASç®—æ³•ï¼ŒJavaåŽŸå­ç±»ä¸­çš„é€’å¢žæ“ä½œå°±é€šè¿‡CASè‡ªæ—‹å®žçŽ°çš„ã€‚ æ ¹æ®ä»Žä¸Šé¢çš„æ¦‚å¿µæè¿°æˆ‘ä»¬å¯ä»¥å‘çŽ°ï¼š æ‚²è§‚é”é€‚åˆå†™æ“ä½œå¤šçš„åœºæ™¯ï¼Œå…ˆåŠ é”å¯ä»¥ä¿è¯å†™æ“ä½œæ—¶æ•°æ®æ­£ç¡®ã€‚ ä¹è§‚é”é€‚åˆè¯»æ“ä½œå¤šçš„åœºæ™¯ï¼Œä¸åŠ é”çš„ç‰¹ç‚¹èƒ½å¤Ÿä½¿å…¶è¯»æ“ä½œçš„æ€§èƒ½å¤§å¹…æå‡ã€‚ åªè¯´æ¦‚å¿µæœ‰äº›æŠ½è±¡ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ä¹è§‚é”å’Œæ‚²è§‚é”çš„è°ƒç”¨æ–¹å¼ç¤ºä¾‹ï¼š 1234567891011121314151617181920// ------------------------- æ‚²è§‚é”çš„è°ƒç”¨æ–¹å¼ -------------------------// synchronizedpublic void testMethod() &#123; synchronized &#123; // æ“ä½œåŒæ­¥èµ„æº &#125;&#125;// ReentrantLock// éœ€è¦ä¿è¯å¤šä¸ªçº¿ç¨‹ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªé”private ReentrantLock lock = new ReentrantLock(); public void modifyPublicResources() &#123; lock.lock(); // æ“ä½œåŒæ­¥èµ„æº lock.unlock();&#125;// ------------------------- ä¹è§‚é”çš„è°ƒç”¨æ–¹å¼ -------------------------// éœ€è¦ä¿è¯å¤šä¸ªçº¿ç¨‹ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªprivate AtomicInteger atomicInteger = new AtomicInteger();// æ‰§è¡Œè‡ªå¢ž1AtomicInteger atomicInteger.incrementAndGet(); é€šè¿‡è°ƒç”¨æ–¹å¼ç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å‘çŽ°æ‚²è§‚é”åŸºæœ¬éƒ½æ˜¯åœ¨æ˜¾å¼çš„é”å®šä¹‹åŽå†æ“ä½œåŒæ­¥èµ„æºï¼Œè€Œä¹è§‚é”åˆ™ç›´æŽ¥åŽ»æ“ä½œåŒæ­¥èµ„æºã€‚é‚£ä¹ˆï¼Œä¸ºä½•ä¹è§‚é”èƒ½å¤Ÿåšåˆ°ä¸é”å®šåŒæ­¥èµ„æºä¹Ÿå¯ä»¥æ­£ç¡®çš„å®žçŽ°çº¿ç¨‹åŒæ­¥å‘¢ï¼Ÿæˆ‘ä»¬é€šè¿‡ä»‹ç»ä¹è§‚é”çš„ä¸»è¦å®žçŽ°æ–¹å¼ â€œCASâ€ çš„æŠ€æœ¯åŽŸç†æ¥ä¸ºå¤§å®¶è§£æƒ‘ã€‚ CASå…¨ç§° Compare And Swapï¼ˆæ¯”è¾ƒä¸Žäº¤æ¢ï¼‰ï¼Œæ˜¯ä¸€ç§æ— é”ç®—æ³•ã€‚åœ¨ä¸ä½¿ç”¨é”ï¼ˆæ²¡æœ‰çº¿ç¨‹è¢«é˜»å¡žï¼‰çš„æƒ…å†µä¸‹å®žçŽ°å¤šçº¿ç¨‹ä¹‹é—´çš„å˜é‡åŒæ­¥ã€‚java.util.concurrentåŒ…ä¸­çš„åŽŸå­ç±»å°±æ˜¯é€šè¿‡CASæ¥å®žçŽ°äº†ä¹è§‚é”ã€‚ CASç®—æ³•æ¶‰åŠåˆ°ä¸‰ä¸ªæ“ä½œæ•°ï¼š éœ€è¦è¯»å†™çš„å†…å­˜å€¼ Vï¼› è¿›è¡Œæ¯”è¾ƒçš„å€¼ Aï¼› è¦å†™å…¥çš„æ–°å€¼ Bã€‚ å½“ä¸”ä»…å½“ V å†…å­˜å€¼æŒ‡å‘çš„å€¼ç­‰äºŽ A æ—¶ï¼ŒCASé€šè¿‡åŽŸå­æ–¹å¼ç”¨æ–°å€¼Bæ¥æ›´æ–°Vçš„å€¼ï¼ˆâ€œæ¯”è¾ƒ+æ›´æ–°â€æ•´ä½“æ˜¯ä¸€ä¸ªåŽŸå­æ“ä½œï¼‰ï¼Œå¦åˆ™ä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œâ€œæ›´æ–°â€æ˜¯ä¸€ä¸ªä¸æ–­é‡è¯•çš„æ“ä½œã€‚ ä¹‹å‰æåˆ°java.util.concurrentåŒ…ä¸­çš„åŽŸå­ç±»ï¼Œå°±æ˜¯é€šè¿‡CASæ¥å®žçŽ°äº†ä¹è§‚é”ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›å…¥åŽŸå­ç±»AtomicIntegerçš„æºç ï¼Œçœ‹ä¸€ä¸‹AtomicIntegerçš„å®šä¹‰ï¼š 12345678910111213141516public class AtomicInteger extends Number implements java.io.Serializable &#123; private static final long serialVersionUID = 6214790243416807050L; // setup to use Unsafe.compareAndSwapInt for updates private static final Unsafe unsafe = Unsafe.getUnsafe(); private static final long valueOffset; static &#123; try &#123; valueOffset = unsafe.objectFieldOffset (AtomicInteger.class.getDeclaredField(&quot;value&quot;)); &#125; catch (Exception ex) &#123; throw new Error(ex); &#125; &#125; private volatile int value; &#125; æ ¹æ®å®šä¹‰æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå„å±žæ€§çš„ä½œç”¨ï¼š unsafeï¼š èŽ·å–å¹¶æ“ä½œå†…å­˜çš„æ•°æ®ã€‚ valueOffsetï¼š å­˜å‚¨valueåœ¨AtomicIntegerä¸­çš„åç§»é‡ã€‚ valueï¼š å­˜å‚¨AtomicIntegerçš„intå€¼ï¼Œè¯¥å±žæ€§éœ€è¦å€ŸåŠ©volatileå…³é”®å­—ä¿è¯å…¶åœ¨çº¿ç¨‹é—´æ˜¯å¯è§çš„ã€‚ æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŸ¥çœ‹AtomicIntegerçš„è‡ªå¢žå‡½æ•°incrementAndGet()çš„æºç æ—¶ï¼Œå‘çŽ°è‡ªå¢žå‡½æ•°åº•å±‚è°ƒç”¨çš„æ˜¯unsafe.getAndAddInt()ã€‚ä½†æ˜¯ç”±äºŽJDKæœ¬èº«åªæœ‰Unsafe.classï¼Œåªé€šè¿‡classæ–‡ä»¶ä¸­çš„å‚æ•°åï¼Œå¹¶ä¸èƒ½å¾ˆå¥½çš„äº†è§£æ–¹æ³•çš„ä½œç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡OpenJDK 8 æ¥æŸ¥çœ‹Unsafeçš„æºç ï¼š 123456789101112131415161718192021222324/ ------------------------- JDK 8 -------------------------// AtomicInteger è‡ªå¢žæ–¹æ³•public final int incrementAndGet() &#123; return unsafe.getAndAddInt(this, valueOffset, 1) + 1;&#125;// Unsafe.classpublic final int getAndAddInt(Object var1, long var2, int var4) &#123; int var5; do &#123; var5 = this.getIntVolatile(var1, var2); &#125; while(!this.compareAndSwapInt(var1, var2, var5, var5 + var4)); return var5;&#125;// ------------------------- OpenJDK 8 -------------------------// Unsafe.javapublic final int getAndAddInt(Object o, long offset, int delta) &#123; int v; do &#123; v = getIntVolatile(o, offset); &#125; while (!compareAndSwapInt(o, offset, v, v + delta)); return v;&#125; æ ¹æ®OpenJDK 8çš„æºç æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒgetAndAddInt()å¾ªçŽ¯èŽ·å–ç»™å®šå¯¹è±¡oä¸­çš„åç§»é‡å¤„çš„å€¼vï¼Œç„¶åŽåˆ¤æ–­å†…å­˜å€¼æ˜¯å¦ç­‰äºŽvã€‚å¦‚æžœç›¸ç­‰åˆ™å°†å†…å­˜å€¼è®¾ç½®ä¸º v + deltaï¼Œå¦åˆ™è¿”å›žfalseï¼Œç»§ç»­å¾ªçŽ¯è¿›è¡Œé‡è¯•ï¼Œç›´åˆ°è®¾ç½®æˆåŠŸæ‰èƒ½é€€å‡ºå¾ªçŽ¯ï¼Œå¹¶ä¸”å°†æ—§å€¼è¿”å›žã€‚æ•´ä¸ªâ€œæ¯”è¾ƒ+æ›´æ–°â€æ“ä½œå°è£…åœ¨compareAndSwapInt()ä¸­ï¼Œåœ¨JNIé‡Œæ˜¯å€ŸåŠ©äºŽä¸€ä¸ªCPUæŒ‡ä»¤å®Œæˆçš„ï¼Œå±žäºŽåŽŸå­æ“ä½œï¼Œå¯ä»¥ä¿è¯å¤šä¸ªçº¿ç¨‹éƒ½èƒ½å¤Ÿçœ‹åˆ°åŒä¸€ä¸ªå˜é‡çš„ä¿®æ”¹å€¼ã€‚ åŽç»­JDKé€šè¿‡CPUçš„cmpxchgæŒ‡ä»¤ï¼ŒåŽ»æ¯”è¾ƒå¯„å­˜å™¨ä¸­çš„ A å’Œ å†…å­˜ä¸­çš„å€¼ Vã€‚å¦‚æžœç›¸ç­‰ï¼Œå°±æŠŠè¦å†™å…¥çš„æ–°å€¼ B å­˜å…¥å†…å­˜ä¸­ã€‚å¦‚æžœä¸ç›¸ç­‰ï¼Œå°±å°†å†…å­˜å€¼ V èµ‹å€¼ç»™å¯„å­˜å™¨ä¸­çš„å€¼ Aã€‚ç„¶åŽé€šè¿‡Javaä»£ç ä¸­çš„whileå¾ªçŽ¯å†æ¬¡è°ƒç”¨cmpxchgæŒ‡ä»¤è¿›è¡Œé‡è¯•ï¼Œç›´åˆ°è®¾ç½®æˆåŠŸä¸ºæ­¢ã€‚ CASè™½ç„¶å¾ˆé«˜æ•ˆï¼Œä½†æ˜¯å®ƒä¹Ÿå­˜åœ¨ä¸‰å¤§é—®é¢˜ï¼Œè¿™é‡Œä¹Ÿç®€å•è¯´ä¸€ä¸‹ï¼š ABAé—®é¢˜ã€‚CASéœ€è¦åœ¨æ“ä½œå€¼çš„æ—¶å€™æ£€æŸ¥å†…å­˜å€¼æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œæ²¡æœ‰å‘ç”Ÿå˜åŒ–æ‰ä¼šæ›´æ–°å†…å­˜å€¼ã€‚ä½†æ˜¯å¦‚æžœå†…å­˜å€¼åŽŸæ¥æ˜¯Aï¼ŒåŽæ¥å˜æˆäº†Bï¼Œç„¶åŽåˆå˜æˆäº†Aï¼Œé‚£ä¹ˆCASè¿›è¡Œæ£€æŸ¥æ—¶ä¼šå‘çŽ°å€¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯å®žé™…ä¸Šæ˜¯æœ‰å˜åŒ–çš„ã€‚ABAé—®é¢˜çš„è§£å†³æ€è·¯å°±æ˜¯åœ¨å˜é‡å‰é¢æ·»åŠ ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡å˜é‡æ›´æ–°çš„æ—¶å€™éƒ½æŠŠç‰ˆæœ¬å·åŠ ä¸€ï¼Œè¿™æ ·å˜åŒ–è¿‡ç¨‹å°±ä»Žâ€œAï¼Bï¼Aâ€å˜æˆäº†â€œ1Aï¼2Bï¼3Aâ€ã€‚ JDKä»Ž1.5å¼€å§‹æä¾›äº†AtomicStampedReferenceç±»æ¥è§£å†³ABAé—®é¢˜ï¼Œå…·ä½“æ“ä½œå°è£…åœ¨compareAndSet()ä¸­ã€‚compareAndSet()é¦–å…ˆæ£€æŸ¥å½“å‰å¼•ç”¨å’Œå½“å‰æ ‡å¿—ä¸Žé¢„æœŸå¼•ç”¨å’Œé¢„æœŸæ ‡å¿—æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æžœéƒ½ç›¸ç­‰ï¼Œåˆ™ä»¥åŽŸå­æ–¹å¼å°†å¼•ç”¨å€¼å’Œæ ‡å¿—çš„å€¼è®¾ç½®ä¸ºç»™å®šçš„æ›´æ–°å€¼ã€‚ å¾ªçŽ¯æ—¶é—´é•¿å¼€é”€å¤§ã€‚CASæ“ä½œå¦‚æžœé•¿æ—¶é—´ä¸æˆåŠŸï¼Œä¼šå¯¼è‡´å…¶ä¸€ç›´è‡ªæ—‹ï¼Œç»™CPUå¸¦æ¥éžå¸¸å¤§çš„å¼€é”€ã€‚ åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŽŸå­æ“ä½œ ã€‚å¯¹ä¸€ä¸ªå…±äº«å˜é‡æ‰§è¡Œæ“ä½œæ—¶ï¼ŒCASèƒ½å¤Ÿä¿è¯åŽŸå­æ“ä½œï¼Œä½†æ˜¯å¯¹å¤šä¸ªå…±äº«å˜é‡æ“ä½œæ—¶ï¼ŒCASæ˜¯æ— æ³•ä¿è¯æ“ä½œçš„åŽŸå­æ€§çš„ã€‚ Javaä»Ž1.5å¼€å§‹JDKæä¾›äº†AtomicReferenceç±»æ¥ä¿è¯å¼•ç”¨å¯¹è±¡ä¹‹é—´çš„åŽŸå­æ€§ï¼Œå¯ä»¥æŠŠå¤šä¸ªå˜é‡æ”¾åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œæ¥è¿›è¡ŒCASæ“ä½œã€‚ æœ‰å…³äºŽCASå’ŒUnsafeçš„å…·ä½“è¯¦è§£ï¼Œæˆ‘åŽç»­ä¸ºå¤§å®¶æ¢³ç†ã€‚ è‡ªæ—‹é” VS é€‚åº”æ€§è‡ªæ—‹é”åœ¨ä»‹ç»è‡ªæ—‹é”å‰ï¼Œæˆ‘ä»¬éœ€è¦ä»‹ç»ä¸€äº›å‰æçŸ¥è¯†æ¥å¸®åŠ©å¤§å®¶æ˜Žç™½è‡ªæ—‹é”çš„æ¦‚å¿µã€‚ é˜»å¡žæˆ–å”¤é†’ä¸€ä¸ªJavaçº¿ç¨‹éœ€è¦æ“ä½œç³»ç»Ÿåˆ‡æ¢CPUçŠ¶æ€æ¥å®Œæˆï¼Œè¿™ç§çŠ¶æ€è½¬æ¢éœ€è¦è€—è´¹å¤„ç†å™¨æ—¶é—´ã€‚å¦‚æžœåŒæ­¥ä»£ç å—ä¸­çš„å†…å®¹è¿‡äºŽç®€å•ï¼ŒçŠ¶æ€è½¬æ¢æ¶ˆè€—çš„æ—¶é—´æœ‰å¯èƒ½æ¯”ç”¨æˆ·ä»£ç æ‰§è¡Œçš„æ—¶é—´è¿˜è¦é•¿ã€‚ åœ¨è®¸å¤šåœºæ™¯ä¸­ï¼ŒåŒæ­¥èµ„æºçš„é”å®šæ—¶é—´å¾ˆçŸ­ï¼Œä¸ºäº†è¿™ä¸€å°æ®µæ—¶é—´åŽ»åˆ‡æ¢çº¿ç¨‹ï¼Œçº¿ç¨‹æŒ‚èµ·å’Œæ¢å¤çŽ°åœºçš„èŠ±è´¹å¯èƒ½ä¼šè®©ç³»ç»Ÿå¾—ä¸å¿å¤±ã€‚å¦‚æžœç‰©ç†æœºå™¨æœ‰å¤šä¸ªå¤„ç†å™¨ï¼Œèƒ½å¤Ÿè®©ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„çº¿ç¨‹åŒæ—¶å¹¶è¡Œæ‰§è¡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥è®©åŽé¢é‚£ä¸ªè¯·æ±‚é”çš„çº¿ç¨‹ä¸æ”¾å¼ƒCPUçš„æ‰§è¡Œæ—¶é—´ï¼Œçœ‹çœ‹æŒæœ‰é”çš„çº¿ç¨‹æ˜¯å¦å¾ˆå¿«å°±ä¼šé‡Šæ”¾é”ã€‚ è€Œä¸ºäº†è®©å½“å‰çº¿ç¨‹â€œç¨ç­‰ä¸€ä¸‹â€ï¼Œæˆ‘ä»¬éœ€è®©å½“å‰çº¿ç¨‹è¿›è¡Œè‡ªæ—‹ï¼Œå¦‚æžœåœ¨è‡ªæ—‹å®ŒæˆåŽå‰é¢é”å®šåŒæ­¥èµ„æºçš„çº¿ç¨‹å·²ç»é‡Šæ”¾äº†é”ï¼Œé‚£ä¹ˆå½“å‰çº¿ç¨‹å°±å¯ä»¥ä¸å¿…é˜»å¡žè€Œæ˜¯ç›´æŽ¥èŽ·å–åŒæ­¥èµ„æºï¼Œä»Žè€Œé¿å…åˆ‡æ¢çº¿ç¨‹çš„å¼€é”€ã€‚è¿™å°±æ˜¯è‡ªæ—‹é”ã€‚ è‡ªæ—‹é”æœ¬èº«æ˜¯æœ‰ç¼ºç‚¹çš„ï¼Œå®ƒä¸èƒ½ä»£æ›¿é˜»å¡žã€‚è‡ªæ—‹ç­‰å¾…è™½ç„¶é¿å…äº†çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼Œä½†å®ƒè¦å ç”¨å¤„ç†å™¨æ—¶é—´ã€‚å¦‚æžœé”è¢«å ç”¨çš„æ—¶é—´å¾ˆçŸ­ï¼Œè‡ªæ—‹ç­‰å¾…çš„æ•ˆæžœå°±ä¼šéžå¸¸å¥½ã€‚åä¹‹ï¼Œå¦‚æžœé”è¢«å ç”¨çš„æ—¶é—´å¾ˆé•¿ï¼Œé‚£ä¹ˆè‡ªæ—‹çš„çº¿ç¨‹åªä¼šç™½æµªè´¹å¤„ç†å™¨èµ„æºã€‚æ‰€ä»¥ï¼Œè‡ªæ—‹ç­‰å¾…çš„æ—¶é—´å¿…é¡»è¦æœ‰ä¸€å®šçš„é™åº¦ï¼Œå¦‚æžœè‡ªæ—‹è¶…è¿‡äº†é™å®šæ¬¡æ•°ï¼ˆé»˜è®¤æ˜¯10æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨-XX:PreBlockSpinæ¥æ›´æ”¹ï¼‰æ²¡æœ‰æˆåŠŸèŽ·å¾—é”ï¼Œå°±åº”å½“æŒ‚èµ·çº¿ç¨‹ã€‚ è‡ªæ—‹é”çš„å®žçŽ°åŽŸç†åŒæ ·ä¹Ÿæ˜¯CASï¼ŒAtomicIntegerä¸­è°ƒç”¨unsafeè¿›è¡Œè‡ªå¢žæ“ä½œçš„æºç ä¸­çš„do-whileå¾ªçŽ¯å°±æ˜¯ä¸€ä¸ªè‡ªæ—‹æ“ä½œï¼Œå¦‚æžœä¿®æ”¹æ•°å€¼å¤±è´¥åˆ™é€šè¿‡å¾ªçŽ¯æ¥æ‰§è¡Œè‡ªæ—‹ï¼Œç›´è‡³ä¿®æ”¹æˆåŠŸã€‚ æ—‹é”åœ¨JDK1.4.2ä¸­å¼•å…¥ï¼Œä½¿ç”¨-XX:+UseSpinningæ¥å¼€å¯ã€‚JDK 6ä¸­å˜ä¸ºé»˜è®¤å¼€å¯ï¼Œå¹¶ä¸”å¼•å…¥äº†è‡ªé€‚åº”çš„è‡ªæ—‹é”ï¼ˆé€‚åº”æ€§è‡ªæ—‹é”ï¼‰ã€‚ è‡ªé€‚åº”æ„å‘³ç€è‡ªæ—‹çš„æ—¶é—´ï¼ˆæ¬¡æ•°ï¼‰ä¸å†å›ºå®šï¼Œè€Œæ˜¯ç”±å‰ä¸€æ¬¡åœ¨åŒä¸€ä¸ªé”ä¸Šçš„è‡ªæ—‹æ—¶é—´åŠé”çš„æ‹¥æœ‰è€…çš„çŠ¶æ€æ¥å†³å®šã€‚å¦‚æžœåœ¨åŒä¸€ä¸ªé”å¯¹è±¡ä¸Šï¼Œè‡ªæ—‹ç­‰å¾…åˆšåˆšæˆåŠŸèŽ·å¾—è¿‡é”ï¼Œå¹¶ä¸”æŒæœ‰é”çš„çº¿ç¨‹æ­£åœ¨è¿è¡Œä¸­ï¼Œé‚£ä¹ˆè™šæ‹Ÿæœºå°±ä¼šè®¤ä¸ºè¿™æ¬¡è‡ªæ—‹ä¹Ÿæ˜¯å¾ˆæœ‰å¯èƒ½å†æ¬¡æˆåŠŸï¼Œè¿›è€Œå®ƒå°†å…è®¸è‡ªæ—‹ç­‰å¾…æŒç»­ç›¸å¯¹æ›´é•¿çš„æ—¶é—´ã€‚å¦‚æžœå¯¹äºŽæŸä¸ªé”ï¼Œè‡ªæ—‹å¾ˆå°‘æˆåŠŸèŽ·å¾—è¿‡ï¼Œé‚£åœ¨ä»¥åŽå°è¯•èŽ·å–è¿™ä¸ªé”æ—¶å°†å¯èƒ½çœç•¥æŽ‰è‡ªæ—‹è¿‡ç¨‹ï¼Œç›´æŽ¥é˜»å¡žçº¿ç¨‹ï¼Œé¿å…æµªè´¹å¤„ç†å™¨èµ„æºã€‚ åœ¨è‡ªæ—‹é”ä¸­ å¦æœ‰ä¸‰ç§å¸¸è§çš„é”å½¢å¼:TicketLockã€CLHlockå’ŒMCSlockï¼Œæœ¬æ–‡ä¸­ä»…åšåè¯ä»‹ç»ï¼Œä¸åšæ·±å…¥è®²è§£ï¼Œæ„Ÿå…´è¶£çš„å¤§å®¶å¯ä»¥è‡ªè¡ŒæŸ¥é˜…ç›¸å…³èµ„æ–™ã€‚ æ— é” VS åå‘é” VS è½»é‡çº§é” VS é‡é‡çº§é”è¿™å››ç§é”æ˜¯æŒ‡é”çš„çŠ¶æ€ï¼Œä¸“é—¨é’ˆå¯¹synchronizedçš„ã€‚åœ¨ä»‹ç»è¿™å››ç§é”çŠ¶æ€ä¹‹å‰è¿˜éœ€è¦ä»‹ç»ä¸€äº›é¢å¤–çš„çŸ¥è¯†ã€‚ é¦–å…ˆä¸ºä»€ä¹ˆSynchronizedèƒ½å®žçŽ°çº¿ç¨‹åŒæ­¥ï¼Ÿ åœ¨å›žç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰æˆ‘ä»¬éœ€è¦äº†è§£ä¸¤ä¸ªé‡è¦çš„æ¦‚å¿µï¼šâ€œJavaå¯¹è±¡å¤´â€ã€â€œMonitorâ€ã€‚ Javaå¯¹è±¡å¤´synchronizedæ˜¯æ‚²è§‚é”ï¼Œåœ¨æ“ä½œåŒæ­¥èµ„æºä¹‹å‰éœ€è¦ç»™åŒæ­¥èµ„æºå…ˆåŠ é”ï¼Œè¿™æŠŠé”å°±æ˜¯å­˜åœ¨Javaå¯¹è±¡å¤´é‡Œçš„ï¼Œè€ŒJavaå¯¹è±¡å¤´åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æˆ‘ä»¬ä»¥Hotspotè™šæ‹Ÿæœºä¸ºä¾‹ï¼ŒHotspotçš„å¯¹è±¡å¤´ä¸»è¦åŒ…æ‹¬ä¸¤éƒ¨åˆ†æ•°æ®ï¼šMark Wordï¼ˆæ ‡è®°å­—æ®µï¼‰ã€Klass Pointerï¼ˆç±»åž‹æŒ‡é’ˆï¼‰ã€‚ Mark Wordï¼šé»˜è®¤å­˜å‚¨å¯¹è±¡çš„HashCodeï¼Œåˆ†ä»£å¹´é¾„å’Œé”æ ‡å¿—ä½ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯éƒ½æ˜¯ä¸Žå¯¹è±¡è‡ªèº«å®šä¹‰æ— å…³çš„æ•°æ®ï¼Œæ‰€ä»¥Mark Wordè¢«è®¾è®¡æˆä¸€ä¸ªéžå›ºå®šçš„æ•°æ®ç»“æž„ä»¥ä¾¿åœ¨æžå°çš„ç©ºé—´å†…å­˜å­˜å‚¨å°½é‡å¤šçš„æ•°æ®ã€‚å®ƒä¼šæ ¹æ®å¯¹è±¡çš„çŠ¶æ€å¤ç”¨è‡ªå·±çš„å­˜å‚¨ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è¿è¡ŒæœŸé—´Mark Wordé‡Œå­˜å‚¨çš„æ•°æ®ä¼šéšç€é”æ ‡å¿—ä½çš„å˜åŒ–è€Œå˜åŒ–ã€‚ Klass Pointï¼šå¯¹è±¡æŒ‡å‘å®ƒçš„ç±»å…ƒæ•°æ®çš„æŒ‡é’ˆï¼Œè™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥ç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®žä¾‹ã€‚ MonitorMonitorå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªåŒæ­¥å·¥å…·æˆ–ä¸€ç§åŒæ­¥æœºåˆ¶ï¼Œé€šå¸¸è¢«æè¿°ä¸ºä¸€ä¸ªå¯¹è±¡ã€‚æ¯ä¸€ä¸ªJavaå¯¹è±¡å°±æœ‰ä¸€æŠŠçœ‹ä¸è§çš„é”ï¼Œç§°ä¸ºå†…éƒ¨é”æˆ–è€…Monitoré”ã€‚ Monitoræ˜¯çº¿ç¨‹ç§æœ‰çš„æ•°æ®ç»“æž„ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªå¯ç”¨monitor recordåˆ—è¡¨ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªå…¨å±€çš„å¯ç”¨åˆ—è¡¨ã€‚æ¯ä¸€ä¸ªè¢«é”ä½çš„å¯¹è±¡éƒ½ä¼šå’Œä¸€ä¸ªmonitorå…³è”ï¼ŒåŒæ—¶monitorä¸­æœ‰ä¸€ä¸ªOwnerå­—æ®µå­˜æ”¾æ‹¥æœ‰è¯¥é”çš„çº¿ç¨‹çš„å”¯ä¸€æ ‡è¯†ï¼Œè¡¨ç¤ºè¯¥é”è¢«è¿™ä¸ªçº¿ç¨‹å ç”¨ã€‚ çŽ°åœ¨è¯é¢˜å›žåˆ°synchronizedï¼Œsynchronizedé€šè¿‡Monitoræ¥å®žçŽ°çº¿ç¨‹åŒæ­¥ï¼ŒMonitoræ˜¯ä¾èµ–äºŽåº•å±‚çš„æ“ä½œç³»ç»Ÿçš„Mutex Lockï¼ˆäº’æ–¥é”ï¼‰æ¥å®žçŽ°çš„çº¿ç¨‹åŒæ­¥ã€‚ å¦‚åŒæˆ‘ä»¬åœ¨è‡ªæ—‹é”ä¸­æåˆ°çš„â€œé˜»å¡žæˆ–å”¤é†’ä¸€ä¸ªJavaçº¿ç¨‹éœ€è¦æ“ä½œç³»ç»Ÿåˆ‡æ¢CPUçŠ¶æ€æ¥å®Œæˆï¼Œè¿™ç§çŠ¶æ€è½¬æ¢éœ€è¦è€—è´¹å¤„ç†å™¨æ—¶é—´ã€‚å¦‚æžœåŒæ­¥ä»£ç å—ä¸­çš„å†…å®¹è¿‡äºŽç®€å•ï¼ŒçŠ¶æ€è½¬æ¢æ¶ˆè€—çš„æ—¶é—´æœ‰å¯èƒ½æ¯”ç”¨æˆ·ä»£ç æ‰§è¡Œçš„æ—¶é—´è¿˜è¦é•¿â€ã€‚è¿™ç§æ–¹å¼å°±æ˜¯synchronizedæœ€åˆå®žçŽ°åŒæ­¥çš„æ–¹å¼ï¼Œè¿™å°±æ˜¯JDK 6ä¹‹å‰synchronizedæ•ˆçŽ‡ä½Žçš„åŽŸå› ã€‚è¿™ç§ä¾èµ–äºŽæ“ä½œç³»ç»ŸMutex Lockæ‰€å®žçŽ°çš„é”æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œé‡é‡çº§é”â€ï¼ŒJDK 6ä¸­ä¸ºäº†å‡å°‘èŽ·å¾—é”å’Œé‡Šæ”¾é”å¸¦æ¥çš„æ€§èƒ½æ¶ˆè€—ï¼Œå¼•å…¥äº†â€œåå‘é”â€å’Œâ€œè½»é‡çº§é”â€ã€‚ æ‰€ä»¥ç›®å‰é”ä¸€å…±æœ‰4ç§çŠ¶æ€ï¼Œçº§åˆ«ä»Žä½Žåˆ°é«˜ä¾æ¬¡æ˜¯ï¼šæ— é”ã€åå‘é”ã€è½»é‡çº§é”å’Œé‡é‡çº§é”ã€‚é”çŠ¶æ€åªèƒ½å‡çº§ä¸èƒ½é™çº§ã€‚ é€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œæˆ‘ä»¬å¯¹synchronizedçš„åŠ é”æœºåˆ¶ä»¥åŠç›¸å…³çŸ¥è¯†æœ‰äº†ä¸€ä¸ªäº†è§£ï¼Œé‚£ä¹ˆä¸‹é¢æˆ‘ä»¬ç»™å‡ºå››ç§é”çŠ¶æ€å¯¹åº”çš„çš„Mark Wordå†…å®¹ï¼Œç„¶åŽå†åˆ†åˆ«è®²è§£å››ç§é”çŠ¶æ€çš„æ€è·¯ä»¥åŠç‰¹ç‚¹ï¼š é”çŠ¶æ€ å­˜å‚¨å†…å®¹ å­˜å‚¨å†…å®¹ æ— é” å¯¹è±¡çš„hashCodeã€å¯¹è±¡åˆ†ä»£å¹´é¾„ã€æ˜¯å¦æ˜¯åå‘é”ï¼ˆ0ï¼‰ 01 åå‘é” åå‘çº¿ç¨‹IDã€åå‘æ—¶é—´æˆ³ã€å¯¹è±¡åˆ†ä»£å¹´é¾„ã€æ˜¯å¦æ˜¯åå‘é”ï¼ˆ1ï¼‰ 01 è½»é‡çº§é” æŒ‡å‘æ ˆä¸­é”è®°å½•çš„æŒ‡é’ˆ 00 é‡é‡çº§é” æŒ‡å‘äº’æ–¥é‡ï¼ˆé‡é‡çº§é”ï¼‰çš„æŒ‡é’ˆ 10 æ— é”æ— é”æ²¡æœ‰å¯¹èµ„æºè¿›è¡Œé”å®šï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½èƒ½è®¿é—®å¹¶ä¿®æ”¹åŒä¸€ä¸ªèµ„æºï¼Œä½†åŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½ä¿®æ”¹æˆåŠŸã€‚ æ— é”çš„ç‰¹ç‚¹å°±æ˜¯ä¿®æ”¹æ“ä½œåœ¨å¾ªçŽ¯å†…è¿›è¡Œï¼Œçº¿ç¨‹ä¼šä¸æ–­çš„å°è¯•ä¿®æ”¹å…±äº«èµ„æºã€‚å¦‚æžœæ²¡æœ‰å†²çªå°±ä¿®æ”¹æˆåŠŸå¹¶é€€å‡ºï¼Œå¦åˆ™å°±ä¼šç»§ç»­å¾ªçŽ¯å°è¯•ã€‚å¦‚æžœæœ‰å¤šä¸ªçº¿ç¨‹ä¿®æ”¹åŒä¸€ä¸ªå€¼ï¼Œå¿…å®šä¼šæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½ä¿®æ”¹æˆåŠŸï¼Œè€Œå…¶ä»–ä¿®æ”¹å¤±è´¥çš„çº¿ç¨‹ä¼šä¸æ–­é‡è¯•ç›´åˆ°ä¿®æ”¹æˆåŠŸã€‚ä¸Šé¢æˆ‘ä»¬ä»‹ç»çš„CASåŽŸç†åŠåº”ç”¨å³æ˜¯æ— é”çš„å®žçŽ°ã€‚æ— é”æ— æ³•å…¨é¢ä»£æ›¿æœ‰é”ï¼Œä½†æ— é”åœ¨æŸäº›åœºåˆä¸‹çš„æ€§èƒ½æ˜¯éžå¸¸é«˜çš„ã€‚ åå‘é”åå‘é”æ˜¯æŒ‡ä¸€æ®µåŒæ­¥ä»£ç ä¸€ç›´è¢«ä¸€ä¸ªçº¿ç¨‹æ‰€è®¿é—®ï¼Œé‚£ä¹ˆè¯¥çº¿ç¨‹ä¼šè‡ªåŠ¨èŽ·å–é”ï¼Œé™ä½ŽèŽ·å–é”çš„ä»£ä»·ã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé”æ€»æ˜¯ç”±åŒä¸€çº¿ç¨‹å¤šæ¬¡èŽ·å¾—ï¼Œä¸å­˜åœ¨å¤šçº¿ç¨‹ç«žäº‰ï¼Œæ‰€ä»¥å‡ºçŽ°äº†åå‘é”ã€‚å…¶ç›®æ ‡å°±æ˜¯åœ¨åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç å—æ—¶èƒ½å¤Ÿæé«˜æ€§èƒ½ã€‚ å½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®åŒæ­¥ä»£ç å—å¹¶èŽ·å–é”æ—¶ï¼Œä¼šåœ¨Mark Wordé‡Œå­˜å‚¨é”åå‘çš„çº¿ç¨‹IDã€‚åœ¨çº¿ç¨‹è¿›å…¥å’Œé€€å‡ºåŒæ­¥å—æ—¶ä¸å†é€šè¿‡CASæ“ä½œæ¥åŠ é”å’Œè§£é”ï¼Œè€Œæ˜¯æ£€æµ‹Mark Wordé‡Œæ˜¯å¦å­˜å‚¨ç€æŒ‡å‘å½“å‰çº¿ç¨‹çš„åå‘é”ã€‚å¼•å…¥åå‘é”æ˜¯ä¸ºäº†åœ¨æ— å¤šçº¿ç¨‹ç«žäº‰çš„æƒ…å†µä¸‹å°½é‡å‡å°‘ä¸å¿…è¦çš„è½»é‡çº§é”æ‰§è¡Œè·¯å¾„ï¼Œå› ä¸ºè½»é‡çº§é”çš„èŽ·å–åŠé‡Šæ”¾ä¾èµ–å¤šæ¬¡CASåŽŸå­æŒ‡ä»¤ï¼Œè€Œåå‘é”åªéœ€è¦åœ¨ç½®æ¢ThreadIDçš„æ—¶å€™ä¾èµ–ä¸€æ¬¡CASåŽŸå­æŒ‡ä»¤å³å¯ã€‚ åå‘é”åªæœ‰é‡åˆ°å…¶ä»–çº¿ç¨‹å°è¯•ç«žäº‰åå‘é”æ—¶ï¼ŒæŒæœ‰åå‘é”çš„çº¿ç¨‹æ‰ä¼šé‡Šæ”¾é”ï¼Œçº¿ç¨‹ä¸ä¼šä¸»åŠ¨é‡Šæ”¾åå‘é”ã€‚åå‘é”çš„æ’¤é”€ï¼Œéœ€è¦ç­‰å¾…å…¨å±€å®‰å…¨ç‚¹ï¼ˆåœ¨è¿™ä¸ªæ—¶é—´ç‚¹ä¸Šæ²¡æœ‰å­—èŠ‚ç æ­£åœ¨æ‰§è¡Œï¼‰ï¼Œå®ƒä¼šé¦–å…ˆæš‚åœæ‹¥æœ‰åå‘é”çš„çº¿ç¨‹ï¼Œåˆ¤æ–­é”å¯¹è±¡æ˜¯å¦å¤„äºŽè¢«é”å®šçŠ¶æ€ã€‚æ’¤é”€åå‘é”åŽæ¢å¤åˆ°æ— é”ï¼ˆæ ‡å¿—ä½ä¸ºâ€œ01â€ï¼‰æˆ–è½»é‡çº§é”ï¼ˆæ ‡å¿—ä½ä¸ºâ€œ00â€ï¼‰çš„çŠ¶æ€ã€‚ åå‘é”åœ¨JDK 6åŠä»¥åŽçš„JVMé‡Œæ˜¯é»˜è®¤å¯ç”¨çš„ã€‚å¯ä»¥é€šè¿‡JVMå‚æ•°å…³é—­åå‘é”ï¼š-XX:-UseBiasedLocking=falseï¼Œå…³é—­ä¹‹åŽç¨‹åºé»˜è®¤ä¼šè¿›å…¥è½»é‡çº§é”çŠ¶æ€ã€‚ è½»é‡çº§é”æ˜¯æŒ‡å½“é”æ˜¯åå‘é”çš„æ—¶å€™ï¼Œè¢«å¦å¤–çš„çº¿ç¨‹æ‰€è®¿é—®ï¼Œåå‘é”å°±ä¼šå‡çº§ä¸ºè½»é‡çº§é”ï¼Œå…¶ä»–çº¿ç¨‹ä¼šé€šè¿‡è‡ªæ—‹çš„å½¢å¼å°è¯•èŽ·å–é”ï¼Œä¸ä¼šé˜»å¡žï¼Œä»Žè€Œæé«˜æ€§èƒ½ã€‚ åœ¨ä»£ç è¿›å…¥åŒæ­¥å—çš„æ—¶å€™ï¼Œå¦‚æžœåŒæ­¥å¯¹è±¡é”çŠ¶æ€ä¸ºæ— é”çŠ¶æ€ï¼ˆé”æ ‡å¿—ä½ä¸ºâ€œ01â€çŠ¶æ€ï¼Œæ˜¯å¦ä¸ºåå‘é”ä¸ºâ€œ0â€ï¼‰ï¼Œè™šæ‹Ÿæœºé¦–å…ˆå°†åœ¨å½“å‰çº¿ç¨‹çš„æ ˆå¸§ä¸­å»ºç«‹ä¸€ä¸ªåä¸ºé”è®°å½•ï¼ˆLock Recordï¼‰çš„ç©ºé—´ï¼Œç”¨äºŽå­˜å‚¨é”å¯¹è±¡ç›®å‰çš„Mark Wordçš„æ‹·è´ï¼Œç„¶åŽæ‹·è´å¯¹è±¡å¤´ä¸­çš„Mark Wordå¤åˆ¶åˆ°é”è®°å½•ä¸­ã€‚ æ‹·è´æˆåŠŸåŽï¼Œè™šæ‹Ÿæœºå°†ä½¿ç”¨CASæ“ä½œå°è¯•å°†å¯¹è±¡çš„Mark Wordæ›´æ–°ä¸ºæŒ‡å‘Lock Recordçš„æŒ‡é’ˆï¼Œå¹¶å°†Lock Recordé‡Œçš„owneræŒ‡é’ˆæŒ‡å‘å¯¹è±¡çš„Mark Wordã€‚ å¦‚æžœè¿™ä¸ªæ›´æ–°åŠ¨ä½œæˆåŠŸäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±æ‹¥æœ‰äº†è¯¥å¯¹è±¡çš„é”ï¼Œå¹¶ä¸”å¯¹è±¡Mark Wordçš„é”æ ‡å¿—ä½è®¾ç½®ä¸ºâ€œ00â€ï¼Œè¡¨ç¤ºæ­¤å¯¹è±¡å¤„äºŽè½»é‡çº§é”å®šçŠ¶æ€ã€‚ å¦‚æžœè½»é‡çº§é”çš„æ›´æ–°æ“ä½œå¤±è´¥äº†ï¼Œè™šæ‹Ÿæœºé¦–å…ˆä¼šæ£€æŸ¥å¯¹è±¡çš„Mark Wordæ˜¯å¦æŒ‡å‘å½“å‰çº¿ç¨‹çš„æ ˆå¸§ï¼Œå¦‚æžœæ˜¯å°±è¯´æ˜Žå½“å‰çº¿ç¨‹å·²ç»æ‹¥æœ‰äº†è¿™ä¸ªå¯¹è±¡çš„é”ï¼Œé‚£å°±å¯ä»¥ç›´æŽ¥è¿›å…¥åŒæ­¥å—ç»§ç»­æ‰§è¡Œï¼Œå¦åˆ™è¯´æ˜Žå¤šä¸ªçº¿ç¨‹ç«žäº‰é”ã€‚ è‹¥å½“å‰åªæœ‰ä¸€ä¸ªç­‰å¾…çº¿ç¨‹ï¼Œåˆ™è¯¥çº¿ç¨‹é€šè¿‡è‡ªæ—‹è¿›è¡Œç­‰å¾…ã€‚ä½†æ˜¯å½“è‡ªæ—‹è¶…è¿‡ä¸€å®šçš„æ¬¡æ•°ï¼Œæˆ–è€…ä¸€ä¸ªçº¿ç¨‹åœ¨æŒæœ‰é”ï¼Œä¸€ä¸ªåœ¨è‡ªæ—‹ï¼Œåˆæœ‰ç¬¬ä¸‰ä¸ªæ¥è®¿æ—¶ï¼Œè½»é‡çº§é”å‡çº§ä¸ºé‡é‡çº§é”ã€‚ é‡é‡çº§é”å‡çº§ä¸ºé‡é‡çº§é”æ—¶ï¼Œé”æ ‡å¿—çš„çŠ¶æ€å€¼å˜ä¸ºâ€œ10â€ï¼Œæ­¤æ—¶Mark Wordä¸­å­˜å‚¨çš„æ˜¯æŒ‡å‘é‡é‡çº§é”çš„æŒ‡é’ˆï¼Œæ­¤æ—¶ç­‰å¾…é”çš„çº¿ç¨‹éƒ½ä¼šè¿›å…¥é˜»å¡žçŠ¶æ€ã€‚ æ•´ä½“çš„é”çŠ¶æ€å‡çº§æµç¨‹å¦‚ä¸‹ï¼š ç»¼ä¸Šï¼Œåå‘é”é€šè¿‡å¯¹æ¯”Mark Wordè§£å†³åŠ é”é—®é¢˜ï¼Œé¿å…æ‰§è¡ŒCASæ“ä½œã€‚è€Œè½»é‡çº§é”æ˜¯é€šè¿‡ç”¨CASæ“ä½œå’Œè‡ªæ—‹æ¥è§£å†³åŠ é”é—®é¢˜ï¼Œé¿å…çº¿ç¨‹é˜»å¡žå’Œå”¤é†’è€Œå½±å“æ€§èƒ½ã€‚é‡é‡çº§é”æ˜¯å°†é™¤äº†æ‹¥æœ‰é”çš„çº¿ç¨‹ä»¥å¤–çš„çº¿ç¨‹éƒ½é˜»å¡žã€‚ å…¬å¹³é” VS éžå…¬å¹³é”å…¬å¹³é”æ˜¯æŒ‡å¤šä¸ªçº¿ç¨‹æŒ‰ç…§ç”³è¯·é”çš„é¡ºåºæ¥èŽ·å–é”ï¼Œçº¿ç¨‹ç›´æŽ¥è¿›å…¥é˜Ÿåˆ—ä¸­æŽ’é˜Ÿï¼Œé˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‰èƒ½èŽ·å¾—é”ã€‚å…¬å¹³é”çš„ä¼˜ç‚¹æ˜¯ç­‰å¾…é”çš„çº¿ç¨‹ä¸ä¼šé¥¿æ­»ã€‚ç¼ºç‚¹æ˜¯æ•´ä½“åžåæ•ˆçŽ‡ç›¸å¯¹éžå…¬å¹³é”è¦ä½Žï¼Œç­‰å¾…é˜Ÿåˆ—ä¸­é™¤ç¬¬ä¸€ä¸ªçº¿ç¨‹ä»¥å¤–çš„æ‰€æœ‰çº¿ç¨‹éƒ½ä¼šé˜»å¡žï¼ŒCPUå”¤é†’é˜»å¡žçº¿ç¨‹çš„å¼€é”€æ¯”éžå…¬å¹³é”å¤§ã€‚ éžå…¬å¹³é”æ˜¯å¤šä¸ªçº¿ç¨‹åŠ é”æ—¶ç›´æŽ¥å°è¯•èŽ·å–é”ï¼ŒèŽ·å–ä¸åˆ°æ‰ä¼šåˆ°ç­‰å¾…é˜Ÿåˆ—çš„é˜Ÿå°¾ç­‰å¾…ã€‚ä½†å¦‚æžœæ­¤æ—¶é”åˆšå¥½å¯ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å¯ä»¥æ— éœ€é˜»å¡žç›´æŽ¥èŽ·å–åˆ°é”ï¼Œæ‰€ä»¥éžå…¬å¹³é”æœ‰å¯èƒ½å‡ºçŽ°åŽç”³è¯·é”çš„çº¿ç¨‹å…ˆèŽ·å–é”çš„åœºæ™¯ã€‚éžå…¬å¹³é”çš„ä¼˜ç‚¹æ˜¯å¯ä»¥å‡å°‘å”¤èµ·çº¿ç¨‹çš„å¼€é”€ï¼Œæ•´ä½“çš„åžåæ•ˆçŽ‡é«˜ï¼Œå› ä¸ºçº¿ç¨‹æœ‰å‡ çŽ‡ä¸é˜»å¡žç›´æŽ¥èŽ·å¾—é”ï¼ŒCPUä¸å¿…å”¤é†’æ‰€æœ‰çº¿ç¨‹ã€‚ç¼ºç‚¹æ˜¯å¤„äºŽç­‰å¾…é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹å¯èƒ½ä¼šé¥¿æ­»ï¼Œæˆ–è€…ç­‰å¾ˆä¹…æ‰ä¼šèŽ·å¾—é”ã€‚ ç›´æŽ¥ç”¨è¯­è¨€æè¿°å¯èƒ½æœ‰ç‚¹æŠ½è±¡ï¼Œè¿™é‡Œç¬”è€…ç”¨ä»Žåˆ«å¤„çœ‹åˆ°çš„ä¸€ä¸ªä¾‹å­æ¥è®²è¿°ä¸€ä¸‹å…¬å¹³é”å’Œéžå…¬å¹³é”ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‡è®¾æœ‰ä¸€å£æ°´äº•ï¼Œæœ‰ç®¡ç†å‘˜çœ‹å®ˆï¼Œç®¡ç†å‘˜æœ‰ä¸€æŠŠé”ï¼Œåªæœ‰æ‹¿åˆ°é”çš„äººæ‰èƒ½å¤Ÿæ‰“æ°´ï¼Œæ‰“å®Œæ°´è¦æŠŠé”è¿˜ç»™ç®¡ç†å‘˜ã€‚æ¯ä¸ªè¿‡æ¥æ‰“æ°´çš„äººéƒ½è¦ç®¡ç†å‘˜çš„å…è®¸å¹¶æ‹¿åˆ°é”ä¹‹åŽæ‰èƒ½åŽ»æ‰“æ°´ï¼Œå¦‚æžœå‰é¢æœ‰äººæ­£åœ¨æ‰“æ°´ï¼Œé‚£ä¹ˆè¿™ä¸ªæƒ³è¦æ‰“æ°´çš„äººå°±å¿…é¡»æŽ’é˜Ÿã€‚ç®¡ç†å‘˜ä¼šæŸ¥çœ‹ä¸‹ä¸€ä¸ªè¦åŽ»æ‰“æ°´çš„äººæ˜¯ä¸æ˜¯é˜Ÿä¼é‡ŒæŽ’æœ€å‰é¢çš„äººï¼Œå¦‚æžœæ˜¯çš„è¯ï¼Œæ‰ä¼šç»™ä½ é”è®©ä½ åŽ»æ‰“æ°´ï¼›å¦‚æžœä½ ä¸æ˜¯æŽ’ç¬¬ä¸€çš„äººï¼Œå°±å¿…é¡»åŽ»é˜Ÿå°¾æŽ’é˜Ÿï¼Œè¿™å°±æ˜¯å…¬å¹³é”ã€‚ ä½†æ˜¯å¯¹äºŽéžå…¬å¹³é”ï¼Œç®¡ç†å‘˜å¯¹æ‰“æ°´çš„äººæ²¡æœ‰è¦æ±‚ã€‚å³ä½¿ç­‰å¾…é˜Ÿä¼é‡Œæœ‰æŽ’é˜Ÿç­‰å¾…çš„äººï¼Œä½†å¦‚æžœåœ¨ä¸Šä¸€ä¸ªäººåˆšæ‰“å®Œæ°´æŠŠé”è¿˜ç»™ç®¡ç†å‘˜è€Œä¸”ç®¡ç†å‘˜è¿˜æ²¡æœ‰å…è®¸ç­‰å¾…é˜Ÿä¼é‡Œä¸‹ä¸€ä¸ªäººåŽ»æ‰“æ°´æ—¶ï¼Œåˆšå¥½æ¥äº†ä¸€ä¸ªæ’é˜Ÿçš„äººï¼Œè¿™ä¸ªæ’é˜Ÿçš„äººæ˜¯å¯ä»¥ç›´æŽ¥ä»Žç®¡ç†å‘˜é‚£é‡Œæ‹¿åˆ°é”åŽ»æ‰“æ°´ï¼Œä¸éœ€è¦æŽ’é˜Ÿï¼ŒåŽŸæœ¬æŽ’é˜Ÿç­‰å¾…çš„äººåªèƒ½ç»§ç»­ç­‰å¾…ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æŽ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ReentrantLockçš„æºç æ¥è®²è§£å…¬å¹³é”å’Œéžå…¬å¹³é”ã€‚ æ ¹æ®ä»£ç å¯çŸ¥ï¼ŒReentrantLocké‡Œé¢æœ‰ä¸€ä¸ªå†…éƒ¨ç±»Syncï¼ŒSyncç»§æ‰¿AQSï¼ˆAbstractQueuedSynchronizerï¼‰ï¼Œæ·»åŠ é”å’Œé‡Šæ”¾é”çš„å¤§éƒ¨åˆ†æ“ä½œå®žé™…ä¸Šéƒ½æ˜¯åœ¨Syncä¸­å®žçŽ°çš„ã€‚å®ƒæœ‰å…¬å¹³é”FairSyncå’Œéžå…¬å¹³é”NonfairSyncä¸¤ä¸ªå­ç±»ã€‚ReentrantLocké»˜è®¤ä½¿ç”¨éžå…¬å¹³é”ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æž„é€ å™¨æ¥æ˜¾ç¤ºçš„æŒ‡å®šä½¿ç”¨å…¬å¹³é”ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å…¬å¹³é”ä¸Žéžå…¬å¹³é”çš„åŠ é”æ–¹æ³•çš„æºç : é€šè¿‡ä¸Šå›¾ä¸­çš„æºä»£ç å¯¹æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥æ˜Žæ˜¾çš„çœ‹å‡ºå…¬å¹³é”ä¸Žéžå…¬å¹³é”çš„lock()æ–¹æ³•å”¯ä¸€çš„åŒºåˆ«å°±åœ¨äºŽå…¬å¹³é”åœ¨èŽ·å–åŒæ­¥çŠ¶æ€æ—¶å¤šäº†ä¸€ä¸ªé™åˆ¶æ¡ä»¶ï¼šhasQueuedPredecessors()ã€‚ å†è¿›å…¥hasQueuedPredecessors()ï¼Œå¯ä»¥çœ‹åˆ°è¯¥æ–¹æ³•ä¸»è¦åšä¸€ä»¶äº‹æƒ…ï¼šä¸»è¦æ˜¯åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦ä½äºŽåŒæ­¥é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªã€‚å¦‚æžœæ˜¯åˆ™è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalseã€‚ ç»¼ä¸Šï¼Œå…¬å¹³é”å°±æ˜¯é€šè¿‡åŒæ­¥é˜Ÿåˆ—æ¥å®žçŽ°å¤šä¸ªçº¿ç¨‹æŒ‰ç…§ç”³è¯·é”çš„é¡ºåºæ¥èŽ·å–é”ï¼Œä»Žè€Œå®žçŽ°å…¬å¹³çš„ç‰¹æ€§ã€‚éžå…¬å¹³é”åŠ é”æ—¶ä¸è€ƒè™‘æŽ’é˜Ÿç­‰å¾…é—®é¢˜ï¼Œç›´æŽ¥å°è¯•èŽ·å–é”ï¼Œæ‰€ä»¥å­˜åœ¨åŽç”³è¯·å´å…ˆèŽ·å¾—é”çš„æƒ…å†µã€‚ å¯é‡å…¥é” VS éžå¯é‡å…¥é”å¯é‡å…¥é”åˆåé€’å½’é”ï¼Œæ˜¯æŒ‡åœ¨åŒä¸€ä¸ªçº¿ç¨‹åœ¨å¤–å±‚æ–¹æ³•èŽ·å–é”çš„æ—¶å€™ï¼Œå†è¿›å…¥è¯¥çº¿ç¨‹çš„å†…å±‚æ–¹æ³•ä¼šè‡ªåŠ¨èŽ·å–é”ï¼ˆå‰æé”å¯¹è±¡å¾—æ˜¯åŒä¸€ä¸ªå¯¹è±¡æˆ–è€…classï¼‰ï¼Œä¸ä¼šå› ä¸ºä¹‹å‰å·²ç»èŽ·å–è¿‡è¿˜æ²¡é‡Šæ”¾è€Œé˜»å¡žã€‚Javaä¸­ReentrantLockå’Œsynchronizedéƒ½æ˜¯å¯é‡å…¥é”ï¼Œå¯é‡å…¥é”çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯å¯ä¸€å®šç¨‹åº¦é¿å…æ­»é”ã€‚ä¸‹é¢ç”¨ç¤ºä¾‹ä»£ç æ¥è¿›è¡Œåˆ†æžï¼š 12345678910public class Widget &#123; public synchronized void doSomething() &#123; System.out.println(\"æ–¹æ³•1æ‰§è¡Œ...\"); doOthers(); &#125; public synchronized void doOthers() &#123; System.out.println(\"æ–¹æ³•2æ‰§è¡Œ...\"); &#125;&#125; åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç±»ä¸­çš„ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯è¢«å†…ç½®é”synchronizedä¿®é¥°çš„ï¼ŒdoSomething()æ–¹æ³•ä¸­è°ƒç”¨doOthers()æ–¹æ³•ã€‚å› ä¸ºå†…ç½®é”æ˜¯å¯é‡å…¥çš„ï¼Œæ‰€ä»¥åŒä¸€ä¸ªçº¿ç¨‹åœ¨è°ƒç”¨doOthers()æ—¶å¯ä»¥ç›´æŽ¥èŽ·å¾—å½“å‰å¯¹è±¡çš„é”ï¼Œè¿›å…¥doOthers()è¿›è¡Œæ“ä½œã€‚ å¦‚æžœæ˜¯ä¸€ä¸ªä¸å¯é‡å…¥é”ï¼Œé‚£ä¹ˆå½“å‰çº¿ç¨‹åœ¨è°ƒç”¨doOthers()ä¹‹å‰éœ€è¦å°†æ‰§è¡ŒdoSomething()æ—¶èŽ·å–å½“å‰å¯¹è±¡çš„é”é‡Šæ”¾æŽ‰ï¼Œå®žé™…ä¸Šè¯¥å¯¹è±¡é”å·²è¢«å½“å‰çº¿ç¨‹æ‰€æŒæœ‰ï¼Œä¸”æ— æ³•é‡Šæ”¾ã€‚æ‰€ä»¥æ­¤æ—¶ä¼šå‡ºçŽ°æ­»é”ã€‚ è€Œä¸ºä»€ä¹ˆå¯é‡å…¥é”å°±å¯ä»¥åœ¨åµŒå¥—è°ƒç”¨æ—¶å¯ä»¥è‡ªåŠ¨èŽ·å¾—é”å‘¢ï¼Ÿæˆ‘ä»¬é€šè¿‡å›¾ç¤ºå’Œæºç æ¥åˆ†åˆ«è§£æžä¸€ä¸‹ã€‚ è¿˜æ˜¯æ‰“æ°´çš„ä¾‹å­ï¼Œæœ‰å¤šä¸ªäººåœ¨æŽ’é˜Ÿæ‰“æ°´ï¼Œæ­¤æ—¶ç®¡ç†å‘˜å…è®¸é”å’ŒåŒä¸€ä¸ªäººçš„å¤šä¸ªæ°´æ¡¶ç»‘å®šã€‚è¿™ä¸ªäººç”¨å¤šä¸ªæ°´æ¡¶æ‰“æ°´æ—¶ï¼Œç¬¬ä¸€ä¸ªæ°´æ¡¶å’Œé”ç»‘å®šå¹¶æ‰“å®Œæ°´ä¹‹åŽï¼Œç¬¬äºŒä¸ªæ°´æ¡¶ä¹Ÿå¯ä»¥ç›´æŽ¥å’Œé”ç»‘å®šå¹¶å¼€å§‹æ‰“æ°´ï¼Œæ‰€æœ‰çš„æ°´æ¡¶éƒ½æ‰“å®Œæ°´ä¹‹åŽæ‰“æ°´äººæ‰ä¼šå°†é”è¿˜ç»™ç®¡ç†å‘˜ã€‚è¿™ä¸ªäººçš„æ‰€æœ‰æ‰“æ°´æµç¨‹éƒ½èƒ½å¤ŸæˆåŠŸæ‰§è¡Œï¼ŒåŽç»­ç­‰å¾…çš„äººä¹Ÿèƒ½å¤Ÿæ‰“åˆ°æ°´ã€‚è¿™å°±æ˜¯å¯é‡å…¥é”ã€‚ ä½†å¦‚æžœæ˜¯éžå¯é‡å…¥é”çš„è¯ï¼Œæ­¤æ—¶ç®¡ç†å‘˜åªå…è®¸é”å’ŒåŒä¸€ä¸ªäººçš„ä¸€ä¸ªæ°´æ¡¶ç»‘å®šã€‚ç¬¬ä¸€ä¸ªæ°´æ¡¶å’Œé”ç»‘å®šæ‰“å®Œæ°´ä¹‹åŽå¹¶ä¸ä¼šé‡Šæ”¾é”ï¼Œå¯¼è‡´ç¬¬äºŒä¸ªæ°´æ¡¶ä¸èƒ½å’Œé”ç»‘å®šä¹Ÿæ— æ³•æ‰“æ°´ã€‚å½“å‰çº¿ç¨‹å‡ºçŽ°æ­»é”ï¼Œæ•´ä¸ªç­‰å¾…é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰çº¿ç¨‹éƒ½æ— æ³•è¢«å”¤é†’ã€‚ ä¹‹å‰æˆ‘ä»¬è¯´è¿‡ReentrantLockå’Œsynchronizedéƒ½æ˜¯é‡å…¥é”ï¼Œé‚£ä¹ˆæˆ‘ä»¬é€šè¿‡é‡å…¥é”ReentrantLockä»¥åŠéžå¯é‡å…¥é”NonReentrantLockçš„æºç æ¥å¯¹æ¯”åˆ†æžä¸€ä¸‹ä¸ºä»€ä¹ˆéžå¯é‡å…¥é”åœ¨é‡å¤è°ƒç”¨åŒæ­¥èµ„æºæ—¶ä¼šå‡ºçŽ°æ­»é”ã€‚ é¦–å…ˆReentrantLockå’ŒNonReentrantLockéƒ½ç»§æ‰¿çˆ¶ç±»AQSï¼Œå…¶çˆ¶ç±»AQSä¸­ç»´æŠ¤äº†ä¸€ä¸ªåŒæ­¥çŠ¶æ€statusæ¥è®¡æ•°é‡å…¥æ¬¡æ•°ï¼Œstatusåˆå§‹å€¼ä¸º0ã€‚ å½“çº¿ç¨‹å°è¯•èŽ·å–é”æ—¶ï¼Œå¯é‡å…¥é”å…ˆå°è¯•èŽ·å–å¹¶æ›´æ–°statuså€¼ï¼Œå¦‚æžœstatus == 0è¡¨ç¤ºæ²¡æœ‰å…¶ä»–çº¿ç¨‹åœ¨æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œåˆ™æŠŠstatusç½®ä¸º1ï¼Œå½“å‰çº¿ç¨‹å¼€å§‹æ‰§è¡Œã€‚å¦‚æžœstatus != 0ï¼Œåˆ™åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦æ˜¯èŽ·å–åˆ°è¿™ä¸ªé”çš„çº¿ç¨‹ï¼Œå¦‚æžœæ˜¯çš„è¯æ‰§è¡Œstatus+1ï¼Œä¸”å½“å‰çº¿ç¨‹å¯ä»¥å†æ¬¡èŽ·å–é”ã€‚è€Œéžå¯é‡å…¥é”æ˜¯ç›´æŽ¥åŽ»èŽ·å–å¹¶å°è¯•æ›´æ–°å½“å‰statusçš„å€¼ï¼Œå¦‚æžœstatus != 0çš„è¯ä¼šå¯¼è‡´å…¶èŽ·å–é”å¤±è´¥ï¼Œå½“å‰çº¿ç¨‹é˜»å¡žã€‚ é‡Šæ”¾é”æ—¶ï¼Œå¯é‡å…¥é”åŒæ ·å…ˆèŽ·å–å½“å‰statusçš„å€¼ï¼Œåœ¨å½“å‰çº¿ç¨‹æ˜¯æŒæœ‰é”çš„çº¿ç¨‹çš„å‰æä¸‹ã€‚å¦‚æžœstatus-1 == 0ï¼Œåˆ™è¡¨ç¤ºå½“å‰çº¿ç¨‹æ‰€æœ‰é‡å¤èŽ·å–é”çš„æ“ä½œéƒ½å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œç„¶åŽè¯¥çº¿ç¨‹æ‰ä¼šçœŸæ­£é‡Šæ”¾é”ã€‚è€Œéžå¯é‡å…¥é”åˆ™æ˜¯åœ¨ç¡®å®šå½“å‰çº¿ç¨‹æ˜¯æŒæœ‰é”çš„çº¿ç¨‹ä¹‹åŽï¼Œç›´æŽ¥å°†statusç½®ä¸º0ï¼Œå°†é”é‡Šæ”¾ã€‚ ç‹¬äº«é” VS å…±äº«é”ç‹¬äº«é”å’Œå…±äº«é”åŒæ ·æ˜¯ä¸€ç§æ¦‚å¿µã€‚æˆ‘ä»¬å…ˆä»‹ç»ä¸€ä¸‹å…·ä½“çš„æ¦‚å¿µï¼Œç„¶åŽé€šè¿‡ReentrantLockå’ŒReentrantReadWriteLockçš„æºç æ¥ä»‹ç»ç‹¬äº«é”å’Œå…±äº«é”ã€‚ ç‹¬äº«é”ä¹Ÿå«æŽ’ä»–é”ï¼Œæ˜¯æŒ‡è¯¥é”ä¸€æ¬¡åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹æ‰€æŒæœ‰ã€‚å¦‚æžœçº¿ç¨‹Tå¯¹æ•°æ®AåŠ ä¸ŠæŽ’å®ƒé”åŽï¼Œåˆ™å…¶ä»–çº¿ç¨‹ä¸èƒ½å†å¯¹AåŠ ä»»ä½•ç±»åž‹çš„é”ã€‚èŽ·å¾—æŽ’å®ƒé”çš„çº¿ç¨‹å³èƒ½è¯»æ•°æ®åˆèƒ½ä¿®æ”¹æ•°æ®ã€‚JDKä¸­çš„synchronizedå’ŒJUCä¸­Lockçš„å®žçŽ°ç±»å°±æ˜¯äº’æ–¥é”ã€‚ å…±äº«é”æ˜¯æŒ‡è¯¥é”å¯è¢«å¤šä¸ªçº¿ç¨‹æ‰€æŒæœ‰ã€‚å¦‚æžœçº¿ç¨‹Tå¯¹æ•°æ®AåŠ ä¸Šå…±äº«é”åŽï¼Œåˆ™å…¶ä»–çº¿ç¨‹åªèƒ½å¯¹Aå†åŠ å…±äº«é”ï¼Œä¸èƒ½åŠ æŽ’å®ƒé”ã€‚èŽ·å¾—å…±äº«é”çš„çº¿ç¨‹åªèƒ½è¯»æ•°æ®ï¼Œä¸èƒ½ä¿®æ”¹æ•°æ®ã€‚ ç‹¬äº«é”ä¸Žå…±äº«é”ä¹Ÿæ˜¯é€šè¿‡AQSæ¥å®žçŽ°çš„ï¼Œé€šè¿‡å®žçŽ°ä¸åŒçš„æ–¹æ³•ï¼Œæ¥å®žçŽ°ç‹¬äº«æˆ–è€…å…±äº«ã€‚ ä¸‹å›¾ä¸ºReentrantReadWriteLockçš„éƒ¨åˆ†æºç ï¼š æˆ‘ä»¬çœ‹åˆ°ReentrantReadWriteLockæœ‰ä¸¤æŠŠé”ï¼šReadLockå’ŒWriteLockï¼Œç”±è¯çŸ¥æ„ï¼Œä¸€ä¸ªè¯»é”ä¸€ä¸ªå†™é”ï¼Œåˆç§°â€œè¯»å†™é”â€ã€‚å†è¿›ä¸€æ­¥è§‚å¯Ÿå¯ä»¥å‘çŽ°ReadLockå’ŒWriteLockæ˜¯é å†…éƒ¨ç±»Syncå®žçŽ°çš„é”ã€‚Syncæ˜¯AQSçš„ä¸€ä¸ªå­ç±»ï¼Œè¿™ç§ç»“æž„åœ¨CountDownLatchã€ReentrantLockã€Semaphoreé‡Œé¢ä¹Ÿéƒ½å­˜åœ¨ã€‚ åœ¨ReentrantReadWriteLocké‡Œé¢ï¼Œè¯»é”å’Œå†™é”çš„é”ä¸»ä½“éƒ½æ˜¯Syncï¼Œä½†è¯»é”å’Œå†™é”çš„åŠ é”æ–¹å¼ä¸ä¸€æ ·ã€‚è¯»é”æ˜¯å…±äº«é”ï¼Œå†™é”æ˜¯ç‹¬äº«é”ã€‚è¯»é”çš„å…±äº«é”å¯ä¿è¯å¹¶å‘è¯»éžå¸¸é«˜æ•ˆï¼Œè€Œè¯»å†™ã€å†™è¯»ã€å†™å†™çš„è¿‡ç¨‹äº’æ–¥ï¼Œå› ä¸ºè¯»é”å’Œå†™é”æ˜¯åˆ†ç¦»çš„ã€‚æ‰€ä»¥ReentrantReadWriteLockçš„å¹¶å‘æ€§ç›¸æ¯”ä¸€èˆ¬çš„äº’æ–¥é”æœ‰äº†å¾ˆå¤§æå‡ã€‚ é‚£è¯»é”å’Œå†™é”çš„å…·ä½“åŠ é”æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿåœ¨äº†è§£æºç ä¹‹å‰æˆ‘ä»¬éœ€è¦å›žé¡¾ä¸€ä¸‹å…¶ä»–çŸ¥è¯†ã€‚ åœ¨æœ€å¼€å§‹æåŠAQSçš„æ—¶å€™æˆ‘ä»¬ä¹Ÿæåˆ°äº†stateå­—æ®µï¼ˆintç±»åž‹ï¼Œ32ä½ï¼‰ï¼Œè¯¥å­—æ®µç”¨æ¥æè¿°æœ‰å¤šå°‘çº¿ç¨‹èŽ·æŒæœ‰é”ã€‚ åœ¨ç‹¬äº«é”ä¸­è¿™ä¸ªå€¼é€šå¸¸æ˜¯0æˆ–è€…1ï¼ˆå¦‚æžœæ˜¯é‡å…¥é”çš„è¯stateå€¼å°±æ˜¯é‡å…¥çš„æ¬¡æ•°ï¼‰ï¼Œåœ¨å…±äº«é”ä¸­stateå°±æ˜¯æŒæœ‰é”çš„æ•°é‡ã€‚ä½†æ˜¯åœ¨ReentrantReadWriteLockä¸­æœ‰è¯»ã€å†™ä¸¤æŠŠé”ï¼Œæ‰€ä»¥éœ€è¦åœ¨ä¸€ä¸ªæ•´åž‹å˜é‡stateä¸Šåˆ†åˆ«æè¿°è¯»é”å’Œå†™é”çš„æ•°é‡ï¼ˆæˆ–è€…ä¹Ÿå¯ä»¥å«çŠ¶æ€ï¼‰ã€‚äºŽæ˜¯å°†stateå˜é‡â€œæŒ‰ä½åˆ‡å‰²â€åˆ‡åˆ†æˆäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼Œé«˜16ä½è¡¨ç¤ºè¯»é”çŠ¶æ€ï¼ˆè¯»é”ä¸ªæ•°ï¼‰ï¼Œä½Ž16ä½è¡¨ç¤ºå†™é”çŠ¶æ€ï¼ˆå†™é”ä¸ªæ•°ï¼‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š äº†è§£äº†æ¦‚å¿µä¹‹åŽæˆ‘ä»¬å†æ¥çœ‹ä»£ç ï¼Œå…ˆçœ‹å†™é”çš„åŠ é”æºç ï¼š 12345678910111213141516171819protected final boolean tryAcquire(int acquires) &#123; Thread current = Thread.currentThread(); int c = getState(); // å–åˆ°å½“å‰é”çš„ä¸ªæ•° int w = exclusiveCount(c); // å–å†™é”çš„ä¸ªæ•°w if (c != 0) &#123; // å¦‚æžœå·²ç»æœ‰çº¿ç¨‹æŒæœ‰äº†é”(c!=0) // (Note: if c != 0 and w == 0 then shared count != 0) if (w == 0 || current != getExclusiveOwnerThread()) // å¦‚æžœå†™çº¿ç¨‹æ•°ï¼ˆwï¼‰ä¸º0ï¼ˆæ¢è¨€ä¹‹å­˜åœ¨è¯»é”ï¼‰ æˆ–è€…æŒæœ‰é”çš„çº¿ç¨‹ä¸æ˜¯å½“å‰çº¿ç¨‹å°±è¿”å›žå¤±è´¥ return false; if (w + exclusiveCount(acquires) &gt; MAX_COUNT) // å¦‚æžœå†™å…¥é”çš„æ•°é‡å¤§äºŽæœ€å¤§æ•°ï¼ˆ65535ï¼Œ2çš„16æ¬¡æ–¹-1ï¼‰å°±æŠ›å‡ºä¸€ä¸ªErrorã€‚ throw new Error(\"Maximum lock count exceeded\"); // Reentrant acquire setState(c + acquires); return true; &#125; if (writerShouldBlock() || !compareAndSetState(c, c + acquires)) // å¦‚æžœå½“ä¸”å†™çº¿ç¨‹æ•°ä¸º0ï¼Œå¹¶ä¸”å½“å‰çº¿ç¨‹éœ€è¦é˜»å¡žé‚£ä¹ˆå°±è¿”å›žå¤±è´¥ï¼›æˆ–è€…å¦‚æžœé€šè¿‡CASå¢žåŠ å†™çº¿ç¨‹æ•°å¤±è´¥ä¹Ÿè¿”å›žå¤±è´¥ã€‚ return false; setExclusiveOwnerThread(current); // å¦‚æžœc=0ï¼Œw=0æˆ–è€…c&gt;0ï¼Œw&gt;0ï¼ˆé‡å…¥ï¼‰ï¼Œåˆ™è®¾ç½®å½“å‰çº¿ç¨‹æˆ–é”çš„æ‹¥æœ‰è€… return true;&#125; è¿™æ®µä»£ç é¦–å…ˆå–åˆ°å½“å‰é”çš„ä¸ªæ•°cï¼Œç„¶åŽå†é€šè¿‡cæ¥èŽ·å–å†™é”çš„ä¸ªæ•°wã€‚å› ä¸ºå†™é”æ˜¯ä½Ž16ä½ï¼Œæ‰€ä»¥å–ä½Ž16ä½çš„æœ€å¤§å€¼ä¸Žå½“å‰çš„cåšä¸Žè¿ç®—ï¼ˆ int w = exclusiveCountÂ©; ï¼‰ï¼Œé«˜16ä½å’Œ0ä¸Žè¿ç®—åŽæ˜¯0ï¼Œå‰©ä¸‹çš„å°±æ˜¯ä½Žä½è¿ç®—çš„å€¼ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æŒæœ‰å†™é”çš„çº¿ç¨‹æ•°ç›®ã€‚ åœ¨å–åˆ°å†™é”çº¿ç¨‹çš„æ•°ç›®åŽï¼Œé¦–å…ˆåˆ¤æ–­æ˜¯å¦å·²ç»æœ‰çº¿ç¨‹æŒæœ‰äº†é”ã€‚å¦‚æžœå·²ç»æœ‰çº¿ç¨‹æŒæœ‰äº†é”(c!=0)ï¼Œåˆ™æŸ¥çœ‹å½“å‰å†™é”çº¿ç¨‹çš„æ•°ç›®ï¼Œå¦‚æžœå†™çº¿ç¨‹æ•°ä¸º0ï¼ˆå³æ­¤æ—¶å­˜åœ¨è¯»é”ï¼‰æˆ–è€…æŒæœ‰é”çš„çº¿ç¨‹ä¸æ˜¯å½“å‰çº¿ç¨‹å°±è¿”å›žå¤±è´¥ï¼ˆæ¶‰åŠåˆ°å…¬å¹³é”å’Œéžå…¬å¹³é”çš„å®žçŽ°ï¼‰ã€‚ å¦‚æžœå†™å…¥é”çš„æ•°é‡å¤§äºŽæœ€å¤§æ•°ï¼ˆ65535ï¼Œ2çš„16æ¬¡æ–¹-1ï¼‰å°±æŠ›å‡ºä¸€ä¸ªErrorã€‚ å¦‚æžœå½“ä¸”å†™çº¿ç¨‹æ•°ä¸º0ï¼ˆé‚£ä¹ˆè¯»çº¿ç¨‹ä¹Ÿåº”è¯¥ä¸º0ï¼Œå› ä¸ºä¸Šé¢å·²ç»å¤„ç†c!=0çš„æƒ…å†µï¼‰ï¼Œå¹¶ä¸”å½“å‰çº¿ç¨‹éœ€è¦é˜»å¡žé‚£ä¹ˆå°±è¿”å›žå¤±è´¥ï¼›å¦‚æžœé€šè¿‡CASå¢žåŠ å†™çº¿ç¨‹æ•°å¤±è´¥ä¹Ÿè¿”å›žå¤±è´¥ã€‚ å¦‚æžœc=0,w=0æˆ–è€…c&gt;0,w&gt;0ï¼ˆé‡å…¥ï¼‰ï¼Œåˆ™è®¾ç½®å½“å‰çº¿ç¨‹æˆ–é”çš„æ‹¥æœ‰è€…ï¼Œè¿”å›žæˆåŠŸï¼ tryAcquire()é™¤äº†é‡å…¥æ¡ä»¶ï¼ˆå½“å‰çº¿ç¨‹ä¸ºèŽ·å–äº†å†™é”çš„çº¿ç¨‹ï¼‰ä¹‹å¤–ï¼Œå¢žåŠ äº†ä¸€ä¸ªè¯»é”æ˜¯å¦å­˜åœ¨çš„åˆ¤æ–­ã€‚å¦‚æžœå­˜åœ¨è¯»é”ï¼Œåˆ™å†™é”ä¸èƒ½è¢«èŽ·å–ï¼ŒåŽŸå› åœ¨äºŽï¼šå¿…é¡»ç¡®ä¿å†™é”çš„æ“ä½œå¯¹è¯»é”å¯è§ï¼Œå¦‚æžœå…è®¸è¯»é”åœ¨å·²è¢«èŽ·å–çš„æƒ…å†µä¸‹å¯¹å†™é”çš„èŽ·å–ï¼Œé‚£ä¹ˆæ­£åœ¨è¿è¡Œçš„å…¶ä»–è¯»çº¿ç¨‹å°±æ— æ³•æ„ŸçŸ¥åˆ°å½“å‰å†™çº¿ç¨‹çš„æ“ä½œã€‚ å› æ­¤ï¼Œåªæœ‰ç­‰å¾…å…¶ä»–è¯»çº¿ç¨‹éƒ½é‡Šæ”¾äº†è¯»é”ï¼Œå†™é”æ‰èƒ½è¢«å½“å‰çº¿ç¨‹èŽ·å–ï¼Œè€Œå†™é”ä¸€æ—¦è¢«èŽ·å–ï¼Œåˆ™å…¶ä»–è¯»å†™çº¿ç¨‹çš„åŽç»­è®¿é—®å‡è¢«é˜»å¡žã€‚å†™é”çš„é‡Šæ”¾ä¸ŽReentrantLockçš„é‡Šæ”¾è¿‡ç¨‹åŸºæœ¬ç±»ä¼¼ï¼Œæ¯æ¬¡é‡Šæ”¾å‡å‡å°‘å†™çŠ¶æ€ï¼Œå½“å†™çŠ¶æ€ä¸º0æ—¶è¡¨ç¤ºå†™é”å·²è¢«é‡Šæ”¾ï¼Œç„¶åŽç­‰å¾…çš„è¯»å†™çº¿ç¨‹æ‰èƒ½å¤Ÿç»§ç»­è®¿é—®è¯»å†™é”ï¼ŒåŒæ—¶å‰æ¬¡å†™çº¿ç¨‹çš„ä¿®æ”¹å¯¹åŽç»­çš„è¯»å†™çº¿ç¨‹å¯è§ã€‚ æŽ¥ç€æ˜¯è¯»é”çš„ä»£ç ï¼š 123456789101112131415161718192021222324252627protected final int tryAcquireShared(int unused) &#123; Thread current = Thread.currentThread(); int c = getState(); if (exclusiveCount(c) != 0 &amp;&amp; getExclusiveOwnerThread() != current) return -1; // å¦‚æžœå…¶ä»–çº¿ç¨‹å·²ç»èŽ·å–äº†å†™é”ï¼Œåˆ™å½“å‰çº¿ç¨‹èŽ·å–è¯»é”å¤±è´¥ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ int r = sharedCount(c); if (!readerShouldBlock() &amp;&amp; r &lt; MAX_COUNT &amp;&amp; compareAndSetState(c, c + SHARED_UNIT)) &#123; if (r == 0) &#123; firstReader = current; firstReaderHoldCount = 1; &#125; else if (firstReader == current) &#123; firstReaderHoldCount++; &#125; else &#123; HoldCounter rh = cachedHoldCounter; if (rh == null || rh.tid != getThreadId(current)) cachedHoldCounter = rh = readHolds.get(); else if (rh.count == 0) readHolds.set(rh); rh.count++; &#125; return 1; &#125; return fullTryAcquireShared(current);&#125; å¯ä»¥çœ‹åˆ°åœ¨tryAcquireShared(int unused)æ–¹æ³•ä¸­ï¼Œå¦‚æžœå…¶ä»–çº¿ç¨‹å·²ç»èŽ·å–äº†å†™é”ï¼Œåˆ™å½“å‰çº¿ç¨‹èŽ·å–è¯»é”å¤±è´¥ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚å¦‚æžœå½“å‰çº¿ç¨‹èŽ·å–äº†å†™é”æˆ–è€…å†™é”æœªè¢«èŽ·å–ï¼Œåˆ™å½“å‰çº¿ç¨‹ï¼ˆçº¿ç¨‹å®‰å…¨ï¼Œä¾é CASä¿è¯ï¼‰å¢žåŠ è¯»çŠ¶æ€ï¼ŒæˆåŠŸèŽ·å–è¯»é”ã€‚è¯»é”çš„æ¯æ¬¡é‡Šæ”¾ï¼ˆçº¿ç¨‹å®‰å…¨çš„ï¼Œå¯èƒ½æœ‰å¤šä¸ªè¯»çº¿ç¨‹åŒæ—¶é‡Šæ”¾è¯»é”ï¼‰å‡å‡å°‘è¯»çŠ¶æ€ï¼Œå‡å°‘çš„å€¼æ˜¯â€œ1&lt;&lt;16â€ã€‚æ‰€ä»¥è¯»å†™é”æ‰èƒ½å®žçŽ°è¯»è¯»çš„è¿‡ç¨‹å…±äº«ï¼Œè€Œè¯»å†™ã€å†™è¯»ã€å†™å†™çš„è¿‡ç¨‹äº’æ–¥ã€‚ æ­¤æ—¶ï¼Œæˆ‘ä»¬å†å›žå¤´çœ‹ä¸€ä¸‹äº’æ–¥é”ReentrantLockä¸­å…¬å¹³é”å’Œéžå…¬å¹³é”çš„åŠ é”æºç ï¼š æˆ‘ä»¬å‘çŽ°åœ¨ReentrantLockè™½ç„¶æœ‰å…¬å¹³é”å’Œéžå…¬å¹³é”ä¸¤ç§ï¼Œä½†æ˜¯å®ƒä»¬æ·»åŠ çš„éƒ½æ˜¯ç‹¬äº«é”ã€‚æ ¹æ®æºç æ‰€ç¤ºï¼Œå½“æŸä¸€ä¸ªçº¿ç¨‹è°ƒç”¨lockæ–¹æ³•èŽ·å–é”æ—¶ï¼Œå¦‚æžœåŒæ­¥èµ„æºæ²¡æœ‰è¢«å…¶ä»–çº¿ç¨‹é”ä½ï¼Œé‚£ä¹ˆå½“å‰çº¿ç¨‹åœ¨ä½¿ç”¨CASæ›´æ–°stateæˆåŠŸåŽå°±ä¼šæˆåŠŸæŠ¢å è¯¥èµ„æºã€‚è€Œå¦‚æžœå…¬å…±èµ„æºè¢«å ç”¨ä¸”ä¸æ˜¯è¢«å½“å‰çº¿ç¨‹å ç”¨ï¼Œé‚£ä¹ˆå°±ä¼šåŠ é”å¤±è´¥ã€‚æ‰€ä»¥å¯ä»¥ç¡®å®šReentrantLockæ— è®ºè¯»æ“ä½œè¿˜æ˜¯å†™æ“ä½œï¼Œæ·»åŠ çš„é”éƒ½æ˜¯éƒ½æ˜¯ç‹¬äº«é”ã€‚ é—­é” VS æ­»é” VS æ´»é”é—­é”é—­é”æ˜¯ä¸€ç§åŒæ­¥å·¥å…·ç±»ï¼Œå¯ä»¥å»¶è¿Ÿçº¿ç¨‹çš„è¿›åº¦ç›´åˆ°å…¶åˆ°è¾¾ç»ˆæ­¢çŠ¶æ€ã€‚é—­é”çš„ä½œç”¨ç›¸å½“äºŽä¸€æ‰‡é—¨ï¼šåœ¨é—­é”åˆ°è¾¾ç»“æŸçŠ¶æ€ä¹‹å‰ï¼Œè¿™æ‰‡é—¨ä¸€ç›´æ˜¯å…³é—­çš„ï¼Œå¹¶ä¸”æ²¡æœ‰ä»»ä½•çº¿ç¨‹èƒ½é€šè¿‡ï¼Œå½“åˆ°è¾¾ç»“æŸçŠ¶æ€æ—¶ï¼Œè¿™æ‰‡é—¨ä¼šæ‰“å¼€å…è®¸æ‰€æœ‰çš„çº¿ç¨‹é€šè¿‡ã€‚å½“é—­é”åˆ°è¾¾ç»“æŸçŠ¶æ€åŽï¼Œå°†ä¸ä¼šå†æ”¹å˜çŠ¶æ€ï¼Œå› æ­¤è¿™æ‰‡é—¨å°†æ°¸è¿œä¿æŒæ‰“å¼€çŠ¶æ€ã€‚é—­é”å¯ä»¥ç”¨æ¥ç¡®ä¿æŸäº›æ´»åŠ¨æŒ‡å¯¼å…¶ä»–æ´»åŠ¨éƒ½å®ŒæˆåŽæ‰ç»§ç»­æ‰§è¡Œã€‚CountDownLatchå°±æ˜¯ä¸€ç§çµæ´»çš„é—­é”å®žçŽ°ã€‚ æ­»é”æ­»é”æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå› äº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§äº’ç›¸ç­‰å¾…ï¼ˆé”åµŒå¥—ï¼‰çš„çŽ°è±¡ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œä»–ä»¬éƒ½å°†æ— æ³•æŽ¨è¿›ä¸‹åŽ»ã€‚è¿™æ˜¯ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼Œå› ä¸ºæ­»é”ä¼šè®©ä½ çš„ç¨‹åºæŒ‚èµ·æ— æ³•å®Œæˆä»»åŠ¡ï¼Œæ­»é”çš„å‘ç”Ÿå¿…é¡»æ»¡è¶³ä¸€ä¸‹4ä¸ªæ¡ä»¶ï¼š äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ã€‚ è¯·æ±‚ä¸Žä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡žæ—¶ï¼Œå¯¹å·²èŽ·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚ ä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹å·²èŽ·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤ºã€‚ å¾ªçŽ¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æŽ¥çš„å¾ªçŽ¯ç­‰å¾…èµ„æºå…³ç³»ã€‚ é¿å…æ­»é”æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯é˜»æ­¢å¾ªçŽ¯ç­‰å¾…æ¡ä»¶ï¼Œå°†ç³»ç»Ÿä¸­æ‰€æœ‰çš„èµ„æºè®¾ç½®æ ‡å¿—ä½ã€æŽ’åºï¼Œè§„å®šæ‰€æœ‰çš„è¿›ç¨‹ç”³è¯·èµ„æºå¿…é¡»ä»¥ä¸€å®šçš„é¡ºåºåšæ“ä½œæ¥é¿å…æ­»é”ã€‚ æ´»é”LiveLockæ˜¯ä¸€ç§å½¢å¼æ´»è·ƒæ€§é—®é¢˜ï¼Œè¯¥é—®é¢˜å°½ç®¡ä¸ä¼šé˜»å¡žçº¿ç¨‹ï¼Œä½†ä¹Ÿä¸èƒ½ç»§ç»­æ‰§è¡Œï¼Œå› ä¸ºçº¿ç¨‹å°†ä¸æ–­é‡å¤æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œè€Œä¸”æ€»ä¼šå¤±è´¥ã€‚æ´»é”é€šå¸¸å‘é€åœ¨å¤„ç†äº‹åŠ¡æ¶ˆæ¯çš„åº”ç”¨ç¨‹åºä¸­ï¼šå¦‚æžœä¸èƒ½æˆåŠŸåœ°å¤„ç†æŸä¸ªæ¶ˆæ¯ï¼Œé‚£ä¹ˆæ¶ˆæ¯å¤„ç†æœºåˆ¶å°†å›žæ»šæ•´ä¸ªäº‹åŠ¡ï¼Œå¹¶å°†å®ƒé‡æ–°æ”¾åˆ°é˜Ÿåˆ—çš„å¼€å¤´ï¼šå¦‚æžœä¸èƒ½æˆåŠŸåœ°å¤„ç†æŸä¸ªæ¶ˆæ¯ï¼Œé‚£ä¹ˆæ¶ˆæ¯å¤„ç†æœºåˆ¶å°†å›žæ»šæ•´ä¸ªäº‹åŠ¡ï¼Œå¹¶å°†å®ƒé‡æ–°æ”¾åˆ°é˜Ÿåˆ—çš„å¼€å¤´ã€‚å¦‚æžœæ¶ˆæ¯å¤„ç†å™¨åœ¨å¤„ç†æŸç§ç‰¹å®šç±»åž‹çš„æ¶ˆæ¯æ—¶å­˜åœ¨é”™è¯¯å¹¶å¯¼è‡´å®ƒå¤±è´¥ï¼Œé‚£ä¹ˆæ¯å½“è¿™ä¸ªæ¶ˆæ¯ä»Žé˜Ÿåˆ—ä¸­å–å‡ºå¹¶ä¼ é€’åˆ°å­˜åœ¨é”™è¯¯çš„å¤„ç†å™¨æ—¶ï¼Œéƒ½ä¼šå‘ç”Ÿäº‹åŠ¡å›žæ»šã€‚ç”±äºŽè¿™æ¡æ¶ˆæ¯åˆè¢«æ”¾å›žåˆ°é˜Ÿåˆ—å¼€å¤´ï¼Œå› æ­¤å¤„ç†å™¨å°†è¢«åå¤è°ƒç”¨ï¼Œå¹¶è¿”å›žç›¸åŒçš„ç»“æžœã€‚ æ€»ç»“æœ¬æ–‡Javaä¸­å¸¸ç”¨çš„é”ä»¥åŠå¸¸è§çš„é”çš„æ¦‚å¿µè¿›è¡Œäº†åŸºæœ¬ä»‹ç»ï¼Œå¹¶ä»Žæºç ä»¥åŠå®žé™…åº”ç”¨çš„è§’åº¦è¿›è¡Œäº†å¯¹æ¯”åˆ†æžã€‚é™äºŽç¯‡å¹…ä»¥åŠä¸ªäººæ°´å¹³ï¼Œæ²¡æœ‰åœ¨æœ¬ç¯‡æ–‡ç« ä¸­å¯¹æ‰€æœ‰å†…å®¹è¿›è¡Œæ·±å±‚æ¬¡çš„è®²è§£ã€‚åŽç»­æˆ‘æœ¬äººå°†ä¼šå¯¹Javaçš„é”è¿›è¡Œä¾æ¬¡è®²è§£ã€‚ å…¶å®žJavaæœ¬èº«å·²ç»å¯¹é”æœ¬èº«è¿›è¡Œäº†è‰¯å¥½çš„å°è£…ï¼Œé™ä½Žäº†æˆ‘ä»¬åœ¨å¹³æ—¶å·¥ä½œä¸­çš„ä½¿ç”¨éš¾åº¦ã€‚ä½†æ˜¯æˆ‘ä»¬ä¹Ÿéœ€è¦ç†Ÿæ‚‰é”çš„åº•å±‚åŽŸç†ï¼Œä¸åŒåœºæ™¯ä¸‹é€‰æ‹©æœ€é€‚åˆçš„é”ã€‚è€Œä¸”æºç ä¸­çš„æ€è·¯éƒ½æ˜¯éžå¸¸å¥½çš„æ€è·¯ï¼Œä¹Ÿæ˜¯å€¼å¾—å¤§å®¶åŽ»å­¦ä¹ å’Œå€Ÿé‰´çš„ã€‚ å‚è€ƒæ–‡çŒ® ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆç¬¬2ç‰ˆï¼‰ã€‹å‘¨å¿—æ˜Žè‘— ã€ŠJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹æ–¹è…¾é£žç­‰è‘— Java CAS åŽŸç†å‰–æž Javaä¸­çš„é” Java synchronizedåŽŸç†æ€»ç»“ Javaå¹¶å‘â€”å…³é”®å­—synchronizedè§£æž èŠèŠå¹¶å‘ï¼ˆäºŒï¼‰â€”Java SE1.6ä¸­çš„Synchronized æ·±å…¥ç†è§£è¯»å†™é”â€”ReadWriteLockæºç åˆ†æž ã€JUCã€‘JDK1.8æºç åˆ†æžä¹‹ReentrantReadWriteLock Javaå¤šçº¿ç¨‹ï¼ˆåï¼‰ä¹‹ReentrantReadWriteLockæ·±å…¥åˆ†æž Javaâ€“è¯»å†™é”çš„å®žçŽ°åŽŸç†","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"JVMåŠå¹¶å‘ç¼–ç¨‹","slug":"JVMåŠå¹¶å‘ç¼–ç¨‹","permalink":"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/"}]},{"title":"æ·±å…¥åˆ†æžHashMapæºç ","slug":"æ·±å…¥åˆ†æžHashMapæºç ","date":"2019-04-01T12:47:22.000Z","updated":"2019-05-29T14:03:52.000Z","comments":true,"path":"2019/04/01/æ·±å…¥åˆ†æžHashMapæºç /","link":"","permalink":"http://ltyeamin.github.io/2019/04/01/æ·±å…¥åˆ†æžHashMapæºç /","excerpt":"","text":"Mapè¿™ç§Key-Valueæ ¼å¼çš„æ•°æ®ç»“æž„åœ¨æ—¥å¸¸å¼€å‘ä¸­æ˜¯éžå¸¸çš„å¸¸è§ï¼Œå¤§éƒ¨åˆ†çš„é«˜çº§ç¼–ç¨‹è¯­è¨€éƒ½æœ‰Mapç±»åž‹ï¼ŒMapç±»åž‹å¸¸ç”¨äºŽåœ¨å†…å­˜ä¸­å­˜å–æ•°æ®ã€‚ åœ¨Javaä¸­ï¼ŒHashMapæ˜¯Javaç¨‹åºå‘˜ä½¿ç”¨é¢‘çŽ‡æœ€é«˜çš„ç”¨äºŽæ˜ å°„(é”®å€¼å¯¹)å¤„ç†çš„æ•°æ®ç±»åž‹ã€‚éšç€JDKï¼ˆJava Developmet Kitï¼‰ç‰ˆæœ¬çš„æ›´æ–°ï¼ŒJDK1.8å¯¹HashMapåº•å±‚çš„å®žçŽ°è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä¾‹å¦‚å¼•å…¥çº¢é»‘æ ‘çš„æ•°æ®ç»“æž„å’Œæ‰©å®¹çš„ä¼˜åŒ–ç­‰ã€‚æœ¬æ–‡æ·±å…¥æŽ¢è®¨JDK1.8çš„HashMapçš„ç»“æž„å®žçŽ°å’ŒåŠŸèƒ½åŽŸç†ã€‚ Javaä¸ºæ•°æ®ç»“æž„ä¸­çš„æ˜ å°„å®šä¹‰äº†ä¸€ä¸ªæŽ¥å£java.util.Mapï¼Œæ­¤æŽ¥å£ä¸»è¦æœ‰å››ä¸ªå¸¸ç”¨çš„å®žçŽ°ç±»ï¼Œåˆ†åˆ«æ˜¯HashMapã€Hashtableã€LinkedHashMapå’ŒTreeMapï¼Œç±»ç»§æ‰¿å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¸‹é¢é’ˆå¯¹å„ä¸ªå®žçŽ°ç±»çš„ç‰¹ç‚¹åšä¸€äº›è¯´æ˜Žï¼š HashMapï¼šå®ƒæ ¹æ®é”®çš„hashCodeå€¼å­˜å‚¨æ•°æ®ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹å¯ä»¥ç›´æŽ¥å®šä½åˆ°å®ƒçš„å€¼ï¼Œå› è€Œå…·æœ‰å¾ˆå¿«çš„è®¿é—®é€Ÿåº¦ï¼Œä½†éåŽ†é¡ºåºå´æ˜¯ä¸ç¡®å®šçš„ã€‚ HashMapæœ€å¤šåªå…è®¸ä¸€æ¡è®°å½•çš„é”®ä¸ºnullï¼Œå…è®¸å¤šæ¡è®°å½•çš„å€¼ä¸ºnullã€‚HashMapéžçº¿ç¨‹å®‰å…¨ï¼Œå³ä»»ä¸€æ—¶åˆ»å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶å†™HashMapï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚å¦‚æžœéœ€è¦æ»¡è¶³çº¿ç¨‹å®‰å…¨ï¼Œå¯ä»¥ç”¨ Collectionsçš„synchronizedMapæ–¹æ³•ä½¿HashMapå…·æœ‰çº¿ç¨‹å®‰å…¨çš„èƒ½åŠ›ï¼Œæˆ–è€…ä½¿ç”¨ConcurrentHashMapã€‚ Hashtableï¼šHashtableæ˜¯é—ç•™ç±»ï¼Œå¾ˆå¤šæ˜ å°„çš„å¸¸ç”¨åŠŸèƒ½ä¸ŽHashMapç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯å®ƒæ‰¿è‡ªDictionaryç±»ï¼Œå¹¶ä¸”æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä»»ä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å†™Hashtableï¼Œå¹¶å‘æ€§ä¸å¦‚ConcurrentHashMapï¼Œå› ä¸ºConcurrentHashMapå¼•å…¥äº†åˆ†æ®µé”ï¼ˆJDK8è¿˜æœ‰ä¼˜åŒ–ï¼‰ã€‚Hashtableä¸å»ºè®®åœ¨æ–°ä»£ç ä¸­ä½¿ç”¨ï¼Œä¸éœ€è¦çº¿ç¨‹å®‰å…¨çš„åœºåˆå¯ä»¥ç”¨HashMapæ›¿æ¢ï¼Œéœ€è¦çº¿ç¨‹å®‰å…¨çš„åœºåˆå¯ä»¥ç”¨ConcurrentHashMapæ›¿æ¢ã€‚ LinkedHashMapï¼šLinkedHashMapæ˜¯HashMapçš„ä¸€ä¸ªå­ç±»ï¼Œä¿å­˜äº†è®°å½•çš„æ’å…¥é¡ºåºï¼Œåœ¨ç”¨IteratoréåŽ†LinkedHashMapæ—¶ï¼Œå…ˆå¾—åˆ°çš„è®°å½•è‚¯å®šæ˜¯å…ˆæ’å…¥çš„ï¼Œä¹Ÿå¯ä»¥åœ¨æž„é€ æ—¶å¸¦å‚æ•°ï¼ŒæŒ‰ç…§è®¿é—®æ¬¡åºæŽ’åºã€‚ TreeMapï¼šTreeMapå®žçŽ°SortedMapæŽ¥å£ï¼Œèƒ½å¤ŸæŠŠå®ƒä¿å­˜çš„è®°å½•æ ¹æ®é”®æŽ’åºï¼Œé»˜è®¤æ˜¯æŒ‰é”®å€¼çš„å‡åºæŽ’åºï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæŽ’åºçš„æ¯”è¾ƒå™¨ï¼Œå½“ç”¨IteratoréåŽ†TreeMapæ—¶ï¼Œå¾—åˆ°çš„è®°å½•æ˜¯æŽ’è¿‡åºçš„ã€‚å¦‚æžœä½¿ç”¨æŽ’åºçš„æ˜ å°„ï¼Œå»ºè®®ä½¿ç”¨TreeMapã€‚åœ¨ä½¿ç”¨TreeMapæ—¶ï¼Œkeyå¿…é¡»å®žçŽ°ComparableæŽ¥å£æˆ–è€…åœ¨æž„é€ TreeMapä¼ å…¥è‡ªå®šä¹‰çš„Comparatorï¼Œå¦åˆ™ä¼šåœ¨è¿è¡Œæ—¶æŠ›å‡ºjava.lang.ClassCastExceptionç±»åž‹çš„å¼‚å¸¸ã€‚ å¯¹äºŽä¸Šè¿°å››ç§Mapç±»åž‹çš„ç±»ï¼Œè¦æ±‚æ˜ å°„ä¸­çš„keyæ˜¯ä¸å¯å˜å¯¹è±¡ã€‚ä¸å¯å˜å¯¹è±¡æ˜¯è¯¥å¯¹è±¡åœ¨åˆ›å»ºåŽå®ƒçš„å“ˆå¸Œå€¼ä¸ä¼šè¢«æ”¹å˜ã€‚å¦‚æžœå¯¹è±¡çš„å“ˆå¸Œå€¼å‘ç”Ÿå˜åŒ–ï¼ŒMapå¯¹è±¡å¾ˆå¯èƒ½å°±å®šä½ä¸åˆ°æ˜ å°„çš„ä½ç½®äº†ã€‚ é€šè¿‡ä¸Šé¢çš„æ¯”è¾ƒï¼Œæˆ‘ä»¬çŸ¥é“äº†HashMapæ˜¯Javaçš„Mapå®¶æ—ä¸­ä¸€ä¸ªæ™®é€šæˆå‘˜ï¼Œé‰´äºŽå®ƒå¯ä»¥æ»¡è¶³å¤§å¤šæ•°åœºæ™¯çš„ä½¿ç”¨æ¡ä»¶ï¼Œæ‰€ä»¥æ˜¯ä½¿ç”¨é¢‘åº¦æœ€é«˜çš„ä¸€ä¸ªã€‚ä¸‹æ–‡æˆ‘ä»¬ä¸»è¦ç»“åˆæºç ï¼Œä»Žå­˜å‚¨ç»“æž„ã€å¸¸ç”¨æ–¹æ³•åˆ†æžã€æ‰©å®¹ä»¥åŠå®‰å…¨æ€§ç­‰æ–¹é¢æ·±å…¥è®²è§£HashMapçš„å·¥ä½œåŽŸç†ã€‚ æžæ¸…æ¥šHashMapï¼Œé¦–å…ˆéœ€è¦çŸ¥é“HashMapæ˜¯ä»€ä¹ˆï¼Œå³å®ƒçš„å­˜å‚¨ç»“æž„-å­—æ®µï¼›å…¶æ¬¡å¼„æ˜Žç™½å®ƒèƒ½å¹²ä»€ä¹ˆï¼Œå³å®ƒçš„åŠŸèƒ½å®žçŽ°-æ–¹æ³•ã€‚ä¼—æ‰€å‘¨çŸ¥ HashMap åº•å±‚æ˜¯åŸºäºŽæ•°ç»„+é“¾è¡¨ç»„æˆçš„ï¼Œä¸‹é¢æˆ‘ä»¬é’ˆå¯¹è¿™ä¸¤ä¸ªæ–¹é¢è¯¦ç»†å±•å¼€è®²è§£ã€‚ æ•°æ®ç»“æž„åœ¨JDK1.7ä¹‹å‰çš„HashMapçš„ç»“æž„ä¸­ï¼Œå…¶å®žå­˜åœ¨ä¸€ä¸ªå¾ˆæ˜Žæ˜¾çš„ç¼ºé™·å°±æ˜¯: å½“ Hash å†²çªä¸¥é‡æ—¶ï¼Œåœ¨æ¡¶ä¸Šå½¢æˆçš„é“¾è¡¨ä¼šå˜çš„è¶Šæ¥è¶Šé•¿ï¼Œè¿™æ ·åœ¨æŸ¥è¯¢æ—¶çš„æ•ˆçŽ‡å°±ä¼šè¶Šæ¥è¶Šä½Žï¼›æ—¶é—´å¤æ‚åº¦ä¸º O(N)ã€‚ JDK8é‡ç‚¹ä¼˜åŒ–äº†è¿™ä¸ªæŸ¥è¯¢æ•ˆçŽ‡ï¼Œåœ¨åŽŸå…ˆçš„æ•°ç»„+é“¾è¡¨ä¸Šå†å¢žåŠ çº¢é»‘æ ‘ã€‚å½“é“¾è¡¨å¤§å°è¾¾åˆ°ä¸€å®šçš„é˜ˆå€¼(HashMapæ˜¯8)æ—¶ï¼Œä¼šè‡ªåŠ¨è½¬æ¢ä¸ºçº¢é»‘æ ‘çš„æ•°æ®ç»“æž„ã€‚ä¿®æ”¹ä¸ºçº¢é»‘æ ‘ä¹‹åŽæŸ¥è¯¢æ•ˆçŽ‡å³æ—¶é—´å¤æ‚åº¦ç›´æŽ¥æé«˜åˆ°äº† O(logn)ã€‚ æºç åˆ†æžæˆå‘˜å˜é‡123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108/** * é»˜è®¤ä½æ¡¶æ•°ç»„åˆå§‹å®¹é‡,å¿…é¡»æ˜¯2çš„å¹‚,è¿™é‡Œé»˜è®¤æ˜¯16 * The default initial capacity - MUST be a power of two. */static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; // aka 16/** * ä½æ¡¶æ•°ç»„å¤§å°çš„æœ€å¤§å€¼ã€‚æž„é€ å‚æ•°çš„å¤§å°å¿…é¡»æ˜¯2çš„å‡ æ¬¡å¹‚å¹¶ä¸”å°äºŽç­‰äºŽ1&lt;&lt;30 * The maximum capacity, used if a higher value is implicitly specified * by either of the constructors with arguments. * MUST be a power of two &lt;= 1&lt;&lt;30. */static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30;/** * é»˜è®¤è´Ÿè½½å› å­æ˜¯0.75ï¼Œå¯ä»¥åœ¨æž„é€ å‚æ•°é‡Œè®¾ç½® * The load factor used when none specified in constructor. */static final float DEFAULT_LOAD_FACTOR = 0.75f;/** * ä¸€ä¸ªæ¡¶ä¸­çš„binçš„å­˜å‚¨æ–¹å¼ç”±é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘çš„é˜ˆå€¼ï¼Œå½“é“¾è¡¨å¤§å°è¶…è¿‡TREEIFY_THRESHOLDçš„æ—¶å€™è½¬æ¢ä¸ºçº¢é»‘æ ‘ * The bin count threshold for using a tree rather than list for a * bin. Bins are converted to trees when adding an element to a * bin with at least this many nodes. The value must be greater * than 2 and should be at least 8 to mesh with assumptions in * tree removal about conversion back to plain bins upon * shrinkage. */static final int TREEIFY_THRESHOLD = 8;/** * çº¢é»‘æ•°è½¬æ¢ä¸ºé“¾è¡¨(æ”¶ç¼©æœºåˆ¶)ï¼Œå½“æ‰§è¡Œresizeæ“ä½œæ—¶,æ¡¶ä¸­binçš„æ•°é‡å°‘äºŽUNTREEIFY_THRESHOLDæ—¶6æ—¶ï¼Œæ­¤æ—¶æ”¶ * ç¼©ä¸ºæ™®é€šé“¾è¡¨ï¼Œæé«˜æŸ¥è¯¢æ•ˆçŽ‡ * The bin count threshold for untreeifying a (split) bin during a * resize operation. Should be less than TREEIFY_THRESHOLD, and at * most 6 to mesh with shrinkage detection under removal. */static final int UNTREEIFY_THRESHOLD = 6;/** * å½“æ¡¶ä¸­binè¢«æ ‘åŒ–æ—¶æœ€å°çš„hashè¡¨å®¹é‡.(è‹¥æ²¡æœ‰è¾¾åˆ°è¿™ä¸ªé˜ˆå€¼,å³hashè¡¨å®¹é‡å°äºŽMIN_TREEIFY_CAPACITY * å½“æ¡¶ä¸­binæ•°é‡å¤ªå¤šæ—¶ä¼šæ‰§è¡Œresizeæ‰©å®¹æ“ä½œ).è¿™ä¸ªMIN_TREEIFY_CAPACITYçš„å€¼è‡³å°‘TREEIFY_THRESHOLD * çš„4å€ã€‚ * The smallest table capacity for which bins may be treeified. * (Otherwise the table is resized if too many nodes in a bin.) * Should be at least 4 * TREEIFY_THRESHOLD to avoid conflicts * between resizing and treeification thresholds. */static final int MIN_TREEIFY_CAPACITY = 64;/** * ä½æ¡¶æ•°ç»„ï¼Œå³Hashè¡¨ï¼Œå…¶å¤§å°æ€»æ˜¯2çš„å‡ æ¬¡å¹‚ï¼ŒJDK1.7ç±»åž‹æ˜¯Entry&lt;K,V&gt;[],JDK8ä¼˜åŒ–æˆNode&lt;K,V&gt;[] * The table, initialized on first use, and resized as * necessary. When allocated, length is always a power of two. * (We also tolerate length zero in some operations to allow * bootstrapping mechanics that are currently not needed.) */transient Node&lt;K,V&gt;[] table;/** * ç¼“å­˜çš„entrySetï¼Œå³é”®å€¼å¯¹æ˜ å°„å¯¹è±¡ï¼Œè¿™é‡Œä½¿ç”¨äº†AbstractMapçš„keyset()å’Œvalues() * Holds cached entrySet(). Note that AbstractMap fields are used * for keySet() and values(). */transient Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet;/** * å½“å‰mapä¸­åŒ…å«çš„key-valueæ•°ï¼Œå³mapçš„å¤§å° * The number of key-value mappings contained in this map. */transient int size;/** * * HashMapçš„ä¿®æ”¹æ¬¡æ•°ï¼Œåœ¨è¿­ä»£å™¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ä¼šå°†è¿™ä¸ªå€¼èµ‹ç»™è¿­ä»£å™¨çš„expectedModCountï¼Œ * æ¯”å¦‚è¿­ä»£å™¨è¿­ä»£æ—¶å€™æˆ‘ä»¬æ‰‹åŠ¨åˆ é™¤å…ƒç´ æ—¶ï¼ŒmodCountä¼šå¢žåŠ è¿™ä¸ªå€¼ã€‚åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œåˆ¤æ–­modCountå’Œ * expectedModCountæ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰åˆ™æŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ * Fail-Fastæœºåˆ¶ã€‚åŒæ ·ï¼ŒArrayList,LinkedListä¹Ÿæœ‰è¿™ä¸ªå­—æ®µã€‚ * å…·ä½“è¯¦æƒ…è¯·å‚ç…§HashMapæºç ä¸‹çš„æŠ½è±¡è¿­ä»£ç±»HashIteratorï¼Œ * The number of times this HashMap has been structurally modified * Structural modifications are those that change the number of mappings in * the HashMap or otherwise modify its internal structure (e.g., * rehash). This field is used to make iterators on Collection-views of * the HashMap fail-fast. (See ConcurrentModificationException). */transient int modCount;/** * è¦æ ¹æ®thresholdçš„é˜ˆå€¼æ¥åˆ¤æ–­mapæ˜¯å¦è¦æ‰©å®¹ï¼Œå³threshold = capacity * load factorï¼Œ * ç¬¬ä¸€æ¬¡æ‰©å®¹ä¸º16 * 0.75 = 12 ï¼Œ å½“mapçš„æ•°ç»„å®¹é‡ä¸º12çš„æ—¶ï¼Œæ­¤æ—¶éœ€è¦ç»§ç»­æ‰©å®¹ã€‚ * The next size value at which to resize (capacity * load factor). * * @serial */// (The javadoc description is true upon serialization.// Additionally, if the table array has not been allocated, this// field holds the initial array capacity, or zero signifying// DEFAULT_INITIAL_CAPACITY.)int threshold;/** * hash tableçš„é»˜è®¤è´Ÿè½½å› å­ï¼Œé»˜è®¤æ˜¯DEFAULT_LOAD_FACTORï¼Œå³0.75 * The load factor for the hash table. * @serial */final float loadFactor; æ•°æ®ç»“æž„Nodeä½æ¡¶èŠ‚ç‚¹1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859/** * åŸºæœ¬çš„hashæ¡¶èŠ‚ç‚¹ï¼Œå³æ•°ç»„å­˜æ”¾çš„å…ƒç´ ç±»åž‹ï¼Œå®žçŽ°äº†Map.Entry&lt;K,V&gt;æŽ¥å£ã€‚ * JDK1.7çš„ç»“æž„æ˜¯Map.Entry&lt;K, V&gt;çš„å­ç±»HashEntry&lt;K, V&gt; * Basic hash bin node, used for most entries. (See below for * TreeNode subclass, and in LinkedHashMap for its Entry subclass.) */static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; &#123; // keyçš„å“ˆå¸Œå€¼ï¼Œç”¨æ¥å®šä½æ•°ç»„ç´¢å¼•ä½ç½® final int hash; // mapçš„keyï¼Œä¸å¯ä¸å˜å¯¹è±¡ï¼Œä¸€æ—¦è®¾ç½®æ–°Keyï¼Œä¸å¯æ›´æ”¹keyçš„å€¼ï¼ŒHashMapä¸­å¯å­˜nullå€¼ final K key; // mapçš„valueï¼Œä¹Ÿå¯ä»¥å­˜æ”¾nullå€¼ã€‚keyç›¸åŒåˆ™è¦†ç›–value, V value; // é“¾è¡¨çš„ä¸‹ä¸€ä¸ªnode Node&lt;K,V&gt; next; // æž„é€ å‡½æ•° Node(int hash, K key, V value, Node&lt;K,V&gt; next) &#123; this.hash = hash; this.key = key; this.value = value; this.next = next; &#125; // èŽ·å–key public final K getKey() &#123; return key; &#125; // èŽ·å–value public final V getValue() &#123; return value; &#125; // é‡å†™toString public final String toString() &#123; return key + \"=\" + value; &#125; // é‡å†™hashCodeï¼Œnodeçš„hashCodeä¸ºkeyçš„hashCodeä¸Žvalueçš„hashCodeçš„å¼‚æˆ–ç»“æžœ public final int hashCode() &#123; return Objects.hashCode(key) ^ Objects.hashCode(value); &#125; // è®¾ç½®æ–°çš„valueï¼Œè¿”å›žæ—§çš„value public final V setValue(V newValue) &#123; V oldValue = value; value = newValue; return oldValue; &#125; // ä¸€èˆ¬é‡å†™äº†hashCodeæ–¹æ³•ï¼Œequalsä¹Ÿä¼šé‡å†™ã€‚ public final boolean equals(Object o) &#123; // å¼•ç”¨éƒ½æ˜¯ä¸€ä¸ªï¼Œåˆ™åˆ¤æ–­æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œç›´æŽ¥è¿”å›žtrue if (o == this) return true; // åˆ¤æ–­æ˜¯å¦æ˜¯Map.EntryåŒä¸€ç±»åž‹ï¼Œè‹¥ç±»åž‹ä¸åŒï¼Œåˆ™è¿”å›žfalse if (o instanceof Map.Entry) &#123; // è‹¥æ˜¯ Map.Entryç±»åž‹ï¼Œè¿›è¡Œå‘ä¸‹è½¬åž‹ã€‚ Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o; // å¦‚æžœä¸¤ä¸ªå¯¹è±¡çš„keyå’ŒvalueåŒæ—¶éƒ½ç›¸ç­‰ï¼Œåˆ™è®¤ä¸ºæ˜¯ç›¸ç­‰ï¼Œè¿”å›žtrue if (Objects.equals(key, e.getKey()) &amp;&amp; Objects.equals(value, e.getValue())) return true; &#125; return false; &#125;&#125; TreeNodeçº¢é»‘æ ‘123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133/** * çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œç»§æ‰¿LinkedHashMap.Entry&lt;K,V&gt; * Entry for Tree bins. Extends LinkedHashMap.Entry (which in turn * extends Node) so can be used as extension of either regular or * linked node. */static final class TreeNode&lt;K,V&gt; extends LinkedHashMap.Entry&lt;K,V&gt; &#123; TreeNode&lt;K,V&gt; parent; // red-black tree links TreeNode&lt;K,V&gt; left; TreeNode&lt;K,V&gt; right; TreeNode&lt;K,V&gt; prev; // needed to unlink next upon deletion boolean red; TreeNode(int hash, K key, V val, Node&lt;K,V&gt; next) &#123; super(hash, key, val, next); &#125; /** * Returns root of tree containing this node. */ final TreeNode&lt;K,V&gt; root() &#123; for (TreeNode&lt;K,V&gt; r = this, p;;) &#123; if ((p = r.parent) == null) return r; r = p; &#125; &#125; /** * æŠŠçº¢é»‘æ ‘çš„æ ¹èŠ‚ç‚¹è®¾ä¸º å…¶æ‰€åœ¨çš„æ•°ç»„æ§½ çš„ç¬¬ä¸€ä¸ªå…ƒç´  * é¦–å…ˆæ˜Žç¡®ï¼šTreeNodeæ—¢æ˜¯ä¸€ä¸ªçº¢é»‘æ ‘ç»“æž„ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåŒé“¾è¡¨ç»“æž„ * è¿™ä¸ªæ–¹æ³•é‡Œåšçš„äº‹æƒ…ï¼Œå°±æ˜¯ä¿è¯æ ‘çš„æ ¹èŠ‚ç‚¹ä¸€å®šä¹Ÿè¦æˆä¸ºé“¾è¡¨çš„é¦–èŠ‚ç‚¹ */ static &lt;K,V&gt; void moveRootToFront(Node&lt;K,V&gt;[] tab, TreeNode&lt;K,V&gt; root) &#123; int n; if (root != null &amp;&amp; tab != null &amp;&amp; (n = tab.length) &gt; 0) &#123; // æ ¹èŠ‚ç‚¹ä¸ä¸ºç©º å¹¶ä¸” HashMapçš„å…ƒç´ æ•°ç»„ä¸ä¸ºç©º int index = (n - 1) &amp; root.hash; // æ ¹æ®æ ¹èŠ‚ç‚¹çš„Hashå€¼ å’Œ HashMapçš„å…ƒç´ æ•°ç»„é•¿åº¦ å–å¾—æ ¹èŠ‚ç‚¹åœ¨æ•°ç»„ä¸­çš„ä½ç½® TreeNode&lt;K,V&gt; first = (TreeNode&lt;K,V&gt;)tab[index]; // é¦–å…ˆå–å¾—è¯¥ä½ç½®ä¸Šçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¯¹è±¡ if (root != first) &#123; // å¦‚æžœè¯¥èŠ‚ç‚¹å¯¹è±¡ ä¸Ž æ ¹èŠ‚ç‚¹å¯¹è±¡ ä¸åŒ Node&lt;K,V&gt; rn; // å®šä¹‰æ ¹èŠ‚ç‚¹çš„åŽä¸€ä¸ªèŠ‚ç‚¹ tab[index] = root; // æŠŠå…ƒç´ æ•°ç»„indexä½ç½®çš„å…ƒç´ æ›¿æ¢ä¸ºæ ¹èŠ‚ç‚¹å¯¹è±¡ TreeNode&lt;K,V&gt; rp = root.prev; // èŽ·å–æ ¹èŠ‚ç‚¹å¯¹è±¡çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ if ((rn = root.next) != null) // å¦‚æžœåŽèŠ‚ç‚¹ä¸ä¸ºç©º ((TreeNode&lt;K,V&gt;)rn).prev = rp; // rootåŽèŠ‚ç‚¹çš„å‰èŠ‚ç‚¹ æŒ‡å‘åˆ° rootçš„å‰èŠ‚ç‚¹ï¼Œç›¸å½“äºŽæŠŠrootä»Žé“¾è¡¨ä¸­æ‘˜é™¤ if (rp != null) // å¦‚æžœrootçš„å‰èŠ‚ç‚¹ä¸ä¸ºç©º rp.next = rn; // rootå‰èŠ‚ç‚¹çš„åŽèŠ‚ç‚¹ æŒ‡å‘åˆ° rootçš„åŽèŠ‚ç‚¹ if (first != null) // å¦‚æžœæ•°ç»„è¯¥ä½ç½®ä¸ŠåŽŸæ¥çš„å…ƒç´ ä¸ä¸ºç©º first.prev = root; // è¿™ä¸ªåŽŸæœ‰çš„å…ƒç´ çš„ å‰èŠ‚ç‚¹ æŒ‡å‘åˆ° rootï¼Œç›¸å½“äºŽrootç›®å‰ä½äºŽé“¾è¡¨é¦–ä½ root.next = first; // åŽŸæ¥çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çŽ°åœ¨ä½œä¸ºrootçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå˜æˆäº†ç¬¬äºŒä¸ªèŠ‚ç‚¹ root.prev = null; // é¦–èŠ‚ç‚¹æ²¡æœ‰å‰èŠ‚ç‚¹ &#125; /* * è¿™ä¸€æ­¥æ˜¯é˜²å¾¡æ€§çš„ç¼–ç¨‹ * æ ¡éªŒTreeNodeå¯¹è±¡æ˜¯å¦æ»¡è¶³çº¢é»‘æ ‘å’ŒåŒé“¾è¡¨çš„ç‰¹æ€§ * å¦‚æžœè¿™ä¸ªæ–¹æ³•æ ¡éªŒä¸é€šè¿‡ï¼šå¯èƒ½æ˜¯å› ä¸ºç”¨æˆ·ç¼–ç¨‹å¤±è¯¯ï¼Œç ´åäº†ç»“æž„ï¼ˆä¾‹å¦‚ï¼šå¹¶å‘åœºæ™¯ä¸‹ï¼‰ï¼›ä¹Ÿå¯èƒ½æ˜¯TreeNode * çš„å®žçŽ°æœ‰é—®é¢˜ï¼ˆè¿™ä¸ªæ˜¯ç†è®ºä¸Šçš„ä»¥é˜²ä¸‡ä¸€ï¼‰ï¼› */ assert checkInvariants(root); &#125; &#125; /** * å‚æ•°ä¸ºHashMapçš„å…ƒç´ æ•°ç»„ */ final void treeify(Node&lt;K,V&gt;[] tab) &#123; // å®šä¹‰æ ‘çš„æ ¹èŠ‚ç‚¹ TreeNode&lt;K,V&gt; root = null; // éåŽ†é“¾è¡¨ï¼ŒxæŒ‡å‘å½“å‰èŠ‚ç‚¹ã€nextæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ for (TreeNode&lt;K,V&gt; x = this, next; x != null; x = next) &#123; next = (TreeNode&lt;K,V&gt;)x.next; // ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ x.left = x.right = null; // è®¾ç½®å½“å‰èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹ä¸ºç©º if (root == null) &#123; // å¦‚æžœè¿˜æ²¡æœ‰æ ¹èŠ‚ç‚¹ x.parent = null; // å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹è®¾ä¸ºç©º x.red = false; // å½“å‰èŠ‚ç‚¹çš„çº¢è‰²å±žæ€§è®¾ä¸ºfalseï¼ˆæŠŠå½“å‰èŠ‚ç‚¹è®¾ä¸ºé»‘è‰²ï¼‰ root = x; // æ ¹èŠ‚ç‚¹æŒ‡å‘åˆ°å½“å‰èŠ‚ç‚¹ &#125; else &#123; // å¦‚æžœå·²ç»å­˜åœ¨æ ¹èŠ‚ç‚¹äº† K k = x.key; // å–å¾—å½“å‰é“¾è¡¨èŠ‚ç‚¹çš„key int h = x.hash; // å–å¾—å½“å‰é“¾è¡¨èŠ‚ç‚¹çš„hashå€¼ Class&lt;?&gt; kc = null; // å®šä¹‰keyæ‰€å±žçš„Class for (TreeNode&lt;K,V&gt; p = root;;) &#123; // ä»Žæ ¹èŠ‚ç‚¹å¼€å§‹éåŽ†ï¼Œæ­¤éåŽ†æ²¡æœ‰è®¾ç½®è¾¹ç•Œï¼Œåªèƒ½ä»Žå†…éƒ¨è·³å‡º // GOTO1 int dir, ph; // dir æ ‡è¯†æ–¹å‘ï¼ˆå·¦å³ï¼‰ã€phæ ‡è¯†å½“å‰æ ‘èŠ‚ç‚¹çš„hashå€¼ K pk = p.key; // å½“å‰æ ‘èŠ‚ç‚¹çš„key if ((ph = p.hash) &gt; h) // å¦‚æžœå½“å‰æ ‘èŠ‚ç‚¹hashå€¼ å¤§äºŽ å½“å‰é“¾è¡¨èŠ‚ç‚¹çš„hashå€¼ dir = -1; // æ ‡è¯†å½“å‰é“¾è¡¨èŠ‚ç‚¹ä¼šæ”¾åˆ°å½“å‰æ ‘èŠ‚ç‚¹çš„å·¦ä¾§ else if (ph &lt; h) dir = 1; // å³ä¾§ /* * å¦‚æžœä¸¤ä¸ªèŠ‚ç‚¹çš„keyçš„hashå€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆè¿˜è¦é€šè¿‡å…¶ä»–æ–¹å¼å†è¿›è¡Œæ¯”è¾ƒ * å¦‚æžœå½“å‰é“¾è¡¨èŠ‚ç‚¹çš„keyå®žçŽ°äº†comparableæŽ¥å£ï¼Œå¹¶ä¸”å½“å‰æ ‘èŠ‚ç‚¹å’Œé“¾è¡¨èŠ‚ç‚¹æ˜¯ç›¸åŒClassçš„å®ž * ä¾‹ï¼Œé‚£ä¹ˆé€šè¿‡comparableçš„æ–¹å¼å†æ¯”è¾ƒä¸¤è€…ã€‚ * å¦‚æžœè¿˜æ˜¯ç›¸ç­‰ï¼Œæœ€åŽå†é€šè¿‡tieBreakOrderæ¯”è¾ƒä¸€æ¬¡ */ else if ((kc == null &amp;&amp; (kc = comparableClassFor(k)) == null) || (dir = compareComparables(kc, k, pk)) == 0) dir = tieBreakOrder(k, pk); TreeNode&lt;K,V&gt; xp = p; // ä¿å­˜å½“å‰æ ‘èŠ‚ç‚¹ /* * å¦‚æžœdir å°äºŽç­‰äºŽ0 ï¼š å½“å‰é“¾è¡¨èŠ‚ç‚¹ä¸€å®šæ”¾ç½®åœ¨å½“å‰æ ‘èŠ‚ç‚¹çš„å·¦ä¾§ï¼Œä½†ä¸ä¸€å®šæ˜¯è¯¥æ ‘èŠ‚ç‚¹çš„å·¦å­© * å­ï¼Œä¹Ÿå¯èƒ½æ˜¯å·¦å­©å­çš„å³å­©å­ æˆ–è€… æ›´æ·±å±‚æ¬¡çš„èŠ‚ç‚¹ã€‚å¦‚æžœdir å¤§äºŽ0 ï¼š å½“å‰é“¾è¡¨èŠ‚ç‚¹ä¸€å®šæ”¾ç½®åœ¨ * å½“å‰æ ‘èŠ‚ç‚¹çš„å³ä¾§ï¼Œä½†ä¸ä¸€å®šæ˜¯è¯¥æ ‘èŠ‚ç‚¹çš„å³å­©å­ï¼Œä¹Ÿå¯èƒ½æ˜¯å³å­©å­çš„å·¦å­©å­ æˆ–è€… æ›´æ·±å±‚æ¬¡çš„èŠ‚ * ç‚¹ã€‚ * * å¦‚æžœå½“å‰æ ‘èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæœ€ç»ˆä¼šä»¥å½“å‰æ ‘èŠ‚ç‚¹çš„å·¦å­©å­æˆ–è€…å³å­©å­ä¸ºèµ·å§‹èŠ‚ç‚¹ å†ä»Ž * GOTO1 å¤„å¼€å§‹ é‡æ–°å¯»æ‰¾è‡ªå·±ï¼ˆå½“å‰é“¾è¡¨èŠ‚ç‚¹ï¼‰çš„ä½ç½®ã€‚ * å¦‚æžœå½“å‰æ ‘èŠ‚ç‚¹å°±æ˜¯å¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ ¹æ®dirçš„å€¼ï¼Œå°±å¯ä»¥æŠŠå½“å‰é“¾è¡¨èŠ‚ç‚¹æŒ‚è½½åˆ°å½“å‰æ ‘èŠ‚ç‚¹çš„å·¦æˆ– * è€…å³ä¾§äº†ã€‚ * æŒ‚è½½ä¹‹åŽï¼Œè¿˜éœ€è¦é‡æ–°æŠŠæ ‘è¿›è¡Œå¹³è¡¡ã€‚å¹³è¡¡ä¹‹åŽï¼Œå°±å¯ä»¥é’ˆå¯¹ä¸‹ä¸€ä¸ªé“¾è¡¨èŠ‚ç‚¹è¿›è¡Œå¤„ç†äº†ã€‚ */ if ((p = (dir &lt;= 0) ? p.left : p.right) == null) &#123; x.parent = xp; // å½“å‰é“¾è¡¨èŠ‚ç‚¹ ä½œä¸º å½“å‰æ ‘èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ if (dir &lt;= 0) xp.left = x; // ä½œä¸ºå·¦å­©å­ else xp.right = x; // ä½œä¸ºå³å­©å­ root = balanceInsertion(root, x); // é‡æ–°å¹³è¡¡ break; &#125; &#125; &#125; &#125; // æŠŠæ‰€æœ‰çš„é“¾è¡¨èŠ‚ç‚¹éƒ½éåŽ†å®Œä¹‹åŽï¼Œæœ€ç»ˆæž„é€ å‡ºæ¥çš„æ ‘å¯èƒ½ç»åŽ†å¤šä¸ªå¹³è¡¡æ“ä½œï¼Œæ ¹èŠ‚ç‚¹ç›®å‰åˆ°åº•æ˜¯é“¾è¡¨çš„å“ªä¸€ä¸ªèŠ‚ç‚¹æ˜¯ä¸ç¡®å®šçš„ // å› ä¸ºæˆ‘ä»¬è¦åŸºäºŽæ ‘æ¥åšæŸ¥æ‰¾ï¼Œæ‰€ä»¥å°±åº”è¯¥æŠŠ tab[N] å¾—åˆ°çš„å¯¹è±¡ä¸€å®šæ ¹èŠ‚ç‚¹å¯¹è±¡ï¼Œè€Œç›®å‰åªæ˜¯é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¯¹è±¡ï¼Œæ‰€ä»¥è¦åšç›¸åº”çš„å¤„ç†ã€‚ moveRootToFront(tab, root); &#125;&#125; é‡è¦æ–¹æ³•hashæ–¹æ³•1234567891011121314151617181920212223242526272829303132/** * è®¡ç®—keyçš„hashå€¼ï¼Œ * keyä¸ºnullåˆ™hashCodeä¸º0;ä¸ä¸ºnullåˆ™å°†keyçš„hashCodeèµ‹å€¼ç»™hï¼Œæœ€ç»ˆçš„hashCode = h ^ (h &gt;&gt;&gt; 16); * è¿™é‡Œæˆ‘ä»¬è¦è®²è®²æ•°ç»„ç´¢å¼•çš„è®¡ç®—æ–¹å¼ï¼š(n- 1) &amp; hash,nè¡¨ç¤ºtable.length * è¿™é‡Œé€šè¿‡key.hashCode()è®¡ç®—å‡ºkeyçš„å“ˆå¸Œå€¼ï¼Œç„¶åŽå°†å“ˆå¸Œå€¼hå³ç§»16ä½ï¼Œå†ä¸ŽåŽŸæ¥çš„håšå¼‚æˆ–^è¿ç®—ï¼Œè¿™ä¸€æ­¥æ˜¯é«˜ä½è¿ * ç®—ã€‚è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æžœæ²¡æœ‰é«˜ä½è¿ç®—ï¼Œé‚£ä¹ˆhashå€¼å°†æ˜¯ä¸€ä¸ªintåž‹çš„32ä½æ•°ã€‚è€Œä»Ž2çš„-31æ¬¡å¹‚åˆ°2çš„31æ¬¡å¹‚ä¹‹é—´ï¼Œæœ‰å°†è¿‘å‡  * åäº¿çš„ç©ºé—´ï¼Œå¦‚æžœæˆ‘ä»¬çš„HashMapçš„tableæœ‰è¿™ä¹ˆé•¿ï¼Œå†…å­˜æ—©å°±çˆ†äº†ã€‚æ‰€ä»¥è¿™ä¸ªæ•£åˆ—å€¼ä¸èƒ½ç›´æŽ¥ç”¨æ¥æœ€ç»ˆçš„å–æ¨¡è¿ç®—ï¼Œè€Œ * éœ€è¦å…ˆåŠ å…¥é«˜ä½è¿ç®—ï¼Œå°†é«˜16ä½å’Œä½Ž16ä½çš„ä¿¡æ¯\"èžåˆ\"åˆ°ä¸€èµ·ï¼Œä¹Ÿç§°ä¸º\"æ‰°åŠ¨å‡½æ•°\"ã€‚è¿™æ ·æ‰èƒ½ä¿è¯hashå€¼æ‰€æœ‰ä½çš„æ•°å€¼ * ç‰¹å¾éƒ½ä¿å­˜ä¸‹æ¥è€Œæ²¡æœ‰é—æ¼ï¼Œä»Žè€Œä½¿æ˜ å°„ç»“æžœå°½å¯èƒ½çš„æ¾æ•£ã€‚æœ€åŽï¼Œæ ¹æ® n-1 åšä¸Žæ“ä½œçš„å–æ¨¡è¿ç®—ã€‚è¿™é‡Œä¹Ÿèƒ½çœ‹å‡ºä¸ºä»€ä¹ˆ * HashMapè¦é™åˆ¶tableçš„é•¿åº¦ä¸º2çš„næ¬¡å¹‚ï¼Œå› ä¸ºè¿™æ ·ï¼Œn-1å¯ä»¥ä¿è¯äºŒè¿›åˆ¶å±•ç¤ºå½¢å¼æ˜¯ï¼ˆä»¥16ä¸ºä¾‹ï¼‰0000 0000 0000 * 0000 0000 0000 0000 1111ã€‚åœ¨åš\"ä¸Ž\"æ“ä½œæ—¶ï¼Œå°±ç­‰åŒäºŽæˆªå–hashäºŒè¿›åˆ¶å€¼å¾—åŽå››ä½æ•°æ®ä½œä¸ºä¸‹æ ‡ã€‚è¿™é‡Œä¹Ÿå¯ä»¥çœ‹ * å‡º\"æ‰°åŠ¨å‡½æ•°\"çš„é‡è¦æ€§äº†ï¼Œå¦‚æžœé«˜ä½ä¸å‚ä¸Žè¿ç®—ï¼Œé‚£ä¹ˆé«˜16ä½çš„hashç‰¹å¾å‡ ä¹Žæ°¸è¿œå¾—ä¸åˆ°å±•çŽ°ï¼Œå‘ç”Ÿhashç¢°æ’žçš„å‡ çŽ‡å°± * ä¼šå¢žå¤§ï¼Œä»Žè€Œå½±å“æ€§èƒ½ã€‚ * Computes key.hashCode() and spreads (XORs) higher bits of hash * to lower. Because the table uses power-of-two masking, sets of * hashes that vary only in bits above the current mask will * always collide. (Among known examples are sets of Float keys * holding consecutive whole numbers in small tables.) So we * apply a transform that spreads the impact of higher bits * downward. There is a tradeoff between speed, utility, and * quality of bit-spreading. Because many common sets of hashes * are already reasonably distributed (so don't benefit from * spreading), and because we use trees to handle large sets of * collisions in bins, we just XOR some shifted bits in the * cheapest possible way to reduce systematic lossage, as well as * to incorporate impact of the highest bits that would otherwise * never be used in index calculations because of table bounds. */static final int hash(Object key) &#123; int h; return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);&#125; putæ–¹æ³•1234// æˆ‘ä»¬å®žé™…ç”¨çš„putæ–¹æ³•ï¼Œåº•å±‚è°ƒç”¨çš„æ˜¯putValæ–¹æ³•public V put(K key, V value) &#123; return putVal(hash(key), key, value, false, true);&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586/** * Implements Map.put and related methods. * * @param hash hash for key * @param key the key * @param value the value to put * @param onlyIfAbsent if true, don't change existing value * (onlyIfAbsentä¸ºtrueæ—¶ï¼Œå¦‚æžœkeyå­˜åœ¨ï¼Œå°±ä¸ä¼šè¿›è¡Œputæ“ä½œï¼ŒåŽŸæœ‰çš„å¯¹åº”çš„valueä¸ä¼šè¢«è¦†ç›–) * @param evict if false, the table is in creation mode. * (evictå‚æ•°ç”¨äºŽLinkedHashMapä¸­çš„å°¾éƒ¨æ“ä½œï¼Œè¿™é‡Œæ²¡æœ‰å®žé™…æ„ä¹‰ã€‚) * @return previous value, or null if none */final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) &#123; // å®šä¹‰å˜é‡tabæ˜¯å°†è¦æ“ä½œçš„Nodeæ•°ç»„å¼•ç”¨ï¼Œpè¡¨ç¤ºtabä¸Šçš„æŸNodeèŠ‚ç‚¹ï¼Œnä¸ºtabçš„é•¿åº¦ï¼Œiä¸ºtabçš„ä¸‹æ ‡ã€‚ Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i; // åˆ¤æ–­å½“tableä¸ºnullæˆ–è€…tabçš„é•¿åº¦ä¸º0æ—¶ï¼Œå³tableå°šæœªåˆå§‹åŒ–ï¼Œæ­¤æ—¶é€šè¿‡resize()æ–¹æ³•å¾—åˆ°åˆå§‹åŒ–çš„tableã€‚ if ((tab = table) == null || (n = tab.length) == 0) // è¿™ç§æƒ…å†µæ˜¯å¯èƒ½å‘ç”Ÿçš„ï¼ŒHashMapçš„tableå­—æ®µæ³¨é‡Šä¸­æåˆ°ï¼šThe table, initialized on first use, and resized as necessaryã€‚ n = (tab = resize()).length; // æ­¤å¤„é€šè¿‡(n - 1)&amp; hashè®¡ç®—å‡ºçš„å€¼ä½œä¸ºtabçš„ä¸‹æ ‡iï¼Œå¹¶å¦pè¡¨ç¤ºtab[i]ï¼Œä¹Ÿå°±æ˜¯è¯¥é“¾è¡¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®ã€‚å¹¶åˆ¤æ–­pæ˜¯å¦ä¸ºnullã€‚ if ((p = tab[i = (n - 1) &amp; hash]) == null) // å½“pä¸ºnullæ—¶ï¼Œè¡¨æ˜Žtab[i]ä¸Šæ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œå³ä¸å­˜åœ¨Hashå†²çªï¼Œé‚£ä¹ˆæŽ¥ä¸‹æ¥å°±newç¬¬ä¸€ä¸ªNodeèŠ‚ç‚¹ï¼Œè°ƒç”¨newNodeæ–¹æ³•è¿”å›žæ–°èŠ‚ç‚¹èµ‹å€¼ç»™tab[i]ã€‚è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯i = (n - 1) &amp; hashç›¸å½“äºŽå¯¹hashå¯¹nçš„å–æ¨¡ tab[i] = newNode(hash, key, value, null); // ä¸‹é¢è¿›å…¥pä¸ä¸ºnullçš„æƒ…å†µï¼Œæœ‰ä¸‰ç§æƒ…å†µï¼špä¸ºé“¾è¡¨èŠ‚ç‚¹ï¼›pä¸ºçº¢é»‘æ ‘èŠ‚ç‚¹ï¼›pæ˜¯é“¾è¡¨èŠ‚ç‚¹ä½†é•¿åº¦ä¸ºä¸´ç•Œé•¿åº¦TREEIFY_THRESHOLDï¼Œå†æ’å…¥ä»»ä½•å…ƒç´ å°±è¦å˜æˆçº¢é»‘æ ‘äº†ã€‚ else &#123; // å®šä¹‰eå¼•ç”¨,è¡¨ç¤ºå³å°†æ’å…¥çš„NodeèŠ‚ç‚¹ï¼Œå¹¶ä¸”ä¸‹æ–‡å¯ä»¥çœ‹å‡º k = p.keyã€‚ Node&lt;K,V&gt; e; K k; if (p.hash == hash &amp;&amp; // HashMapä¸­åˆ¤æ–­keyç›¸åŒçš„æ¡ä»¶æ˜¯keyçš„hashç›¸åŒï¼ˆHashæ˜¯å¦å†²çªï¼‰ï¼Œå¹¶ä¸”ç¬¦åˆequalsæ–¹æ³•ã€‚è¿™é‡Œåˆ¤æ–­äº†p.keyæ˜¯å¦å’Œæ’å…¥çš„keyç›¸ç­‰ï¼Œå¦‚æžœç›¸ç­‰ï¼Œåˆ™å°†pçš„å¼•ç”¨èµ‹ç»™eã€‚eä¼šåœ¨æœ€åŽç»Ÿä¸€è¿›è¡Œèµ‹å€¼åŠè¿”å›žã€‚ ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) // è¿™ä¸€æ­¥çš„åˆ¤æ–­å…¶å®žæ˜¯å±žäºŽä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œä¸Šè¿°ä¸‰ä¸ªæ¡ä»¶éƒ½æ»¡è¶³ï¼Œå³ä¸¤è€…hashå€¼ç›¸åŒä¸”keyå®Œå…¨ç›¸åŒï¼ŒäºŽæ˜¯æ’å…¥æ“ä½œå°±ä¸éœ€è¦äº†ï¼Œåªè¦æŠŠåŽŸæ¥çš„valueè¦†ç›–å°±å¯ä»¥äº†ã€‚eä¼šåœ¨æœ€åŽç»Ÿä¸€è¿›è¡Œèµ‹å€¼åŠè¿”å›žï¼Œè¿™é‡Œå…ˆä¸è¿›è¡Œè¦†ç›–æ“ä½œã€‚ e = p; else if (p instanceof TreeNode) // çŽ°åœ¨å¼€å§‹äº†ç¬¬ä¸€ç§æƒ…å†µï¼Œå½“å‰æ¡¶pæ˜¯çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè‚¯å®šæ’å…¥åŽä»ç„¶æ˜¯çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œå°±è¦æŒ‰ç…§çº¢é»‘æ ‘çš„æ–¹å¼å†™å…¥æ•°æ®ã€‚æ‰€ä»¥æˆ‘ä»¬ç›´æŽ¥å¼ºåˆ¶è½¬åž‹påŽè°ƒç”¨TreeNode.putTreeValæ–¹æ³•ï¼Œè¿”å›žçš„å¼•ç”¨èµ‹ç»™eã€‚ // ä½ å¯èƒ½å¥½å¥‡ï¼Œè¿™é‡Œæ€Žä¹ˆä¸éåŽ†treeçœ‹çœ‹æœ‰æ²¡æœ‰keyç›¸åŒçš„èŠ‚ç‚¹å‘¢ï¼Ÿå…¶å®žï¼ŒputTreeValå†…éƒ¨è¿›è¡Œäº†éåŽ†ï¼Œå­˜åœ¨ç›¸åŒhashæ—¶è¿”å›žè¢«è¦†ç›–çš„TreeNodeï¼Œå¦åˆ™è¿”å›žnullã€‚ e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value); // æŽ¥ä¸‹é‡Œå°±æ˜¯pä¸ºé“¾è¡¨èŠ‚ç‚¹çš„æƒ…å½¢ï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°è¯´çš„å¦å¤–ä¸¤ç±»æƒ…å†µï¼šæ’å…¥åŽè¿˜æ˜¯é“¾è¡¨/æ’å…¥åŽè½¬çº¢é»‘æ ‘ã€‚å¦å¤–ï¼Œä¸Šè¡Œè½¬åž‹ä»£ç ä¹Ÿè¯´æ˜Žäº†TreeNodeæ˜¯Nodeçš„ä¸€ä¸ªå­ç±»ã€‚ else &#123; // æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè®¡æ•°å™¨æ¥è®¡ç®—å½“å‰é“¾è¡¨çš„å…ƒç´ ä¸ªæ•°ï¼Œå¹¶éåŽ†é“¾è¡¨ï¼ŒbinCountå°±æ˜¯è¿™ä¸ªè®¡æ•°å™¨ã€‚ for (int binCount = 0; ; ++binCount) &#123; // éåŽ†è¿‡ç¨‹ä¸­å½“å‘çŽ°p.nextä¸ºnullæ—¶ï¼Œè¯´æ˜Žé“¾è¡¨åˆ°å¤´äº†ï¼Œå°±éœ€è¦å°†å½“å‰çš„keyã€valueå°è£…æˆä¸€ä¸ªæ–°èŠ‚ç‚¹,å°†æ–°çš„é“¾è¡¨èŠ‚ç‚¹ç›´æŽ¥åœ¨pçš„åŽé¢æ’å…¥å³å¯ï¼Œå³æŠŠæ–°èŠ‚ç‚¹çš„å¼•ç”¨èµ‹ç»™p.nextï¼Œæ’å…¥æ“ä½œå°±å®Œæˆäº†ã€‚æ³¨æ„æ­¤æ—¶eèµ‹ç»™pã€‚ if ((e = p.next) == null) &#123; // æœ€åŽä¸€ä¸ªå‚æ•°ä¸ºæ–°èŠ‚ç‚¹çš„nextï¼Œè¿™é‡Œä¼ å…¥nullï¼Œä¿è¯äº†æ–°èŠ‚ç‚¹ç»§ç»­ä¸ºè¯¥é“¾è¡¨çš„æœ«ç«¯ã€‚ p.next = newNode(hash, key, value, null); // æ’å…¥æˆåŠŸåŽï¼Œè¦åˆ¤æ–­æ˜¯å¦éœ€è¦è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œå› ä¸ºæ’å…¥åŽé“¾è¡¨é•¿åº¦åŠ 1ï¼Œè€ŒbinCountå¹¶ä¸åŒ…å«æ–°èŠ‚ç‚¹ï¼Œæ‰€ä»¥åˆ¤æ–­æ—¶è¦å°†ä¸´ç•Œé˜ˆå€¼å‡1ã€‚binCountå¤§äºŽç­‰äºŽ7ï¼ˆå…¶å®žå®žé™…ä¸Šé“¾è¡¨æ­¤æ—¶çš„å¤§å°ä¸º8ï¼‰æ—¶è½¬æ¢ä¸ºçº¢é»‘æ ‘è¿›è¡Œå¤„ç† if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st // å½“æ»¡è¶³ä¸Šè¿°è½¬æ¢æ¡ä»¶æ—¶ï¼Œè°ƒç”¨treeifyBinæ–¹æ³•ï¼Œå°†è¯¥é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚ treeifyBin(tab, hash); // å½“ç„¶å¦‚æžœä¸æ»¡è¶³è½¬æ¢æ¡ä»¶ï¼Œé‚£ä¹ˆæ’å…¥æ•°æ®åŽç»“æž„ä¹Ÿæ— éœ€å˜åŠ¨ï¼Œæ‰€æœ‰æ’å…¥æ“ä½œä¹Ÿåˆ°æ­¤ç»“æŸäº†ï¼Œbreaké€€å‡ºå³å¯ã€‚ break; &#125; // åœ¨éåŽ†é“¾è¡¨çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½éåŽ†åˆ°ä¸Žæ’å…¥çš„keyç›¸åŒçš„èŠ‚ç‚¹ï¼Œæ­¤æ—¶åªè¦å°†è¿™ä¸ªèŠ‚ç‚¹å¼•ç”¨èµ‹å€¼ç»™eï¼Œæœ€åŽé€šè¿‡eåŽ»æŠŠæ–°çš„valueè¦†ç›–æŽ‰å°±å¯ä»¥äº†ã€‚ if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) // æ‰¾åˆ°äº†ç›¸åŒkeyçš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ’å…¥æ“ä½œä¹Ÿä¸éœ€è¦äº†ï¼Œç›´æŽ¥breaké€€å‡ºå¾ªçŽ¯è¿›è¡Œæœ€åŽçš„valueè¦†ç›–æ“ä½œã€‚ break; // eæ˜¯å½“å‰éåŽ†çš„èŠ‚ç‚¹pçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œp = e å°±æ˜¯ä¾æ¬¡éåŽ†é“¾è¡¨çš„æ ¸å¿ƒè¯­å¥ã€‚æ¯æ¬¡å¾ªçŽ¯æ—¶péƒ½æ˜¯ä¸‹ä¸€ä¸ªnodeèŠ‚ç‚¹ã€‚ p = e; &#125; &#125; // ä¸‹é¢JDKæ³¨é‡Šå·²ç»å¾ˆæ¸…æ™°äº†ï¼Œé’ˆå¯¹å·²ç»å­˜åœ¨keyçš„æƒ…å†µåšå¤„ç†ã€‚å³æˆ‘ä»¬å¯¹eè¿›è¡Œå¤„ç†ã€‚ if (e != null) &#123; // existing mapping for key //å®šä¹‰oldValueï¼Œå³åŽŸå­˜åœ¨çš„èŠ‚ç‚¹eçš„valueå€¼ã€‚ V oldValue = e.value; // æ–¹æ³•æ³¨é‡Šæåˆ°ï¼ŒonlyIfAbsentä¸ºtrueæ—¶ï¼Œè‹¥å­˜åœ¨keyç›¸åŒæ—¶ä¸åšè¦†ç›–å¤„ç†ï¼Œè¿™é‡Œä½œä¸ºåˆ¤æ–­æ¡ä»¶ï¼Œå¯ä»¥çœ‹å‡ºå½“onlyIfAbsentä¸ºé»˜è®¤å€¼falseæˆ–è€…oldValueä¸ºnullæ—¶ï¼Œè¿›è¡Œè¦†ç›–æ“ä½œã€‚ if (!onlyIfAbsent || oldValue == null) // è¦†ç›–æ“ä½œï¼Œå°†åŽŸèŠ‚ç‚¹eä¸Šçš„valueè®¾ç½®ä¸ºæ’å…¥çš„æ–°valueã€‚ e.value = value; // è¿™ä¸ªå‡½æ•°åœ¨hashmapä¸­æ²¡æœ‰ä»»ä½•æ“ä½œï¼Œæ˜¯ä¸ªç©ºå‡½æ•°ï¼Œå®ƒå­˜åœ¨ä¸»è¦æ˜¯ä¸ºäº†linkedHashMapçš„ä¸€äº›åŽç»­å¤„ç†å·¥ä½œã€‚ afterNodeAccess(e); // è¿”å›žçš„æ˜¯è¢«è¦†ç›–çš„oldValueã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨putæ–¹æ³•æ—¶å¾ˆå°‘ç”¨ä»–çš„è¿”å›žå€¼ï¼Œç”šè‡³å¿˜äº†å®ƒçš„å­˜åœ¨ï¼Œè¿™é‡Œæˆ‘ä»¬çŸ¥é“ï¼Œä»–è¿”å›žçš„æ˜¯è¢«è¦†ç›–çš„oldValueã€‚ return oldValue; &#125; &#125; // æ”¶å°¾å·¥ä½œï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¯¹keyç›¸åŒè€Œè¦†ç›–oldValueçš„æƒ…å†µï¼Œåœ¨å‰é¢å·²ç»returnï¼Œä¸ä¼šæ‰§è¡Œè¿™é‡Œï¼Œæ‰€ä»¥é‚£ä¸€ç±»æƒ…å†µä¸ç®—æ•°æ®ç»“æž„å˜åŒ–ï¼Œå¹¶ä¸æ”¹å˜modCountå€¼ã€‚å¦‚æžœèµ°åˆ°è¿™é‡Œï¼Œè¯´æ˜Žå·²ç»æ–°å¢žä¸€ä¸ªKey-Valueçš„NodeèŠ‚ç‚¹ï¼ŒmodCountè¦è‡ªå¢ž ++modCount; // åŒç†ï¼Œè¦†ç›–oldValueæ—¶æ˜¾ç„¶æ²¡æœ‰æ–°å…ƒç´ æ·»åŠ ï¼Œé™¤æ­¤ä¹‹å¤–éƒ½æ–°å¢žäº†ä¸€ä¸ªå…ƒç´ ï¼Œè¿™é‡Œ++sizeå¹¶ä¸Žthresholdåˆ¤æ–­æ˜¯å¦è¾¾åˆ°äº†æ‰©å®¹æ ‡å‡†ã€‚ if (++size &gt; threshold) // å½“HashMapä¸­å­˜åœ¨çš„nodeèŠ‚ç‚¹å¤§äºŽthresholdæ—¶ï¼Œhashmapè¿›è¡Œæ‰©å®¹ã€‚ resize(); // è¿™é‡Œä¸Žå‰é¢çš„afterNodeAccessåŒç†ï¼Œæ˜¯ç”¨äºŽlinkedHashMapçš„å°¾éƒ¨æ“ä½œï¼ŒHashMapä¸­å¹¶æ— å®žé™…æ„ä¹‰ã€‚ afterNodeInsertion(evict); // æœ€ç»ˆï¼Œå¯¹äºŽçœŸæ­£è¿›è¡Œæ’å…¥å…ƒç´ (ä¸æ˜¯è¦†ç›–çš„æ“ä½œ)çš„æƒ…å†µï¼Œputå‡½æ•°ä¸€å¾‹è¿”å›žnullã€‚ return null;&#125; getæ–¹æ³•123456// æˆ‘ä»¬å®žé™…ç”¨çš„getæ–¹æ³•ï¼Œåº•å±‚è°ƒç”¨çš„æ˜¯getNodeæ–¹æ³•public V get(Object key) &#123; Node&lt;K,V&gt; e; // æ ¹æ®keyåŠå…¶hashå€¼æŸ¥è¯¢nodeèŠ‚ç‚¹ï¼Œå¦‚æžœå­˜åœ¨ï¼Œåˆ™è¿”å›žè¯¥èŠ‚ç‚¹çš„valueå€¼ï¼›å¦‚æžœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›žnullã€‚ return (e = getNode(hash(key), key)) == null ? null : e.value;&#125; 1234567891011121314151617181920212223242526272829303132333435363738/** * Implements Map.get and related methods. * * @param hash hash for key * @param key the key * @return the node, or null if none ã€‚ * å¦‚æžœæ‰¾åˆ°nodeè¿”å›žnodeï¼Œæ²¡æœ‰æ‰¾åˆ°nodeåˆ™è¿”å›žnull * æ ¹æ®keyæœç´¢èŠ‚ç‚¹çš„æ–¹æ³•ã€‚è®°ä½åˆ¤æ–­keyç›¸ç­‰çš„æ¡ä»¶ï¼šhashå€¼ç›¸åŒ å¹¶ä¸” ç¬¦åˆequalsæ–¹æ³•ã€‚ */final Node&lt;K,V&gt; getNode(int hash, Object key) &#123; // å®šä¹‰å˜é‡tabæ˜¯å°†è¦éåŽ†æŸ¥æ‰¾çš„Nodeæ•°ç»„å¼•ç”¨ï¼Œfirstå’Œeè¡¨ç¤ºtabä¸Šçš„æ‰¾åˆ°çš„NodeèŠ‚ç‚¹ï¼Œnä¸ºtabçš„é•¿åº¦ï¼Œkä¸ºKey Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k; // æ ¹æ®è¾“å…¥çš„hashå€¼ï¼Œå¯ä»¥ç›´æŽ¥è®¡ç®—å‡ºå¯¹åº”çš„ä¸‹æ ‡(n - 1) &amp; hashï¼Œç¼©å°æŸ¥è¯¢èŒƒå›´ï¼Œå¦‚æžœå­˜åœ¨ç»“æžœï¼Œåˆ™å¿…å®šåœ¨tableçš„è¿™ä¸ªä½ç½®ä¸Šã€‚ if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (first = tab[(n - 1) &amp; hash]) != null) &#123; if (first.hash == hash &amp;&amp; // always check first node ((k = first.key) == key || (key != null &amp;&amp; key.equals(k)))) // åˆ¤æ–­ç¬¬ä¸€ä¸ªå­˜åœ¨çš„èŠ‚ç‚¹çš„keyæ˜¯å¦å’ŒæŸ¥è¯¢çš„keyç›¸ç­‰ã€‚å¦‚æžœç›¸ç­‰ï¼Œç›´æŽ¥è¿”å›žè¯¥èŠ‚ç‚¹ã€‚ return first; // å¦‚æžœç¬¬ä¸€ä¸ªä¸åŒ¹é…ï¼Œåˆ™åˆ¤æ–­å®ƒçš„ä¸‹ä¸€ä¸ªæ˜¯çº¢é»‘æ ‘è¿˜æ˜¯é“¾è¡¨ã€‚éåŽ†è¯¥é“¾è¡¨/çº¢é»‘æ ‘ç›´åˆ°nextä¸ºnullã€‚ if ((e = first.next) != null) &#123; // çº¢é»‘æ ‘å°±æŒ‰ç…§æ ‘çš„æŸ¥æ‰¾æ–¹å¼è¿”å›žå€¼ã€‚ if (first instanceof TreeNode) // å½“è¿™ä¸ªtableèŠ‚ç‚¹ä¸Šå­˜å‚¨çš„æ˜¯çº¢é»‘æ ‘ç»“æž„æ—¶ï¼Œåœ¨æ ¹èŠ‚ç‚¹firstä¸Šè°ƒç”¨getTreeNodeæ–¹æ³•ï¼Œåœ¨å†…éƒ¨éåŽ†çº¢é»‘æ ‘èŠ‚ç‚¹ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰åŒ¹é…çš„TreeNodeã€‚ return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key); // é“¾è¡¨çš„æ–¹å¼éåŽ†åŒ¹é…è¿”å›žå€¼ã€‚ do &#123; // å½“è¿™ä¸ªtableèŠ‚ç‚¹ä¸Šå­˜å‚¨çš„æ˜¯é“¾è¡¨ç»“æž„æ—¶ï¼Œè‹¥ä¸¤è€…hashç›¸åŒä¸”keyæ˜¯å¦å®Œå…¨ç›¸åŒåˆ™ç›´æŽ¥è¿”å›žã€‚ if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) return e; // å¦‚æžœkeyä¸åŒï¼Œä¸€ç›´éåŽ†ä¸‹åŽ»ç›´åˆ°é“¾è¡¨å°½å¤´ï¼Œç›´åˆ°e.next == nullæ‰ç»ˆæ­¢å¾ªçŽ¯ã€‚ &#125; while ((e = e.next) != null); &#125; &#125; // æ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å›žnullã€‚ return null;&#125; resizeæ–¹æ³•123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151/** * mapæ‰©å®¹æœºåˆ¶ * Initializes or doubles table size. If null, allocates in * accord with initial capacity target held in field threshold. * Otherwise, because we are using power-of-two expansion, the * elements from each bin must either stay at same index, or move * with a power of two offset in the new table. * * @return the table */final Node&lt;K,V&gt;[] resize() &#123; // å½“å‰æ‰€æœ‰å…ƒç´ æ‰€åœ¨çš„æ•°ç»„ï¼Œç§°ä¸ºè€çš„å…ƒç´ æ•°ç»„ Node&lt;K,V&gt;[] oldTab = table; // è€çš„å…ƒç´ æ•°ç»„é•¿åº¦ int oldCap = (oldTab == null) ? 0 : oldTab.length; // è€çš„æ‰©å®¹é˜€å€¼è®¾ç½® int oldThr = threshold; // æ–°æ•°ç»„çš„å®¹é‡ï¼Œæ–°æ•°ç»„çš„æ‰©å®¹é˜€å€¼éƒ½åˆå§‹åŒ–ä¸º0 int newCap, newThr = 0; // å¦‚æžœè€æ•°ç»„é•¿åº¦å¤§äºŽ0ï¼Œè¯´æ˜Žå·²ç»å­˜åœ¨å…ƒç´  if (oldCap &gt; 0) &#123; // è¶…è¿‡æœ€å¤§å€¼å°±ä¸å†æ‰©å……äº†ï¼Œå³2çš„30æ¬¡æ–¹æ—¶ï¼Œå°±åªå¥½éšä½ ç¢°æ’žåŽ»å§ if (oldCap &gt;= MAXIMUM_CAPACITY) &#123; // æ‰©å®¹é˜€å€¼è®¾ç½®ä¸ºintæœ€å¤§å€¼ï¼ˆ2çš„31æ¬¡æ–¹ -1 ï¼‰ï¼Œå› ä¸ºoldCapå†ä¹˜2å°±æº¢å‡ºäº†ã€‚ threshold = Integer.MAX_VALUE; // è¶…è¿‡äº†æœ€å¤§çš„å®¹é‡ï¼Œä¸èƒ½æ‰©å®¹ï¼Œç›´æŽ¥è¿”å›žè€çš„å…ƒç´ æ•°ç»„ return oldTab; &#125; /* æ²¡è¶…è¿‡æœ€å¤§å€¼ï¼Œå°±æ‰©å……ä¸ºåŽŸæ¥çš„2å€ * å¦‚æžœæ•°ç»„å…ƒç´ ä¸ªæ•°åœ¨æ­£å¸¸èŒƒå›´å†…ï¼Œé‚£ä¹ˆæ–°çš„æ•°ç»„å®¹é‡ä¸ºè€çš„æ•°ç»„å®¹é‡çš„2å€ï¼ˆå·¦ç§»1ä½ç›¸å½“äºŽä¹˜ä»¥2ï¼‰ * å¦‚æžœæ‰©å®¹ä¹‹åŽçš„æ–°å®¹é‡å°äºŽæœ€å¤§å®¹é‡å¹¶ä¸”è€çš„æ•°ç»„å®¹é‡å¤§äºŽç­‰äºŽé»˜è®¤åˆå§‹åŒ–å®¹é‡ï¼ˆ16ï¼‰ï¼Œé‚£ä¹ˆæ–°æ•°ç»„çš„æ‰© * å®¹é˜€å€¼è®¾ç½®ä¸ºè€é˜€å€¼çš„2å€ã€‚ï¼ˆè€çš„æ•°ç»„å®¹é‡å¤§äºŽ16æ„å‘³ç€ï¼šè¦ä¹ˆæž„é€ å‡½æ•°æŒ‡å®šäº†ä¸€ä¸ªå¤§äºŽ16çš„åˆå§‹åŒ–å®¹é‡å€¼ï¼Œ * è¦ä¹ˆå·²ç»ç»åŽ†è¿‡äº†è‡³å°‘ä¸€æ¬¡æ‰©å®¹ï¼‰ */ else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp; oldCap &gt;= DEFAULT_INITIAL_CAPACITY) newThr = oldThr &lt;&lt; 1; // double threshold &#125; // è¿è¡Œåˆ°è¿™ä¸ªelse if,è¯´æ˜Žè€æ•°ç»„æ²¡æœ‰ä»»ä½•å…ƒç´  else if (oldThr &gt; 0) // initial capacity was placed in threshold // å¦‚æžœè€æ•°ç»„çš„æ‰©å®¹é˜€å€¼å¤§äºŽ0ï¼Œé‚£ä¹ˆè®¾ç½®æ–°æ•°ç»„çš„å®¹é‡ä¸ºè¯¥é˜€å€¼,è¿™ä¸€æ­¥ä¹Ÿå°±æ„å‘³ç€æž„é€ è¯¥mapçš„æ—¶å€™ï¼ŒæŒ‡å®šäº†åˆå§‹åŒ–å®¹é‡ newCap = oldThr; else &#123; // zero initial threshold signifies using defaults // èƒ½è¿è¡Œåˆ°è¿™é‡Œçš„è¯ï¼Œè¯´æ˜Žæ˜¯è°ƒç”¨æ— å‚æž„é€ å‡½æ•°åˆ›å»ºçš„è¯¥mapï¼Œå¹¶ä¸”ç¬¬ä¸€æ¬¡æ·»åŠ å…ƒç´  // è®¾ç½®æ–°æ•°ç»„å®¹é‡ä¸º16 newCap = DEFAULT_INITIAL_CAPACITY; // è®¾ç½®æ–°æ•°ç»„æ‰©å®¹é˜€å€¼ä¸º 16 * 0.75 = 12ã€‚0.75ä¸ºè´Ÿè½½å› å­(å½“å…ƒç´ ä¸ªæ•°è¾¾åˆ°å®¹é‡äº†4åˆ†ä¹‹3ï¼Œé‚£ä¹ˆæ‰©å®¹) newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY); &#125; // å¦‚æžœæ‰©å®¹é˜€å€¼ä¸º0 if (newThr == 0) &#123; // è®¡ç®—æ–°çš„resizeä¸Šé™ float ft = (float)newCap * loadFactor; // è®¡ç®—æ‰©å®¹é˜€å€¼ newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ? (int)ft : Integer.MAX_VALUE); &#125; // è®¾ç½®æ–°æ•°ç»„çš„æ‰©å®¹é˜€å€¼ threshold = newThr; @SuppressWarnings(&#123;\"rawtypes\",\"unchecked\"&#125;) // åˆ›å»ºæ–°çš„æ•°ç»„ï¼ˆå¯¹äºŽç¬¬ä¸€æ¬¡æ·»åŠ å…ƒç´ ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„å°±æ˜¯ç¬¬ä¸€ä¸ªæ•°ç»„ï¼›å¯¹äºŽå­˜åœ¨oldTabçš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„å°±æ˜¯è¦éœ€è¦æ‰©å®¹åˆ°çš„æ–°æ•°ç»„ï¼‰ Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap]; // å°†è¯¥mapçš„tableå±žæ€§æŒ‡å‘åˆ°è¯¥æ–°æ•°ç»„newTab table = newTab; // å¦‚æžœè€æ•°ç»„ä¸ä¸ºç©ºï¼Œè¯´æ˜Žæ˜¯æ‰©å®¹æ“ä½œï¼Œé‚£ä¹ˆæ¶‰åŠåˆ°å…ƒç´ çš„è½¬ç§»æ“ä½œ if (oldTab != null) &#123; // éåŽ†è€æ•°ç»„æŠŠæ¯ä¸ªbucketéƒ½ç§»åŠ¨åˆ°æ–°çš„bucketsä¸­ for (int j = 0; j &lt; oldCap; ++j) &#123; // æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´  Node&lt;K,V&gt; e; // å¦‚æžœå½“å‰ä½ç½®å…ƒç´ ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆéœ€è¦è½¬ç§»è¯¥å…ƒç´ åˆ°æ–°æ•°ç»„ if ((e = oldTab[j]) != null) &#123; // é‡Šæ”¾æŽ‰è€æ•°ç»„å¯¹äºŽè¦è½¬ç§»èµ°çš„å…ƒç´ çš„å¼•ç”¨ï¼ˆä¸»è¦ä¸ºäº†ä½¿å¾—æ•°ç»„å¯è¢«å›žæ”¶ï¼‰ oldTab[j] = null; // å¦‚æžœå…ƒç´ æ²¡æœ‰æœ‰ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¯´æ˜Žè¯¥å…ƒç´ ä¸å­˜åœ¨hashå†²çª if (e.next == null) // æŠŠå…ƒç´ å­˜å‚¨åˆ°æ–°çš„æ•°ç»„ä¸­ï¼Œå­˜å‚¨åˆ°æ•°ç»„çš„å“ªä¸ªä½ç½®éœ€è¦æ ¹æ®hashå€¼å’Œæ•°ç»„é•¿åº¦æ¥è¿›è¡Œå–æ¨¡ // ã€hashå€¼ % æ•°ç»„é•¿åº¦ã€‘ = ã€ hashå€¼ &amp; ï¼ˆæ•°ç»„é•¿åº¦-1ï¼‰ã€‘ // è¿™ç§ä¸Žè¿ç®—æ±‚æ¨¡çš„æ–¹å¼è¦æ±‚ æ•°ç»„é•¿åº¦å¿…é¡»æ˜¯2çš„Næ¬¡æ–¹ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡æž„é€ å‡½æ•°éšæ„æŒ‡å®šåˆå§‹åŒ–å®¹é‡å‘€ï¼Œå¦‚æžœæŒ‡å®šäº†17,15è¿™ç§ï¼Œå²‚ä¸æ˜¯å‡ºé—®é¢˜äº†å°±ï¼Ÿæ²¡å…³ç³»ï¼Œæœ€ç»ˆä¼šé€šè¿‡tableSizeForæ–¹æ³•å°†ç”¨æˆ·æŒ‡å®šçš„è½¬åŒ–ä¸ºå¤§äºŽå…¶å¹¶ä¸”æœ€ç›¸è¿‘çš„2çš„Næ¬¡æ–¹ã€‚ 15 -&gt; 16ã€17-&gt; 32 newTab[e.hash &amp; (newCap - 1)] = e; /* * å¦‚æžœè¯¥å…ƒç´ æœ‰ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯´æ˜Žè¯¥ä½ç½®ä¸Šå­˜åœ¨ä¸€ä¸ªé“¾è¡¨äº†ï¼ˆhashç›¸åŒçš„å¤šä¸ªå…ƒç´ ä»¥é“¾è¡¨çš„æ–¹å¼å­˜ * å‚¨åˆ°äº†è€æ•°ç»„çš„è¿™ä¸ªä½ç½®ä¸Šäº†ï¼‰ã€‚ä¾‹å¦‚ï¼šæ•°ç»„é•¿åº¦ä¸º16ï¼Œé‚£ä¹ˆhashå€¼ä¸º1ï¼ˆ1%16=1ï¼‰çš„å’Œhashå€¼ä¸º * 17ï¼ˆ17%16=1ï¼‰çš„ä¸¤ä¸ªå…ƒç´ éƒ½æ˜¯ä¼šå­˜å‚¨åœ¨æ•°ç»„çš„ç¬¬2ä¸ªä½ç½®ä¸Šï¼ˆå¯¹åº”æ•°ç»„ä¸‹æ ‡ä¸º1ï¼‰ï¼Œå½“æ•°ç»„æ‰©å®¹ä¸º * 32ï¼ˆ1%32=1ï¼‰æ—¶ï¼Œhashå€¼ä¸º1çš„è¿˜åº”è¯¥å­˜å‚¨åœ¨æ–°æ•°ç»„çš„ç¬¬äºŒä¸ªä½ç½®ä¸Šï¼Œä½†æ˜¯hashå€¼ä¸º17(17%32=1 * 7)çš„å°±åº”è¯¥å­˜å‚¨åœ¨æ–°æ•°ç»„çš„ç¬¬18ä¸ªä½ç½®ä¸Šäº†ã€‚æ‰€ä»¥ï¼Œæ•°ç»„æ‰©å®¹åŽï¼Œæ‰€æœ‰å…ƒç´ éƒ½éœ€è¦é‡æ–°è®¡ç®—åœ¨æ–°æ•°ç»„ * ä¸­çš„ä½ç½®ã€‚ */ else if (e instanceof TreeNode) // å¦‚æžœè¯¥èŠ‚ç‚¹ä¸ºTreeNodeç±»åž‹ ((TreeNode&lt;K,V&gt;)e).split(this, newTab, j, oldCap); else &#123; // preserve order // é“¾è¡¨ä¼˜åŒ–é‡hashçš„ä»£ç å— // æŒ‰å‘½åæ¥ç¿»è¯‘çš„è¯ï¼Œåº”è¯¥å«ä½Žä½é¦–å°¾èŠ‚ç‚¹ Node&lt;K,V&gt; loHead = null, loTail = null; // æŒ‰å‘½åæ¥ç¿»è¯‘çš„è¯ï¼Œåº”è¯¥å«é«˜ä½é¦–å°¾èŠ‚ç‚¹ Node&lt;K,V&gt; hiHead = null, hiTail = null; // ä»¥ä¸Šçš„ä½Žä½æŒ‡çš„æ˜¯æ–°æ•°ç»„çš„ 0 åˆ° oldCap-1 ã€é«˜ä½æŒ‡å®šçš„æ˜¯oldCap åˆ° newCap - 1 Node&lt;K,V&gt; next; // éåŽ†é“¾è¡¨ do &#123; // nextè¡¨ç¤ºä¸‹ä¸€ä¸ªnodeèŠ‚ç‚¹ next = e.next; // åŽŸç´¢å¼• // è¿™ä¸€æ­¥åˆ¤æ–­å¥½ç‹ ï¼Œæ‹¿å…ƒç´ çš„hashå€¼å’Œè€æ•°ç»„çš„é•¿åº¦åšä¸Žè¿ç®— // æ•°ç»„çš„é•¿åº¦ä¸€å®šæ˜¯2çš„Næ¬¡æ–¹(ä¾‹å¦‚16)ï¼Œå¦‚æžœhashå€¼å’Œè¯¥é•¿åº¦åšä¸Žè¿ç®—ï¼Œç»“æžœä¸º0ï¼Œå°±è¯´æ˜Žè¯¥hashå€¼å’Œæ•°ç»„é•¿åº¦å–æ¨¡åŽçš„å€¼ä¸€å®šå°äºŽæ•°ç»„é•¿åº¦ï¼ˆä¾‹å¦‚modå€¼ä¸º1ï¼‰ã€‚ // é‚£ä¹ˆè¯¥hashå€¼å†å’Œæ–°æ•°ç»„çš„é•¿åº¦å–æ‘¸çš„è¯modå€¼ä¹Ÿä¸ä¼šæ”¾ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥è¯¥å…ƒç´ çš„åœ¨æ–°æ•°ç»„çš„ä½ç½®å’Œåœ¨è€æ•°ç»„çš„ä½ç½®æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥è¯¥å…ƒç´ å¯ä»¥æ”¾ç½®åœ¨ä½Žä½é“¾è¡¨ä¸­ã€‚ if ((e.hash &amp; oldCap) == 0) &#123; if (loTail == null) // å¦‚æžœæ²¡æœ‰å°¾ï¼Œè¯´æ˜Žé“¾è¡¨ä¸ºç©ºï¼Œé“¾è¡¨ä¸ºç©ºæ—¶ï¼Œå¤´èŠ‚ç‚¹æŒ‡å‘è¯¥å…ƒç´ ã€‚ loHead = e; else // å¦‚æžœæœ‰å°¾ï¼Œé‚£ä¹ˆé“¾è¡¨ä¸ä¸ºç©ºï¼ŒæŠŠè¯¥å…ƒç´ æŒ‚åˆ°é“¾è¡¨çš„æœ€åŽã€‚ loTail.next = e; // æŠŠå°¾èŠ‚ç‚¹è®¾ç½®ä¸ºå½“å‰å…ƒç´ ã€‚ loTail = e; &#125; // åŽŸç´¢å¼•+oldCap // å¦‚æžœä¸Žè¿ç®—ç»“æžœä¸ä¸º0ï¼Œè¯´æ˜Žhashå€¼å¤§äºŽè€æ•°ç»„é•¿åº¦ï¼ˆä¾‹å¦‚hashå€¼ä¸º17ï¼‰ã€‚ // æ­¤æ—¶è¯¥å…ƒç´ åº”è¯¥æ”¾ç½®åˆ°æ–°æ•°ç»„çš„é«˜ä½ä½ç½®ä¸Šã€‚ // ä¾‹ï¼šè€æ•°ç»„é•¿åº¦16ï¼Œé‚£ä¹ˆæ–°æ•°ç»„é•¿åº¦ä¸º32ï¼Œhashä¸º17çš„åº”è¯¥æ”¾ç½®åœ¨æ•°ç»„çš„ç¬¬17ä¸ªä½ç½®ä¸Šï¼Œä¹Ÿå°±æ˜¯ä¸‹æ ‡ä¸º16ï¼Œé‚£ä¹ˆä¸‹æ ‡ä¸º16å·²ç»å±žäºŽé«˜ä½äº†ï¼Œä½Žä½æ˜¯[0-15]ï¼Œé«˜ä½æ˜¯[16-31]ã€‚ else &#123; if (hiTail == null) // å¦‚æžœæ²¡æœ‰å°¾ï¼Œè¯´æ˜Žé“¾è¡¨ä¸ºç©ºï¼Œé“¾è¡¨ä¸ºç©ºæ—¶ï¼Œå¤´èŠ‚ç‚¹æŒ‡å‘è¯¥å…ƒç´ ã€‚ hiHead = e; else // å¦‚æžœæœ‰å°¾ï¼Œé‚£ä¹ˆé“¾è¡¨ä¸ä¸ºç©ºï¼ŒæŠŠè¯¥å…ƒç´ æŒ‚åˆ°é“¾è¡¨çš„æœ€åŽã€‚ hiTail.next = e; // æŠŠå°¾èŠ‚ç‚¹è®¾ç½®ä¸ºå½“å‰å…ƒç´ ã€‚ hiTail = e; &#125; &#125; while ((e = next) != null); // åŽŸç´¢å¼•æ”¾åˆ°bucketé‡Œï¼Œå³ä½Žä½çš„å…ƒç´ ç»„æˆçš„é“¾è¡¨è¿˜æ˜¯æ”¾ç½®åœ¨åŽŸæ¥çš„ä½ç½® if (loTail != null) &#123; loTail.next = null; newTab[j] = loHead; &#125; // åŽŸç´¢å¼•+oldCapæ”¾åˆ°bucketé‡Œï¼Œå³é«˜ä½çš„å…ƒç´ ç»„æˆçš„é“¾è¡¨æ”¾ç½®çš„ä½ç½®åªæ˜¯åœ¨åŽŸæœ‰ä½ç½®ä¸Šåç§»äº†è€æ•°ç»„çš„é•¿åº¦ä¸ªä½ç½®ã€‚ if (hiTail != null) &#123; hiTail.next = null; // ä¾‹1:hashä¸º17åœ¨è€æ•°ç»„æ”¾ç½®åœ¨0ä¸‹æ ‡,åœ¨æ–°æ•°ç»„æ”¾ç½®åœ¨16ä¸‹æ ‡; // ä¾‹2:hashä¸º18åœ¨è€æ•°ç»„æ”¾ç½®åœ¨1ä¸‹æ ‡,åœ¨æ–°æ•°ç»„æ”¾ç½®åœ¨17ä¸‹æ ‡ã€‚ newTab[j + oldCap] = hiHead; &#125; &#125; &#125; &#125; &#125; // è¿”å›žæ–°çš„ä½æ¡¶æ•°ç»„ return newTab;&#125; treeifyBinæ–¹æ³•1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** * è½¬æ¢ä¸ºçº¢é»‘æ ‘çš„æ“ä½œ * å‚æ•°tab: å…ƒç´ æ•°ç»„ * å‚æ•°hash: keyçš„hashCode * Replaces all linked nodes in bin at index for given hash unless * table is too small, in which case resizes instead. */final void treeifyBin(Node&lt;K,V&gt;[] tab, int hash) &#123; int n, index; Node&lt;K,V&gt; e; /* * å¦‚æžœå…ƒç´ æ•°ç»„ä¸ºç©ºæˆ–è€…æ•°ç»„é•¿åº¦å°äºŽ æ ‘ç»“æž„åŒ–çš„æœ€å°é™åˆ¶ * MIN_TREEIFY_CAPACITY é»˜è®¤å€¼64ï¼Œå¯¹äºŽè¿™ä¸ªå€¼å¯ä»¥ç†è§£ä¸ºï¼š * å¦‚æžœå…ƒç´ æ•°ç»„é•¿åº¦å°äºŽè¿™ä¸ªå€¼ï¼Œæ²¡æœ‰å¿…è¦åŽ»è¿›è¡Œç»“æž„è½¬æ¢; * å½“ä¸€ä¸ªæ•°ç»„ä½ç½®ä¸Šé›†ä¸­äº†å¤šä¸ªé”®å€¼å¯¹ï¼Œé‚£æ˜¯å› ä¸ºè¿™äº›keyçš„hashå€¼å’Œæ•°ç»„é•¿åº¦å–æ¨¡ä¹‹åŽç»“æžœç›¸åŒ.(å¹¶ä¸æ˜¯å› ä¸ºè¿™äº› * keyçš„hashå€¼ç›¸åŒ).å› ä¸ºhashå€¼ç›¸åŒçš„æ¦‚çŽ‡ä¸é«˜ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡æ‰©å®¹çš„æ–¹å¼ï¼Œæ¥ä½¿å¾—æœ€ç»ˆè¿™äº›keyçš„hashå€¼åœ¨å’Œæ–° * çš„æ•°ç»„é•¿åº¦å–æ¨¡ä¹‹åŽï¼Œæ‹†åˆ†åˆ°å¤šä¸ªæ•°ç»„ä½ç½®ä¸Šã€‚ */ if (tab == null || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY) // å¦‚æžœæ•°ç»„ä¸ºnullæˆ–è€…å°äºŽMIN_TREEIFY_CAPACITY=64åˆ™è¿›è¡Œæ‰©å®¹æ“ä½œ resize(); // å¦‚æžœå…ƒç´ æ•°ç»„é•¿åº¦å·²ç»å¤§äºŽç­‰äºŽäº† MIN_TREEIFY_CAPACITYï¼Œé‚£ä¹ˆå°±æœ‰å¿…è¦è¿›è¡Œç»“æž„è½¬æ¢äº†ã€‚ // æ ¹æ®hashå€¼å’Œæ•°ç»„é•¿åº¦è¿›è¡Œå–æ¨¡è¿ç®—åŽï¼Œå¾—åˆ°é“¾è¡¨çš„é¦–èŠ‚ç‚¹ã€‚ else if ((e = tab[index = (n - 1) &amp; hash]) != null) &#123; // å®šä¹‰é¦–ã€å°¾èŠ‚ç‚¹ã€‚ TreeNode&lt;K,V&gt; hd = null, tl = null; do &#123; // å°†è¯¥èŠ‚ç‚¹è½¬æ¢ä¸ºæ ‘èŠ‚ç‚¹ã€‚ TreeNode&lt;K,V&gt; p = replacementTreeNode(e, null); // å¦‚æžœå°¾èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯´æ˜Žè¿˜æ²¡æœ‰æ ¹èŠ‚ç‚¹ã€‚ if (tl == null) // é¦–èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰æŒ‡å‘å½“å‰èŠ‚ç‚¹ hd = p; else &#123; // å°¾èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œä»¥ä¸‹ä¸¤è¡Œä»£ç æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ç»“æž„ // å½“å‰æ ‘èŠ‚ç‚¹çš„ å‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å°¾èŠ‚ç‚¹ p.prev = tl; // å°¾èŠ‚ç‚¹çš„ åŽä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å½“å‰èŠ‚ç‚¹ tl.next = p; &#125; // æŠŠå½“å‰èŠ‚ç‚¹è®¾ä¸ºå°¾èŠ‚ tl = p; // å½“éåŽ†å°¾èŠ‚ç‚¹ä¸ºnullæ—¶å€™ï¼Œåˆ™ç»“æŸï¼Œå¦åˆ™æœ‰èŠ‚ç‚¹ç»§ç»­éåŽ†é“¾è¡¨ &#125; while ((e = e.next) != null); // åˆ°ç›®å‰ä¸ºæ­¢ ä¹Ÿåªæ˜¯æŠŠNodeå¯¹è±¡è½¬æ¢æˆäº†TreeNodeå¯¹è±¡ï¼ŒæŠŠå•å‘é“¾è¡¨è½¬æ¢æˆäº†åŒå‘é“¾è¡¨ // æŠŠè½¬æ¢åŽçš„åŒå‘é“¾è¡¨ï¼Œæ›¿æ¢åŽŸæ¥ä½ç½®ä¸Šçš„å•å‘é“¾è¡¨ if ((tab[index] = hd) != null) hd.treeify(tab); &#125;&#125; tableSizeForæ–¹æ³•1234567891011121314/** * è¿”å›žå¤§äºŽè¾“å…¥å‚æ•°ä¸”æœ€è¿‘çš„2çš„æ•´æ•°æ¬¡å¹‚çš„æ•°ï¼Œä¾‹å¦‚è¾“å…¥14ï¼Œåˆ™è¿”å›ž2çš„4æ¬¡å¹‚ï¼Œå³16ã€‚ * å¦‚æžœç®—å‡ºæ¥çš„nå¤§äºŽç­‰äºŽæœ€å¤§çš„å®¹é‡ï¼Œåˆ™å–æœ€å¤§çš„å®¹é‡ã€‚ * Returns a power of two size for the given target capacity. */static final int tableSizeFor(int cap) &#123; int n = cap - 1; n |= n &gt;&gt;&gt; 1; n |= n &gt;&gt;&gt; 2; n |= n &gt;&gt;&gt; 4; n |= n &gt;&gt;&gt; 8; n |= n &gt;&gt;&gt; 16; return (n &lt; 0) ? 1 : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;&#125; å…ˆæ¥åˆ†æžæœ‰å…³nä½æ“ä½œéƒ¨åˆ†ï¼šå…ˆæ¥å‡è®¾nçš„äºŒè¿›åˆ¶ä¸º01xxxâ€¦xxxã€‚æŽ¥ç€ å¯¹nå³ç§»1ä½ï¼š001xxâ€¦xxxï¼Œå†ä½æˆ–ï¼š011xxâ€¦xxx å¯¹nå³ç§»2ä¸ºï¼š00011â€¦xxxï¼Œå†ä½æˆ–ï¼š01111â€¦xxx æ­¤æ—¶å‰é¢å·²ç»æœ‰å››ä¸ª1äº†ï¼Œå†å³ç§»4ä½ä¸”ä½æˆ–å¯å¾—8ä¸ª1 åŒç†ï¼Œæœ‰8ä¸ª1ï¼Œå³ç§»8ä½è‚¯å®šä¼šè®©åŽå…«ä½ä¹Ÿä¸º1ã€‚ ç»¼ä¸Šå¯å¾—ï¼Œè¯¥ç®—æ³•è®©æœ€é«˜ä½çš„1åŽé¢çš„ä½å…¨å˜ä¸º1ã€‚ æœ€åŽå†è®©ç»“æžœn+1ï¼Œå³å¾—åˆ°äº†2çš„æ•´æ•°æ¬¡å¹‚çš„å€¼äº†ã€‚ çŽ°åœ¨å›žæ¥çœ‹çœ‹ç¬¬ä¸€æ¡è¯­å¥ï¼š 1int n = cap - 1; è®©cap-1å†èµ‹å€¼ç»™nçš„ç›®çš„æ˜¯å¦æ‰¾åˆ°çš„ç›®æ ‡å€¼å¤§äºŽæˆ–ç­‰äºŽåŽŸå€¼ã€‚ä¾‹å¦‚äºŒè¿›åˆ¶1000ï¼Œåè¿›åˆ¶æ•°å€¼ä¸º8ã€‚å¦‚æžœä¸å¯¹å®ƒå‡1è€Œç›´æŽ¥æ“ä½œï¼Œå°†å¾—åˆ°ç­”æ¡ˆ10000ï¼Œå³16ã€‚æ˜¾ç„¶ä¸æ˜¯ç»“æžœã€‚å‡1åŽäºŒè¿›åˆ¶ä¸º111ï¼Œå†è¿›è¡Œæ“ä½œåˆ™ä¼šå¾—åˆ°åŽŸæ¥çš„æ•°å€¼1000ï¼Œå³8ã€‚ å‚è€ƒæ–‡çŒ® Java8ç³»åˆ—ä¹‹é‡æ–°è®¤è¯†HashMap Java7HashMapçŸ¥è¯†ç‚¹æ•´ç†","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://ltyeamin.github.io/tags/Java/"}]},{"title":"çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ°","slug":"çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ°","date":"2019-03-29T11:00:09.000Z","updated":"2019-05-29T14:03:52.000Z","comments":true,"path":"2019/03/29/çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ°/","link":"","permalink":"http://ltyeamin.github.io/2019/03/29/çº¢é»‘æ ‘æ·±å…¥å‰–æžåŠJavaå®žçŽ°/","excerpt":"","text":"è°ˆåˆ°æ•°æ®ç»“æž„çš„æ ‘ï¼Œç¬”è€…çš„å°è±¡ä¸­è¿˜æ˜¯åœ¨å¤§å­¦æ—¶æœŸçš„æ¦‚å¿µï¼Œæœ€æ—©çš„æ¦‚å¿µæºè‡ªäºŽå“ˆå¤«æ›¼æ ‘(æœ€ä¼˜äºŒå‰æ ‘)ï¼Œå…¶ä»–çš„æ ‘ç»“æž„è¿˜æœ‰äºŒå‰æŸ¥æ‰¾æ ‘ã€å®Œå…¨äºŒå‰æ ‘ã€å¹³è¡¡äºŒå‰æ ‘(åˆåˆ†ä¸ºAVLæ ‘ã€RBçº¢é»‘æ ‘ã€SBTã€ä¼¸å±•æ ‘ã€TREAPã€æ›¿ç½ªç¾Šæ ‘ ï¼‰ã€å¹³è¡¡å¤šå‰æ ‘ï¼ˆB - Tree å’ŒB+ Tree)ç­‰ï¼Œä»Šå¤©æˆ‘ä»¬æ¥ç ”ç©¶ä¸€ä¸‹å¹³è¡¡äºŒå‰æ ‘çš„RBçº¢é»‘æ ‘ï¼Œå› ä¸ºRBçº¢é»‘æ ‘åœ¨JAVAä¸­çš„å®žçŽ°è¿˜æ˜¯è›®å¤šçš„ã€‚ çº¢é»‘æ ‘æ˜¯å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘çš„ä¸€ç§ã€‚ä¸ºäº†æ·±å…¥ç†è§£çº¢é»‘æ ‘ï¼Œæˆ‘ä»¬å…ˆå›žå¿†ä¸€ä¸‹å¤§å­¦æ•°æ®ç»“æž„ä¸­çš„äºŒå‰æŸ¥æ‰¾æ ‘ã€‚ äºŒå‰æŸ¥æ‰¾æ ‘åŸºæœ¬æ¦‚å¿µç™¾åº¦ç™¾ç§‘å®šä¹‰å¦‚ä¸‹ï¼š äºŒå‰æŽ’åºæ ‘ï¼ˆBinary Sort Treeï¼‰ï¼Œåˆç§°äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary Search Treeï¼‰ï¼Œäº¦ç§°äºŒå‰æœç´¢æ ‘ã€‚ äºŒå‰æŽ’åºæ ‘æˆ–è€…æ˜¯ä¸€æ£µç©ºæ ‘ï¼Œæˆ–è€…æ˜¯å…·æœ‰ä¸‹åˆ—æ€§è´¨çš„äºŒå‰æ ‘ï¼š ï¼ˆ1ï¼‰è‹¥å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºŽå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› ï¼ˆ2ï¼‰è‹¥å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºŽæˆ–ç­‰äºŽå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› ï¼ˆ3ï¼‰å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æŽ’åºæ ‘ï¼› äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary Search Treeï¼Œç®€ç§°BSTï¼‰æ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼Œå®ƒçš„å·¦å­èŠ‚ç‚¹çš„å€¼æ¯”çˆ¶èŠ‚ç‚¹çš„å€¼è¦å°ï¼Œå³èŠ‚ç‚¹çš„å€¼è¦æ¯”çˆ¶èŠ‚ç‚¹çš„å€¼å¤§ã€‚å®ƒçš„é«˜åº¦å†³å®šäº†å®ƒçš„æŸ¥æ‰¾æ•ˆçŽ‡ã€‚ åœ¨ç†æƒ³çš„æƒ…å†µä¸‹ï¼ŒäºŒå‰æŸ¥æ‰¾æ ‘å¢žåˆ æŸ¥æ”¹çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(logN)ï¼ˆå…¶ä¸­Nä¸ºèŠ‚ç‚¹æ•°ï¼‰ï¼Œæœ€åçš„æƒ…å†µä¸‹ä¸ºO(N)ã€‚å½“å®ƒçš„é«˜åº¦ä¸ºlogN+1æ—¶ï¼Œæˆ‘ä»¬å°±è¯´äºŒå‰æŸ¥æ‰¾æ ‘æ˜¯å¹³è¡¡çš„ã€‚ åŸºæœ¬æ“ä½œæŸ¥æ‰¾1234567891011121314151617181920212223242526// å®šä¹‰ä¸€ä¸ªæœç´¢çš„KeyT key = a search key// æ ‘çš„èŠ‚ç‚¹ï¼Œå½“å‰èŠ‚ç‚¹æŒ‡çš„æ˜¯æ ‘çš„æ ¹èŠ‚ç‚¹Node root = point to the root of a BST//å¾ªçŽ¯æŸ¥æ‰¾æ ‘while(true)&#123; // æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œç›´æŽ¥ç»“æŸï¼Œæ— æ³•ç»§ç»­æŸ¥è¯¢ if(root==null)&#123; break; &#125; // å¦‚æžœæŸ¥æ‰¾åˆ°ï¼Œç›´æŽ¥è¿”å›žå½“å‰çš„èŠ‚ç‚¹ if(root.value.equals(key))&#123; return root; &#125; // æ²¡æœ‰æŸ¥åˆ°åˆ™åšæ¯”è¾ƒç»§ç»­æŸ¥è¯¢ï¼Œå¦‚æžœå½“å‰è¦æŸ¥æ‰¾çš„keyä¸Žå½“å‰èŠ‚ç‚¹valueåšæ¯”è¾ƒï¼Œè‹¥keyå°äºŽå½“å‰èŠ‚ç‚¹çš„valueåœ¨å·¦å­æ ‘æŸ¥æ‰¾ else if(key.compareTo(root.value)&lt;0)&#123; root = root.left; &#125; // è‹¥keyå¤§äºŽå½“å‰èŠ‚ç‚¹çš„valueåœ¨å³å­æ ‘æŸ¥æ‰¾ else&#123; // å°†å³å­—æ•°æŒ‡å‘çš„rootèŠ‚ç‚¹ï¼Œç»§ç»­æŸ¥æ‰¾ root = root.right; &#125;&#125;// æ²¡æœ‰æŸ¥æ‰¾åˆ™è¿”å›žnullreturn null; ä»Žç¨‹åºä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“BSTæŸ¥æ‰¾çš„æ—¶å€™ï¼Œå…ˆä¸Žå½“å‰èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼š å¦‚æžœç›¸ç­‰çš„è¯å°±è¿”å›žå½“å‰èŠ‚ç‚¹ï¼› å¦‚æžœå°‘äºŽå½“å‰èŠ‚ç‚¹åˆ™ç»§ç»­æŸ¥æ‰¾å½“å‰èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼› å¦‚æžœå¤§äºŽå½“å‰èŠ‚ç‚¹åˆ™ç»§ç»­æŸ¥æ‰¾å½“å‰èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ ç›´åˆ°å½“å‰èŠ‚ç‚¹æŒ‡é’ˆä¸ºç©ºæˆ–è€…æŸ¥æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹ï¼Œç¨‹åºæŸ¥æ‰¾ç»“æŸã€‚ æ’å…¥1234567891011121314151617181920212223242526272829303132333435// æ–°èŠ‚ç‚¹Node node = create a new node with specify value// æ ‘çš„èŠ‚ç‚¹ï¼Œé»˜è®¤å½“å‰èŠ‚ç‚¹æŒ‡çš„æ˜¯æ ‘çš„æ ¹èŠ‚ç‚¹Node root = point the root node of a BST// çˆ¶èŠ‚ç‚¹å¼•ç”¨Node parent = null;//find the parent node to append the new node// åœ¨å¾ªçŽ¯ä¸­ï¼Œæ‰¾å¾…æ’å…¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹while(true)&#123; // å¦‚æžœæ ¹èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œåˆ™ç›´æŽ¥ç»“æŸï¼Œæ·»åŠ å¤±è´¥ã€‚ if(root==null) break; // å°†çˆ¶èŠ‚ç‚¹æŒ‡å‘æ ¹èŠ‚ç‚¹ parent = root; // å¦‚æžœæ–°èŠ‚ç‚¹çš„valueå€¼å°äºŽç­‰äºŽrootèŠ‚ç‚¹valueçš„ï¼Œæ·»åŠ åˆ°å·¦å­æ ‘ï¼Œæ‰¾å·¦å­æ ‘çš„çˆ¶èŠ‚ç‚¹ if(node.value.compareTo(root.value)&lt;=0)&#123; root = root.left; &#125;else&#123; // å¦åˆ™ï¼Œæ·»åŠ åˆ°å³å­æ ‘ï¼Œæ‰¾å³å­æ ‘çš„çˆ¶èŠ‚ç‚¹ root = root.right; &#125; &#125;//å¦‚æžœçˆ¶èŠ‚ç‚¹ä¸ä¸ºnullï¼Œæ‰§è¡Œæ·»åŠ æ“ä½œif(parent!=null)&#123; // å¼€å§‹æ·»åŠ æ“ä½œ if(node.value.compareTo(parent.value)&lt;=0)&#123; // æ·»åŠ å·¦å­æ ‘ //append to left parent.left = node; &#125;else&#123; // append to right // å¼€å§‹æ·»åŠ æ“ä½œï¼Œæ·»åŠ å³å­æ ‘ parent.right = node; &#125;&#125; æ’å…¥æ“ä½œå…ˆé€šè¿‡å¾ªçŽ¯æŸ¥æ‰¾åˆ°å¾…æ’å…¥çš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œå’ŒæŸ¥æ‰¾çˆ¶èŠ‚ç‚¹çš„é€»è¾‘ä¸€æ ·ï¼Œéƒ½æ˜¯æ¯”å¤§å°ï¼Œå°çš„å¾€å·¦ï¼Œå¤§çš„å¾€å³ã€‚æ‰¾åˆ°çˆ¶èŠ‚ç‚¹åŽï¼Œå¯¹æ¯”çˆ¶èŠ‚ç‚¹ï¼Œå°çš„å°±æ’å…¥åˆ°çˆ¶èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œå¤§å°±æ’å…¥åˆ°çˆ¶èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ä¸Šã€‚ åˆ é™¤1234567891011121314151617181920212223242526272829// å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œå¯æ ¹æ®æŸ¥æ‰¾ä»£ç æŸ¥æ‰¾å‡ºå¾…åˆ é™¤çš„èŠ‚ç‚¹Node node = delete a new node with specify value// å¦‚æžœèŠ‚ç‚¹å­˜åœ¨ï¼Œåˆ™è¿›è¡Œåˆ é™¤if (node != null) &#123; // å¦‚æžœèŠ‚ç‚¹æœ‰å·¦å­æ ‘ï¼Œåˆ™ç»§ç»­æ“ä½œ if (node.left != null) &#123; // æ‰¾åˆ°å…¶å·¦å­æ ‘çš„æœ€å³è¾¹çš„å¶å­ç»“ç‚¹leftRï¼Œç”¨è¯¥å¶å­ç»“ç‚¹leftRæ¥æ›¿ä»£å¾…åˆ é™¤çš„èŠ‚ç‚¹node.æŠŠleftRçš„å·¦å­©å­ä½œä¸ºleftRçš„çˆ¶äº²çš„å³å­©å­ã€‚ Node leftR = node.left; // å…ˆå‰çš„èŠ‚ç‚¹çš„å¤‡ä»½ Node prev = node.left; while(leftR.left != null) &#123; prev = leftR; leftR = leftR.right; &#125; // å°†æŸ¥æ‰¾åˆ°çš„leftR.valueèµ‹å€¼åˆ°node.value node.value = leftR.value; // è‹¥leftRä¸æ˜¯nodeçš„å·¦å­æ ‘,nodeçš„å·¦å­æ ‘ä¸å˜ï¼ŒleftRçš„å·¦å­æ ‘ä½œä¸ºleftRçš„çˆ¶ç»“ç‚¹çš„å³å­©å­ç»“ç‚¹ if(prev != leftR) &#123; prev.right = leftR.left; &#125; else &#123; // è‹¥æ˜¯leftRçš„å·¦å­æ ‘ï¼Œåˆ™nodeçš„å·¦å­æ ‘æŒ‡å‘leftRçš„å·¦å­æ ‘ node.left=leftR.right; &#125; &#125; else &#123; // å¦‚æžœèŠ‚ç‚¹æœ‰å·¦å­æ ‘ï¼Œç›´æŽ¥ç”¨nodeèŠ‚ç‚¹çš„å³å­©å­å–ä»£å®ƒ node = node.right; &#125;&#125; åˆ é™¤æ“ä½œçš„æ­¥éª¤å¦‚ä¸‹ï¼š æŸ¥æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹ã€‚ å¦‚æžœå¾…åˆ é™¤çš„èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹ï¼Œå³PL(å·¦å­æ ‘)å’ŒPR(å³å­æ ‘)å‡ä¸ºç©ºæ ‘ï¼Œç”±äºŽåˆ åŽ»å¶å­ç»“ç‚¹ä¸ç ´åæ•´æ£µæ ‘çš„ç»“æž„ï¼Œåˆ™ç›´æŽ¥åˆ é™¤ã€‚ å¦‚æžœå¾…åˆ é™¤çš„èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œåˆ™å…ˆæ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹çš„ä¸­åºéåŽ†çš„åŽç»§èŠ‚ç‚¹ï¼Œç”¨è¯¥åŽç»§èŠ‚ç‚¹çš„å€¼æ›¿æ¢å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„å€¼ï¼Œç„¶åŽåˆ é™¤åŽç»§èŠ‚ç‚¹ã€‚ å­˜åœ¨çš„å¼Šç«¯BSTå­˜åœ¨çš„ä¸»è¦é—®é¢˜æ˜¯ï¼Œæ•°åœ¨æ’å…¥çš„æ—¶å€™ä¼šå¯¼è‡´æ ‘å€¾æ–œï¼Œä¸åŒçš„æ’å…¥é¡ºåºä¼šå¯¼è‡´æ ‘çš„é«˜åº¦ä¸ä¸€æ ·ï¼Œè€Œæ ‘çš„é«˜åº¦ç›´æŽ¥çš„å½±å“äº†æ ‘çš„æŸ¥æ‰¾æ•ˆçŽ‡ã€‚ç†æƒ³çš„é«˜åº¦æ˜¯logNï¼Œæœ€åçš„æƒ…å†µæ˜¯æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½åœ¨ä¸€æ¡æ–œçº¿ä¸Šï¼Œè¿™æ ·çš„æ ‘çš„é«˜åº¦ä¸ºNã€‚ ä»‹äºŽä»¥ä¸Šçš„å¼Šç«¯ï¼Œæˆ‘ä»¬æœ‰å…¶ä»–æ–°çš„çš„æ ‘ç»“æž„é€‰æ‹©ï¼šSize Balanced Tree(SBT)ã€AVLæ ‘ã€RBçº¢é»‘æ ‘ã€Treap(Tree+Heap)ã€‚è¿™äº›å‡å¯ä»¥ä½¿æŸ¥æ‰¾æ ‘çš„é«˜åº¦ä¸ºO(log(n))ã€‚ RBçº¢é»‘æ ‘åŸºæœ¬æ¦‚å¿µ çº¢é»‘æ ‘ï¼ˆRed Black Treeï¼‰ æ˜¯ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œåˆç§°å¯¹ç§°äºŒå‰Bæ ‘ï¼Œæ˜¯åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ç”¨åˆ°çš„ä¸€ç§æ•°æ®ç»“æž„ï¼Œå…¸åž‹çš„ç”¨é€”æ˜¯å®žçŽ°å…³è”æ•°ç»„ã€‚ å®ƒæ˜¯åœ¨1972å¹´ç”±Rudolf Bayerå‘æ˜Žçš„ï¼Œå½“æ—¶è¢«ç§°ä¸ºå¹³è¡¡äºŒå‰Bæ ‘ï¼ˆsymmetric binary B-treesï¼‰ã€‚åŽæ¥ï¼Œåœ¨1978å¹´è¢« Leo J. Guibas å’Œ Robert Sedgewick ä¿®æ”¹ä¸ºå¦‚ä»Šçš„â€œçº¢é»‘æ ‘â€ã€‚ çº¢é»‘æ ‘å’ŒAVLæ ‘ç±»ä¼¼ï¼Œéƒ½æ˜¯åœ¨è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶é€šè¿‡ç‰¹å®šæ“ä½œä¿æŒäºŒå‰æŸ¥æ‰¾æ ‘çš„å¹³è¡¡ï¼Œä»Žè€ŒèŽ·å¾—è¾ƒé«˜çš„æŸ¥æ‰¾æ€§èƒ½ã€‚ å®ƒè™½ç„¶æ˜¯å¤æ‚çš„ï¼Œä½†å®ƒçš„æœ€åæƒ…å†µè¿è¡Œæ—¶é—´ä¹Ÿæ˜¯éžå¸¸è‰¯å¥½çš„ï¼Œå¹¶ä¸”åœ¨å®žè·µä¸­æ˜¯é«˜æ•ˆçš„ï¼š å®ƒå¯ä»¥åœ¨O(log n)æ—¶é—´å†…åšæŸ¥æ‰¾ï¼Œæ’å…¥å’Œåˆ é™¤ï¼Œè¿™é‡Œçš„n æ˜¯æ ‘ä¸­å…ƒç´ çš„æ•°ç›®ã€‚ åŸºäºŽBSTå­˜åœ¨çš„é—®é¢˜ï¼Œä¸€ç§æ–°çš„æ ‘â€”â€”å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘(Balanced BST)äº§ç”Ÿäº†ã€‚å¹³è¡¡æ ‘åœ¨æ’å…¥å’Œåˆ é™¤çš„æ—¶å€™ï¼Œä¼šé€šè¿‡æ—‹è½¬æ“ä½œå°†é«˜åº¦ä¿æŒåœ¨logNã€‚å…¶ä¸­ä¸¤æ¬¾å…·æœ‰ä»£è¡¨æ€§çš„å¹³è¡¡æ ‘åˆ†åˆ«ä¸ºAVLæ ‘å’Œçº¢é»‘æ ‘ã€‚AVLæ ‘ç”±äºŽå®žçŽ°æ¯”è¾ƒå¤æ‚ï¼Œè€Œä¸”æ’å…¥å’Œåˆ é™¤æ€§èƒ½å·®ï¼Œåœ¨å®žé™…çŽ¯å¢ƒä¸‹çš„åº”ç”¨ä¸å¦‚çº¢é»‘æ ‘ã€‚ çº¢é»‘æ ‘ï¼ˆRed-Black Treeï¼Œä»¥ä¸‹ç®€ç§°RBTreeï¼‰çš„å®žé™…åº”ç”¨éžå¸¸å¹¿æ³›ï¼Œæ¯”å¦‚Linuxå†…æ ¸ä¸­çš„å®Œå…¨å…¬å¹³è°ƒåº¦å™¨ã€é«˜ç²¾åº¦è®¡æ—¶å™¨ã€ext3æ–‡ä»¶ç³»ç»Ÿç­‰ç­‰ï¼Œå„ç§è¯­è¨€çš„å‡½æ•°åº“å¦‚Javaçš„TreeMapå’ŒTreeSetï¼ŒC++ STLçš„mapã€multimapã€multisetç­‰ã€‚ RBTreeä¹Ÿæ˜¯å‡½æ•°å¼è¯­è¨€ä¸­æœ€å¸¸ç”¨çš„æŒä¹…æ•°æ®ç»“æž„ä¹‹ä¸€ï¼Œåœ¨è®¡ç®—å‡ ä½•ä¸­ä¹Ÿæœ‰é‡è¦ä½œç”¨ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒJava 8ä¸­HashMapçš„å®žçŽ°ä¹Ÿå› ä¸ºç”¨RBTreeå–ä»£é“¾è¡¨ï¼Œæ€§èƒ½æœ‰æ‰€æå‡ã€‚ åŸºæœ¬å®šä¹‰RBTreeçš„å®šä¹‰å¦‚ä¸‹: ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹éƒ½æœ‰é¢œè‰²ï¼Œé»‘è‰²æˆ–è€…çº¢è‰²ï¼› æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ï¼› çˆ¶å­èŠ‚ç‚¹ä¹‹é—´ä¸èƒ½å‡ºçŽ°ä¸¤ä¸ªè¿žç»­çš„çº¢èŠ‚ç‚¹ ï¼› ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹å‘ä¸‹éåŽ†åˆ°å…¶å­å­™çš„å¶å­èŠ‚ç‚¹ï¼Œæ‰€ç»è¿‡çš„é»‘èŠ‚ç‚¹ä¸ªæ•°å¿…é¡»ç›¸ç­‰ ï¼› ç©ºèŠ‚ç‚¹è¢«è®¤ä¸ºæ˜¯é»‘è‰²çš„ã€‚ æ•°æ®ç»“æž„è¡¨ç¤ºå¦‚ä¸‹ï¼š 1234567lass Node&lt;T&gt;&#123; public T value; public Node&lt;T&gt; parent; public boolean isRed; public Node&lt;T&gt; left; public Node&lt;T&gt; right;&#125; RBTreeåœ¨ç†è®ºä¸Šè¿˜æ˜¯ä¸€æ£µBSTæ ‘ï¼Œä½†æ˜¯å®ƒåœ¨å¯¹BSTçš„æ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶ä¼šç»´æŒæ ‘çš„å¹³è¡¡ï¼Œå³ä¿è¯æ ‘çš„é«˜åº¦åœ¨[logN,logN+1]ï¼ˆç†è®ºä¸Šï¼Œæžç«¯çš„æƒ…å†µä¸‹å¯ä»¥å‡ºçŽ°RBTreeçš„é«˜åº¦è¾¾åˆ°2*logNï¼Œä½†å®žé™…ä¸Šå¾ˆéš¾é‡åˆ°ï¼‰ã€‚è¿™æ ·RBTreeçš„æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦å§‹ç»ˆä¿æŒåœ¨O(logN)ä»Žè€ŒæŽ¥è¿‘äºŽç†æƒ³çš„BSTã€‚RBTreeçš„åˆ é™¤å’Œæ’å…¥æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(logN)ã€‚RBTreeçš„æŸ¥æ‰¾æ“ä½œå°±æ˜¯BSTçš„æŸ¥æ‰¾æ“ä½œã€‚ åŸºæœ¬æ“ä½œæ—‹è½¬æ“ä½œæ—‹è½¬æ“ä½œ(Rotate)çš„ç›®çš„æ˜¯ä½¿èŠ‚ç‚¹é¢œè‰²ç¬¦åˆå®šä¹‰ï¼Œè®©RBTreeçš„é«˜åº¦è¾¾åˆ°å¹³è¡¡ã€‚ Rotateåˆ†ä¸ºleft-rotateï¼ˆå·¦æ—‹ï¼‰å’Œright-rotateï¼ˆå³æ—‹ï¼‰ï¼ŒåŒºåˆ†å·¦æ—‹å’Œå³æ—‹çš„æ–¹æ³•æ˜¯ï¼šå¾…æ—‹è½¬çš„èŠ‚ç‚¹ä»Žå·¦è¾¹ä¸Šå‡åˆ°çˆ¶èŠ‚ç‚¹å°±æ˜¯å³æ—‹ï¼Œå¾…æ—‹è½¬çš„èŠ‚ç‚¹ä»Žå³è¾¹ä¸Šå‡åˆ°çˆ¶èŠ‚ç‚¹å°±æ˜¯å·¦æ—‹ã€‚ æŸ¥æ‰¾æ“ä½œRBTreeçš„æŸ¥æ‰¾æ“ä½œå’ŒBSTçš„æŸ¥æ‰¾æ“ä½œæ˜¯ä¸€æ ·çš„ã€‚è¯·å‚è€ƒBSTçš„æŸ¥æ‰¾æ“ä½œä»£ç ã€‚ æ’å…¥æ“ä½œRBTreeçš„æ’å…¥ä¸ŽBSTçš„æ’å…¥æ–¹å¼æ˜¯ä¸€è‡´çš„ï¼Œåªä¸è¿‡æ˜¯åœ¨æ’å…¥è¿‡åŽï¼Œå¯èƒ½ä¼šå¯¼è‡´æ ‘çš„ä¸å¹³è¡¡ï¼Œè¿™æ—¶å°±éœ€è¦å¯¹æ ‘è¿›è¡Œæ—‹è½¬æ“ä½œå’Œé¢œè‰²ä¿®å¤ï¼ˆåœ¨è¿™é‡Œç®€ç§°æ’å…¥ä¿®å¤ï¼‰ï¼Œä½¿å¾—å®ƒç¬¦åˆRBTreeçš„å®šä¹‰ã€‚ æ–°æ’å…¥çš„èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œæ’å…¥ä¿®å¤æ“ä½œå¦‚æžœé‡åˆ°çˆ¶èŠ‚ç‚¹çš„é¢œè‰²ä¸ºé»‘åˆ™ä¿®å¤æ“ä½œç»“æŸã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åœ¨çˆ¶èŠ‚ç‚¹ä¸ºçº¢è‰²èŠ‚ç‚¹çš„æ—¶å€™æ˜¯éœ€è¦æ’å…¥ä¿®å¤æ“ä½œçš„ã€‚ æ’å…¥ä¿®å¤æ“ä½œåˆ†ä¸ºä»¥ä¸‹çš„ä¸‰ç§æƒ…å†µï¼Œè€Œä¸”æ–°æ’å…¥çš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯çº¢è‰²çš„ï¼š å”å”èŠ‚ç‚¹ä¹Ÿä¸ºçº¢è‰²ã€‚ å”å”èŠ‚ç‚¹ä¸ºç©ºï¼Œä¸”ç¥–çˆ¶èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹å¤„äºŽä¸€æ¡æ–œçº¿ä¸Šã€‚ å”å”èŠ‚ç‚¹ä¸ºç©ºï¼Œä¸”ç¥–çˆ¶èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹ä¸å¤„äºŽä¸€æ¡æ–œçº¿ä¸Šã€‚ æ’å…¥æ“ä½œç¤ºä¾‹1 ç¤ºä¾‹1çš„æ“ä½œæ˜¯å°†çˆ¶èŠ‚ç‚¹å’Œå”å”èŠ‚ç‚¹ä¸Žç¥–çˆ¶èŠ‚ç‚¹çš„é¢œè‰²äº’æ¢ï¼Œè¿™æ ·å°±ç¬¦åˆäº†RBTReeçš„å®šä¹‰ã€‚å³ç»´æŒäº†é«˜åº¦çš„å¹³è¡¡ï¼Œä¿®å¤åŽé¢œè‰²ä¹Ÿç¬¦åˆRBTreeå®šä¹‰çš„ç¬¬ä¸‰æ¡å’Œç¬¬å››æ¡ã€‚ä¸‹å›¾ä¸­ï¼Œæ“ä½œå®ŒæˆåŽAèŠ‚ç‚¹å˜æˆäº†æ–°çš„èŠ‚ç‚¹ã€‚å¦‚æžœAèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸æ˜¯é»‘è‰²çš„è¯ï¼Œåˆ™ç»§ç»­åšä¿®å¤æ“ä½œã€‚ æ’å…¥æ“ä½œç¤ºä¾‹2 ç¤ºä¾‹2çš„æ“ä½œæ˜¯å°†BèŠ‚ç‚¹è¿›è¡Œå³æ—‹æ“ä½œï¼Œå¹¶ä¸”å’Œçˆ¶èŠ‚ç‚¹Aäº’æ¢é¢œè‰²ã€‚é€šè¿‡è¯¥ä¿®å¤æ“ä½œRBTReeçš„é«˜åº¦å’Œé¢œè‰²éƒ½ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ã€‚å¦‚æžœBå’ŒCèŠ‚ç‚¹éƒ½æ˜¯å³èŠ‚ç‚¹çš„è¯ï¼Œåªè¦å°†æ“ä½œå˜æˆå·¦æ—‹å°±å¯ä»¥äº†ã€‚ æ’å…¥æ“ä½œç¤ºä¾‹3 ç¤ºä¾‹ 3çš„æ“ä½œæ˜¯å°†CèŠ‚ç‚¹è¿›è¡Œå·¦æ—‹ï¼Œè¿™æ ·å°±ä»Žç¤ºä¾‹ 3è½¬æ¢æˆç¤ºä¾‹ 2äº†ï¼Œç„¶åŽé’ˆå¯¹ç¤ºä¾‹ 2è¿›è¡Œæ“ä½œå¤„ç†å°±è¡Œäº†ã€‚ç¤ºä¾‹ 2æ“ä½œåšäº†ä¸€ä¸ªå³æ—‹æ“ä½œå’Œé¢œè‰²äº’æ¢æ¥è¾¾åˆ°ç›®çš„ã€‚å¦‚æžœæ ‘çš„ç»“æž„æ˜¯ä¸‹å›¾çš„é•œåƒç»“æž„ï¼Œåˆ™åªéœ€è¦å°†å¯¹åº”çš„å·¦æ—‹å˜æˆå³æ—‹ï¼Œå³æ—‹å˜æˆå·¦æ—‹å³å¯ã€‚ æ’å…¥æ“ä½œçš„æ€»ç»“: æ’å…¥åŽçš„ä¿®å¤æ“ä½œæ˜¯ä¸€ä¸ªå‘rootèŠ‚ç‚¹å›žæº¯çš„æ“ä½œï¼Œä¸€æ—¦ç‰µæ¶‰çš„èŠ‚ç‚¹éƒ½ç¬¦åˆäº†çº¢é»‘æ ‘çš„å®šä¹‰ï¼Œä¿®å¤æ“ä½œç»“æŸã€‚ä¹‹æ‰€ä»¥ä¼šå‘ä¸Šå›žæº¯æ˜¯ç”±äºŽç¤ºä¾‹ 1æ“ä½œä¼šå°†çˆ¶èŠ‚ç‚¹ï¼Œå”å”èŠ‚ç‚¹å’Œç¥–çˆ¶èŠ‚ç‚¹è¿›è¡Œæ¢é¢œè‰²ï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´ç¥–çˆ¶èŠ‚ç‚¹ä¸å¹³è¡¡(çº¢é»‘æ ‘å®šä¹‰3)ã€‚è¿™ä¸ªæ—¶å€™éœ€è¦å¯¹ç¥–çˆ¶èŠ‚ç‚¹ä¸ºèµ·ç‚¹è¿›è¡Œè°ƒèŠ‚ï¼ˆå‘ä¸Šå›žæº¯ï¼‰ã€‚ ç¥–çˆ¶èŠ‚ç‚¹è°ƒèŠ‚åŽå¦‚æžœè¿˜æ˜¯é‡åˆ°å®ƒçš„ç¥–çˆ¶é¢œè‰²é—®é¢˜ï¼Œæ“ä½œå°±ä¼šç»§ç»­å‘ä¸Šå›žæº¯ï¼Œç›´åˆ°rootèŠ‚ç‚¹ä¸ºæ­¢ï¼Œæ ¹æ®å®šä¹‰rootèŠ‚ç‚¹æ°¸è¿œæ˜¯é»‘è‰²çš„ã€‚åœ¨å‘ä¸Šçš„è¿½æº¯çš„è¿‡ç¨‹ä¸­ï¼Œé’ˆå¯¹æ’å…¥çš„3ä¸­æƒ…å†µè¿›è¡Œè°ƒèŠ‚ã€‚ç›´åˆ°ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ä¸ºæ­¢ã€‚ç›´åˆ°ç‰µæ¶‰çš„èŠ‚ç‚¹éƒ½ç¬¦åˆäº†çº¢é»‘æ ‘çš„å®šä¹‰ï¼Œä¿®å¤æ“ä½œç»“æŸã€‚ å¦‚æžœä¸Šé¢çš„3ä¸­æƒ…å†µå¦‚æžœå¯¹åº”çš„æ“ä½œæ˜¯åœ¨å³å­æ ‘ä¸Šï¼Œåšå¯¹åº”çš„é•œåƒæ“ä½œå°±æ˜¯äº†ã€‚ åˆ é™¤æ“ä½œåˆ é™¤æ“ä½œé¦–å…ˆéœ€è¦åšçš„ä¹Ÿæ˜¯BSTçš„åˆ é™¤æ“ä½œï¼Œåˆ é™¤æ“ä½œä¼šåˆ é™¤å¯¹åº”çš„èŠ‚ç‚¹ï¼Œå¦‚æžœæ˜¯å¶å­èŠ‚ç‚¹å°±ç›´æŽ¥åˆ é™¤ï¼Œå¦‚æžœæ˜¯éžå¶å­èŠ‚ç‚¹ï¼Œä¼šç”¨å¯¹åº”çš„ä¸­åºéåŽ†çš„åŽç»§èŠ‚ç‚¹æ¥é¡¶æ›¿è¦åˆ é™¤èŠ‚ç‚¹çš„ä½ç½®ã€‚åˆ é™¤åŽå°±éœ€è¦åšåˆ é™¤ä¿®å¤æ“ä½œï¼Œä½¿çš„æ ‘ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ï¼Œç¬¦åˆå®šä¹‰çš„çº¢é»‘æ ‘é«˜åº¦æ˜¯å¹³è¡¡çš„ã€‚ åˆ é™¤ä¿®å¤æ“ä½œåœ¨é‡åˆ°è¢«åˆ é™¤çš„èŠ‚ç‚¹æ˜¯çº¢è‰²èŠ‚ç‚¹æˆ–è€…åˆ°è¾¾rootèŠ‚ç‚¹æ—¶ï¼Œä¿®å¤æ“ä½œå®Œæ¯•ã€‚ åˆ é™¤ä¿®å¤æ“ä½œæ˜¯é’ˆå¯¹åˆ é™¤é»‘è‰²èŠ‚ç‚¹æ‰æœ‰çš„ï¼Œå½“é»‘è‰²èŠ‚ç‚¹è¢«åˆ é™¤åŽä¼šè®©æ•´ä¸ªæ ‘ä¸ç¬¦åˆRBTreeçš„å®šä¹‰çš„ç¬¬å››æ¡ã€‚éœ€è¦åšçš„å¤„ç†æ˜¯ä»Žå…„å¼ŸèŠ‚ç‚¹ä¸Šå€Ÿè°ƒé»‘è‰²çš„èŠ‚ç‚¹è¿‡æ¥ï¼Œå¦‚æžœå…„å¼ŸèŠ‚ç‚¹æ²¡æœ‰é»‘èŠ‚ç‚¹å¯ä»¥å€Ÿè°ƒçš„è¯ï¼Œå°±åªèƒ½å¾€ä¸Šè¿½æº¯ï¼Œå°†æ¯ä¸€çº§çš„é»‘èŠ‚ç‚¹æ•°å‡åŽ»ä¸€ä¸ªï¼Œä½¿å¾—æ•´æ£µæ ‘ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ã€‚ åˆ é™¤æ“ä½œçš„æ€»ä½“æ€æƒ³æ˜¯ä»Žå…„å¼ŸèŠ‚ç‚¹å€Ÿè°ƒé»‘è‰²èŠ‚ç‚¹ä½¿æ ‘ä¿æŒå±€éƒ¨çš„å¹³è¡¡ï¼Œå¦‚æžœå±€éƒ¨çš„å¹³è¡¡è¾¾åˆ°äº†ï¼Œå°±çœ‹æ•´ä½“çš„æ ‘æ˜¯å¦æ˜¯å¹³è¡¡çš„ï¼Œå¦‚æžœä¸å¹³è¡¡å°±æŽ¥ç€å‘ä¸Šè¿½æº¯è°ƒæ•´ã€‚ åˆ é™¤ä¿®å¤æ“ä½œåˆ†ä¸ºå››ç§æƒ…å†µ(åˆ é™¤é»‘èŠ‚ç‚¹åŽ)ï¼š å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²çš„èŠ‚ç‚¹ã€‚ å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²çš„èŠ‚ç‚¹ï¼Œä¸”å…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ã€‚ å¾…è°ƒæ•´çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²çš„èŠ‚ç‚¹ï¼Œä¸”å…„å¼ŸèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œå³èŠ‚ç‚¹æ˜¯é»‘è‰²çš„(å…„å¼ŸèŠ‚ç‚¹åœ¨å³è¾¹)ï¼Œ å¦‚æžœå…„å¼ŸèŠ‚ç‚¹åœ¨å·¦è¾¹çš„è¯ï¼Œå°±æ˜¯å…„å¼ŸèŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œå·¦èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ã€‚ å¾…è°ƒæ•´çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²çš„èŠ‚ç‚¹ï¼Œä¸”å³å­èŠ‚ç‚¹æ˜¯æ˜¯çº¢è‰²çš„(å…„å¼ŸèŠ‚ç‚¹åœ¨å³è¾¹)ï¼Œå¦‚æžœå…„å¼ŸèŠ‚ç‚¹åœ¨å·¦è¾¹ï¼Œåˆ™å°±æ˜¯å¯¹åº”çš„å°±æ˜¯å·¦èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ã€‚ åˆ é™¤æ“ä½œç¤ºä¾‹1 ç”±äºŽå…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²èŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ— æ³•å€Ÿè°ƒé»‘èŠ‚ç‚¹ï¼Œæ‰€ä»¥éœ€è¦å°†å…„å¼ŸèŠ‚ç‚¹æå‡åˆ°çˆ¶èŠ‚ç‚¹ï¼Œç”±äºŽå…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œæ ¹æ®RBTreeçš„å®šä¹‰ï¼Œå…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ï¼Œå°±å¯ä»¥ä»Žå®ƒçš„å­èŠ‚ç‚¹å€Ÿè°ƒäº†ã€‚ ç¤ºä¾‹1è¿™æ ·è½¬æ¢ä¹‹åŽå°±ä¼šå˜æˆåŽé¢çš„ç¤ºä¾‹2ï¼Œç¤ºä¾‹3ï¼Œæˆ–è€…ç¤ºä¾‹4è¿›è¡Œå¤„ç†äº†ã€‚ä¸Šå‡æ“ä½œéœ€è¦å¯¹Cåšä¸€ä¸ªå·¦æ—‹æ“ä½œï¼Œå¦‚æžœæ˜¯é•œåƒç»“æž„çš„æ ‘åªéœ€è¦åšå¯¹åº”çš„å³æ—‹æ“ä½œå³å¯ã€‚ ä¹‹æ‰€ä»¥è¦åšç¤ºä¾‹1æ“ä½œæ˜¯å› ä¸ºå…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œæ— æ³•å€Ÿåˆ°ä¸€ä¸ªé»‘èŠ‚ç‚¹æ¥å¡«è¡¥åˆ é™¤çš„é»‘èŠ‚ç‚¹ã€‚ åˆ é™¤æ“ä½œç¤ºä¾‹2 ç¤ºä¾‹2çš„åˆ é™¤æ“ä½œæ˜¯ç”±äºŽå…„å¼ŸèŠ‚ç‚¹å¯ä»¥æ¶ˆé™¤ä¸€ä¸ªé»‘è‰²èŠ‚ç‚¹ï¼Œå› ä¸ºå…„å¼ŸèŠ‚ç‚¹å’Œå…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ï¼Œæ‰€ä»¥å¯ä»¥å°†å…„å¼ŸèŠ‚ç‚¹å˜çº¢ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯æ ‘çš„å±€éƒ¨çš„é¢œè‰²ç¬¦åˆå®šä¹‰äº†ã€‚è¿™ä¸ªæ—¶å€™éœ€è¦å°†çˆ¶èŠ‚ç‚¹Aå˜æˆæ–°çš„èŠ‚ç‚¹ï¼Œç»§ç»­å‘ä¸Šè°ƒæ•´ï¼Œç›´åˆ°æ•´é¢—æ ‘çš„é¢œè‰²ç¬¦åˆRBTreeçš„å®šä¹‰ä¸ºæ­¢ã€‚ ç¤ºä¾‹2è¿™ç§æƒ…å†µä¸‹ä¹‹æ‰€ä»¥è¦å°†å…„å¼ŸèŠ‚ç‚¹å˜çº¢ï¼Œæ˜¯å› ä¸ºå¦‚æžœæŠŠå…„å¼ŸèŠ‚ç‚¹å€Ÿè°ƒè¿‡æ¥ï¼Œä¼šå¯¼è‡´å…„å¼Ÿçš„ç»“æž„ä¸ç¬¦åˆRBTreeçš„å®šä¹‰ï¼Œè¿™æ ·çš„æƒ…å†µä¸‹åªèƒ½æ˜¯å°†å…„å¼ŸèŠ‚ç‚¹ä¹Ÿå˜æˆçº¢è‰²æ¥è¾¾åˆ°é¢œè‰²çš„å¹³è¡¡ã€‚å½“å°†å…„å¼ŸèŠ‚ç‚¹ä¹Ÿå˜çº¢ä¹‹åŽï¼Œè¾¾åˆ°äº†å±€éƒ¨çš„å¹³è¡¡äº†ï¼Œä½†æ˜¯å¯¹äºŽç¥–çˆ¶èŠ‚ç‚¹æ¥è¯´æ˜¯ä¸ç¬¦åˆå®šä¹‰4çš„ã€‚è¿™æ ·å°±éœ€è¦å›žæº¯åˆ°çˆ¶èŠ‚ç‚¹ï¼ŒæŽ¥ç€è¿›è¡Œä¿®å¤æ“ä½œã€‚ åˆ é™¤æ“ä½œç¤ºä¾‹3 ç¤ºä¾‹3çš„åˆ é™¤æ“ä½œæ˜¯ä¸€ä¸ªä¸­é—´æ­¥éª¤ï¼Œå®ƒçš„ç›®çš„æ˜¯å°†å·¦è¾¹çš„çº¢è‰²èŠ‚ç‚¹å€Ÿè°ƒè¿‡æ¥ï¼Œè¿™æ ·å°±å¯ä»¥è½¬æ¢æˆç¤ºä¾‹4çŠ¶æ€äº†ï¼Œåœ¨ç¤ºä¾‹4çŠ¶æ€ä¸‹å¯ä»¥å°†Dï¼ŒEèŠ‚ç‚¹éƒ½é˜¶æ®µè¿‡æ¥ï¼Œé€šè¿‡å°†ä¸¤ä¸ªèŠ‚ç‚¹å˜æˆé»‘è‰²æ¥ä¿è¯çº¢é»‘æ ‘çš„æ•´ä½“å¹³è¡¡ã€‚ ä¹‹æ‰€ä»¥è¯´case-3æ˜¯ä¸€ä¸ªä¸­é—´çŠ¶æ€ï¼Œæ˜¯å› ä¸ºæ ¹æ®çº¢é»‘æ ‘çš„å®šä¹‰æ¥è¯´ï¼Œä¸‹å›¾å¹¶ä¸æ˜¯å¹³è¡¡çš„ï¼Œä»–æ˜¯é€šè¿‡ç¤ºä¾‹2æ“ä½œå®ŒåŽå‘ä¸Šå›žæº¯å‡ºçŽ°çš„çŠ¶æ€ã€‚ä¹‹æ‰€ä»¥ä¼šå‡ºçŽ°ç¤ºä¾‹3å’ŒåŽé¢çš„ç¤ºä¾‹4çš„æƒ…å†µï¼Œæ˜¯å› ä¸ºå¯ä»¥é€šè¿‡å€Ÿç”¨ä¾„å­èŠ‚ç‚¹çš„çº¢è‰²ï¼Œå˜æˆé»‘è‰²æ¥ç¬¦åˆçº¢é»‘æ ‘å®šä¹‰4. åˆ é™¤æ“ä½œç¤ºä¾‹4 ç¤ºä¾‹4çš„æ“ä½œæ˜¯çœŸæ­£çš„èŠ‚ç‚¹å€Ÿè°ƒæ“ä½œï¼Œé€šè¿‡å°†å…„å¼ŸèŠ‚ç‚¹ä»¥åŠå…„å¼ŸèŠ‚ç‚¹çš„å³èŠ‚ç‚¹å€Ÿè°ƒè¿‡æ¥ï¼Œå¹¶å°†å…„å¼ŸèŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹å˜æˆçº¢è‰²æ¥è¾¾åˆ°å€Ÿè°ƒä¸¤ä¸ªé»‘èŠ‚ç‚¹çš„ç›®çš„ï¼Œè¿™æ ·çš„è¯ï¼Œæ•´æ£µæ ‘è¿˜æ˜¯ç¬¦åˆRBTreeçš„å®šä¹‰çš„ã€‚ ç¤ºä¾‹4è¿™ç§æƒ…å†µçš„å‘ç”Ÿåªæœ‰åœ¨å¾…åˆ é™¤çš„èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹ä¸ºé»‘ï¼Œä¸”å­èŠ‚ç‚¹ä¸å…¨éƒ¨ä¸ºé»‘ï¼Œæ‰æœ‰å¯èƒ½å€Ÿè°ƒåˆ°ä¸¤ä¸ªèŠ‚ç‚¹æ¥åšé»‘èŠ‚ç‚¹ä½¿ç”¨ï¼Œä»Žè€Œä¿æŒæ•´æ£µæ ‘éƒ½ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ã€‚ åˆ é™¤æ“ä½œçš„æ€»ç»“: çº¢é»‘æ ‘çš„åˆ é™¤æ“ä½œæ˜¯æœ€å¤æ‚çš„æ“ä½œï¼Œå¤æ‚çš„åœ°æ–¹å°±åœ¨äºŽå½“åˆ é™¤äº†é»‘è‰²èŠ‚ç‚¹çš„æ—¶å€™ï¼Œå¦‚ä½•ä»Žå…„å¼ŸèŠ‚ç‚¹åŽ»å€Ÿè°ƒèŠ‚ç‚¹ï¼Œä»¥ä¿è¯æ ‘çš„é¢œè‰²ç¬¦åˆå®šä¹‰ã€‚ç”±äºŽçº¢è‰²çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯æ²¡æ³•å€Ÿè°ƒå‡ºé»‘èŠ‚ç‚¹çš„ï¼Œè¿™æ ·åªèƒ½é€šè¿‡é€‰æ‹©æ“ä½œè®©ä»–ä¸Šå‡åˆ°çˆ¶èŠ‚ç‚¹ï¼Œè€Œç”±äºŽå®ƒæ˜¯çº¢èŠ‚ç‚¹ï¼Œæ‰€ä»¥å®ƒçš„å­èŠ‚ç‚¹å°±æ˜¯é»‘çš„ï¼Œå¯ä»¥å€Ÿè°ƒã€‚ å¯¹äºŽå…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²èŠ‚ç‚¹çš„å¯ä»¥åˆ†æˆ3ç§æƒ…å†µæ¥å¤„ç†ï¼Œå½“æ‰€ä»¥çš„å…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²èŠ‚ç‚¹æ—¶ï¼Œå¯ä»¥ç›´æŽ¥å°†å…„å¼ŸèŠ‚ç‚¹å˜çº¢ï¼Œè¿™æ ·å±€éƒ¨çš„çº¢é»‘æ ‘é¢œè‰²æ˜¯ç¬¦åˆå®šä¹‰çš„ã€‚ä½†æ˜¯æ•´é¢—æ ‘ä¸ä¸€å®šæ˜¯ç¬¦åˆçº¢é»‘æ ‘å®šä¹‰çš„ï¼Œéœ€è¦å¾€ä¸Šè¿½æº¯ç»§ç»­è°ƒæ•´ã€‚ å¯¹äºŽå…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¸ºå·¦çº¢å³é»‘æˆ–è€… (å…¨éƒ¨ä¸ºçº¢ï¼Œå³çº¢å·¦é»‘)è¿™ä¸¤ç§æƒ…å†µï¼Œå¯ä»¥å…ˆå°†å‰é¢çš„æƒ…å†µé€šè¿‡é€‰æ‹©è½¬æ¢ä¸ºåŽä¸€ç§æƒ…å†µï¼Œåœ¨åŽä¸€ç§æƒ…å†µä¸‹ï¼Œå› ä¸ºå…„å¼ŸèŠ‚ç‚¹ä¸ºé»‘ï¼Œå…„å¼ŸèŠ‚ç‚¹çš„å³èŠ‚ç‚¹ä¸ºçº¢ï¼Œå¯ä»¥å€Ÿè°ƒå‡ºä¸¤ä¸ªèŠ‚ç‚¹å‡ºæ¥åšé»‘èŠ‚ç‚¹ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯åˆ é™¤äº†é»‘èŠ‚ç‚¹ï¼Œæ•´æ£µæ ‘è¿˜æ˜¯ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰çš„ï¼Œå› ä¸ºé»‘è‰²èŠ‚ç‚¹çš„ä¸ªæ•°æ²¡æœ‰æ”¹å˜ã€‚ çº¢é»‘æ ‘çš„åˆ é™¤æ“ä½œæ˜¯é‡åˆ°åˆ é™¤çš„èŠ‚ç‚¹ä¸ºçº¢è‰²ï¼Œæˆ–è€…è¿½æº¯è°ƒæ•´åˆ°äº†rootèŠ‚ç‚¹ï¼Œè¿™æ—¶åˆ é™¤çš„ä¿®å¤æ“ä½œå®Œæ¯•ã€‚ RBçº¢é»‘æ ‘çš„Javaå®žçŽ°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584public class RBTreeNode&lt;T extends Comparable&lt;T&gt;&gt; &#123; private T value;//node value private RBTreeNode&lt;T&gt; left;//left child pointer private RBTreeNode&lt;T&gt; right;//right child pointer private RBTreeNode&lt;T&gt; parent;//parent pointer private boolean red;//color is red or not red public RBTreeNode()&#123;&#125; public RBTreeNode(T value)&#123;this.value=value;&#125; public RBTreeNode(T value,boolean isRed)&#123;this.value=value;this.red = isRed;&#125; public T getValue() &#123; return value; &#125; void setValue(T value) &#123; this.value = value; &#125; RBTreeNode&lt;T&gt; getLeft() &#123; return left; &#125; void setLeft(RBTreeNode&lt;T&gt; left) &#123; this.left = left; &#125; RBTreeNode&lt;T&gt; getRight() &#123; return right; &#125; void setRight(RBTreeNode&lt;T&gt; right) &#123; this.right = right; &#125; RBTreeNode&lt;T&gt; getParent() &#123; return parent; &#125; void setParent(RBTreeNode&lt;T&gt; parent) &#123; this.parent = parent; &#125; boolean isRed() &#123; return red; &#125; boolean isBlack()&#123; return !red; &#125; /** * is leaf node **/ boolean isLeaf()&#123; return left==null &amp;&amp; right==null; &#125; void setRed(boolean red) &#123; this.red = red; &#125; void makeRed()&#123; red=true; &#125; void makeBlack()&#123; red=false; &#125; @Override public String toString()&#123; return value.toString(); &#125;&#125;public class RBTree&lt;T extends Comparable&lt;T&gt;&gt; &#123; private final RBTreeNode&lt;T&gt; root; //node number private java.util.concurrent.atomic.AtomicLong size = new java.util.concurrent.atomic.AtomicLong(0); //in overwrite mode,all node's value can not has same value //in non-overwrite mode,node can have same value, suggest don't use non-overwrite mode. private volatile boolean overrideMode=true; public RBTree()&#123; this.root = new RBTreeNode&lt;T&gt;(); &#125; public RBTree(boolean overrideMode)&#123; this(); this.overrideMode=overrideMode; &#125; public boolean isOverrideMode() &#123; return overrideMode; &#125; public void setOverrideMode(boolean overrideMode) &#123; this.overrideMode = overrideMode; &#125; /** * number of tree number * @return */ public long getSize() &#123; return size.get(); &#125; /** * get the root node * @return */ private RBTreeNode&lt;T&gt; getRoot()&#123; return root.getLeft(); &#125; /** * add value to a new node,if this value exist in this tree, * if value exist,it will return the exist value.otherwise return null * if override mode is true,if value exist in the tree, * it will override the old value in the tree * * @param value * @return */ public T addNode(T value)&#123; RBTreeNode&lt;T&gt; t = new RBTreeNode&lt;T&gt;(value); return addNode(t); &#125; /** * find the value by give value(include key,key used for search, * other field is not used,@see compare method).if this value not exist return null * @param value * @return */ public T find(T value)&#123; RBTreeNode&lt;T&gt; dataRoot = getRoot(); while(dataRoot!=null)&#123; int cmp = dataRoot.getValue().compareTo(value); if(cmp&lt;0)&#123; dataRoot = dataRoot.getRight(); &#125;else if(cmp&gt;0)&#123; dataRoot = dataRoot.getLeft(); &#125;else&#123; return dataRoot.getValue(); &#125; &#125; return null; &#125; /** * remove the node by give value,if this value not exists in tree return null * @param value include search key * @return the value contain in the removed node */ public T remove(T value)&#123; RBTreeNode&lt;T&gt; dataRoot = getRoot(); RBTreeNode&lt;T&gt; parent = root; while(dataRoot!=null)&#123; int cmp = dataRoot.getValue().compareTo(value); if(cmp&lt;0)&#123; parent = dataRoot; dataRoot = dataRoot.getRight(); &#125;else if(cmp&gt;0)&#123; parent = dataRoot; dataRoot = dataRoot.getLeft(); &#125;else&#123; if(dataRoot.getRight()!=null)&#123; RBTreeNode&lt;T&gt; min = removeMin(dataRoot.getRight()); //x used for fix color balance RBTreeNode&lt;T&gt; x = min.getRight()==null ? min.getParent() : min.getRight(); boolean isParent = min.getRight()==null; min.setLeft(dataRoot.getLeft()); setParent(dataRoot.getLeft(),min); if(parent.getLeft()==dataRoot)&#123; parent.setLeft(min); &#125;else&#123; parent.setRight(min); &#125; setParent(min,parent); boolean curMinIsBlack = min.isBlack(); //inherit dataRoot's color min.setRed(dataRoot.isRed()); if(min!=dataRoot.getRight())&#123; min.setRight(dataRoot.getRight()); setParent(dataRoot.getRight(),min); &#125; //remove a black node,need fix color if(curMinIsBlack)&#123; if(min!=dataRoot.getRight())&#123; fixRemove(x,isParent); &#125;else if(min.getRight()!=null)&#123; fixRemove(min.getRight(),false); &#125;else&#123; fixRemove(min,true); &#125; &#125; &#125;else&#123; setParent(dataRoot.getLeft(),parent); if(parent.getLeft()==dataRoot)&#123; parent.setLeft(dataRoot.getLeft()); &#125;else&#123; parent.setRight(dataRoot.getLeft()); &#125; //current node is black and tree is not empty if(dataRoot.isBlack() &amp;&amp; !(root.getLeft()==null))&#123; RBTreeNode&lt;T&gt; x = dataRoot.getLeft()==null ? parent :dataRoot.getLeft(); boolean isParent = dataRoot.getLeft()==null; fixRemove(x,isParent); &#125; &#125; setParent(dataRoot,null); dataRoot.setLeft(null); dataRoot.setRight(null); if(getRoot()!=null)&#123; getRoot().setRed(false); getRoot().setParent(null); &#125; size.decrementAndGet(); return dataRoot.getValue(); &#125; &#125; return null; &#125; /** * fix remove action * @param node * @param isParent */ private void fixRemove(RBTreeNode&lt;T&gt; node,boolean isParent)&#123; RBTreeNode&lt;T&gt; cur = isParent ? null : node; boolean isRed = isParent ? false : node.isRed(); RBTreeNode&lt;T&gt; parent = isParent ? node : node.getParent(); while(!isRed &amp;&amp; !isRoot(cur))&#123; RBTreeNode&lt;T&gt; sibling = getSibling(cur,parent); //sibling is not null,due to before remove tree color is balance //if cur is a left node boolean isLeft = parent.getRight()==sibling; if(sibling.isRed() &amp;&amp; !isLeft)&#123;//ç¤ºä¾‹1 //cur in right parent.makeRed(); sibling.makeBlack(); rotateRight(parent); &#125;else if(sibling.isRed() &amp;&amp; isLeft)&#123; //cur in left parent.makeRed(); sibling.makeBlack(); rotateLeft(parent); &#125;else if(isBlack(sibling.getLeft()) &amp;&amp; isBlack(sibling.getRight()))&#123;//ç¤ºä¾‹2 sibling.makeRed(); cur = parent; isRed = cur.isRed(); parent=parent.getParent(); &#125;else if(isLeft &amp;&amp; !isBlack(sibling.getLeft()) &amp;&amp; isBlack(sibling.getRight()))&#123;//ç¤ºä¾‹3 sibling.makeRed(); sibling.getLeft().makeBlack(); rotateRight(sibling); &#125;else if(!isLeft &amp;&amp; !isBlack(sibling.getRight()) &amp;&amp; isBlack(sibling.getLeft()) )&#123; sibling.makeRed(); sibling.getRight().makeBlack(); rotateLeft(sibling); &#125;else if(isLeft &amp;&amp; !isBlack(sibling.getRight()))&#123;//ç¤ºä¾‹4 sibling.setRed(parent.isRed()); parent.makeBlack(); sibling.getRight().makeBlack(); rotateLeft(parent); cur=getRoot(); &#125;else if(!isLeft &amp;&amp; !isBlack(sibling.getLeft()))&#123; sibling.setRed(parent.isRed()); parent.makeBlack(); sibling.getLeft().makeBlack(); rotateRight(parent); cur=getRoot(); &#125; &#125; if(isRed)&#123; cur.makeBlack(); &#125; if(getRoot()!=null)&#123; getRoot().setRed(false); getRoot().setParent(null); &#125; &#125; //get sibling node private RBTreeNode&lt;T&gt; getSibling(RBTreeNode&lt;T&gt; node,RBTreeNode&lt;T&gt; parent)&#123; parent = node==null ? parent : node.getParent(); if(node==null)&#123; return parent.getLeft()==null ? parent.getRight() : parent.getLeft(); &#125; if(node==parent.getLeft())&#123; return parent.getRight(); &#125;else&#123; return parent.getLeft(); &#125; &#125; private boolean isBlack(RBTreeNode&lt;T&gt; node)&#123; return node==null || node.isBlack(); &#125; private boolean isRoot(RBTreeNode&lt;T&gt; node)&#123; return root.getLeft() == node &amp;&amp; node.getParent()==null; &#125; /** * find the successor node * @param node current node's right node * @return */ private RBTreeNode&lt;T&gt; removeMin(RBTreeNode&lt;T&gt; node)&#123; //find the min node RBTreeNode&lt;T&gt; parent = node; while(node!=null &amp;&amp; node.getLeft()!=null)&#123; parent = node; node = node.getLeft(); &#125; //remove min node if(parent==node)&#123; return node; &#125; parent.setLeft(node.getRight()); setParent(node.getRight(),parent); //don't remove right pointer,it is used for fixed color balance //node.setRight(null); return node; &#125; private T addNode(RBTreeNode&lt;T&gt; node)&#123; node.setLeft(null); node.setRight(null); node.setRed(true); setParent(node,null); if(root.getLeft()==null)&#123; root.setLeft(node); //root node is black node.setRed(false); size.incrementAndGet(); &#125;else&#123; RBTreeNode&lt;T&gt; x = findParentNode(node); int cmp = x.getValue().compareTo(node.getValue()); if(this.overrideMode &amp;&amp; cmp==0)&#123; T v = x.getValue(); x.setValue(node.getValue()); return v; &#125;else if(cmp==0)&#123; //value exists,ignore this node return x.getValue(); &#125; setParent(node,x); if(cmp&gt;0)&#123; x.setLeft(node); &#125;else&#123; x.setRight(node); &#125; fixInsert(node); size.incrementAndGet(); &#125; return null; &#125; /** * find the parent node to hold node x,if parent value equals x.value return parent. * @param x * @return */ private RBTreeNode&lt;T&gt; findParentNode(RBTreeNode&lt;T&gt; x)&#123; RBTreeNode&lt;T&gt; dataRoot = getRoot(); RBTreeNode&lt;T&gt; child = dataRoot; while(child!=null)&#123; int cmp = child.getValue().compareTo(x.getValue()); if(cmp==0)&#123; return child; &#125; if(cmp&gt;0)&#123; dataRoot = child; child = child.getLeft(); &#125;else if(cmp&lt;0)&#123; dataRoot = child; child = child.getRight(); &#125; &#125; return dataRoot; &#125; /** * red black tree insert fix. * @param x */ private void fixInsert(RBTreeNode&lt;T&gt; x)&#123; RBTreeNode&lt;T&gt; parent = x.getParent(); while(parent!=null &amp;&amp; parent.isRed())&#123; RBTreeNode&lt;T&gt; uncle = getUncle(x); if(uncle==null)&#123;//need to rotate RBTreeNode&lt;T&gt; ancestor = parent.getParent(); //ancestor is not null due to before before add,tree color is balance if(parent == ancestor.getLeft())&#123; boolean isRight = x == parent.getRight(); if(isRight)&#123; rotateLeft(parent); &#125; rotateRight(ancestor); if(isRight)&#123; x.setRed(false); parent=null;//end loop &#125;else&#123; parent.setRed(false); &#125; ancestor.setRed(true); &#125;else&#123; boolean isLeft = x == parent.getLeft(); if(isLeft)&#123; rotateRight(parent); &#125; rotateLeft(ancestor); if(isLeft)&#123; x.setRed(false); parent=null;//end loop &#125;else&#123; parent.setRed(false); &#125; ancestor.setRed(true); &#125; &#125;else&#123;//uncle is red parent.setRed(false); uncle.setRed(false); parent.getParent().setRed(true); x=parent.getParent(); parent = x.getParent(); &#125; &#125; getRoot().makeBlack(); getRoot().setParent(null); &#125; /** * get uncle node * @param node * @return */ private RBTreeNode&lt;T&gt; getUncle(RBTreeNode&lt;T&gt; node)&#123; RBTreeNode&lt;T&gt; parent = node.getParent(); RBTreeNode&lt;T&gt; ancestor = parent.getParent(); if(ancestor==null)&#123; return null; &#125; if(parent == ancestor.getLeft())&#123; return ancestor.getRight(); &#125;else&#123; return ancestor.getLeft(); &#125; &#125; private void rotateLeft(RBTreeNode&lt;T&gt; node)&#123; RBTreeNode&lt;T&gt; right = node.getRight(); if(right==null)&#123; throw new java.lang.IllegalStateException(\"right node is null\"); &#125; RBTreeNode&lt;T&gt; parent = node.getParent(); node.setRight(right.getLeft()); setParent(right.getLeft(),node); right.setLeft(node); setParent(node,right); if(parent==null)&#123;//node pointer to root //right raise to root node root.setLeft(right); setParent(right,null); &#125;else&#123; if(parent.getLeft()==node)&#123; parent.setLeft(right); &#125;else&#123; parent.setRight(right); &#125; //right.setParent(parent); setParent(right,parent); &#125; &#125; private void rotateRight(RBTreeNode&lt;T&gt; node)&#123; RBTreeNode&lt;T&gt; left = node.getLeft(); if(left==null)&#123; throw new java.lang.IllegalStateException(\"left node is null\"); &#125; RBTreeNode&lt;T&gt; parent = node.getParent(); node.setLeft(left.getRight()); setParent(left.getRight(),node); left.setRight(node); setParent(node,left); if(parent==null)&#123; root.setLeft(left); setParent(left,null); &#125;else&#123; if(parent.getLeft()==node)&#123; parent.setLeft(left); &#125;else&#123; parent.setRight(left); &#125; setParent(left,parent); &#125; &#125; private void setParent(RBTreeNode&lt;T&gt; node,RBTreeNode&lt;T&gt; parent)&#123; if(node!=null)&#123; node.setParent(parent); if(parent==root)&#123; node.setParent(null); &#125; &#125; &#125; /** * debug method,it used print the given node and its children nodes, * every layer output in one line * @param root */ public void printTree(RBTreeNode&lt;T&gt; root)&#123; java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt; queue =new java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt;(); java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt; queue2 =new java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt;(); if(root==null)&#123; return ; &#125; queue.add(root); boolean firstQueue = true; while(!queue.isEmpty() || !queue2.isEmpty())&#123; java.util.LinkedList&lt;RBTreeNode&lt;T&gt;&gt; q = firstQueue ? queue : queue2; RBTreeNode&lt;T&gt; n = q.poll(); if(n!=null)&#123; String pos = n.getParent()==null ? \"\" : ( n == n.getParent().getLeft() ? \" LE\" : \" RI\"); String pstr = n.getParent()==null ? \"\" : n.getParent().toString(); String cstr = n.isRed()?\"R\":\"B\"; cstr = n.getParent()==null ? cstr : cstr+\" \"; System.out.print(n+\"(\"+(cstr)+pstr+(pos)+\")\"+\"\\t\"); if(n.getLeft()!=null)&#123; (firstQueue ? queue2 : queue).add(n.getLeft()); &#125; if(n.getRight()!=null)&#123; (firstQueue ? queue2 : queue).add(n.getRight()); &#125; &#125;else&#123; System.out.println(); firstQueue = !firstQueue; &#125; &#125; &#125; public static void main(String[] args) &#123; RBTree&lt;String&gt; bst = new RBTree&lt;String&gt;(); bst.addNode(\"d\"); bst.addNode(\"d\"); bst.addNode(\"c\"); bst.addNode(\"c\"); bst.addNode(\"b\"); bst.addNode(\"f\"); bst.addNode(\"a\"); bst.addNode(\"e\"); bst.addNode(\"g\"); bst.addNode(\"h\"); bst.remove(\"c\"); bst.printTree(bst.getRoot()); &#125;&#125; ä»£ç è°ƒè¯•çš„æ—¶å€™ï¼ŒprintTreeè¾“å‡ºæ ¼å¼å¦‚ä¸‹: 12345d(B)b(B d LE) g(R d RI)a(R b LE) e(B g LE) h(B g RI)f(R e RI) æ‹¬å·å·¦è¾¹è¡¨ç¤ºå…ƒç´ çš„å†…å®¹ã€‚æ‹¬å·å†…çš„ç¬¬ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºé¢œè‰²ï¼ŒBè¡¨ç¤ºblackï¼ŒRè¡¨ç¤ºredï¼›ç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºçˆ¶å…ƒç´ çš„å€¼ï¼›ç¬¬ä¸‰ä¸ªå…ƒç´ è¡¨ç¤ºå·¦å³ï¼ŒLEè¡¨ç¤ºåœ¨çˆ¶å…ƒç´ çš„å·¦è¾¹ã€‚RIè¡¨ç¤ºåœ¨çˆ¶å…ƒç´ çš„å³è¾¹ã€‚ ç¬¬ä¸€ä¸ªå…ƒç´ dæ˜¯rootèŠ‚ç‚¹ï¼Œç”±äºŽå®ƒæ²¡æœ‰çˆ¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ‹¬å·å†…åªæœ‰ä¸€ä¸ªå…ƒç´ ã€‚ æ€»ç»“ä½œä¸ºå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘é‡Œé¢ä¼—å¤šçš„å®žçŽ°ä¹‹ä¸€ï¼Œçº¢é»‘æ ‘æ— ç–‘æ˜¯æœ€ç®€æ´ã€å®žçŽ°æœ€ä¸ºç®€å•çš„ã€‚çº¢é»‘æ ‘é€šè¿‡å¼•å…¥é¢œè‰²çš„æ¦‚å¿µï¼Œé€šè¿‡é¢œè‰²è¿™ä¸ªçº¦æŸæ¡ä»¶çš„ä½¿ç”¨æ¥ä¿æŒæ ‘çš„é«˜åº¦å¹³è¡¡ã€‚ä½œä¸ºå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œæ—‹è½¬æ˜¯ä¸€ä¸ªå¿…ä¸å¯å°‘çš„æ“ä½œã€‚é€šè¿‡æ—‹è½¬å¯ä»¥é™ä½Žæ ‘çš„é«˜åº¦ï¼Œåœ¨çº¢é»‘æ ‘é‡Œé¢è¿˜å¯ä»¥è½¬æ¢é¢œè‰²ã€‚ çº¢é»‘æ ‘é‡Œé¢çš„æ’å…¥å’Œåˆ é™¤çš„æ“ä½œæ¯”è¾ƒéš¾ç†è§£ï¼Œè¿™æ—¶è¦æ³¨æ„è®°ä½ä¸€ç‚¹ï¼šæ“ä½œä¹‹å‰çº¢é»‘æ ‘æ˜¯å¹³è¡¡çš„ï¼Œé¢œè‰²æ˜¯ç¬¦åˆå®šä¹‰çš„ã€‚åœ¨æ“ä½œçš„æ—¶å€™å°±éœ€è¦å‘å…„å¼ŸèŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹ã€ä¾„å­èŠ‚ç‚¹å€Ÿè°ƒå’Œäº’æ¢é¢œè‰²ï¼Œè¦è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œå°±éœ€è¦ä¸æ–­çš„è¿›è¡Œæ—‹è½¬ã€‚æ‰€ä»¥çº¢é»‘æ ‘çš„æ’å…¥åˆ é™¤æ“ä½œéœ€è¦ä¸åœçš„æ—‹è½¬ï¼Œä¸€æ—¦å€Ÿè°ƒäº†åˆ«çš„èŠ‚ç‚¹ï¼Œåˆ é™¤å’Œæ’å…¥çš„èŠ‚ç‚¹å°±ä¼šè¾¾åˆ°å±€éƒ¨çš„å¹³è¡¡ï¼ˆå±€éƒ¨ç¬¦åˆçº¢é»‘æ ‘çš„å®šä¹‰ï¼‰ï¼Œä½†æ˜¯è¢«å€Ÿè°ƒçš„èŠ‚ç‚¹å°±ä¸ä¼šå¹³è¡¡äº†ï¼Œè¿™æ—¶å°±éœ€è¦ä»¥è¢«å€Ÿè°ƒçš„èŠ‚ç‚¹ä¸ºèµ·ç‚¹ç»§ç»­è¿›è¡Œè°ƒæ•´ï¼Œç›´åˆ°æ•´æ£µæ ‘éƒ½æ˜¯å¹³è¡¡çš„ã€‚åœ¨æ•´ä¸ªä¿®å¤çš„è¿‡ç¨‹ä¸­ï¼Œæ’å…¥å…·ä½“çš„åˆ†ä¸º3ç§æƒ…å†µï¼Œåˆ é™¤åˆ†ä¸º4ç§æƒ…å†µã€‚ æ•´ä¸ªçº¢é»‘æ ‘çš„æŸ¥æ‰¾ï¼Œæ’å…¥å’Œåˆ é™¤éƒ½æ˜¯O(logN)çš„ï¼ŒåŽŸå› å°±æ˜¯æ•´ä¸ªçº¢é»‘æ ‘çš„é«˜åº¦æ˜¯logNï¼ŒæŸ¥æ‰¾ä»Žæ ¹åˆ°å¶ï¼Œèµ°è¿‡çš„è·¯å¾„æ˜¯æ ‘çš„é«˜åº¦ï¼Œåˆ é™¤å’Œæ’å…¥æ“ä½œæ˜¯ä»Žå¶åˆ°æ ¹çš„ï¼Œæ‰€ä»¥ç»è¿‡çš„è·¯å¾„éƒ½æ˜¯logNã€‚ å‚è€ƒæ–‡çŒ® Cormen T H, Leiserson C E, Rivest R L, ç­‰. ç®—æ³•å¯¼è®ºï¼ˆç¬¬3ç‰ˆï¼‰. æ®·å»ºå¹³, ç­‰. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2012. Sedgewick R, Wayne K. ç®—æ³•ï¼ˆç¬¬4ç‰ˆï¼‰. è°¢è·¯äº‘ è¯‘. äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾, 2012. Weiss M A. æ•°æ®ç»“æž„ä¸Žç®—æ³•åˆ†æžï¼ˆç¬¬2ç‰ˆï¼‰. å†¯èˆœçŽº è¯‘. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2004. Knuth D E. è®¡ç®—æœºç¨‹åºè®¾è®¡è‰ºæœ¯ å·3ï¼šæŽ’åºä¸ŽæŸ¥æ‰¾ï¼ˆè‹±æ–‡ç‰ˆ ç¬¬2ç‰ˆï¼‰. äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾, 2010. äºŒå‰æŸ¥æ‰¾æ ‘ç™¾åº¦ç™¾ç§‘ RBçº¢é»‘æ ‘ç™¾åº¦ç™¾ç§‘","categories":[{"name":"algorithm","slug":"algorithm","permalink":"http://ltyeamin.github.io/categories/algorithm/"}],"tags":[{"name":"äºŒå‰æ ‘","slug":"äºŒå‰æ ‘","permalink":"http://ltyeamin.github.io/tags/äºŒå‰æ ‘/"}]},{"title":"è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ–","slug":"è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ–","date":"2019-03-28T04:57:10.000Z","updated":"2020-01-08T13:06:38.620Z","comments":true,"path":"2019/03/28/è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ–/","link":"","permalink":"http://ltyeamin.github.io/2019/03/28/è°ˆè°ˆå›½å†…å¤§çŽ¯å¢ƒä¸‹çš„996åŠ ç­æ–‡åŒ–/","excerpt":"","text":"LZæ¯å¤©éƒ½è¦æ‰“å¼€å¼€æºä¸­å›½ç½‘ç«™çœ‹çœ‹äº’è”ç½‘ç™¾æ€ï¼Œåœ¨ä»Šå¤©çš„ç½‘ç«™é‡Œï¼Œçœ‹åˆ°äº†ä¸¤ä»¶æœ‰æ„æ€çš„è¶£äº‹: æŠµåˆ¶996åŠ ç­æ–‡åŒ–996.icuï¼Œå¤§å®¶åœ¨996I.ICU GitHubç•…è°ˆè‡ªç”±ã€åæ§½åŠ ç­ æŸç¨‹åºå‘˜åˆ åº“è·‘è·¯åˆ¶ä½œçš„ç½‘ç«™-å®‰å¾½æ±½è½¦ç½‘æ˜¯ç”±ç®€å•çš„å›¾ç‰‡æ˜¾ç¤ºæ‹¼æŽ¥è€Œæˆçš„ã€‚ 996åŠ ç­æ–‡åŒ–æ— è®ºæ˜¯ä¼ ç»Ÿè¡Œä¸šï¼Œè¿˜æ˜¯äº’è”ç½‘è¡Œä¸šï¼ŒçŽ°åœ¨å…¬å¸åŠ ç­æƒ…å†µå¯ä»¥è¯´å¾—æ˜¯å¸ç©ºè§æƒ¯äº†ã€‚å°¤å…¶æ˜¯åœ¨äº’è”ç½‘è¡Œä¸šèƒ½æ›´åŠ ä½“çŽ°å‡ºæ¥ï¼Œæ¯”å¦‚åŽä¸ºã€äº¬ä¸œæœ€ä¸ºå¸¸è§ã€‚åŠ ç­æ–‡åŒ–å·²ç»æˆä¸ºäº†æ™®éçŽ°è±¡ï¼ŒåŠ³åŠ¨æ³•è§„å®šåœ¨å¿…è¦çš„æƒ…å†µä¸‹ï¼Œå…¬å¸å¯ä»¥é€‚å½“å®‰æŽ’ä¸€ä¸‹åŠ ç­ï¼Œå‘˜å·¥éœ€é…åˆï¼Œå…¬å¸æ‰¿è¯ºå¹¶ç»™æ›´å¥½çš„ç¦åˆ©å¾…é‡ã€‚ åœ¨å¤§å…¬å¸é‡Œï¼Œå·¥ä½œå¼ºåº¦å¤§å¾ˆæ­£å¸¸ï¼Œå‘˜å·¥æ—©å·²ä¹ ä»¥ä¸ºå¸¸ï¼Œä¸ä»…ä»…æ„¿æ„æŽ¥å—åŠ ç­ï¼Œè€Œä¸”åŠ ç­åŠ çš„ä¸€èº«çƒ­è¡€ã€‚æˆ‘æƒ³æŽ¥å—çš„åŽŸå› æ˜¯å„ç§ç¦åˆ©å¾…é‡çš„è¯±æƒ‘ã€‚ä½†æ˜¯ä¸­å°åž‹å…¬å¸é‡Œä¸è§å¾—æ˜¯è¿™æ ·å­çš„ï¼Œå¦‚æžœæ™®é€šå…¬å¸éƒ½å’ŒåŽä¸ºã€äº¬ä¸œè¿™æ ·å¤§åž‹å…¬å¸å¾…é‡ä¸€æ ·çš„è¯ï¼Œå¤§å®¶è‚¯å®šå¯¹åŠ ç­çš„ç§¯æžæ€§å¾ˆå¼ºã€‚ æˆ‘æ›¾ç»å…¥èŒçš„ä¸€å®¶å…¬å¸ä¹Ÿå­˜åœ¨çš„996åŠ ç­æ–‡åŒ–ï¼Œå½“æ—¶å…¬å¸ä¸šåŠ¡æ­£å¤„äºŽé«˜é€Ÿå‘å±•æœŸï¼Œæ•´ä¸ªæŠ€æœ¯éƒ¨é—¨ç»å¸¸åŠ ç­ï¼Œå½“æ—¶ç¦åˆ©å¾…é‡æ˜¯æŒ‰æ—¶æ”¯ä»˜åŠ ç­è´¹æ¥å…‘çŽ°çš„ï¼Œå·¥ä½œæ—¥æ™šä¸Š7ç‚¹ç®—åŠ ç­ï¼ŒåŠ ç­è´¹æŒ‰åŠ ç­å°æ—¶ä¹˜ä»¥1å€å†ä¹˜ä»¥å¹³å‡æ—¥è–ªåŽ»ç®—ï¼Œå‘¨æœ«ä»¥åŠæ³•å®šèŠ‚æ—¥åŠ ç­è´¹æŒ‰åŠ ç­å°æ—¶ä¹˜ä»¥1.5å€å†ä¹˜ä»¥å¹³å‡æ—¥è–ªï¼Œå‡¡æ˜¯åŠ ç­è¶…è¿‡3ä¸ªå°æ—¶çš„ï¼Œæœ‰é¤è¡¥ï¼Œè¶…è¿‡4ä¸ªå°æ—¶çš„ï¼Œæœ‰é¤è¡¥è½¦è¡¥ã€‚ æˆ‘ä¸Šå­¦æœŸé—´æ›¾ç»çœ‹è¿‡é©¬å…‹æ€ä¸»ä¹‰å“²å­¦ï¼Œé©¬å…‹æ€ä¸»ä¹‰è®¤ä¸ºä»»ä½•äº‹ç‰©éƒ½æ˜¯ä½œä¸ºçŸ›ç›¾ç»Ÿä¸€ä½“è€Œå­˜åœ¨çš„ï¼ŒçŸ›ç›¾æ˜¯äº‹ç‰©å‘å±•çš„æºæ³‰å’ŒåŠ¨åŠ›ã€‚ç®€è¨€ä¹‹ï¼ŒçŸ›ç›¾å°±æ˜¯å¯¹ç«‹ç»Ÿä¸€ï¼Œä»»ä½•äº‹æƒ…éƒ½æœ‰ä¸¤é¢æ€§ã€‚æŽ¥ä¸‹æ¥æˆ‘ç«™åœ¨ä¸åŒçš„å®¢è§‚è§’åº¦æ¥åˆ†æžä¸€ä¸‹ä¸Šè¿°åŠ ç­æ–‡åŒ–: ç«™åœ¨å‘˜å·¥çš„è§’åº¦ æˆ‘ä»¬ä¸å¯å¦è®¤åŠ ç­ç¡®å®žèƒ½æé«˜å·¥ä½œæ•ˆçŽ‡ï¼Œå…¬å¸éœ€è¦æˆ‘ä»¬åŠ ç­ï¼Œæˆ‘ä»¬ç»ä¸æŽ¨è¾žï¼Œå› ä¸ºæœ‰äº†ç¦åˆ©å¾…é‡çš„ä¿è¯ã€‚ åªè¦æœ‰ç¦åˆ©å¾…é‡ï¼Œå¤§å®¶éƒ½å¾ˆæ„¿æ„åŠ ç­ï¼Œå¦‚æžœæ²¡æœ‰ç¦åˆ©ï¼Œå¤§å®¶å‡ ä¹Žæ˜¯æ²¡æœ‰æ„å‘ä¸»åŠ¨åŠ ç­ï¼Œé™¤éžæœ‰éžå¸¸ç´§æ€¥çš„ä»»åŠ¡æ‰å‹‰å¼ºæŽ¥å—åŠ ç­ã€‚å¦‚æžœæ²¡æœ‰ç¦åˆ©å¾…é‡ï¼Œä½œä¸ºå‘˜å·¥å®æ„¿æé«˜å·¥ä½œæ•ˆçŽ‡ï¼Œä¹Ÿä¸æ„¿æ„åœ¨å…¬å¸è¿›è¡Œæ— å¿åŠ ç­ã€‚ä½†æ˜¯ï¼Œè¯æœ‰è¯´å›žæ¥ï¼Œå¦‚æžœæœ‰ç¦åˆ©å¾…é‡ï¼Œä¸è§å¾—èƒ½å¤Ÿæé«˜å·¥ä½œæ•ˆçŽ‡ã€‚ ç«™åœ¨å…¬å¸çš„è§’åº¦ ä»Žå…¬å¸çš„è§’åº¦ä¸Šæ¥è®²ï¼ŒåŠ ç­å¯ä»¥è®©äººåŠ›èµ„æºåˆç†åˆ†é…ï¼Œä½¿å¾—å…¬å¸å¤§æ­¥å‘å‰è¿ˆã€‚ä½†æ˜¯å®¢è§‚æ¥è®²ï¼Œä¸€èˆ¬å…¬å¸å¤§è‚†å®£æ‰¬åŠ ç­æ–‡åŒ–ï¼Œæœ‰å¯èƒ½å…¬å¸å‡ºçŽ°å¥åº·çŠ¶å†µï¼Œè¿™ä¸ªæ˜¯ç”±åŠ ç­æ•ˆçŽ‡é«˜ä½Žæ¥å†³å®šçš„ï¼ŒåŠ ç­ä¸ä¸€å®šæé«˜æ•ˆçŽ‡ã€‚è¿™å°±å’Œä¸­å›½50å¹´ä»£å¤§è·ƒè¿›èµ¶è‹±è¶…ç¾Žæ€æƒ³ä¸€æ ·ï¼Œå†’è¿›æ€æƒ³ï¼Œå¹¶æ²¡æœ‰ç«‹è¶³çŽ°å®žã€‚ è¿™ä¸ªè®©æˆ‘æƒ³æˆ‘çš„ä¸€ä¸ªåŒäº‹ï¼Œä»–å¹³æ—¶å‡ ä¹Žä¹Ÿä¸æ€Žä¹ˆåŠ ç­ï¼Œåªæœ‰ç´§æ€¥ä»»åŠ¡çš„æ—¶å€™æ‰ä¼šé€‰æ‹©åŠ ç­ã€‚æœ‰ä¸€æ¬¡ä»–çš„Leaderé—®ï¼šå¤§å®¶éƒ½åœ¨åŠ ç­ï¼Œä¸ºä»€ä¹ˆä½ ä¸åŠ ç­ï¼Ÿå®ƒçš„å›žç­”Leaderå¤§åƒä¸€æƒŠï¼Œä»–è¯´ä»–å½“å¤©çš„ä»»åŠ¡å·²ç»å®Œæˆï¼Œåªè¦æŒ‰ç…§é¢„æœŸæ—¶é—´å®Œæˆå°±å¥½ã€‚å¦‚æžœå…¬å¸æŠ€æœ¯æ°›å›´å’ŒBATå¤§åž‹äº’è”ç½‘å…¬å¸ä¸€ä¸ªçº§åˆ«çš„ï¼Œæˆ‘æ›´æ„¿æ„æ— å¿åŠ åˆ°11ç‚¹ã€‚å¦‚æžœæ²¡æœ‰æŠ€æœ¯æ°›å›´ï¼ŒåŠ ç­å¯¹è‡ªèº«æ¥è®²æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯æ”¶èŽ·å’Œèƒ½åŠ›æå‡ã€‚å¹³æ—¶åªéœ€è¦ä¿è¯æ­£å¸¸çš„ä»»åŠ¡æŒ‰ç‚¹å®Œæˆå³å¯ã€‚ä»–çš„Leaderå¬åˆ°åŽä¹Ÿæ— è¯­äº†ï¼Œçž¬é—´è®¤ä¸ºä»–ä¸åˆç¾¤ã€‚ æˆ‘è§‰å¾—ä»»ä½•è€æ¿å’ŒLeaderéƒ½æ²¡æœ‰å¼ºåˆ¶è¦æ±‚åŠ ç­çš„æƒåˆ©ã€‚æˆ‘é‚£ä¸ªåŒäº‹ä½çš„åœ°æ–¹å’Œå…¬å¸å¾ˆè¿œï¼Œæ—¥å¸¸ä¸Šä¸‹ç­ååœ°é“è¦1ä¸ªå°æ—¶å››ååˆ†é’Ÿï¼Œå³ä¾¿æ™šä¸Š6ç‚¹æ•´ä¸‹ç­ï¼Œå›žåŽ»éƒ½å¿«8ç‚¹äº†ã€‚æˆ‘é—®ä»–ä¸ºä»€ä¹ˆä¸ç»™Leaderååº”è¿™ä¸ªé—®é¢˜ï¼Œè®©Leaderä½“è°…ä¸€ä¸‹ã€‚ä»–è¯´ä¸ç”¨ï¼Œä»–å‘çŽ°å¹¶ä¸æ˜¯ä»–ä¸åˆç¾¤ï¼Œè€Œæ˜¯ä¸ä¹ æƒ¯é‚£ç§å…¬å¸æ°›å›´ï¼Œè€æ¿è¦äº§å‡ºè¦åŠ ç­ï¼ŒåŠ ç­æ²¡å¾…é‡ï¼Œé¢†å¯¼ä¹Ÿæ˜¯å¬è€æ¿çš„å©å’ï¼Œå°±è¦æ±‚åŠ ç­ï¼ŒäºŽæ˜¯æ•ˆæžœå¾ˆæ˜Žæ˜¾ï¼Œå¤§å®¶éƒ½æ˜¯ç™½å¤©å¹²å…¶ä»–äº‹æƒ…ï¼Œæ™šä¸Šå¹²æ´»ï¼Œå¦‚æžœæ˜¯æˆ‘çš„è¯ï¼Œæˆ‘ä¹Ÿå—ä¸äº†ï¼Œæ¯•ç«Ÿæˆ‘ä»¬æ­£å¹´è½»ã€‚åŽæ¥æˆ‘åŒäº‹ç¦»èŒäº†ï¼Œæ¢äº†ä¸€å®¶åªæœ‰20äººçš„å¤©ä½¿è½®åˆ›ä¸šåž‹å…¬å¸ï¼Œä»–ç»™æˆ‘è¯´è™½ç„¶å¾ˆç´¯ï¼Œä½†æ˜¯æ¯å¤©å¾ˆå……å®žï¼Œå¯¹æœªæ¥æœ‰äº†æ›´å¥½çš„å¸Œæœ›ã€‚ å¬åˆ°æˆ‘è¿™ä¸ªåŒäº‹çš„æƒ…å†µï¼Œæˆ‘çš„æ€»ç»“æ˜¯ï¼šä½œä¸ºå‘˜å·¥ï¼Œå°½é‡æé«˜ç™½å¤©çš„å·¥ä½œæ•ˆçŽ‡ï¼ŒæŠŠè‡ªå·±çš„å·¥ä½œåšå¥½ï¼Œè‡ªå·±åšçš„ä¸œè¥¿å°½é‡ä¸è¦å‡ºå¤§é—®é¢˜ã€‚å¦‚æžœçœŸçš„æœ‰éœ€è¦åŠ ç­çš„ï¼Œå¬ä»ŽLeaderçš„å®‰æŽ’ï¼Œå¦‚æžœæœ‰ç¦åˆ©å¾…é‡çš„ä¿è¯ï¼Œå¤šä¸ºå…¬å¸äº§å‡ºï¼Œå¦‚æžœæ²¡æœ‰å¾…é‡ï¼Œé€‚å½“å³å¯ï¼Œæ¯•ç«Ÿè‡ªå·±çš„ç¦åˆ©å¾…é‡ä¹Ÿæ˜¯æœ‰å¿…è¦çš„ã€‚ å¤§å…¬å¸æˆ‘å°±ä¸è¯´äº†ï¼Œä¸­å°åž‹å…¬å¸æˆ‘å»ºè®®æŠµåˆ¶996ã€985ä¸è‰¯çš„åŠ ç­æ–‡åŒ–ï¼Œè€Œæå€¡724çš„åŠ ç­æ–‡åŒ–ï¼Œè¿™é‡Œçš„724å¹¶ä¸æ˜¯å…¬å¸è®©å‘˜å·¥æ¯å‘¨å·¥ä½œ7å¤©ï¼Œæ¯æ—¥å·¥ä½œ24å°æ—¶ã€‚è€Œæ˜¯æ— è®ºä»€ä¹ˆæ—¥å­ï¼Œå¦‚æžœæœ‰ç´§æ€¥ä»»åŠ¡ï¼Œ7å¤©ä¸­ï¼Œäº”å¤©åœ¨å…¬å¸æ­£å¸¸ä¸Šç­ï¼Œæœ‰å¿…è¦åŠ ç­å¯ä»¥åœ¨å®¶å®Œæˆå·¥ä½œï¼Œç¦åˆ©å¾…é‡ä¿è¯ï¼Œè¿™æ ·åšä¸€ä¸ªåè°ƒï¼Œé¿å…å¯èƒ½1ä¸ªå°æ—¶è§£å†³çš„é—®é¢˜ï¼Œéžè¦èµ¶å¾€å…¬å¸é€ æˆå¤šä¸ªå°æ—¶åŠ ç­ï¼Œè§£å†³äº†æ•ˆçŽ‡ä½Žçš„é—®é¢˜ï¼Œåœ¨å®¶åŠ ç­ç›¸ä¿¡å¤§éƒ¨åˆ†ç¨‹åºå‘˜ä¼šä¸è®¡è¾ƒé‚£ä¸€ä¸ªå°æ—¶çš„æ—¶é—´ï¼Œå¦‚æžœåŠ ç­æ—¶é—´è¾ƒé•¿ï¼Œå…¬å¸ç»™äºˆç›¸åº”çš„ç¦åˆ©å¾…é‡ï¼Œå³èŠ‚çœäº†å‘˜å·¥è¿”å…¬å¸çš„æ—¶é—´ï¼Œä¹Ÿè§£å†³äº†å®žé™…æ€§é—®é¢˜ã€‚åœ¨è¿™é‡Œï¼Œæœ‰äº›äººå¯èƒ½è´¨ç–‘ï¼Œå› ä¸ºåœ¨å®¶å…·ä½“æ˜¯å¦åšäº‹ï¼Œå…¬å¸å¹¶ä¸çŸ¥æƒ…ï¼Œä½†æ˜¯è¿™ç§æƒ…å†µï¼Œæ˜¯æ°¸è¿œæ— æ³•é¿å…çš„ï¼Œå› ä¸ºè¿™æ˜¯ç¨‹åºå‘˜çš„èŒä¸šæ“ä½œï¼Œæ˜¯ä¸€ä¸ªäººçš„åŸºæœ¬ç´ å…»é—®é¢˜ã€‚å¦‚æžœäººéƒ½æ˜¯è¿™æ ·è‡ªç§è‡ªåˆ©ã€ç¼ºä¹è´£ä»»å¿ƒï¼Œä¹Ÿå°±æ²¡æœ‰å›¢é˜Ÿï¼Œæ›´æ²¡æœ‰æœ‹å‹ï¼Œæˆ‘ç›¸ä¿¡è¿™ç§äººçš„äººç”Ÿä¸ä¼šèµ°çš„æ›´è¿œã€‚ ç¨‹åºå‘˜çš„æŠ±æ€¨å¤§å®¶ç»å¸¸å¬åˆ°ä¸€å¥è¯å°±æ˜¯ï¼šå¹²çš„ä¸çˆ½ï¼Œåˆ åº“è·‘è·¯ã€‚æ¯å¤©å…¨å›½çš„äº’è”ç½‘å…¬å¸éƒ½å¯èƒ½å‘ç”Ÿè¿™æ ·çš„äº‹æƒ…ï¼ŒæŸç¨‹åºå‘˜å› å’Œå…¬å¸äº§ç”Ÿåˆ©ç›Šçº çº·é”æœåŠ¡å™¨ã€åˆ åº“ã€åˆ ä»£ç ã€æ•…æ„æŒ–å‘ã€‚ å‡ºçŽ°è¿™æ ·çš„æƒ…å†µå·²ç»å¸ç©ºè§æƒ¯äº†ã€‚æˆ‘ä½œä¸ºäº’è”ç½‘è¡Œä¸šçš„ä¸€ä»½å­ï¼Œç«™åœ¨æˆ‘çš„è§’åº¦åˆ†æžï¼Œæ¯ä¸ªç¨‹åºå‘˜éƒ½åº”è¯¥æœ‰è‰¯å¥½çš„èŒä¸šæ“å®ˆï¼Œå¦‚æžœçœŸå‡ºçŽ°åˆ©ç›Šçº çº·ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆæ³•çš„æ–¹å¼åŽ»è§£å†³ï¼Œç”¨æ³•å¾‹æ–¹å¼åŽ»ç»´æƒï¼Œå’Œå¹³è§£å†³ï¼Œå°½å¯èƒ½ä¸è¦èµ·ä»»ä½•å†²çªã€‚è¯´åˆ°è¿™é‡Œæœ‰äº›æ—¶å€™é æ³•å¾‹ç¡®å®žæ²¡åŠžæ³•å æ®æœ‰åˆ©åœ°ä½ï¼Œæ¯•ç«Ÿå•äººä¸å¯èƒ½çŽ©è¿‡å…¬å¸çš„ã€‚æˆ‘ä»¬åªèƒ½ä»Žå…¥èŒçš„é‚£ä¸€å¤©å¼€å§‹ï¼Œä»€ä¹ˆçš„ç¦åˆ©å¾…é‡éƒ½å†™åœ¨åˆåŒé‡Œï¼Œè¿™æ‰ç®—æ•°ã€‚å¦‚æžœå› ä¸ºå…¶ä»–åŽŸå› çš„è¯ï¼Œå¤§å¯ä¸å¿…ä¸ºä¹‹æ¼æ€’ï¼Œå› ä¸ºç‰©ä»¥ç±»èšã€äººä»¥ç¾¤åˆ†ï¼Œä¸»åŠ¨ç¦»èŒä¾¿æ˜¯ã€‚ åˆ›ä¸šå…¬å¸å¥½å¤šè€æ¿éƒ½åœ¨ç»™å‘˜å·¥ç”»é¥¼ï¼Œè¿™ç§æ´—è„‘å¼çš„ç”»é¥¼å‘˜å·¥ä»¬è¿˜æ˜¯æ–Ÿé…Œæ–Ÿé…Œã€‚å¯¹è€æ¿è¯´çš„è¯ï¼ŒåŽ»å…¶ç³Ÿç²•ï¼Œå–å…¶ç²¾åŽã€‚åªå¬å¯¹è‡ªå·±æœ‰ç›Šçš„è¯ï¼Œä¹‹æ‰€ä»¥è€æ¿èƒ½å¼€ä¸€ä¸ªå…¬å¸ï¼Œè‚¯å®šæ˜¯åœ¨æŸæ–¹é¢æœ‰ä¸€å®šçš„è¿‡äººä¹‹å¤„ã€‚ å†™åœ¨æœ€åŽçš„ç½‘ç»œæ®µå­ 2019å¹´3æœˆ27æ—¥ï¼Œ996.icué¡¹ç›®ä¸Šçº¿ï¼Œç¬¬äºŒå¤©ï¼Œé¡¹ç›®è¾¾åˆ°3wä¸ªstarï¼Œå°±åœ¨å½“æ—¥ï¼Œå®‰å¾½æ±½è½¦ç½‘çš„å…„å¼Ÿç¬¬ä¸€ä¸ªæ­ç«¿èµ·ä¹‰ï¼Œåˆ åº“è·‘è·¯ï¼Œå²ç§°3.28äº‹ä»¶ï¼ŒåŒå¹´äº”æœˆå·¥ç¨‹å¸ˆä»¬æˆç«‹ååŠ ç­å·¥ä¼šã€‚ 2020å¹´ä¸¤ä¼šæœŸé—´ï¼Œè¿«äºŽç¤¾ä¼šå’ŒååŠ ç­å·¥ä¼šåŽ‹åŠ›ï¼Œå›½å®¶å°†ç¦æ­¢åŠ ç­å†™å…¥å®ªæ³•ã€‚","categories":[{"name":"others","slug":"others","permalink":"http://ltyeamin.github.io/categories/others/"}],"tags":[{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"http://ltyeamin.github.io/tags/æ‚è°ˆ/"}]},{"title":"è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get","slug":"è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get","date":"2019-03-27T05:00:50.000Z","updated":"2020-01-08T13:06:33.755Z","comments":true,"path":"2019/03/27/è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get/","link":"","permalink":"http://ltyeamin.github.io/2019/03/27/è§†é¢‘ä¸‹è½½ç¥žå™¨ä¹‹you-get/","excerpt":"","text":"æˆ‘ä»¬æ—¥å¸¸ä¸Šç½‘è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å°†ç½‘é¡µä¸­çš„è§†é¢‘èµ„æºæå–ä¸‹è½½å‡ºæ¥ï¼Œä¸€èˆ¬å¦‚æžœç½‘ç«™æ²¡æœ‰å±è”½è§†é¢‘åœ°å€ä¸”ç”¨çš„æ˜¯éžFlashæ’­æ”¾å™¨(çŽ°æµè¡ŒHTML5æ’­æ”¾å™¨),æˆ‘ä»¬å¯ä»¥åœ¨è§†é¢‘æ’­æ”¾å™¨å³é”®ç›´æŽ¥ä¸‹è½½è§†é¢‘èµ„æºï¼Œä½†æ˜¯å›½å†…ç½‘ç«™è¿è¥å•†ä¸ºäº†ä¿æŠ¤ç‰ˆæƒï¼Œä¼šå°†çœŸæ­£çš„èµ„æºåœ°å€å±è”½èµ·æ¥ï¼Œæˆ‘ä»¬æ— æ³•æ‰¾åˆ°çœŸå®žåœ°å€å¹¶è¿›è¡Œä¸‹è½½ã€‚å› æ­¤å‡ºçŽ°äº†å¥½å¤šç¬¬ä¸‰æ–¹çš„åº”ç”¨æ¥å¸®åŠ©æˆ‘ä»¬æå–ç½‘é¡µä¸­çš„è§†é¢‘ï¼Œå¸¸è§çš„æå–è½¯ä»¶æœ‰Chromeæ’ä»¶Video download helperå’ŒVideo Downloader GetThemAllã€å›½å†…ä»¥å‰å¾ˆè‘—åçš„ç¡•é¼ å’Œç»´æ£ è§†é¢‘ä¸‹è½½(è¿™ä¸¤ä¸ªLZä¹‹å‰ç»å¸¸ç”¨ï¼Œç¡•é¼ ç»å¸¸ç”¨äºŽä¸‹è½½51CTOçš„æ•™å­¦è§†é¢‘ï¼Œç»´æ£ ç»å¸¸ç”¨äºŽç”µè§†å‰§æ‰¹é‡ä¸‹è½½)ã€‚ ä»Šå¤©æˆ‘ç»™å¤§å®¶å¸¦æ¥ä¸€æ¬¾è§†é¢‘ä¸‹è½½ç¥žå™¨you-getï¼Œyou-get ä¹ƒä¸€å°å°å“’å‘½ä»¤è¡Œç¨‹åºï¼Œæä¾›ä¾¿åˆ©çš„æ–¹å¼æ¥ä¸‹è½½ç½‘ç»œä¸Šçš„åª’ä½“ä¿¡æ¯ã€‚å¥½äº†ï¼Œè¯ä¸å¤šè¯´ï¼ŒæŽ¥ä¸‹æ¥è®©æˆ‘ä»¬å¼€å§‹ä½“éªŒä¸€ä¸‹å§ã€‚ ä¸ºä»€ä¹ˆä½ è¦å¥½å¥½çš„ç”¨ ä½ æ¬¢å–œäºŽäº’è”ç½‘ä¸Šçš„å¯Œåª’ä½“å†…å®¹ï¼Œå¹¶ä¸ºä¸ªäººå¯»æ¬¢è€Œå‚¨å­˜ ä½ å–œæ‚¦è§‚çœ‹çš„è§†é¢‘ï¼Œç„¶è€Œä¸å¾—ä¿å­˜ï¼›å¯¹ä¸ªäººè®¾å¤‡æ— ä»ŽæŽ§åˆ¶ï¼Œæ­¤ä¹ƒè¿èƒŒå¼€æ”¾äº’è”ç½‘ä¹‹è¡Œä¸º ä½ å¯»æ±‚è§£è„±äºŽé—­æºè½¯ä»¶æˆ–JavaScriptä»£ç ï¼Œå¹¶ç¦æ­¢Flashè¿è¡Œ ä½ ä¸ºé»‘å®¢ç²¾ç¥žä¸Žè‡ªç”±è½¯ä»¶è€Œæ¬£å–œ åŠŸèƒ½ç‰¹æ€§ ä¸‹è½½æµè¡Œç½‘ç«™ä¹‹éŸ³è§†é¢‘ï¼Œä¾‹å¦‚YouTube, Youku, Niconico,ä»¥åŠæ›´å¤š. (æŸ¥çœ‹å®Œæ•´æ”¯æŒåˆ—è¡¨) äºŽæ‚¨å¿ƒä»ªçš„åª’ä½“æ’­æ”¾å™¨ä¸­è§‚çœ‹åœ¨çº¿è§†é¢‘ï¼Œè„±ç¦»æµè§ˆå™¨ä¸Žå¹¿å‘Š ä¸‹è½½æ‚¨å–œæ¬¢çš„ç½‘é¡µä¸Šçš„å›¾ç‰‡ ä¸‹è½½ä»»ä½•éžHTMLå†…å®¹ï¼Œä¾‹å¦‚äºŒè¿›åˆ¶æ–‡ä»¶ å®‰è£…æ–¹å¼Macå®‰è£… åœ¨Macä¸Šå®‰è£…Homebrewï¼ŒHomebrewæ˜¯ä¸€æ¬¾Mac OSå¹³å°ä¸‹çš„è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼Œæ‹¥æœ‰å®‰è£…ã€å¸è½½ã€æ›´æ–°ã€æŸ¥çœ‹ã€æœç´¢ç­‰å¾ˆå¤šå®žç”¨çš„åŠŸèƒ½ï¼ŒåŠŸèƒ½ç±»ä¼¼äºŽLinuxå¹³å°ä¸Šçš„apt-getæˆ–yumæ“ä½œã€‚è¿›å…¥Macç»ˆç«¯è¾“å…¥ä¸€ä¸‹å‘½ä»¤å³å¯å®‰è£…Homebrew; 1/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" å®‰è£…å®ŒæˆHomebrewåŽï¼Œæˆ‘ä»¬æ¥å®‰è£…you-getå·¥å…·ï¼Œè¾“å…¥ä¸€ä¸‹å‘½ä»¤å³å¯å®‰è£…å®Œæˆ; 1Yeamin:Hexo mac$ brew install you-get å®‰è£…å®ŒæˆåŽï¼Œæˆ‘ä»¬æ£€æŸ¥ç‰ˆæœ¬æ¥ç¡®è®¤æ˜¯å¦å®‰è£…æˆåŠŸã€‚ 12Yeamin:Hexo mac$ you-get -Vyou-get: version 0.4.1205, a tiny downloader that scrapes the web. Linuxå®‰è£… å®‰è£…Python3ï¼› ä½¿ç”¨pipæ¥å®‰è£… 1$ pip3 install you-get Windowså®‰è£… ä¸‹è½½Windowsé¢„è£…åŒ…å³å¯ï¼› å®‰è£…å¹¶æ‰§è¡Œå¯è¿è¡Œç¨‹åºã€‚ Gitå®‰è£…å³ä½¿æ‚¨ä¸å¸¸ä½¿ç”¨Pythonï¼Œä½œä¸ºå¼€å‘è€…ï¼Œä¹Ÿè¯·ä½¿ç”¨æ­¤æ–¹æ³•ã€‚ ä¸‹è½½å®‰è£…èµ„æºï¼Œå¦‚ä¸‹å‘½ä»¤; 1$ git clone git://github.com/soimort/you-get.git å°†ç›®å½•åŠ å…¥ PATH, æˆ–è¿è¡Œ make install ä»¥å®‰è£…you-getäºŽæ°¸ä¹…è·¯å¾„ã€‚ ä½¿ç”¨ä½“éªŒä»¥æœ€è¿‘çƒ­æ’­çš„ç”µè§†å‰§ã€Šéƒ½æŒºå¥½ã€‹ä¸ºä¾‹ï¼Œæ“ä½œå¦‚ä¸‹ï¼š æŸ¥è¯¢è§†é¢‘ä¿¡æ¯å¯ä»¥ä½¿ç”¨ --info/-i ä»¥æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ç”»è´¨ä¸Žæ ¼å¼ 1you-get -i 'https://v.youku.com/v_show/id_XNDA3OTMzMTE4MA==.html?spm=a2h1n.8261147.reload_1.1~3~A&amp;s=4e4e42efbfbdefbfbd62' æ‰§è¡Œä¸Šè¿°å‘½ä»¤åŽï¼Œè§‚å¯Ÿæ‰§è¡Œç»“æžœæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿå‡ºç”µè§†å‰§ã€Šéƒ½æŒºå¥½ã€‹ç¬¬1é›†çš„ç‰‡æºæ¥è‡ªä¼˜é…·ï¼Œç”»è´¨æœ‰è¶…æ¸…ã€é«˜æ¸…ã€æ¸£æ¸…ã€æ ‡æ¸…ï¼Œè§†é¢‘æ ¼å¼éƒ½ä¸ºmp4ï¼Œè§†é¢‘æ–‡ä»¶å¤§å°ä»¥åŠç›¸å…³åœ°å€é“¾æŽ¥ã€‚ ä¸‹è½½è§†é¢‘1you-get 'https://v.youku.com/v_show/id_XNDA3OTMzMTE4MA==.html?spm=a2h1n.8261147.reload_1.1~3~A&amp;s=4e4e42efbfbdefbfbd62' è¾“å…¥ä¸Šè¿°å‘½ä»¤åŽï¼Œå³å¯å¼€å§‹ä¸‹è½½ï¼Œé»˜è®¤ç”»è´¨ä¸ºè¶…æ¸…ç”»è´¨ï¼Œè§†é¢‘ä¼šåˆ†æ®µä¸‹è½½ï¼Œä¸‹è½½å®Œæˆä¹‹åŽï¼Œyou-getè‡ªåŠ¨è°ƒç”¨ffmpegå°†å¤šæ®µè§†é¢‘è¿›è¡Œåˆå¹¶æ“ä½œã€‚ åŠ è½½Cookiesåœ¨è¿™ä¸ªä¸‹è½½çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘çŽ°ä¸€ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚ä¸‹è½½ä¸‹æ¥çš„è§†é¢‘å¤§å°ä¸Žæ˜¾ç¤ºçš„å¤§å°ä¸ç¬¦åˆï¼Œæˆ‘ä»¬ä¸‹ä¸‹æ¥åªæœ‰80Må·¦å³ï¼Œè§†é¢‘æ—¶é—´ä¸º10åˆ†é’Ÿå·¦å³ã€‚ ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼ŸLZæŸ¥å¥½å¥½é˜…è¯»äº†ä¸€ä¸‹WIKIï¼ŒåŽŸå› æ˜¯ç½‘ç«™è§†é¢‘åªå…¬å¼€ä¸€éƒ¨åˆ†è§†é¢‘ç‰‡æ®µï¼Œå¹¶éžæ‰€æœ‰è§†é¢‘å¯ä¾›ä»»ä½•äººè§‚çœ‹ã€‚å¦‚æžœéœ€è¦ç™»å½•ä»¥è§‚çœ‹ (ä¾‹å¦‚, ç§å¯†è§†é¢‘), å¯èƒ½å¿…é¡»å°†æµè§ˆå™¨cookieé€šè¿‡--cookies/-c åŠ è½½å…¥ you-getã€‚éœ€è¦æˆ‘ä»¬ç™»å½•çš„Cookiesä¿¡æ¯ï¼Œæˆ‘ä»¬ç™»å½•åŽå°†æ‰“å¼€F12æŸ¥çœ‹Cookieä¿¡æ¯ï¼Œä¸€æŸ¥çœ‹ï¼Œä¸€å¤§å †Cookieï¼Œæ€Žä¹ˆæ•´ï¼ŒäºŽæ˜¯LZåˆæ‰¾åˆ°ä¸€ä¸ªChromeæµè§ˆå™¨çš„æ’ä»¶ï¼Œè‡ªåŠ¨ç”ŸæˆCookiesï¼Œå¦‚å›¾ï¼Œå¯ä»¥å°†çº¢è‰²åŒºåŸŸæ‹·è´åˆ°Cookies.txtä¸­ï¼Œç„¶åŽç»§ç»­æ‰§è¡Œä¸‹è½½æ“ä½œã€‚ æ³¨æ„: ç›®å‰æˆ‘ä»¬æ”¯æŒä¸¤ç§cookieæ ¼å¼ï¼šMozilla cookies.sqlite å’Œ Netscape cookies.txt. 1you-get -c Cookies.txt https://v.youku.com/v_show/id_XNDA3OTMzMTE4MA==.html æœ¬åœ°æ’­æ”¾å™¨æ’­æ”¾å¦‚æžœä½ åªæ˜¯åœ¨ç”¨è‡ªå·±æœ¬åœ°æ’­æ”¾å™¨è¿›è¡Œè§‚çœ‹çš„è¯ä½¿ç”¨è€Œä¸æ˜¯ä¸‹è½½çš„è¯ï¼Œåˆ™å¯ä»¥ --player/-p å°†è§†é¢‘å–‚è¿›æ’­æ”¾å™¨, ä¾‹å¦‚ mplayeræˆ–è€… vlcã€‚ 1$ you-get -p vlc 'https://www.youtube.com/watch?v=jNQXAC9IVRw' æˆ–è€…ä½ æƒ³åœ¨æµè§ˆå™¨ä¸­è§‚çœ‹è€Œä¸å¸Œæœ›çœ‹å¹¿å‘Šæˆ–è¯„è®ºåŒº: 1$ you-get -p chromium 'https://www.youtube.com/watch?v=jNQXAC9IVRw' æ”¯æŒä¸»æµç½‘ç«™åˆ—è¡¨ ç½‘ç«™ URL è§†é¢‘? å›¾åƒ? éŸ³é¢‘? YouTube https://www.youtube.com/ âœ“ Twitter https://twitter.com/ âœ“ âœ“ VK http://vk.com/ âœ“ Vine https://vine.co/ âœ“ Vimeo https://vimeo.com/ âœ“ Vidto http://vidto.me/ âœ“ Veoh http://www.veoh.com/ âœ“ Tumblr https://www.tumblr.com/ âœ“ âœ“ âœ“ TED http://www.ted.com/ âœ“ SoundCloud https://soundcloud.com/ âœ“ Pinterest https://www.pinterest.com/ âœ“ MusicPlayOn http://en.musicplayon.com/ âœ“ MTV81 http://www.mtv81.com/ âœ“ Mixcloud https://www.mixcloud.com/ âœ“ Metacafe http://www.metacafe.com/ âœ“ Magisto http://www.magisto.com/ âœ“ Khan Academy https://www.khanacademy.org/ âœ“ JPopsuki TV http://www.jpopsuki.tv/ âœ“ Internet Archive https://archive.org/ âœ“ Instagram https://instagram.com/ âœ“ âœ“ Heavy Music Archive http://www.heavy-music.ru/ âœ“ Google+ https://plus.google.com/ âœ“ âœ“ Freesound http://www.freesound.org/ âœ“ Flickr https://www.flickr.com/ âœ“ âœ“ Facebook https://www.facebook.com/ âœ“ eHow http://www.ehow.com/ âœ“ Dailymotion http://www.dailymotion.com/ âœ“ CBS http://www.cbs.com/ âœ“ Bandcamp http://bandcamp.com/ âœ“ AliveThai http://alive.in.th/ âœ“ interest.me http://ch.interest.me/tvn âœ“ 755ãƒŠãƒŠã‚´ãƒ¼ã‚´ãƒ¼ http://7gogo.jp/ âœ“ âœ“ niconicoãƒ‹ã‚³ãƒ‹ã‚³å‹•ç”» http://www.nicovideo.jp/ âœ“ 163ç½‘æ˜“è§†é¢‘ç½‘æ˜“äº‘éŸ³ä¹ http://v.163.com/ http://music.163.com/ âœ“ âœ“ 56ç½‘ http://www.56.com/ âœ“ AcFun http://www.acfun.tv/ âœ“ Baiduç™¾åº¦è´´å§ http://tieba.baidu.com/ âœ“ âœ“ çˆ†ç±³èŠ±ç½‘ http://www.baomihua.com/ âœ“ bilibiliå“”å“©å“”å“© http://www.bilibili.com/ âœ“ Dilidili http://www.dilidili.com/ âœ“ è±†ç“£ http://www.douban.com/ âœ“ æ–—é±¼ http://www.douyutv.com/ âœ“ å‡¤å‡°è§†é¢‘ http://v.ifeng.com/ âœ“ é£Žè¡Œç½‘ http://www.fun.tv/ âœ“ iQIYI çˆ±å¥‡è‰º http://www.iqiyi.com/ âœ“ æ¿€åŠ¨ç½‘ http://www.joy.cn/ âœ“ é…·6ç½‘ http://www.ku6.com/ âœ“ é…·ç‹—éŸ³ä¹ http://www.kugou.com/ âœ“ é…·æˆ‘éŸ³ä¹ http://www.kuwo.cn/ âœ“ ä¹è§†ç½‘ http://www.letv.com/ âœ“ è”æžFM http://www.lizhi.fm/ âœ“ ç§’æ‹ http://www.miaopai.com/ âœ“ MioMioå¼¹å¹•ç½‘ http://www.miomio.tv/ âœ“ ç—žå®¢é‚¦ https://www.pixnet.net/ âœ“ PPTVèšåŠ› http://www.pptv.com/ âœ“ é½é²ç½‘ http://v.iqilu.com/ âœ“ QQ è…¾è®¯è§†é¢‘ http://v.qq.com/ âœ“ é˜¡é™Œè§†é¢‘ http://qianmo.com/ âœ“ Sina æ–°æµªè§†é¢‘ å¾®åšç§’æ‹è§†é¢‘ http://video.sina.com.cn/ http://video.weibo.com/ âœ“ Sohu æœç‹è§†é¢‘ http://tv.sohu.com/ âœ“ å¤©å¤©åŠ¨å¬ http://www.dongting.com/ âœ“ TudouåœŸè±† http://www.tudou.com/ âœ“ è™¾ç±³ http://www.xiami.com/ âœ“ é˜³å…‰å«è§† http://www.isuntv.com/ âœ“ éŸ³æ‚¦Tai http://www.yinyuetai.com/ âœ“ Youkuä¼˜é…· http://www.youku.com/ âœ“ æˆ˜æ——TV http://www.zhanqi.tv/lives âœ“ å¤®è§†ç½‘ http://www.cntv.cn/ âœ“ å…¶ä»–ç±»ä¼¼å·¥å…· youtube-dlï¼šyoutube-dlåŠŸèƒ½å’Œyou-getç±»ä¼¼ã€‚ Video Download Managerï¼šå¯è§†åŒ–å·¥å…·ï¼Œç›¸å½“äºŽyoutube-dl+you-getã€‚ ykdlï¼šä¸“æ³¨äºŽä¼˜é…·è§†é¢‘ã€‚ annieï¼šä¸“æ³¨äºŽåœ¨çº¿è§†é¢‘ä¸‹è½½çš„è½»é‡çº§å‘½ä»¤è¡Œå·¥å…· ç»´æ£ :ç»´æ£ æœ€ä¸“ä¸šflvè§†é¢‘ä¸‹è½½è½¯ä»¶ ç¡•é¼ ï¼šç¡•é¼ æœ€ç¨³å®šçš„FLVè§†é¢‘ä¸‹è½½å¹³å° æ— æ°´å°é¢„è§ˆ å‚è€ƒèµ„æ–™you-getä¸­æ–‡æ–‡æ¡£ you-getæºç ","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"å®žç”¨å·¥å…·åŠæŠ€å·§","slug":"å®žç”¨å·¥å…·åŠæŠ€å·§","permalink":"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/"}]},{"title":"GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å°","slug":"GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å°","date":"2019-01-05T11:11:09.000Z","updated":"2019-05-29T14:03:53.000Z","comments":true,"path":"2019/01/05/GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å°/","link":"","permalink":"http://ltyeamin.github.io/2019/01/05/GCè°ƒä¼˜åŸºç¡€ä¹‹å †å¤§å°/","excerpt":"","text":"è°ƒæ•´å †å¤§å°GCè°ƒæ•´çš„ç¬¬ä¸€å ‚è¯¾æ˜¯è°ƒæ•´åº”ç”¨ç¨‹åºå †çš„å¤§å°ã€‚å…³äºŽå †å¤§å°çš„è°ƒæ•´è¿˜æœ‰æ›´é«˜çº§çš„è¯é¢˜ï¼Œä¸è¿‡ä½œä¸ºç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬é¦–å…ˆè®¨è®ºå¦‚ä½•è®¾ç½®æ€»ä½“å †çš„å¤§å°ã€‚ ä¸Žå…¶ä»–çš„æ€§èƒ½é—®é¢˜ä¸€æ ·ï¼Œé€‰æ‹©å †çš„å¤§å°å…¶å®žæ˜¯ä¸€ç§å¹³è¡¡ã€‚å¦‚æžœåˆ†é…çš„å †è¿‡äºŽå°ï¼Œç¨‹åºçš„å¤§éƒ¨åˆ†æ—¶é—´å¯èƒ½éƒ½æ¶ˆè€—åœ¨GCä¸Šï¼Œæ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´åŽ»è¿è¡Œåº”ç”¨ç¨‹åºçš„é€»è¾‘ã€‚ä½†æ˜¯ï¼Œç®€å•ç²—æš´åœ°è®¾ç½®ä¸€ä¸ªç‰¹åˆ«å¤§çš„å †ä¹Ÿä¸æ˜¯è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚ GCåœé¡¿æ¶ˆè€—çš„æ—¶é—´å–å†³äºŽå †çš„å¤§å°ï¼Œå¦‚æžœå¢žå¤§å †çš„ç©ºé—´ï¼Œåœé¡¿çš„æŒç»­æ—¶é—´ä¹Ÿä¼šå˜é•¿ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåœé¡¿çš„é¢‘çŽ‡ä¼šå˜å¾—æ›´å°‘ï¼Œä½†æ˜¯å®ƒä»¬æŒç»­çš„ä¸–ç•Œä¼šè®©ç¨‹åºçš„æ•´ä½“æ€§èƒ½å˜æ…¢ã€‚ ä½¿ç”¨è¶…å¤§å †è¿˜æœ‰å¦ä¸€ä¸ªé£Žé™©ã€‚æ“ä½œç³»ç»Ÿä½¿ç”¨è™šæ‹Ÿå†…å­˜æœºåˆ¶ç®¡ç†æœºå™¨çš„ç‰©ç†å†…å­˜ã€‚ä¸€å°æœºå™¨å¯èƒ½æœ‰8Gçš„ç‰©ç†å†…å­˜ï¼Œä¸è¿‡æ“ä½œç³»ç»Ÿå¯èƒ½è®©ä½ æ„Ÿè§‰æœ‰æ›´å¤šçš„å¯ç”¨å†…å­˜ã€‚è™šæ‹Ÿå†…å­˜çš„æ•°é‡å–å†³äºŽæ“ä½œç³»ç»Ÿçš„è®¾ç½®ï¼Œè­¬å¦‚æ“ä½œç³»ç»Ÿå¯èƒ½è®©ä½ æ„Ÿè§‰åˆ°å®ƒçš„å†…å­˜è¾¾åˆ°äº†16Gã€‚æ“ä½œç³»ç»Ÿåä¸ºâ€äº¤æ¢â€(swappingï¼Œç§°ä¹‹ä¸ºåˆ†é¡µï¼Œè™½ç„¶è¿™ä¸¤è€…åœ¨æŠ€æœ¯ä¸Šå­˜åœ¨ç€å·®å¼‚ï¼Œä½†æ˜¯è¿™äº›å·®å¼‚ï¼Œåœ¨è¿™é‡Œä¸å½±å“æˆ‘ä»¬çš„è®¨è®º)ã€‚ä½ å¯ä»¥è½½å…¥éœ€è¦16GGå†…å­˜çš„åº”ç”¨ç¨‹åºï¼Œæ“ä½œç³»ç»Ÿåœ¨éœ€è¦æ—¶ä¼šå°†ç¨‹åºè¿è¡Œæ—¶ä¸æ´»è·ƒçš„æ•°æ®ç”±å†…å­˜å¤åˆ¶åˆ°ç£ç›˜ã€‚å†æ¬¡éœ€è¿™éƒ¨åˆ†å†…å­˜çš„å†…å®¹æ—¶ï¼Œæ“ä½œç³»ç»Ÿå†å°†å®ƒä»¬ç”±ç£ç›˜é‡æ–°è½½å…¥åˆ°å†…å­˜(ä¸ºäº†è…¾å‡ºç©ºé—´ï¼Œé€šå¸¸å®ƒä¼šå…ˆå°†å¦ä¸€éƒ¨åˆ†å†…å­˜çš„å†…å®¹å¤åˆ¶åˆ°ç£ç›˜)ã€‚ ç³»ç»Ÿä¸­è¿è¡Œç€å¤§é‡ä¸åŒçš„åº”ç”¨ç¨‹åºæ—¶ï¼Œè¿™ä¸ªæµç¨‹å·¥ä½œå¾—å¾ˆä¸é¡ºç•…ï¼Œå› ä¸ºå¤§å¤šæ•°çš„åº”ç”¨ç¨‹åºä¸ä¼šåŒæ—¶å¤„äºŽæ´»è·ƒçŠ¶æ€ã€‚ä½†æ˜¯ï¼Œå¯¹äºŽJavaåº”ç”¨ï¼Œå®ƒå·¥ä½œå¾—å¹¶ä¸æ˜¯å¾ˆå¥½ã€‚å¦‚æžœä¸€ä¸ªJavaåº”ç”¨ä½¿ç”¨äº†è¿™ä¸ªç³»ç»Ÿä¸Šå¤§çº¦12Gçš„å †ï¼Œæ“ä½œç³»ç»Ÿå¯èƒ½åœ¨RAMä¸Šåˆ†é…8Gçš„å †ç©ºé—´ï¼Œå¦å¤–4Gçš„ç©ºé—´å­˜åœ¨äºŽç£ç›˜(è¿™ä¸ªå‡è®¾å¯¹å®žé™…æƒ…å†µè¿›è¡Œäº†ä¸€äº›ç®€åŒ–ï¼Œå› ä¸ºåº”ç”¨ç¨‹åºä¹Ÿä¼šä½¿ç”¨éƒ¨åˆ†çš„RAM)ã€‚JVMä¸ä¼šäº†è§£è¿™äº›ï¼šæ“ä½œç³»ç»Ÿå®Œå…¨å±è”½äº†å†…å­˜äº¤äº’çš„ç»†èŠ‚ã€‚è¿™æ ·ï¼ŒJVMæ„‰å¿«çš„åœ°å¡«æ»¡äº†åˆ†é…ç»™å®ƒçš„12Gå †ç©ºé—´ã€‚ä½†è¿™æ ·å°±å¯¼è‡´äº†ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿéœ€è¦å°†ç›¸å½“ä¸€éƒ¨åˆ†çš„æ•°æ®ç”±ç£ç›˜äº¤æ¢åˆ°å†…å­˜(è¿™æ˜¯ä¸€ä¸ªæ˜‚è´µæ“ä½œçš„å¼€å§‹)ã€‚ æ›´ç³Ÿç³•çš„æ˜¯ï¼Œè¿™ç§åŽŸæœ¬æœŸæœ›ä¸€æ¬¡æ€§çš„å†…å­˜äº¤æ¢æ“ä½œåœ¨Full GCæ—¶ä¸€å®šä¼šå†æ¬¡é‡æ¼”ï¼Œå› ä¸ºJVMå¿…é¡»è®¿é—®æ•´ä¸ªå †çš„å†…å®¹ã€‚å¦‚æžœFull GCæ—¶ç³»ç»Ÿå‘ç”Ÿå†…å­˜äº¤æ¢ï¼Œåœé¡¿æ—¶é—´ä¼šä»¥æ­£å¸¸åœé¡¿æ—¶é—´æ•°ä¸ªé‡çº§çš„æ–¹å¼å¢žé•¿ã€‚ç±»ä¼¼çš„ï¼Œå¦‚æžœä½¿ç”¨Concurrentæ”¶é›†å™¨ï¼ŒåŽå°çº¿ç¨‹åœ¨å›žæ”¶å †æ—¶ï¼Œå®ƒçš„é€Ÿåº¦ä¹Ÿå¯èƒ½ä¼šè¢«æ‹–æ…¢ï¼Œå› ä¸ºéœ€è¦ç­‰å¾…ä»Žè£åˆ¤å¤åˆ¶æ•°æ®åˆ°å†…å­˜ï¼Œç»“æžœå¯¼è‡´å‘ç”Ÿä»£ä»·æ˜‚è´µçš„å¹¶å‘æ¨¡å¼å¤±æ•ˆã€‚ å› æ­¤ï¼Œè°ƒæ•´å †å¤§å°æ—¶é¦–è¦çš„åŽŸåˆ™å°±æ˜¯æ°¸è¿œä¸è¦å°†å †çš„å®¹é‡è®¾ç½®å¾—æ¯”æœºå™¨çš„ç‰©ç†å†…å­˜è¿˜å¤§ã€‚å¦å¤–ï¼Œå¦‚æžœåŒä¸€å°æœºå™¨ä¸Šè¿è¡Œç€å¤šä¸ªJVMå®žä¾‹ï¼Œè¿™ä¸ªåŽŸåˆ™é€‚ç”¨äºŽæ‰€æœ‰å †çš„æ€»å’Œã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜éœ€è¦ä¸ºJVMè‡ªèº«ä»¥åŠæœºå™¨ä¸Šå…¶ä»–çš„åº”ç”¨ç¨‹åºé¢„ç•™ä¸€éƒ¨åˆ†çš„å†…å­˜ç©ºé—´ï¼šé€šå¸¸æƒ…å†µä¸‹ï¼Œå¯¹äºŽæ™®é€šçš„æ“ä½œç³»ç»Ÿï¼Œåº”è¯¥é¢„ç•™è‡³å°‘1Gçš„å†…å­˜ç©ºé—´ã€‚ å †çš„å¤§å°ç”±2ä¸ªå‚æ•°å€¼æŽ§åˆ¶ï¼šåˆ†åˆ«æ˜¯åˆå§‹å€¼(é€šè¿‡-Xms Nè®¾ç½®)å’Œæœ€å¤§å€¼(é€šè¿‡ -Xmx Nè®¾ç½®)ã€‚é»˜è®¤å€¼çš„è°ƒèŠ‚å–å†³äºŽå¤šä¸ªå› ç´ ï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿç±»åž‹ã€ç³»ç»Ÿå†…å­˜å¤§å°ã€ä½¿ç”¨çš„JVMã€‚å…¶ä»–çš„å‘½ä»¤æ ‡å¿—ä¹Ÿä¼šå¯¹è¯¥å€¼é€ æˆå½±å“ï¼Œå †å¤§å°çš„è°ƒèŠ‚æ˜¯JVmè‡ªé€‚åº”è°ƒä¼˜çš„æ ¸å¿ƒã€‚ JVMçš„ç›®æ ‡æ˜¯ä¸€å¥ç³»ç»Ÿå¯ç”¨çš„èµ„æºæƒ…å†µæ‰¾åˆ°ä¸€ä¸ªâ€åˆç†çš„â€é»˜è®¤åˆå§‹åŒ–å€¼ï¼Œå½“ä¸”ä»…å½“åº”ç”¨ç¨‹åºéœ€è¦æ›´å¤šçš„å†…å­˜(ä¾æ®åžƒåœ¾å›žæ”¶æ—¶æ¶ˆè€—çš„æ—¶é—´æ¥å†³å®š)æ—¶å°†å †çš„å¤§å°å¢žå¤§åˆ°ä¸€ä¸ªåˆç†çš„æœ€å¤§å€¼ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼ŒJVMçš„é«˜çº§è°ƒä¼˜æ ‡å¿—ä»¥åŠè°ƒä¼˜ç»†èŠ‚éƒ½æ²¡æœ‰æåŠã€‚ä¸ºäº†è®©å¤§å®¶æœ‰ä¸ªæ„Ÿæ€§çš„è®¤è¯†ï¼Œæˆ‘ä»¬åˆ—å‡ºäº†å †å¤§å°çš„é»˜è®¤æœ€å¤§å€¼å’Œæœ€å°å€¼ä¾›å¤§å®¶å‚è€ƒï¼Œå‚è§å¦‚ä¸‹è¡¨ã€‚(ä¸ºäº†ä½¿å†…å­˜å¯¹é½ï¼ŒJVMä¼šå¯¹è¿™äº›å€¼è¿›è¡Œåœ†æ•´æ“ä½œï¼›æ‰€ä»¥GCæ—¥å¿—ä¸­è¾“å‡ºçš„å¤§å°å¯èƒ½ä¸Žè¡¨ä¸­ç»™å‡ºçš„å€¼å¹¶ä¸å®Œå…¨ä¸€è‡´)ã€‚ æ“ä½œç³»ç»ŸåŠJVMç±»åž‹ åˆå§‹å †å¤§å°(Xms) æœ€å¤§å †å¤§å°(Xmx) Linux/Solaris,32ä½å®¢æˆ·ç«¯ 16MB 256MB Linux/Solaris,32ä½å®¢æˆ·ç«¯ 64MB å–1GBå’Œç‰©ç†å†…å­˜å¤§å°1/4äºŒè€…ä¸­çš„æœ€å°å€¼ Linux/Solaris,32ä½å®¢æˆ·ç«¯ å–512MBå’Œç‰©ç†å†…å­˜å¤§å°1/64äºŒè€…ä¸­çš„æœ€å°å€¼ å–32GBå’Œç‰©ç†å†…å­˜å¤§å°1/4äºŒè€…ä¸­çš„æœ€å°å€¼ MacOSï¼Œ64ä½æœåŠ¡å™¨åž‹JVM 64MB(æ•°æ®æœ‰è¯¯,åº”è¯¥æ˜¯256MB) å–1GBå’Œç‰©ç†å†…å­˜å¤§å°1/4äºŒè€…ä¸­çš„æœ€å°å€¼ Windowsï¼Œ32ä½å®¢æˆ·ç«¯JVM 16MB 256MB Windowsï¼Œ64ä½æœåŠ¡ç«¯JVM 64MB å–1GBå’Œç‰©ç†å†…å­˜å¤§å°1/4äºŒè€…ä¸­çš„æœ€å°å€¼ å¦‚æžœæœºå™¨çš„ç‰©ç†å†…å­˜å°‘äºŽ192MBï¼Œæœ€å¤§å †çš„å¤§å°ä¼šæ˜¯ç‰©ç†å†…å­˜çš„ä¸€åŠ(å¤§çº¦96MBï¼Œæˆ–æ›´å°‘)ã€‚ å †å¤§å°å…·æœ‰åˆå§‹å€¼å’Œæœ€å¤§å€¼çš„è¿™ç§è®¾è®¡è®©JVMèƒ½å¤Ÿæ ¹æ®å®žé™…çš„è´Ÿè·æƒ…å†µæ›´çµæ´»åœ°è°ƒæ•´JVMçš„è¡Œä¸ºã€‚å¦‚æžœJVMå‘çŽ°ä½¿ç”¨åˆå§‹çš„å †å¤§å°ï¼Œé¢‘ç¹åœ°å‘ç”ŸGCï¼Œå®ƒå°±ä¼šå°è¯•å¢žå¤§å †çš„ç©ºé—´ï¼Œç›´åˆ°JVMçš„GCçš„é¢‘çŽ‡å›žå½’åˆ°æ­£å¸¸çš„èŒƒå›´ï¼Œæˆ–ç›´åˆ°å †å¤§å°å¢žå¤§åˆ°å®ƒçš„ä¸Šé™å€¼ã€‚ å¯¹å¾ˆå¤šåº”ç”¨æ¥è¯´ï¼Œè¿™æ„å‘³ç€å †çš„å¤§å°ä¸å†éœ€è¦è°ƒæ•´äº†ï¼Œå®žé™…ä¸Šï¼Œä½ åªéœ€è¦ä¸ºä½ é€‰æ‹©çš„GCç®—æ³•è®¾å®šæ€§èƒ½ç›®æ ‡ï¼šè­¬å¦‚ä½ èƒ½å¿å—çš„åœé¡¿çš„æŒç»­æ—¶é—´ã€ä½ æœŸæœ›åžƒåœ¾å›žæ”¶åœ¨æ•´ä¸ªæ—¶é—´ä¸­æ‰€å ç”¨çš„ç™¾åˆ†æ¯”ç­‰ã€‚ å¦‚æžœåº”ç”¨ç¨‹åºåœ¨GCæ—¶æ¶ˆè€—äº†å¤ªé•¿çš„æ—¶é—´ï¼Œä½ å¾ˆæœ‰å¯èƒ½éœ€è¦ä½¿ç”¨-Xmxæ ‡å¿—å¢žå¤§å †çš„å¤§å°ã€‚é€‰æ‹©ä»€ä¹ˆæ ·çš„å¤§å°æ²¡æœ‰ä¸€ä¸ªç¡¬æ€§çš„æˆ–ç®€å•çš„è§„åˆ™ã€‚ä¸€ä¸ªç»éªŒæ³•åˆ™æ˜¯å®ŒæˆFull GCåŽï¼Œåº”è¯¥é‡Šæ”¾å‡º70%çš„ç©ºé—´(30%çš„ç©ºé—´ä»ç„¶å ç”¨)ã€‚ æ³¨æ„ï¼Œå³ä½¿ä½ æ˜¾ç¤ºåœ°è®¾ç½®äº†å †çš„æœ€å¤§å®¹é‡ï¼Œè¿˜æ˜¯ä¼šå‘ç”Ÿå †çš„è‡ªåŠ¨è°ƒèŠ‚ï¼šåˆå§‹æ—¶å †ä»¥é»˜è®¤çš„å¤§å°å¼€å§‹è¿è¡Œï¼Œä¸ºäº†è¾¾åˆ°æ ¹æ®åžƒåœ¾æ”¶é›†ç®—æ³•è®¾ç½®çš„æ€§èƒ½ç›®æ ‡ï¼ŒJVMä¼šé€æ­¥å¢žå¤§å †çš„å¤§å°ã€‚å°†å †çš„å¤§å°è®¾ç½®å¾—æ¯”å®žé™…éœ€è¦æ›´å¤§ä¸ä¸€å®šä¼šå¸¦æ¥æ€§èƒ½æŸè€—ï¼šå †å¹¶ä¸ä¼šæ— é™åœ°å¢žå¤§ï¼ŒJVMä¼šè°ƒèŠ‚å †çš„å¤§å°ç›´åˆ°å…¶æ»¡è¶³GCçš„æ€§èƒ½ç›®æ ‡ã€‚ å¦ä¸€æ–¹é¢ï¼Œå¦‚æžœä½ ç¡®åˆ‡åœ°äº†è§£åº”ç”¨ç¨‹åºéœ€è¦å¤šå¤§çš„å †ï¼Œé‚£ä¹ˆä½ å¯ä»¥å°†å †çš„åˆå§‹åŒ–å’Œæœ€å¤§å€¼è®¾ç½®ä¸€è‡´æ•°å€¼(è­¬å¦‚ï¼š-Xms1024M -Xmx1024M)ã€‚è¿™ç§è®¾ç½®èƒ½ç¨å¾®æé«˜GCçš„è¿è¡Œæ•ˆçŽ‡ï¼Œå› ä¸ºå®ƒä¸å†éœ€è¦ä¼°ç®—å †æ˜¯å¦éœ€è¦è°ƒæ•´å¤§å°ã€‚ å †å†…å­˜çº é”™åœ¨ä¸Šè¿°è¡¨æˆ‘ä»¬çŸ¥é“äº†ä¸åŒæ“ä½œç³»ç»Ÿã€ä¸åŒJVMã€ä¸åŒç‰©ç†å†…å­˜çš„é»˜è®¤å †å¤§å°ã€‚ä½†æ˜¯å®žé™…ä¸Šï¼ŒMac OSè¿™ä¸ªæ•°æ®æœ‰é—®é¢˜çš„ã€‚æˆ‘çš„Mac Pro 2013çš„é…ç½®ç‰©ç†å†…å­˜æ˜¯16Gã€64ä½çš„JVMã€‚ ä¸‹é¢ä¸¤ä¸ªå‘½ä»¤ç”¨äºŽæŸ¥çœ‹å½“å‰JREé»˜è®¤çš„å †å¤§å°ï¼Œè¯¥æ–¹æ³•é€‚ç”¨äºŽJava 6u20ä»¥åŠä¹‹åŽç‰ˆæœ¬ã€‚ 1234567891011121314151617181920# ä½¿ç”¨-serverYeamin:~ mac$ java -server -XX:+UnlockDiagnosticVMOptions -XX:+PrintFlagsFinal -version | grep -i heapsize uintx ErgoHeapSizeLimit = 0 &#123;product&#125; uintx HeapSizePerGCThread = 87241520 &#123;product&#125; uintx InitialHeapSize := 268435456 &#123;product&#125; uintx LargePageHeapSizeThreshold = 134217728 &#123;product&#125; uintx MaxHeapSize := 4294967296 &#123;product&#125;java version \"1.8.0_192\"Java(TM) SE Runtime Environment (build 1.8.0_192-b12)Java HotSpot(TM) 64-Bit Server VM (build 25.192-b12, mixed mode)# ä½¿ç”¨-clientYeamin:~ mac$ java -client -XX:+UnlockDiagnosticVMOptions -XX:+PrintFlagsFinal -version | grep -i heapsize uintx ErgoHeapSizeLimit = 0 &#123;product&#125; uintx HeapSizePerGCThread = 87241520 &#123;product&#125; uintx InitialHeapSize := 268435456 &#123;product&#125; uintx LargePageHeapSizeThreshold = 134217728 &#123;product&#125; uintx MaxHeapSize := 4294967296 &#123;product&#125;java version \"1.8.0_192\"Java(TM) SE Runtime Environment (build 1.8.0_192-b12)Java HotSpot(TM) 64-Bit Server VM (build 25.192-b12, mixed mode) æŸ¥çœ‹ç»“æžœï¼Œæˆ‘ä»¬å‘çŽ°ï¼ŒMac OSä¸­clientå’Œserveræ¨¡å¼çš„åˆå§‹åŒ–å †å¤§å°æ˜¯268435456(å³268435456/1024/1024=256M=ç‰©ç†å†…å­˜16G \\ 1024 \\ 1/64)ã€‚æˆ‘ä»¬å‘çŽ°å®žé™…ä¸Šè¿™ä¸ªè¡¨ä¸­æ•°æ®æ˜¯æœ‰è¯¯çš„ã€‚ å…¶å®žä¸ä»…ä»…æ˜¯Mac OSï¼ŒWindows 64ä½ä¹Ÿæ˜¯è¿™æ ·çš„ã€‚ æ€»ç»“ å †åˆ†é…è¿‡å°ï¼Œç¨‹åºå¤§éƒ¨åˆ†æ—¶é—´æ¶ˆè€—åœ¨GCä¸Šã€‚å †åˆ†é…è¿‡å¤§ï¼ŒGCåœé¡¿æ—¶é—´åŠ é•¿ï¼Œåœé¡¿é¢‘çŽ‡å‡å°‘ï¼Œä½¿å¾—ç¨‹åºæ€§èƒ½æ•´å¤©ä¸‹é™ã€‚ JVMä¸åƒæ˜¯ç‰©ç†å†…å­˜ä¸€æ ·å¯ä»¥ä½¿ç”¨äº¤äº’/åˆ†é¡µæŠ€æœ¯ã€‚è®¡ç®—æœºæ˜¯ç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜ç»“åˆä½¿ç”¨ï¼Œç¨‹åºä¸­è¿è¡Œä¸æ´»è·ƒçš„æ•°æ®å¤åˆ¶åˆ°è™šæ‹Ÿå†…å­˜(ç£ç›˜)ï¼Œè€ŒJVMå®Œå…¨æ²¡æœ‰è¿™ç§å†…å­˜äº¤æ¢ç»†èŠ‚ï¼Œåˆ†é…å¤šå°‘Gå°±æ˜¯å¤šå°‘Gã€‚ ä¸åŒæ“ä½œç³»ç»Ÿã€ä¸åŒå¤§å°ç‰©ç†å†…å­˜ã€ä¸åŒJVMçš„é»˜è®¤å †å¤§å°æœ‰æ‰€å·®å¼‚ã€‚ä½†æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„éƒ½æ˜¯64ä½çš„JVMï¼Œå¸¸ç”¨çš„åˆå§‹åŒ–å †å¤§å°æ˜¯ç‰©ç†å†…å­˜çš„1/64,å¸¸ç”¨çš„æœ€å¤§å †å¤§å°ä¸ºç‰©ç†å†…å­˜çš„1/4ã€‚ å †çš„åˆå§‹åŒ–å¤§å°å’Œæœ€å¤§å †å¤§å°ç”±-Xms:Nå’Œ-Xmx:Nä¸¤ä¸ªå‚æ•°æ¥æŽ§åˆ¶ã€‚å…¶ä¸­Nè¡¨ç¤ºå­˜å‚¨å¤§å°ï¼Œé»˜è®¤ä¸ºMBä¸ºåŸºæœ¬å•ä½ã€‚ æ¯æ¬¡GCçš„æ—¶å€™ä¼šåŠ¨æ€è°ƒæ•´å †çš„å¤§å°ã€‚è‹¥é»˜è®¤ç©ºä½™å †å†…å­˜å°äºŽ40%æ—¶ï¼ŒJVMä¼šåŠ¨æ€å°†å †å†…å­˜å¢žå¤§åˆ°-Xmxæœ€å¤§é™åˆ¶ã€‚è‹¥é»˜è®¤ç©ºä½™å †å†…å­˜å°äºŽ40%æ—¶ï¼ŒJVMä¼šåŠ¨æ€å°†å †å†…å­˜å‡å°‘åˆ°-Xmsæœ€å°é™åˆ¶ã€‚å› æ­¤æˆ‘ä»¬ä¸€èˆ¬è®¾ç½®-Xmså’Œ-Xmxç›¸ç­‰ï¼Œé¿å…åœ¨æ¯æ¬¡GCåŽè°ƒæ•´å †çš„å¤§å°ã€‚ é™¤éžåº”ç”¨ç¨‹åºéœ€è¦æ¯”é»˜è®¤å€¼æ›´å¤§çš„å †ï¼Œå¦åˆ™åœ¨è¿›è¡Œè°ƒä¼˜æ—¶ï¼Œå°½é‡è€ƒè™‘é€šè¿‡GCç®—æ³•çš„æ€§èƒ½ç›®æ ‡ï¼Œè€Œéžå¾®è°ƒå †çš„å¤§å°æ¥æ”¹å–„ç¨‹åºæ€§èƒ½ã€‚ å‚è€ƒæ–‡çŒ® ã€ŠJavaæ€§èƒ½æƒå¨æŒ‡å—ã€‹","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"JVMåŠå¹¶å‘ç¼–ç¨‹","slug":"JVMåŠå¹¶å‘ç¼–ç¨‹","permalink":"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/"}]},{"title":"å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿","slug":"å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿","date":"2018-06-18T13:22:13.000Z","updated":"2020-01-08T13:06:39.044Z","comments":true,"path":"2018/06/18/å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿/","link":"","permalink":"http://ltyeamin.github.io/2018/06/18/å±€åŸŸç½‘æ–‡ä»¶å…±äº«ä¸Žä¸‹è½½æœåŠ¡æ–°å§¿åŠ¿/","excerpt":"","text":"åœ¨å¹³å¸¸ç”Ÿæ´»æˆ–å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¼ è¾“æ–‡ä»¶ï¼Œæ¯”å¦‚å°†ç”µè„‘ä¸Šä¸‹è½½çš„Appä¼ é€åˆ°æ‰‹æœºæˆ–å¦ä¸€å°PCä¸Šã€åŒäº‹ä¹‹é—´ä¼ è¾“ä¸€äº›å¤§åž‹çš„æ–‡ä»¶ã€‚å½“æˆ‘ä»¬é‡åˆ°æ­¤ç±»é—®é¢˜æ—¶ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ä½¿ç”¨QQæˆ–è€…å¾®ä¿¡ï¼Œæ›´æ·±ä¸€å±‚ï¼ŒåŽ»ç½‘ä¸Šæœç´¢ä¸€äº›æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œå¦‚Send Anywhereï¼ŒLZå½“æ—¶åœ¨å¤§å­¦æ—¶å€™ç»å¸¸ä½¿ç”¨çš„æ˜¯FTPã€SambaæœåŠ¡ã€‚ä½†æ˜¯è¿™äº›ç¬¬ä¸‰æ–¹è¦ä¹ˆéƒ½æ˜¾å¾—å¤ªéº»çƒ¦ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œè¦ä¹ˆå°±æ˜¯ä¸å®‰å…¨ï¼Œå®‰å…¨éšæ‚£ä¸»è¦åœ¨æ•°æ®ä¼ è¾“å®‰å…¨ä»¥åŠæ•°æ®å¤‡ä»½ä¸Šä½“çŽ°ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å°†æ–‡ä»¶ä¼ è¾“åˆ°ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ä¸Šï¼Œå†é€šè¿‡éœ€è¦æŽ¥æ”¶æ•°æ®çš„ç”µè„‘æˆ–æ‰‹æœºè¿›è¡Œä¸‹è½½ã€‚ é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰åŠžæ³•ç›´æŽ¥èŽ·å–æ–‡ä»¶ï¼Œè€Œä¸é€šè¿‡è¿™äº›ç¹ççš„æ“ä½œï¼Ÿåœ¨è¿™é‡Œå‘¢ï¼ŒLZç»™å¤§å®¶æŽ¨èå‡ ç§å¸¸è§çš„æ–‡ä»¶å…±äº«æ–¹æ³•ã€‚ æ–‡ä»¶å…±äº«ä¸‹è½½æ–°å§¿åŠ¿æœ€æ–¹ä¾¿çš„Windowsæ–‡ä»¶å…±äº«LZæœ¬äººä¸€å¹´å¤šæ²¡ç”¨è¿‡Windowsç”µè„‘äº†,çŽ°åœ¨å…¬å¸é…ç½®çš„æ˜¯Mac Proï¼Œå®¶ç”¨çš„Lenovo Y430På·²è¢«æ”¹è£…ä¸ºDeepin Linux,ç”±äºŽçŽ°åœ¨æ—¥å¸¸ç”Ÿæ´»ã€å·¥ä½œéƒ½æ˜¯åœ¨éžWindowsæ“ä½œ,æ‰€ä»¥è¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ï¼Œç­‰æœ‰æœºä¼šä¼šæŠŠè¯¦ç»†æ•™ç¨‹åˆ—åˆ°è¿™é‡Œã€‚ Windowsæ–‡ä»¶å…±äº« æœ€ç®€å•çš„Pythonå‘½ä»¤å…±äº«å¤§å®¶éƒ½çŸ¥é“Python2ä¸ŽPython3ä¸å…¼å®¹,ä¸€èˆ¬Linuxå’ŒMac OS Xé»˜è®¤é›†æˆPython2,å› ä¸ºè¿™äº›ç³»ç»Ÿä¸€äº›åº”ç”¨å·¥å…·æ˜¯Python2å¼€å‘çš„ï¼Œæ‰€ä»¥ç³»ç»Ÿåªèƒ½é»˜è®¤Python2ã€‚ Python2çš„æ“ä½œå§¿åŠ¿ 1234Yeamin:book mac$ echo litonglitongYeamin:book mac$ python -m SimpleHTTPServer 8900Serving HTTP on 0.0.0.0 port 8900 ... Python3çš„æ“ä½œå§¿åŠ¿ 12Yeamin:work mac$ python3 -m http.server 8900Serving HTTP on 0.0.0.0 port 8900 (http://0.0.0.0:8900/) ... â€‹ æˆ‘åœ¨æˆ‘çš„Macæˆ–Linuxç»ˆç«¯æ‰§è¡Œç®€å•çš„ä¸Šè¿°ä»»æ„ä¸¤ä¸ªå‘½ä»¤åŽï¼Œå¯åŠ¨ä¸€ä¸ªHTTPæœåŠ¡å™¨ï¼Œæ‰“å¼€æµè§ˆå™¨è¾“å…¥http://127.0.0.1:8900æˆ–http://localhost:8900 åŽå›žå‡ºçŽ°ä¸‹å›¾æ–‡ä»¶å…±äº«çš„åˆ—è¡¨ï¼Œè‹¥å…¶ä»–äººæƒ³ä¸‹è½½å¯ä»¥å°†å±€åŸŸç½‘IPå’Œç«¯å£å·å‘ŠçŸ¥å…¶ä»–äººå³å¯ä¸‹è½½ã€‚åœ¨è¿™ä¸ä»…ä»…å¯ä»¥ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥é¢„è§ˆå¸¸è§æ–‡ä»¶ï¼Œæ¯”å¦‚éŸ³é¢‘ã€è§†é¢‘ã€å›¾ç‰‡ã€PDFã€æ–‡æœ¬æ–‡ä»¶ã€‚ æœ€ä¸“ä¸šçš„NginxæœåŠ¡å…±äº«å¤§å®¶éƒ½çŸ¥é“å•å°çš„Nginx WebæœåŠ¡å™¨å¹¶å‘æ€§èƒ½è¾ƒå¼º,ä¸€èˆ¬åŸºæœ¬éƒ½æ˜¯æ–‡ä»¶å¤šå¹¶å‘å¤§çš„æƒ…å†µä¸‹æ‰ç”¨ï¼Œä¼ä¸šé‡Œä¸€èˆ¬åšè·¯ç”±è½¬å‘ã€è´Ÿè½½å‡è¡¡ã€èµ„æºé™æ€åŒ–ï¼Œè·¯ç”±è½¬å‘æ˜¯ä¸ºäº†å¯¹å¤–ç»Ÿä¸€æš´éœ²ä¸€ä¸ªåœ°å€ï¼Œè´Ÿè½½å‡è¡¡æ˜¯æ ¹æ®æŸç§ç®—æ³•(IP_HASHç»‘å®šç­–ç•¥ã€è½®è¯¢ç­–ç•¥ã€æƒé‡)å°†ä¸åŒçš„è¯·æ±‚åˆ†æ•£åˆ°å¤šå°ä¸šåŠ¡ç›¸åŒçš„æœºå™¨ä¸Šï¼Œèµ„æºé™æ€åŒ–è¿™ä¸ªå¾ˆå¸¸è§ï¼Œä»¥å‰é¡¹ç›®å¤ªå¤§ï¼Œä¼šå°†JS/CSSå•ç‹¬åˆ†ç¦»ï¼Œä½¿å¾—åº”ç”¨ç³»ç»Ÿå‰ç«¯ç»„ä»¶åŠ è½½æ›´å¿«ã€‚ ä¸‹è½½Nginx 1234567891011litong@LT:/media/litong/è½¯ä»¶/programs/tools$ wget -c http://nginx.org/download/nginx-1.15.10.tar.gz--2019-03-31 14:03:53-- http://nginx.org/download/nginx-1.15.10.tar.gzæ­£åœ¨è§£æžä¸»æœº nginx.org (nginx.org)... 62.210.92.35, 95.211.80.227, 2001:1af8:4060:a004:21::e3æ­£åœ¨è¿žæŽ¥ nginx.org (nginx.org)|62.210.92.35|:80... å·²è¿žæŽ¥ã€‚å·²å‘å‡º HTTP è¯·æ±‚ï¼Œæ­£åœ¨ç­‰å¾…å›žåº”... 200 OKé•¿åº¦ï¼š1032228 (1008K) [application/octet-stream]æ­£åœ¨ä¿å­˜è‡³: â€œnginx-1.15.10.tar.gzâ€nginx-1.15.10.tar.gz 100%[===============================&gt;] 1008K 13.4KB/s ç”¨æ—¶ 55s 2019-03-31 14:04:48 (18.4 KB/s) - å·²ä¿å­˜ â€œnginx-1.15.10.tar.gzâ€ [1032228/1032228]) è§£åŽ‹Nginx 1tar -zxvf nginx-1.15.10.tar.gz ç¼–è¯‘Nginx 1cd nginx-1.15.10/ 1./configure 1make 1sudo make install å¯åŠ¨Nginx 12cd /usr/local/nginx/sbin./nginx å¯åŠ¨æˆåŠŸåŽï¼Œè¾“å…¥localhost:80ï¼Œçœ‹æ˜¯å¦å¯åŠ¨æˆåŠŸè¿›å…¥åˆ°index.htmlï¼Œå¦‚ä¸‹å›¾: æŸ¥çœ‹å¯åŠ¨è¿›ç¨‹ å¦‚æžœæ‡’å¾—æ‰“å¼€æµè§ˆå™¨ï¼Œç›´æŽ¥çœ‹è¿›ç¨‹ç¡®è®¤nginxæ˜¯å¦å¯åŠ¨ 12litong@LT:usr/local/nginx/sbin$ ps -ef | grep nginxroot 7017 1 0 11:07 ? 00:00:00 nginx: master process ./nginx é‡è½½Nginx ä¿®æ”¹Nginxçš„é…ç½®æ–‡ä»¶nginx.conf,å¹¶è¿›è¡Œé‡è½½é…ç½®: 12345678910listen 80; #ç«¯å£ server_name localhost; #æœåŠ¡å charset utf-8; # é¿å…ä¸­æ–‡ä¹±ç root /home/litong/Pictures; #æ˜¾ç¤ºçš„æ ¹ç´¢å¼•ç›®å½•ï¼Œæ³¨æ„è¿™é‡Œè¦æ”¹æˆä½ è‡ªå·±çš„ï¼Œç›®å½•è¦å­˜åœ¨ location / &#123; autoindex on; #å¼€å¯ç´¢å¼•åŠŸèƒ½ autoindex_exact_size off; # å…³é—­è®¡ç®—æ–‡ä»¶ç¡®åˆ‡å¤§å°ï¼ˆå•ä½bytesï¼‰ï¼Œåªæ˜¾ç¤ºå¤§æ¦‚å¤§å°ï¼ˆå•ä½kbã€mbã€gbï¼‰ autoindex_localtime on; # æ˜¾ç¤ºæœ¬æœºæ—¶é—´è€Œéž GMT æ—¶é—´ &#125; 1./nginx -s reload åœ¨æµè§ˆå™¨ç«¯è¾“å…¥localhost:80, åˆ™å‡ºçŽ°å¦‚ä¸‹ç•Œé¢: ä¸åŒç»ˆç«¯æ•ˆæžœæ¬£èµ[Pythonå…±äº«]Mac Pro / Mac OS X 10.14.1 Mojave [Nginxå…±äº«]Lenovo Y430P/ Deepin Linux [Pythonå…±äº«]XiaoMi 5X/ Android-MIUI10 [Windowså…±äº«]Lenovo ThinkPad T410/Microsoft Windows 10 å®¶åº­ç‰ˆWindowsåŽç»­å†ä½“éªŒï¼Œæœªå®Œå¾…ç»­ã€‚ã€‚ã€‚","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"å®žç”¨å·¥å…·åŠæŠ€å·§","slug":"å®žç”¨å·¥å…·åŠæŠ€å·§","permalink":"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/"}]},{"title":"RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼","slug":"RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼","date":"2018-06-12T12:15:11.000Z","updated":"2020-01-08T13:06:31.458Z","comments":true,"path":"2018/06/12/RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼/","link":"","permalink":"http://ltyeamin.github.io/2018/06/12/RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼/","excerpt":"","text":"ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹RabbitMQå·¥ä½œæ¨¡å¼ä¹‹ç®€å•æ¨¡å¼ï¼Œåœ¨å­¦ä¹‹å‰æˆ‘ä»¬æ ¹æ®å®˜æ–¹æ–‡æ¡£(çº¯è‹±æ–‡æ–‡æ¡£ï¼Œå¯ä»¥è£…ä¸ªChromeæ’ä»¶é€‰ä¸­ç¿»è¯‘)å­¦ä¹ ä¸€ä¸‹RabbitMQçš„ä¸€äº›æœ¯è¯­ï¼Œè¿™æ‰èƒ½è®©æˆ‘ä»¬æ›´æ·±å…¥çš„äº†è§£ã€‚ å‡†å¤‡æ¡ä»¶æœ¬æ•™ç¨‹å‡å®šRabbitMQå·²åœ¨æ ‡å‡†ç«¯å£ï¼ˆ5672ï¼‰ä¸Šçš„localhostä¸Šå®‰è£…å¹¶è¿è¡Œã€‚å¦‚æžœæ‚¨ä½¿ç”¨ä¸åŒçš„ä¸»æœºï¼Œç«¯å£æˆ–è®¤è¯ï¼Œåˆ™éœ€è¦è°ƒæ•´è¿žæŽ¥è®¾ç½®ã€‚ æœ¯è¯­ä»‹ç»RabbitMQæ˜¯ä¸€ä¸ªæ¶ˆæ¯ä»£ç†ä¸­é—´ä»¶ï¼šå®ƒæŽ¥å—å’Œè½¬å‘æ¶ˆæ¯ã€‚æ‚¨å¯ä»¥å°†å…¶è§†ä¸ºé‚®å±€ï¼šå½“æ‚¨å°†è¦å‘å¸ƒçš„é‚®ä»¶æ”¾åœ¨é‚®ç®±ä¸­æ—¶ï¼Œæ‚¨å¯ä»¥ç¡®å®šé‚®é€’å‘˜æœ€ç»ˆä¼šå°†é‚®ä»¶å‘é€ç»™æ‚¨çš„æ”¶ä»¶äººã€‚åœ¨è¿™ä¸ªæ¯”å–»ä¸­ï¼ŒRabbitMQæ˜¯ä¸€ä¸ªé‚®ç®±ï¼Œé‚®å±€å’Œé‚®é€’å‘˜åªè´Ÿè´£ä¸­è½¬è°ƒåº¦ã€‚ RabbitMQå’Œé‚®å±€ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äºŽå®ƒä¸å¤„ç†çº¸å¼ ï¼Œè€Œæ˜¯æŽ¥å—ï¼Œå­˜å‚¨å’Œè½¬å‘äºŒè¿›åˆ¶blobæ•°æ® - æ¶ˆæ¯ã€‚ RabbitMQå’Œä¸€èˆ¬çš„æ¶ˆæ¯ä¼ é€’ä½¿ç”¨äº†ä¸€äº›æœ¯è¯­ï¼šç”Ÿäº§è€…ã€é˜Ÿåˆ—ã€æ¶ˆè´¹è€…ã€‚ ç”Ÿäº§è€… å‘é€æ¶ˆæ¯çš„ç¨‹åºæ˜¯ç”Ÿäº§è€…ã€‚ å®˜ç½‘ä¸Šé’è‰²æ¤­åœ†Påˆ™æ ‡è¯†æ¶ˆæ¯ç”Ÿäº§è€…ã€‚ é˜Ÿåˆ— é˜Ÿåˆ—æ˜¯RabbitMQä¸­çš„é‚®ç®±çš„åç§°ã€‚è™½ç„¶æ¶ˆæ¯æµç»RabbitMQå’Œæ‚¨çš„åº”ç”¨ç¨‹åºï¼Œä½†å®ƒä»¬åªèƒ½å­˜å‚¨åœ¨é˜Ÿåˆ—ä¸­ã€‚é˜Ÿåˆ—åªå—ä¸»æœºçš„å†…å­˜å’Œç£ç›˜é™åˆ¶çš„çº¦æŸï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¤§çš„æ¶ˆæ¯ç¼“å†²åŒºã€‚è®¸å¤šç”Ÿäº§è€…å¯ä»¥å‘é€åˆ°ä¸€ä¸ªé˜Ÿåˆ—çš„æ¶ˆæ¯ï¼Œå¹¶ä¸”è®¸å¤šæ¶ˆè´¹è€…å¯ä»¥å°è¯•ä»Žä¸€ä¸ªé˜Ÿåˆ—æŽ¥æ”¶æ•°æ®ã€‚å®˜ç½‘ä¸Šçº¢è‰²å¤šæ ¼å­é•¿æ–¹å½¢åˆ™æ ‡è¯†é˜Ÿåˆ—ã€‚ æ¶ˆè´¹è€… æ¶ˆè´¹ä¸ŽæŽ¥å—æœ‰ç±»ä¼¼çš„æ„ä¹‰ã€‚æ¶ˆè´¹è€…æ˜¯ä¸€ä¸ªä¸»è¦ç­‰å¾…æŽ¥æ”¶æ¶ˆæ¯çš„ç¨‹åºï¼š è¯·æ³¨æ„ï¼Œç”Ÿäº§è€…ã€æ¶ˆè´¹è€…å’Œæ¶ˆæ¯ä»£ç†ä¸å¿…é©»ç•™åœ¨åŒä¸€ä¸»æœºä¸Š;å®žé™…ä¸Šåœ¨å¤§å¤šæ•°åº”ç”¨ä¸­ï¼Œåº”ç”¨ç¨‹åºä¹Ÿå¯ä»¥æ˜¯ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ã€‚ æ€»ç»“ï¼šæ•´ä¸ªè¿‡ç¨‹éžå¸¸ç®€å•ï¼Œç”Ÿäº§è€…åˆ›å»ºæ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…æŽ¥æ”¶è¿™äº›æ¶ˆæ¯ã€‚ä½ çš„åº”ç”¨ç¨‹åºæ—¢å¯ä»¥ä½œä¸ºç”Ÿäº§è€…å‘å…¶ä»–åº”ç”¨ç¨‹åºå‘é€æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæ¶ˆè´¹è€…ï¼Œç­‰å¾…æŽ¥æ”¶å…¶ä»–åº”ç”¨ç¨‹åºçš„æ¶ˆæ¯ã€‚å…¶ä¸­ï¼Œå­˜å‚¨æ¶ˆæ¯çš„æ˜¯æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ƒç±»ä¼¼äºŽé‚®ç®±ï¼Œæ¶ˆæ¯é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡ŒæŠ•é€’ã€‚ æ¡ˆä¾‹å®žæˆ˜åœ¨æœ¬æ•™ç¨‹çš„è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†ç”¨Javaç¼–å†™ä¸¤ä¸ªç¨‹åº;å‘é€å•ä¸ªæ¶ˆæ¯çš„ç”Ÿäº§è€…ï¼Œä»¥åŠæŽ¥æ”¶æ¶ˆæ¯å¹¶å°†å…¶æ‰“å°å‡ºæ¥çš„æ¶ˆè´¹è€…ã€‚æˆ‘ä»¬å°†æŽ©ç›–Java APIä¸­çš„ä¸€äº›ç»†èŠ‚ï¼Œä¸“æ³¨äºŽè¿™ä¸ªéžå¸¸ç®€å•çš„äº‹æƒ…ï¼Œåªæ˜¯ä¸ºäº†å¼€å§‹ã€‚è¿™æ˜¯æ¶ˆæ¯ä¼ é€’çš„â€œHello Worldâ€ã€‚ åœ¨ä¸‹å›¾ä¸­ï¼Œâ€œPâ€æ˜¯æˆ‘ä»¬çš„ç”Ÿäº§è€…ï¼Œâ€œCâ€æ˜¯æˆ‘ä»¬çš„æ¶ˆè´¹è€…ã€‚ä¸­é—´çš„çº¢æ¡†æ˜¯ä¸€ä¸ªé˜Ÿåˆ— - RabbitMQä»£è¡¨æ¶ˆè´¹è€…ä¿ç•™çš„æ¶ˆæ¯ç¼“å†²åŒºã€‚ äº†è§£åˆ°ä¸Šè¿°æ¦‚å¿µï¼ŒçŽ°åœ¨æˆ‘ä»¬å¼€å§‹åŠ¨æ‰‹å®žè·µå§ï¼ å¯¼å…¥å®¢æˆ·ç«¯ä¾èµ– Maven 12345&lt;dependency&gt; &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt; &lt;artifactId&gt;amqp-client&lt;/artifactId&gt; &lt;version&gt;5.6.0&lt;/version&gt;&lt;/dependency&gt; Gradle 123dependencies &#123; compile group: 'com.rabbitmq', name: 'amqp-client', version: '5.6.0'&#125; å¯¼å…¥å®Œä¾èµ–åŽï¼Œæˆ‘ä»¬å°†ç¼–å†™æ¶ˆæ¯å‘å¸ƒè€…ï¼ˆå‘é€è€…ï¼‰Sendå‘é€å’Œæˆ‘ä»¬çš„æ¶ˆæ¯æ¶ˆè´¹è€…ï¼ˆæŽ¥æ”¶è€…ï¼‰Recvã€‚å‘å¸ƒè€…å°†è¿žæŽ¥åˆ°RabbitMQï¼Œå‘é€å•ä¸ªæ¶ˆæ¯ï¼Œç„¶åŽé€€å‡ºã€‚ ç¼–å†™æ¶ˆæ¯ç”Ÿäº§/å‘ç”Ÿè€…123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960package cn.yeamin.actions.simple.produces;import com.rabbitmq.client.ConnectionFactory;import com.rabbitmq.client.Connection;import com.rabbitmq.client.Channel;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * ç®€å•é˜Ÿåˆ—çš„æ¶ˆæ¯ç”Ÿäº§è€… */public class Send &#123; /** * è®¾ç½®é˜Ÿåˆ—åç§° */ private final static String QUEUE_NAME = \"hello\"; public static void main(String[] args) throws IOException, TimeoutException &#123; // åˆ›å»ºè¿žæŽ¥å·¥åŽ‚ ConnectionFactory factory = new ConnectionFactory(); // è®¾ç½®è¿žæŽ¥ä¸»æœºå factory.setHost(\"localhost\"); //è®¾ç½®ç«¯å£å·,ä¸è®¾ç½®é»˜è®¤ä¸º5672 factory.setPort(5672); /* * å¦‚æžœå¯ä»¥é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºä¸€ä¸ªè¿žæŽ¥,åˆ™ç»§ç»­åœ¨è¿žæŽ¥åŸºç¡€ä¸Šç»§ç»­åˆ›å»ºé€šé“. * è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨try-with-resourcesè¯­å¥ï¼Œå› ä¸ºConnectionå’ŒChanneléƒ½å®žçŽ°äº†java.io.Closeableã€‚ * è¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦åœ¨ä»£ç ä¸­æ˜Žç¡®åœ°å…³é—­å®ƒä»¬ã€‚ */ try (Connection connection = factory.newConnection(); // åˆ›å»ºé€šé“ Channel channel = connection.createChannel()) &#123; /* * ä¸ºäº†å‘é€æ¶ˆæ¯æˆåŠŸ,æˆ‘ä»¬å¿…é¡»å£°æ˜Žä¸€ä¸ªé˜Ÿåˆ—ä¾›æˆ‘ä»¬å‘é€,é˜Ÿåˆ—åªå£°æ˜Žä¸€æ¬¡,ä¸å¯èƒ½å­˜åœ¨é‡å¤é˜Ÿåˆ— * å‚æ•°1: queueè¡¨ç¤ºé˜Ÿåˆ—åç§° * å‚æ•°2: durableè¡¨ç¤ºæ˜¯å¦æŒä¹…åŒ– * å‚æ•°3: exclusiveè¡¨ç¤ºä»…åˆ›å»ºè€…å¯ä»¥ä½¿ç”¨çš„ç§æœ‰é˜Ÿåˆ—ï¼Œæ–­å¼€åŽè‡ªåŠ¨åˆ é™¤ * å‚æ•°4: autoDeleteè¡¨ç¤ºå½“æ‰€æœ‰æ¶ˆè´¹å®¢æˆ·ç«¯è¿žæŽ¥æ–­å¼€åŽï¼Œæ˜¯å¦è‡ªåŠ¨åˆ é™¤é˜Ÿåˆ— * å‚æ•°5: argumentsè¡¨ç¤ºå…¶ä»–çš„æž„é€ å‚æ•°,ä¸ºé˜Ÿåˆ—æž„é€ è€Œå‡†å¤‡ */ channel.queueDeclare(QUEUE_NAME, false, false, false, null); // è¦å‘é€çš„æ¶ˆæ¯ String message = \"Hello World, lt, Welcome RabbitMQ!\"; /* * æœ€åŸºæœ¬çš„æ¶ˆæ¯å‘é€ * å‚æ•°1: exchangeè¡¨ç¤ºäº¤æ¢æœº * å‚æ•°2: routingKeyè¡¨ç¤ºè·¯ç”±Key * å‚æ•°3: propsè¡¨ç¤ºæ¯çš„å…¶ä»–å‚æ•° * å‚æ•°4: autoDeleteè¡¨ç¤ºå½“æ‰€æœ‰æ¶ˆè´¹å®¢æˆ·ç«¯è¿žæŽ¥æ–­å¼€åŽï¼Œæ˜¯å¦è‡ªåŠ¨åˆ é™¤é˜Ÿåˆ— * å‚æ•°5: bodyè¡¨ç¤ºæ¯ä½“,æ˜¯ä¸ªå­—èŠ‚æ•°ç»„,æ„å‘³ç€å¯ä»¥ä¼ é€’ä»»ä½•æ•°æ® */ channel.basicPublish(\"\", QUEUE_NAME, null, message.getBytes()); //æ¶ˆæ¯å‘é€æ–¹çš„æ—¥å¿—æ‰“å° System.out.println(\" [x] Sent '\" + message + \"'\"); &#125; &#125;&#125; å£°æ˜Žé˜Ÿåˆ—æ˜¯å¹‚ç­‰çš„ ï¼Œåªæœ‰åœ¨å®ƒä¸å­˜åœ¨çš„æƒ…å†µä¸‹æ‰ä¼šåˆ›å»ºå®ƒã€‚æ¶ˆæ¯å†…å®¹æ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œå› æ­¤æ‚¨å¯ä»¥å‘é€ä»»ä½•æ•°æ®ã€‚ ç¼–å†™æ¶ˆæ¯æ¶ˆè´¹è€…12345678910111213141516171819202122232425262728293031323334353637383940package cn.yeamin.actions.simple.consumers;import com.rabbitmq.client.*;/** * ç®€å•é˜Ÿåˆ—çš„æ¶ˆæ¯æ¶ˆè´¹è€… */public class Recv &#123; private final static String QUEUE_NAME = \"hello\"; public static void main(String[] argv) throws Exception &#123; // åˆ›å»ºè¿žæŽ¥å·¥åŽ‚ ConnectionFactory factory = new ConnectionFactory(); // è®¾ç½®RabbitMQä¸»æœºå factory.setHost(\"localhost\"); // æ–°å»ºè¿žæŽ¥ Connection connection = factory.newConnection(); // æ–°å»ºé€šé“ Channel channel = connection.createChannel(); //ç»‘å®šé˜Ÿåˆ— channel.queueDeclare(QUEUE_NAME, false, false, false, null); System.out.println(\" [*] Waiting for messages. To exit press CTRL+C\"); // åˆ›å»ºæ¶ˆè´¹è€…,æ¶ˆè´¹æ¶ˆæ¯ DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; &#123; String message = new String(delivery.getBody(), \"UTF-8\"); System.out.println(\" [x] Received '\" + message + \"'\"); &#125;; /** * * æ¶ˆè´¹è€…æ¶ˆè´¹ * å‚æ•°1 ï¼šqueueé˜Ÿåˆ—å * å‚æ•°2 ï¼šautoAck æ˜¯å¦è‡ªåŠ¨ACK * å‚æ•°3 ï¼šcallbackæ¶ˆè´¹è€…å¯¹è±¡çš„ä¸€ä¸ªæŽ¥å£ï¼Œç”¨æ¥é…ç½®å›žè°ƒ * */ channel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; &#123; &#125;); &#125;&#125; ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ä½¿ç”¨try-with-resourceè¯­å¥æ¥è‡ªåŠ¨å…³é—­é€šé“å’Œè¿žæŽ¥ï¼Ÿé€šè¿‡è¿™æ ·åšï¼Œæˆ‘ä»¬åªéœ€è®©ç¨‹åºç»§ç»­è¿è¡Œï¼Œå…³é—­æ‰€æœ‰å†…å®¹ï¼Œç„¶åŽé€€å‡ºï¼è¿™å°†æ˜¯å°´å°¬çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›åœ¨æ¶ˆè´¹è€…å¼‚æ­¥ç›‘å¬æ¶ˆæ¯åˆ°è¾¾æ—¶ï¼Œè¯¥è¿›ç¨‹ä¿æŒæ´»åŠ¨çŠ¶æ€ã€‚ æˆ‘ä»¬å³å°†å‘Šè¯‰æœåŠ¡å™¨ä»Žé˜Ÿåˆ—ä¸­ä¼ é€’æ¶ˆæ¯ã€‚å› ä¸ºå®ƒä¼šå¼‚æ­¥åœ°å‘æˆ‘ä»¬å‘é€æ¶ˆæ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»¥å¯¹è±¡çš„å½¢å¼æä¾›ä¸€ä¸ªå›žè°ƒï¼Œå®ƒå°†ç¼“å†²æ¶ˆæ¯ï¼Œç›´åˆ°æˆ‘ä»¬å‡†å¤‡å¥½ä½¿ç”¨å®ƒä»¬ã€‚è¿™å°±æ˜¯DeliverCallbackå­ç±»çš„ä½œç”¨ã€‚ æ¶ˆæ¯ç”Ÿäº§ä¸Žå‘é€æˆ‘ä»¬å…ˆæ‰§è¡Œæ¶ˆæ¯å‘é€è€…ï¼Œæ‰§è¡Œå®ŒæˆåŽå¦‚ä¸‹å›¾ï¼š ç´§æŽ¥ç€ï¼Œæˆ‘ä»¬è¿›è¡Œæ¶ˆæ¯æ¶ˆè´¹ï¼Œæ‰§è¡Œå®ŒæˆåŽå¦‚ä¸‹å›¾: å½“æ¶ˆæ¯ç”Ÿäº§è€…ä¸€ç›´å‘é€æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“æžœï¼š 1234567891011121315:17:00: Executing task 'Recv.main()'...&gt; Task :compileJava UP-TO-DATE&gt; Task :processResources NO-SOURCE&gt; Task :classes UP-TO-DATE&gt; Task :Recv.main()SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".SLF4J: Defaulting to no-operation (NOP) logger implementationSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.[*] Waiting for messages. To exit press CTRL+C[x] Received 'Hello World, litong, Welcome RabbitMQ!'[x] Received 'Hello World, lt, Welcome RabbitMQ!' æºç åœ°å€https://github.com/ltyeamin/RabbitMQ-Action/tree/master/patterns å‚è€ƒèµ„æ–™ RabbitMQå®˜ç½‘æ–‡æ¡£ ã€ŠRabbitMQå®žæˆ˜æŒ‡å—ã€‹æœ±å¿ åŽè‘—","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"http://ltyeamin.github.io/tags/RabbitMQ/"}]},{"title":"RabbitMQæ¦‚è¿°","slug":"RabbitMQæ¦‚è¿°","date":"2018-06-11T11:45:21.000Z","updated":"2019-11-23T03:24:56.158Z","comments":true,"path":"2018/06/11/RabbitMQæ¦‚è¿°/","link":"","permalink":"http://ltyeamin.github.io/2018/06/11/RabbitMQæ¦‚è¿°/","excerpt":"","text":"ä¹‹æ‰€ä»¥ä»Šå¤©å†™RabbitMQå­¦ä¹ ä¸“æ ï¼Œä¸»è¦æ˜¯å› ä¸ºè‡ªå·±æ²¡æœ‰çœŸæ­£çš„ç³»ç»Ÿå­¦ä¹ è¿‡ã€‚ä¹‹å‰å·¥ä½œç»åŽ†ä¸­éƒ½æ˜¯ä¸ºç”¨MQè€Œç”¨çš„MQï¼Œå¯¹MQæ•´ä¸ªå†…éƒ¨æœºåˆ¶æ²¡æœ‰ä¸€ä¸ªæ·±å…¥çš„äº†è§£å’Œç³»ç»Ÿçš„å­¦ä¹ ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨Spring Cloud Streamæˆ–Spring Cloud Busç»„ä»¶æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šç»å¸¸ç¢°åˆ°MQã€‚MQäº§å“å¸‚é¢ä¸Šæœ‰å¾ˆå¤šç§ï¼Œä¸åŒMQäº§å“æœ‰ä¸åŒçš„é€‚åº”åœºæ™¯(é¢†åŸŸ)ã€‚è¿™å°±å’Œå­¦ä»€ä¹ˆè¯­è¨€ä¸€æ ·ï¼Œä¸åˆ†ä»€ä¹ˆå¥½åã€‚ åœ¨è¿™æˆ‘è¦æ’ä¸Šä¸€å¥ï¼Œåœ¨è®¨è®ºæŠ€æœ¯é€‰åž‹çš„æ—¶å€™ï¼Œæˆ‘ç»å¸¸å¬åˆ°å¾ˆå¤šäººè¯´å“ªç§æŠ€æœ¯å¥½ï¼Œå“ªç§æŠ€æœ¯åï¼Œå“ªç§æŠ€æœ¯æµè¡Œï¼Œå“ªç§æŠ€æœ¯æ·˜æ±°ã€‚å…¶å®žæ­£è§£åº”è¯¥æ˜¯æ¯ç§æŠ€æœ¯æ–¹æ¡ˆæœ‰è‡ªå·±é€‚åº”é¢†åŸŸï¼Œå­˜åœ¨å³åˆç†ã€‚é¢è¯•çš„æ—¶å€™ç»å¸¸æœ‰é¢è¯•å®˜è¯¢é—®æŠ€æœ¯æ–¹æ¡ˆé€‰åž‹ã€‚ä»€ä¹ˆSpring Cloudå’ŒDubboæ¯”ï¼ˆåŽ‹æ ¹å°±ä¸æ˜¯ä¸€ä¸ªé¢†åŸŸï¼ŒSpring Cloudæ˜¯æ•´å¥—çš„å¾®æœåŠ¡è½åœ°æ–¹æ¡ˆï¼ŒDubboåªæ˜¯ä¸€ä¸ªå…·æœ‰å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„é«˜æ€§èƒ½RPCæ¡†æž¶ï¼Œè®ºåŠŸèƒ½Dubboåªæ˜¯Spring Cloudçš„ä¸€ä¸ªå­é›†ï¼‰ï¼Œä»€ä¹ˆRediså’ŒMongoDBæ¯”ï¼ŒESå’ŒSolræ¯”ï¼Œå„ç§MQçš„æ¯”è¾ƒï¼Œå…¶å®žæˆ‘è§‰å¾—é—®è¿™äº›é¢è¯•é¢˜æ˜¯æœ‰å±€é™æ€§çš„ï¼Œæ²¡æœ‰å…·ä½“ä¸šåŠ¡åœºæ™¯å°±æ˜¯æ— è§£ï¼Œå…·ä½“é€‰åž‹è¿˜æ˜¯è¦æ ¹æ®å½“å‰å…¬å¸çš„çŽ°æœ‰ä¸šåŠ¡å’Œç³»ç»ŸçŽ°çŠ¶æ¥é€‰åž‹ã€‚æˆ‘è§‰å¾—é¢è¯•å®˜åº”è¯¥å…ˆæŠŠå…¬å¸çš„ä¸šåŠ¡åœºæ™¯è¯´å‡ºæ¥ï¼Œç„¶åŽåº”è˜è€…æ ¹æ®å…¬å¸çš„ä¸šåŠ¡è¿›è¡Œå®¢è§‚æ€§è¯„å®šã€‚ å¥½äº†ï¼Œè¨€å½’æ­£ä¼ ï¼Œå¸¸è§çš„é«˜çº§çš„MQäº§å“æœ‰RabbitMQã€Apache ActiveMQã€Apache RocketMQ(Alibabaæèµ )ã€Apache Kafka(LinkedInæèµ ) ã€‚é‚£ä¹ˆï¼Œä»Šå¤©æˆ‘è¿™é‡Œé€‰æ‹©RabbitMQè¿›è¡Œå­¦ä¹ ï¼Œå…¶ä»–MQå­¦ä¹ éƒ½æ˜¯ç›¸é€šçš„ï¼Œè¯»è€…å¯æ ¹æ®è‡ªèº«æƒ…å†µé˜…è¯»å®˜ç½‘æ–‡æ¡£å¹¶è¿›è¡Œå­¦ä¹ ã€‚æˆ‘è¿™é‡Œåªæ˜¯ä»‹ç»ä¸€ç§å­¦ä¹ æ–¹å¼ã€‚ä¸‹é¢ä»Žå®˜æ–¹æ–‡æ¡£ä»¥åŠå…¶ä»–èµ„æ–™ç»™å¤§å®¶è¿›è¡Œæ¢³ç†RabbitMQç³»åˆ—çš„çŸ¥è¯†ã€‚ MQæ¶ˆæ¯é˜Ÿåˆ—MQæ¦‚è¿°æ¶ˆæ¯é˜Ÿåˆ—æŠ€æœ¯æ˜¯åˆ†å¸ƒå¼åº”ç”¨é—´äº¤æ¢ä¿¡æ¯çš„ä¸€ç§æŠ€æœ¯ã€‚ æ¶ˆæ¯é˜Ÿåˆ—å¯é©»ç•™åœ¨å†…å­˜æˆ–ç£ç›˜ä¸Š,é˜Ÿåˆ—å­˜å‚¨æ¶ˆæ¯ç›´åˆ°å®ƒä»¬è¢«åº”ç”¨ç¨‹åºè¯»èµ°ã€‚ é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåº”ç”¨ç¨‹åºå¯ç‹¬ç«‹åœ°æ‰§è¡Œã€‚å®ƒä»¬ä¸éœ€è¦çŸ¥é“å½¼æ­¤çš„ä½ç½®ã€æˆ–åœ¨ç»§ç»­æ‰§è¡Œå‰ä¸éœ€è¦ç­‰å¾…æŽ¥æ”¶ç¨‹åºæŽ¥æ”¶æ­¤æ¶ˆæ¯ã€‚ MQä¸»è¦ä½œç”¨æ˜¯æŽ¥å—å’Œè½¬å‘æ¶ˆæ¯ã€‚ä½ å¯ä»¥æƒ³æƒ³åœ¨ç”Ÿæ´»ä¸­çš„ä¸€ç§åœºæ™¯ï¼šå½“ä½ æŠŠä¿¡ä»¶çš„æŠ•è¿›é‚®ç­’ï¼Œé‚®é€’å‘˜è‚¯å®šæœ€ç»ˆä¼šå°†ä¿¡ä»¶é€ç»™æ”¶ä»¶äººã€‚æˆ‘ä»¬å¯ä»¥æŠŠMQæ¯”ä½œ é‚®å±€å’Œé‚®é€’å‘˜ã€‚ MQå’Œé‚®å±€çš„ä¸»è¦åŒºåˆ«æ˜¯,å®ƒä¸å¤„ç†æ¶ˆæ¯,ä½†æ˜¯,å®ƒä¼šæŽ¥å—æ•°æ®ã€å­˜å‚¨æ¶ˆæ¯æ•°æ®ã€è½¬å‘æ¶ˆæ¯ã€‚ MQåº”ç”¨åœºæ™¯ åº”ç”¨è§£è€¦: ç³»ç»Ÿå¼‚æ­¥åŒ–æ”¹é€ ï¼› ç”¨æˆ·æ³¨å†ŒåŽçš„é‚®ä»¶å‘é€ã€éªŒè¯ç çŸ­ä¿¡å‘é€ï¼› åˆ†å¸ƒå¼å»¶æ—¶é˜Ÿåˆ—åº”ç”¨ï¼Œç”¨æˆ·ä¸‹å•åŽï¼Œ24å°æ—¶æœªæ”¯ä»˜ï¼Œéœ€è¦å–æ¶ˆè®¢å•ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸‹å•æ—¶ç”¨MQå‘ä¸ªæ¶ˆæ¯é€šçŸ¥ä¸€ä¸‹ï¼Œå®¢æˆ·ç«¯å»¶æ—¶ï¼ˆä¸‹å•æ—¶é—´24å°æ—¶åŽï¼‰æ‰§è¡Œï¼Œæ¶ˆè´¹æˆåŠŸåˆ™è¯æ˜Žå–æ¶ˆè®¢å•æˆåŠŸã€‚ å¼‚æ­¥é€šçŸ¥åŠæ•°æ®åŒæ­¥: æå‡ç³»ç»Ÿæ€§èƒ½ï¼Œä¿è¯æ•°æ®æœ€ç»ˆä¸€è‡´æ€§ï¼› ç”¨æˆ·åœ¨ç®¡ç†é¡µé¢æ›´æ–°æ•°æ®ï¼Œé€šè¿‡MQå¼‚æ­¥é€šçŸ¥ï¼Œæ›´æ–°ç¼“å­˜ã€æ›´æ–°ESæˆ–Solrç´¢å¼• åº”ç”¨é™æµ: å¯ä»¥ä¿è¯å¹¶å‘åœºæ™¯ä¸‹ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼› æŠ¢ç¥¨ç³»ç»Ÿï¼Œåœ¨å¹¶å‘å¤§ç³»ç»Ÿæœ‰ç“¶é¢ˆçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å°†è¯·æ±‚æ‰“åˆ°MQé˜Ÿåˆ—ä¾æ¬¡é™æµæ¶ˆè´¹ã€‚ åˆ†å¸ƒå¼æ—¥å¿—ç³»ç»Ÿæ•°æ®å¾ˆå¤§çš„æ—¶å€™ï¼ŒMQä½œä¸ºåˆ†å¸ƒå¼æ—¥å¿—çš„ç¼“å†²å±‚ï¼Œå…¸åž‹åº”ç”¨å°±æ˜¯ELK+Kafakaã€‚ æ•°æ®åˆ†å‘: ä¸€å¯¹å¤šæˆ–å¹¿æ’­çš„æ¨¡å¼è¿›è¡Œæ•°æ®åˆ†å‘ï¼› æ”¯ä»˜å®ŒæˆåŽï¼Œéœ€è¦åŠæ—¶çš„é€šçŸ¥å­ç³»ç»Ÿï¼ˆè¿›é”€å­˜ç³»ç»Ÿå‘è´§ï¼Œç”¨æˆ·æœåŠ¡ç§¯åˆ†ï¼Œå‘é€çŸ­ä¿¡ï¼‰ åˆ†å¸ƒå¼äº‹åŠ¡: åˆ†å¸ƒå¼æž¶æž„çš„ç³»ç»Ÿå¯ä»¥é€šè¿‡MQçš„é˜Ÿåˆ—æ•°æ®è¿›è¡Œæ•°æ®å›žæ»šæ“ä½œ RabbitMQäº§å“ä»‹ç»RabbitMQäº§å“æ‰“å¼€RabbitMQå®˜ç½‘é¦–é¡µï¼Œèƒ½çœ‹åˆ°å¦‚ä¸‹çš„ä¸€å¥è¯: RabbitMQ is the most widely deployed open source message broker. ç¿»è¯‘ä¸ºï¼šRabbitMQæ˜¯éƒ¨ç½²æœ€å¹¿æ³›çš„å¼€æºæ¶ˆæ¯ä»£ç†ã€‚ RabbitMQæ˜¯ä¸€ä¸ªErlangå¼€å‘çš„AMQPï¼ˆAdvanced Message Queuing Protocol ï¼‰çš„å¼€æºå®žçŽ°ã€‚AMQP çš„å‡ºçŽ°å…¶å®žä¹Ÿæ˜¯åº”äº†å¹¿å¤§äººæ°‘ç¾¤ä¼—çš„éœ€æ±‚ï¼Œè™½ç„¶åœ¨åŒæ­¥æ¶ˆæ¯é€šè®¯çš„ä¸–ç•Œé‡Œæœ‰å¾ˆå¤šå…¬å¼€æ ‡å‡†ï¼ˆå¦‚ Cobarï¼‰çš„ IIOP ï¼Œæˆ–è€…æ˜¯ SOAP ç­‰ï¼‰ï¼Œä½†æ˜¯åœ¨å¼‚æ­¥æ¶ˆæ¯å¤„ç†ä¸­å´ä¸æ˜¯è¿™æ ·ï¼Œåªæœ‰å¤§ä¼ä¸šæœ‰ä¸€äº›å•†ä¸šå®žçŽ°ï¼ˆå¦‚å¾®è½¯çš„ MSMQ ï¼ŒIBM çš„ WebSphere MQ ç­‰ï¼‰ï¼Œå› æ­¤ï¼Œåœ¨ 2006 å¹´çš„ 6 æœˆï¼ŒCisco ã€Red Hatã€iMatix ç­‰è”åˆåˆ¶å®šäº† AMQP çš„å…¬å¼€æ ‡å‡†ã€‚ RabbitMQç”±RabbitMQ Technologies Ltdå¼€å‘å¹¶ä¸”æä¾›å•†ä¸šæ”¯æŒçš„ã€‚è¯¥å…¬å¸åœ¨2010å¹´4æœˆè¢«SpringSourceï¼ˆVMwareçš„ä¸€ä¸ªéƒ¨é—¨ï¼‰æ”¶è´­ã€‚åœ¨2013å¹´5æœˆè¢«å¹¶å…¥Pivotalã€‚å…¶å®žVMwareï¼ŒPivotalå’ŒEMCæœ¬è´¨ä¸Šæ˜¯ä¸€å®¶çš„ã€‚ä¸åŒçš„æ˜¯ï¼ŒVMwareæ˜¯ç‹¬ç«‹ä¸Šå¸‚å­å…¬å¸ï¼Œè€ŒPivotalæ˜¯æ•´åˆäº†EMCçš„æŸäº›èµ„æºï¼ŒçŽ°åœ¨å¹¶æ²¡æœ‰ä¸Šå¸‚ã€‚ RabbitMQäº§å“ç‰¹æ€§ å¼€æºå…è´¹ï¼› å¯ä¼¸ç¼©æ€§ï¼šé›†ç¾¤æœåŠ¡ï¼› æ¶ˆæ¯æŒä¹…åŒ–ï¼šä»Žå†…å­˜æŒä¹…åŒ–æ¶ˆæ¯åˆ°ç¡¬ç›˜ï¼Œå†ä»Žç¡¬ç›˜åŠ è½½åˆ°å†…å­˜ï¼› å¤šè¯­è¨€å¤šå®¢æˆ·ç«¯æ”¯æŒï¼Œæ”¯æŒPythonã€Javaã€Rubyã€PHPã€C#ã€JavaScriptã€Goã€Elixirã€Objective-Cã€Swiftã€Spring AMQPã€‚ RabbitMQå¸¸ç”¨æ¨¡å¼æ‰“å¼€å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬çœ¼å‰ä¸€äº®ï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹6ç§RabbitMQçš„å·¥ä½œæ¨¡å¼ï¼š 1. â€œHello World!â€ The simplest thing that does something Java Spring AMQP 2. Work queues Distributing tasks among workers (the competing consumers pattern) Java Spring AMQP 3. Publish/Subscribe Sending messages to many consumers at once Java Spring AMQP 4. RoutingReceiving messages selectively Java Spring AMQP 5. Topics The simplest thing that does something Java Spring AMQP 6. RPC Request/reply patternexample Java Spring AMQP çœ‹åˆ°ä¸Šè¿°çš„6ç§å·¥ä½œæ¨¡å¼ï¼Œå…¶ä¸­æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨æœ€å¤šçš„æ˜¯å‰5ç§æ¨¡å¼ï¼Œæˆ‘ä»¬åˆ—ä¸€ä¸ªå­¦ä¹ åˆ—è¡¨: ç®€å•æ¨¡å¼: ä¸€ä¸ªç”Ÿäº§è€…ï¼Œä¸€ä¸ªæ¶ˆè´¹è€… Workæ¨¡å¼: ä¸€ä¸ªç”Ÿäº§è€…ï¼Œå¤šä¸ªæ¶ˆè´¹è€…ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…èŽ·å–åˆ°çš„æ¶ˆæ¯å”¯ä¸€ã€‚ è®¢é˜…æ¨¡å¼: ä¸€ä¸ªç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ä¼šè¢«å¤šä¸ªæ¶ˆè´¹è€…èŽ·å–ã€‚ è·¯ç”±æ¨¡å¼: å‘é€æ¶ˆæ¯åˆ°äº¤æ¢æœºå¹¶ä¸”è¦æŒ‡å®šè·¯ç”±key ï¼Œæ¶ˆè´¹è€…å°†é˜Ÿåˆ—ç»‘å®šåˆ°äº¤æ¢æœºæ—¶éœ€è¦æŒ‡å®šè·¯ç”±key Topicæ¨¡å¼: å°†è·¯ç”±é”®å’ŒæŸæ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œæ­¤æ—¶é˜Ÿåˆ—éœ€è¦ç»‘å®šåœ¨ä¸€ä¸ªæ¨¡å¼ä¸Šï¼Œâ€œ#â€åŒ¹é…ä¸€ä¸ªè¯æˆ–å¤šä¸ªè¯ï¼Œâ€œ*â€åªåŒ¹é…ä¸€ä¸ªè¯ã€‚ RPCè¿œç¨‹è°ƒç”¨ï¼šå‡ ä¹Žä¸ç”¨ï¼Œæš‚æ—¶å…ˆä¸è€ƒè™‘ å‚è€ƒèµ„æ–™ RabbitMQå®˜ç½‘å¿«é€Ÿå…¥é—¨æ–‡æ¡£ ã€ŠRabbitMQå®žæˆ˜æŒ‡å—ã€‹æœ±å¿ åŽè‘— ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ—","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"http://ltyeamin.github.io/tags/RabbitMQ/"}]},{"title":"Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ","slug":"Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ","date":"2018-06-10T11:45:21.000Z","updated":"2020-01-08T13:06:40.746Z","comments":true,"path":"2018/06/10/Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ/","link":"","permalink":"http://ltyeamin.github.io/2018/06/10/Dockerå®‰è£…åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶-RabbitMQ/","excerpt":"","text":"RabbitMQæ˜¯æµè¡Œçš„å¼€æºæ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œé‡‡ç”¨å¤©ç”ŸæŠ—å¹¶å‘çš„erlangè¯­è¨€å¼€å‘ã€‚RabbitMQæ˜¯AMQPï¼ˆé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰çš„æ ‡å‡†å®žçŽ°ã€‚æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡Dockerçš„æ–¹å¼å®‰è£…RabbitMQã€‚ æŸ¥çœ‹RabbitMQç‰ˆæœ¬è¿›å…¥docker hubå®˜æ–¹é•œåƒä»“åº“æˆ–é˜¿é‡Œdockeré•œåƒåº“,æœç´¢rabbitmqé•œåƒã€‚ å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨å‘½ä»¤æœç´¢: 1docker search rabbitmq:management è¿™é‡Œï¼Œæˆ‘ä»¬ç”¨webé¡µé¢æœç´¢ï¼Œæœç´¢åŽç‚¹å‡»è¯¦æƒ…é¡µé¢ã€‚ è¿™é‡Œæˆ‘ä»¬é€‰æ‹©å¸¦æœ‰managementçš„ç‰ˆæœ¬ï¼Œæ­¤ç‰ˆæœ¬åŒ…å«webå¯è§†åŒ–ç®¡ç†é¡µé¢ã€‚ Dockeræ‹‰å–é•œåƒ1docker pull rabbitmq:3.7.14-management è¾“å…¥ä»¥ä¸Šå‘½ä»¤åŽï¼Œé•œåƒåˆ†ç‰‡å¼€å§‹ä¸‹è½½å¹¶å®Œæˆrabbitmqé•œåƒçš„åˆå¹¶ã€‚ä¸‹è½½å®ŒæˆåŽï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥è¯¢è¾“å…¥ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰æœ¬åœ°ä»“åº“æ‰€æœ‰çš„é•œåƒæ–‡ä»¶ã€‚ 1docker images å¦‚å›¾ åˆ›å»ºå¹¶å¯åŠ¨RabbitMQåº”ç”¨å®¹å™¨1docker run -d -p 5672:5672 -p 15672:15672 --name rabbitmq rabbitmq:3.7.14-management æ‰§è¡Œä¸Šè¿°å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªrabbitmqçš„dockerå®¹å™¨ï¼Œæ‰§è¡ŒæˆåŠŸåŽå›žè¿”å›ždockerå®¹å™¨IDã€‚ 12Yeamin:~ mac$ docker run -d -p 5672:5672 -p 15672:15672 --name rabbitmq rabbitmq:3.7.14-management5b2658f3fe04919883b4d0b3d2766220e1ecb983d715b5b6cbfec758634f2531 åˆ›å»ºå‚æ•°è§£é‡Š-d åŽå°è¿è¡Œå®¹å™¨ï¼› â€“name æŒ‡å®šå®¹å™¨åï¼› -p æŒ‡å®šæœåŠ¡è¿è¡Œçš„ç«¯å£ï¼ˆ5672ï¼šåº”ç”¨è®¿é—®ç«¯å£ï¼›15672ï¼šæŽ§åˆ¶å°Webç«¯å£å·ï¼‰ï¼› -v æ˜ å°„ç›®å½•æˆ–æ–‡ä»¶ï¼› â€“hostname ä¸»æœºåï¼ˆRabbitMQçš„ä¸€ä¸ªé‡è¦æ³¨æ„äº‹é¡¹æ˜¯å®ƒæ ¹æ®æ‰€è°“çš„ â€œèŠ‚ç‚¹åç§°â€ å­˜å‚¨æ•°æ®ï¼Œé»˜è®¤ä¸ºä¸»æœºåï¼‰ï¼› -e æŒ‡å®šçŽ¯å¢ƒå˜é‡ï¼›ï¼ˆRABBITMQ_DEFAULT_VHOSTï¼šé»˜è®¤è™šæ‹Ÿæœºåï¼›RABBITMQ_DEFAULT_USERï¼šé»˜è®¤çš„ç”¨æˆ·åï¼›RABBITMQ_DEFAULT_PASSï¼šé»˜è®¤ç”¨æˆ·åçš„å¯†ç ï¼Œæˆ‘è¿™é‡Œæ²¡é…ç½®ï¼‰ å¯åŠ¨rabbitmqåº”ç”¨å®¹å™¨æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œå¯åŠ¨ 1Docker start å®¹å™¨idå‰å››ä½ æˆ‘è¿™é‡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ‰§è¡Œ 1docker start 5b26 æŸ¥è¯¢è¿è¡ŒçŠ¶æ€æ‰§è¡Œdocker psæŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨çŠ¶æ€ 12345Yeamin:~ mac$ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES5b2658f3fe04 rabbitmq:3.7.14-management \"docker-entrypoint.sâ€¦\" 30 minutes ago Up 30 minutes 4369/tcp, 5671/tcp, 0.0.0.0:5672-&gt;5672/tcp, 15671/tcp, 25672/tcp, 0.0.0.0:15672-&gt;15672/tcp rabbitmq RabbitMQçš„WEBæŽ§åˆ¶å°åœ¨æµè§ˆå™¨æ‰“å¼€http://localhost:15672,è¿›å…¥ç™»å½•é¡µé¢ï¼Œé»˜è®¤è´¦å·å’Œå¯†ç éƒ½ä¸ºguestã€‚ å‚è€ƒèµ„æ–™ Dockerå®˜ç½‘ RabbitMQå®˜ç½‘","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://ltyeamin.github.io/tags/Docker/"}]},{"title":"ã€ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚","slug":"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚","date":"2018-06-09T16:12:11.000Z","updated":"2019-05-29T14:03:52.000Z","comments":true,"path":"2018/06/10/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚/","link":"","permalink":"http://ltyeamin.github.io/2018/06/10/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘çº¿ç¨‹æ± åº”ç”¨ä¹‹Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚/","excerpt":"","text":"ä»Šå¤©æˆ‘ä»¬æ¥è®¤è¯†ä¸€ä¸‹ï¼Œçº¿ç¨‹æ± çš„é™æ€å·¥åŽ‚Executorsç±»ï¼Œå¹³æ—¶å†™æµ‹è¯•ä»£ç çš„æ—¶å€™å¯ç”¨ä¸€ç”¨ï¼Œç”Ÿäº§ä»£ç å°½é‡å°‘ç”¨ã€‚ä¸ºä»€ä¹ˆè¯´ç”Ÿäº§ä¸Šå°½é‡å°‘ç”¨å‘¢ï¼Ÿè¿™æ˜¯æœ‰åŽŸå› çš„ï¼Œè¯·è€å¿ƒå¬å½¤å“¥è®²è§£ã€‚ é˜¿é‡Œçš„ä»£ç è§„çº¦ä¸å»ºè®®ä½¿ç”¨è¿™æ ·çš„å·¥åŽ‚ç±»ï¼Œè€Œå»ºè®®ä½¿ç”¨æ‰‹åŠ¨åˆ›å»ºå¹¶ç®¡ç†ThreadPoolExecutorï¼Œåœ¨é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œä¸­ï¼Œç¼–ç¨‹è§„çº¦ä¸‹çš„å¹¶å‘å¤„ç†è§„çº¦ç¬¬4ç‚¹å¦‚ä¸‹ï¼š ã€å¼ºåˆ¶ã€‘çº¿ç¨‹æ± ä¸å…è®¸ä½¿ç”¨ExecutorsåŽ»åˆ›å»ºï¼Œè€Œæ˜¯é€šè¿‡ThreadPoolExecutorçš„æ–¹å¼ï¼Œè¿™æ ·çš„å¤„ç†æ–¹å¼è®©å†™çš„åŒå­¦æ›´åŠ æ˜Žç¡®çº¿ç¨‹æ± çš„è¿è¡Œè§„åˆ™ï¼Œè§„é¿èµ„æºè€—å°½çš„é£Žé™©ã€‚è¯´æ˜Žï¼šExecutorsè¿”å›žçš„çº¿ç¨‹æ± å¯¹è±¡çš„å¼Šç«¯å¦‚ä¸‹ï¼š 1ï¼‰FixedThreadPoolå’ŒSingleThreadPool: å…è®¸çš„è¯·æ±‚é˜Ÿåˆ—é•¿åº¦ä¸ºInteger.MAX_VALUEï¼Œå¯èƒ½ä¼šå †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»Žè€Œå¯¼è‡´OOMã€‚ 2ï¼‰CachedThreadPoolå’ŒScheduledThreadPool: å…è®¸çš„åˆ›å»ºçº¿ç¨‹æ•°é‡ä¸ºInteger.MAX_VALUEï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤§é‡çš„çº¿ç¨‹ï¼Œä»Žè€Œå¯¼è‡´OOMã€‚ æ­£ä¾‹ 1ï¼š 1234&gt; //org.apache.commons.lang3.concurrent.BasicThreadFactory&gt; ScheduledExecutorService executorService = new ScheduledThreadPoolExecutor(1,&gt; new BasicThreadFactory.Builder().namingPattern(\"example-schedule-pool-%d\").daemon(true).build());&gt; æ­£ä¾‹ 2ï¼š 123456789&gt; ThreadFactory namedThreadFactory = new ThreadFactoryBuilder()&gt; .setNameFormat(\"demo-pool-%d\").build();&gt; //Common Thread Pool&gt; ExecutorService pool = new ThreadPoolExecutor(5, 200,&gt; 0L, TimeUnit.MILLISECONDS,&gt; new LinkedBlockingQueue&lt;Runnable&gt;(1024), namedThreadFactory, new ThreadPoolExecutor.AbortPolicy());&gt; pool.execute(()-&gt; System.out.println(Thread.currentThread().getName()));&gt; pool.shutdown();//gracefully shutdown &gt; 12345678910111213&gt; æ­£ä¾‹ 3ï¼š&gt; &lt;bean id=\"userThreadPool\" class=\"org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor\"&gt;&gt; &lt;property name=\"corePoolSize\" value=\"10\" /&gt;&gt; &lt;property name=\"maxPoolSize\" value=\"100\" /&gt;&gt; &lt;property name=\"queueCapacity\" value=\"2000\" /&gt;&gt; &lt;property name=\"threadFactory\" value= threadFactory /&gt;&gt; &lt;property name=\"rejectedExecutionHandler\"&gt;&gt; &lt;ref local=\"rejectedExecutionHandler\" /&gt;&gt; &lt;/property&gt;&gt; &lt;/bean&gt;&gt; //in code&gt; userThreadPool.execute(thread);&gt; çœ‹åˆ°å¦‚ä¸‹çš„è§„çº¦ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯æ²¡å¿…è¦å¾€ä¸‹å­¦äº†ï¼Ÿç­”æ¡ˆæ˜¯å½“ç„¶ä¸è¡Œçš„ï¼Œæˆ‘ä»¬è™½ç„¶ä¸æ€Žä¹ˆç”¨ï¼Œä½†æ˜¯ç ”ç©¶å…¶æºç ï¼Œå¯ä»¥è®©æˆ‘ä»¬æ›´æ·±å…¥çº¿ç¨‹æ± åŽŸç†ï¼ˆå¢žå¼ºå†…åŠ›ï¼‰ï¼Œä½¿å¾—æˆ‘ä»¬ä»¥åŽæ›´å®¹æ˜“è®¾è®¡çº¿ç¨‹æ± å¹¶èƒ½å¤Ÿé«˜æ•ˆç®¡ç†çº¿ç¨‹ï¼Œä»¥è‡³äºŽä¸åƒä»£ç è§„çº¦æè¿°çš„é‚£æ ·ï¼šç”¨è€Œä¸å½“å¯¼è‡´OOMçš„é—®é¢˜ã€‚ æºç åˆ†æžå¥½äº†ï¼Œè¯ä¸å¤šè¯´ï¼Œç›´æŽ¥ä¸Šèœ(æºç )ï¼Œå¤Ÿæˆ‘ä»¬ä»Šå¤©å–å‡ å£¶äº†ï¼Œå“ˆå“ˆã€‚ã€‚ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573package java.util.concurrent;import java.util.*;import java.util.concurrent.atomic.AtomicInteger;import java.security.AccessControlContext;import java.security.AccessController;import java.security.PrivilegedAction;import java.security.PrivilegedExceptionAction;import java.security.PrivilegedActionException;import java.security.AccessControlException;import sun.security.util.SecurityConstants;/** * Executorsçº¿ç¨‹æ± é™æ€å·¥åŽ‚ç±» */public class Executors &#123; /** * åˆ›å»ºé‡ç”¨å›ºå®šæ•°é‡çº¿ç¨‹çš„çº¿ç¨‹æ± ,ä½¿ç”¨çš„æ˜¯å…±äº«æ— å‚æ— è¾¹ç•Œé˜Ÿåˆ—ã€‚ * åœ¨ä»»ä½•æ—¶å€™ï¼Œæœ€å¤šçº¿ç¨‹å°†æ˜¯æ´»åŠ¨çš„å¤„ç†ä»»åŠ¡ã€‚ * å¦‚æžœåœ¨æ‰€æœ‰çº¿ç¨‹éƒ½å¤„äºŽæ´»åŠ¨çŠ¶æ€æ—¶æäº¤äº†å…¶ä»–ä»»åŠ¡ï¼Œå®ƒä»¬å°†åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ï¼Œç›´åˆ°çº¿ç¨‹å¯ç”¨ã€‚ * åœ¨å…³é—­ä¹‹å‰ï¼Œå¦‚æžœä»»ä½•çº¿ç¨‹åœ¨æ‰§è¡ŒæœŸé—´å› å¤±è´¥è€Œç»ˆæ­¢,å¦‚æžœéœ€è¦ï¼Œå°†æ›´æ¢ä¸€ä¸ªæ–°çš„ï¼Œæ‰§è¡ŒåŽç»­ä»»åŠ¡ã€‚ * æ± ä¸­çš„çº¿ç¨‹å°†å­˜åœ¨ç›´åˆ°å®ƒæ˜¾å¼executerserviceå…³é—­ã€‚ */ public static ExecutorService newFixedThreadPool(int nThreads) &#123; return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;()); &#125; /** * è¯¥æ–¹æ³•æ˜¯JDk8æä¾›çš„ã€‚ç‰¹æ®Šçš„çº¿ç¨‹æ± ï¼Œé‡‡ç”¨JDK1.7çš„ForkJoinPoolå®žçŽ° * åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œä»¥ç»´æŠ¤è¶³å¤Ÿçš„çº¿ç¨‹æ¥æ”¯æŒç»™å®šçš„å¹¶è¡Œçº§åˆ«ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šä¸ªé˜Ÿåˆ—æ¥å‡å°‘äº‰ç”¨ã€‚ * å¹³è¡Œåº¦çº§åˆ«å¯¹åº”äºŽä¸»åŠ¨å‚ä¸Žæˆ–å¯ç”¨äºŽçš„çº¿ç¨‹çš„æœ€å¤§æ•°ç›®ä»Žäº‹ï¼Œä»»åŠ¡å¤„ç†ã€‚ * å®žé™…çº¿ç¨‹æ•°å¯èƒ½åŠ¨æ€å¢žé•¿å’Œæ”¶ç¼©ã€‚å·å·¥å‡æ–™æ˜¯ä¸è¡Œçš„ï¼Œä¿è¯æäº¤ä»»åŠ¡çš„é¡ºåºæ‰§è¡Œã€‚ * * @param å¹¶è¡Œçº§åˆ« */ public static ExecutorService newWorkStealingPool(int parallelism) &#123; return new ForkJoinPool (parallelism, ForkJoinPool.defaultForkJoinWorkerThreadFactory, null, true); &#125; /** * é‡è½½æ–¹æ³•: åªæ˜¯é»˜è®¤å‚æ•°ç”¨çš„æ˜¯å½“å‰æœºå™¨å¯åˆ©ç”¨CPUæ ¸æ•° */ public static ExecutorService newWorkStealingPool() &#123; return new ForkJoinPool (Runtime.getRuntime().availableProcessors(), ForkJoinPool.defaultForkJoinWorkerThreadFactory, null, true); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºé‡ç”¨å›ºå®šæ•°é‡çº¿ç¨‹çš„çº¿ç¨‹æ±  * åªä¸è¿‡å‚æ•°å¤šäº†ä¸€ä¸ªï¼Œå¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± å·¥åŽ‚ */ public static ExecutorService newFixedThreadPool(int nThreads, ThreadFactory threadFactory) &#123; return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(), threadFactory); &#125; /** * åˆ›å»ºä½¿ç”¨å•ä¸ªå·¥ä½œçº¿ç¨‹æ“ä½œçš„æ‰§è¡Œå™¨ï¼Œå³å•çº¿ç¨‹å·¥ä½œæ¨¡å¼ï¼Œä¸å¯é…ç½®çº¿ç¨‹çš„å¤§å°ã€‚ * ä¹Ÿæ˜¯åœ¨ä¸€ä¸ªæ— è¾¹ç•Œçš„é˜Ÿåˆ—ä¸­è¿è¡Œçš„ã€‚ç›¸å½“äºŽnewFixedThreadPool(1)ï¼Œ * åœ¨ä»»ä½•æ—¶åˆ»ï¼Œå½“å‰çº¿ç¨‹æ± åªæœ‰1ä¸ªæ´»åŠ¨çº¿ç¨‹ï¼Œä¸å¯èƒ½å‡ºçŽ°å…¶ä»–çš„å·¥ä½œçº¿ç¨‹ã€‚ */ public static ExecutorService newSingleThreadExecutor() &#123; return new FinalizableDelegatedExecutorService (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;())); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä½¿ç”¨å•ä¸ªå·¥ä½œçº¿ç¨‹æ“ä½œçš„æ‰§è¡Œå™¨ï¼Œå³å•çº¿ç¨‹å·¥ä½œæ¨¡å¼ï¼Œä¸å¯é…ç½®çº¿ç¨‹çš„å¤§å°ã€‚ * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± å·¥åŽ‚ */ public static ExecutorService newSingleThreadExecutor(ThreadFactory threadFactory) &#123; return new FinalizableDelegatedExecutorService (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(), threadFactory)); &#125; /** * åˆ›å»ºä¸€ä¸ªå¯é‡ç”¨çš„çº¿ç¨‹æ± : æ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹ï¼Œä½†å°†é‡ç”¨ä»¥å‰æž„é€ çš„çº¿ç¨‹å¯ç”¨ã€‚ * æ‰§è¡Œè®¸å¤šçŸ­æœŸå¼‚æ­¥ä»»åŠ¡çš„ç¨‹åºï¼Œä½¿ç”¨è¿™ç±»çº¿ç¨‹æ± å¯ä»¥æå‡ç¨‹åºæ€§èƒ½ã€‚ * å¦‚æžœæ²¡æœ‰çº¿ç¨‹å¯ç”¨ï¼Œåˆ™çº¿ç¨‹è¢«åˆ›å»ºå¹¶æ·»åŠ åˆ°æ± ä¸­ã€‚ * å…·æœ‰60ç§’æœªä½¿ç”¨çš„çº¿ç¨‹ï¼Œçº¿ç¨‹æ± åˆ™å›žæ”¶è¯¥çº¿ç¨‹ã€‚ * å¦‚æžœçº¿ç¨‹å¯ç”¨ï¼Œåˆ™é‡ç”¨ä¹‹å‰çš„æ´»åŠ¨çº¿ç¨‹ã€‚ * å¦‚æžœä½¿ç”¨ä¸å½“å¯èƒ½å¯¼è‡´OOMã€‚ */ public static ExecutorService newCachedThreadPool() &#123; return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;()); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä¸€ä¸ªå¯é‡ç”¨çš„çº¿ç¨‹æ±  * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± å·¥åŽ‚ * å¦‚æžœä½¿ç”¨ä¸å½“å¯èƒ½å¯¼è‡´OOMã€‚ */ public static ExecutorService newCachedThreadPool(ThreadFactory threadFactory) &#123; return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;(), threadFactory); &#125; /** * åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹çš„å»¶è¿Ÿä»»åŠ¡çº¿ç¨‹æ± ï¼Œå¯ä»£æ›¿Timer(ä½¿ç”¨ç¹çï¼Œçº¿ç¨‹ä¸å®‰å…¨ç±»)ï¼Œ */ public static ScheduledExecutorService newSingleThreadScheduledExecutor() &#123; return new DelegatedScheduledExecutorService (new ScheduledThreadPoolExecutor(1)); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹çš„å»¶è¿Ÿä»»åŠ¡çº¿ç¨‹æ± ï¼Œå¯ä»£æ›¿Timer(ä½¿ç”¨ç¹çï¼Œçº¿ç¨‹ä¸å®‰å…¨ç±»)ï¼Œ * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± å·¥åŽ‚ * */ public static ScheduledExecutorService newSingleThreadScheduledExecutor(ThreadFactory threadFactory) &#123; return new DelegatedScheduledExecutorService (new ScheduledThreadPoolExecutor(1, threadFactory)); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä¸€ä¸ªå»¶è¿Ÿä»»åŠ¡çº¿ç¨‹æ±  * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± æ ¸å¿ƒå¤§å° * */ public static ScheduledExecutorService newScheduledThreadPool(int corePoolSize) &#123; return new ScheduledThreadPoolExecutor(corePoolSize); &#125; /** * é‡è½½æ–¹æ³•: åˆ›å»ºä¸€ä¸ªå»¶è¿Ÿä»»åŠ¡çº¿ç¨‹æ±  * åªä¸è¿‡å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹æ± æ ¸å¿ƒå¤§å°å’Œæœ€å¤§çº¿ç¨‹æ•°é‡ * */ public static ScheduledExecutorService newScheduledThreadPool( int corePoolSize, ThreadFactory threadFactory) &#123; return new ScheduledThreadPoolExecutor(corePoolSize, threadFactory); &#125; /** * Returns an object that delegates all defined &#123;@link * ExecutorService&#125; methods to the given executor, but not any * other methods that might otherwise be accessible using * casts. This provides a way to safely \"freeze\" configuration and * disallow tuning of a given concrete implementation. * @param executor the underlying implementation * @return an &#123;@code ExecutorService&#125; instance * @throws NullPointerException if executor null */ public static ExecutorService unconfigurableExecutorService(ExecutorService executor) &#123; if (executor == null) throw new NullPointerException(); return new DelegatedExecutorService(executor); &#125; /** * Returns an object that delegates all defined &#123;@link * ScheduledExecutorService&#125; methods to the given executor, but * not any other methods that might otherwise be accessible using * casts. This provides a way to safely \"freeze\" configuration and * disallow tuning of a given concrete implementation. * @param executor the underlying implementation * @return a &#123;@code ScheduledExecutorService&#125; instance * @throws NullPointerException if executor null */ public static ScheduledExecutorService unconfigurableScheduledExecutorService(ScheduledExecutorService executor) &#123; if (executor == null) throw new NullPointerException(); return new DelegatedScheduledExecutorService(executor); &#125; /** * Returns a default thread factory used to create new threads. * This factory creates all new threads used by an Executor in the * same &#123;@link ThreadGroup&#125;. If there is a &#123;@link * java.lang.SecurityManager&#125;, it uses the group of &#123;@link * System#getSecurityManager&#125;, else the group of the thread * invoking this &#123;@code defaultThreadFactory&#125; method. Each new * thread is created as a non-daemon thread with priority set to * the smaller of &#123;@code Thread.NORM_PRIORITY&#125; and the maximum * priority permitted in the thread group. New threads have names * accessible via &#123;@link Thread#getName&#125; of * &lt;em&gt;pool-N-thread-M&lt;/em&gt;, where &lt;em&gt;N&lt;/em&gt; is the sequence * number of this factory, and &lt;em&gt;M&lt;/em&gt; is the sequence number * of the thread created by this factory. * @return a thread factory */ public static ThreadFactory defaultThreadFactory() &#123; return new DefaultThreadFactory(); &#125; /** * Returns a thread factory used to create new threads that * have the same permissions as the current thread. * This factory creates threads with the same settings as &#123;@link * Executors#defaultThreadFactory&#125;, additionally setting the * AccessControlContext and contextClassLoader of new threads to * be the same as the thread invoking this * &#123;@code privilegedThreadFactory&#125; method. A new * &#123;@code privilegedThreadFactory&#125; can be created within an * &#123;@link AccessController#doPrivileged AccessController.doPrivileged&#125; * action setting the current thread's access control context to * create threads with the selected permission settings holding * within that action. * * &lt;p&gt;Note that while tasks running within such threads will have * the same access control and class loader settings as the * current thread, they need not have the same &#123;@link * java.lang.ThreadLocal&#125; or &#123;@link * java.lang.InheritableThreadLocal&#125; values. If necessary, * particular values of thread locals can be set or reset before * any task runs in &#123;@link ThreadPoolExecutor&#125; subclasses using * &#123;@link ThreadPoolExecutor#beforeExecute(Thread, Runnable)&#125;. * Also, if it is necessary to initialize worker threads to have * the same InheritableThreadLocal settings as some other * designated thread, you can create a custom ThreadFactory in * which that thread waits for and services requests to create * others that will inherit its values. * * @return a thread factory * @throws AccessControlException if the current access control * context does not have permission to both get and set context * class loader */ public static ThreadFactory privilegedThreadFactory() &#123; return new PrivilegedThreadFactory(); &#125; /** * Returns a &#123;@link Callable&#125; object that, when * called, runs the given task and returns the given result. This * can be useful when applying methods requiring a * &#123;@code Callable&#125; to an otherwise resultless action. * @param task the task to run * @param result the result to return * @param &lt;T&gt; the type of the result * @return a callable object * @throws NullPointerException if task null */ public static &lt;T&gt; Callable&lt;T&gt; callable(Runnable task, T result) &#123; if (task == null) throw new NullPointerException(); return new RunnableAdapter&lt;T&gt;(task, result); &#125; /** * Returns a &#123;@link Callable&#125; object that, when * called, runs the given task and returns &#123;@code null&#125;. * @param task the task to run * @return a callable object * @throws NullPointerException if task null */ public static Callable&lt;Object&gt; callable(Runnable task) &#123; if (task == null) throw new NullPointerException(); return new RunnableAdapter&lt;Object&gt;(task, null); &#125; /** * Returns a &#123;@link Callable&#125; object that, when * called, runs the given privileged action and returns its result. * @param action the privileged action to run * @return a callable object * @throws NullPointerException if action null */ public static Callable&lt;Object&gt; callable(final PrivilegedAction&lt;?&gt; action) &#123; if (action == null) throw new NullPointerException(); return new Callable&lt;Object&gt;() &#123; public Object call() &#123; return action.run(); &#125;&#125;; &#125; /** * Returns a &#123;@link Callable&#125; object that, when * called, runs the given privileged exception action and returns * its result. * @param action the privileged exception action to run * @return a callable object * @throws NullPointerException if action null */ public static Callable&lt;Object&gt; callable(final PrivilegedExceptionAction&lt;?&gt; action) &#123; if (action == null) throw new NullPointerException(); return new Callable&lt;Object&gt;() &#123; public Object call() throws Exception &#123; return action.run(); &#125;&#125;; &#125; /** * Returns a &#123;@link Callable&#125; object that will, when called, * execute the given &#123;@code callable&#125; under the current access * control context. This method should normally be invoked within * an &#123;@link AccessController#doPrivileged AccessController.doPrivileged&#125; * action to create callables that will, if possible, execute * under the selected permission settings holding within that * action; or if not possible, throw an associated &#123;@link * AccessControlException&#125;. * @param callable the underlying task * @param &lt;T&gt; the type of the callable's result * @return a callable object * @throws NullPointerException if callable null */ public static &lt;T&gt; Callable&lt;T&gt; privilegedCallable(Callable&lt;T&gt; callable) &#123; if (callable == null) throw new NullPointerException(); return new PrivilegedCallable&lt;T&gt;(callable); &#125; public static &lt;T&gt; Callable&lt;T&gt; privilegedCallableUsingCurrentClassLoader(Callable&lt;T&gt; callable) &#123; if (callable == null) throw new NullPointerException(); return new PrivilegedCallableUsingCurrentClassLoader&lt;T&gt;(callable); &#125; // Non-public classes supporting the public methods /** * è¿è¡Œç»™å®šä»»åŠ¡å¹¶è¿”å›žç»™å®šç»“æžœçš„å¯è°ƒç”¨æ–‡ä»¶ */ static final class RunnableAdapter&lt;T&gt; implements Callable&lt;T&gt; &#123; final Runnable task; final T result; RunnableAdapter(Runnable task, T result) &#123; this.task = task; this.result = result; &#125; public T call() &#123; task.run(); return result; &#125; &#125; /** * åœ¨å·²å»ºç«‹çš„è®¿é—®æŽ§åˆ¶è®¾ç½®ä¸‹è¿è¡Œçš„å¯è°ƒç”¨æ–‡ä»¶ */ static final class PrivilegedCallable&lt;T&gt; implements Callable&lt;T&gt; &#123; private final Callable&lt;T&gt; task; private final AccessControlContext acc; PrivilegedCallable(Callable&lt;T&gt; task) &#123; this.task = task; this.acc = AccessController.getContext(); &#125; public T call() throws Exception &#123; try &#123; return AccessController.doPrivileged( new PrivilegedExceptionAction&lt;T&gt;() &#123; public T run() throws Exception &#123; return task.call(); &#125; &#125;, acc); &#125; catch (PrivilegedActionException e) &#123; throw e.getException(); &#125; &#125; &#125; /** * åœ¨å·²å»ºç«‹çš„è®¿é—®æŽ§åˆ¶è®¾ç½®å’Œå½“å‰ç±»åŠ è½½å™¨ä¸‹è¿è¡Œçš„å¯è°ƒç”¨æ–‡ä»¶ã€‚ */ static final class PrivilegedCallableUsingCurrentClassLoader&lt;T&gt; implements Callable&lt;T&gt; &#123; private final Callable&lt;T&gt; task; private final AccessControlContext acc; private final ClassLoader ccl; PrivilegedCallableUsingCurrentClassLoader(Callable&lt;T&gt; task) &#123; SecurityManager sm = System.getSecurityManager(); if (sm != null) &#123; // Calls to getContextClassLoader from this class // never trigger a security check, but we check // whether our callers have this permission anyways. sm.checkPermission(SecurityConstants.GET_CLASSLOADER_PERMISSION); // Whether setContextClassLoader turns out to be necessary // or not, we fail fast if permission is not available. sm.checkPermission(new RuntimePermission(\"setContextClassLoader\")); &#125; this.task = task; this.acc = AccessController.getContext(); this.ccl = Thread.currentThread().getContextClassLoader(); &#125; public T call() throws Exception &#123; try &#123; return AccessController.doPrivileged( new PrivilegedExceptionAction&lt;T&gt;() &#123; public T run() throws Exception &#123; Thread t = Thread.currentThread(); ClassLoader cl = t.getContextClassLoader(); if (ccl == cl) &#123; return task.call(); &#125; else &#123; t.setContextClassLoader(ccl); try &#123; return task.call(); &#125; finally &#123; t.setContextClassLoader(cl); &#125; &#125; &#125; &#125;, acc); &#125; catch (PrivilegedActionException e) &#123; throw e.getException(); &#125; &#125; &#125; /** * é»˜è®¤çº¿ç¨‹å·¥åŽ‚ */ static class DefaultThreadFactory implements ThreadFactory &#123; private static final AtomicInteger poolNumber = new AtomicInteger(1); private final ThreadGroup group; private final AtomicInteger threadNumber = new AtomicInteger(1); private final String namePrefix; DefaultThreadFactory() &#123; SecurityManager s = System.getSecurityManager(); group = (s != null) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup(); namePrefix = \"pool-\" + poolNumber.getAndIncrement() + \"-thread-\"; &#125; public Thread newThread(Runnable r) &#123; Thread t = new Thread(group, r, namePrefix + threadNumber.getAndIncrement(), 0); if (t.isDaemon()) t.setDaemon(false); if (t.getPriority() != Thread.NORM_PRIORITY) t.setPriority(Thread.NORM_PRIORITY); return t; &#125; &#125; /** * çº¿ç¨‹å·¥åŽ‚æ•èŽ·è®¿é—®æŽ§åˆ¶ä¸Šä¸‹æ–‡å’Œç±»åŠ è½½å™¨ */ static class PrivilegedThreadFactory extends DefaultThreadFactory &#123; private final AccessControlContext acc; private final ClassLoader ccl; PrivilegedThreadFactory() &#123; super(); SecurityManager sm = System.getSecurityManager(); if (sm != null) &#123; // Calls to getContextClassLoader from this class // never trigger a security check, but we check // whether our callers have this permission anyways. sm.checkPermission(SecurityConstants.GET_CLASSLOADER_PERMISSION); // Fail fast sm.checkPermission(new RuntimePermission(\"setContextClassLoader\")); &#125; this.acc = AccessController.getContext(); this.ccl = Thread.currentThread().getContextClassLoader(); &#125; public Thread newThread(final Runnable r) &#123; return super.newThread(new Runnable() &#123; public void run() &#123; AccessController.doPrivileged(new PrivilegedAction&lt;Void&gt;() &#123; public Void run() &#123; Thread.currentThread().setContextClassLoader(ccl); r.run(); return null; &#125; &#125;, acc); &#125; &#125;); &#125; &#125; /** * ä»…å…¬å¼€ExecutorServiceæ–¹æ³•çš„åŒ…è£…ç±» * æ‰§è¡Œå™¨æœåŠ¡çš„å®žçŽ°ç±» */ static class DelegatedExecutorService extends AbstractExecutorService &#123; private final ExecutorService e; DelegatedExecutorService(ExecutorService executor) &#123; e = executor; &#125; public void execute(Runnable command) &#123; e.execute(command); &#125; public void shutdown() &#123; e.shutdown(); &#125; public List&lt;Runnable&gt; shutdownNow() &#123; return e.shutdownNow(); &#125; public boolean isShutdown() &#123; return e.isShutdown(); &#125; public boolean isTerminated() &#123; return e.isTerminated(); &#125; public boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException &#123; return e.awaitTermination(timeout, unit); &#125; public Future&lt;?&gt; submit(Runnable task) &#123; return e.submit(task); &#125; public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) &#123; return e.submit(task); &#125; public &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result) &#123; return e.submit(task, result); &#125; public &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException &#123; return e.invokeAll(tasks); &#125; public &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException &#123; return e.invokeAll(tasks, timeout, unit); &#125; public &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException, ExecutionException &#123; return e.invokeAny(tasks); &#125; public &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException &#123; return e.invokeAny(tasks, timeout, unit); &#125; &#125; static class FinalizableDelegatedExecutorService extends DelegatedExecutorService &#123; FinalizableDelegatedExecutorService(ExecutorService executor) &#123; super(executor); &#125; protected void finalize() &#123; super.shutdown(); &#125; &#125; /** * ä»…å…¬å¼€ScheduledExecutorServiceçš„åŒ…è£…ç±» * ScheduledExecutorServiceå®žçŽ°çš„æ–¹æ³• */ static class DelegatedScheduledExecutorService extends DelegatedExecutorService implements ScheduledExecutorService &#123; private final ScheduledExecutorService e; DelegatedScheduledExecutorService(ScheduledExecutorService executor) &#123; super(executor); e = executor; &#125; public ScheduledFuture&lt;?&gt; schedule(Runnable command, long delay, TimeUnit unit) &#123; return e.schedule(command, delay, unit); &#125; public &lt;V&gt; ScheduledFuture&lt;V&gt; schedule(Callable&lt;V&gt; callable, long delay, TimeUnit unit) &#123; return e.schedule(callable, delay, unit); &#125; public ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable command, long initialDelay, long period, TimeUnit unit) &#123; return e.scheduleAtFixedRate(command, initialDelay, period, unit); &#125; public ScheduledFuture&lt;?&gt; scheduleWithFixedDelay(Runnable command, long initialDelay, long delay, TimeUnit unit) &#123; return e.scheduleWithFixedDelay(command, initialDelay, delay, unit); &#125; &#125; /** ä¸å…è®¸å®žä¾‹åŒ– */ private Executors() &#123;&#125;&#125; å¸¸ç”¨æ–¹æ³•FixedThreadPoolFixedThreadPoolï¼Œå¯é‡ç”¨å›ºå®šçº¿ç¨‹æ•°çš„çº¿ç¨‹æ± ã€‚ corePoolSize å’Œ maximumPoolSizeéƒ½è®¾ç½®ä¸ºåˆ›å»ºFixedThreadPoolæ—¶æŒ‡å®šçš„å‚æ•°nThreadsï¼Œæ„å‘³ç€å½“çº¿ç¨‹æ± æ»¡æ—¶ä¸”é˜»å¡žé˜Ÿåˆ—ä¹Ÿå·²ç»æ»¡æ—¶ï¼Œå¦‚æžœç»§ç»­æäº¤ä»»åŠ¡ï¼Œåˆ™ä¼šç›´æŽ¥èµ°æ‹’ç»ç­–ç•¥ï¼Œè¯¥çº¿ç¨‹æ± ä¸ä¼šå†æ–°å»ºçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œè€Œæ˜¯ç›´æŽ¥èµ°æ‹’ç»ç­–ç•¥ã€‚FixedThreadPoolä½¿ç”¨çš„æ˜¯é»˜è®¤çš„æ‹’ç»ç­–ç•¥ï¼Œå³AbortPolicyï¼Œåˆ™ç›´æŽ¥æŠ›å‡ºå¼‚å¸¸ã€‚ keepAliveTimeè®¾ç½®ä¸º0Lï¼Œè¡¨ç¤ºç©ºé—²çš„çº¿ç¨‹ä¼šç«‹åˆ»ç»ˆæ­¢ã€‚ workQueueåˆ™æ˜¯ä½¿ç”¨LinkedBlockingQueueï¼Œä½†æ˜¯æ²¡æœ‰è®¾ç½®èŒƒå›´ï¼Œé‚£ä¹ˆåˆ™æ˜¯æœ€å¤§å€¼ï¼ˆInteger.MAX_VALUEï¼‰ï¼Œè¿™åŸºæœ¬å°±ç›¸å½“äºŽä¸€ä¸ªæ— ç•Œé˜Ÿåˆ—äº†ã€‚ä½¿ç”¨è¯¥â€œæ— ç•Œé˜Ÿåˆ—â€åˆ™ä¼šå¸¦æ¥å“ªäº›å½±å“å‘¢ï¼Ÿå½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°é‡ç­‰äºŽcorePoolSize æ—¶ï¼Œå¦‚æžœç»§ç»­æäº¤ä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡ä¼šè¢«æ·»åŠ åˆ°é˜»å¡žé˜Ÿåˆ—workQueueä¸­ï¼Œå½“é˜»å¡žé˜Ÿåˆ—ä¹Ÿæ»¡äº†ä¹‹åŽï¼Œåˆ™çº¿ç¨‹æ± ä¼šæ–°å»ºçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ç›´åˆ°maximumPoolSizeã€‚ç”±äºŽFixedThreadPoolä½¿ç”¨çš„æ˜¯â€œæ— ç•Œé˜Ÿåˆ—â€LinkedBlockingQueueï¼Œé‚£ä¹ˆmaximumPoolSizeå‚æ•°æ— æ•ˆï¼ŒåŒæ—¶æŒ‡å®šçš„æ‹’ç»ç­–ç•¥AbortPolicyä¹Ÿå°†æ— æ•ˆã€‚è€Œä¸”è¯¥çº¿ç¨‹æ± ä¹Ÿä¸ä¼šæ‹’ç»æäº¤çš„ä»»åŠ¡ï¼Œå¦‚æžœå®¢æˆ·ç«¯æäº¤ä»»åŠ¡çš„é€Ÿåº¦å¿«äºŽä»»åŠ¡çš„æ‰§è¡Œï¼Œé‚£ä¹ˆkeepAliveTimeä¹Ÿæ˜¯ä¸€ä¸ªæ— æ•ˆå‚æ•°ã€‚ SingleThreadExecutorSingleThreadExecutoræ˜¯ä½¿ç”¨å•ä¸ªworkerçº¿ç¨‹çš„Executorï¼Œå³å•çº¿ç¨‹å·¥ä½œæ¨¡å¼ã€‚ ä½œä¸ºå•ä¸€workerçº¿ç¨‹çš„çº¿ç¨‹æ± ï¼ŒSingleThreadExecutoræŠŠcorePoolå’ŒmaximumPoolSizeå‡è¢«è®¾ç½®ä¸º1ï¼Œå’ŒFixedThreadPoolä¸€æ ·ä½¿ç”¨çš„æ˜¯æ— ç•Œé˜Ÿåˆ—LinkedBlockingQueue,æ‰€ä»¥å¸¦æ¥çš„å½±å“å’ŒFixedThreadPoolä¸€æ ·ã€‚ CachedThreadPoolCachedThreadPoolæ˜¯ä¸€ä¸ªä¼šæ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹çš„çº¿ç¨‹æ±  ã€‚ CachedThreadPoolçš„corePoolä¸º0ï¼ŒmaximumPoolSizeä¸ºInteger.MAX_VALUEï¼Œè¿™å°±æ„å‘³ç€æ‰€æœ‰çš„ä»»åŠ¡ä¸€æäº¤å°±ä¼šåŠ å…¥åˆ°é˜»å¡žé˜Ÿåˆ—ä¸­ã€‚keepAliveTimeè¿™æ˜¯ä¸º60Lï¼Œunitè®¾ç½®ä¸ºTimeUnit.SECONDSï¼Œæ„å‘³ç€ç©ºé—²çº¿ç¨‹ç­‰å¾…æ–°ä»»åŠ¡çš„æœ€é•¿æ—¶é—´ä¸º60ç§’ï¼Œç©ºé—²çº¿ç¨‹è¶…è¿‡60ç§’åŽå°†ä¼šè¢«ç»ˆæ­¢ã€‚é˜»å¡žé˜Ÿåˆ—é‡‡ç”¨çš„SynchronousQueueï¼Œæˆ‘ä»¬äº†è§£åˆ°SynchronousQueueæ˜¯ä¸€ä¸ªæ²¡æœ‰å…ƒç´ çš„é˜»å¡žé˜Ÿåˆ—(æ¦‚å¿µä¸Šçš„æ— ç•Œï¼Œå…¶å®žæ˜¯æœ‰ç•Œçš„)ï¼ŒåŠ ä¸ŠcorePool = 0 ï¼ŒmaximumPoolSize = Integer.MAX_VALUEï¼Œè¿™æ ·å°±ä¼šå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æžœä¸»çº¿ç¨‹æäº¤ä»»åŠ¡çš„é€Ÿåº¦è¿œè¿œå¤§äºŽCachedThreadPoolçš„å¤„ç†é€Ÿåº¦ï¼Œåˆ™CachedThreadPoolä¼šä¸æ–­åœ°åˆ›å»ºæ–°çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œè¿™æ ·æœ‰å¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿè€—å°½CPUå’Œå†…å­˜èµ„æºï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨è¯¥çº¿ç¨‹æ± æ˜¯ï¼Œä¸€å®šè¦æ³¨æ„æŽ§åˆ¶å¹¶å‘çš„ä»»åŠ¡æ•°ï¼Œå¦åˆ™åˆ›å»ºå¤§é‡çš„çº¿ç¨‹å¯èƒ½å¯¼è‡´ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚ ScheduledThreadPoolScheduledThreadPoolï¼Œåˆ›å»ºä¸€ä¸ªå¯å»¶è¿Ÿè°ƒåº¦çš„çº¿ç¨‹æ± ã€‚ ScheduledThreadPoolçš„çº¿ç¨‹æ± å¤„ç†ç±»ä¸ºScheduledThreadPoolExecutorï¼Œé€šè¿‡æž„é€ æˆ‘ä»¬å¯ä»¥å¾—å‡ºcorePoolæ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼ŒmaximumPoolSizeä¸ºInteger.MAX_VALUEï¼Œè¿™å°±æ„å‘³ç€æ‰€æœ‰çš„ä»»åŠ¡ä¸€æäº¤å°±ä¼šåŠ å…¥åˆ°é˜»å¡žé˜Ÿåˆ—ä¸­ã€‚keepAliveTimeä¸º0ï¼Œunitè®¾ç½®ä¸ºTimeUnit.NANOSECONDSï¼Œæ„å‘³ç€æ‰§è¡Œå®Œå»¶è¿Ÿä»»åŠ¡åŽä¼šç«‹é©¬å›žæ”¶çº¿ç¨‹ã€‚é˜»å¡žé˜Ÿåˆ—é‡‡ç”¨DelayedWorkQueue(ä¸“ä¸ºå»¶è¿Ÿé˜Ÿåˆ—è€Œç”Ÿ),DelayedWorkQueueåŸºäºŽå †çš„æ•°æ®ç»“æž„ï¼Œé»˜è®¤åˆå§‹åŒ–å®¹é‡ä¸º16ã€‚ æˆ‘ä»¬çŸ¥é“Timerä¸ŽTimerTaskè™½ç„¶å¯ä»¥å®žçŽ°çº¿ç¨‹çš„å‘¨æœŸå’Œå»¶è¿Ÿè°ƒåº¦ï¼Œä½†æ˜¯Timerä¸ŽTimerTaskå­˜åœ¨ä¸€äº›ç¼ºé™·ï¼Œæ‰€ä»¥å¯¹äºŽè¿™ç§å®šæœŸã€å‘¨æœŸæ‰§è¡Œä»»åŠ¡çš„è°ƒåº¦ç­–ç•¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯æŽ¨èScheduledThreadPoolExecutoræ¥å®žçŽ°ã€‚ å…·ä½“åˆ†æžè¯·é˜…è¯»å¤§ç‰›åšæ–‡: ScheduledThreadPoolExecutorè¯¦è§£ä¸€ ScheduledThreadPoolExecutorè¯¦è§£äºŒ WorkStealingPoolWorkStealingPoolæ˜¯ä¸ªç‰¹æ®Šçš„çº¿ç¨‹æ± ï¼Œä½†ä¸é•¿ç”¨ï¼Œé¢è¯•æœ‰æ—¶å€™å¯èƒ½ä¼šé—®åˆ°ï¼Œå†…éƒ¨å®žçŽ°åŽŸç†å…¶å®žæ˜¯åŸºäºŽJDK1.7çš„ForkJoinPoolæ¡†æž¶ï¼Œå…·ä½“æž„é€ å®žçŽ°ç»†èŠ‚å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435/** * Creates a &#123;@code ForkJoinPool&#125; with the given parameters. * * @param parallelism the parallelism level. For default value, * use &#123;@link java.lang.Runtime#availableProcessors&#125;. * @param factory the factory for creating new threads. For default value, * use &#123;@link #defaultForkJoinWorkerThreadFactory&#125;. * @param handler the handler for internal worker threads that * terminate due to unrecoverable errors encountered while executing * tasks. For default value, use &#123;@code null&#125;. * @param asyncMode if true, * establishes local first-in-first-out scheduling mode for forked * tasks that are never joined. This mode may be more appropriate * than default locally stack-based mode in applications in which * worker threads only process event-style asynchronous tasks. * For default value, use &#123;@code false&#125;. * @throws IllegalArgumentException if parallelism less than or * equal to zero, or greater than implementation limit * @throws NullPointerException if the factory is null * @throws SecurityException if a security manager exists and * the caller is not permitted to modify threads * because it does not hold &#123;@link * java.lang.RuntimePermission&#125;&#123;@code (\"modifyThread\")&#125; */public ForkJoinPool(int parallelism, ForkJoinWorkerThreadFactory factory, UncaughtExceptionHandler handler, boolean asyncMode) &#123; this(checkParallelism(parallelism), checkFactory(factory), handler, asyncMode ? FIFO_QUEUE : LIFO_QUEUE, \"ForkJoinPool-\" + nextPoolId() + \"-worker-\"); checkPermission();&#125; ForkJoinPoolæ¡†æž¶æ˜¯ä¸ªå¹¶è¡Œæ¡†æž¶ï¼Œåœ¨å¤šæ ¸CPUä¸­æœ‰ç€é«˜æ•ˆçš„æ€§èƒ½ä½“éªŒã€‚Java7 æä¾›äº†ForkJoinPoolæ¥æ”¯æŒå°†ä¸€ä¸ªä»»åŠ¡æ‹†åˆ†æˆå¤šä¸ªâ€œå°ä»»åŠ¡â€å¹¶è¡Œè®¡ç®—ï¼Œå†æŠŠå¤šä¸ªâ€œå°ä»»åŠ¡â€çš„ç»“æžœåˆå¹¶æˆæ€»çš„è®¡ç®—ç»“æžœã€‚æœ‰å…³äºŽForkJoinPoolçŸ¥è¯†ï¼Œæˆ‘ä»¬åŽç»­è®²è§£ã€‚ å‚è€ƒèµ„æ–™ é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ å”¯å“ä¼šJavaå¼€å‘æ‰‹å†Œ ã€ŠJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"JVMåŠå¹¶å‘ç¼–ç¨‹","slug":"JVMåŠå¹¶å‘ç¼–ç¨‹","permalink":"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/"}]},{"title":"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶","slug":"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶","date":"2018-06-09T10:45:21.000Z","updated":"2020-01-08T13:06:30.634Z","comments":true,"path":"2018/06/09/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶/","link":"","permalink":"http://ltyeamin.github.io/2018/06/09/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æ·±å…¥ThreadPoolExecutorå·¥ä½œæœºåˆ¶/","excerpt":"","text":"ä¸ºäº†é«˜æ•ˆçš„ç®¡ç†çº¿ç¨‹ï¼ŒJDK1.5ç‰ˆæœ¬çš„Doug Leaå¤§ç¥žä¸ºæˆ‘ä»¬è®¾è®¡äº†å¤§åé¼Žé¼Žçš„ThreadPoolExecutorã€‚ ä½œä¸ºExecutoræ¡†æž¶ä¸­æœ€æ ¸å¿ƒçš„ç±»-ThreadPoolExecutorï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ªè°ƒåº¦å·¥å…·ï¼Œä¸ºäº†é«˜æ•ˆæ‰§è¡Œæˆ–è°ƒåº¦ä»»åŠ¡ï¼Œæˆ‘ä»¬éžå¸¸æœ‰å¿…è¦å¯¹è¯¥ç±»çš„å·¥ä½œåŽŸç†ä»¥åŠå†…éƒ¨æœºåˆ¶äº†è§£ä¸€ç•ªã€‚çº¿ç¨‹æ± çš„æ¯ä¸€ä¸ªå‚æ•°é…ç½®éƒ½æœ‰ä¸€å®šçš„è®¾è®¡åˆç†æ€§ï¼Œå„ä¸ªå‚æ•°é…ç½®ååŒèšåˆï¼Œè®©èµ„æºåˆç†è¿ç”¨æ‰æ˜¯æˆ‘ä»¬æœ€å…³æ³¨çš„ã€‚ çº¿ç¨‹æ± çš„ç”Ÿå‘½å‘¨æœŸçº¿ç¨‹æœ‰äº”ç§çŠ¶æ€ï¼šæ–°å»ºï¼Œå°±ç»ªï¼Œè¿è¡Œï¼Œé˜»å¡žï¼Œæ­»äº¡ã€‚çº¿ç¨‹æ± åŒæ ·æœ‰äº”ç§çŠ¶æ€ï¼šRunning, SHUTDOWN, STOP, TIDYING, TERMINATEDã€‚ æˆ‘ä»¬ç¿»å¼€ThreadPoolExecutoræºç å¯ä»¥çœ‹åˆ°çº¿ç¨‹æ± ç”Ÿå‘½å‘¨æœŸçš„å®šä¹‰ï¼š 1234567891011121314151617181920private final AtomicInteger ctl = new AtomicInteger(ctlOf(RUNNING, 0));private static final int COUNT_BITS = Integer.SIZE - 3;private static final int CAPACITY = (1 &lt;&lt; COUNT_BITS) - 1;// runState is stored in the high-order bits// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯111private static final int RUNNING = -1 &lt;&lt; COUNT_BITS;// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯000private static final int SHUTDOWN = 0 &lt;&lt; COUNT_BITS;// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯001private static final int STOP = 1 &lt;&lt; COUNT_BITS;// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯010private static final int TIDYING = 2 &lt;&lt; COUNT_BITS;// å¯¹åº”çš„é«˜3ä½å€¼æ˜¯011private static final int TERMINATED = 3 &lt;&lt; COUNT_BITS;// Packing and unpacking ctlprivate static int runStateOf(int c) &#123; return c &amp; ~CAPACITY;&#125;private static int workerCountOf(int c) &#123; return c &amp; CAPACITY; &#125;private static int ctlOf(int rs, int wc) &#123; return rs | wc; &#125; å˜é‡ctlå®šä¹‰ä¸ºAtomicInteger ï¼Œå…¶åŠŸèƒ½éžå¸¸å¼ºå¤§ï¼Œè®°å½•äº†â€œçº¿ç¨‹æ± ä¸­çš„ä»»åŠ¡æ•°é‡â€å’Œâ€œçº¿ç¨‹æ± çš„çŠ¶æ€â€ä¸¤ä¸ªä¿¡æ¯ã€‚å…±32ä½ï¼Œå…¶ä¸­é«˜3ä½è¡¨ç¤ºâ€çº¿ç¨‹æ± çŠ¶æ€(runState)â€ï¼Œä½Ž29ä½è¡¨ç¤ºâ€çº¿ç¨‹æ± ä¸­çš„ä»»åŠ¡æ•°é‡(workerCnt)â€ã€‚ çº¿ç¨‹æ± æ˜¯æœ‰çŠ¶æ€çš„ï¼Œä¸åŒçŠ¶æ€ä¸‹çº¿ç¨‹æ± çš„è¡Œä¸ºæ˜¯ä¸ä¸€æ ·çš„ã€‚å…·ä½“è¿è½¬æµç¨‹å¦‚ä¸‹: çŠ¶æ€ å«ä¹‰ RUNNING è¿è¡ŒçŠ¶æ€ï¼Œè¯¥çŠ¶æ€ä¸‹çº¿ç¨‹æ± å¯ä»¥æŽ¥å—æ–°çš„ä»»åŠ¡ï¼Œä¹Ÿå¯ä»¥å¤„ç†é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ‰§è¡Œ, shutdown æ–¹æ³•å¯è¿›å…¥ SHUTDOWN çŠ¶æ€;æ‰§è¡Œ shutdownNow æ–¹æ³•å¯è¿›å…¥ STOP çŠ¶æ€ SHUTDOWN å¾…å…³é—­çŠ¶æ€ï¼Œä¸å†æŽ¥å—æ–°çš„ä»»åŠ¡ï¼Œç»§ç»­å¤„ç†é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡;å½“é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ä¸ºç©ºï¼Œå¹¶ä¸”å·¥ä½œçº¿ç¨‹æ•°ä¸º0æ—¶ï¼Œè¿›å…¥ TIDYING çŠ¶æ€ STOP åœæ­¢çŠ¶æ€ï¼Œä¸æŽ¥æ”¶æ–°ä»»åŠ¡ï¼Œä¹Ÿä¸å¤„ç†é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œå¹¶ä¸”ä¼šå°è¯•ç»“æŸæ‰§è¡Œä¸­çš„ä»»åŠ¡;å½“å·¥ä½œçº¿ç¨‹æ•°ä¸º0æ—¶ï¼Œè¿›å…¥ TIDYING çŠ¶æ€ TIDYING æ•´ç†çŠ¶æ€ï¼Œæ­¤æ—¶ä»»åŠ¡éƒ½å·²ç»æ‰§è¡Œå®Œæ¯•ï¼ˆctlè®°å½•çš„â€ä»»åŠ¡æ•°é‡â€ä¸º0ï¼‰ï¼Œå¹¶ä¸”ä¹Ÿæ²¡æœ‰å·¥ä½œçº¿ç¨‹; æ‰§è¡Œ terminated æ–¹æ³•åŽè¿›å…¥ TERMINATED çŠ¶æ€ TERMINATED ç»ˆæ­¢çŠ¶æ€ï¼Œæ­¤æ—¶çº¿ç¨‹æ± å®Œå…¨ç»ˆæ­¢äº†ï¼Œå¹¶å®Œæˆäº†æ‰€æœ‰èµ„æºçš„é‡Šæ”¾ çº¿ç¨‹æ± çš„å†…éƒ¨æž„é€ 123456789101112131415161718192021222324public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler) &#123; if (corePoolSize &lt; 0 || maximumPoolSize &lt;= 0 || maximumPoolSize &lt; corePoolSize || keepAliveTime &lt; 0) throw new IllegalArgumentException(); if (workQueue == null || threadFactory == null || handler == null) throw new NullPointerException(); this.acc = System.getSecurityManager() == null ? null : AccessController.getContext(); this.corePoolSize = corePoolSize; this.maximumPoolSize = maximumPoolSize; this.workQueue = workQueue; this.keepAliveTime = unit.toNanos(keepAliveTime); this.threadFactory = threadFactory; this.handler = handler;&#125; ä¸Šè¿°æºç æ˜¯æ‘˜è‡ªJDK1.8ä¸­ThreadPoolExecutorçš„æž„é€ æºç ï¼Œæž„é€ å™¨æœ‰7ä¸ªé‡è¦å‚æ•°ï¼Œè¿™ä¸ƒä¸ªå‚æ•°æ„ä¹‰é‡å¤§ï¼Œæˆ‘ä»¬æœ‰å¿…è¦æ·±å…¥å­¦ä¹ ã€‚ å‰æ–‡è®²åˆ°æœ‰äº†æ ‡å¿—å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°çš„å˜é‡ctlï¼Œé‚£ä¹ˆä¸åŒç¡¬ä»¶é…ç½®çš„æœºå™¨ï¼Œåˆ°åº•åº”è¯¥é…ç½®å¤šå°‘ä¸ªçº¿ç¨‹æ‰åˆé€‚å‘¢ï¼Ÿçº¿ç¨‹æ± é…ç½®çš„æ ¸å¿ƒçº¿ç¨‹æ•°å°‘äº†ï¼Œå‘æŒ¥ä¸äº†çº¿ç¨‹æ± çš„ç‰¹æ€§ï¼Œçº¿ç¨‹æ± é…ç½®çš„æ ¸å¿ƒçº¿ç¨‹æ•°å¤šäº†ï¼Œåˆé€ æˆèµ„æºè€—è´¹ã€‚ çŽ°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªç–‘é—®ï¼Œæ—¢ç„¶å·²ç»æœ‰äº†æ ‡è¯†å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°çš„å˜é‡äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æœ‰æ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°å‘¢ï¼Ÿ å…¶å®žä½ è¿™æ ·æƒ³å°±èƒ½å¤Ÿç†è§£äº†ï¼Œåˆ›å»ºçº¿ç¨‹æ˜¯æœ‰ä»£ä»·çš„ï¼Œä¸èƒ½æ¯æ¬¡è¦æ‰§è¡Œä¸€ä¸ªä»»åŠ¡æ—¶å°±åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½åœ¨ä»»åŠ¡éžå¸¸å¤šçš„æ—¶å€™ï¼Œåªæœ‰å°‘é‡çš„çº¿ç¨‹åœ¨æ‰§è¡Œï¼Œè¿™æ ·ä»»åŠ¡æ˜¯æ¥ä¸åŠå¤„ç†çš„ï¼Œè€Œæ˜¯åº”è¯¥åˆ›å»ºåˆé€‚çš„è¶³å¤Ÿå¤šçš„çº¿ç¨‹æ¥åŠæ—¶çš„å¤„ç†ä»»åŠ¡ã€‚éšç€ä»»åŠ¡æ•°é‡çš„å˜åŒ–ï¼Œå½“ä»»åŠ¡æ•°æ˜Žæ˜¾å¾ˆå°æ—¶ï¼ŒåŽŸæœ¬åˆ›å»ºçš„å¤šä½™çš„çº¿ç¨‹å°±æ²¡æœ‰å¿…è¦å†å­˜æ´»ç€äº†ï¼Œå› ä¸ºè¿™æ—¶ä½¿ç”¨å°‘é‡çš„çº¿ç¨‹å°±èƒ½å¤Ÿå¤„ç†çš„è¿‡æ¥äº†ï¼Œæ‰€ä»¥è¯´çœŸæ­£å·¥ä½œçš„çº¿ç¨‹çš„æ•°é‡ï¼Œæ˜¯éšç€ä»»åŠ¡çš„å˜åŒ–è€Œå˜åŒ–çš„ã€‚ é‚£æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ä¸Žå·¥ä½œçº¿ç¨‹ä¸ªæ•°çš„å…³ç³»æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°å¯èƒ½ä»Ž0åˆ°æœ€å¤§çº¿ç¨‹æ•°ä¹‹é—´å˜åŒ–ï¼Œå½“æ‰§è¡Œä¸€æ®µæ—¶é—´ä¹‹åŽå¯èƒ½ç»´æŒåœ¨ corePoolSizeï¼Œä½†ä¹Ÿä¸æ˜¯ç»å¯¹çš„ï¼Œå–å†³äºŽæ ¸å¿ƒçº¿ç¨‹æ˜¯å¦å…è®¸è¢«è¶…æ—¶å›žæ”¶ã€‚ corePoolSizeæ ¸å¿ƒçº¿ç¨‹æ•°corePoolSize ç”¨æ¥è¡¨ç¤ºçº¿ç¨‹æ± ä¸­çš„æ ¸å¿ƒçº¿ç¨‹çš„æ•°é‡ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºå¯é—²ç½®çš„çº¿ç¨‹æ•°é‡ã€‚å½“æäº¤ä¸€ä¸ªä»»åŠ¡æ—¶ï¼Œçº¿ç¨‹æ± ä¼šæ–°å»ºä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œç›´åˆ°å½“å‰çº¿ç¨‹æ•°ç­‰äºŽcorePoolSizeã€‚å¦‚æžœè°ƒç”¨äº†çº¿ç¨‹æ± çš„prestartAllCoreThreads()æ–¹æ³•ï¼Œçº¿ç¨‹æ± ä¼šæå‰åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰åŸºæœ¬çº¿ç¨‹ã€‚ maximumPoolSizeæœ€å¤§çº¿ç¨‹æ•°maximumPoolSize ç”¨æ¥è¡¨ç¤ºçº¿ç¨‹æ± ä¸­æœ€å¤šèƒ½å¤Ÿåˆ›å»ºçš„çº¿ç¨‹æ•°é‡ã€‚çº¿ç¨‹æ± çš„é˜»å¡žé˜Ÿåˆ—æ»¡äº†ä¹‹åŽï¼Œå¦‚æžœè¿˜æœ‰ä»»åŠ¡æäº¤ï¼Œå¦‚æžœå½“å‰çš„çº¿ç¨‹æ•°å°äºŽmaximumPoolSizeï¼Œåˆ™ä¼šæ–°å»ºçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚æ³¨æ„ï¼Œå¦‚æžœä½¿ç”¨çš„æ˜¯æ— ç•Œé˜Ÿåˆ—ï¼Œè¯¥å‚æ•°ä¹Ÿå°±æ²¡æœ‰ä»€ä¹ˆæ•ˆæžœäº†ã€‚ keepAliveTimeçº¿ç¨‹ç©ºé—²æ—¶é—´çº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯æ˜¯éœ€è¦ä»£ä»·çš„ã€‚çº¿ç¨‹æ‰§è¡Œå®Œä»»åŠ¡åŽä¸ä¼šç«‹å³é”€æ¯ï¼Œè€Œæ˜¯ç»§ç»­å­˜æ´»ä¸€æ®µæ—¶é—´ï¼škeepAliveTimeã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å‚æ•°åªæœ‰åœ¨çº¿ç¨‹æ•°å¤§äºŽcorePoolSizeæ—¶æ‰ä¼šç”Ÿæ•ˆã€‚ å½“å·¥ä½œçº¿ç¨‹æ•°è¾¾åˆ° corePoolSize æ—¶ï¼Œçº¿ç¨‹æ± ä¼šå°†æ–°æŽ¥æ”¶åˆ°çš„ä»»åŠ¡å­˜æ”¾åœ¨é˜»å¡žé˜Ÿåˆ—ä¸­ï¼Œè€Œé˜»å¡žé˜Ÿåˆ—åˆä¸¤ç§æƒ…å†µï¼šä¸€ç§æ˜¯æœ‰ç•Œçš„é˜Ÿåˆ—ï¼Œä¸€ç§æ˜¯æ— ç•Œçš„é˜Ÿåˆ—ã€‚ å¦‚æžœæ˜¯æ— ç•Œé˜Ÿåˆ—ï¼Œé‚£ä¹ˆå½“æ ¸å¿ƒçº¿ç¨‹éƒ½åœ¨å¿™çš„æ—¶å€™ï¼Œæ‰€æœ‰æ–°æäº¤çš„ä»»åŠ¡éƒ½ä¼šè¢«å­˜æ”¾åœ¨è¯¥æ— ç•Œé˜Ÿåˆ—ä¸­ï¼Œè¿™æ—¶æœ€å¤§çº¿ç¨‹æ•°å°†å˜å¾—æ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºé˜»å¡žé˜Ÿåˆ—ä¸ä¼šå­˜åœ¨è¢«è£…æ»¡çš„æƒ…å†µã€‚ å¦‚æžœæ˜¯æœ‰ç•Œé˜Ÿåˆ—ï¼Œé‚£ä¹ˆå½“é˜»å¡žé˜Ÿåˆ—ä¸­è£…æ»¡äº†ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡ï¼Œè¿™æ—¶å†æœ‰æ–°ä»»åŠ¡æäº¤æ—¶ï¼Œçº¿ç¨‹æ± å°±éœ€è¦åˆ›å»ºæ–°çš„â€œä¸´æ—¶â€çº¿ç¨‹æ¥å¤„ç†ï¼Œç›¸å½“äºŽå¢žæ´¾äººæ‰‹æ¥å¤„ç†ä»»åŠ¡ã€‚ ä½†æ˜¯åˆ›å»ºçš„â€œä¸´æ—¶â€çº¿ç¨‹æ˜¯æœ‰å­˜æ´»æ—¶é—´çš„ï¼Œä¸å¯èƒ½è®©ä»–ä»¬ä¸€ç›´éƒ½å­˜æ´»ç€ï¼Œå½“é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡è¢«æ‰§è¡Œå®Œæ¯•ï¼Œå¹¶ä¸”åˆæ²¡æœ‰é‚£ä¹ˆå¤šæ–°ä»»åŠ¡è¢«æäº¤æ—¶ï¼Œâ€œä¸´æ—¶â€çº¿ç¨‹å°±éœ€è¦è¢«å›žæ”¶é”€æ¯ï¼Œåœ¨è¢«å›žæ”¶é”€æ¯ä¹‹å‰ç­‰å¾…çš„è¿™æ®µæ—¶é—´ï¼Œå°±æ˜¯éžæ ¸å¿ƒçº¿ç¨‹çš„å­˜æ´»æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ keepAliveTime å±žæ€§ã€‚ é‚£ä¹ˆä»€ä¹ˆæ˜¯â€œéžæ ¸å¿ƒçº¿ç¨‹â€å‘¢ï¼Ÿæ˜¯ä¸æ˜¯å…ˆåˆ›å»ºçš„çº¿ç¨‹å°±æ˜¯æ ¸å¿ƒçº¿ç¨‹ï¼ŒåŽåˆ›å»ºçš„å°±æ˜¯éžæ ¸å¿ƒçº¿ç¨‹å‘¢ï¼Ÿ å…¶å®žæ ¸å¿ƒçº¿ç¨‹è·Ÿåˆ›å»ºçš„å…ˆåŽæ²¡æœ‰å…³ç³»ï¼Œè€Œæ˜¯è·Ÿå·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°æœ‰å…³ï¼Œå¦‚æžœå½“å‰å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°å¤§äºŽæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„çº¿ç¨‹éƒ½å¯èƒ½æ˜¯â€œéžæ ¸å¿ƒçº¿ç¨‹â€ï¼Œéƒ½æœ‰è¢«å›žæ”¶çš„å¯èƒ½ã€‚ ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œäº†ä¸€ä¸ªä»»åŠ¡åŽï¼Œä¼šåŽ»é˜»å¡žé˜Ÿåˆ—é‡Œé¢å–æ–°çš„ä»»åŠ¡ï¼Œåœ¨å–åˆ°ä»»åŠ¡ä¹‹å‰å®ƒå°±æ˜¯ä¸€ä¸ªé—²ç½®çš„çº¿ç¨‹ã€‚ å–ä»»åŠ¡çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯é€šè¿‡ take() æ–¹æ³•ä¸€ç›´é˜»å¡žç›´åˆ°å–å‡ºä»»åŠ¡ï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡ poll(keepAliveTimeï¼ŒtimeUnit) æ–¹æ³•åœ¨ä¸€å®šæ—¶é—´å†…å–å‡ºä»»åŠ¡æˆ–è€…è¶…æ—¶ï¼Œå¦‚æžœè¶…æ—¶è¿™ä¸ªçº¿ç¨‹å°±ä¼šè¢«å›žæ”¶ï¼Œè¯·æ³¨æ„æ ¸å¿ƒçº¿ç¨‹ä¸€èˆ¬ä¸ä¼šè¢«å›žæ”¶ã€‚ é‚£ä¹ˆæ€Žä¹ˆä¿è¯æ ¸å¿ƒçº¿ç¨‹ä¸ä¼šè¢«å›žæ”¶å‘¢ï¼Ÿè¿˜æ˜¯è·Ÿå·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°æœ‰å…³ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹åœ¨å–ä»»åŠ¡çš„æ—¶å€™ï¼Œçº¿ç¨‹æ± ä¼šæ¯”è¾ƒå½“å‰çš„å·¥ä½œçº¿ç¨‹ä¸ªæ•°ä¸Žæ ¸å¿ƒçº¿ç¨‹æ•°ï¼š å¦‚æžœå·¥ä½œçº¿ç¨‹æ•°å°äºŽå½“å‰çš„æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œåˆ™ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•å–ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰è¶…æ—¶å›žæ”¶ï¼Œè¿™æ—¶æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹éƒ½æ˜¯â€œæ ¸å¿ƒçº¿ç¨‹â€ï¼Œä»–ä»¬ä¸ä¼šè¢«å›žæ”¶ï¼› å¦‚æžœå¤§äºŽæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œåˆ™ä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•å–ä»»åŠ¡ï¼Œä¸€æ—¦è¶…æ—¶å°±å›žæ”¶ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰ç»å¯¹çš„æ ¸å¿ƒçº¿ç¨‹ï¼Œåªè¦è¿™ä¸ªçº¿ç¨‹æ²¡æœ‰åœ¨å­˜æ´»æ—¶é—´å†…å–åˆ°ä»»åŠ¡åŽ»æ‰§è¡Œå°±ä¼šè¢«å›žæ”¶ã€‚ æ‰€ä»¥æ¯ä¸ªçº¿ç¨‹æƒ³è¦ä¿ä½è‡ªå·±â€œæ ¸å¿ƒçº¿ç¨‹â€çš„èº«ä»½ï¼Œå¿…é¡»å……åˆ†åŠªåŠ›ï¼Œå°½å¯èƒ½å¿«çš„èŽ·å–åˆ°ä»»åŠ¡åŽ»æ‰§è¡Œï¼Œè¿™æ ·æ‰èƒ½é€ƒé¿è¢«å›žæ”¶çš„å‘½è¿ã€‚ æ ¸å¿ƒçº¿ç¨‹ä¸€èˆ¬ä¸ä¼šè¢«å›žæ”¶ï¼Œä½†æ˜¯ä¹Ÿä¸æ˜¯ç»å¯¹çš„ï¼Œå¦‚æžœæˆ‘ä»¬è®¾ç½®äº†å…è®¸æ ¸å¿ƒçº¿ç¨‹è¶…æ—¶è¢«å›žæ”¶çš„è¯ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰æ ¸å¿ƒçº¿ç¨‹è¿™ç§è¯´æ³•äº†ï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½ä¼šé€šè¿‡ poll(keepAliveTime, timeUnit) æ¥èŽ·å–ä»»åŠ¡ï¼Œä¸€æ—¦è¶…æ—¶èŽ·å–ä¸åˆ°ä»»åŠ¡ï¼Œå°±ä¼šè¢«å›žæ”¶ï¼Œä¸€èˆ¬å¾ˆå°‘ä¼šè¿™æ ·æ¥ä½¿ç”¨ï¼Œé™¤éžè¯¥çº¿ç¨‹æ± éœ€è¦å¤„ç†çš„ä»»åŠ¡éžå¸¸å°‘ï¼Œå¹¶ä¸”é¢‘çŽ‡ä¹Ÿä¸é«˜ï¼Œä¸éœ€è¦å°†æ ¸å¿ƒçº¿ç¨‹ä¸€ç›´ç»´æŒç€ã€‚ unitçº¿ç¨‹ç©ºé—²æ—¶é—´å•ä½keepAliveTimeçš„å•ä½ã€‚TimeUnitï¼Œå¯è®¾ç½®æ—¶åˆ†ç§’æ¯«ç§’ workQueueä»»åŠ¡é˜Ÿåˆ—workQueueç”¨æ¥ä¿å­˜ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡çš„é˜»å¡žé˜Ÿåˆ—ï¼Œç­‰å¾…çš„ä»»åŠ¡å¿…é¡»å®žçŽ°RunnableæŽ¥å£ã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©å¦‚ä¸‹å‡ ç§ï¼š ArrayBlockingQueueï¼šåŸºäºŽæ•°ç»„ç»“æž„çš„æœ‰ç•Œé˜»å¡žé˜Ÿåˆ—ï¼ŒFIFOã€‚ LinkedBlockingQueueï¼šåŸºäºŽé“¾è¡¨ç»“æž„çš„æœ‰ç•Œé˜»å¡žé˜Ÿåˆ—ï¼ŒFIFOã€‚ SynchronousQueueï¼šä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡žé˜Ÿåˆ—ï¼Œæ¯ä¸ªæ’å…¥æ“ä½œéƒ½å¿…é¡»ç­‰å¾…ä¸€ä¸ªç§»å‡ºæ“ä½œï¼Œåä¹‹äº¦ç„¶ã€‚ PriorityBlockingQueueï¼šå…·æœ‰ä¼˜å…ˆç•Œåˆ«çš„é˜»å¡žé˜Ÿåˆ—ã€‚ ä¸Šé¢æˆ‘ä»¬è¯´äº†æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ï¼Œå¹¶ä¸”ä¹Ÿä»‹ç»äº†å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°æ˜¯åœ¨0å’Œæœ€å¤§çº¿ç¨‹æ•°ä¹‹é—´å˜åŒ–çš„ã€‚ä½†æ˜¯ä¸å¯èƒ½ä¸€ä¸‹å­å°±åˆ›å»ºäº†æ‰€æœ‰çº¿ç¨‹ï¼ŒæŠŠçº¿ç¨‹æ± è£…æ»¡ï¼Œè€Œæ˜¯æœ‰ä¸€ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š å½“çº¿ç¨‹æ± æŽ¥æ”¶åˆ°ä¸€ä¸ªä»»åŠ¡æ—¶ï¼Œå¦‚æžœå·¥ä½œçº¿ç¨‹æ•°æ²¡æœ‰è¾¾åˆ°corePoolSizeï¼Œé‚£ä¹ˆå°±ä¼šæ–°å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶ç»‘å®šè¯¥ä»»åŠ¡ï¼Œç›´åˆ°å·¥ä½œçº¿ç¨‹çš„æ•°é‡è¾¾åˆ° corePoolSize å‰éƒ½ä¸ä¼šé‡ç”¨ä¹‹å‰çš„çº¿ç¨‹ã€‚ å½“å·¥ä½œçº¿ç¨‹æ•°è¾¾åˆ° corePoolSize äº†ï¼Œè¿™æ—¶åˆæŽ¥æ”¶åˆ°æ–°ä»»åŠ¡æ—¶ï¼Œä¼šå°†ä»»åŠ¡å­˜æ”¾åœ¨ä¸€ä¸ªé˜»å¡žé˜Ÿåˆ—ä¸­ç­‰å¾…æ ¸å¿ƒçº¿ç¨‹åŽ»æ‰§è¡Œã€‚ä¸ºä»€ä¹ˆä¸ç›´æŽ¥åˆ›å»ºæ›´å¤šçš„çº¿ç¨‹æ¥æ‰§è¡Œæ–°ä»»åŠ¡å‘¢ï¼ŒåŽŸå› æ˜¯æ ¸å¿ƒçº¿ç¨‹ä¸­å¾ˆå¯èƒ½å·²ç»æœ‰çº¿ç¨‹æ‰§è¡Œå®Œè‡ªå·±çš„ä»»åŠ¡äº†ï¼Œæˆ–è€…æœ‰å…¶ä»–çº¿ç¨‹é©¬ä¸Šå°±èƒ½å¤„ç†å®Œå½“å‰çš„ä»»åŠ¡ï¼Œå¹¶ä¸”æŽ¥ä¸‹æ¥å°±èƒ½æŠ•å…¥åˆ°æ–°çš„ä»»åŠ¡ä¸­åŽ»ï¼Œæ‰€ä»¥é˜»å¡žé˜Ÿåˆ—æ˜¯ä¸€ç§ç¼“å†²çš„æœºåˆ¶ï¼Œç»™æ ¸å¿ƒçº¿ç¨‹ä¸€ä¸ªæœºä¼šè®©ä»–ä»¬å……åˆ†å‘æŒ¥è‡ªå·±çš„èƒ½åŠ›ã€‚å¦å¤–ä¸€ä¸ªå€¼å¾—è€ƒè™‘çš„åŽŸå› æ˜¯ï¼Œåˆ›å»ºçº¿ç¨‹æ¯•ç«Ÿæ˜¯æ¯”è¾ƒæ˜‚è´µçš„ï¼Œä¸å¯èƒ½ä¸€æœ‰ä»»åŠ¡è¦æ‰§è¡Œå°±åŽ»åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚ æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸ºçº¿ç¨‹æ± é…å¤‡ä¸€ä¸ªé˜»å¡žé˜Ÿåˆ—ï¼Œå³ä»»åŠ¡åˆ—è¡¨ï¼Œç”¨æ¥ä¸´æ—¶ç¼“å­˜ä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡å°†ç­‰å¾…å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œã€‚ threadFactoryçº¿ç¨‹å·¥åŽ‚æ—¢ç„¶æ˜¯çº¿ç¨‹æ± ï¼Œé‚£è‡ªç„¶å°‘ä¸äº†çº¿ç¨‹ï¼Œçº¿ç¨‹è¯¥å¦‚ä½•æ¥åˆ›å»ºå‘¢ï¼Ÿè¿™ä¸ªä»»åŠ¡å°±äº¤ç»™äº†çº¿ç¨‹å·¥åŽ‚ ThreadFactory æ¥å®Œæˆã€‚ è¯¥å¯¹è±¡å¯ä»¥é€šè¿‡Executors.defaultThreadFactory()ï¼Œå¦‚ä¸‹ï¼š 123public static ThreadFactory defaultThreadFactory() &#123; return new DefaultThreadFactory();&#125; è¿”å›žçš„DefaultThreadFactoryå¯¹è±¡ï¼Œæºç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526static class DefaultThreadFactory implements ThreadFactory &#123; private static final AtomicInteger poolNumber = new AtomicInteger(1); private final ThreadGroup group; private final AtomicInteger threadNumber = new AtomicInteger(1); private final String namePrefix; DefaultThreadFactory() &#123; SecurityManager s = System.getSecurityManager(); group = (s != null) ? s.getThreadGroup() : Thread.currentThread().getThreadGroup(); namePrefix = \"pool-\" + poolNumber.getAndIncrement() + \"-thread-\"; &#125; public Thread newThread(Runnable r) &#123; Thread t = new Thread(group, r, namePrefix + threadNumber.getAndIncrement(), 0); if (t.isDaemon()) t.setDaemon(false); if (t.getPriority() != Thread.NORM_PRIORITY) t.setPriority(Thread.NORM_PRIORITY); return t; &#125; &#125; ThreadFactoryçš„é»˜è®¤å®žçŽ°DefaultThreadFactoryå°±æ˜¯æä¾›åˆ›å»ºçº¿ç¨‹åŠŸèƒ½çš„çº¿ç¨‹å·¥åŽ‚ã€‚ä»–æ˜¯é€šè¿‡newThread()æ–¹æ³•æä¾›åˆ›å»ºçº¿ç¨‹çš„åŠŸèƒ½ï¼ŒnewThread()æ–¹æ³•åˆ›å»ºçš„çº¿ç¨‹éƒ½æ˜¯â€œéžå®ˆæŠ¤çº¿ç¨‹â€è€Œä¸”â€œçº¿ç¨‹ä¼˜å…ˆçº§éƒ½æ˜¯Thread.NORM_PRIORITYâ€ã€‚ handleræ‹’ç»ç­–ç•¥è™½ç„¶æˆ‘ä»¬æœ‰äº†é˜»å¡žé˜Ÿåˆ—æ¥å¯¹ä»»åŠ¡è¿›è¡Œç¼“å­˜ï¼Œè¿™ä»Žä¸€å®šç¨‹åº¦ä¸Šä¸ºçº¿ç¨‹æ± çš„æ‰§è¡Œæä¾›äº†ç¼“å†²æœŸï¼Œä½†æ˜¯å¦‚æžœæ˜¯æœ‰ç•Œçš„é˜»å¡žé˜Ÿåˆ—ï¼Œé‚£å°±å­˜åœ¨é˜Ÿåˆ—æ»¡çš„æƒ…å†µï¼Œä¹Ÿå­˜åœ¨å·¥ä½œçº¿ç¨‹çš„æ•°æ®å·²ç»è¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°çš„æ—¶å€™ã€‚å¦‚æžœè¿™æ—¶å€™å†æœ‰æ–°çš„ä»»åŠ¡æäº¤æ—¶ï¼Œæ˜¾ç„¶çº¿ç¨‹æ± å·²ç»å¿ƒæœ‰ä½™è€ŒåŠ›ä¸è¶³äº†ï¼Œå› ä¸ºæ—¢æ²¡æœ‰ç©ºä½™çš„é˜Ÿåˆ—ç©ºé—´æ¥å­˜æ”¾è¯¥ä»»åŠ¡ï¼Œä¹Ÿæ— æ³•åˆ›å»ºæ–°çš„çº¿ç¨‹æ¥æ‰§è¡Œè¯¥ä»»åŠ¡äº†ï¼Œæ‰€ä»¥è¿™æ—¶æˆ‘ä»¬å°±éœ€è¦æœ‰ä¸€ç§æ‹’ç»ç­–ç•¥ï¼Œå³ handlerã€‚ RejectedExecutionHandlerï¼Œçº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥ã€‚æ‰€è°“æ‹’ç»ç­–ç•¥ï¼Œæ˜¯æŒ‡å°†ä»»åŠ¡æ·»åŠ åˆ°çº¿ç¨‹æ± ä¸­æ—¶ï¼Œçº¿ç¨‹æ± æ‹’ç»è¯¥ä»»åŠ¡æ‰€é‡‡å–çš„ç›¸åº”ç­–ç•¥ã€‚å½“å‘çº¿ç¨‹æ± ä¸­æäº¤ä»»åŠ¡æ—¶ï¼Œå¦‚æžœæ­¤æ—¶çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å·²ç»é¥±å’Œäº†ï¼Œè€Œä¸”é˜»å¡žé˜Ÿåˆ—ä¹Ÿå·²ç»æ»¡äº†ï¼Œåˆ™çº¿ç¨‹æ± ä¼šé€‰æ‹©ä¸€ç§æ‹’ç»ç­–ç•¥æ¥å¤„ç†è¯¥ä»»åŠ¡ã€‚ çº¿ç¨‹æ± æä¾›äº†å››ç§æ‹’ç»ç­–ç•¥ï¼š AbortPolicyï¼šç›´æŽ¥æŠ›å‡ºå¼‚å¸¸ï¼Œé»˜è®¤ç­–ç•¥ï¼› CallerRunsPolicyï¼šç”¨è°ƒç”¨è€…æ‰€åœ¨çš„çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼› DiscardOldestPolicyï¼šä¸¢å¼ƒé˜»å¡žé˜Ÿåˆ—ä¸­é æœ€å‰çš„ä»»åŠ¡ï¼Œå¹¶æ‰§è¡Œå½“å‰ä»»åŠ¡ï¼› DiscardPolicyï¼šç›´æŽ¥ä¸¢å¼ƒä»»åŠ¡ï¼› å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å®žçŽ°è‡ªå·±çš„æ‹’ç»ç­–ç•¥ï¼Œä¾‹å¦‚è®°å½•æ—¥å¿—ç­‰ç­‰ï¼Œå®žçŽ°RejectedExecutionHandleræŽ¥å£å³å¯ã€‚ çº¿ç¨‹æ± çš„å·¥ä½œæµç¨‹äº†è§£äº†çº¿ç¨‹æ± ä¸­æ‰€æœ‰çš„é‡è¦å±žæ€§ä¹‹åŽï¼ŒçŽ°åœ¨æˆ‘ä»¬éœ€è¦æ¥äº†è§£ä¸‹çº¿ç¨‹æ± çš„å·¥ä½œæµç¨‹äº†ã€‚ ä¸Šå›¾æ˜¯ä¸€å¼ çº¿ç¨‹æ± å·¥ä½œçš„ç²¾ç®€å›¾ï¼Œå®žé™…çš„è¿‡ç¨‹æ¯”è¿™ä¸ªè¦å¤æ‚çš„å¤šï¼Œä¸è¿‡è¿™äº›åº”è¯¥èƒ½å¤Ÿå®Œå…¨è¦†ç›–åˆ°çº¿ç¨‹æ± çš„æ•´ä¸ªå·¥ä½œæµç¨‹äº†ã€‚ æ•´ä¸ªè¿‡ç¨‹å¯ä»¥æ‹†åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š æäº¤ä»»åŠ¡ å½“å‘çº¿ç¨‹æ± æäº¤ä¸€ä¸ªæ–°çš„ä»»åŠ¡æ—¶ï¼Œçº¿ç¨‹æ± æœ‰ä¸‰ç§å¤„ç†æƒ…å†µï¼Œåˆ†åˆ«æ˜¯ï¼šåˆ›å»ºä¸€ä¸ªå·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œè¯¥ä»»åŠ¡ã€å°†ä»»åŠ¡åŠ å…¥é˜»å¡žé˜Ÿåˆ—ã€æ‹’ç»è¯¥ä»»åŠ¡ã€‚ æäº¤ä»»åŠ¡çš„è¿‡ç¨‹ä¹Ÿå¯ä»¥æ‹†åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š å½“å·¥ä½œçº¿ç¨‹æ•°å°äºŽæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ï¼Œç›´æŽ¥åˆ›å»ºæ–°çš„æ ¸å¿ƒå·¥ä½œçº¿ç¨‹ å½“å·¥ä½œçº¿ç¨‹æ•°ä¸å°äºŽæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ï¼Œå°±éœ€è¦å°è¯•å°†ä»»åŠ¡æ·»åŠ åˆ°é˜»å¡žé˜Ÿåˆ—ä¸­åŽ» å¦‚æžœèƒ½å¤ŸåŠ å…¥æˆåŠŸï¼Œè¯´æ˜Žé˜Ÿåˆ—è¿˜æ²¡æœ‰æ»¡ï¼Œé‚£ä¹ˆéœ€è¦åšä»¥ä¸‹çš„äºŒæ¬¡éªŒè¯æ¥ä¿è¯æ·»åŠ è¿›åŽ»çš„ä»»åŠ¡èƒ½å¤ŸæˆåŠŸè¢«æ‰§è¡Œ éªŒè¯å½“å‰çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€ï¼Œå¦‚æžœæ˜¯éžRUNNINGçŠ¶æ€ï¼Œåˆ™éœ€è¦å°†ä»»åŠ¡ä»Žé˜»å¡žé˜Ÿåˆ—ä¸­ç§»é™¤ï¼Œç„¶åŽæ‹’ç»è¯¥ä»»åŠ¡ éªŒè¯å½“å‰çº¿ç¨‹æ± ä¸­çš„å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°ï¼Œå¦‚æžœä¸º0ï¼Œåˆ™éœ€è¦ä¸»åŠ¨æ·»åŠ ä¸€ä¸ªç©ºå·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œåˆšåˆšæ·»åŠ åˆ°é˜»å¡žé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ å¦‚æžœåŠ å…¥å¤±è´¥ï¼Œåˆ™è¯´æ˜Žé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆè¿™æ—¶å°±éœ€è¦åˆ›å»ºæ–°çš„â€œä¸´æ—¶â€å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ å¦‚æžœåˆ›å»ºæˆåŠŸï¼Œåˆ™ç›´æŽ¥æ‰§è¡Œè¯¥ä»»åŠ¡ å¦‚æžœåˆ›å»ºå¤±è´¥ï¼Œåˆ™è¯´æ˜Žå·¥ä½œçº¿ç¨‹æ•°å·²ç»ç­‰äºŽæœ€å¤§çº¿ç¨‹æ•°äº†ï¼Œåˆ™åªèƒ½æ‹’ç»è¯¥ä»»åŠ¡äº† æ•´ä¸ªè¿‡ç¨‹å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ å›¾æ¥è¡¨ç¤ºï¼š åˆ›å»ºå·¥ä½œçº¿ç¨‹åˆ›å»ºå·¥ä½œçº¿ç¨‹éœ€è¦åšä¸€ç³»åˆ—çš„åˆ¤æ–­ï¼Œéœ€è¦ç¡®ä¿å½“å‰çº¿ç¨‹æ± å¯ä»¥åˆ›å»ºæ–°çš„çº¿ç¨‹ä¹‹åŽï¼Œæ‰èƒ½åˆ›å»ºã€‚ é¦–å…ˆï¼Œå½“çº¿ç¨‹æ± çš„çŠ¶æ€æ˜¯ SHUTDOWN æˆ–è€… STOP æ—¶ï¼Œåˆ™ä¸èƒ½åˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚ å¦å¤–ï¼Œå½“çº¿ç¨‹å·¥åŽ‚åˆ›å»ºçº¿ç¨‹å¤±è´¥æ—¶ï¼Œä¹Ÿä¸èƒ½åˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚ è¿˜æœ‰å°±æ˜¯å½“å‰å·¥ä½œçº¿ç¨‹çš„æ•°é‡ä¸Žæ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æžœå‰è€…å¤§äºŽåŽè€…çš„è¯ï¼Œä¹Ÿä¸å…è®¸åˆ›å»ºã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œä¼šå°è¯•é€šè¿‡ CAS æ¥è‡ªå¢žå·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°ï¼Œå¦‚æžœè‡ªå¢žæˆåŠŸäº†ï¼Œåˆ™ä¼šåˆ›å»ºæ–°çš„å·¥ä½œçº¿ç¨‹ï¼Œå³ Worker å¯¹è±¡ã€‚ ç„¶åŽåŠ é”è¿›è¡ŒäºŒæ¬¡éªŒè¯æ˜¯å¦èƒ½å¤Ÿåˆ›å»ºå·¥ä½œçº¿ç¨‹ï¼Œæœ€åŽå¦‚æžœåˆ›å»ºæˆåŠŸï¼Œåˆ™ä¼šå¯åŠ¨è¯¥å·¥ä½œçº¿ç¨‹ã€‚ å¯åŠ¨å·¥ä½œçº¿ç¨‹å½“å·¥ä½œçº¿ç¨‹åˆ›å»ºæˆåŠŸåŽï¼Œä¹Ÿå°±æ˜¯ Worker å¯¹è±¡å·²ç»åˆ›å»ºå¥½äº†ï¼Œè¿™æ—¶å°±éœ€è¦å¯åŠ¨è¯¥å·¥ä½œçº¿ç¨‹ï¼Œè®©çº¿ç¨‹å¼€å§‹å¹²æ´»äº†ï¼ŒWorker å¯¹è±¡ä¸­å…³è”ç€ä¸€ä¸ª Threadï¼Œæ‰€ä»¥è¦å¯åŠ¨å·¥ä½œçº¿ç¨‹çš„è¯ï¼Œåªè¦é€šè¿‡ worker.thread.start() æ¥å¯åŠ¨è¯¥çº¿ç¨‹å³å¯ã€‚ å¯åŠ¨å®Œäº†ä¹‹åŽï¼Œå°±ä¼šæ‰§è¡Œ Worker å¯¹è±¡çš„ run æ–¹æ³•ï¼Œå› ä¸º Worker å®žçŽ°äº† Runnable æŽ¥å£ï¼Œæ‰€ä»¥æœ¬è´¨ä¸Š Worker ä¹Ÿæ˜¯ä¸€ä¸ªçº¿ç¨‹ã€‚ é€šè¿‡çº¿ç¨‹ start å¼€å¯ä¹‹åŽå°±ä¼šè°ƒç”¨åˆ° Runnable çš„ run æ–¹æ³•ï¼Œåœ¨ worker å¯¹è±¡çš„ run æ–¹æ³•ä¸­ï¼Œè°ƒç”¨äº† runWorker(this) æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯æŠŠå½“å‰å¯¹è±¡ä¼ é€’ç»™äº† runWorker æ–¹æ³•ï¼Œè®©ä»–æ¥æ‰§è¡Œã€‚ èŽ·å–ä»»åŠ¡å¹¶æ‰§è¡Œåœ¨ runWorker æ–¹æ³•è¢«è°ƒç”¨ä¹‹åŽï¼Œå°±æ˜¯æ‰§è¡Œå…·ä½“çš„ä»»åŠ¡äº†ï¼Œé¦–å…ˆéœ€è¦æ‹¿åˆ°ä¸€ä¸ªå¯ä»¥æ‰§è¡Œçš„ä»»åŠ¡ï¼Œè€Œ Worker å¯¹è±¡ä¸­é»˜è®¤ç»‘å®šäº†ä¸€ä¸ªä»»åŠ¡ï¼Œå¦‚æžœè¯¥ä»»åŠ¡ä¸ä¸ºç©ºçš„è¯ï¼Œé‚£ä¹ˆå°±æ˜¯ç›´æŽ¥æ‰§è¡Œã€‚ æ‰§è¡Œå®Œäº†ä¹‹åŽï¼Œå°±ä¼šåŽ»é˜»å¡žé˜Ÿåˆ—ä¸­èŽ·å–ä»»åŠ¡æ¥æ‰§è¡Œï¼Œè€ŒèŽ·å–ä»»åŠ¡çš„è¿‡ç¨‹ï¼Œéœ€è¦è€ƒè™‘å½“å‰å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•°ã€‚ å¦‚æžœå·¥ä½œçº¿ç¨‹æ•°å¤§äºŽæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆå°±éœ€è¦é€šè¿‡ poll æ¥èŽ·å–ï¼Œå› ä¸ºè¿™æ—¶éœ€è¦å¯¹é—²ç½®çš„çº¿ç¨‹è¿›è¡Œå›žæ”¶ï¼› å¦‚æžœå·¥ä½œçº¿ç¨‹æ•°å°äºŽç­‰äºŽæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡ take æ¥èŽ·å–äº†ï¼Œå› æ­¤è¿™æ—¶æ‰€æœ‰çš„çº¿ç¨‹éƒ½æ˜¯æ ¸å¿ƒçº¿ç¨‹ï¼Œä¸éœ€è¦è¿›è¡Œå›žæ”¶ï¼Œå‰ææ˜¯æ²¡æœ‰è®¾ç½® allowCoreThreadTimeOut æœ¬ç¯‡åŸºæœ¬ç¬”è€…éƒ½æ˜¯å¯¹çº¿ç¨‹æ± çš„åŸºæœ¬æ¨¡åž‹ä»¥åŠå†…éƒ¨æ¦‚å¿µè¿›è¡Œåˆ†æžï¼Œè¯´å®žè¯ï¼Œå†™å®Œä¹‹åŽè¯»äº†ä¸€éï¼Œæ¯”è¾ƒæŠ½è±¡éš¾ç†è§£ï¼Œä¸‹ç¯‡æˆ‘å°†ä»¥JDKæºç è¿›è¡Œå¯¼è¯»ï¼Œç»§ç»­æŽ¢ç©¶çº¿ç¨‹æ± çš„å·¥ä½œåŽŸç†ï¼Œæ•¬è¯·æœŸå¾…ã€‚ã€‚ã€‚ å‚è€ƒèµ„æ–™ ã€æ­»ç£•Javaå¹¶å‘ã€‘â€”â€“J.U.Cä¹‹çº¿ç¨‹æ± ï¼šThreadPoolExecutor","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"JVMåŠå¹¶å‘ç¼–ç¨‹","slug":"JVMåŠå¹¶å‘ç¼–ç¨‹","permalink":"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/"}]},{"title":"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€","slug":"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€","date":"2018-06-08T14:45:07.000Z","updated":"2020-01-08T13:06:37.440Z","comments":true,"path":"2018/06/08/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€/","link":"","permalink":"http://ltyeamin.github.io/2018/06/08/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaçº¿ç¨‹æ± åŸºç¡€/","excerpt":"","text":"çº¿ç¨‹æ± æ˜¯é™åˆ¶ç³»ç»Ÿä¸­æ‰§è¡Œçº¿ç¨‹çš„æ•°é‡ï¼Œå¹¶èƒ½å¤Ÿæ ¹æ®ä¸€å®šçš„ç­–ç•¥å›žæ”¶çº¿ç¨‹å¹¶é‡å¤ä½¿ç”¨ã€‚JDK1.5ä¹‹åŽåŠ å…¥äº†java.util.concurrentåŒ…ï¼Œæˆ‘ä»¬æ—¥å¸¸ç§°ä¹‹ä¸ºJ.U.Cå¹¶å‘åŒ…ï¼Œè¿™ä¸ªåŒ…å¯¹æˆ‘ä»¬æ—¥å¸¸è§£å†³å¹¶å‘æä¾›äº†éžå¸¸å¤§çš„å¸®åŠ©ã€‚ æ ¹æ®ç³»ç»Ÿçš„çŽ¯å¢ƒæƒ…å†µï¼Œå¯ä»¥è‡ªåŠ¨æˆ–æ‰‹åŠ¨è®¾ç½®çº¿ç¨‹æ•°é‡ï¼Œè¾¾åˆ°è¿è¡Œçš„æœ€ä½³æ•ˆæžœï¼›å°‘äº†æµªè´¹äº†ç³»ç»Ÿèµ„æºï¼Œå¤šäº†é€ æˆç³»ç»Ÿæ‹¥æŒ¤æ•ˆçŽ‡ä¸é«˜ã€‚ç”¨çº¿ç¨‹æ± æŽ§åˆ¶çº¿ç¨‹æ•°é‡ï¼Œå…¶ä»–çº¿ç¨‹æŽ’é˜Ÿç­‰å€™ã€‚ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå†ä»Žé˜Ÿåˆ—çš„ä¸­å–æœ€å‰é¢çš„ä»»åŠ¡å¼€å§‹æ‰§è¡Œã€‚è‹¥é˜Ÿåˆ—ä¸­æ²¡æœ‰ç­‰å¾…è¿›ç¨‹ï¼Œçº¿ç¨‹æ± çš„è¿™ä¸€èµ„æºå¤„äºŽç­‰å¾…ã€‚å½“ä¸€ä¸ªæ–°ä»»åŠ¡éœ€è¦è¿è¡Œæ—¶ï¼Œå¦‚æžœçº¿ç¨‹æ± ä¸­æœ‰ç­‰å¾…çš„å·¥ä½œçº¿ç¨‹ï¼Œå°±å¯ä»¥å¼€å§‹è¿è¡Œäº†ï¼›å¦åˆ™è¿›å…¥ç­‰å¾…é˜Ÿåˆ—ã€‚ ä¸“ä¸šè§£é‡Š:çº¿ç¨‹æ± ç®¡ç†ä¸€ä¸ªå·¥ä½œè€…çº¿ç¨‹çš„åŒæž„æ± ï¼Œçº¿ç¨‹æ± æ˜¯ä¸Žå·¥ä½œé˜Ÿåˆ—ç´§å¯†ç»‘å®šã€‚æ‰€è°“å·¥ä½œé˜Ÿåˆ—ï¼Œå…¶ä½œç”¨æ˜¯æŒæœ‰æ‰€æœ‰ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡ã€‚å·¥ä½œè€…çº¿ç¨‹çš„ç”Ÿæ´»ä»Žæ­¤è½»æ¾èµ·æ¥:å®ƒä»Žå·¥ä½œé˜Ÿåˆ—ä¸­èŽ·å–ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œæ‰§è¡Œå®ƒï¼Œç„¶åŽå›žæ¥ç»§ç»­ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹ã€‚ æ˜¾ç¤ºåˆ›å»ºçº¿ç¨‹å¼Šç«¯åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¦‚æžœæ¯æ¬¡æ˜¾ç¤ºçš„new Thread().start()ï¼Œä¼šå­˜åœ¨å¾ˆå¤§çš„æ€§èƒ½ç¼ºé™·: çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸçš„å¼€é”€æ¯”è¾ƒå¤§ã€‚çº¿ç¨‹çš„åˆ›å»ºä¸Žå…³é—­éƒ½å¾ˆè€—æ—¶ï¼Œå¯¹äºŽè®¡ç®—æœºæ¥è®²ï¼Œæ˜¯ä¸ªä¸å®¹æ˜“çš„äº‹æƒ…ã€‚ æ´»åŠ¨çº¿ç¨‹ä¼šå¾ˆæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œå°¤å…¶æ˜¯å†…å­˜ã€‚å¦‚æžœå¯è¿è¡Œçš„çº¿ç¨‹æ•°å¤šäºŽå¯ç”¨çš„å¤„ç†å™¨å†…æ ¸æ•°é‡ã€‚å¦‚æžœå¤§é‡çº¿ç¨‹ç©ºé—²ï¼Œä¼šå ç”¨æ›´å¤šçš„å†…å­˜ï¼Œç»™åžƒåœ¾å›žæ”¶å¸¦æ¥åŽ‹åŠ›ã€‚å¦‚æžœå¤§é‡çº¿ç¨‹ç¹å¿™ï¼Œå¯¼è‡´å¤§é‡çº¿ç¨‹åŒæ—¶ç«žäº‰CPUèµ„æºï¼Œæ€§èƒ½å¼€é”€å¤šï¼Œé€ æˆç¨‹åºå‡æ­»ï¼Œè®¡ç®—æœºæ­»æœºç­‰å±å®³ã€‚ ç¨³å®šæ€§å’Œå¯ç»´æŠ¤æ€§å·®ã€‚åˆ†æ•£çš„çº¿ç¨‹å¤šäº†æ— æ³•é›†ä¸­å¼ç®¡ç†ï¼Œä»Žè€Œå¯¼è‡´æ„æƒ³ä¸åˆ°çš„BUGï¼Œæ¯”å¦‚ä¸€ç›´åˆ›å»ºçº¿ç¨‹é€ æˆçš„OOMé—®é¢˜ã€‚ Executoræ¡†æž¶ä½œä¸ºçº¿ç¨‹æ± çš„ä¸€éƒ¨åˆ†ï¼ŒJDK1.5ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªä½¿ç”¨æœ‰ç•Œé˜Ÿåˆ—é˜²æ­¢åº”ç”¨ç¨‹åºè¿‡è½½è€Œè€—å°½å†…å­˜çš„Executoræ¡†æž¶ï¼Œè¯¥çº¿ç¨‹æ± å®žçŽ°ç»†èŠ‚åœ¨java.util.comcurrentåŒ…ä¸‹ï¼ˆç®€ç§°å¹¶å‘åŒ…/J.U.CåŒ…ï¼‰ã€‚åœ¨Javaç±»åº“ä¸­ï¼Œä»»åŠ¡æ‰§è¡Œçš„é¦–è¦æŠ½è±¡ä¸æ˜¯Threadï¼Œè€Œæ˜¯Executorï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ˜¯ç®€å•Executoræ¡†æž¶æŠ½è±¡ä¾èµ–: Executoråªæ˜¯ç®€å•çš„æŽ¥å£ï¼Œè¿™ä¸ªæ¡†æž¶å¯ä»¥ç”¨äºŽå¼‚æ­¥ä»»åŠ¡æ‰§è¡Œï¼Œè€Œä¸”æ”¯æŒå¤šç§ç±»åž‹çš„ä»»åŠ¡æ‰§è¡Œç­–ç•¥ã€‚å®ƒä¸ºä»»åŠ¡æäº¤å’Œä»»åŠ¡æ‰§è¡Œä¹‹é—´çš„è§£è€¦æä¾›äº†æ ‡å‡†çš„æ–¹æ³•ï¼Œä¸ºä½¿ç”¨Runnableæè¿°ä»»åŠ¡æä¾›äº†é€šç”¨æ–¹å¼ã€‚Executorçš„å®žçŽ°è¿˜æä¾›äº†å¯¹ç”Ÿå‘½å‘¨æœŸçš„æ”¯æŒä»¥åŠé’©å­å‡½æ•°ï¼Œå¯ä»¥æ·»åŠ è¯¸å¦‚ç»Ÿè®¡æ”¶é›†ã€åº”ç”¨ç¨‹åºç®¡ç†æœºåˆ¶å’Œç›‘è§†å™¨ç­‰æ‰©å±•ã€‚ ExecutoråŸºäºŽç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ã€‚æäº¤ä»»åŠ¡çš„æ‰§è¡Œè€…æ˜¯ç”Ÿäº§è€…(äº§ç”Ÿå¾…å®Œæˆçš„å·¥ä½œå•å…ƒ)ï¼Œæ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹æ˜¯æ¶ˆè´¹è€…(æ¶ˆè€—æŽ‰è¿™äº›å·¥ä½œå•å…ƒ)ã€‚Executorï¼Œä»»åŠ¡çš„æ‰§è¡Œè€…ï¼Œçº¿ç¨‹æ± æ¡†æž¶ä¸­å‡ ä¹Žæ‰€æœ‰ç±»éƒ½ç›´æŽ¥æˆ–è€…é—´æŽ¥å®žçŽ°ExecutoræŽ¥å£ï¼Œå®ƒæ˜¯çº¿ç¨‹æ± æ¡†æž¶çš„åŸºç¡€ã€‚Executoræä¾›äº†ä¸€ç§å°†â€œä»»åŠ¡æäº¤â€ä¸Žâ€œä»»åŠ¡æ‰§è¡Œâ€åˆ†ç¦»å¼€æ¥çš„æœºåˆ¶ï¼Œå®ƒä»…æä¾›äº†ä¸€ä¸ªExecute()æ–¹æ³•ç”¨æ¥æ‰§è¡Œå·²ç»æäº¤çš„Runnableä»»åŠ¡ã€‚ ExecutoræŽ¥å£æ¦‚è¿°12345678package java.util.concurrent;public interface Executor &#123; /** * æ–¹æ³•æè¿°ï¼šæŠ½è±¡å‡ºæ¥çš„ä»»åŠ¡æ‰§è¡Œæ–¹æ³•ï¼Œæ–¹ä¾¿åŽç»­ä¸åŒç±»åž‹çš„çº¿ç¨‹æ± çš„æ‰§è¡Œ * å‚æ•°æè¿°ï¼šRunnableçº¿ç¨‹ä»»åŠ¡å¯¹è±¡ */ void execute(Runnable command);&#125; ExcutorServiceæŽ¥å£æ¦‚è¿°ç»§æ‰¿Executorï¼Œå®ƒæ˜¯â€œæ‰§è¡Œè€…æœåŠ¡â€æŽ¥å£ï¼Œå®ƒæ˜¯ä¸ºâ€æ‰§è¡Œè€…æŽ¥å£Executorâ€æœåŠ¡è€Œå­˜åœ¨çš„ã€‚å‡†ç¡®çš„åœ°è¯´ï¼ŒExecutorServiceæä¾›äº†â€å°†ä»»åŠ¡æäº¤ç»™æ‰§è¡Œè€…çš„æŽ¥å£(submitæ–¹æ³•)â€ï¼Œâ€è®©æ‰§è¡Œè€…æ‰§è¡Œä»»åŠ¡(invokeAll, invokeAnyæ–¹æ³•)â€çš„æŽ¥å£ç­‰ç­‰ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778package java.util.concurrent;import java.util.List;import java.util.Collection;public interface ExecutorService extends Executor &#123; /** * å¯åŠ¨ä¸€æ¬¡é¡ºåºå…³é—­ï¼Œæ‰§è¡Œä»¥å‰æäº¤çš„ä»»åŠ¡ï¼Œä½†ä¸æŽ¥å—æ–°ä»»åŠ¡ */ void shutdown(); /** * è¯•å›¾åœæ­¢æ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„æ´»åŠ¨ä»»åŠ¡ï¼Œæš‚åœå¤„ç†æ­£åœ¨ç­‰å¾…çš„ä»»åŠ¡ï¼Œå¹¶è¿”å›žç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ */ List&lt;Runnable&gt; shutdownNow(); /** * å¦‚æžœæ­¤æ‰§è¡Œç¨‹åºå·²å…³é—­ï¼Œåˆ™è¿”å›ž trueã€‚ */ boolean isShutdown(); /** * å¦‚æžœå…³é—­åŽæ‰€æœ‰ä»»åŠ¡éƒ½å·²å®Œæˆï¼Œåˆ™è¿”å›ž true */ boolean isTerminated(); /** * è¯·æ±‚å…³é—­ã€å‘ç”Ÿè¶…æ—¶æˆ–è€…å½“å‰çº¿ç¨‹ä¸­æ–­ï¼Œæ— è®ºå“ªä¸€ä¸ªé¦–å…ˆå‘ç”Ÿä¹‹åŽï¼Œéƒ½å°†å¯¼è‡´é˜»å¡žï¼Œç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆæ‰§è¡Œ */ boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException; /** * æäº¤ä¸€ä¸ªè¿”å›žå€¼çš„ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œè¿”å›žä¸€ä¸ªè¡¨ç¤ºä»»åŠ¡çš„æœªå†³ç»“æžœçš„ Future */ &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task); /** * æäº¤ä¸€ä¸ª Runnable ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œå¹¶è¿”å›žä¸€ä¸ªè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ Future */ &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result); /** * æäº¤å¯è¿è¡Œçš„ä»»åŠ¡ä»¥ä¾›æ‰§è¡Œï¼Œå¹¶è¿”å›žæœªæ¥çš„ç»“æžœï¼Œå¹¶è¿”å›žç»™ç»™å®šç»“æžœ */ &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result); /** * æäº¤ä¸€ä¸ª Runnable ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œå¹¶è¿”å›žä¸€ä¸ªè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ Future */ Future&lt;?&gt; submit(Runnable task); /** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå½“æ‰€æœ‰ä»»åŠ¡å®Œæˆæ—¶ï¼Œè¿”å›žä¿æŒä»»åŠ¡çŠ¶æ€å’Œç»“æžœçš„ Future åˆ—è¡¨ */ &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException; /** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå½“æ‰€æœ‰ä»»åŠ¡å®Œæˆæˆ–è¶…æ—¶æœŸæ»¡æ—¶ï¼ˆæ— è®ºå“ªä¸ªé¦–å…ˆå‘ç”Ÿï¼‰ï¼Œè¿”å›žä¿æŒä»»åŠ¡çŠ¶æ€å’Œç»“æžœçš„ Future åˆ—è¡¨ */ &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException; /** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå¦‚æžœæŸä¸ªä»»åŠ¡å·²æˆåŠŸå®Œæˆï¼ˆä¹Ÿå°±æ˜¯æœªæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™è¿”å›žå…¶ç»“æžœ */ &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException, ExecutionException; /** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå¦‚æžœåœ¨ç»™å®šçš„è¶…æ—¶æœŸæ»¡å‰æŸä¸ªä»»åŠ¡å·²æˆåŠŸå®Œæˆï¼ˆä¹Ÿå°±æ˜¯æœªæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™è¿”å›žå…¶ç»“æžœ */ &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException;&#125; ExecutorServiceæŽ¥å£æ¦‚è¿°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172package java.util.concurrent;import java.util.List;import java.util.Collection;public interface ExecutorService extends Executor &#123;/** * å¯åŠ¨ä¸€æ¬¡é¡ºåºå…³é—­ï¼Œæ‰§è¡Œä»¥å‰æäº¤çš„ä»»åŠ¡ï¼Œä½†ä¸æŽ¥å—æ–°ä»»åŠ¡ */void shutdown();/** * è¯•å›¾åœæ­¢æ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„æ´»åŠ¨ä»»åŠ¡ï¼Œæš‚åœå¤„ç†æ­£åœ¨ç­‰å¾…çš„ä»»åŠ¡ï¼Œå¹¶è¿”å›žç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ */List&lt;Runnable&gt; shutdownNow();/** * å¦‚æžœæ­¤æ‰§è¡Œç¨‹åºå·²å…³é—­ï¼Œåˆ™è¿”å›ž trueã€‚ */boolean isShutdown();/** * å¦‚æžœå…³é—­åŽæ‰€æœ‰ä»»åŠ¡éƒ½å·²å®Œæˆï¼Œåˆ™è¿”å›ž true. */boolean isTerminated();/** * è¯·æ±‚å…³é—­ã€å‘ç”Ÿè¶…æ—¶æˆ–è€…å½“å‰çº¿ç¨‹ä¸­æ–­ï¼Œæ— è®ºå“ªä¸€ä¸ªé¦–å…ˆå‘ç”Ÿä¹‹åŽï¼Œéƒ½å°†å¯¼è‡´é˜»å¡žï¼Œç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆæ‰§è¡Œ */boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException;/** * æäº¤ä¸€ä¸ªè¿”å›žå€¼çš„ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œè¿”å›žä¸€ä¸ªè¡¨ç¤ºä»»åŠ¡çš„æœªå†³ç»“æžœçš„ Future */&lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task);/** * æäº¤ä¸€ä¸ª Runnable ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œå¹¶è¿”å›žä¸€ä¸ªè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ Future */&lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result);/** * æäº¤ä¸€ä¸ª Runnable ä»»åŠ¡ç”¨äºŽæ‰§è¡Œï¼Œå¹¶è¿”å›žä¸€ä¸ªè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ Future */Future&lt;?&gt; submit(Runnable task);/** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå½“æ‰€æœ‰ä»»åŠ¡å®Œæˆæ—¶ï¼Œè¿”å›žä¿æŒä»»åŠ¡çŠ¶æ€å’Œç»“æžœçš„ Future åˆ—è¡¨ */&lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException;/** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå½“æ‰€æœ‰ä»»åŠ¡å®Œæˆæˆ–è¶…æ—¶æœŸæ»¡æ—¶ï¼ˆæ— è®ºå“ªä¸ªé¦–å…ˆå‘ç”Ÿï¼‰ï¼Œè¿”å›žä¿æŒä»»åŠ¡çŠ¶æ€å’Œç»“æžœçš„ Future åˆ—è¡¨ */&lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException;/** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå¦‚æžœæŸä¸ªä»»åŠ¡å·²æˆåŠŸå®Œæˆï¼ˆä¹Ÿå°±æ˜¯æœªæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™è¿”å›žå…¶ç»“æžœ */&lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException, ExecutionException;/** * æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œå¦‚æžœåœ¨ç»™å®šçš„è¶…æ—¶æœŸæ»¡å‰æŸä¸ªä»»åŠ¡å·²æˆåŠŸå®Œæˆï¼ˆä¹Ÿå°±æ˜¯æœªæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™è¿”å›žå…¶ç»“æžœ */&lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException;&#125; AbstractExecutorServiceç±»æ¦‚è¿°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196package java.util.concurrent;import java.util.*;public abstract class AbstractExecutorService implements ExecutorService &#123; protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Runnable runnable, T value) &#123; return new FutureTask&lt;T&gt;(runnable, value); &#125; protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Callable&lt;T&gt; callable) &#123; return new FutureTask&lt;T&gt;(callable); &#125; public Future&lt;?&gt; submit(Runnable task) &#123; if (task == null) throw new NullPointerException(); RunnableFuture&lt;Void&gt; ftask = newTaskFor(task, null); execute(ftask); return ftask; &#125; public &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result) &#123; if (task == null) throw new NullPointerException(); RunnableFuture&lt;T&gt; ftask = newTaskFor(task, result); execute(ftask); return ftask; &#125; public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) &#123; if (task == null) throw new NullPointerException(); RunnableFuture&lt;T&gt; ftask = newTaskFor(task); execute(ftask); return ftask; &#125; private &lt;T&gt; T doInvokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, boolean timed, long nanos) throws InterruptedException, ExecutionException, TimeoutException &#123; if (tasks == null) throw new NullPointerException(); int ntasks = tasks.size(); if (ntasks == 0) throw new IllegalArgumentException(); ArrayList&lt;Future&lt;T&gt;&gt; futures = new ArrayList&lt;Future&lt;T&gt;&gt;(ntasks); ExecutorCompletionService&lt;T&gt; ecs = new ExecutorCompletionService&lt;T&gt;(this); try &#123; // Record exceptions so that if we fail to obtain any // result, we can throw the last exception we got. ExecutionException ee = null; final long deadline = timed ? System.nanoTime() + nanos : 0L; Iterator&lt;? extends Callable&lt;T&gt;&gt; it = tasks.iterator(); // Start one task for sure; the rest incrementally futures.add(ecs.submit(it.next())); --ntasks; int active = 1; for (;;) &#123; Future&lt;T&gt; f = ecs.poll(); if (f == null) &#123; if (ntasks &gt; 0) &#123; --ntasks; futures.add(ecs.submit(it.next())); ++active; &#125; else if (active == 0) break; else if (timed) &#123; f = ecs.poll(nanos, TimeUnit.NANOSECONDS); if (f == null) throw new TimeoutException(); nanos = deadline - System.nanoTime(); &#125; else f = ecs.take(); &#125; if (f != null) &#123; --active; try &#123; return f.get(); &#125; catch (ExecutionException eex) &#123; ee = eex; &#125; catch (RuntimeException rex) &#123; ee = new ExecutionException(rex); &#125; &#125; &#125; if (ee == null) ee = new ExecutionException(); throw ee; &#125; finally &#123; for (int i = 0, size = futures.size(); i &lt; size; i++) futures.get(i).cancel(true); &#125; &#125; public &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException, ExecutionException &#123; try &#123; return doInvokeAny(tasks, false, 0); &#125; catch (TimeoutException cannotHappen) &#123; assert false; return null; &#125; &#125; public &lt;T&gt; T invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException &#123; return doInvokeAny(tasks, true, unit.toNanos(timeout)); &#125; public &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks) throws InterruptedException &#123; if (tasks == null) throw new NullPointerException(); ArrayList&lt;Future&lt;T&gt;&gt; futures = new ArrayList&lt;Future&lt;T&gt;&gt;(tasks.size()); boolean done = false; try &#123; for (Callable&lt;T&gt; t : tasks) &#123; RunnableFuture&lt;T&gt; f = newTaskFor(t); futures.add(f); execute(f); &#125; for (int i = 0, size = futures.size(); i &lt; size; i++) &#123; Future&lt;T&gt; f = futures.get(i); if (!f.isDone()) &#123; try &#123; f.get(); &#125; catch (CancellationException ignore) &#123; &#125; catch (ExecutionException ignore) &#123; &#125; &#125; &#125; done = true; return futures; &#125; finally &#123; if (!done) for (int i = 0, size = futures.size(); i &lt; size; i++) futures.get(i).cancel(true); &#125; &#125; public &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit) throws InterruptedException &#123; if (tasks == null) throw new NullPointerException(); long nanos = unit.toNanos(timeout); ArrayList&lt;Future&lt;T&gt;&gt; futures = new ArrayList&lt;Future&lt;T&gt;&gt;(tasks.size()); boolean done = false; try &#123; for (Callable&lt;T&gt; t : tasks) futures.add(newTaskFor(t)); final long deadline = System.nanoTime() + nanos; final int size = futures.size(); // Interleave time checks and calls to execute in case // executor doesn't have any/much parallelism. for (int i = 0; i &lt; size; i++) &#123; execute((Runnable)futures.get(i)); nanos = deadline - System.nanoTime(); if (nanos &lt;= 0L) return futures; &#125; for (int i = 0; i &lt; size; i++) &#123; Future&lt;T&gt; f = futures.get(i); if (!f.isDone()) &#123; if (nanos &lt;= 0L) return futures; try &#123; f.get(nanos, TimeUnit.NANOSECONDS); &#125; catch (CancellationException ignore) &#123; &#125; catch (ExecutionException ignore) &#123; &#125; catch (TimeoutException toe) &#123; return futures; &#125; nanos = deadline - System.nanoTime(); &#125; &#125; done = true; return futures; &#125; finally &#123; if (!done) for (int i = 0, size = futures.size(); i &lt; size; i++) futures.get(i).cancel(true); &#125; &#125;&#125; æŠ½è±¡ç±»ï¼Œå®žçŽ°ExecutorServiceæŽ¥å£ï¼Œä¸ºå…¶æä¾›é»˜è®¤å®žçŽ°ã€‚AbstractExecutorServiceé™¤äº†å®žçŽ°ExecutorServiceæŽ¥å£å¤–ï¼Œè¿˜æä¾›äº†ä¸¤ä¸ªnewTaskFor()é‡è½½æ–¹æ³•ï¼Œä¸€ä¸ªæ”¯æŒRunnableä»»åŠ¡ï¼Œä¸€ä¸ªæ”¯æŒå¸¦æœ‰æ‰§è¡Œç»“æžœçš„Callableä»»åŠ¡ï¼Œæ‰§è¡ŒåŽè¿”å›žä¸€ä¸ªRunnableFutureï¼Œåœ¨è¿è¡Œçš„æ—¶å€™ï¼Œå®ƒå°†è°ƒç”¨åº•å±‚å¯è°ƒç”¨ä»»åŠ¡ï¼Œä½œä¸º Future ä»»åŠ¡ï¼Œå®ƒå°†ç”Ÿæˆå¯è°ƒç”¨çš„ç»“æžœä½œä¸ºå…¶ç»“æžœï¼Œå¹¶ä¸ºåº•å±‚ä»»åŠ¡æä¾›å–æ¶ˆæ“ä½œã€‚ åŒæ—¶è¯¥æŠ½è±¡ç±»ä¹Ÿæä¾›äº†ä¸¤ä¸ªsubmit()æ–¹æ³•ï¼Œä¸€ä¸ªåªæäº¤Runnableä»»åŠ¡ï¼Œä¸€ä¸ªæäº¤Runnableçš„ä»»åŠ¡å¹¶å°†è¿”å›žçš„æœªæ¥çš„é»˜è®¤å€¼å°è£…åˆ°ç¬¬äºŒä¸ªè¿”å›žå‚æ•°ä¸­ã€‚ ScheduledExecutorServiceæŽ¥å£æ¦‚è¿°1234567891011121314151617181920212223242526package java.util.concurrent;public interface ScheduledExecutorService extends ExecutorService &#123; /** * åˆ›å»ºå¹¶æ‰§è¡Œåœ¨ç»™å®šå»¶è¿ŸåŽå¯ç”¨çš„ ScheduledFutureã€‚ */ public ScheduledFuture&lt;?&gt; schedule(Runnable command, long delay, TimeUnit unit); /** * åˆ›å»ºå¹¶æ‰§è¡Œåœ¨ç»™å®šå»¶è¿ŸåŽå¯ç”¨çš„ä¸€æ¬¡æ€§æ“ä½œã€‚ */ public &lt;V&gt; ScheduledFuture&lt;V&gt; schedule(Callable&lt;V&gt; callable,long delay, TimeUnit unit); /** * åˆ›å»ºå¹¶æ‰§è¡Œä¸€ä¸ªåœ¨ç»™å®šåˆå§‹å»¶è¿ŸåŽé¦–æ¬¡å¯ç”¨çš„å®šæœŸæ“ä½œï¼ŒåŽç»­æ“ä½œå…·æœ‰ç»™å®šçš„å‘¨æœŸï¼› * ä¹Ÿå°±æ˜¯å°†åœ¨ initialDelay åŽå¼€å§‹æ‰§è¡Œï¼Œç„¶åŽåœ¨ initialDelay+period åŽæ‰§è¡Œï¼ŒæŽ¥ç€åœ¨ initialDelay+2* period åŽæ‰§è¡Œï¼Œä¾æ­¤ç±»æŽ¨ã€‚ */ public ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable command,long initialDelay, long period,TimeUnit unit); /** * åˆ›å»ºå¹¶æ‰§è¡Œä¸€ä¸ªåœ¨ç»™å®šåˆå§‹å»¶è¿ŸåŽé¦–æ¬¡å¯ç”¨çš„å®šæœŸæ“ä½œï¼ŒéšåŽï¼Œåœ¨æ¯ä¸€æ¬¡æ‰§è¡Œç»ˆæ­¢å’Œä¸‹ä¸€æ¬¡æ‰§è¡Œå¼€å§‹ä¹‹é—´éƒ½å­˜åœ¨ç»™å®šçš„å»¶è¿Ÿã€‚ */ public ScheduledFuture&lt;?&gt; scheduleWithFixedDelay(Runnable command,long initialDelay,long delay, TimeUnit unit);&#125; ThreadPoolExecutorç±»æ¦‚è¿°æˆ‘ä»¬Javaçº¿ç¨‹æ± ä¸»è¦æ˜¯å›´ç»•ThreadPoolExecutorç±»å±•å¼€çš„ï¼ŒåŽç»­ä¼šå¯¹ThreadPoolExecutorè¯¦è§£ã€‚ Executorsç±»æ¦‚è¿°å’ŒThreadPoolExecutorä¸€æ ·åŽç»­ä¼šè¯¦è§£ï¼Œè¯¥ç±»æ˜¯çº¿ç¨‹æ± çš„é™æ€å·¥åŽ‚ç±»ï¼Œæä¾›äº†Executorã€ExecutorServiceã€ScheduledExecutorServiceã€ThreadFactory ã€Callable ç­‰ç±»çš„é™æ€å·¥åŽ‚æ–¹æ³•ï¼Œé€šè¿‡è¿™äº›å·¥åŽ‚æ–¹æ³•æˆ‘ä»¬å¯ä»¥å¾—åˆ°ç›¸å¯¹åº”çš„å¯¹è±¡ã€‚ åˆ›å»ºå¹¶è¿”å›žè®¾ç½®æœ‰å¸¸ç”¨é…ç½®å­—ç¬¦ä¸²çš„ ExecutorService çš„æ–¹æ³•ã€‚ åˆ›å»ºå¹¶è¿”å›žè®¾ç½®æœ‰å¸¸ç”¨é…ç½®å­—ç¬¦ä¸²çš„ ScheduledExecutorService çš„æ–¹æ³•ã€‚ åˆ›å»ºå¹¶è¿”å›žâ€œåŒ…è£…çš„â€ExecutorService æ–¹æ³•ï¼Œå®ƒé€šè¿‡ä½¿ç‰¹å®šäºŽå®žçŽ°çš„æ–¹æ³•ä¸å¯è®¿é—®æ¥ç¦ç”¨é‡æ–°é…ç½®ã€‚ åˆ›å»ºå¹¶è¿”å›ž ThreadFactory çš„æ–¹æ³•ï¼Œå®ƒå¯å°†æ–°åˆ›å»ºçš„çº¿ç¨‹è®¾ç½®ä¸ºå·²çŸ¥çš„çŠ¶æ€ã€‚ åˆ›å»ºå¹¶è¿”å›žéžé—­åŒ…å½¢å¼çš„ Callable çš„æ–¹æ³•ï¼Œè¿™æ ·å¯å°†å…¶ç”¨äºŽéœ€è¦ Callable çš„æ‰§è¡Œæ–¹æ³•ä¸­ã€‚ FutureæŽ¥å£FutureæŽ¥å£å’Œå®žçŽ°FutureæŽ¥å£çš„FutureTaskä»£è¡¨äº†çº¿ç¨‹æ± çš„å¼‚æ­¥è®¡ç®—ç»“æžœã€‚ AbstractExecutorServiceæä¾›äº†newTaskFor()æ–¹æ³•è¿”å›žä¸€ä¸ªRunnableFutureï¼Œé™¤æ­¤ä¹‹å¤–å½“æˆ‘ä»¬æŠŠä¸€ä¸ªRunnableæˆ–è€…Callableæäº¤ç»™ï¼ˆsubmit()ï¼‰ThreadPoolExecutoræˆ–è€…ScheduledThreadPoolExecutoræ—¶ï¼Œä»–ä»¬åˆ™ä¼šå‘æˆ‘ä»¬è¿”å›žä¸€ä¸ªFutureTaskå¯¹è±¡ã€‚å¦‚ä¸‹ï¼š 1234567891011protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Runnable runnable, T value) &#123; return new FutureTask&lt;T&gt;(runnable, value);&#125;protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Callable&lt;T&gt; callable) &#123; return new FutureTask&lt;T&gt;(callable);&#125;&lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result) Future&lt;&gt; submit(Runnable task) FutureæŽ¥å£æ¦‚è¿°ä½œä¸ºå¼‚æ­¥è®¡ç®—çš„é¡¶å±‚æŽ¥å£ï¼ŒFutureå¯¹å…·ä½“çš„Runnableæˆ–è€…Callableä»»åŠ¡æä¾›äº†ä¸‰ç§æ“ä½œï¼šæ‰§è¡Œä»»åŠ¡çš„å–æ¶ˆã€æŸ¥è¯¢ä»»åŠ¡æ˜¯å¦å®Œæˆã€èŽ·å–ä»»åŠ¡çš„æ‰§è¡Œç»“æžœã€‚å…¶æŽ¥å£å®šä¹‰å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233package java.util.concurrent;public interface Future&lt;V&gt; &#123; /** * è¯•å›¾å–æ¶ˆå¯¹æ­¤ä»»åŠ¡çš„æ‰§è¡Œ * å¦‚æžœä»»åŠ¡å·²å®Œæˆã€æˆ–å·²å–æ¶ˆï¼Œæˆ–è€…ç”±äºŽæŸäº›å…¶ä»–åŽŸå› è€Œæ— æ³•å–æ¶ˆï¼Œåˆ™æ­¤å°è¯•å°†å¤±è´¥ã€‚ * å½“è°ƒç”¨ cancel æ—¶ï¼Œå¦‚æžœè°ƒç”¨æˆåŠŸï¼Œè€Œæ­¤ä»»åŠ¡å°šæœªå¯åŠ¨ï¼Œåˆ™æ­¤ä»»åŠ¡å°†æ°¸ä¸è¿è¡Œã€‚ * å¦‚æžœä»»åŠ¡å·²ç»å¯åŠ¨ï¼Œåˆ™ mayInterruptIfRunning å‚æ•°ç¡®å®šæ˜¯å¦åº”è¯¥ä»¥è¯•å›¾åœæ­¢ä»»åŠ¡çš„æ–¹å¼æ¥ä¸­æ–­æ‰§è¡Œæ­¤ä»»åŠ¡çš„çº¿ç¨‹ */ boolean cancel(boolean mayInterruptIfRunning); /** * å¦‚æžœåœ¨ä»»åŠ¡æ­£å¸¸å®Œæˆå‰å°†å…¶å–æ¶ˆï¼Œåˆ™è¿”å›ž true */ boolean isCancelled(); /** * å¦‚æžœä»»åŠ¡å·²å®Œæˆï¼Œåˆ™è¿”å›ž true */ boolean isDone(); /** * å¦‚æœ‰å¿…è¦ï¼Œç­‰å¾…è®¡ç®—å®Œæˆï¼Œç„¶åŽèŽ·å–å…¶ç»“æžœ */ V get() throws InterruptedException, ExecutionException; /** * å¦‚æœ‰å¿…è¦ï¼Œæœ€å¤šç­‰å¾…ä¸ºä½¿è®¡ç®—å®Œæˆæ‰€ç»™å®šçš„æ—¶é—´ä¹‹åŽï¼ŒèŽ·å–å…¶ç»“æžœï¼ˆå¦‚æžœç»“æžœå¯ç”¨ï¼‰ */ V get(long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException;&#125; RunnableFutureæŽ¥å£æ¦‚è¿°ç»§æ‰¿Futureã€Runnableä¸¤ä¸ªæŽ¥å£ï¼Œä¸ºä¸¤è€…çš„åˆä½“ï¼Œå³æ‰€è°“çš„Runnableçš„Futureã€‚æä¾›äº†ä¸€ä¸ªrun()æ–¹æ³•å¯ä»¥å®ŒæˆFutureå¹¶å…è®¸è®¿é—®å…¶ç»“æžœï¼Œå…¶æºç å¦‚ä¸‹ï¼š 123456package java.util.concurrent;public interface RunnableFuture&lt;V&gt; extends Runnable, Future&lt;V&gt; &#123; //åœ¨æœªè¢«å–æ¶ˆçš„æƒ…å†µä¸‹ï¼Œå°†æ­¤ Future è®¾ç½®ä¸ºè®¡ç®—çš„ç»“æžœ void run();&#125; FutureTaskæŽ¥å£æ¦‚è¿°å®žçŽ°RunnableFutureæŽ¥å£ï¼Œæ—¢å¯ä»¥ä½œä¸ºRunnableè¢«æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥ä½œä¸ºFutureå¾—åˆ°Callableçš„è¿”å›žå€¼ã€‚ å‚è€ƒèµ„æ–™ ã€ŠJavaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‹ ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾ J.U.Cä¹‹çº¿ç¨‹æ± ï¼šçº¿ç¨‹æ± çš„åŸºç¡€æž¶æž„","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"JVMåŠå¹¶å‘ç¼–ç¨‹","slug":"JVMåŠå¹¶å‘ç¼–ç¨‹","permalink":"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/"}]},{"title":"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§","slug":"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§","date":"2018-06-03T02:11:44.000Z","updated":"2019-05-29T14:03:52.000Z","comments":true,"path":"2018/06/03/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§/","link":"","permalink":"http://ltyeamin.github.io/2018/06/03/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-æµ…è°ˆvolatileå†…å­˜å¯è§æ€§/","excerpt":"","text":"volatileè¿™ä¸ªå…³é”®å­—å¤§å®¶éƒ½å¬è¿‡ï¼Œçœ‹è¿‡è®¸å¤šæºç ä¹Ÿç”¨è¿‡ï¼Œè¿™ä¸ªå…³é”®å­—å¤‡å—äº‰è®®ï¼Œå¾ˆå¤šäººåŸºäºŽè¡¨é¢ç†è§£è€Œå¯¼è‡´åœ¨å®žé™…å¼€å‘è¿‡ç”Ÿä¸­å¤§è‚†è¯¯ç”¨ï¼Œæš´éœ²å‡ºå„å¼å„æ ·çš„é—®é¢˜ï¼Œè®©äººæ‘¸ä¸ç€å¤´è„‘ï¼Œä»Šå¤©æˆ‘ä»¬æ¥å¥½å¥½ç†è§£ä¸€ä¸‹volatileã€‚ ç™¾åº¦ç™¾ç§‘:volatileæ˜¯ä¸€ä¸ªç±»åž‹ä¿®é¥°ç¬¦.volatileçš„ä½œç”¨æ˜¯ä½œä¸ºæŒ‡ä»¤å…³é”®å­—ï¼Œç¡®ä¿æœ¬æ¡æŒ‡ä»¤ä¸ä¼šå› ç¼–è¯‘å™¨çš„ä¼˜åŒ–è€Œçœç•¥ï¼Œä¸”è¦æ±‚æ¯æ¬¡ç›´æŽ¥è¯»å€¼; volatileæ˜¯Javaè™šæ‹Ÿæœºæä¾›çš„è½»é‡çº§åŒæ­¥æœºåˆ¶çš„å…³é”®å­—ï¼Œä½¿è¢«ä¿®é¥°çš„å˜é‡åœ¨å¤šä¸ªçº¿ç¨‹å¯è§ï¼› volatileå˜é‡å…·æœ‰ synchronized çš„å¯è§æ€§ç‰¹æ€§ï¼Œä¸Žsynchronizeæœ‰ç›¸ä¼¼çš„åŒæ­¥åŠŸèƒ½ï¼Œä½†ä¸å…·å¤‡åŽŸå­ç‰¹æ€§ï¼Œåœ¨å¤šçº¿ç¨‹å¹¶å‘ä¸‹æ˜¯ä¸å®‰å…¨çš„ã€‚ ä¸¤ç§ç‰¹æ€§ç‰¹æ€§å½’çº³å½“ä¸€ä¸ªå˜é‡è¢«å®šä¹‰æˆvolatileä¹‹åŽï¼Œå®ƒå°†å…·å¤‡å¦‚ä¸‹ä¸¤ç§ç‰¹æ€§: ä¿è¯æ­¤å˜é‡å¯¹æ‰€æœ‰çº¿ç¨‹çš„å¯è§æ€§ã€‚å³æŒ‡å½“ä¸€æ¡çº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå˜é‡çš„å€¼ï¼Œæ–°å€¼å¯¹äºŽå…¶ä»–çº¿ç¨‹æ¥è¯´æ˜¯å¯ä»¥ç«‹å³æ„ŸçŸ¥çš„ï¼Œè€Œç›¸æ¯”ä¹‹ä¸‹ï¼Œæ™®é€šå˜é‡ä¸èƒ½åšåˆ°è¿™ç‚¹ï¼Œå˜é‡å€¼åœ¨çº¿ç¨‹é—´ä¼ é€’å‡éœ€è¦é€šè¿‡ä¸»å†…å­˜æ¥å®Œæˆã€‚æ¯”å¦‚çº¿ç¨‹1ä¿®æ”¹açš„å€¼ï¼Œç„¶åŽå‘ä¸»å†…å­˜è¿›è¡Œå›žå†™ï¼Œå¦å¤–ä¸€æ¡çº¿ç¨‹2åœ¨çº¿ç¨‹1å›žå†™å®Œæˆäº†ä¹‹åŽå†ä»Žä¸»å†…å­˜è¿›è¡Œè¯»å–æ“ä½œï¼Œæ–°å˜é‡çš„å€¼æ‰ä¼šå¯¹çº¿ç¨‹2å¯è§ã€‚ ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºä¼˜åŒ–ã€‚æ™®é€šå˜é‡ä»…ä»…ä¼šä¿è¯åœ¨è¯¥æ–¹æ³•çš„æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€æœ‰ä¾èµ–èµ‹å€¼ç»“æžœçš„åœ°æ–¹éƒ½èƒ½èŽ·å–åˆ°æ­£ç¡®çš„ç»“æžœï¼Œè€Œä¸èƒ½ä¿è¯å˜é‡èµ‹å€¼æ“ä½œçš„é¡ºåºä¸Žç¨‹åºä»£ç ä¸­çš„æ‰§è¡Œé¡ºåºä¸€è‡´ã€‚å› ä¸ºåœ¨ä¸€ä¸ªçº¿ç¨‹çš„æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­æ— æ³•æ„ŸçŸ¥åˆ°è¿™ç‚¹ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œçº¿ç¨‹å†…è¡¨çŽ°ä¸ºä¸²è¡Œçš„è¯­ä¹‰â€(Within-Thread As-If-Serial Semantics)ã€‚ ä»£ç ç¤ºä¾‹å¤šçº¿ç¨‹å¹¶å‘å®‰å…¨12345678910111213141516171819202122232425262728293031323334353637383940/** * @author tong.li * @description: volatileåªä¿è¯å†…å­˜é—´çº¿ç¨‹å¯è§æ€§,å¹¶ä¸ä¿è¯çº¿ç¨‹å®‰å…¨æ€§ * @date 2018-06-12 11:11:23 */public class VolatileTest &#123; //å…±äº«å˜é‡ public volatile int num = 0; //çº¿ç¨‹æ•°é‡ public static final int THREAD_COUNT = 20; public void add() &#123; //numè¿›è¡ŒéžåŽŸå­æ“ä½œ num++; &#125; public static void main(String[] args) &#123; final VolatileTest test = new VolatileTest(); //åˆ›å»º20ä¸ªçº¿ç¨‹ Thread[] threads = new Thread[THREAD_COUNT]; for (int i = 0; i &lt; THREAD_COUNT ; i++) &#123; threads[i] = new Thread(() -&gt; &#123; //å½“å‰çº¿ç¨‹æ“ä½œ10000æ¬¡å¯¹å…±äº«å˜é‡numè¿›è¡Œè‡ªåŠ æ“ä½œ for (int j = 0; j &lt; 10000; j++) &#123; test.add(); &#125; &#125;); //å¯åŠ¨å½“å‰çº¿ç¨‹ threads[i].start(); &#125; //æ´»åŠ¨çº¿ç¨‹çš„å½“å‰çº¿ç¨‹çš„çº¿ç¨‹ç»„ä¸­çš„æ•°é‡å¤§äºŽ1æ—¶,æ‰§è¡Œçº¿ç¨‹è®©æ­¥,è®©æ´»åŠ¨çš„çº¿ç¨‹å°½å¯èƒ½æ‰§è¡Œå®Œ // while (Thread.activeCount() &gt; 1) &#123; // Thread.yield(); //&#125; //æ‰“å°æœ€ç»ˆç»“æžœ,ç»“æžœå¤šæ•°å°äºŽ200000,ä¸ºä»€ä¹ˆå‘¢? System.out.println(\"num = \" + test.num); &#125;&#125; è¿è¡Œç»“æžœå¦‚ä¸‹: ç¬¬1æ¬¡ 1num = 132203 ç¬¬2æ¬¡ 1num = 160740 ç¬¬3æ¬¡ 1num = 187482 ä¸Šè¿°ä»£ç åˆ›å»º20ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹å¯¹numè¿›è¡Œ10000æ¬¡è‡ªå¢žæ“ä½œï¼Œå¦‚æžœä¸Šè¿°ä»£ç æ­£ç¡®å¹¶å‘ï¼ˆä¸è€ƒè™‘çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼‰çš„æƒ…å†µä¸‹ï¼Œæœ€åŽçš„ç»“æžœåº”è¯¥æ˜¯200000ï¼Œä½†æ˜¯ä¸ºå®žé™…ä¸‰æ¬¡è¿è¡Œç»“æžœä»¤äººåŒªå¤·æ‰€æ€ï¼Œå¤šæ¬¡çš„è¿è¡Œç»“æžœå¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ˜¯å°äºŽ200000ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ æˆ‘ä»¬éƒ½çŸ¥é“num++æ˜¯éžåŽŸå­æ€§æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•è¿›è¡Œjavapåç¼–è¯‘ä¸Šè¿°ä»£ç ä¸€æŽ¢ç©¶ç«Ÿï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137Yeamin:java mac$ javap -c VolatileTestCompiled from \"VolatileTest.java\"public class VolatileTest &#123; public volatile int num; public static final int THREAD_COUNT; public VolatileTest(); Code: 0: aload_0 1: invokespecial #1 // Method java/lang/Object.\"&lt;init&gt;\":()V 4: aload_0 5: iconst_0 6: putfield #2 // Field num:I 9: return public void add(); Code: 0: aload_0 1: dup 2: getfield #2 // Field num:I 5: iconst_1 6: iadd 7: putfield #2 // Field num:I 10: return public static void main(java.lang.String[]); Code: 0: new #3 // class VolatileTest 3: dup 4: invokespecial #4 // Method \"&lt;init&gt;\":()V 7: astore_1 8: bipush 20 10: anewarray #5 // class java/lang/Thread 13: astore_2 14: iconst_0 15: istore_3 16: iload_3 17: bipush 20 19: if_icmpge 52 22: aload_2 23: iload_3 24: new #5 // class java/lang/Thread 27: dup 28: new #6 // class VolatileTest$1 31: dup 32: aload_1 33: invokespecial #7 // Method VolatileTest$1.\"&lt;init&gt;\":(LVolatileTest;)V 36: invokespecial #8 // Method java/lang/Thread.\"&lt;init&gt;\":(Ljava/lang/Runnable;)V 39: aastore 40: aload_2 41: iload_3 42: aaload 43: invokevirtual #9 // Method java/lang/Thread.start:()V 46: iinc 3, 1 49: goto 16 52: invokestatic #10 // Method java/lang/Thread.activeCount:()I 55: iconst_1 56: if_icmple 65 59: invokestatic #11 // Method java/lang/Thread.yield:()V 62: goto 52 65: getstatic #12 // Field java/lang/System.out:Ljava/io/PrintStream; 68: new #13 // class java/lang/StringBuilder 71: dup 72: invokespecial #14 // Method java/lang/StringBuilder.\"&lt;init&gt;\":()V 75: ldc #15 // String num = 77: invokevirtual #16 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; 80: aload_1 81: getfield #2 // Field num:I 84: invokevirtual #17 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder; 87: invokevirtual #18 // Method java/lang/StringBuilder.toString:()Ljava/lang/String; 90: invokevirtual #19 // Method java/io/PrintStream.println:(Ljava/lang/String;)V 93: return&#125; åœ¨ä¸Šè¿°åç¼–è¯‘çš„å­—èŠ‚ç åˆ†æžå¾—çŸ¥ï¼Œnum++ä¸æ˜¯ä¸€ä¸ªåŽŸå­æ“ä½œï¼Œå³çº¿ç¨‹ä¸å®‰å…¨ï¼Œå¯ä»¥å°†num++ç®€å•åˆ†è§£æˆä»¥ä¸‹å‡ ä¸ªæ­¥éª¤: ä»Žå†…å­˜ä¸­å–å‡ºnumçš„å€¼ï¼› è®¡ç®—numçš„å€¼ï¼› å°†numçš„å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ add()æ–¹æ³•æœ‰6æ¡æŒ‡ä»¤ï¼ˆæ¯ä¸ªæŒ‡ä»¤å¯èƒ½å«æœ‰å¤šä¸ªåº•å±‚æŒ‡ä»¤æ“ä½œï¼Œåªä¸ºç ”ç©¶ï¼Œå¹¶ä¸å‡†ç¡®ï¼Œè¦æƒ³å‡†ç¡®ç ”ç©¶å»ºè®®ä½¿ç”¨-XX:+PrintAssemblyå‚æ•°è¾“å‡ºåæ±‡ç¼–ï¼‰ï¼Œå…¶ä¸­returnæŒ‡ä»¤å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œå› ä¸ºä¸æ˜¯num++äº§ç”Ÿçš„ã€‚ aload_0ï¼šåœ¨éžé™æ€æ–¹æ³•ä¸­ï¼Œaload_0 è¡¨ç¤ºå¯¹thisçš„æ“ä½œï¼Œåœ¨static æ–¹æ³•ä¸­ï¼Œaload_0è¡¨ç¤ºå¯¹æ–¹æ³•çš„ç¬¬ä¸€å‚æ•°çš„æ“ä½œï¼› dupï¼šå¤åˆ¶æ“ä½œæ•°æ ˆé¡¶å€¼ï¼Œå¹¶å°†å…¶åŽ‹å…¥æ ˆé¡¶ï¼Œåœ¨è¿™é‡Œæ˜¯å°†å½“å‰VolatileTestä¸‹newå¯¹è±¡åŽ‹å…¥æ ˆé¡¶ï¼› getfield/getstaticï¼šå°†æ ˆé¡¶çš„å¯¹è±¡ç¬¬äºŒä¸ªå®žä¾‹å­—æ®µåŽ‹å…¥æ ˆé¡¶ï¼Œå³å°†numçš„å€¼åŽ‹å…¥æ ˆé¡¶ï¼Œæ­¤æ—¶numçš„å€¼æ˜¯æœ€æ–°çš„ï¼› iconst_1ï¼šå°†intåž‹(1)æŽ¨é€è‡³æ ˆé¡¶ï¼Œå³æŠŠå¸¸é‡1åŽ‹å…¥æ ˆé¡¶ï¼› iaddï¼šæŠŠæ“ä½œæ•°æ ˆä¸­çš„å‰ä¸¤ä¸ªintå€¼å‡ºæ ˆå¹¶ç›¸åŠ ,æ“ä½œè¿‡åŽåªåœ¨stackä¸­ä¿ç•™ç»“æžœï¼Œå³ä½¿numå½“å‰å€¼+1ä¿ç•™åœ¨æ ˆä¸­ï¼Œè¿™é‡Œå¤šçº¿ç¨‹æ—¶å€™å¯èƒ½å‡ºçŽ°é—®é¢˜ï¼Œå…¶ä»–çº¿ç¨‹ç›¸åŠ çš„ç»“æžœä¼šè¦†ç›–å½“å‰æ ˆé¡¶çš„ç»“æžœï¼Œå› è€Œè¿”å›žè¾ƒå°çš„ç»“æžœã€‚ putfieldï¼šå°†æœ€ç»ˆçš„æ ˆé¡¶ç»“æžœçš„å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ï¼› returnï¼šæ ˆä¸­çš„æ•°æ®è¿”å›žåŽï¼Œç»“æŸæ–¹æ³• ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºvolatileå…³é”®å­—ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºæœ‰ä¸¤å±‚æ„æ€ï¼š å½“ç¨‹åºæ‰§è¡Œåˆ°volatileå˜é‡çš„è¯»æ“ä½œæˆ–è€…å†™æ“ä½œæ—¶ï¼Œåœ¨å…¶å‰é¢çš„æ“ä½œçš„æ›´æ”¹è‚¯å®šå…¨éƒ¨å·²ç»è¿›è¡Œï¼Œä¸”ç»“æžœå·²ç»å¯¹åŽé¢çš„æ“ä½œå¯è§ï¼›åœ¨å…¶åŽé¢çš„æ“ä½œè‚¯å®šè¿˜æ²¡æœ‰è¿›è¡Œï¼› åœ¨è¿›è¡ŒæŒ‡ä»¤ä¼˜åŒ–æ—¶ï¼Œä¸èƒ½å°†åœ¨å¯¹volatileå˜é‡è®¿é—®çš„è¯­å¥æ”¾åœ¨å…¶åŽé¢æ‰§è¡Œï¼Œä¹Ÿä¸èƒ½æŠŠvolatileå˜é‡åŽé¢çš„è¯­å¥æ”¾åˆ°å…¶å‰é¢æ‰§è¡Œã€‚ ä¸¾ä¸ªå®žä¾‹ï¼Œè¯·çœ‹ä¸‹é¢çš„ä»£ç : 1234567//xã€yä¸ºéžvolatileå˜é‡//flagä¸ºvolatileå˜é‡int x = 2; //è¯­å¥1int y = 0; //è¯­å¥2volatile boolean flag = true; //è¯­å¥3int x = 4; //è¯­å¥4int y = -1; //è¯­å¥5 ç”±äºŽflagå˜é‡ä¸ºvolatileå˜é‡ï¼Œé‚£ä¹ˆåœ¨è¿›è¡ŒæŒ‡ä»¤é‡æŽ’åºçš„è¿‡ç¨‹çš„æ—¶å€™ï¼Œä¸ä¼šå°†è¯­å¥3æ”¾åˆ°è¯­å¥1ã€è¯­å¥2å‰é¢ï¼Œä¹Ÿä¸ä¼šè®²è¯­å¥3æ”¾åˆ°è¯­å¥4ã€è¯­å¥5åŽé¢ã€‚ä½†æ˜¯è¦æ³¨æ„è¯­å¥1å’Œè¯­å¥2çš„é¡ºåºã€è¯­å¥4å’Œè¯­å¥5çš„é¡ºåºæ˜¯ä¸ä½œä»»ä½•ä¿è¯çš„ã€‚ å¹¶ä¸”volatileå…³é”®å­—èƒ½ä¿è¯ï¼Œæ‰§è¡Œåˆ°è¯­å¥3æ—¶ï¼Œè¯­å¥1å’Œè¯­å¥2å¿…å®šæ˜¯æ‰§è¡Œå®Œæ¯•äº†çš„ï¼Œä¸”è¯­å¥1å’Œè¯­å¥2çš„æ‰§è¡Œç»“æžœå¯¹è¯­å¥3ã€è¯­å¥4ã€è¯­å¥5æ˜¯å¯è§çš„ã€‚ æˆ‘ä»¬åœ¨çœ‹çœ‹ä¸€ä¸ªä¾‹å­: 12345678//çº¿ç¨‹1:ApplicationConext context = loadContext(); //è¯­å¥1boolean inited = true; //è¯­å¥2//çº¿ç¨‹2:while(!inited )&#123; sleep()&#125;doSomethingwithconfig(context); ä¸Šè¿°ä»£ç æœ‰å¯èƒ½è¯­å¥2ä¼šåœ¨è¯­å¥1ä¹‹å‰æ‰§è¡Œï¼Œå› ä¸ºè¯­å¥2å¹¶ä¸ä¾èµ–ä¾èµ–è¯­å¥2ï¼Œå¯èƒ½ä¼šé‡æŽ’åºä¼˜åŒ–ï¼Œé‚£ä¹ˆä¹…å¯èƒ½å¯¼è‡´contextè¿˜æ²¡è¢«åˆå§‹åŒ–ï¼Œè€Œçº¿ç¨‹2ä¸­å°±ä½¿ç”¨æœªåˆå§‹åŒ–çš„contextåŽ»è¿›è¡Œæ“ä½œï¼Œå¯¼è‡´ç¨‹åºå‡ºé”™ã€‚ è¿™é‡Œå¦‚æžœç”¨volatileå…³é”®å­—å¯¹initedå˜é‡è¿›è¡Œä¿®é¥°ï¼Œå°±ä¸ä¼šå‡ºçŽ°è¿™ç§é—®é¢˜äº†ï¼Œå› ä¸ºå½“æ‰§è¡Œåˆ°è¯­å¥2æ—¶ï¼Œå¿…å®šèƒ½ä¿è¯contextå·²ç»åˆå§‹åŒ–å®Œæ¯•ã€‚ å¯¹å˜é‡ç‰¹æ®Šçš„å®šä¹‰è§„åˆ™å‡è®¾Tè¡¨ç¤ºä¸€ä¸ªçº¿ç¨‹ï¼ŒVå’ŒWè¡¨ç¤ºä¸¤ä¸ªvolatileå˜é‡ï¼Œé‚£ä¹ˆåœ¨è¿›è¡Œreadã€loadã€useã€assignã€storeå’Œwriteæ“ä½œæ—¶éœ€è¦æ»¡è¶³å¦‚ä¸‹çš„è§„åˆ™: åªæœ‰ä¸€ä¸ªå½“çº¿ç¨‹Tå¯¹å˜é‡Væ‰§è¡Œçš„å‰ä¸€ä¸ªåŠ¨ä½œæ˜¯loadçš„æ—¶å€™ï¼ŒTæ‰èƒ½å¯¹å˜é‡Væ‰§è¡ŒuseåŠ¨ä½œï¼Œå¹¶ä¸”å½“å¯¹Vçš„åŽä¸€ä¸ªæ‰§è¡Œæ˜¯useåŠ¨ä½œæ—¶ï¼ŒTæ‰èƒ½å¯¹Væ‰§è¡ŒloadåŠ¨ä½œã€‚Tå¯¹Vçš„useåŠ¨ä½œå…¶å®žæ˜¯è¡”æŽ¥Tå¯¹Vçš„loadå’ŒreadåŠ¨ä½œï¼Œloadã€readå¿…é¡»ä¸€èµ·è¿žç»­å‡ºçŽ°ï¼ˆè¿™æ¡è§„åˆ™è¦æ±‚åœ¨å·¥ä½œå†…å­˜æ¯æ¬¡ä½¿ç”¨Vå‰éƒ½å¿…é¡»å…ˆä»Žä¸»å†…å­˜åˆ·æ–°æœ€æ–°å€¼ï¼Œä½¿å¾—ä¿è¯èƒ½çœ‹è§å…¶ä»–çº¿ç¨‹å¯¹å˜é‡Vçš„æœ€æ–°æ›´æ”¹ï¼‰ã€‚ åªæœ‰ä¸€ä¸ªå½“çº¿ç¨‹Tå¯¹å˜é‡Væ‰§è¡Œçš„å‰ä¸€ä¸ªåŠ¨ä½œæ˜¯assignçš„æ—¶å€™ï¼ŒTæ‰èƒ½å¯¹å˜é‡Væ‰§è¡ŒstoreåŠ¨ä½œï¼Œå¹¶ä¸”å½“å¯¹Vçš„åŽä¸€ä¸ªæ‰§è¡Œæ˜¯storeåŠ¨ä½œæ—¶ï¼ŒTæ‰èƒ½å¯¹Væ‰§è¡ŒassignåŠ¨ä½œã€‚Tå¯¹Vçš„assignåŠ¨ä½œå…¶å®žæ˜¯è¡”æŽ¥Tå¯¹Vçš„storeå’ŒwriteåŠ¨ä½œï¼Œstoreã€writeå¿…é¡»ä¸€èµ·è¿žç»­å‡ºçŽ°ï¼ˆè¿™æ¡è§„åˆ™è¦æ±‚åœ¨å·¥ä½œå†…å­˜æ¯æ¬¡ä¿®æ”¹VåŽéƒ½å¿…é¡»å…ˆå¿…é¡»åŒæ­¥åˆ°ä¸»å†…ä¸­ï¼Œä½¿å¾—ä¿è¯å…¶ä»–çº¿ç¨‹èƒ½çœ‹è§TTå¯¹å˜é‡Vçš„æœ€æ–°æ›´æ”¹ï¼‰ã€‚ å‡è®¾åŠ¨ä½œAæ˜¯çº¿ç¨‹Tå¯¹å˜é‡VVå®žæ–½çš„useæˆ–assignåŠ¨ä½œï¼Œå‡å®šåŠ¨ä½œFæ˜¯ä¸ŽåŠ¨ä½œAç›¸å…³è”çš„loadå’ŒstoreåŠ¨ä½œï¼Œå‡å®šåŠ¨ä½œPPæ˜¯ä¸ŽåŠ¨ä½œFFç›¸åº”çš„å¯¹Vçš„readå’ŒloadåŠ¨ä½œï¼›ç±»ä¼¼åœ°ï¼Œå‡å®šåŠ¨ä½œBæ˜¯çº¿ç¨‹TTå¯¹å˜é‡Wå®žæ–½çš„useå’ŒassignåŠ¨ä½œï¼Œå‡å®šåŠ¨ä½œGGæ˜¯å’ŒåŠ¨ä½œBBç›¸å…³è”çš„loadæˆ–storeåŠ¨ä½œï¼Œå‡å®šåŠ¨ä½œQæ˜¯ä¸ŽåŠ¨ä½œGç›¸åº”çš„å¯¹å˜é‡Wçš„readå’ŒwriteåŠ¨ä½œã€‚å¦‚æžœAå…ˆäºŽBï¼Œé‚£ä¹ˆPå…ˆäºŽQï¼ˆè¿™æ¡è§„åˆ™è¦æ±‚volatileä¿®é¥°çš„å˜é‡ä¸ä¼šè¢«æŒ‡ä»¤é‡æŽ’åºä¼˜åŒ–ï¼Œä¿è¯ä»£ç çš„æ‰§è¡Œé¡ºåºä¸Žç¨‹åºçš„é¡ºåºç›¸åŒï¼‰ï¼Œå³æ˜¯Happen-beforeåŽŸåˆ™ã€‚ å†…å­˜å±éšœå…¶volatileåŽŸç†å†…å­˜å±éšœå®šä¹‰åœ¨ç ”ç©¶volatileåŽŸç†æ—¶å€™ï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆå†…å­˜å±éšœæˆ–è€…å†…å­˜æ …æ ã€‚ å†…å­˜å±éšœ/å†…å­˜æ …æ (Memory Barrieræˆ–Menory Fence):é‡æŽ’åºæ—¶ä¸èƒ½æŠŠåŽé¢çš„æŒ‡ä»¤é‡æŽ’åºåˆ°å†…å­˜å±éšœä¹‹å‰çš„ä½ç½®ï¼ŒæŒ‡ä»¤é‡æŽ’åºæ— æ³•è¶Šè¿‡å†…å­˜å±éšœï¼Œå•ä¾‹æ¨¡å¼çš„DCLåŒé”æ£€æŸ¥å¯ä»¥ä½“çŽ°å‡ºæ¥ã€‚ åªæœ‰ä¸€ä¸ªCPUè®¿é—®å†…å­˜æ—¶ï¼Œå¹¶ä¸éœ€è¦å†…å­˜å±éšœï¼Œä½†å¦‚æžœæœ‰å¤šä¸ªCPUè®¿é—®åŒä¸€å—å†…å­˜ï¼Œä¸”å…¶ä¸­æœ‰ä¸€ä¸ªåœ¨è§‚æµ‹å¦ä¸€ä¸ªï¼Œå°±éœ€è¦å†…å­˜å±éšœæ¥ä¿è¯ä¸€è‡´ã€‚ ä»Žç¡¬ä»¶æž¶æž„ä¸Šè®²ï¼ŒæŒ‡ä»¤é‡æŽ’åºæ˜¯æŒ‡CPUé‡‡å–å¯å…è®¸å°†å¤šæ¡æŒ‡ä»¤ä¸æŒ‰ç¨‹åºè§„å®šçš„é¡ºåºåˆ†å¼€å‘é€ç»™å„ç›¸åº”å•è·¯å¤„ç†å•å…ƒã€‚ä½†å¹¶ä¸æ˜¯æŒ‡ä»¤ä»»æ„é‡æŽ’ï¼ŒCPUéœ€è¦èƒ½æ­£ç¡®å¤„ç†æŒ‡ä»¤ä¾èµ–æƒ…å†µä»¥ä¿éšœç¨‹åºèƒ½å¤Ÿå¾—å‡ºæ­£ç¡®çš„æ‰§è¡Œç»“æžœã€‚ ç”±äºŽçŽ°ä»£çš„æ“ä½œç³»ç»Ÿéƒ½æ˜¯å¤šå¤„ç†å™¨.è€Œæ¯ä¸€ä¸ªå¤„ç†å™¨éƒ½æœ‰è‡ªå·±çš„ç¼“å­˜,å¹¶ä¸”è¿™äº›ç¼“å­˜å¹¶ä¸æ˜¯å®žæ—¶éƒ½ä¸Žå†…å­˜å‘ç”Ÿä¿¡æ¯äº¤æ¢.è¿™æ ·å°±å¯èƒ½å‡ºçŽ°ä¸€ä¸ªcpuä¸Šçš„ç¼“å­˜æ•°æ®ä¸Žå¦ä¸€ä¸ªcpuä¸Šçš„ç¼“å­˜æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚è€Œè¿™æ ·åœ¨å¤šçº¿ç¨‹å¼€å‘ä¸­ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´å‡ºçŽ°ä¸€äº›å¼‚å¸¸è¡Œä¸ºã€‚è€Œæ“ä½œç³»ç»Ÿåº•å±‚ä¸ºäº†è¿™äº›é—®é¢˜ï¼Œæä¾›äº†ä¸€äº›å†…å­˜å±éšœç”¨ä»¥è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œç›®å‰æœ‰4ç§å±éšœï¼š LoadLoadå±éšœï¼šå¯¹äºŽè¿™æ ·çš„è¯­å¥Load1; LoadLoad; Load2ï¼Œåœ¨Load2åŠåŽç»­è¯»å–æ“ä½œè¦è¯»å–çš„æ•°æ®è¢«è®¿é—®å‰ï¼Œä¿è¯Load1è¦è¯»å–çš„æ•°æ®è¢«è¯»å–å®Œæ¯•ã€‚ StoreStoreå±éšœï¼šå¯¹äºŽè¿™æ ·çš„è¯­å¥Store1; StoreStore; Store2ï¼Œåœ¨Store2åŠåŽç»­å†™å…¥æ“ä½œæ‰§è¡Œå‰ï¼Œä¿è¯Store1çš„å†™å…¥æ“ä½œå¯¹å…¶å®ƒå¤„ç†å™¨å¯è§ã€‚ LoadStoreå±éšœï¼šå¯¹äºŽè¿™æ ·çš„è¯­å¥Load1; LoadStore; Store2ï¼Œåœ¨Store2åŠåŽç»­å†™å…¥æ“ä½œè¢«åˆ·å‡ºå‰ï¼Œä¿è¯Load1è¦è¯»å–çš„æ•°æ®è¢«è¯»å–å®Œæ¯•ã€‚ StoreLoadå±éšœï¼šå¯¹äºŽè¿™æ ·çš„è¯­å¥Store1; StoreLoad; Load2ï¼Œåœ¨Load2åŠåŽç»­æ‰€æœ‰è¯»å–æ“ä½œæ‰§è¡Œå‰ï¼Œä¿è¯Store1çš„å†™å…¥å¯¹æ‰€æœ‰å¤„ç†å™¨å¯è§ã€‚å®ƒçš„å¼€é”€æ˜¯å››ç§å±éšœä¸­æœ€å¤§çš„ã€‚åœ¨å¤§å¤šæ•°å¤„ç†å™¨çš„å®žçŽ°ä¸­ï¼Œè¿™ä¸ªå±éšœæ˜¯ä¸ªä¸‡èƒ½å±éšœï¼Œå…¼å…·å…¶å®ƒä¸‰ç§å†…å­˜å±éšœçš„åŠŸèƒ½ã€‚ å†…å­˜å±éšœJAVAåº”ç”¨ é€šè¿‡ Synchronizedå…³é”®å­—åŒ…ä½çš„ä»£ç åŒºåŸŸ,å½“çº¿ç¨‹è¿›å…¥åˆ°è¯¥åŒºåŸŸè¯»å–å˜é‡ä¿¡æ¯æ—¶ï¼Œä¿è¯è¯»åˆ°çš„æ˜¯æœ€æ–°çš„å€¼ã€‚è¿™æ˜¯å› ä¸ºåœ¨åŒæ­¥åŒºå†…å¯¹å˜é‡çš„å†™å…¥æ“ä½œï¼Œåœ¨ç¦»å¼€åŒæ­¥åŒºæ—¶å°±å°†å½“å‰çº¿ç¨‹å†…çš„æ•°æ®åˆ·æ–°åˆ°å†…å­˜ä¸­,è€Œå¯¹æ•°æ®çš„è¯»å–ä¹Ÿä¸èƒ½ä»Žç¼“å­˜è¯»å–,åªèƒ½ä»Žå†…å­˜ä¸­è¯»å–,ä¿è¯äº†æ•°æ®çš„è¯»æœ‰æ•ˆæ€§ï¼Œè¿™å°±æ˜¯æ’å…¥äº†StoreStoreå±éšœã€‚ ä½¿ç”¨äº†volatileä¿®é¥°å˜é‡,åˆ™å¯¹å˜é‡çš„å†™æ“ä½œï¼Œä¼šæ’å…¥StoreLoadå±éšœã€‚ å…¶ä½™çš„æ“ä½œ,åˆ™éœ€è¦é€šè¿‡Unsafeè¿™ä¸ªç±»æ¥æ‰§è¡Œã€‚UNSAFE.putOrderedObjectç±»ä¼¼è¿™æ ·çš„æ–¹æ³•,ä¼šæ’å…¥StoreStoreå†…å­˜å±éšœï¼ŒUnsafe.putVolatiObject åˆ™æ˜¯æ’å…¥äº†StoreLoadå±éšœ é€‚ç”¨åœºæ™¯ ç”±äºŽvolatileå˜é‡åªä¿è¯å¯è§æ€§,åœ¨ä¸ç¬¦åˆä»¥ä¸‹ä¸¤ç‚¹ï¼Œæˆ‘ä»¬ä»ç„¶è¦é€šè¿‡åŠ é”(ä½¿ç”¨åŒæ­¥é”synchronizeæˆ–java.util.concurrentä¸­çš„åŽŸå­ç±»)æ¥ä¿è¯åŽŸå­æ€§ã€‚ è¿ç®—ç»“æžœä»¥åŠå¯¹å˜é‡çš„å†™æ“ä½œå¹¶ä¸ä¾èµ–å˜é‡çš„å½“å‰å€¼ï¼Œæˆ–èƒ½å¤Ÿç¡®ä¿åªæœ‰å•ä¸€çš„çº¿ç¨‹ä¿®æ”¹å˜é‡çš„å€¼ï¼› å˜é‡ä¸éœ€è¦ä¸Žå…¶ä»–çš„çŠ¶æ€å˜é‡å…±äº«å‚ä¸Žä¸å˜çº¦æŸï¼› é€‚ç”¨äºŽè¯»å¤šå†™å°‘çš„åœºæ™¯; å¯ç”¨ä½œçŠ¶æ€æ ‡å¿—ã€‚ JDKä¸­volatieåº”ç”¨ï¼šJDKä¸­ConcurrentHashMapçš„Nodeçš„valå’Œnextè¢«å£°æ˜Žä¸ºvolatileï¼ŒAtomicIntegerç­‰åŽŸå­ç±»ä¸­çš„valueè¢«å£°æ˜Žä¸ºvolatileã€‚AtomicIntegeré€šè¿‡CASåŽŸç†(æš‚å¯ç†è§£ä¸ºä¹è§‚é”)ä¿è¯äº†åŽŸå­æ€§ã€‚è¿™äº›åº”ç”¨åŽæ–‡è®²è§£ã€‚ volatileä¸Žsynchronizedä¸Šè¿°è¯´åˆ°çš„volatileçš„è¯­ä¹‰é—®é¢˜ï¼Œå…¶å®žvolatileå˜é‡è¯»æ“ä½œçš„æ€§èƒ½ä¸Žæ™®é€šå˜é‡å‡ ä¹Žæ²¡æœ‰ä»€ä¹ˆå·®åˆ«ï¼Œä½†æ˜¯å†™æ“ä½œä¼šç¨æ…¢ç‚¹ï¼Œå› ä¸ºvolatileéœ€è¦åœ¨æ‰§è¡Œä¸­æ’å…¥è®¸å¤šå†…å­˜å±éšœæŒ‡ä»¤æ¥ä¿è¯å¤„ç†å™¨ä¸å‘ç”Ÿä¹±åºæ‰§è¡Œã€‚ åœ¨æŸäº›æƒ…å†µä¸‹volatileçš„åŒæ­¥æœºåˆ¶çš„æ€§èƒ½çš„ç¡®è¦ä¼˜äºŽé”(synchronizeåŒæ­¥é”æˆ–J.U.CåŒ…çš„é”)ï¼Œä½†æ˜¯JDK1.6ä»¥åŽå¯¹é”å®žè¡Œäº†è®¸å¤šæ¶ˆé™¤å’Œä¼˜åŒ–ï¼Œä½¿å¾—æˆ‘ä»¬å¾ˆéš¾é‡åŒ–è®¤ä¸ºvolatileæ¯”é”å¿«å¤šå°‘ã€‚ å¤šçº¿ç¨‹è®¿é—®volatileä¸ä¼šå‘ç”Ÿé˜»å¡žï¼Œè€Œsynchronizedä¼šé˜»å¡žï¼› volatileåªèƒ½ä¿è¯æ•°æ®çš„å¯è§æ€§ï¼Œä¸èƒ½ä¿è¯åŽŸå­æ€§ï¼Œè€Œsynchronizedä¸¤è€…éƒ½å¯ä»¥ä¿è¯ï¼Œå› ä¸ºå®ƒä¼šå°†ç§æœ‰å†…å­˜å’Œå…¬å…±å†…å­˜ä¸­çš„æ•°æ®åšåŒæ­¥ å¯¹longå’Œdoubleåž‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™å†…å­˜çš„å…«ä¸ªæ“ä½œè™½ç„¶è¯´éƒ½æ˜¯åŽŸå­æ€§çš„ï¼Œä½†æ˜¯å¯¹äºŽ64ä½çš„æ•°æ®ç±»åž‹ï¼šlongå’Œdoubleæ¥è®²ï¼Œå…è®¸è™šæ‹Ÿæœºå°†æ²¡æœ‰è¢«volatileä¿®é¥°çš„64ä½æ•°æ®çš„è¯»å†™æ“ä½œåˆ’åˆ†ä¸ºä¸¤æ¬¡32ä½çš„æ“ä½œæ¥è¿›è¡Œï¼Œè¿™å°±æ˜¯æ‰€è°“çš„longå’Œdoubleçš„éžåŽŸå­æ€§åå®šã€‚è™½ç„¶è§„å®šä¸ºè§„å®šï¼Œä½†æ˜¯ç›®å‰å¤§éƒ¨åˆ†å•†ä¸šè™šæ‹Ÿæœºå°†è¿™ä¸¤ç§æ•°æ®ç±»åž‹ä½œ64ä½çš„åŽŸå­æ€§æ“ä½œå¯¹å¾…ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦å°†longå’Œdoubleç±»åž‹çš„å˜é‡ä¸“é—¨ä»€ä¹ˆä¸ºvolatileå˜é‡ã€‚ å‚è€ƒèµ„æ–™ ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆç¬¬2ç‰ˆï¼‰ã€‹å‘¨å¿—æ˜Žè‘— ã€ŠJavaå¤šçº¿ç¨‹ç¼–ç¨‹æ ¸å¿ƒæŠ€æœ¯ã€‹é«˜æ´ªå²©è‘—","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"JVMåŠå¹¶å‘ç¼–ç¨‹","slug":"JVMåŠå¹¶å‘ç¼–ç¨‹","permalink":"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/"}]},{"title":"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹","slug":"ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹","date":"2018-06-01T10:09:51.000Z","updated":"2020-01-08T13:06:31.626Z","comments":true,"path":"2018/06/01/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹/","link":"","permalink":"http://ltyeamin.github.io/2018/06/01/ã€Javaå¹¶å‘ç¼–ç¨‹å®žæˆ˜ã€‘-Javaå†…å­˜æ¨¡åž‹/","excerpt":"","text":"ç¡¬ä»¶çš„æ•ˆçŽ‡ä¸Žä¸€è‡´æ€§è®¡ç®—æœºå†…éƒ¨è¿ç®—æµç¨‹ è®¡ç®—æœºæ‰§è¡Œè‹¥å¹²ä¸ªè¿ç®—ä»»åŠ¡ï¼Œæ‰€æœ‰çš„è®¡ç®—ä»»åŠ¡ä¸å¯èƒ½ä»…ä»…é å¤„ç†å™¨â€œè®¡ç®—â€æ¥å®Œæˆï¼Œè®¡ç®—å™¨å­˜å‚¨è®¾å¤‡ä¸Žå¤„ç†å™¨çš„è¿ç®—é€Ÿåº¦æœ‰å‡ ä¸ªæ•°é‡çº§çš„å·®è·ï¼› è‡³å°‘è¦ä¸Žå†…å­˜è¿›è¡Œäº¤äº’ï¼Œå¦‚è¯»å–è¿ç®—æ•°æ®ã€å­˜å‚¨è¿ç®—ç»“æžœï¼Œä¸èƒ½ä»…ä»…é CPUå¯„å­˜å™¨æ¥å®Œæˆ éšç€è®¡ç®—æœºç¡¬ä»¶çš„å¿«é€Ÿå‘å±•ï¼Œä»»ä½•è®¾å¤‡çš„è¯»å†™é€Ÿåº¦è¦å°½å¯èƒ½æŽ¥è¿‘å¤„ç†å™¨è¿ç®—é€Ÿåº¦çš„é«˜é€Ÿç¼“å­˜ï¼ˆCacheï¼‰æ¥ä½œä¸ºå†…å­˜ä¸Žå¤„ç†å™¨ä¹‹é—´çš„ç¼“å†²ï¼› è¿ç®—æ—¶å…ˆä»Žå†…å­˜è¯»å–ï¼Œç„¶åŽå°†æ•°æ®ç¼“å­˜åˆ°é«˜é€Ÿç¼“å­˜åŒºï¼Œè®©CPUèƒ½å¤Ÿé«˜æ•ˆè¿ç®—ï¼Œå½“è¿ç®—ç»“æŸåŽï¼Œå°†è¿ç®—ç»“æžœä»Žç¼“å­˜ä¸­åŒæ­¥åˆ°å†…å­˜ä¸­ã€‚ ç¼“å­˜ä¸€è‡´æ€§é«˜é€Ÿç¼“å­˜å¾ˆå¥½çš„è§£å†³äº†å¤„ç†å™¨ä¸Žå†…å­˜çš„é€Ÿåº¦çŸ›ç›¾ï¼Œå¦‚å›¾1,ä½†æ˜¯å­˜åœ¨é—®é¢˜:ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ å¤šå¤„ç†å™¨ä¸­ï¼Œæ¯ä¸ªå¤„ç†å™¨éƒ½æœ‰è‡ªå·±çš„é«˜é€Ÿç¼“å­˜ï¼Œä½†æ˜¯åˆå…±äº«ä¸€ä¸ªä¸»å†…å­˜ï¼Œå¯èƒ½å­˜åœ¨ç¼“å­˜æ•°æ®ä¸ä¸€è‡´ï¼ŒåŒæ­¥åˆ°ä¸»å†…å­˜ä¸çŸ¥é“ä»¥å“ªä¸ªç¼“å­˜æ•°æ®ä¸ºå‡†ï¼› ä¸ºäº†è§£å†³ä¸€è‡´æ€§é—®é¢˜ï¼Œå„ä¸ªå¤„ç†å™¨è®¿é—®è¦éµå¾ªæŸäº›åè®®ï¼Œåœ¨è¯»å†™æ—¶è¦æ ¹æ®åè®®æ¥è¿›è¡Œæ“ä½œï¼Œå¸¸è§åè®®æœ‰:MSIã€MESIã€MOSIã€Synapseã€FireflyåŠDragon Protocolç­‰ï¼› é™¤äº†å¢žåŠ é«˜é€Ÿç¼“å­˜ä¹‹å¤–ï¼Œä¸ºäº†ä½¿å¾—å¤„ç†å™¨å†…éƒ¨çš„è¿ç®—å•å…ƒå°½é‡è¢«å……åˆ†åˆ©ç”¨ï¼Œå¤„ç†å™¨ä¼šåœ¨ä¸å½±å“æ‰§è¡Œç»“æžœçš„æ¡ä»¶ä¸‹å¯¹è¾“å…¥çš„ä»£ç è¿›è¡Œä¹±åºæ‰§è¡Œï¼ŒJavaè™šæ‹Ÿæœºå®šä¹‰ä¸ºæŒ‡ä»¤é‡æŽ’åºã€‚ Javaå†…å­˜æ¨¡åž‹Javaå†…å­˜æ¨¡åž‹ï¼ˆJMMï¼‰æ¥å±è”½æŽ‰å„ç§ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜è®¿é—®å·®å¼‚ï¼Œä»¥å®žçŽ°Javaç¨‹åºåœ¨å„ç§ä¸‹éƒ½èƒ½è¾¾åˆ°ä¸€è‡´çš„å¹¶å‘æ•ˆæžœï¼Œåœ¨JDK1.5ï¼ˆå®žçŽ°äº†JSR-133ï¼‰å‘å¸ƒåŽï¼ŒJMMå·²ç»æˆç†Ÿå’Œå®Œå–„èµ·æ¥ã€‚ Javaå†…å­˜çš„ä¸»è¦ç›®æ ‡æ˜¯å®šä¹‰ç¨‹åºä¸­çš„å„ä¸ªå˜é‡çš„è®¿é—®è§„åˆ™ï¼Œå³è™šæ‹Ÿæœºä¸­å°†å˜é‡å­˜å‚¨åˆ°å†…å­˜å’Œä»Žå†…å­˜ä¸­å–å‡ºå˜é‡ä¸»è¦çš„åº•å±‚å®žçŽ°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æ­¤å˜é‡éžå½¼å˜é‡ï¼Œè¿™é‡Œçš„å˜é‡åŒ…æ‹¬å®žä¾‹å­—æ®µã€é™æ€å­—æ®µã€æž„æˆæ•°ç»„å¯¹è±¡çš„å…ƒç´ ï¼Œä¸åŒ…æ‹¬å±€éƒ¨å˜é‡ä¸Žæ–¹æ³•å‚æ•°ï¼Œå› ä¸ºåŽè€…æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œä¸ä¼šè¢«å…±äº«ï¼Œè‡ªç„¶ä¸å­˜åœ¨ç«žäº‰é—®é¢˜ã€‚ ä¸»å†…å­˜ä¸Žå·¥ä½œå†…å­˜ ä¸»å†…å­˜: JMMè§„å®šæ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ï¼› å·¥ä½œå†…å­˜ï¼šæ¯æ¡çº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¿å­˜äº†è¢«è¯¥çº¿ç¨‹ä½¿ç”¨åˆ°çš„å˜é‡çš„ä¸»å†…å­˜å‰¯æœ¬æ‹·è´ï¼› å·¥ä½œå†…å­˜ï¼šçº¿ç¨‹å¯¹å˜é‡çš„æ‰€ä»¥æ“ä½œéƒ½å¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œä¸èƒ½ç›´æŽ¥è¯»å†™åˆ°ä¸»å†…å­˜ä¸­ï¼› å·¥ä½œå†…å­˜ï¼šçº¿ç¨‹é—´å„è‡ªçš„å·¥ä½œå†…å­˜ä¸å¯è§ï¼Œæ•°æ®ä¼ é€’æ“ä½œåœ¨ä¸»å†…å­˜æ¥å®Œæˆï¼Œå¦‚å›¾2ï¼Œçº¿ç¨‹ã€ä¸»å†…å­˜ã€å·¥ä½œå†…å­˜ä¸‰è€…ä¹‹é—´çš„äº¤äº’å…³ç³»ã€‚ å†…å­˜é—´åŽŸå­æ“ä½œ é”å®šï¼ˆlockï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå˜é‡æ ‡è¯†ä¸ºä¸€æ¡çº¿ç¨‹ç‹¬å çš„çŠ¶æ€ï¼› è§£é”ï¼ˆunlockï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå¤„äºŽé”å®šçŠ¶æ€çš„å˜é‡é‡Šæ”¾å‡ºæ¥ï¼Œé‡Šæ”¾åŽçš„å˜é‡æ‰å¯ä»¥è¢«å…¶ä»–çº¿ç¨‹é”å®šï¼› è¯»å–ï¼ˆreadï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå˜é‡çš„å€¼ä»Žä¸»å†…å­˜ä¼ è¾“åˆ°çº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåŽçš„loadåŠ¨ä½œä½¿ç”¨ï¼› è½½å…¥ï¼ˆloadï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠreadæ“ä½œä»Žä¸»å†…å­˜ä¸­å¾—åˆ°çš„å˜é‡å€¼æ”¾å…¥å·¥ä½œå†…å­˜çš„å˜é‡å‰¯æœ¬ä¸­ï¼› ä½¿ç”¨ï¼ˆuseï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠå·¥ä½œå†…å­˜ä¸­çš„ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€’ç»™æ‰§è¡Œå¼•æ“Žï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªéœ€è¦ä½¿ç”¨åˆ°å˜é‡çš„å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶å°†ä¼šæ‰§è¡Œè¿™ä¸ªæ“ä½œï¼› èµ‹å€¼ï¼ˆassignï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä»Žæ‰§è¡Œå¼•æ“ŽæŽ¥å—åˆ°çš„å€¼èµ‹å€¼ç»™å·¥ä½œå†…å­˜çš„å˜é‡ï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªç»™å˜é‡èµ‹å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶æ‰§è¡Œè¿™ä¸ªæ“ä½œï¼› å­˜å‚¨ï¼ˆstoreï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠå·¥ä½œå†…å­˜ä¸­ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€åˆ°ä¸»å†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåŽçš„writeæ“ä½œä½¿ç”¨ï¼› å†™å…¥ï¼ˆwriteï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠstoreæ“ä½œä»Žå·¥ä½œå†…å­˜ä¸­å¾—åˆ°çš„å˜é‡çš„å€¼æ”¾å…¥ä¸»å†…å­˜çš„å˜é‡ä¸­ã€‚ å¦‚æžœè¦æŠŠä¸€ä¸ªå˜é‡ä»Žä¸»å†…å­˜å¤åˆ¶åˆ°å·¥ä½œå†…å­˜ï¼Œé‚£å°±è¦æŒ‰ç…§é¡ºåºåœ°æ‰§è¡Œreadå’Œloadæ“ä½œï¼Œå¦‚æžœè¦æŠŠå˜é‡ä»Žå·¥ä½œå†…å­˜åŒæ­¥å›žä¸»å­˜ï¼Œå°±è¦æŒ‰é¡ºåºåœ°æ‰§è¡Œstoreå’Œwriteæ“ä½œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒJMMåªè¦æ±‚ä¸Šè¿°ä¸¤ä¸ªæ“ä½œå¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œï¼Œè€Œæ²¡æœ‰ä¿è¯å¿…é¡»æ˜¯è¿žç»­æ‰§è¡Œçš„ã€‚ä¹Ÿå°±è¯´è¯´readä¸Žloadä¹‹é—´ã€storeå’Œwriteä¹‹é—´æ˜¯å¯æ’å…¥å…¶ä»–æŒ‡ä»¤çš„ï¼Œå¦‚å¯¹ä¸»å†…å­˜ä¸­çš„å˜é‡aã€bè¿›è¡Œè®¿é—®æ—¶ï¼Œå¾ˆå¯èƒ½å‡ºçŽ°read aã€read bã€load bã€load aï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒJMMè¿˜è§„å®šåœ¨æ‰§è¡Œä¸Šè¿°å…«ç§æ“ä½œæ—¶å¿…é¡»æ»¡è¶³å¦‚ä¸‹è§„åˆ™ï¼š ä¸å…è®¸readå’Œloadã€storeå’Œwriteæ“ä½œä¹‹ä¸€å•ç‹¬å‡ºçŽ°ï¼Œå³ä¸å…è®¸ä¸€ä¸ªå˜é‡ä»Žä¸»å†…å­˜è¯»å–äº†ä½†å·¥ä½œå†…å­˜ä¸æŽ¥å—ï¼Œæˆ–è€…ä»Žå·¥ä½œå†…å­˜å‘èµ·å›žå†™ä½†ä¸»å†…å­˜ä¸æŽ¥å—çš„æƒ…å†µå‡ºçŽ°ï¼› ä¸å…è®¸ä¸€ä¸ªçº¿ç¨‹ä¸¢å¼ƒå®ƒçš„æœ€è¿‘çš„assignæ“ä½œï¼Œå³å˜é‡åœ¨å·¥ä½œå†…å­˜ä¸­æ”¹å˜äº†ä¹‹åŽå¿…é¡»æŠŠè¯¥å˜åŒ–çš„ç»“æžœå›žå†™åˆ°ä¸»å†…å­˜ä¸­ï¼› ä¸å…è®¸ä»»ä½•ä¸€ä¸ªçº¿ç¨‹æ— åŽŸå› åœ°ï¼ˆæ²¡æœ‰å‘ç”Ÿè¿‡ä»»ä½•çš„assignæ“ä½œï¼‰æŠŠæ•°æ®ä»Žçº¿ç¨‹çš„å·¥ä½œå†…å­˜åŒæ­¥å›žä¸»å†…å­˜ä¸­ï¼› ä¸€ä¸ªæ–°çš„å˜é‡åªèƒ½åœ¨ä¸»å†…å­˜ä¸­â€œè¯žç”Ÿâ€ï¼Œä¸å…è®¸åœ¨å·¥ä½œå†…å­˜ä¸­ç›´æŽ¥ä½¿ç”¨ä¸€ä¸ªæœªè¢«åˆå§‹åŒ–ï¼ˆloadæˆ–assignï¼‰çš„å˜é‡ã€‚å³å¯¹ä¸€ä¸ªå˜é‡å®žæ–½useå’Œstoreæ“ä½œä¹‹å‰ï¼Œå¿…é¡»å…ˆæ‰§è¡Œè¿‡assignå’Œloadæ“ä½œï¼› ä¸€ä¸ªå˜é‡åœ¨åŒä¸€ä¸ªæ—¶åˆ»åªå…è®¸ä¸€æ¡çº¿ç¨‹å¯¹å…¶è¿›è¡Œlockæ“ä½œï¼Œä½†lockæ“ä½œå¯ä»¥è¢«åŒä¸€æ¡çº¿ç¨‹é‡å¤æ‰§è¡Œå¤šæ¬¡ï¼Œå¤šæ¬¡æ‰§è¡ŒlockåŽï¼Œåªæœ‰æ‰§è¡Œç›¸åŒæ¬¡æ•°çš„unlockæ“ä½œï¼Œå˜é‡æ‰ä¼šè§£é”ï¼› å¦‚æžœå¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œlockæ“ä½œï¼Œå°†ä¼šæ¸…ç©ºå·¥ä½œå†…å­˜ä¸­æ­¤å˜é‡çš„å€¼ï¼Œåœ¨æ‰§è¡Œå¼•æ“Žä½¿ç”¨è¿™ä¸ªå˜é‡å‰éœ€è¦é‡æ–°æ‰§è¡Œloadæˆ–assignæ“ä½œåˆå§‹åŒ–å˜é‡çš„å€¼ï¼› å¦‚æžœä¸€ä¸ªå˜é‡äº‹å…ˆæ²¡æœ‰è¢«locké”å®šæ“ä½œï¼Œåˆ™ä¸å…è®¸å¯¹å®ƒæ‰§è¡Œunlockæ“ä½œï¼›ä¹Ÿä¸å…è®¸åŽ»unlockä¸€ä¸ªè¢«å…¶ä»–çº¿ç¨‹é”ä½çš„å˜é‡ï¼› å¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œunlockä¹‹å‰ï¼Œå¿…é¡»å…ˆæŠŠæ­¤å˜é‡åŒæ­¥å›žä¸»å†…å­˜ä¸­ï¼ˆæ‰§è¡Œstoreå’Œwriteæ“ä½œï¼‰ï¼› happens-before åŽŸåˆ™è¿™ä¸ªåŽŸåˆ™éžå¸¸é‡è¦ï¼Œå®ƒæ˜¯åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨ç«žäº‰ã€çº¿ç¨‹æ˜¯å¦å®‰å…¨çš„ä¸»è¦ä¾æ®ï¼Œä¾é è¿™ä¸ªåŽŸåˆ™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‡ æ¡è§„åˆ™ä¸€æ½å­åœ° è§£å†³å¹¶å‘çŽ¯å¢ƒä¸‹ä¸¤ä¸ªæ“ä½œä¹‹é—´æ˜¯å¦å¯èƒ½å­˜åœ¨å†²çªçš„æ‰€æœ‰é—®é¢˜ã€‚ çŽ°åœ¨å°±æ¥çœ‹çœ‹â€œå…ˆè¡Œå‘ç”Ÿâ€åŽŸåˆ™æŒ‡çš„æ˜¯ä»€ä¹ˆã€‚å…ˆè¡Œå‘ç”Ÿæ˜¯Javaå†…å­˜æ¨¡åž‹ä¸­å®šä¹‰çš„ä¸¤é¡¹æ“ä½œä¹‹é—´çš„ååºå…³ç³»ï¼Œå¦‚æžœè¯´æ“ä½œAå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œBï¼Œå…¶å®žå°±æ˜¯è¯´åœ¨å‘ç”Ÿæ“ä½œBä¹‹å‰ï¼Œæ“ä½œAäº§ç”Ÿçš„å½±å“èƒ½è¢«æ“ä½œBè§‚å¯Ÿåˆ°ï¼Œâ€œå½±å“â€åŒ…æ‹¬ä¿®æ”¹äº†å†…å­˜ä¸­å…±äº«å˜é‡çš„å€¼ã€å‘é€äº†æ¶ˆæ¯ã€è°ƒç”¨äº†æ–¹æ³•ç­‰ã€‚ 123456//ä»¥ä¸‹æ“ä½œåœ¨çº¿ç¨‹Aä¸­æ‰§è¡Œint i=1;//ä»¥ä¸‹æ“ä½œåœ¨çº¿ç¨‹Bä¸­æ‰§è¡Œ int j=i;//ä»¥ä¸‹æ“ä½œåœ¨çº¿ç¨‹Cä¸­æ‰§è¡Œint i=2; é€šè¿‡ä¸Šè¿°ä»£ç åˆ†æž:å‡è®¾çº¿ç¨‹Aä¸­çš„æ“ä½œâ€œi=1â€å…ˆè¡Œå‘ç”ŸäºŽçº¿ç¨‹Bçš„æ“ä½œâ€œj=iâ€ï¼Œé‚£ä¹ˆå¯ä»¥ç¡®å®šåœ¨çº¿ç¨‹Bçš„æ“ä½œæ‰§è¡ŒåŽï¼Œå˜é‡jçš„å€¼ä¸€å®šç­‰äºŽ1ï¼Œå¾—å‡ºè¿™ä¸ªç»“è®ºçš„ä¾æ®æœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯æ ¹æ®å…ˆè¡Œå‘ç”ŸåŽŸ åˆ™ï¼Œâ€œi=1â€çš„ç»“æžœå¯ä»¥è¢«è§‚å¯Ÿåˆ°ï¼›äºŒæ˜¯çº¿ç¨‹Cè¿˜æ²¡â€œç™»åœºâ€ï¼Œçº¿ç¨‹Aæ“ä½œç»“æŸä¹‹åŽæ²¡æœ‰å…¶ä»–çº¿ç¨‹ä¼šä¿®æ”¹å˜é‡içš„å€¼ã€‚çŽ°åœ¨å†æ¥è€ƒè™‘çº¿ç¨‹Cï¼Œæˆ‘ä»¬ä¾ç„¶ä¿æŒçº¿ç¨‹Aå’Œçº¿ç¨‹Bä¹‹é—´çš„å…ˆè¡Œå‘ç”Ÿå…³ ç³»ï¼Œè€Œçº¿ç¨‹Cå‡ºçŽ°åœ¨çº¿ç¨‹Aå’Œçº¿ç¨‹Bçš„æ“ä½œä¹‹é—´ï¼Œä½†æ˜¯çº¿ç¨‹Cä¸Žçº¿ç¨‹Bæ²¡æœ‰å…ˆè¡Œå‘ç”Ÿå…³ç³»ï¼Œé‚£jçš„å€¼ä¼šæ˜¯å¤šå°‘å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¸ç¡®å®šï¼1å’Œ2éƒ½æœ‰å¯èƒ½ï¼Œå› ä¸ºçº¿ç¨‹Cå¯¹å˜é‡içš„å½±å“å¯èƒ½ä¼šè¢«çº¿ç¨‹Bè§‚å¯Ÿåˆ°ï¼Œä¹Ÿå¯èƒ½ä¸ä¼šï¼Œè¿™æ—¶å€™çº¿ç¨‹Bå°±å­˜åœ¨è¯»å–åˆ°è¿‡æœŸæ•°æ®çš„é£Žé™©ï¼Œä¸å…·å¤‡å¤šçº¿ç¨‹å®‰å…¨æ€§ã€‚ Java å†…å­˜æ¨¡åž‹å®šä¹‰åŸºäºŽä¸€äº›æ“ä½œï¼Œæ¯”å¦‚è¯»å†™å­—æ®µã€ Monitor åŒæ­¥ç­‰ã€‚è¿™äº›æ“ä½œå¯ä»¥æŒ‰ç…§ happens-before å…³ç³»è¿›è¡ŒæŽ’åºã€‚è¿™ç§å…³ç³»å¯ç”¨æ¥æŽ¨æ–­ä¸€ä¸ªçº¿ç¨‹ä½•æ—¶çœ‹åˆ°å¦ä¸€ä¸ªçº¿ç¨‹çš„æ“ä½œç»“æžœï¼Œä»¥åŠæž„æˆä¸€ä¸ªç¨‹åºåŒæ­¥åŽçš„æ‰€æœ‰ä¿¡æ¯ã€‚ å¤©ç„¶çš„å…ˆè¡Œå‘ç”Ÿå…³ç³»: ç¨‹åºæ¬¡åºè§„åˆ™ï¼ˆProgram Order Ruleï¼‰ï¼šåœ¨ä¸€ä¸ªçº¿ç¨‹å†…ï¼ŒæŒ‰ç…§ç¨‹åºä»£ç é¡ºåºï¼Œä¹¦å†™åœ¨å‰é¢çš„æ“ä½œå…ˆè¡Œå‘ç”ŸäºŽä¹¦å†™åœ¨åŽé¢çš„æ“ä½œã€‚å‡†ç¡®åœ°è¯´ï¼Œåº”è¯¥æ˜¯æŽ§åˆ¶æµé¡ºåºè€Œä¸æ˜¯ç¨‹åºä»£ç é¡ºåºï¼Œ å› ä¸ºè¦è€ƒè™‘åˆ†æ”¯ã€å¾ªçŽ¯ç­‰ç»“æž„ã€‚ ç®¡ç¨‹é”å®šè§„åˆ™ï¼ˆMonitor Lock Ruleï¼‰ï¼šä¸€ä¸ªunlockæ“ä½œå…ˆè¡Œå‘ç”ŸäºŽåŽé¢å¯¹åŒä¸€ä¸ªé”çš„lock æ“ä½œã€‚å³åœ¨èŽ·å– Monitor å‰ï¼Œé‡Šæ”¾è¯¥ Monitorã€‚è¿™é‡Œå¿…é¡»å¼ºè°ƒçš„æ˜¯åŒä¸€ä¸ªé”ï¼Œè€Œâ€œåŽé¢â€æ˜¯æŒ‡æ—¶é—´ä¸Šçš„å…ˆåŽé¡ºåºã€‚ volatileå˜é‡è§„åˆ™ï¼ˆVolatile Variable Ruleï¼‰ï¼šå¯¹ä¸€ä¸ªvolatileå˜é‡çš„å†™æ“ä½œå…ˆè¡Œå‘ç”ŸäºŽåŽé¢å¯¹è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œï¼Œå³åœ¨è¯»å– volatile å˜é‡å‰ï¼Œå¯¹è¯¥å˜é‡æ‰§è¡Œä¸€æ¬¡å†™æ“ä½œï¼Œè¿™é‡Œçš„â€œåŽé¢â€åŒæ ·æ˜¯æŒ‡æ—¶é—´ä¸Šçš„å…ˆåŽé¡ºåºã€‚ çº¿ç¨‹å¯åŠ¨è§„åˆ™ï¼ˆThread Start Ruleï¼‰ï¼šThreadå¯¹è±¡çš„start()æ–¹æ³•å…ˆè¡Œå‘ç”ŸäºŽæ­¤çº¿ç¨‹çš„æ¯ä¸€ä¸ªåŠ¨ä½œã€‚å³åœ¨çº¿ç¨‹å¼€å§‹æ‰€æœ‰æ“ä½œå‰è°ƒç”¨ Thread#startã€‚ çº¿ç¨‹ç»ˆæ­¢è§„åˆ™ï¼ˆThread Termination Ruleï¼‰ï¼šçº¿ç¨‹ä¸­çš„æ‰€æœ‰æ“ä½œéƒ½å…ˆè¡Œå‘ç”ŸäºŽå¯¹æ­¤çº¿ç¨‹çš„ç»ˆæ­¢æ£€æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Thread.join()æ–¹æ³•ç»“æŸã€Thread.isAlive()çš„è¿”å›žå€¼ç­‰æ‰‹æ®µæ£€æµ‹åˆ°çº¿ç¨‹å·²ç»ç»ˆæ­¢æ‰§è¡Œã€‚ çº¿ç¨‹ä¸­æ–­è§„åˆ™ï¼ˆThread Interruption Ruleï¼‰ï¼šå¯¹çº¿ç¨‹interrupt()æ–¹æ³•çš„è°ƒç”¨å…ˆè¡Œå‘ç”ŸäºŽè¢«ä¸­æ–­çº¿ç¨‹çš„ä»£ç æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿï¼Œå¯ä»¥é€šè¿‡Thread.interrupted()æ–¹æ³•æ£€æµ‹åˆ°æ˜¯å¦æœ‰ ä¸­æ–­å‘ç”Ÿã€‚ å¯¹è±¡ç»ˆç»“è§„åˆ™ï¼ˆFinalizer Ruleï¼‰ï¼šä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆï¼ˆæž„é€ å‡½æ•°æ‰§è¡Œç»“æŸï¼‰å…ˆè¡Œå‘ ç”ŸäºŽå®ƒçš„finalize()æ–¹æ³•çš„å¼€å§‹ã€‚ ä¼ é€’æ€§ï¼ˆTransitivityï¼‰ï¼šå¦‚æžœæ“ä½œAå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œBï¼Œæ“ä½œBå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œCï¼Œé‚£å°±å¯ä»¥å¾—å‡ºæ“ä½œAå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œCçš„ç»“è®ºã€‚ æ€»ç»“:ï¼šæ—¶é—´å…ˆåŽé¡ºåºä¸Žå…ˆè¡Œå‘ç”ŸåŽŸåˆ™ä¹‹é—´åŸºæœ¬æ²¡æœ‰å¤ªå¤§çš„å…³ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬è¡¡é‡å¹¶å‘å®‰å…¨é—®é¢˜çš„æ—¶å€™ä¸è¦å—åˆ°æ—¶é—´é¡ºåºçš„å¹²æ‰°ï¼Œä¸€åˆ‡å¿…é¡»ä»¥å…ˆè¡Œå‘ç”ŸåŽŸåˆ™ä¸ºå‡†ã€‚ åŽŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§åŽŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šæˆ‘ä»¬å¤§è‡´å¯ä»¥è®¤ä¸ºåŸºæœ¬æ•°æ®ç±»åž‹çš„è®¿é—®è¯»å†™æ˜¯å…·å¤‡åŽŸå­æ€§çš„ï¼ˆä¾‹å¤–å°±æ˜¯longå’Œdoubleçš„éžåŽŸå­æ€§åå®šï¼‰ã€‚åŽŸå­æ“ä½œçš„ç‰¹ç‚¹æ˜¯è¦ä¹ˆå…¨éƒ¨æ“ä½œæˆåŠŸè¦ä¹ˆå…¨éƒ¨æ“ä½œå¤±è´¥ï¼Œä¸å…è®¸éƒ¨åˆ†æˆåŠŸï¼Œéƒ¨åˆ†å¤±è´¥ã€‚å°½ç®¡è™šæ‹ŸæœºæœªæŠŠlockå’Œunlockæ“ä½œç›´æŽ¥å¼€æ”¾ç»™ç”¨æˆ·ä½¿ç”¨ï¼Œ ä½†æ˜¯å´æä¾›äº†æ›´é«˜å±‚æ¬¡çš„å­—èŠ‚ç æŒ‡ä»¤monitorenterå’Œmonitorexitæ¥éšå¼åœ°ä½¿ç”¨è¿™ä¸¤ä¸ªæ“ä½œï¼Œè¿™ä¸¤ä¸ªå­—èŠ‚ç æŒ‡ä»¤åæ˜ åˆ°Javaä»£ç ä¸­å°±æ˜¯åŒæ­¥å—synchronizedå…³é”®å­—ï¼Œå› æ­¤åœ¨synchronizedå—ä¹‹é—´çš„æ“ä½œä¹Ÿå…·å¤‡åŽŸå­æ€§ã€‚ å¯è§æ€§ï¼ˆVisibilityï¼‰ï¼šå¯è§æ€§æ˜¯æŒ‡å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡çš„å€¼ï¼Œå…¶ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹å³ å¾—çŸ¥è¿™ä¸ªä¿®æ”¹ã€‚Javaå†…å­˜æ¨¡åž‹æ˜¯é€šè¿‡åœ¨å˜é‡ä¿®æ”¹åŽå°†æ–°å€¼åŒæ­¥å›žä¸»å†…å­˜ï¼Œåœ¨å˜é‡è¯»å–å‰ä»Žä¸»å†…å­˜åˆ·æ–°å˜é‡å€¼è¿™ç§ä¾èµ–ä¸»å†…å­˜ä½œä¸ºä¼ é€’åª’ä»‹çš„æ–¹å¼æ¥å®žçŽ°å¯è§æ€§çš„ã€‚ç®€å•è¯´å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹çœ‹åˆ°å¦ä¸€ä¸ªçº¿ç¨‹å‘ç”Ÿæ›´æ”¹æ‰€éœ€çš„æ¡ä»¶ï¼Œå³synchronizedå’Œfinalå®žçŽ°äº†å¯è§æ€§çš„æ¡ä»¶ã€‚ æœ‰åºæ€§ï¼ˆOrderingï¼‰ï¼šå¦‚æžœåœ¨æœ¬çº¿ç¨‹å†…è§‚å¯Ÿï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯æœ‰åºçš„ï¼›å¦‚æžœåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è§‚å¯Ÿå¦ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯æ— åºçš„ã€‚å‰åŠå¥æ˜¯æŒ‡â€œçº¿ç¨‹å†…è¡¨ çŽ°ä¸ºä¸²è¡Œçš„è¯­ä¹‰â€ï¼ˆWithin-Thread As-If-Serial Semanticsï¼‰ï¼ŒåŽåŠå¥æ˜¯æŒ‡â€œæŒ‡ä»¤é‡æŽ’åºâ€çŽ°è±¡ å’Œâ€œå·¥ä½œå†…å­˜ä¸Žä¸»å†…å­˜åŒæ­¥å»¶è¿Ÿâ€çŽ°è±¡ã€‚ å‚è€ƒèµ„æ–™ ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆç¬¬2ç‰ˆï¼‰ã€‹å‘¨å¿—æ˜Žè‘—","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"JVMåŠå¹¶å‘ç¼–ç¨‹","slug":"JVMåŠå¹¶å‘ç¼–ç¨‹","permalink":"http://ltyeamin.github.io/tags/JVMåŠå¹¶å‘ç¼–ç¨‹/"}]},{"title":"é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹","slug":"é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹","date":"2018-05-24T12:41:18.000Z","updated":"2020-01-08T13:06:40.249Z","comments":true,"path":"2018/05/24/é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹/","link":"","permalink":"http://ltyeamin.github.io/2018/05/24/é¡¹ç›®å›¢é˜Ÿåä½œæµç¨‹/","excerpt":"","text":"åœ¨å…¬å¸ITéƒ¨é—¨é‡Œ,å„ä¸ªå›¢é˜Ÿ(äº§å“è®¾è®¡å›¢é˜Ÿ-UI/UEè®¾è®¡å¸ˆ-å‰ç«¯å·¥ç¨‹å¸ˆ-ç§»åŠ¨ç«¯å·¥ç¨‹å¸ˆ-åŽç«¯å·¥ç¨‹å¸ˆ-æµ‹è¯•å·¥ç¨‹å¸ˆ-è¿ç»´å·¥ç¨‹å¸ˆ)äº’ç›¸åä½œ,å…±åŒè¾¾åˆ°é¡¹ç›®ä¸Šçº¿çš„ç›®çš„.å¦‚æžœä¸€ä¸ªå…¬å¸çš„ITéƒ¨é—¨äººå‘˜ç®¡ç†ä»¥åŠé¡¹ç›®å¼€å‘æµç¨‹ä¸å¤ªå®Œå–„,å°±ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜,æ¯”å¦‚æ‰¯çš®æ— ç•Œå’Œæ²Ÿé€šä½Žæ•ˆç­‰é—®é¢˜,è¿™äº›ä¸¥é‡å½±å“åˆ°å·¥ä½œæ•ˆçŽ‡,æ‰“ç ´äº†é¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸ.é‚£ä¹ˆçœŸæ­£çš„å›¢é˜Ÿåä½œåº”è¯¥æ˜¯æ€Žä¹ˆæ ·çš„å‘¢?æˆ‘ä»¬ä¸å¦¨çœ‹ä¸‹å›¾:é’ˆå¯¹ä¸Šè¿°çš„æµç¨‹å›¾,è¯»è€…å¯æ ¹æ®è‡ªå·±å…¬å¸çš„å®žé™…æƒ…å†µ,æ¥å‘è¡¨ç•™è¨€è¯„è®º,ç¬”è€…å¾ˆé«˜å…´ä¸Žå„ä½å°ä¼™ä¼´æ¥æŽ¢è®¨æ­¤äº‹.","categories":[{"name":"pm","slug":"pm","permalink":"http://ltyeamin.github.io/categories/pm/"}],"tags":[{"name":"Team Building","slug":"Team-Building","permalink":"http://ltyeamin.github.io/tags/Team-Building/"}]},{"title":"Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç†","slug":"Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç†","date":"2018-05-24T02:18:00.000Z","updated":"2020-01-08T13:06:37.685Z","comments":true,"path":"2018/05/24/Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç†/","link":"","permalink":"http://ltyeamin.github.io/2018/05/24/Spring Cloud-Zuulæ ¸å¿ƒè¿‡æ»¤å™¨åŠå¼‚å¸¸å¤„ç†/","excerpt":"","text":"ç™¾å®¶æŠ€æœ¯,è°ˆç¬‘å¤ä»Š.ä»Šå¤©æˆ‘ä»¬ä¸è®²ä¸‰å›½,æˆ‘ä»¬è®²ä¸€è®²å¾®æœåŠ¡ç½‘å…³ä¸­çš„ä¸€äº›ç»†èŠ‚:Zuulè¿‡æ»¤å™¨. Zuulè¿‡æ»¤å™¨Spring Cloudä¸­çš„Zuulä¸ºæˆ‘ä»¬æä¾›äº†ç»Ÿä¸€å¯¹å¤–,è·¯ç”±è½¬å‘å’Œè¿‡æ»¤æ‹¦æˆªçš„å¼ºå¤§åŠŸèƒ½.åœ¨Spring Cloud Zuulä¸­å®žçŽ°çš„è¿‡æ»¤å™¨å¿…é¡»åŒ…å«4ä¸ªåŸºæœ¬ç‰¹å¾:è¿‡æ»¤ç±»åž‹,æ‰§è¡Œé¡ºåº,æ‰§è¡Œæ¡ä»¶,å…·ä½“æ“ä½œ.è¿™äº›ç‰¹å¾å°±æ˜¯ZuulFilteræŠ½è±¡ç±»ä¸­çš„4ä¸ªæŠ½è±¡æ–¹æ³•.è¯ä¸å¤šè¯´,ç›´æŽ¥ç”¨ZuulFilteræºç è¯´äº‹:12345678public abstract class ZuulFilter implements IZuulFilter, Comparable&amp;lt;ZuulFilter&amp;gt; &#123; abstract public String filterType(); abstract public int filterOrder(); /**IZuulFilteræŽ¥å£ä¸­çš„æ–¹æ³•*/ boolean shouldFilter(); /**IZuulFilteræŽ¥å£ä¸­çš„æ–¹æ³•*/ Object run();&#125; ä»¥ä¸Šæ–¹æ³•ä¸ŽåŠŸèƒ½è§£è¯´: filterType: è¿‡æ»¤å™¨ç±»åž‹,å°±æ˜¯ç‰¹æ®Šçš„å­—ç¬¦ä¸²(å¯åœ¨FilterConstantsæŽ¥å£å¸¸é‡ä¸­æ‰¾åˆ°).Zuulä¸­å®šä¹‰äº†4ä¸ªä¸åŒç”Ÿå‘½å‘¨æœŸçš„è¿‡æ»¤å™¨ç±»åž‹,å…·ä½“å¦‚ä¸‹: pre: å¯ä»¥åœ¨è¯·æ±‚è¢«è·¯ç”±ä¹‹å‰è°ƒç”¨ routing: åœ¨è·¯ç”±è¯·æ±‚æ—¶å€™è¢«è°ƒç”¨ post: åœ¨routingå’Œerrorè¿‡æ»¤å™¨ä¹‹åŽè¢«è°ƒç”¨ error: å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯æ—¶è¢«è°ƒç”¨ filterOrder: é€šè¿‡intå€¼æ¥å®šä¹‰è¿‡æ»¤å™¨çš„æ‰§è¡Œé¡ºåº,æ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ shouldFilter: è¿”å›žä¸€ä¸ªbooleanç±»åž‹æ¥åˆ¤æ–­è¯¥è¿‡æ»¤å™¨æ˜¯å¦è¦æ‰§è¡Œ,æˆ‘ä»¬å¯ä»¥é€šè¿‡æ­¤æ–¹æ³•æ¥æŒ‡å®šè¿‡æ»¤å™¨çš„æœ‰æ•ˆèŒƒå›´. run: è¿‡æ»¤å™¨çš„å…·ä½“é€»è¾‘,åœ¨è¯¥å‡½æ•°ä¸­,æˆ‘ä»¬å¯ä»¥å®žçŽ°è‡ªå®šä¹‰çš„è¿‡æ»¤é€»è¾‘,æ¥ç¡®å®šæ˜¯å¦è¦æ‹¦æˆªå½“å‰çš„è¯·æ±‚,ä¸å¯¹å…¶è¿›è¡ŒåŽç»­çš„è·¯ç”±,æˆ–æ˜¯åœ¨è¯·æ±‚è·¯ç”±è¿”å›žç»“æžœä¹‹åŽ,å¯¹å¤„ç†ç»“æžœåšä¸€äº›åŠ å·¥ç­‰.è¯·æ±‚ç”Ÿå‘½å‘¨æœŸZuulé»˜è®¤å®šä¹‰äº†å››ä¸ªä¸åŒçš„è¿‡æ»¤å™¨ç±»åž‹,å®ƒä»¬è¦†ç›–äº†ä¸€ä¸ªå¤–éƒ¨HTTPè¯·æ±‚åˆ°è¾¾APIç½‘å…³,ç›´åˆ°è¿”å›žè¯·æ±‚ç»“æžœçš„å…¨éƒ¨ç”Ÿå‘½å‘¨æœŸ.ä¸‹å›¾æºè‡ªZuulçš„å®˜æ–¹WIKIä¸­å…³äºŽè¯·æ±‚ç”Ÿå‘½å‘¨æœŸçš„å›¾è§£,å®ƒæè¿°äº†ä¸€ä¸ªHTTPè¯·æ±‚åˆ°è¾¾APIç½‘å…³ä¹‹åŽ,åœ¨ä¸åŒç±»åž‹è¿‡æ»¤å™¨ä¹‹é—´çš„å¤„ç†è¿‡ç¨‹. å½“å¤–éƒ¨HTTPè¯·æ±‚åˆ°è¾¾APIç½‘å…³æœåŠ¡æ—¶,ä¼šè¿›å…¥ç¬¬ä¸€ä¸ªé˜¶æ®µpre,æ­¤æ—¶æ‰§è¡Œpreç±»åž‹çš„è¿‡æ»¤å™¨,è¯¥ç±»åž‹çš„è¿‡æ»¤å™¨ä¸»è¦è¿›è¡Œå‰ç½®åŠ å·¥,æ¯”å¦‚è¯·æ±‚æ ¡éªŒç­‰. å½“preé˜¶æ®µæ‰§è¡Œå®Œæ¯•åŽè¿›å…¥routingè¯·æ±‚è½¬å‘é˜¶æ®µ,æ­¤æ—¶æ‰§è¡Œroutingç±»åž‹çš„è¿‡æ»¤å™¨,è¯¥ç±»åž‹çš„è¿‡æ»¤å™¨ä¸»è¦å¤„ç†å°†å¤–éƒ¨çš„è¯·æ±‚è½¬å‘åˆ°å…·ä½“æœåŠ¡å®žä¾‹çš„è¿‡ç¨‹,å½“æœåŠ¡å°†è¯·æ±‚ç»“æžœéƒ½è¿”å›žåŽ,routingé˜¶æ®µæ‰ç®—å®Œæˆ. å½“routingé˜¶æ®µæ‰§è¡Œå®Œæ¯•åŽè¿›å…¥posté˜¶æ®µ,æ­¤æ—¶æ‰§è¡Œpostç±»åž‹çš„è¿‡æ»¤å™¨,è¯¥ç±»åž‹çš„è¿‡æ»¤å™¨ä¸ä»…å¯ä»¥èŽ·å–åˆ°è¯·æ±‚ä¿¡æ¯,ä¹Ÿå¯ä»¥èŽ·å–æœåŠ¡å®žä¾‹è¿”å›žçš„å“åº”ä¿¡æ¯,è¿™æ ·æˆ‘ä»¬å¯ä»¥å¯¹ç»“æžœè¿›è¡ŒåŠ å·¥è½¬åŒ–. å½“ä»¥ä¸Š3ä¸ªè¿‡æ»¤å™¨ä¸­å‘ç”Ÿå¼‚å¸¸æ—¶æ‰è§¦å‘,æœ€åŽè¿˜æ˜¯æµå‘postç±»åž‹çš„è¿‡æ»¤å™¨,å› ä¸ºå®ƒéœ€è¦å°†æœ€ç»ˆç»“æžœè¿”å›žç»™å®¢æˆ·ç«¯. æ ¸å¿ƒè¿‡æ»¤å™¨åœ¨Spring Cloud Zuulä¸­,ä¸ºäº†æˆ‘ä»¬æ–¹ä¾¿,å®ƒåœ¨è¯·æ±‚è¿‡ç¨‹ä¸­ç»™æˆ‘ä»¬é»˜è®¤å®žçŽ°äº†ä¸€å¤§å †ä¸åŒç±»åž‹çš„æ ¸å¿ƒè¿‡æ»¤å™¨,å®ƒåœ¨GateWayæœåŠ¡å¯åŠ¨çš„æ—¶å€™è‡ªåŠ¨åŠ è½½å¯ç”¨.ä»Žspring-cloud-netflix-core-1.3.1æ¨¡å—ä¸‹çš„org.springframework.cloud.netflix.zuul.filtersåŒ…ä¸‹:å¦‚ä¸Šå›¾,å®˜æ–¹æä¾›äº†ä¸‰ä¸ªä¸åŒç”Ÿå‘½å‘¨æœŸçš„è¿‡æ»¤å™¨,ç†è§£è¿™äº›è¿‡æ»¤å™¨å¤„ç†æµç¨‹æœ‰åŠ©äºŽæˆ‘ä»¬æ›´åŠ æ·±å…¥åœ°å®šåˆ¶è‡ªèº«ç³»ç»Ÿè¿‡æ»¤å™¨. preè¿‡æ»¤å™¨ ServletDetectionFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º-3,æ˜¯æœ€å…ˆè¢«æ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨æ€»æ˜¯ä¼šè¢«æ‰§è¡Œ,ä¸»è¦ç”¨æ¥æ£€æµ‹å½“å‰è¯·æ±‚æ˜¯é€šè¿‡Springçš„DispatcherServletå¤„ç†è¿è¡Œ,è¿˜æ˜¯é€šè¿‡ZuulServletæ¥å¤„ç†è¿è¡Œçš„.å®ƒçš„æ£€æµ‹ç»“æžœä¼šä»¥å¸ƒå°”ç±»åž‹ä¿å­˜åœ¨å½“å‰è¯·æ±‚ä¸Šä¸‹æ–‡çš„isDispatcherServletRequestå‚æ•°ä¸­,è¿™æ ·åœ¨åŽç»­çš„è¿‡æ»¤å™¨ä¸­,æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡RequestUtils.isDispatcherServletRequest()å’ŒRequestUtils.isZuulServletRequest()æ–¹æ³•åˆ¤æ–­å®ƒä»¥å®žçŽ°åšä¸åŒçš„å¤„ç†.ä¸€èˆ¬æƒ…å†µä¸‹,å‘é€åˆ°APIç½‘å…³çš„å¤–éƒ¨è¯·æ±‚éƒ½ä¼šè¢«Springçš„DispatcherServletå¤„ç†,é™¤äº†é€šè¿‡/zuul/è·¯å¾„è®¿é—®çš„è¯·æ±‚ä¼šç»•è¿‡DispatcherServlet,è¢«ZuulServletå¤„ç†,ä¸»è¦ç”¨æ¥åº”å¯¹å¤„ç†å¤§æ–‡ä»¶ä¸Šä¼ çš„æƒ…å†µ.å¦å¤–,å¯¹äºŽZuulServletçš„è®¿é—®è·¯å¾„/zuul/,æˆ‘ä»¬å¯ä»¥é€šè¿‡zuul.servletPathå‚æ•°æ¥è¿›è¡Œä¿®æ”¹. Servlet30WrapperFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º-2,æ˜¯ç¬¬äºŒä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.ç›®å‰çš„å®žçŽ°ä¼šå¯¹æ‰€æœ‰è¯·æ±‚ç”Ÿæ•ˆ,ä¸»è¦ä¸ºäº†å°†åŽŸå§‹çš„HttpServletRequeståŒ…è£…æˆServlet30RequestWrapperå¯¹è±¡. FormBodyWrapperFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º-1,æ˜¯ç¬¬ä¸‰ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä»…å¯¹ä¸¤ç§ç±»è¯·æ±‚ç”Ÿæ•ˆ,ç¬¬ä¸€ç±»æ˜¯Content-Typeä¸ºapplication/x-www-form-urlencodedçš„è¯·æ±‚,ç¬¬äºŒç±»æ˜¯Content-Typeä¸ºmultipart/form-dataå¹¶ä¸”æ˜¯ç”±Springçš„DispatcherServletå¤„ç†çš„è¯·æ±‚(ç”¨åˆ°äº†ServletDetectionFilterçš„å¤„ç†ç»“æžœ).è€Œè¯¥è¿‡æ»¤å™¨çš„ä¸»è¦ç›®çš„æ˜¯å°†ç¬¦åˆè¦æ±‚çš„è¯·æ±‚ä½“åŒ…è£…æˆFormBodyRequestWrapperå¯¹è±¡. DebugFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º1,æ˜¯ç¬¬å››ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä¼šæ ¹æ®é…ç½®å‚æ•°zuul.debug.requestå’Œè¯·æ±‚ä¸­çš„debugå‚æ•°æ¥å†³å®šæ˜¯å¦æ‰§è¡Œè¿‡æ»¤å™¨ä¸­çš„æ“ä½œ.è€Œå®ƒçš„å…·ä½“æ“ä½œå†…å®¹åˆ™æ˜¯å°†å½“å‰çš„è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­çš„debugRoutingå’ŒdebugRequestå‚æ•°è®¾ç½®ä¸ºtrue.ç”±äºŽåœ¨åŒä¸€ä¸ªè¯·æ±‚çš„ä¸åŒç”Ÿå‘½å‘¨æœŸä¸­,éƒ½å¯ä»¥è®¿é—®åˆ°è¿™ä¸¤ä¸ªå€¼,æ‰€ä»¥æˆ‘ä»¬åœ¨åŽç»­çš„å„ä¸ªè¿‡æ»¤å™¨ä¸­å¯ä»¥åˆ©ç”¨è¿™ä¸¤å€¼æ¥å®šä¹‰ä¸€äº›debugä¿¡æ¯,è¿™æ ·å½“çº¿ä¸ŠçŽ¯å¢ƒå‡ºçŽ°é—®é¢˜çš„æ—¶å€™,å¯ä»¥é€šè¿‡è¯·æ±‚å‚æ•°çš„æ–¹å¼æ¥æ¿€æ´»è¿™äº›debugä¿¡æ¯ä»¥å¸®åŠ©åˆ†æžé—®é¢˜.å¦å¤–,å¯¹äºŽè¯·æ±‚å‚æ•°ä¸­çš„debugå‚æ•°,æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡zuul.debug.parameteræ¥è¿›è¡Œè‡ªå®šä¹‰. PreDecorationFilter: å®ƒçš„æ‰§è¡Œé¡ºåºä¸º5,æ˜¯preé˜¶æ®µæœ€åŽè¢«æ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä¼šåˆ¤æ–­å½“å‰è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­æ˜¯å¦å­˜åœ¨forward.toå’ŒserviceIdå‚æ•°,å¦‚æžœéƒ½ä¸å­˜åœ¨,é‚£ä¹ˆå®ƒå°±ä¼šæ‰§è¡Œå…·ä½“è¿‡æ»¤å™¨çš„æ“ä½œ(å¦‚æžœæœ‰ä¸€ä¸ªå­˜åœ¨çš„è¯,è¯´æ˜Žå½“å‰è¯·æ±‚å·²ç»è¢«å¤„ç†è¿‡äº†,å› ä¸ºè¿™ä¸¤ä¸ªä¿¡æ¯å°±æ˜¯æ ¹æ®å½“å‰è¯·æ±‚çš„è·¯ç”±ä¿¡æ¯åŠ è½½è¿›æ¥çš„).è€Œå®ƒçš„å…·ä½“æ“ä½œå†…å®¹å°±æ˜¯ä¸ºå½“å‰è¯·æ±‚åšä¸€äº›é¢„å¤„ç†,æ¯”å¦‚: è¿›è¡Œè·¯ç”±è§„åˆ™çš„åŒ¹é…,åœ¨è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­è®¾ç½®è¯¥è¯·æ±‚çš„åŸºæœ¬ä¿¡æ¯ä»¥åŠå°†è·¯ç”±åŒ¹é…ç»“æžœç­‰ä¸€äº›è®¾ç½®ä¿¡æ¯ç­‰,è¿™äº›ä¿¡æ¯å°†æ˜¯åŽç»­è¿‡æ»¤å™¨è¿›è¡Œå¤„ç†çš„é‡è¦ä¾æ®,æˆ‘ä»¬å¯ä»¥é€šè¿‡RequestContext.getCurrentContext()æ¥è®¿é—®è¿™äº›ä¿¡æ¯.å¦å¤–,æˆ‘ä»¬è¿˜å¯ä»¥åœ¨è¯¥å®žçŽ°ä¸­æ‰¾åˆ°ä¸€äº›å¯¹HTTPå¤´è¯·æ±‚è¿›è¡Œå¤„ç†çš„é€»è¾‘,å…¶ä¸­åŒ…å«äº†ä¸€äº›è€³ç†Ÿèƒ½è¯¦çš„å¤´åŸŸ,æ¯”å¦‚: X-Forwarded-Host,X-Forwarded-Port.å¦å¤–,å¯¹äºŽè¿™äº›å¤´åŸŸçš„è®°å½•æ˜¯é€šè¿‡zuul.addProxyHeaderså‚æ•°è¿›è¡ŒæŽ§åˆ¶çš„,è€Œè¿™ä¸ªå‚æ•°é»˜è®¤å€¼ä¸ºtrue,æ‰€ä»¥Zuulåœ¨è¯·æ±‚è·³è½¬æ—¶é»˜è®¤åœ°ä¼šä¸ºè¯·æ±‚å¢žåŠ X-Forwarded-*å¤´åŸŸ,åŒ…æ‹¬: X-Forwarded-Host,X-Forwarded-Port,X-Forwarded-For,X-Forwarded-Prefix,X-Forwarded-Proto.æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®zuul.addProxyHeaders=falseå…³é—­å¯¹è¿™äº›å¤´åŸŸçš„æ·»åŠ åŠ¨ä½œ. routeè¿‡æ»¤å™¨ RibbonRoutingFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º10,æ˜¯routeé˜¶æ®µç¬¬ä¸€ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨åªå¯¹è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨serviceIdå‚æ•°çš„è¯·æ±‚è¿›è¡Œå¤„ç†,å³åªå¯¹é€šè¿‡serviceIdé…ç½®è·¯ç”±è§„åˆ™çš„è¯·æ±‚ç”Ÿæ•ˆ.è€Œè¯¥è¿‡æ»¤å™¨çš„æ‰§è¡Œé€»è¾‘å°±æ˜¯é¢å‘æœåŠ¡è·¯ç”±çš„æ ¸å¿ƒ,å®ƒé€šè¿‡ä½¿ç”¨Ribbonå’ŒHystrixæ¥å‘æœåŠ¡å®žä¾‹å‘èµ·è¯·æ±‚,å¹¶å°†æœåŠ¡å®žä¾‹çš„è¯·æ±‚ç»“æžœè¿”å›ž. SimpleHostRoutingFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º100,æ˜¯routeé˜¶æ®µç¬¬äºŒä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨åªå¯¹è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨routeHostå‚æ•°çš„è¯·æ±‚è¿›è¡Œå¤„ç†,å³åªå¯¹é€šè¿‡urlé…ç½®è·¯ç”±è§„åˆ™çš„è¯·æ±‚ç”Ÿæ•ˆ.è€Œè¯¥è¿‡æ»¤å™¨çš„æ‰§è¡Œé€»è¾‘å°±æ˜¯ç›´æŽ¥å‘routeHostå‚æ•°çš„ç‰©ç†åœ°å€å‘èµ·è¯·æ±‚,ä»Žæºç ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“è¯¥è¯·æ±‚æ˜¯ç›´æŽ¥é€šè¿‡httpclientåŒ…å®žçŽ°çš„,è€Œæ²¡æœ‰ä½¿ç”¨Hystrixå‘½ä»¤è¿›è¡ŒåŒ…è£…,æ‰€ä»¥è¿™ç±»è¯·æ±‚å¹¶æ²¡æœ‰çº¿ç¨‹éš”ç¦»å’Œæ–­è·¯å™¨çš„ä¿æŠ¤. SendForwardFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º500,æ˜¯routeé˜¶æ®µç¬¬ä¸‰ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨åªå¯¹è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨forward.toå‚æ•°çš„è¯·æ±‚è¿›è¡Œå¤„ç†,å³ç”¨æ¥å¤„ç†è·¯ç”±è§„åˆ™ä¸­çš„forwardæœ¬åœ°è·³è½¬é…ç½®. postè¿‡æ»¤å™¨ SendErrorFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º0,æ˜¯posté˜¶æ®µç¬¬ä¸€ä¸ªæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä»…åœ¨è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­åŒ…å«error.status_codeå‚æ•°(ç”±ä¹‹å‰æ‰§è¡Œçš„è¿‡æ»¤å™¨è®¾ç½®çš„é”™è¯¯ç¼–ç )å¹¶ä¸”è¿˜æ²¡æœ‰è¢«è¯¥è¿‡æ»¤å™¨å¤„ç†è¿‡çš„æ—¶å€™æ‰§è¡Œ.è€Œè¯¥è¿‡æ»¤å™¨çš„å…·ä½“é€»è¾‘å°±æ˜¯åˆ©ç”¨è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­çš„é”™è¯¯ä¿¡æ¯æ¥ç»„ç»‡æˆä¸€ä¸ªforwardåˆ°APIç½‘å…³/erroré”™è¯¯ç«¯ç‚¹çš„è¯·æ±‚æ¥äº§ç”Ÿé”™è¯¯å“åº”. SendResponseFilterï¼šå®ƒçš„æ‰§è¡Œé¡ºåºä¸º1000,æ˜¯posté˜¶æ®µæœ€åŽæ‰§è¡Œçš„è¿‡æ»¤å™¨.è¯¥è¿‡æ»¤å™¨ä¼šæ£€æŸ¥è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­æ˜¯å¦åŒ…å«è¯·æ±‚å“åº”ç›¸å…³çš„å¤´ä¿¡æ¯,å“åº”æ•°æ®æµæˆ–æ˜¯å“åº”ä½“,åªæœ‰åœ¨åŒ…å«å®ƒä»¬å…¶ä¸­ä¸€ä¸ªçš„æ—¶å€™å°±ä¼šæ‰§è¡Œå¤„ç†é€»è¾‘.è€Œè¯¥è¿‡æ»¤å™¨çš„å¤„ç†é€»è¾‘å°±æ˜¯åˆ©ç”¨è¯·æ±‚ä¸Šä¸‹æ–‡çš„å“åº”ä¿¡æ¯æ¥ç»„ç»‡éœ€è¦å‘é€å›žå®¢æˆ·ç«¯çš„å“åº”å†…å®¹. è‡ªå®šä¹‰filteråŠå¼‚å¸¸å¤„ç†1234567891011121314151617181920212223242526272829303132package cn.yeamin.gateway.filter;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.cloud.netflix.zuul.filters.support.FilterConstants;import org.springframework.stereotype.Component;import com.netflix.zuul.ZuulFilter;@Componentpublic class ThrowExceptionFilter extends ZuulFilter &#123; private static final Logger log = LoggerFactory.getLogger(ThrowExceptionFilter.class); @Override public boolean shouldFilter() &#123; return true; &#125; @Override public Object run() &#123; log.info(\"æˆ‘åœ¨è¿™å°±æ˜¯è¦ä¸ºéš¾ä½ ,ç»™ä½ æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸,çœ‹ä½ èƒ½æ‹¿æˆ‘èƒ½æ€Žä¹ˆæ ·,å“ˆå“ˆ......\"); doSomething(); return null; &#125; @Override public String filterType() &#123; return FilterConstants.PRE_TYPE; &#125; @Override public int filterOrder() &#123; return 0; &#125; private void doSomething() &#123; throw new RuntimeException(\"ä¼™è®¡,å¯¹ä¸ä½äº†,ç»™ä½ åˆ¶é€ ä¸€äº›éº»çƒ¦......\"); &#125;&#125; æ³¨é‡ŠæŽ‰run()æ–¹æ³•ä¸­çš„doSomething();è¿™ä¸€è¡Œ,è¿›è¡Œè¯·æ±‚,ä»¥å‰æ­£å¸¸1234567891011Administrator@EZ-20161212OKBJ MINGW64 ~/Desktop$ curl -i http://127.0.0.1:9005/item-service/item/2 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 91 0 91 0 0 91 0 --:--:-- --:--:-- --:--:-- 91000HTTP/1.1 200X-Application-Context: api-gateway:9005date: Thu, 24 May 2018 06:16:41 GMTContent-Type: application/json;charset=UTF-8Transfer-Encoding: chunked&#123;&quot;id&quot;:2,&quot;title&quot;:&quot;å•†å“æ ‡é¢˜2&quot;,&quot;pic&quot;:&quot;http://å›¾ç‰‡2&quot;,&quot;desc&quot;:&quot;å•†å“æè¿°2&quot;,&quot;price&quot;:2000&#125; æ‰“å¼€æ³¨é‡ŠåŽ,è¿›è¡Œè¯·æ±‚,è¿”å›ž500é”™è¯¯,å¦‚ä¸‹ç»“æžœ:12345678Administrator@EZ-20161212OKBJ MINGW64 ~/Desktop$ curl -v http://127.0.0.1:9005/item-service/item/2* Trying 127.0.0.1...* TCP_NODELAY set % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0* Connected to 127.0.0.1 (127.0.0.1) port 9005 (#0)&#123;&quot;timestamp&quot;:1527143000184,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;exception&quot;:&quot;com.netflix.zuul.exception.ZuulException&quot;,&quot;message&quot;:&quot;pre:ThrowExceptionFilter&quot;&#125; ç”±ä¸Šå¯è§,æˆ‘ä»¬è™½ç„¶èƒ½å¤Ÿæ¸…æ™°çœ‹åˆ°statusä¸º500,errorçš„æè¿°,exceptionçš„classä¿¡æ¯,messageä¿¡æ¯,ä½†æ˜¯ä½œä¸ºæˆ‘ä»¬å¼€å‘äººå‘˜å¹¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆè€Œå¼‚å¸¸,å‡†ç¡®æ¥è¯´,å¼‚å¸¸ä¿¡æ¯ä¸å¤Ÿå‡†ç¡®.é’ˆå¯¹ä»¥ä¸Šæ–¹æ¡ˆæœ‰ä¸¤ç§æ–¹æ¡ˆ:ä¸¥æ ¼çš„try-catchå¤„ç†å’ŒErrorFilterå¤„ç†1.æ–¹å¼ä¸€: ä¸¥æ ¼çš„try-catchå¤„ç†å›žæƒ³ä¸€ä¸‹,æˆ‘ä»¬æœ‰ä¸€ä¸ªpostè¿‡æ»¤å™¨SendErrorFilter,å®ƒæ˜¯ç”¨æ¥å¤„ç†å¼‚å¸¸ä¿¡æ¯çš„.æ ¹æ®æ­£å¸¸æµç¨‹,è¯¥è¿‡æ»¤å™¨ä¼šå¤„ç†å¼‚å¸¸ä¿¡æ¯,é‚£ä¹ˆåœ¨è¿™é‡Œæ²¡æœ‰å‡ºçŽ°è¾ƒä¸ºæ˜Žç¡®çš„å¼‚å¸¸ä¿¡æ¯å¾ˆæœ‰å¯èƒ½æ˜¯è¿™ä¸ªè¿‡æ»¤å™¨æ²¡æœ‰æ‰§è¡Œ.æ‰€ä»¥æˆ‘ä»¬ä¸å¦¨æ¥çœ‹çœ‹SendErrorFilterçš„æºç :12345678910public class SendErrorFilter extends ZuulFilter &#123; @Override public boolean shouldFilter() &#123; RequestContext ctx = RequestContext.getCurrentContext(); // only forward to errorPath if it hasn't been forwarded to already return ctx.getThrowable() != null &amp;&amp; !ctx.getBoolean(SEND_ERROR_FILTER_RAN, false); &#125;&#125; ä»Žä¸Šé¢æºç åˆ†æž,shouldFilter()æ–¹æ³•ä¸­,å¯å¾—çŸ¥:ctx.getThrowable() != nullè¯´æ˜Žè¯·æ±‚ä¸Šä¸‹æ–‡å¿…é¡»æœ‰ä¸ªThrowableå­ç±»çš„å¼‚å¸¸å¯¹è±¡,æˆ‘ä»¬è‡ªå·±å®žçŽ°çš„æ—¶å€™å¹¶æ²¡æœ‰å°†å¼‚å¸¸å¯¹è±¡æ”¾å…¥ä¸Šä¸‹æ–‡,SendErrorFilterè‡ªç„¶ä¸ä¼šæ‰§è¡Œ.åˆ†æžè¿‡åŽæˆ‘ä»¬å°±æ˜Žç™½äº†,å…·ä½“æ€Žä¹ˆè§£å†³å¯ä»¥å‚è€ƒRibbonRoutingFilterä¸­runæ–¹æ³•å¼‚å¸¸å¤„ç†é€»è¾‘å®žçŽ°:1234567891011121314151617@Overridepublic Object run() &#123; RequestContext context = RequestContext.getCurrentContext(); this.helper.addIgnoredHeaders(); try &#123; RibbonCommandContext commandContext = buildCommandContext(context); ClientHttpResponse response = forward(commandContext); setResponse(response); return response; &#125; catch (ZuulException ex) &#123; throw new ZuulRuntimeException(ex); &#125; catch (Exception ex) &#123; throw new ZuulRuntimeException(ex); &#125;&#125; å‚è€ƒä¹‹åŽ,æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»¿ç…§ä»¥ä¸Šä»£ç è§£å†³æˆ‘ä»¬çš„é—®é¢˜:12345678910@Overridepublic Object run() &#123; try &#123; log.info(\"æˆ‘åœ¨è¿™å°±æ˜¯è¦ä¸ºéš¾ä½ ,ç»™ä½ æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸,çœ‹ä½ èƒ½æ‹¿æˆ‘èƒ½æ€Žä¹ˆæ ·,å“ˆå“ˆ......\"); doSomething(); &#125;catch (Exception ex) &#123; throw new ZuulRuntimeException(ex); &#125; return null;&#125; æ”¹å¥½ä»£ç æˆ‘ä»¬è®¿é—®ä¸€ä¸‹,å°±æœ‰äº†è¯¦ç»†çš„å¼‚å¸¸ä¿¡æ¯:12345678Administrator@EZ-20161212OKBJ MINGW64 ~/Desktop$ curl -v http://127.0.0.1:9005/item-service/item/2* Trying 127.0.0.1...* TCP_NODELAY set % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0* Connected to 127.0.0.1 (127.0.0.1) port 9005 (#0)&#123;&quot;timestamp&quot;:1527145922072,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;exception&quot;:&quot;com.netflix.zuul.exception.ZuulException&quot;,&quot;message&quot;:&quot;ä¼™è®¡,å¯¹ä¸ä½äº†,ç»™ä½ åˆ¶é€ ä¸€äº›éº»çƒ¦......&quot;&#125; 2.æ–¹å¼äºŒ: ErrorFilterå¤„ç†12345678910111213141516171819202122232425262728293031323334353637383940package cn.yeamin.gateway.filter;import org.springframework.cloud.netflix.zuul.filters.support.FilterConstants;import org.springframework.stereotype.Component;import com.netflix.zuul.ZuulFilter;import com.netflix.zuul.context.RequestContext;/** * Zuulè¿‡æ»¤å™¨ç»Ÿä¸€å¼‚å¸¸å¤„ç† * * @author tong.li * */@Componentpublic class ErrorFilter extends ZuulFilter &#123; @Override public boolean shouldFilter() &#123; return true; &#125; @Override public Object run() &#123; RequestContext ctx = RequestContext.getCurrentContext(); Throwable throwable = ctx.getThrowable(); Throwable ex = throwable.getCause(); ctx.setThrowable(ex); return null; &#125; @Override public String filterType() &#123; return FilterConstants.ERROR_TYPE; &#125; @Override public int filterOrder() &#123; return -1; &#125;&#125; æ³¨é‡ŠæŽ‰ä¹‹å‰çš„try-catchçš„å¤„ç†æ–¹å¼,ç„¶åŽæˆ‘ä»¬å†è®¿é—®:123456Administrator@EZ-20161212OKBJ MINGW64 ~/Desktop$ curl http://127.0.0.1:9005/item-service/item/2 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 190 0 190 0 0 63 0 --:--:-- 0:00:03 --:--:-- 57&#123;&quot;timestamp&quot;:1527148417550,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;exception&quot;:&quot;com.netflix.zuul.exception.ZuulException&quot;,&quot;message&quot;:&quot;ä¼™è®¡,å¯¹ä¸ä½äº†,ç»™ä½ åˆ¶é€ ä¸€äº›éº»çƒ¦......&quot;&#125;","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"Spring Cloud","slug":"Spring-Cloud","permalink":"http://ltyeamin.github.io/tags/Spring-Cloud/"}]},{"title":"LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢","slug":"LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢","date":"2018-05-22T13:27:23.000Z","updated":"2019-05-29T14:03:52.000Z","comments":true,"path":"2018/05/22/LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢/","link":"","permalink":"http://ltyeamin.github.io/2018/05/22/LinuxåŸºç¡€-æ­£åˆ™è¡¨è¾¾å¼ä¹‹ä¸‰å‰‘å®¢/","excerpt":"","text":"Linuxçš„ä¸–ç•Œé‡Œä¸€åˆ‡çš†æ–‡ä»¶,å¯¹Linuxçš„æ“ä½œå°±æ˜¯å¯¹æ–‡ä»¶çš„å¤„ç†.è¢«ä¸šç•Œç§°ä¸ºâ€ä¸‰å‰‘å®¢â€çš„awk,sed,grepå°±èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿æ›´é«˜æ•ˆçš„å¤„ç†æ–‡ä»¶.â€œä¸‰å‰‘å®¢â€ä¸­grepæ“…é•¿æŸ¥æ‰¾åŠŸèƒ½,sedæ“…é•¿å–è¡Œå’Œæ›¿æ¢,awkæ“…é•¿å–åˆ—.â€œä¸‰å‰‘å®¢â€å°±æ˜¯æ™®é€šçš„Linuxå‘½ä»¤,è€Œæ­£åˆ™è¡¨è¾¾å¼å¥½æ¯”ä¸€ä¸ªæ¨¡æ¿,ä¸¤è€…ç»“åˆä½¿ç”¨,èƒ½å¤Ÿå‘æŒ¥å·¨å¤§çš„ä½œç”¨,å°¤å…¶æ˜¯åœ¨Shellè„šæœ¬ä¸­,ä½¿æˆ‘ä»¬çš„ä»£ç çŸ­å°ç²¾æ‚.æ€»ä¹‹å°±æ˜¯ä¸€å¥è¯:æé«˜å·¥ä½œæ•ˆçŽ‡. æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²:â€abcaxcâ€,æ­£åˆ™è¡¨è¾¾å¼ä¸º:ab.*c è´ªå©ªæ¨¡å¼: ç¼–ç¨‹ä¸­é»˜è®¤æ¨¡å¼,æ­£åˆ™è¡¨è¾¾å¼ä¸€èˆ¬è¶‹å‘äºŽæœ€å¤§é•¿åº¦[åŒ¹é….å¦‚æ­£åˆ™ab.*cæœ€å¤§åŒ¹é…ä¸º:abcaxc éžè´ªå©ªæ¨¡å¼: æ­£åˆ™åŒ¹é…åˆ°ç»“æžœå°±å¥½,è¯´ç™½äº†å°±æ˜¯æœ€å°‘åŒ¹é….å¦‚æ­£åˆ™ab.*cæœ€å¤§åŒ¹é…ä¸º:abc grepå‘½ä»¤grepå‘½ä»¤æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·,å®ƒèƒ½ä½¿ç”¨ç‰¹å®šæ¨¡å¼åŒ¹é…(åŒ…æ‹¬æ­£åˆ™è¡¨è¾¾å¼)æœç´¢æ–‡æœ¬,å¹¶é»˜è®¤è¾“å‡ºåŒ¹é…è¡Œ.unixçš„grepå®¶æ—åŒ…æ‹¬grep,egrepå’Œfgrep,ç¬”è€…åœ¨è¿™ä¸ä¸€ä¸€åˆ—ä¸¾äº†,è¯»è€…å¯è‡ªè¡Œç ”ç©¶.å¸¸ç”¨é€‰é¡¹ -c : è®¡ç®—æ‰¾åˆ°â€™æœå¯»å­—ç¬¦ä¸²â€™çš„æ¬¡æ•° -i : å¿½ç•¥å¤§å°å†™è¿›è¡Œæœç´¢ -n : é¡ºä¾¿è¾“å‡ºè¡Œå· -v : åå‘é€‰æ‹©,å–åæœç´¢ -color=auto : å¯ä»¥æ‰¾åˆ°çš„æœç´¢å…³é”®å­—åŠ ä¸Šé¢œè‰²æ˜¾ç¤º å®žæˆ˜ç¤ºä¾‹1.é€šè¿‡ç®¡é“æŸ¥æ‰¾é…ç½®æ–‡ä»¶é‡Œçš„å­—ç¬¦12[root@litong ~]# cat server.conf | grep portport : 9001 2.é€šè¿‡ç®¡é“æŸ¥æ‰¾ä»¥*.confç»“å°¾çš„æ–‡ä»¶12[root@litong ~]# ll | grep *.conf-rw-r--r-- 1 root root 22 May 18 14:51 server.conf 3.æ ¹æ®å…³é”®å­—æŸ¥æ‰¾è¿›ç¨‹ä¿¡æ¯123[root@litong ~]# ps -ef | grep pptpdroot 29510 1 0 14:55 ? 00:00:00 /usr/sbin/pptpd -froot 30061 25475 0 14:58 pts/2 00:00:00 grep --color=auto pptpd sedå‘½ä»¤sedæ˜¯ä¸€é¡¹LinuxæŒ‡ä»¤,åŠŸèƒ½åŒawkç±»ä¼¼,å·®åˆ«åœ¨äºŽ,sedç®€å•,æ“…é•¿å–è¡Œå’Œæ›¿æ¢,å¯¹åˆ—å¤„ç†çš„åŠŸèƒ½è¦å·®ä¸€äº›,awkçš„åŠŸèƒ½å¤æ‚,å¯¹åˆ—å¤„ç†çš„åŠŸèƒ½æ¯”è¾ƒå¼ºå¤§. å‘½ä»¤æ ¼å¼ sed [options] â€˜commandâ€™ file(s) sed [options] -f scriptfile file(s)å–è¡Œé€‰é¡¹ a\\ åœ¨å½“å‰è¡Œä¸‹é¢æ’å…¥æ–‡æœ¬. i\\ åœ¨å½“å‰è¡Œä¸Šé¢æ’å…¥æ–‡æœ¬. c\\ æŠŠé€‰å®šçš„è¡Œæ”¹ä¸ºæ–°çš„æ–‡æœ¬. d åˆ é™¤,åˆ é™¤é€‰æ‹©çš„è¡Œ. D åˆ é™¤æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œ. s æ›¿æ¢æŒ‡å®šå­—ç¬¦ h æ‹·è´æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒº. H è¿½åŠ æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒº. g èŽ·å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹,å¹¶æ›¿ä»£å½“å‰æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬. G èŽ·å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹,å¹¶è¿½åŠ åˆ°å½“å‰æ¨¡æ¿å—æ–‡æœ¬çš„åŽé¢. l åˆ—è¡¨ä¸èƒ½æ‰“å°å­—ç¬¦çš„æ¸…å•. n è¯»å–ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œ,ç”¨ä¸‹ä¸€ä¸ªå‘½ä»¤å¤„ç†æ–°çš„è¡Œè€Œä¸æ˜¯ç”¨ç¬¬ä¸€ä¸ªå‘½ä»¤. N è¿½åŠ ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œåˆ°æ¨¡æ¿å—åŽé¢å¹¶åœ¨äºŒè€…é—´åµŒå…¥ä¸€ä¸ªæ–°è¡Œ,æ”¹å˜å½“å‰è¡Œå·ç . p æ‰“å°æ¨¡æ¿å—çš„è¡Œ. P(å¤§å†™) æ‰“å°æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œ. q é€€å‡ºSed. b lable åˆ†æ”¯åˆ°è„šæœ¬ä¸­å¸¦æœ‰æ ‡è®°çš„åœ°æ–¹,å¦‚æžœåˆ†æ”¯ä¸å­˜åœ¨åˆ™åˆ†æ”¯åˆ°è„šæœ¬çš„æœ«å°¾. r file ä»Žfileä¸­è¯»è¡Œ. t label ifåˆ†æ”¯,ä»Žæœ€åŽä¸€è¡Œå¼€å§‹,æ¡ä»¶ä¸€æ—¦æ»¡è¶³æˆ–è€…T,tå‘½ä»¤,å°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„,æˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾. T label é”™è¯¯åˆ†æ”¯,ä»Žæœ€åŽä¸€è¡Œå¼€å§‹,ä¸€æ—¦å‘ç”Ÿé”™è¯¯æˆ–è€…T,tå‘½ä»¤,å°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„,æˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾. w file å†™å¹¶è¿½åŠ æ¨¡æ¿å—åˆ°fileæœ«å°¾. W file å†™å¹¶è¿½åŠ æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œåˆ°fileæœ«å°¾. ! è¡¨ç¤ºåŽé¢çš„å‘½ä»¤å¯¹æ‰€æœ‰æ²¡æœ‰è¢«é€‰å®šçš„è¡Œå‘ç”Ÿä½œç”¨. = æ‰“å°å½“å‰è¡Œå·ç . # æŠŠæ³¨é‡Šæ‰©å±•åˆ°ä¸‹ä¸€ä¸ªæ¢è¡Œç¬¦ä»¥å‰. æ›¿æ¢é€‰é¡¹ g è¡¨ç¤ºè¡Œå†…å…¨é¢æ›¿æ¢. p è¡¨ç¤ºæ‰“å°è¡Œ. w è¡¨ç¤ºæŠŠè¡Œå†™å…¥ä¸€ä¸ªæ–‡ä»¶. x è¡¨ç¤ºäº’æ¢æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬å’Œç¼“å†²åŒºä¸­çš„æ–‡æœ¬. y è¡¨ç¤ºæŠŠä¸€ä¸ªå­—ç¬¦ç¿»è¯‘ä¸ºå¦å¤–çš„å­—ç¬¦ï¼ˆä½†æ˜¯ä¸ç”¨äºŽæ­£åˆ™è¡¨è¾¾å¼ï¼‰ \\1 å­ä¸²åŒ¹é…æ ‡è®° &amp; å·²åŒ¹é…å­—ç¬¦ä¸²æ ‡è®°å®žæˆ˜ç¤ºä¾‹ èŽ·å–æ–‡ä»¶çš„è¡Œå†…å®¹123456789[root@litong ~]# sed -n 2p /etc/passwd # èŽ·å–/ect/passwdç¬¬äºŒè¡Œbin:x:1:1:bin:/bin:/sbin/nologin[root@litong ~]# sed -n 2,7p /etc/passwd # èŽ·å–/ect/passwdç¬¬äºŒè¡Œåˆ°ç¬¬ä¸ƒè¡Œbin:x:1:1:bin:/bin:/sbin/nologindaemon:x:2:2:daemon:/sbin:/sbin/nologinadm:x:3:4:adm:/var/adm:/sbin/nologinlp:x:4:7:lp:/var/spool/lpd:/sbin/nologinsync:x:5:0:sync:/sbin:/bin/syncshutdown:x:6:0:shutdown:/sbin:/sbin/shutdown 2.æ›¿æ¢æ–‡æœ¬123456[root@litong ~]# sed -i &apos;s/port/pp/g&apos; server.conf # æ–‡ä»¶ä¸­å«æœ‰portä¸ºå…¨å±€æ›¿æ¢pp,,å¹¶ä¸ä¼šçœŸæ­£è¿›è¡Œæ–‡ä»¶æ›¿æ¢,è€Œåªæ˜¯æŠŠæ“ä½œåŽçš„æ–‡æœ¬è¿”å›ž[root@litong ~]# cat server.conf serverserver pp : 9001 pp : 9001 3.åˆ é™¤æ–‡æœ¬12345[root@litong ~]# sed &apos;2d&apos; server.conf # åˆ é™¤æ–‡ä»¶çš„ç¬¬äºŒè¡Œ,å¹¶ä¸ä¼šçœŸæ­£åˆ é™¤æ–‡ä»¶è¡Œ,è€Œåªæ˜¯æŠŠæ“ä½œåŽçš„æ–‡æœ¬è¿”å›žserver pp : 9001 pp : 9001[root@litong ~]# sed &apos;1,$d&apos; server.conf #æ–‡ä»¶æ¸…ç©º,,å¹¶ä¸ä¼šçœŸæ­£åˆ é™¤æ–‡ä»¶è¡Œ,è€Œåªæ˜¯æŠŠæ“ä½œåŽçš„æ–‡æœ¬è¿”å›ž awkå‘½ä»¤awkæ˜¯ä¸€ä¸ªä¼˜è‰¯çš„æ–‡æœ¬å¤„ç†å·¥å…·,LinuxåŠUnixçŽ¯å¢ƒä¸­çŽ°æœ‰çš„åŠŸèƒ½æœ€å¼ºå¤§çš„æ•°æ®å¤„ç†å¼•æ“Žä¹‹ä¸€.è¿™ä¸ªå‘½ä»¤æ“…é•¿å–åˆ—.awkç»è¿‡æ”¹è¿›ç”Ÿæˆæ–°çš„ç‰ˆæœ¬nawkå’Œgawk,çŽ°åœ¨é»˜è®¤linuxç³»ç»Ÿä¸‹æ—¥å¸¸ä½¿ç”¨gawk. å‘½ä»¤æ ¼å¼ awk [é€‰é¡¹å‚æ•°] â€˜scriptâ€™ var=value file(s) awk [é€‰é¡¹å‚æ•°] -f scriptfile var=value file(s) é€‰é¡¹å‚æ•° -F fs or â€“field-separator fs :æŒ‡å®šè¾“å…¥æ–‡ä»¶æŠ˜åˆ†éš”ç¬¦,fsæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼,å¦‚-F:. -v var=value or â€“asign var=valueèµ‹å€¼ä¸€ä¸ªç”¨æˆ·å®šä¹‰å˜é‡. -f scripfile or â€“file scriptfile,ä»Žè„šæœ¬æ–‡ä»¶ä¸­è¯»å–awkå‘½ä»¤. -mf nnn and -mr nnn,å¯¹nnnå€¼è®¾ç½®å†…åœ¨é™åˆ¶,-mfé€‰é¡¹é™åˆ¶åˆ†é…ç»™nnnçš„æœ€å¤§å—æ•°ç›®;-mré€‰é¡¹é™åˆ¶è®°å½•çš„æœ€å¤§æ•°ç›®.è¿™ä¸¤ä¸ªåŠŸèƒ½æ˜¯Bellå®žéªŒå®¤ç‰ˆawkçš„æ‰©å±•åŠŸèƒ½,åœ¨æ ‡å‡†awkä¸­ä¸é€‚ç”¨. -W compact or â€“compat, -W traditional or â€“traditional,åœ¨å…¼å®¹æ¨¡å¼ä¸‹è¿è¡Œawk.æ‰€ä»¥gawkçš„è¡Œä¸ºå’Œæ ‡å‡†çš„awkå®Œå…¨ä¸€æ ·,æ‰€æœ‰çš„awkæ‰©å±•éƒ½è¢«å¿½ç•¥. -W copyleft or â€“copyleft, -W copyright or â€“copyright,æ‰“å°ç®€çŸ­çš„ç‰ˆæƒä¿¡æ¯. -W help or â€“help, -W usage or â€“usage,æ‰“å°å…¨éƒ¨awké€‰é¡¹å’Œæ¯ä¸ªé€‰é¡¹çš„ç®€çŸ­è¯´æ˜Ž. -W lint or â€“lint,æ‰“å°ä¸èƒ½å‘ä¼ ç»Ÿunixå¹³å°ç§»æ¤çš„ç»“æž„çš„è­¦å‘Š. -W lint-old or â€“lint-old,æ‰“å°å…³äºŽä¸èƒ½å‘ä¼ ç»Ÿunixå¹³å°ç§»æ¤çš„ç»“æž„çš„è­¦å‘Š. -W posix,æ‰“å¼€å…¼å®¹æ¨¡å¼.ä½†æœ‰ä»¥ä¸‹é™åˆ¶,ä¸è¯†åˆ«ï¼š/x,å‡½æ•°å…³é”®å­—,func,æ¢ç åºåˆ—ä»¥åŠå½“fsæ˜¯ä¸€ä¸ªç©ºæ ¼æ—¶,å°†æ–°è¡Œä½œä¸ºä¸€ä¸ªåŸŸåˆ†éš”ç¬¦;æ“ä½œç¬¦å’Œ=ä¸èƒ½ä»£æ›¿^å’Œ^=;fflushæ— æ•ˆ. -W re-interval or â€“re-inerval,å…è®¸é—´éš”æ­£åˆ™è¡¨è¾¾å¼çš„ä½¿ç”¨,å‚è€ƒ(grepä¸­çš„Posixå­—ç¬¦ç±»),å¦‚æ‹¬å·è¡¨è¾¾å¼[[:alpha:]]. -W source program-text or â€“source program-text,ä½¿ç”¨program-textä½œä¸ºæºä»£ç ,å¯ä¸Ž-få‘½ä»¤æ··ç”¨. -W version or â€“version,æ‰“å°bugæŠ¥å‘Šä¿¡æ¯çš„ç‰ˆæœ¬. å®žæˆ˜ç¤ºä¾‹1.æŒ‰ç…§æŒ‡å®šçš„åˆ†éš”ç¬¦å–åˆ— 1234567891011121314151617181920[root@litong ~]# cut -d: -f 1 /etc/passwd # cutå‘½ä»¤ä¹Ÿå¯ä»¥å–åˆ—rootbindaemonadmlpsyncshutdownhaltmail[root@litong ~]# awk -F: &apos;&#123;print $1&#125;&apos; /etc/passwd # awkå‘½ä»¤å–åˆ—rootbindaemonadmlpsyncshutdownhaltmail ä¼ä¸šå®žæˆ˜-ç”¨ä¸‰å‰‘å®¢å–IP1234567891011121314151617181920[root@litong ~]# ifconfig eth0 #æŸ¥çœ‹eth0è¿™å—ç½‘å¡çš„ipeth0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet 172.21.205.254 netmask 255.255.240.0 broadcast 172.21.207.255 ether 00:16:3e:00:a1:e1 txqueuelen 1000 (Ethernet) RX packets 599643 bytes 144572651 (137.8 MiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 590688 bytes 161445142 (153.9 MiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0[root@litong ~]# ifconfig eth0 | grep -Po '(?&amp;lt;=inet )\\S+' # grepå–IPæ–¹å¼ä¸€172.21.205.254[root@litong ~]# ifconfig eth0 | grep -o \"inet [0-9.]*\" | grep -o \"[0-9.]*\" # grepå–IPæ–¹å¼äºŒ172.21.205.254[root@litong ~]# ifconfig eth0 | awk -F \"[ ]+\" 'NR==2 &#123;print $3&#125;' # awkå–IP172.21.205.254[root@litong ~]# ifconfig eth0 | sed -nr '2s#^[^0-9]*([0-9.]*).*$#\\1#gp' # sedå–IPæ–¹å¼ä¸€172.21.205.254[root@litong ~]# ifconfig eth0 | sed -nr '2s#^.*inet (.*) net.*$#\\1#gp' # sedå–IPæ–¹å¼äºŒ172.21.205.254 [root@litong ~]# ifconfig eth0 | sed -n '2p' | sed 's#^.*inet ##g' | sed 's# netmask.*$##g' # sedå–IPæ–¹å¼ä¸‰172.21.205.254 ç›¸å…³æ–‡æ¡£èœé¸Ÿæ•™ç¨‹ä¸‰å‰‘å®¢å–IP","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://ltyeamin.github.io/tags/Linux/"}]},{"title":"LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤","slug":"LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤","date":"2018-05-22T09:21:31.000Z","updated":"2019-05-29T14:03:53.000Z","comments":true,"path":"2018/05/22/LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤/","link":"","permalink":"http://ltyeamin.github.io/2018/05/22/LinuxåŸºç¡€-wgetä¸Žcurlå‘½ä»¤/","excerpt":"","text":"Linuxç³»ç»Ÿä¸‹çš„ä¸‹è½½å·¥å…·wget æ˜¯ä¸€ä¸ªä»Žç½‘ç»œä¸Šè‡ªåŠ¨ä¸‹è½½æ–‡ä»¶çš„è‡ªç”±å·¥å…·,æ”¯æŒé€šè¿‡ HTTP,HTTPS,FTP ä¸‰ä¸ªæœ€å¸¸è§çš„ TCP/IPåè®® ä¸‹è½½,å¹¶å¯ä»¥ä½¿ç”¨ HTTP ä»£ç†.â€wgetâ€ è¿™ä¸ªåç§°æ¥æºäºŽ â€œWorld Wide Webâ€ ä¸Ž â€œgetâ€ çš„ç»“åˆ.æ‰€è°“è‡ªåŠ¨ä¸‹è½½,æ˜¯æŒ‡ wget å¯ä»¥åœ¨ç”¨æˆ·é€€å‡ºç³»ç»Ÿçš„ä¹‹åŽåœ¨ç»§ç»­åŽå°æ‰§è¡Œ,ç›´åˆ°ä¸‹è½½ä»»åŠ¡å®Œæˆ. å‘½ä»¤é€‰é¡¹ -a&lt;æ—¥å¿—æ–‡ä»¶&gt;:åœ¨æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶ä¸­è®°å½•èµ„æ–™çš„æ‰§è¡Œè¿‡ç¨‹; -A&lt;åŽç¼€å&gt;:æŒ‡å®šè¦ä¸‹è½½æ–‡ä»¶çš„åŽç¼€å,å¤šä¸ªåŽç¼€åä¹‹é—´ä½¿ç”¨é€—å·è¿›è¡Œåˆ†éš”; -b:è¿›è¡ŒåŽå°çš„æ–¹å¼è¿è¡Œwget; -B&lt;è¿žæŽ¥åœ°å€&gt;:è®¾ç½®å‚è€ƒçš„è¿žæŽ¥åœ°å€çš„åŸºåœ°åœ°å€; -c:ç»§ç»­æ‰§è¡Œä¸Šæ¬¡ç»ˆç«¯çš„ä»»åŠ¡,æ–­ç‚¹ç»­ä¼ ; -C&lt;æ ‡å¿—&gt;:è®¾ç½®æœåŠ¡å™¨æ•°æ®å—åŠŸèƒ½æ ‡å¿—onä¸ºæ¿€æ´»,offä¸ºå…³é—­,é»˜è®¤å€¼ä¸ºon; -d:è°ƒè¯•æ¨¡å¼è¿è¡ŒæŒ‡ä»¤; -D&lt;åŸŸååˆ—è¡¨&gt;:è®¾ç½®é¡ºç€çš„åŸŸååˆ—è¡¨,åŸŸåä¹‹é—´ç”¨â€,â€åˆ†éš”; -e&lt;æŒ‡ä»¤&gt;:ä½œä¸ºæ–‡ä»¶â€.wgetrcâ€ä¸­çš„ä¸€éƒ¨åˆ†æ‰§è¡ŒæŒ‡å®šçš„æŒ‡ä»¤; -h:æ˜¾ç¤ºæŒ‡ä»¤å¸®åŠ©ä¿¡æ¯; -i&lt;æ–‡ä»¶&gt;:ä»ŽæŒ‡å®šæ–‡ä»¶èŽ·å–è¦ä¸‹è½½çš„URLåœ°å€; -l&lt;ç›®å½•åˆ—è¡¨&gt;:è®¾ç½®é¡ºç€çš„ç›®å½•åˆ—è¡¨,å¤šä¸ªç›®å½•ç”¨â€,â€åˆ†éš”; -L:ä»…é¡ºç€å…³è”çš„è¿žæŽ¥; -O: å°†è¦ä¸‹è½½çš„æ–‡ä»¶è¿›è¡Œé‡å‘½å -r:é€’å½’ä¸‹è½½æ–¹å¼; -nc:æ–‡ä»¶å­˜åœ¨æ—¶,ä¸‹è½½æ–‡ä»¶ä¸è¦†ç›–åŽŸæœ‰æ–‡ä»¶; -nv:ä¸‹è½½æ—¶åªæ˜¾ç¤ºæ›´æ–°å’Œå‡ºé”™ä¿¡æ¯,ä¸æ˜¾ç¤ºæŒ‡ä»¤çš„è¯¦ç»†æ‰§è¡Œè¿‡ç¨‹; -q:ä¸æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹; -nh:ä¸æŸ¥è¯¢ä¸»æœºåç§°; -v:æ˜¾ç¤ºè¯¦ç»†æ‰§è¡Œè¿‡ç¨‹; -V:æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯; â€“passive-ftp:ä½¿ç”¨è¢«åŠ¨æ¨¡å¼PASVè¿žæŽ¥FTPæœåŠ¡å™¨; â€“follow-ftp:ä»ŽHTMLæ–‡ä»¶ä¸­ä¸‹è½½FTPè¿žæŽ¥æ–‡ä»¶. å‚è€ƒç¤ºä¾‹1234567891011121314151.ä¸‹è½½ç½‘ç»œèµ„æº[root@litong ~]# wget https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgz #ä½¿ç”¨wgetä¸‹è½½Pythonå®‰è£…åŒ…--2018-05-22 16:57:49-- https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgzResolving www.python.org (www.python.org)... 151.101.8.223, 2a04:4e42:2::223Connecting to www.python.org (www.python.org)|151.101.8.223|:443... connected.HTTP request sent, awaiting response... 200 OKLength: 22994617 (22M) [application/octet-stream]Saving to: â€˜Python-3.6.5.tgzâ€™100%[=============================================================================================================&amp;gt;] 22,994,617 27.6MB/s in 0.8s 2018-05-22 16:57:50 (27.6 MB/s) - â€˜Python-3.6.5.tgzâ€™ saved [22994617/22994617][root@litong ~]# ll | grep Python-rw-r--r-- 1 root root 22994617 Mar 28 18:24 Python-3.6.5.tgz 2.æ–­ç‚¹ç»­ä¼ 123456789101112131415161718[root@litong ~]# wget -c http://d1.music.126.net/dmusic/netease-cloud-music_1.1.0_amd64_ubuntu.deb #ä¸‹è½½Linuxç‰ˆæœ¬çš„ç½‘æ˜“äº‘éŸ³ä¹--2018-05-22 17:04:04-- http://d1.music.126.net/dmusic/netease-cloud-music_1.1.0_amd64_ubuntu.debResolving d1.music.126.net (d1.music.126.net)... 157.185.168.24Connecting to d1.music.126.net (d1.music.126.net)|157.185.168.24|:80... connected.HTTP request sent, awaiting response... 200 OKLength: 68515076 (65M) [application/octet-stream]Saving to: â€˜netease-cloud-music_1.1.0_amd64_ubuntu.debâ€™46% [====================================================================&amp;gt; ] 31,560,638 15.2MB/s ^C #æŒ‰ä¸‹Ctrl+Cç»ˆæ­¢ä¸‹è½½[root@litong ~]# wget -c http://d1.music.126.net/dmusic/netease-cloud-music_1.1.0_amd64_ubuntu.deb #ç«¯ç‚¹ç»­ä¼ ,ç»§ç»­ä¸‹è½½,ä¸ä¼šé‡æ–°ä¸‹è½½--2018-05-22 17:04:09-- http://d1.music.126.net/dmusic/netease-cloud-music_1.1.0_amd64_ubuntu.debResolving d1.music.126.net (d1.music.126.net)... 157.185.168.24Connecting to d1.music.126.net (d1.music.126.net)|157.185.168.24|:80... connected.HTTP request sent, awaiting response... 206 Partial ContentLength: 68515076 (65M), 33805218 (32M) remaining [application/octet-stream]Saving to: â€˜netease-cloud-music_1.1.0_amd64_ubuntu.debâ€™100%[+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++==========================================================================&amp;gt;] 68,515,076 14.7MB/s in 2.2s Last-modified header invalid -- time-stamp ignored.2018-05-22 17:04:12 (14.7 MB/s) - â€˜netease-cloud-music_1.1.0_amd64_ubuntu.debâ€™ saved [68515076/68515076] 3.åŽå°ä¸‹è½½12345678910111213141516171819202122[root@litong ~]# wget -b https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgz &amp;&amp; tail -50f wget-log #åŽå°ä¸‹è½½å¹¶æŸ¥çœ‹ä¸‹è½½æ—¥å¿—.ä¸‹è½½å¹¶ä¸é˜»å¡žShelläº¤äº’Continuing in background, pid 301.Output will be written to â€˜wget-logâ€™.--2018-05-22 17:14:55-- https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgzResolving www.python.org (www.python.org)... 151.101.8.223, 2a04:4e42:2::223Connecting to www.python.org (www.python.org)|151.101.8.223|:443... connected.HTTP request sent, awaiting response... 200 OKLength: 22994617 (22M) [application/octet-stream]Saving to: â€˜Python-3.6.5.tgzâ€™0K .......... .......... .......... .......... .......... 0% 17.2M 1s50K .......... .......... .......... .......... .......... 0% 23.7M 1s100K .......... .......... .......... .......... .......... 0% 33.3M 1s150K .......... .......... .......... .......... .......... 0% 22.4M 1s200K .......... .......... .......... .......... .......... 1% 34.5M 1s250K .......... .......... .......... .......... .......... 1% 32.9M 1s .......... .......... .......... .......... ..........22250K .......... .......... .......... .......... .......... 99% 13.2M 0s22300K .......... .......... .......... .......... .......... 99% 10.7M 0s22350K .......... .......... .......... .......... .......... 99% 12.4M 0s22400K .......... .......... .......... .......... .......... 99% 14.3M 0s22450K ..... 100% 129M=0.8s2018-05-22 17:14:56 (27.7 MB/s) - â€˜Python-3.6.5.tgzâ€™ saved [22994617/22994617] æµ‹è¯•æŽ¥å£å¸¸ç”¨çš„curlcurlæ˜¯åˆ©ç”¨URLè¯­æ³•åœ¨å‘½ä»¤è¡Œæ–¹å¼ä¸‹å·¥ä½œçš„å¼€æºæ–‡ä»¶ä¼ è¾“å·¥å…·.å®ƒæ”¯æŒæ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½,æ‰€ä»¥æ˜¯ç»¼åˆä¼ è¾“å·¥å…·.curlæ”¯æŒåŒ…æ‹¬HTTP,HTTPS,ftpç­‰ä¼—å¤šåè®®,è¿˜æ”¯æŒPOST,cookiesè®¤è¯,ä»ŽæŒ‡å®šåç§»å¤„ä¸‹è½½éƒ¨åˆ†æ–‡ä»¶,ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²,é™é€Ÿ,æ–‡ä»¶å¤§å°,è¿›åº¦æ¡ç­‰ç‰¹å¾.åšç½‘é¡µå¤„ç†æµç¨‹å’Œæ•°æ®æ£€ç´¢è‡ªåŠ¨åŒ–,curlå¯ä»¥ç¥ä¸€è‡‚ä¹‹åŠ›. å‚è€ƒç¤ºä¾‹1.ç®€å•è¯·æ±‚1234[root@litong ~]# curl https://www.baidu.com #ç®€å•GETè¯·æ±‚è¯·æ±‚ç™¾åº¦&amp;lt;!DOCTYPE html&amp;gt;&amp;lt;!--STATUS OK--&amp;gt;&amp;lt;html&amp;gt; &amp;lt;head&amp;gt;&amp;lt;meta http-equiv=content-type content=text/html;charset=utf-8&amp;gt;&amp;lt;meta http-equiv=X-UA-Compatible content=IE=Edge&amp;gt;&amp;lt;meta content=always name=referrer&amp;gt;&amp;lt;link rel=stylesheet type=text/css href=https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css&amp;gt;&amp;lt;title&amp;gt;ç™¾åº¦ä¸€ä¸‹,ä½ å°±çŸ¥é“&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt; &amp;lt;body link=#0000cc&amp;gt; &amp;lt;div id=wrapper&amp;gt; &amp;lt;div id=head&amp;gt; &amp;lt;div class=head_wrapper&amp;gt; &amp;lt;div class=s_form&amp;gt; &amp;lt;div class=s_form_wrapper&amp;gt; &amp;lt;div id=lg&amp;gt; &amp;lt;img hidefocus=true src=//www.baidu.com/img/bd_logo1.png width=270 height=129&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;form id=form name=f action=//www.baidu.com/s class=fm&amp;gt; &amp;lt;input type=hidden name=bdorz_come value=1&amp;gt; &amp;lt;input type=hidden name=ie value=utf-8&amp;gt; &amp;lt;input type=hidden name=f value=8&amp;gt; &amp;lt;input type=hidden name=rsv_bp value=1&amp;gt; &amp;lt;input type=hidden name=rsv_idx value=1&amp;gt; &amp;lt;input type=hidden name=tn value=baidu&amp;gt;&amp;lt;span class=\"bg s_ipt_wr\"&amp;gt;&amp;lt;input id=kw name=wd class=s_ipt value maxlength=255 autocomplete=off autofocus=autofocus&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=\"bg s_btn_wr\"&amp;gt;&amp;lt;input type=submit id=su value=ç™¾åº¦ä¸€ä¸‹ class=\"bg s_btn\" autofocus&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;/form&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div id=u1&amp;gt; &amp;lt;a href=http://news.baidu.com name=tj_trnews class=mnav&amp;gt;æ–°é—»&amp;lt;/a&amp;gt; &amp;lt;a href=https://www.hao123.com name=tj_trhao123 class=mnav&amp;gt;hao123&amp;lt;/a&amp;gt; &amp;lt;a href=http://map.baidu.com name=tj_trmap class=mnav&amp;gt;åœ°å›¾&amp;lt;/a&amp;gt; &amp;lt;a href=http://v.baidu.com name=tj_trvideo class=mnav&amp;gt;è§†é¢‘&amp;lt;/a&amp;gt; &amp;lt;a href=http://tieba.baidu.com name=tj_trtieba class=mnav&amp;gt;è´´å§&amp;lt;/a&amp;gt; &amp;lt;noscript&amp;gt; &amp;lt;a href=http://www.baidu.com/bdorz/login.gif?login&amp;amp;tpl=mn&amp;amp;u=http%3A%2F%2Fwww.baidu.com%2f%3fbdorz_come%3d1 name=tj_login class=lb&amp;gt;ç™»å½•&amp;lt;/a&amp;gt; &amp;lt;/noscript&amp;gt; &amp;lt;script&amp;gt;document.write('&amp;lt;a href=\"http://www.baidu.com/bdorz/login.gif?login&amp;tpl=mn&amp;u='+ encodeURIComponent(window.location.href+ (window.location.search === \"\" ? \"?\" : \"&amp;\")+ \"bdorz_come=1\")+ '\" name=\"tj_login\" class=\"lb\"&amp;gt;ç™»å½•&amp;lt;/a&amp;gt;'); &amp;lt;/script&amp;gt; &amp;lt;a href=//www.baidu.com/more/ name=tj_briicon class=bri style=\"display: block;\"&amp;gt;æ›´å¤šäº§å“&amp;lt;/a&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div id=ftCon&amp;gt; &amp;lt;div id=ftConw&amp;gt; &amp;lt;p id=lh&amp;gt; &amp;lt;a href=http://home.baidu.com&amp;gt;å…³äºŽç™¾åº¦&amp;lt;/a&amp;gt; &amp;lt;a href=http://ir.baidu.com&amp;gt;About Baidu&amp;lt;/a&amp;gt; &amp;lt;/p&amp;gt; &amp;lt;p id=cp&amp;gt;&amp;copy;2017&amp;nbsp;Baidu&amp;nbsp;&amp;lt;a href=http://www.baidu.com/duty/&amp;gt;ä½¿ç”¨ç™¾åº¦å‰å¿…è¯»&amp;lt;/a&amp;gt;&amp;nbsp; &amp;lt;a href=http://jianyi.baidu.com/ class=cp-feedback&amp;gt;æ„è§åé¦ˆ&amp;lt;/a&amp;gt;&amp;nbsp;äº¬ICPè¯030173å·&amp;nbsp; &amp;lt;img src=//www.baidu.com/img/gs.gif&amp;gt; &amp;lt;/p&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; 2.ç¼“å­˜(ä¸‹è½½)1234567891011121314[root@litong ~]# curl -o baidu.html https://www.baidu.com #å°†ç™¾åº¦é¦–é¡µä¿å­˜æˆhtmlæœ¬åœ°æ–‡ä»¶ % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 2443 100 2443 0 0 10319 0 --:--:-- --:--:-- --:--:-- 10351[root@litong ~]# cat baidu.html &amp;lt;!DOCTYPE html&amp;gt;&amp;lt;!--STATUS OK--&amp;gt;&amp;lt;html&amp;gt; &amp;lt;head&amp;gt;&amp;lt;meta http-equiv=content-type content=text/html;charset=utf-8&amp;gt;&amp;lt;meta http-equiv=X-UA-Compatible content=IE=Edge&amp;gt;&amp;lt;meta content=always name=referrer&amp;gt;&amp;lt;link rel=stylesheet type=text/css href=https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css&amp;gt;&amp;lt;title&amp;gt;ç™¾åº¦ä¸€ä¸‹,ä½ å°±çŸ¥é“&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt; &amp;lt;body link=#0000cc&amp;gt; &amp;lt;div id=wrapper&amp;gt; &amp;lt;div id=head&amp;gt; &amp;lt;div class=head_wrapper&amp;gt; &amp;lt;div class=s_form&amp;gt; &amp;lt;div class=s_form_wrapper&amp;gt; &amp;lt;div id=lg&amp;gt; &amp;lt;img hidefocus=true src=//www.baidu.com/img/bd_logo1.png width=270 height=129&amp;gt; &amp;lt;/div&amp;gt; ... #çœç•¥ç‰‡æ®µ[root@litong ~]# curl -o Python-3.5.5.tgz https://www.python.org/ftp/python/3.5.5/Python-3.5.5.tgz #æ›¿æ¢wgetå‘½ä»¤ä¸‹è½½Python,æ–­ç‚¹ç»­ä¼ -C % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 19.8M 100 19.8M 0 0 29.0M 0 --:--:-- --:--:-- --:--:-- 29.0M[root@litong ~]# ll | grep Python-rw-r--r-- 1 root root 20766931 May 22 17:38 Python-3.5.5.tgz 3.è¯·æ±‚æ–¹å¼è®¾ç½®12345[root@litong ~]# curl -H &quot;Content-Type:application/json&quot; -X POST -d &apos;&#123; &quot;arg&quot;: 125086 &#125;&apos; http://47.67.44.121:9130/learning-path/tree/queryPhaseAndSubject #ä»¥jsonçš„æ–¹å¼è¿›è¡Œè¯·æ±‚% Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 231 0 214 100 17 214 17 0:00:01 --:--:-- 0:00:01 14437&#123;&quot;message&quot;:null,&quot;result&quot;:&quot;success&quot;,&quot;data&quot;:[&#123;&quot;subjectId&quot;:&quot;4267aa39-6ecb-40b7-8e10-7b309d022aec&quot;,&quot;subjectName&quot;:&quot;è¯­æ–‡&quot;,&quot;phaseId&quot;:&quot;c7241629-1ec4-4035-b04c-ef17f7866688&quot;,&quot;phaseName&quot;:&quot;é«˜ä¸­&quot;&#125;],&quot;code&quot;:0,&quot;success&quot;:true&#125; 4.è®¾ç½®referer1[root@litong ~]# curl --referer http://www.google.com http://www.baidu.com 5.è®¾ç½®User-Agent1[root@litong ~]# curl -A \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.162 Safari/537.36\" http://www.baidu.com 6.è®¾ç½®cookie1[root@litong ~]# curl --cookie \"user=litong\" http://www.baidu.com 7.è®¾ç½®è¯·æ±‚å¤´1[root@litong ~]# curl -H \"accept-language:zh-cn\" http://www.baidu.com 8.è¿›è¡Œè®¤è¯12345678910111213[root@litong ~]# curl -u litong:0517108 http://www.gitlab.com/users/sign_in % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0&amp;lt;! DOCTYPE html&amp;gt;&amp;lt;html class=\"devise-layout-html\"&amp;gt;&amp;lt;head prefix=\"og: http://ogp.me/ns#\"&amp;gt;&amp;lt;meta charset=\"utf-8\"&amp;gt;&amp;lt;meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\"&amp;gt;&amp;lt;meta content=\"object\" property=\"og:type\"&amp;gt;&amp;lt;meta content=\"GitLab\" property=\"og:site_name\"&amp;gt;&amp;lt;meta content=\"Sign in\" property=\"og:title\"&amp;gt;&amp;lt;meta content=\"GitLab Community Edition\" property=\"og:description\"&amp;gt;...çœç•¥ç‰‡æ®µ 9.ä¸Šä¼ æ–‡ä»¶1234 [root@litong ~]# curl http://127.0.0.1/up -F \"file=@logo.png\" % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 4616 0 76 100 4540 76 4540 0:00:01 --:--:-- 0:00:01 8213&#123;\"hash\":\"FmP639IPMcunQpiXidRPNisi2lDp\",\"key\":\"FmP639IPMcunQpiXidRPNisi2lDp\"&#125;","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://ltyeamin.github.io/tags/Linux/"}]},{"title":"è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter","slug":"è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter","date":"2018-05-18T08:58:10.000Z","updated":"2019-05-29T14:03:52.000Z","comments":true,"path":"2018/05/18/è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter/","link":"","permalink":"http://ltyeamin.github.io/2018/05/18/è‡ªå®šä¹‰ä¸€ä¸ªSpring Boot Starter/","excerpt":"","text":"æˆ‘ä»¬å¯ä»¥æ¨¡ä»¿ä¹‹å‰httpç¼–ç è‡ªåŠ¨é…ç½®çš„ä¾‹å­ä¹Ÿåè®®ä¸€ä¸ªstarter,ç›®çš„æ˜¯ä¸ºäº†é™ä½Žè€¦åˆæ€§.è™½è¯´å¯ä»¥é™ä½Žç¨‹åºä¾èµ–ä¹‹é—´çš„è€¦åˆæ€§,ä½†æ˜¯æˆ‘ä»¬ä¸å»ºè®®è‡ªå·±å®šä¹‰starter,å› ä¸ºSpring Bootæˆ–å…¶ä»–ç¤¾åŒºå·²ç»æä¾›äº†å¤§éƒ¨åˆ†çš„starter,å¯ä»¥æ»¡è¶³æˆ‘ä»¬æ—¥å¸¸çš„éœ€æ±‚.æœ¬ç¯‡åšæ–‡ä¸»è¦ä¸ºäº†è®©å¤§å®¶æ›´å¥½çš„ç†è§£Spring Bootçš„è‡ªåŠ¨é…ç½®åŽŸç†è€Œå†™çš„,æ€»ä¹‹,éµå¾ªâ€ä¸è¦é‡å¤é€ è½®å­â€çš„å®—æ—¨.åŠ¨èµ·æ¥è‡ªå·±é€ è½®å­,è®©æˆ‘ä»¬ä»ŽçŽ°åœ¨å¼€å§‹: 1.æ–°å»ºä¸€ä¸ªMavené¡¹ç›®,pomæ–‡ä»¶ä¸­å¯¼å…¥ä¾èµ–1234567891011121314151617181920212223242526272829&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.yeamin.boot&lt;/groupId&gt; &lt;artifactId&gt;yeamin-boot-start&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;description&gt;è‡ªå®šä¹‰çš„start&lt;/description&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- è‡ªåŠ¨é…ç½®ä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt; &lt;version&gt;2.0.0.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;version&gt;2.0.0.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 2.å®‰å…¨çš„é…ç½®ç±»1234567891011121314151617181920212223package cn.yeamin.boot.conf;import org.springframework.boot.context.properties.ConfigurationProperties;/** * å®‰å…¨çš„é…ç½®ç±» * @author Administrator */@ConfigurationProperties(prefix = \"yeamin.boot\")public class HelloServiceProperties &#123; private static final String MSG = \"world\"; private String msg = MSG; public String getMsg() &#123; return msg; &#125; public void setMsg(String msg) &#123; this.msg = msg; &#125; &#125; 3.åˆ¤æ–­ä¾æ®ç±»123456789101112131415161718192021/** * åˆ¤æ–­ä¾æ®ç±»:å¯æ ¹æ®æ­¤ç±»çš„å­˜åœ¨ä¸Žå¦åˆ¤æ–­æ˜¯å¦åˆ›å»ºè¿™ä¸ªç±»çš„Bean * @author Administrator */public class HelloService &#123; private String msg; public String sayHello() &#123; return \"Hello: \" + msg; &#125; public String getMsg() &#123; return msg; &#125; public void setMsg(String msg) &#123; this.msg = msg; &#125; &#125; 4.è‡ªåŠ¨é…ç½®ç±»12345678910111213141516171819202122232425262728293031package cn.yeamin.boot.conf;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import cn.yeamin.boot.service.HelloService;@Configuration@EnableConfigurationProperties(HelloServiceProperties.class)@ConditionalOnClass(&#123;HelloService.class&#125;)@ConditionalOnProperty(prefix = \"yeamin.boot\", value = \"enable\", matchIfMissing = true)public class HelloAutoConfiguration &#123; @Autowired private HelloServiceProperties properties; @Bean //åˆ¤æ–­HelloServiceæ˜¯å¦åœ¨classpathå­˜åœ¨ @ConditionalOnMissingBean(HelloService.class) public HelloService helloService() &#123; HelloService helloService = new HelloService(); helloService.setMsg(properties.getMsg()); return helloService; &#125;&#125; 5.æ³¨å†Œé…ç½®åœ¨src/main/resourceæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºMETA-INF/spring.factoriesæ–‡ä»¶123# Auto Configure è‹¥æœ‰å¤šä¸ªè‡ªåŠ¨é…ç½®,åˆ™ç”¨&quot;,&quot;éš”å¼€,æ­¤å¤„&quot;\\&quot;æ˜¯ä¸ºäº†æ¢è¡ŒåŽè¿˜èƒ½å¤Ÿè¯»å–åˆ°valueorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\\cn.yeamin.boot.conf.HelloAutoConfiguration 6.æ–°å»ºä¸€ä¸ªSpring Booté¡¹ç›®,ä½¿ç”¨starter,å¯¼å…¥pomé…ç½®12345&lt;dependency&gt; &lt;groupId&gt;com.yeamin.boot&lt;/groupId&gt; &lt;artifactId&gt;yeamin-boot-start&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;/dependency&gt; 7.ç¼–å†™controller123456789101112@RestControllerpublic class HelloController &#123; @Autowired private HelloService helloService; @GetMapping(&quot;/hello&quot;) public String index() &#123; return helloService.sayHello(); &#125;&#125; 8.è¿›è¡Œymlé…ç½®12345server: port: 80yeamin: boot: msg: litong 9.æµè§ˆå™¨è¯·æ±‚http://localhost/hello,æŸ¥çœ‹ç»“æžœ1litong","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://ltyeamin.github.io/tags/Spring-Boot/"}]},{"title":"Spring Bootè‡ªåŠ¨é…ç½®åŽŸç†å‰–æž","slug":"Spring Bootè‡ªåŠ¨åŽŸç†å‰–æž","date":"2018-05-17T08:01:40.000Z","updated":"2020-01-08T13:06:42.960Z","comments":true,"path":"2018/05/17/Spring Bootè‡ªåŠ¨åŽŸç†å‰–æž/","link":"","permalink":"http://ltyeamin.github.io/2018/05/17/Spring Bootè‡ªåŠ¨åŽŸç†å‰–æž/","excerpt":"","text":"ç¥žå¥‡é­”æ³•-è‡ªåŠ¨é…ç½®å‰ç¯‡æ–‡ç« è®²è¿°äº†Spring 4 æ¡ä»¶æ³¨è§£,å…¶å®žSpring Bootè‡ªåŠ¨é…ç½®ç¥žå¥‡å®žçŽ°ä¹Ÿæ˜¯åŸºäºŽè¿™ä¸€åŽŸç†çš„.è‹¥æƒ³çŸ¥é“Spring Bootä¸ºæˆ‘ä»¬åšäº†å“ªäº›çš„è‡ªåŠ¨é…ç½®,å¯ä»¥æŸ¥çœ‹è¿™é‡Œçš„æºç .å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼æŸ¥çœ‹é¡¹ç›®ä¸­å·²å¯ç”¨å’Œæœªå¯ç”¨çš„è‡ªåŠ¨é…ç½®æŠ¥å‘Š. è¿è¡Œjaræ—¶å¢žåŠ â€“debugå‚æ•°: java -jar xxx.jar â€“debug åœ¨application.propertiesä¸­è®¾ç½®å±žæ€§: debug=true è¿è¡Œé¡¹ç›®æ—¶é€šè¿‡IDEè®¾ç½®JVMå‚æ•°: -Ddebug å¯åŠ¨åŽ,å¯åœ¨æŽ§åˆ¶å°è¾“å‡ºç›¸å…³è‡ªåŠ¨é…ç½®æŠ¥å‘Š.å·²å¯ç”¨çš„è‡ªåŠ¨é…ç½®ä¸º:123456789101112131415161718192021222324============================CONDITIONS EVALUATION REPORT============================Positive matches:----------------- CodecsAutoConfiguration matched: - @ConditionalOnClass found required class &apos;org.springframework.http.codec.CodecConfigurer&apos;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition) CodecsAutoConfiguration.JacksonCodecConfiguration matched: - @ConditionalOnClass found required class &apos;com.fasterxml.jackson.databind.ObjectMapper&apos;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition) CodecsAutoConfiguration.JacksonCodecConfiguration#jacksonCodecCustomizer matched: - @ConditionalOnBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) found bean &apos;jacksonObjectMapper&apos; (OnBeanCondition) DispatcherServletAutoConfiguration matched: - @ConditionalOnClass found required class &apos;org.springframework.web.servlet.DispatcherServlet&apos;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition) - found ConfigurableWebEnvironment (OnWebApplicationCondition) ...... ...... ...... æœªå¯ç”¨çš„è‡ªåŠ¨é…ç½®ä¸º:123456789101112131415161718Negative matches:----------------- ActiveMQAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes &apos;javax.jms.ConnectionFactory&apos;, &apos;org.apache.activemq.ActiveMQConnectionFactory&apos; (OnClassCondition) AopAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes &apos;org.aspectj.lang.annotation.Aspect&apos;, &apos;org.aspectj.lang.reflect.Advice&apos;, &apos;org.aspectj.weaver.AnnotatedElement&apos; (OnClassCondition) ArtemisAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes &apos;javax.jms.ConnectionFactory&apos;, &apos;org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory&apos; (OnClassCondition) ...... ...... ...... Spring Bootå…³äºŽè‡ªåŠ¨é…ç½®çš„æºç ä¹Ÿæ˜¯åœ¨spring-boot-autoconfigure-1.5.9.RELEASE.jarå†…,åŒ…å«çš„æ¨¡å—é…ç½®,å¦‚ä¸‹å›¾: Spring Bootæ¡ä»¶æ³¨è§£åœ¨spring-boot-autoconfigure-1.5.9.RELEASE.jarçš„org.springframework.boot.autoconfigure.conditionåŒ…ä¸‹,æœ‰è®¸å¤šæ³¨è§£ç»„åˆäº†@Conditionalçš„å…ƒæ³¨è§£,åªæ˜¯ä½¿ç”¨äº†ä¸åŒçš„æ¡ä»¶,å½¢æˆäº†æ–°çš„æ¡ä»¶æ³¨è§£: @ConditionalOnBean: å½“å®¹å™¨é‡Œæœ‰æŒ‡å®šçš„Beançš„æ¡ä»¶ä¸‹. @ConditionalOnClass: å½“classpathä¸‹æœ‰æŒ‡å®šçš„ç±»çš„æ¡ä»¶ä¸‹. @ConditionalOnExpression: åŸºäºŽSpELè¡¨è¾¾å¼ä½œä¸ºåˆ¤æ–­æ¡ä»¶. @ConditionalOnJava: åŸºäºŽJVMç‰ˆæœ¬ä½œä¸ºåˆ¤æ–­æ¡ä»¶. @ConditionalOnJndi: åœ¨JNDIæ‘é•¿çš„æ¡ä»¶ä¸‹æŸ¥æ‰¾æŒ‡å®šçš„ä½ç½®. @ConditionalOnMissingBean:å½“å®¹å™¨é‡Œæ²¡æœ‰æŒ‡å®šçš„Beançš„æ¡ä»¶ä¸‹. @ConditionalOnMissingClass: å½“classpathä¸‹æ²¡æœ‰æŒ‡å®šçš„ç±»çš„æ¡ä»¶ä¸‹. @ConditionalOnNotWebApplication: å½“å‰é¡¹ç›®ä¸æ˜¯Webé¡¹ç›®çš„æ¡ä»¶ä¸‹. @ConditionalOnProperty: æŒ‡å®šçš„å±žæ€§æ˜¯å¦æœ‰æŒ‡å®šå€¼çš„æƒ…å†µä¸‹. @ConditionalOnResource: classpathä¸‹æ˜¯å¦æœ‰æŒ‡å®šèµ„æºçš„æƒ…å†µä¸‹. @ConditionalOnSingleCandidate: å½“æŒ‡å®šçš„Beanåœ¨å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ª,æˆ–è™½ç„¶æœ‰å¤šä¸ªä½†æ˜¯æœ‰æŒ‡å®šçš„é¦–é€‰(@Primary)çš„Bean @ConditionalOnWebApplication: å½“å‰é¡¹ç›®æ˜¯Webé¡¹ç›®çš„æ¡ä»¶ä¸‹. @Enable*æ³¨è§£çš„å·¥ä½œåŽŸç†åœ¨Springä½“ç³»ä¸­,æœ‰å¤§é‡çš„@Enable*çš„æ³¨è§£: @EnableAspectAutoProxy:ç”¨äºŽå¼€å¯å¯¹Aspectè‡ªåŠ¨ä»£ç†çš„æ”¯æŒ. @EnableAsync:ç”¨äºŽå¼€å¯å¼‚æ­¥æ–¹æ³•çš„æ”¯æŒ. @EnableScheduling:ç”¨äºŽå¼€å¯å®šæ—¶ä»»åŠ¡çš„æ”¯æŒ. @EnableWebMvc:ç”¨äºŽå¼€å¯WebMvcé…ç½®çš„æ”¯æŒ. @EnableConfigurationProperties:ç”¨äºŽå¼€å¯å¯¹@ConfigurationPropertiesæ³¨è§£é…ç½®Beançš„çš„æ”¯æŒ. @EnableJpaRepositories:ç”¨äºŽå¼€å¯å¯¹Spring Data Jpaçš„çš„æ”¯æŒ. @EnableTransactionManagement:ç”¨äºŽå¼€å¯å¯¹æ³¨è§£å¼äº‹åŠ¡çš„çš„æ”¯æŒ. @EnableCaching:ç”¨äºŽå¼€å¯å¯¹æ³¨è§£å¼ç¼“å­˜çš„çš„æ”¯æŒ. è¿™äº›æ³¨è§£ç”¨äºŽå¼€å¯æŸé¡¹åŠŸèƒ½çš„æ”¯æŒ,ä»Žè€Œé¿å…è‡ªå·±é…ç½®å¤§é‡çš„ä»£ç .é‚£ä¹ˆè¿™ä¸ªç¥žå¥‡çš„åŠŸèƒ½çš„ä¸Šçº¿åŽŸç†æ˜¯ä»€ä¹ˆå‘¢?æˆ‘ä»¬æ¥çœ‹çœ‹. é€šè¿‡è§‚å¯Ÿè¿™äº›@Enable*æ³¨è§£çš„æºç ,æˆ‘ä»¬å‘çŽ°æ‰€æœ‰çš„æ³¨è§£éƒ½æœ‰ä¸€ä¸ª@importæ³¨è§£,@importæ˜¯ç”¨æ¥å¯¼å…¥é…ç½®ç±»çš„,è¿™ä¹Ÿå°±æ„å‘³ç€è¿™äº›è‡ªåŠ¨å¼€å¯çš„å®žçŽ°æ˜¯å¯¼å…¥äº†ä¸€äº›è‡ªåŠ¨é…ç½®çš„Bean.è¿™äº›å¯¼å…¥çš„é…ç½®æ–¹å¼ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ç±»åž‹. ç¬¬ä¸€ç±»:ç›´æŽ¥å¯¼å…¥é…ç½®ç±» 1234567@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Import(SchedulingConfiguration.class)@Documentedpublic @interface EnableScheduling &#123;&#125; ç›´æŽ¥å¯¼å…¥é…ç½®ç±»SchedulingConfiguration.class,è¿™ä¸ªç±»æ³¨è§£äº†@Condition,ä¸”æ³¨å†Œäº†ä¸€ä¸ªScheduledAnnotationBeanPostProcessorçš„Bean,æºç å¦‚ä¸‹:1234567891011@Configuration@Role(BeanDefinition.ROLE_INFRASTRUCTURE)public class SchedulingConfiguration &#123; @Bean(name = TaskManagementConfigUtils.SCHEDULED_ANNOTATION_PROCESSOR_BEAN_NAME) @Role(BeanDefinition.ROLE_INFRASTRUCTURE) public ScheduledAnnotationBeanPostProcessor scheduledAnnotationProcessor() &#123; return new ScheduledAnnotationBeanPostProcessor(); &#125;&#125; ç¬¬äºŒç±»:ä¾æ®æ¡ä»¶é€‰æ‹©é…ç½®ç±»12345678910@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Import(AsyncConfigurationSelector.class)public @interface EnableAsync &#123; Class&lt;? extends Annotation&gt; annotation() default Annotation.class; boolean proxyTargetClass() default false; AdviceMode mode() default AdviceMode.PROXY; int order() default Ordered.LOWEST_PRECEDENCE;&#125; AsyncConfigurationSelectoré€šè¿‡æ¡ä»¶æ¥é€‰æ‹©éœ€è¦å¯¼å…¥çš„é…ç½®ç±»,AsyncConfigurationSelectorçš„æ ¹æŽ¥å£ä¸ºImportSelector1234567891011121314151617public class AsyncConfigurationSelector extends AdviceModeImportSelector&lt;EnableAsync&gt; &#123; private static final String ASYNC_EXECUTION_ASPECT_CONFIGURATION_CLASS_NAME = \"org.springframework.scheduling.aspectj.AspectJAsyncConfiguration\"; @Override public String[] selectImports(AdviceMode adviceMode) &#123; switch (adviceMode) &#123; case PROXY: return new String[] &#123; ProxyAsyncConfiguration.class.getName() &#125;; case ASPECTJ: return new String[] &#123; ASYNC_EXECUTION_ASPECT_CONFIGURATION_CLASS_NAME &#125;; default: return null; &#125; &#125;&#125; è‡ªåŠ¨é…ç½®åŽŸç†å…³äºŽSpring Bootçš„è¿ä½œåŽŸç†,æˆ‘ä»¬è¿˜æ˜¯å›žå½’åˆ°@SpringBootApplicationæ³¨è§£ä¸Š,æ”¹æ³¨è§£æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£.å®ƒæ˜¯ç”±@SpringBootConfiguration,@EnableAutoConfigurationå’Œ@ComponentScanç»„æˆçš„.@SpringBootConfigurationä¹Ÿæ˜¯ç»„åˆäº†@Configurationæ³¨è§£,@ComponentScanæ˜¯ç»„ä»¶æ‰«æ,è€Œ@EnableAutoConfigurationæ˜¯è‡ªåŠ¨é…ç½®åŠŸèƒ½çš„æ ¸å¿ƒæ³¨è§£.æˆ‘ä»¬æ¥çœ‹çœ‹@EnableAutoConfigurationæ³¨è§£æºç :123456789101112@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@AutoConfigurationPackage@Import(EnableAutoConfigurationImportSelector.class)public @interface EnableAutoConfiguration &#123; String ENABLED_OVERRIDE_PROPERTY = \"spring.boot.enableautoconfiguration\"; Class&lt;?&gt;[] exclude() default &#123;&#125;; String[] excludeName() default &#123;&#125;;&#125; è¿™é‡Œçš„å…³é”®åŠŸèƒ½æ˜¯@Importæ³¨è§£å¯¼å…¥çš„é…ç½®åŠŸèƒ½,EnableAutoConfigurationImportSelectorä½¿ç”¨SpringFactoriesLoader.loadFactoryNames()æ–¹æ³•æ¥æ‰«æå…·æœ‰META-INF/spring.factoriesæ–‡ä»¶çš„jaråŒ….è€Œæˆ‘ä»¬çš„spring-boot-autoconfigure-1.5.9.RELEASE.jarå°±æœ‰ä¸€ä¸ªspring.factoriesæ–‡ä»¶.æ­¤æ–‡ä»¶ä¸­å£°æ˜Žäº†æœ‰å“ªäº›è‡ªåŠ¨é…ç½®,å¦‚ä¸‹å›¾: å®žä¾‹åˆ†æžåœ¨äº†è§£Spring Bootçš„è¿ä½œåŽŸç†å’Œä¸»è¦æ¡ä»¶æ³¨è§£åŽ,çŽ°åœ¨æˆ‘ä»¬æ¥åˆ†æžä¸€ä¸ªç®€å•çš„Spring Bootå†…ç½®çš„è‡ªåŠ¨é…ç½®åŠŸèƒ½:httpçš„ç¼–ç é…ç½®.åœ¨å¸¸è§„webçš„waré¡¹ç›®ä¸­,æˆ‘ä»¬è¦è§£å†³httpç¼–ç çš„æ—¶å€™æ˜¯åœ¨web.xmlé‡Œé…ç½®ä¸€ä¸ªfilter,å¦‚:1234567891011121314151617&lt;!-- ç¼–ç Filter åŠ è½½é…ç½® Start --&gt; &lt;filter&gt; &lt;filter-name&gt;CharacterEncoding&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;forceEncoding&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;CharacterEncoding&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; è‡ªåŠ¨é…ç½®è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶: èƒ½é…ç½®CharacterEncodingFilterè¿™ä¸ªBean; èƒ½é…ç½®encodingå’ŒforceEncodingè¿™ä¸¤ä¸ªå‚æ•°. æºç ä¸­å®šä¹‰çš„HttpEncodingPropertiesé…ç½®ç±» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475package org.springframework.boot.autoconfigure.http;import java.nio.charset.Charset;import java.nio.charset.StandardCharsets;import java.util.Locale;import java.util.Map;import org.springframework.boot.context.properties.ConfigurationProperties; // åœ¨application.propertiesæˆ–application.ynlæ–‡ä»¶é…ç½®æ—¶å‰ç¼€å¿…é¡»æ˜¯spring.http.encoding@ConfigurationProperties(prefix = \"spring.http.encoding\")public class HttpEncodingProperties &#123; public static final Charset DEFAULT_CHARSET = StandardCharsets.UTF_8; /** é»˜è®¤ç¼–ç æ–¹å¼ä¸ºUTF-8,è‹¥ä¿®æ”¹å¯ä½¿ç”¨spring.http.encoding.charset=ç¼–ç  */ private Charset charset = DEFAULT_CHARSET; private Boolean force; private Boolean forceRequest; private Boolean forceResponse; private Map&lt;Locale, Charset&gt; mapping; public Charset getCharset() &#123; return this.charset; &#125; public void setCharset(Charset charset) &#123; this.charset = charset; &#125; public boolean isForce() &#123; return Boolean.TRUE.equals(this.force); &#125; public void setForce(boolean force) &#123; this.force = force; &#125; public boolean isForceRequest() &#123; return Boolean.TRUE.equals(this.forceRequest); &#125; public void setForceRequest(boolean forceRequest) &#123; this.forceRequest = forceRequest; &#125; public boolean isForceResponse() &#123; return Boolean.TRUE.equals(this.forceResponse); &#125; public void setForceResponse(boolean forceResponse) &#123; this.forceResponse = forceResponse; &#125; public Map&lt;Locale, Charset&gt; getMapping() &#123; return this.mapping; &#125; public void setMapping(Map&lt;Locale, Charset&gt; mapping) &#123; this.mapping = mapping; &#125; public boolean shouldForce(Type type) &#123; Boolean force = (type == Type.REQUEST ? this.forceRequest : this.forceResponse); if (force == null) &#123; force = this.force; &#125; if (force == null) &#123; force = (type == Type.REQUEST); &#125; return force; &#125; public enum Type &#123; REQUEST, RESPONSE &#125;&#125; æºç :HttpEncodingAutoConfigurationè‡ªåŠ¨é…ç½®ç±» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172package org.springframework.boot.autoconfigure.web;import org.springframework.boot.autoconfigure.EnableAutoConfiguration;import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;import org.springframework.boot.autoconfigure.condition.ConditionalOnWebApplication;import org.springframework.boot.autoconfigure.web.HttpEncodingProperties.Type;import org.springframework.boot.context.embedded.ConfigurableEmbeddedServletContainer;import org.springframework.boot.context.embedded.EmbeddedServletContainerCustomizer;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.boot.web.filter.OrderedCharacterEncodingFilter;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.core.Ordered;import org.springframework.web.filter.CharacterEncodingFilter;@Configuration@EnableConfigurationProperties(HttpEncodingProperties.class) //å¼€å¯å±žæ€§æ³¨å…¥@ConditionalOnWebApplication //å½“å‰é¡¹ç›®æ˜¯Webåº”ç”¨è§¦å‘@ConditionalOnClass(CharacterEncodingFilter.class) //å½“classpathä¸‹å­˜åœ¨CharacterEncodingFilter.classæ—¶åŠ è½½è¯¥ç±»@ConditionalOnProperty(prefix = \"spring.http.encoding\", value = \"enabled\", matchIfMissing = true) //å½“spring.http.encoding=enableçš„æƒ…å†µä¸‹,å¦‚æžœæ²¡æœ‰è®¾ç½®åˆ™é»˜è®¤ä¸ºtrue,å³æ¡ä»¶ç¬¦åˆpublic class HttpEncodingAutoConfiguration &#123; private final HttpEncodingProperties properties; /** é€šè¿‡æž„é€ æ–¹æ³•æ³¨å…¥ */ public HttpEncodingAutoConfiguration(HttpEncodingProperties properties) &#123; this.properties = properties; &#125; @Bean //ä½¿ç”¨Javaçš„æ–¹å¼å£°æ˜ŽBean @ConditionalOnMissingBean(CharacterEncodingFilter.class) //å½“Springå®¹å™¨ä¸­æ²¡æœ‰è¿™ä¸ªBeançš„æ—¶å€™æ–°å»ºBean. public CharacterEncodingFilter characterEncodingFilter() &#123; CharacterEncodingFilter filter = new OrderedCharacterEncodingFilter(); //è®¾ç½®ç¼–ç  filter.setEncoding(this.properties.getCharset().name()); filter.setForceRequestEncoding(this.properties.shouldForce(Type.REQUEST)); filter.setForceResponseEncoding(this.properties.shouldForce(Type.RESPONSE)); return filter; &#125; @Bean public LocaleCharsetMappingsCustomizer localeCharsetMappingsCustomizer() &#123; return new LocaleCharsetMappingsCustomizer(this.properties); &#125; private static class LocaleCharsetMappingsCustomizer implements EmbeddedServletContainerCustomizer, Ordered &#123; private final HttpEncodingProperties properties; LocaleCharsetMappingsCustomizer(HttpEncodingProperties properties) &#123; this.properties = properties; &#125; @Override public void customize(ConfigurableEmbeddedServletContainer container) &#123; if (this.properties.getMapping() != null) &#123; container.setLocaleCharsetMappings(this.properties.getMapping()); &#125; &#125; @Override public int getOrder() &#123; return 0; &#125; &#125;&#125;","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://ltyeamin.github.io/tags/Spring-Boot/"}]},{"title":"Springæ¡ä»¶æ³¨è§£@Conditional","slug":"Springæ¡ä»¶æ³¨è§£@Conditional","date":"2018-05-17T06:20:15.000Z","updated":"2019-05-29T14:03:53.000Z","comments":true,"path":"2018/05/17/Springæ¡ä»¶æ³¨è§£@Conditional/","link":"","permalink":"http://ltyeamin.github.io/2018/05/17/Springæ¡ä»¶æ³¨è§£@Conditional/","excerpt":"","text":"@Conditionalæ³¨è§£Spring 4æä¾›äº†ä¸€ä¸ªåŸºäºŽæ¡ä»¶çš„Beançš„åˆ›å»º,å³ä½¿ç”¨@Conditionalæ³¨è§£.@Conditionalæ ¹æ®æ»¡è¶³æŸä¸€ä¸ªç‰¹å®šæ¡ä»¶åˆ›å»ºä¸€ä¸ªç‰¹å®šçš„Bean.æ¯”å¦‚è¯´,å½“æŸä¸€ä¸ªjaråŒ…åœ¨ä¸€ä¸ªç±»è·¯å¾„ä¸‹çš„æ—¶å€™,è‡ªåŠ¨é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªBean;æˆ–è€…åªæœ‰æŸä¸ªBeanè¢«åˆ›å»ºæ‰ä¼šåˆ›å»ºå¦å¤–ä¸€ä¸ªBean.æ€»çš„æ¥è¯´,å°±æ˜¯æ ¹æ®ç‰¹å®šæ¡ä»¶æ¥æŽ§åˆ¶Beançš„åˆ›å»ºè¡Œä¸º,è¿™æ ·æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ¥è¿›è¡Œä¸€äº›è‡ªåŠ¨çš„é…ç½®. ConditionæŽ¥å£è®¾ç½®ç»™ @Conditionalæ³¨è§£çš„ç±»å¯ä»¥æ˜¯ä»»æ„å®žçŽ°äº†ConditionæŽ¥å£çš„ç±»åž‹.å¯ä»¥çœ‹å‡º,è¿™äº›æŽ¥å£å®žçŽ°èµ·æ¥ç®€å•ç›´æŽ¥.åªéœ€è¦æä¾›matches()æ–¹æ³•çš„å®žçŽ°å³å¯.å¦‚æžœmatches()æ–¹æ³•è¿”å›žtrue,é‚£ä¹ˆå°±ä¼šåˆ›å»ºå¸¦æœ‰@Conditionalæ³¨è§£çš„bean.åä¹‹åˆ™ä¸ä¼šåˆ›å»ºBean.matches()æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°:ConditionContextç±»åž‹å’ŒAnnotatedTypeMetadataç±»åž‹: ConditionContextæŽ¥å£èƒ½æä¾›åº”ç”¨ä¸Šä¸‹æ–‡ä¿¡æ¯: getRegistry()è¿”å›žBeanDefinitionRegistryæ³¨å†Œè¡¨,å¯ä»¥åˆ¤æ–­Beançš„å®šä¹‰ getBeanFactory()è¿”å›žConfigurableListableBeanFactory,å¯ä»¥æ£€æŸ¥Beanæ˜¯å¦å·²ç»å­˜åœ¨,ç”šè‡³æŽ¢æŸ¥Beançš„å±žæ€§. getEnvironment()è¿”å›žEnvironment,å¯ä»¥èŽ·å–å½“å‰åº”ç”¨çŽ¯å¢ƒå˜é‡,ä¹Ÿå¯ä»¥æ£€æµ‹å½“å‰çŽ¯å¢ƒå˜é‡æ˜¯å¦å­˜åœ¨. getResourceLoader()è¿”å›žResourceLoader,ç”¨äºŽè¯»å–æˆ–æŽ¢æŸ¥æ‰€åŠ è½½çš„èµ„æº. getClassLoader()è¿”å›žClassLoader,ç”¨äºŽæ£€æŸ¥ç±»æ˜¯å¦å­˜åœ¨. AnnotatedTypeMetadataæŽ¥å£èƒ½å¤Ÿè®©æˆ‘ä»¬æ£€æŸ¥å¸¦æœ‰@Beanæ³¨è§£çš„æ–¹æ³•ä¸Šè¿˜æœ‰æ²¡æœ‰å…¶ä»–æ³¨è§£: isAnnotated()å¯ä»¥åˆ¤æ–­é™¤@Beanæ³¨è§£å¤–æ˜¯å¦è¿˜æœ‰å…¶ä»–æ³¨è§£. getAllAnnotationAttributes()èŽ·å–å…¶ä»–æ‰€æœ‰çš„æ³¨è§£å±žæ€§ä¸‹é¢æˆ‘ä»¬æ¥åšä¸€ä¸ªä»¥ä¸åŒçš„æ“ä½œç³»ç»Ÿæ¥ä½œä¸ºæ¡ä»¶,é€šè¿‡å®žçŽ°ConditionæŽ¥å£,å¹¶é‡å†™å…¶matchesæ–¹æ³•æ¥æž„é€ åˆ¤æ–­æ¡ä»¶.è‹¥åœ¨Windowsç³»ç»Ÿä¸‹è¿è¡Œç¨‹åº,åˆ™è¾“å‡ºåˆ—è¡¨å‘½ä»¤ä¸ºdirï¼›è‹¥åœ¨Linuxæ“ä½œç³»ç»Ÿä¸‹è¿è¡Œç¨‹åº,åˆ™è¾“å‡ºåˆ—è¡¨å‘½ä»¤ä¸ºlsã€‚ä»£ç æ¼”ç¤º1.å¯¼å…¥POMä¾èµ–12345&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;4.3.13.RELEASE&lt;/version&gt;&lt;/dependency&gt; 2.å®šä¹‰åˆ¤æ–­æ¡ä»¶1234567891011121314151617181920package cn.yeamin.spring.constant;/** * OSå¸¸é‡ * @author tong.li * */public final class Constants &#123; /** * ç§æœ‰æž„é€ ,ä¸è®©å¤–éƒ¨åˆ›å»ºæœ¬ç±»çš„å®žä¾‹å¯¹è±¡ */ private Constants() &#123;&#125; public final static String OS_KEY = \"os.name\"; public final static String OS_TYPE_WINDOWS = \"Windows\"; public final static String OS_TYPE_LINUX = \"Linux\";&#125; 123456789101112131415161718package cn.yeamin.spring.condition;import org.springframework.context.annotation.Condition;import org.springframework.context.annotation.ConditionContext;import org.springframework.core.type.AnnotatedTypeMetadata;import cn.yeamin.spring.constant.Constants;/*** * åˆ¤æ–­Linuxçš„æ¡ä»¶ç±» * @author tong.li */public class LinuxCondition implements Condition &#123; @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) &#123; return context.getEnvironment().getProperty(Constants.OS_KEY).contains(Constants.OS_TYPE_LINUX); &#125;&#125; 1234567891011121314151617181920package cn.yeamin.spring.condition;import org.springframework.context.annotation.Condition;import org.springframework.context.annotation.ConditionContext;import org.springframework.core.type.AnnotatedTypeMetadata;import cn.yeamin.spring.constant.Constants;/*** * åˆ¤æ–­Windowsçš„æ¡ä»¶ç±» * @author tong.li */public class WindowsCondition implements Condition &#123; @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) &#123; return context.getEnvironment().getProperty(Constants.OS_KEY).contains(Constants.OS_TYPE_WINDOWS); &#125;&#125; 3.ä¸šåŠ¡å®žçŽ°:ä¸åŒç³»ç»Ÿä¸‹ä¸åŒçš„å‘½ä»¤1234567891011121314package cn.yeamin.spring.service;/** * å‘½ä»¤æœåŠ¡æŽ¥å£ * @author tong.li */public interface CommandService &#123; /** * æŠ½è±¡æ–¹æ³•,æ˜¾ç¤ºæ“ä½œç³»ç»Ÿçš„showListå‘½ä»¤ * @return cmd */ String showListCommand();&#125; 1234567891011package cn.yeamin.spring.service.impl;import cn.yeamin.spring.service.CommandService;public class LinuxCommandService implements CommandService &#123; @Override public String showListCommand() &#123; return \"ls\"; &#125;&#125; 123456789101112package cn.yeamin.spring.service.impl;import cn.yeamin.spring.service.CommandService;public class WindowsCommandService implements CommandService &#123; @Override public String showListCommand() &#123; return \"dir\"; &#125;&#125; 4.å®šä¹‰é…ç½®ç±»123456789101112131415161718192021222324252627282930313233343536373839404142434445package cn.yeamin.spring.conf;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Conditional;import org.springframework.context.annotation.Configuration;import org.springframework.context.annotation.Primary;import cn.yeamin.spring.condition.LinuxCondition;import cn.yeamin.spring.condition.WindowsCondition;import cn.yeamin.spring.service.CommandService;import cn.yeamin.spring.service.impl.LinuxCommandService;import cn.yeamin.spring.service.impl.WindowsCommandService;/** * é…ç½®ç±» * @author tong.li * */@Configurationpublic class ConditionConfig &#123; /** * å£°æ˜Žä¸€ä¸ªBean,å¹¶äº¤ç»™Springå®¹å™¨åŽ»ç®¡ç† * é€šè¿‡@Conditionalæ³¨è§£,æ“ä½œç³»ç»Ÿä¸ºWindowsåˆ™è¾“å‡ºWindowsä¸‹çš„dirå‘½ä»¤ * @return */ @Bean @Conditional(WindowsCondition.class) public CommandService windowsCMD() &#123; return new WindowsCommandService(); &#125; /** * å£°æ˜Žä¸€ä¸ªBean,å¹¶äº¤ç»™Springå®¹å™¨åŽ»ç®¡ç† * é€šè¿‡@Conditionalæ³¨è§£,æ“ä½œç³»ç»Ÿä¸ºWindowsåˆ™è¾“å‡ºWindowsä¸‹çš„lså‘½ä»¤ * @return */ @Bean @Conditional(LinuxCondition.class) public CommandService linuxCMD() &#123; return new LinuxCommandService(); &#125;&#125; 5.æ‰§è¡Œæµ‹è¯•123456789101112131415161718192021222324252627package cn.yeamin.spring;import org.springframework.context.annotation.AnnotationConfigApplicationContext;import cn.yeamin.spring.conf.ConditionConfig;import cn.yeamin.spring.constant.Constants;import cn.yeamin.spring.service.CommandService;/** * å¯åŠ¨ç±» * @author tong.li * */@SuppressWarnings(\"all\")public class Bootstrap &#123; /** * æ‰§è¡Œæµ‹è¯•åŸºäºŽä¸åŒæ“ä½œç³»ç»Ÿæ˜¾ç¤ºä¸åŒçš„å‘½ä»¤ * @param args */ public static void main(String[] args) &#123; // åŠ è½½é…ç½®ç±»,åˆ›å»ºåŸºäºŽæ³¨è§£å¼çš„åº”ç”¨ä¸Šä¸‹æ–‡ AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(ConditionConfig.class); //èŽ·å–Bean CommandService commandService = context.getBean(CommandService.class); System.out.println(context.getEnvironment().getProperty(Constants.OS_KEY) + \"ç³»ç»Ÿä¸‹çš„æ˜¾ç¤ºåˆ—è¡¨å‘½ä»¤ä¸º: \" + commandService.showListCommand()); &#125;&#125; 6.æ‰§è¡Œç»“æžœ1Windows 7ç³»ç»Ÿä¸‹çš„æ˜¾ç¤ºåˆ—è¡¨å‘½ä»¤ä¸º: dir 1linuxç³»ç»Ÿä¸‹çš„æ˜¾ç¤ºåˆ—è¡¨å‘½ä»¤ä¸º: ls","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"Spring","slug":"Spring","permalink":"http://ltyeamin.github.io/tags/Spring/"}]},{"title":"Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ","slug":"Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ","date":"2018-05-15T03:51:07.000Z","updated":"2020-01-08T13:06:28.600Z","comments":true,"path":"2018/05/15/Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ/","link":"","permalink":"http://ltyeamin.github.io/2018/05/15/Springå®¹å™¨ä»¥åŠBeançš„ç”Ÿå‘½å‘¨æœŸ/","excerpt":"","text":"Springå®¹å™¨å®¹å™¨æ˜¯Springæ¡†æž¶çš„æ ¸å¿ƒ.Springå®¹å™¨ä½¿ç”¨DIç®¡ç†æž„æˆåº”ç”¨çš„ç»„ä»¶,ä»–ä¼šåˆ›å»ºç›¸äº’åä½œçš„ç»„ä»¶ä¹‹é—´çš„å…³è”.Springå®¹å™¨å¹¶ä¸æ˜¯åªæœ‰ä¸€ä¸ª.Springè‡ªå¸¦å¤šä¸ªå®¹å™¨å®žçŽ°,å¯å½’çº³ä¸ºä¸¤ç§ä¸åŒçš„ç±»åž‹: Beanå·¥åŽ‚(ç”±BeanFactoryæŽ¥å£å®šä¹‰)æ˜¯æœ€ç®€å•çš„åŒæœŸ,æä¾›åŸºæœ¬çš„DIæ”¯æŒ. åº”ç”¨ä¸Šä¸‹æ–‡(ç”±ApplicationContextæŽ¥å£å®šä¹‰)åŸºäºŽBeanFactoryæž„å»º,å¹¶æä¾›åº”ç”¨æ¡†æž¶çº§åˆ«çš„æœåŠ¡. è™½ç„¶æˆ‘ä»¬å¯ä»¥åœ¨Beanå·¥åŽ‚å’Œåº”ç”¨ä¸Šä¸‹æ–‡ä»»é€‰ä¸€ç§ä½œä¸ºæˆ‘ä»¬çš„å®¹å™¨,ä½†BeanFactoryæ˜¯ApplicationContextçš„é¡¶å±‚æŽ¥å£,åŠŸèƒ½æ¯”è¾ƒå°‘,ä¸èƒ½æ»¡è¶³æˆ‘ä»¬æ—¥å¸¸åº”ç”¨çš„éœ€æ±‚.å› æ­¤åº”ç”¨ä¸Šä¸‹æ–‡æ›´å—å¤§å®¶çš„æ¬¢è¿Ž. Springè‡ªå¸¦äº†å¤šç§ç±»åž‹çš„åº”ç”¨ä¸Šä¸‹æ–‡,ä¸‹é¢ç½—åˆ—å‡ ä¸ªå¸¸ç”¨çš„: AnnotationConfigApplicationContext:ä»Žä¸€ä¸ªæˆ–å¤šä¸ªåŸºäºŽJavaçš„é…ç½®ç±»ä¸­åŠ è½½Springåº”ç”¨ä¸Šä¸‹æ–‡.Spring4ä¹‹åŽæŽ¨èä½¿ç”¨,Spring Boot,Spring Cloudç­‰è‡ªåŠ¨é…ç½®éƒ½æ˜¯åŸºäºŽJava Config. AnnotationConfigWebApplicationContext:ä»Žä¸€ä¸ªæˆ–å¤šä¸ªåŸºäºŽJavaçš„é…ç½®ç±»ä¸­åŠ è½½Spring Webä¸Šä¸‹æ–‡. ClassPathXmlApplicationContext: ä»Žclasspathè·¯å¾„ä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªXMLé…ç½®åŠ è½½ä¸Šä¸‹æ–‡.Spring 4ä¹‹å‰å¸¸å¸¸ä»¥classpathä¸‹æ–‡ä»¶æ–¹å¼è¿›è¡ŒåŠ è½½. FileSystemXmlApplicationContext: ä»Žæ–‡ä»¶ç³»ç»Ÿä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªXMLé…ç½®æ–‡ä»¶ä¸­åŠ è½½ä¸Šä¸‹æ–‡å®šä¹‰.ä¸€èˆ¬ä¸ç”¨ XmlWebApplicationContext: ä»ŽWebåº”ç”¨ä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªXMLé…ç½®åŠ è½½ä¸Šä¸‹æ–‡.ä»¥å‰è€çš„Webé¡¹ç›®å¸¸ç”¨çš„åŠ è½½æ–¹å¼. Beançš„ç”Ÿå‘½å‘¨æœŸåœ¨ä¼ ç»Ÿçš„Javaç¼–ç¨‹æ¨¡å¼ä¸­,ä½¿ç”¨Javaå¯¹è±¡å…³é”®å­—newæˆ–è€…åˆ©ç”¨åå°„æœºåˆ¶è¿›è¡Œå¯¹è±¡å®žä¾‹åŒ–,è¿™äº›â€Beanâ€å®žä¾‹åŒ–åŽæ–¹å¯ä½¿ç”¨.åˆ°äº†æŸä¸ªæ—¶æœŸè¿™äº›å¯¹è±¡ä¸å†è¢«ä½¿ç”¨äº†,åˆ™JVMä¼šè‡ªåŠ¨è¿›è¡Œåžƒåœ¾å›žæ”¶. ç›¸æ¯”ä¼ ç»ŸJavaå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ,Springå®¹å™¨ä¸­Beançš„ç”Ÿå‘½å‘¨æœŸå°±æ˜¾å¾—ç›¸å¯¹å¤æ‚å¤šäº†.æ­£ç¡®ç†è§£Spring Beançš„ç”Ÿå‘½å‘¨æœŸéžå¸¸é‡è¦,å› ä¸ºä½ æˆ–è®¸è¦åˆ©ç”¨Springæä¾›çš„æ‰©å±•ç‚¹æ¥è‡ªåŠ¨é¬¼Beançš„åˆ›å»ºè¿‡ç¨‹. å¦‚ä¸Šå›¾,Beanåœ¨Springå®¹å™¨ä¸­ä»Žåˆ›å»ºåˆ°é”€æ¯ç»åŽ†äº†è‹¥å¹²é˜¶æ®µ: Springé€šè¿‡åå°„æœºåˆ¶å¯¹Beanè¿›è¡Œå®žä¾‹åŒ–; Springå°†å€¼å’ŒBeançš„å¼•ç”¨æ³¨å…¥åˆ°Beanå¯¹åº”çš„å±žæ€§ä¸­. å¦‚æžœBeanå®žçŽ°äº†BeanNameAwareæŽ¥å£,Springå°†Beançš„idä¼ é€’ç»™setBeanName()æ–¹æ³•. å¦‚æžœBeanå®žçŽ°äº†BeanFactoryAwareæŽ¥å£,Springå°†è°ƒç”¨setBeanFactory()æ–¹æ³•,å°†BeanFactoryå®¹å™¨å®žä¾‹ä¼ å…¥. å¦‚æžœBeanå®žçŽ°äº†ApplicationContextAwareæŽ¥å£,Springå°†è°ƒç”¨setApplicationContext()æ–¹æ³•,å°†Beanæ‰€åœ¨çš„åº”ç”¨ä¸Šä¸‹æ–‡çš„å¼•ç”¨ä¼ å…¥è¿›æ¥. å¦‚æžœBeanå®žçŽ°äº†BeanPostProcessoræŽ¥å£,Springå°†è°ƒç”¨postProcessBeforeInitialization()æ–¹æ³•. å¦‚æžœBeanå®žçŽ°äº†InitializingBeanæŽ¥å£,Springå°†è°ƒç”¨afterPropertiesSet()æ–¹æ³•.ç±»ä¼¼åœ¨xmlä½¿ç”¨äº†init-methodçš„æ–¹æ³•,è¯¥æ–¹æ³•ä¹Ÿä¼šè¢«è°ƒç”¨. å¦‚æžœBeanå®žçŽ°äº†BeanPostProcessoræŽ¥å£,Springå°†è°ƒç”¨postProcessAfterInitialization()æ–¹æ³•. Beanå·²ç»å‡†å¤‡å°±ç»ª,å¯ä»¥è¢«åº”ç”¨ç¨‹åºä½¿ç”¨äº†,å®ƒä»¬ä¸€ç›´é©»ç•™åœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­,ç›´åˆ°è¯¥åº”ç”¨ä¸Šä¸‹æ–‡è¢«é”€æ¯. å¦‚æžœBeanå®žçŽ°äº†DisposableBeanæŽ¥å£,Springå°†è°ƒç”¨å®ƒçš„destroy()æ–¹æ³•.ç±»ä¼¼åœ°,å¦‚æžœåœ¨xmlä½¿ç”¨äº†destroy-methodå£°æ˜Žäº†é”€æ¯æ–¹æ³•,è¯¥æ–¹æ³•ä¹Ÿä¼šè¢«è°ƒç”¨.","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"Spring","slug":"Spring","permalink":"http://ltyeamin.github.io/tags/Spring/"}]},{"title":"æ•°æ®ç»“æž„ä¹‹æŽ’åº","slug":"æ•°æ®ç»“æž„ä¹‹æŽ’åº","date":"2018-05-10T02:36:55.000Z","updated":"2019-05-29T14:03:47.000Z","comments":true,"path":"2018/05/10/æ•°æ®ç»“æž„ä¹‹æŽ’åº/","link":"","permalink":"http://ltyeamin.github.io/2018/05/10/æ•°æ®ç»“æž„ä¹‹æŽ’åº/","excerpt":"","text":"æ•°æ®ç»“æž„å’Œç®—æ³•æ˜¯æ•´ä¸ªè®¡ç®—æœºç§‘å­¦ä¸ŽæŠ€æœ¯é¢†åŸŸæ°¸è¿œé€ƒé¿ä¸äº†çš„è¯é¢˜,åšä¸»å¤§å­¦æœ‰è¿‡æ•°æ®ç»“æž„è¿™é—¨å­¦ç§‘,ä¸è¿‡ç‰¹åˆ«åŽæ‚”å½“æ—¶æ²¡æœ‰å¥½å¥½å­¦ä¹ .ä»…å­¦çš„é‚£ä¹ˆç‚¹ä¸œè¥¿çŽ°åœ¨å‡ ä¹Žå¿˜å¾—ä¸€å¹²äºŒå‡€.è™½è¯´å­¦çš„æµ…è–„,ä½†å¯¹æ•´ä¸ªç¼–ç¨‹æ€æƒ³è¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„. åç§å¸¸è§æŽ’åºç®—æ³•åç§å¸¸è§æŽ’åºç®—æ³•å¯åˆ†ä¸ºä¸¤å¤§ç±»: éžçº¿æ€§æ—¶é—´æ¯”è¾ƒç±»æŽ’åºï¼šé€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åº,ç”±äºŽå…¶æ—¶é—´å¤æ‚åº¦ä¸èƒ½çªç ´O(nlogn),å› æ­¤ç§°ä¸ºéžçº¿æ€§æ—¶é—´æ¯”è¾ƒç±»æŽ’åº. çº¿æ€§æ—¶é—´éžæ¯”è¾ƒç±»æŽ’åºï¼šä¸é€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åº,å®ƒå¯ä»¥çªç ´åŸºäºŽæ¯”è¾ƒæŽ’åºçš„æ—¶é—´ä¸‹ç•Œ,ä»¥çº¿æ€§æ—¶é—´è¿è¡Œ,å› æ­¤ç§°ä¸ºçº¿æ€§æ—¶é—´éžæ¯”è¾ƒç±»æŽ’åº. å†’æ³¡æŽ’åºå†’æ³¡æŽ’åº(Bubble Sort),æ˜¯ä¸€ç§è®¡ç®—æœºç§‘å­¦é¢†åŸŸçš„è¾ƒç®€å•çš„æŽ’åºç®—æ³•.å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æŽ’åºçš„æ•°åˆ—,ä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ,å¦‚æžœä»–ä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥.èµ°è®¿æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢,ä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æŽ’åºå®Œæˆ.è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå¤§çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯,æ•…åâ€œå†’æ³¡æŽ’åºâ€. ç®—æ³•æè¿° æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æžœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§,å°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ª; å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œ,ä»Žå¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åŽä¸€å¯¹,è¿™æ ·åœ¨æœ€åŽçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°; é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤,é™¤äº†æœ€åŽä¸€ä¸ª;åŠ¨å›¾æ¼”ç¤ºä»£ç æ¼”ç¤º1234567891011121314151617181920212223242526272829303132/** * * å†’æ³¡æŽ’åº * * @author tong.li * @param arr = &#123;6,3,8,2,9,1&#125; * * ç¬¬0è¶Ÿæ¯”è¾ƒ5æ¬¡: 3,6,8,2,9,1 =&gt; 3,6,8,2,9,1 =&gt; 3,6,2,8,9,1 =&gt; 3,6,2,8,9,1 =&gt; 3,6,2,8,1,9 * ç¬¬1è¶Ÿæ¯”è¾ƒ4æ¬¡: 3,6,2,8,1,9 =&gt; 3,2,6,8,1,9 =&gt; 3,2,6,8,1,9 =&gt; 3,2,6,1,8,9 * ç¬¬2è¶Ÿæ¯”è¾ƒ3æ¬¡: 2,3,6,1,8,9 =&gt; 2,3,6,1,8,9 =&gt; 2,3,1,6,8,9 * ç¬¬3è¶Ÿæ¯”è¾ƒ2æ¬¡: 2,3,1,6,8,9 =&gt; 2,1,3,6,8,9 * ç¬¬4è¶Ÿæ¯”è¾ƒ1æ¬¡: 1,2,3,6,8,9 */public static void bubbleSort(int ... arr) &#123; if ( arr==null || arr.length &lt;= 0) &#123; return; &#125; // å¤–å¾ªçŽ¯æŽ§åˆ¶è¶Ÿæ•° for (int i = 0; i &lt; arr.length; i++) &#123; // å†…å¾ªçŽ¯æŽ§åˆ¶æ¬¡æ•° // for(int j=1;j&lt;arr.length-i;j++)&#123; for (int j = 0; j &lt; arr.length - 1 - i; j++) &#123; //ç›¸é‚»ä¸¤ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒ if( arr[j] &gt; arr[j + 1]) &#123; // é‡‡ç”¨å¼‚æˆ–æ–¹å¼è¿›è¡Œå˜é‡äº’æ¢ arr[j] = arr[j] ^ arr[j + 1]; arr[j + 1] = arr[j] ^ arr[j + 1]; arr[j] = arr[j] ^ arr[j + 1]; &#125; &#125; &#125;&#125; å¿«é€ŸæŽ’åº(é¢è¯•å®˜æœ€çˆ±é—®çš„æŽ’åºç®—æ³•)å¿«é€ŸæŽ’åº(Quicksort)æ˜¯å¯¹å†’æ³¡æŽ’åºçš„ä¸€ç§æ”¹è¿›.å¿«é€ŸæŽ’åºç”±C.A.R.Hoareåœ¨1962å¹´æå‡º.åŸºæœ¬æ€æƒ³æ˜¯:é€šè¿‡ä¸€è¶ŸæŽ’åºå°†è¦æŽ’åºçš„æ•°æ®åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†,å…¶ä¸­ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½æ¯”å¦å¤–ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½è¦å°,ç„¶åŽå†æŒ‰æ­¤æ–¹æ³•å¯¹è¿™ä¸¤éƒ¨åˆ†æ•°æ®åˆ†åˆ«è¿›è¡Œå¿«é€ŸæŽ’åº,æ•´ä¸ªæŽ’åºè¿‡ç¨‹å¯ä»¥é€’å½’è¿›è¡Œ,ä»¥æ­¤è¾¾åˆ°æ•´ä¸ªæ•°æ®å˜æˆæœ‰åºåºåˆ—.æœ€åæƒ…å†µçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2).æœ€å¥½æƒ…å†µæ—¶é—´å¤æ‚åº¦ä¸ºO(nlog2n). ç®—æ³•æè¿°å¿«é€ŸæŽ’åºä½¿ç”¨åˆ†æ²»æ³•æ¥æŠŠä¸€ä¸ªä¸²ï¼ˆlistï¼‰åˆ†ä¸ºä¸¤ä¸ªå­ä¸²ï¼ˆsub-listsï¼‰ã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹: ä»Žæ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ .ç§°ä¸ºâ€åŸºå‡†â€ï¼ˆpivotï¼‰; é‡æ–°æŽ’åºæ•°åˆ—.æ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å°çš„æ‘†æ”¾åœ¨åŸºå‡†å‰é¢.æ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å¤§çš„æ‘†åœ¨åŸºå‡†çš„åŽé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åˆ°ä»»ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºä¹‹åŽ.è¯¥åŸºå‡†å°±å¤„äºŽæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œ; é€’å½’åœ°ï¼ˆrecursiveï¼‰æŠŠå°äºŽåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºŽåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æŽ’åºã€‚åŠ¨å›¾æ¼”ç¤ºä»£ç æ¼”ç¤º123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657/** * * å¿«é€ŸæŽ’åº * * @param arr = &#123;6,3,8,2,9,1&#125; * @author tong.li * * åˆ†æž: * a. ä¸€èˆ¬ä»¥é¦–å…ƒç´ æˆ–å°¾å…ƒç´ ä¸ºåŸºå‡†,è¿™é‡Œä»¥é¦–å…ƒç´ 6ä¸ºåŸºå‡†,æœ‰æ¯”åŸºå‡†æ•°å¤§çš„æ•°æ”¾åœ¨6çš„å³è¾¹,æ¯”åŸºå‡†æ•°å°çš„æ•°æ”¾åœ¨6çš„å·¦è¾¹,æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å°†6æŒªåˆ°åºåˆ—ä¸­é—´çš„æŸä¸ªä½ç½®. * b. å‡è®¾è¿™ä¸ªä½ç½®æ˜¯k,çŽ°åœ¨éœ€è¦å¯»æ‰¾è¿™ä¸ªkçš„ä½ç½®.åˆ†åˆ«ä»Žæ•°ç»„çš„ä¸¤ç«¯å¼€å§‹æŽ¢æµ‹,å…ˆä»Žå³å¾€å·¦æ‰¾ä¸€ä¸ªå°äºŽ6çš„æ•°(æ€»æ˜¯å¦‚æ­¤),å†ä»Žå·¦åˆ°å³æ‰¾ä¸€ä¸ªå¤§äºŽ6çš„æ•°,ä¸¤ç«¯åœä¸‹æ¥åŽäº¤æ¢å®ƒä»¬. * c. è¿™é‡Œå¯ä»¥ç”¨ä¸¤ä¸ªå˜é‡iå’Œj,åˆ†å¸ƒæŒ‡å‘æ•°ç»„æœ€å·¦è¾¹å’Œæœ€å³è¾¹.è¿™ä¸¤ä¸ªå˜é‡æœ‰ä¸ªå¥½å¬çš„åå­—:å“¨å…µiå’Œå“¨å…µj,å“¨å…µiåˆå§‹æŒ‡å‘ç´¢å¼•ä¸º0çš„6,å“¨å…µjåˆå§‹æŒ‡å‘ç´¢å¼•ä¸º5çš„1 * æ­¥éª¤: * 1. å…ˆè®©å“¨å…µjåŠ¨èµ·æ¥å‘å·¦(j--)æ‰¾å°äºŽ6çš„å€¼,ç¬¬ä¸€æ¬¡æ‰¾åˆ°ä¸º1åœä¸‹æ¥. * 2. ç´§æŽ¥ç€å“¨å…µiå‘å³ç§»åŠ¨(i++)æ‰¾å¤§äºŽ6çš„å€¼,ç¬¬ä¸€æ¬¡æ‰¾åˆ°ä¸º8åœä¸‹æ¥. * 3. è¿›è¡Œäº¤æ¢åœä¸‹æ¥çš„å€¼,å³1å’Œ8è¿›è¡Œäº¤æ¢.äº¤æ¢åŽçš„æ•°ç»„ä¸º:6,3,1,2,9,8 * 4. åœ¨3äº¤æ¢åŽçš„åŸºç¡€ä¸Šç»§ç»­1,2æ­¥éª¤,å“¨å…µjä¸€ç›´å¾€å·¦ç§»é‡åˆ°2,å“¨å…µiä¸€ç›´å¾€å³ç§»é‡åˆ°9,ä¸¤ä¸ªå“¨å…µåœ¨2å·²ç»ç›¸é‡äº†,æˆ‘ä»¬åº”è¯¥å°†åŸºå‡†6ä¸Žå’Œ2è¿›è¡Œäº¤æ¢,å³äº¤æ¢åŽçš„æ•°ç»„ä¸º:2,3,1,6,9,8,æ­¤æ—¶ç¬¬ä¸€è½®æŽ¢æµ‹çœŸæ­£ç»“æŸ * æ­¤æ—¶æ—§åŸºå‡†æ•°6å·²ç»å½’ä½,æ–°åŸºå‡†æ•°ä¸º2,ä»¥6ä½åˆ†ç•Œç‚¹æŠŠæ•°ç»„æ‹†æˆäº†ä¸¤ä¸ªå°æ•°ç»„,å·¦æ•°ç»„ä¸ºå°äºŽ6çš„,å³è¾¹æ•°ç»„éƒ½æ˜¯å¤§äºŽ6çš„,ç›®å‰ä¸¤ä¸ªæ•°ç»„çš„é¡ºåºéƒ½æ˜¯æ··ä¹±çš„,ä¸è¿‡ä¸è¦ç´§,ç»§ç»­æŒ‰1,2,3æ­¥éª¤åˆ†åˆ«å¯¹ä¸¤ä¸ªæ•°ç»„è€å¿ƒå¤„ç† * 5. å…ˆå¤„ç†6å·¦è¾¹çš„å°æ•°ç»„2,3,1,ä»¥2ä¸ºåŸºå‡†æ•°,æ‰¾åˆ°1å’Œ3,äº¤æ¢åŽ2,1,3,ç»§ç»­æ‰¾åœ¨1ç›¸é‡,äº¤æ¢åŽä¸º1,2,3 * 6. å†æ¥å¤„ç†6å³è¾¹çš„å°æ•°ç»„9,8,ä»¥9ä¸ºåŸºå‡†æ•°,ä¸¤è€…åœ¨8ç›¸é‡,äº¤æ¢åŽä¸º8,9 * 7. åˆ°æ­¤å®Œå…¨ç»“æŸ,æŽ’åºåŽä¸º1,2,3,6,8,9.å¿«é€ŸæŽ’åºçš„æ¯ä¸€è½®å¤„ç†å…¶å®žå°±æ˜¯å°†è¿™ä¸€è½®çš„åŸºå‡†æ•°å½’ä½,ç›´åˆ°æ‰€æœ‰çš„æ•°éƒ½å½’ä½ä¸ºæ­¢,æŽ’åºå°±ç»“æŸäº†. * */public static void quickSort(int[] arr, int low, int high) &#123; int i, j, temp, t; if (low &gt; high) &#123; return; &#125; i = low; j = high; // tempå°±æ˜¯åŸºå‡†ä½ temp = arr[low]; while (i &lt; j) &#123; // å…ˆçœ‹å³è¾¹.ä¾æ¬¡å¾€å·¦é€’å‡ while (temp &lt;= arr[j] &amp;&amp; i &lt; j) &#123; j--; &#125; // å†çœ‹å·¦è¾¹.ä¾æ¬¡å¾€å³é€’å¢ž while (temp &gt;= arr[i] &amp;&amp; i &lt; j) &#123; i++; &#125; // å¦‚æžœæ»¡è¶³æ¡ä»¶åˆ™äº¤æ¢ if (i &lt; j) &#123; t = arr[j]; arr[j] = arr[i]; arr[i] = t; &#125; &#125; // æœ€åŽå°†åŸºå‡†ä¸ºä¸Žiå’Œjç›¸ç­‰ä½ç½®çš„æ•°å­—äº¤æ¢ arr[low] = arr[i]; arr[i] = temp; // é€’å½’è°ƒç”¨å·¦åŠæ•°ç»„ quickSort(arr, low, j - 1); // é€’å½’è°ƒç”¨å³åŠæ•°ç»„ quickSort(arr, j + 1, high);&#125; é€‰æ‹©æŽ’åºé€‰æ‹©æŽ’åº(Selection sort)æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æŽ’åºç®—æ³•.å®ƒçš„å·¥ä½œåŽŸç†æ˜¯æ¯ä¸€æ¬¡ä»Žå¾…æŽ’åºçš„æ•°æ®å…ƒç´ ä¸­é€‰å‡ºæœ€å°(æˆ–æœ€å¤§)çš„ä¸€ä¸ªå…ƒç´ ,å­˜æ”¾åœ¨åºåˆ—çš„èµ·å§‹ä½ç½®,ç›´åˆ°å…¨éƒ¨å¾…æŽ’åºçš„æ•°æ®å…ƒç´ æŽ’å®Œ. ç®—æ³•æè¿°nä¸ªè®°å½•çš„ç›´æŽ¥é€‰æ‹©æŽ’åºå¯ç»è¿‡n-1è¶Ÿç›´æŽ¥é€‰æ‹©æŽ’åºå¾—åˆ°æœ‰åºç»“æžœã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹: åˆå§‹çŠ¶æ€ï¼šæ— åºåŒºä¸ºR[1..n],æœ‰åºåŒºä¸ºç©º; ç¬¬iè¶ŸæŽ’åº(i=1,2,3â€¦n-1)å¼€å§‹æ—¶,å½“å‰æœ‰åºåŒºå’Œæ— åºåŒºåˆ†åˆ«ä¸ºR[1..i-1]å’ŒR(i..nï¼‰ã€‚è¯¥è¶ŸæŽ’åºä»Žå½“å‰æ— åºåŒºä¸­-é€‰å‡ºå…³é”®å­—æœ€å°çš„è®°å½• R[k],å°†å®ƒä¸Žæ— åºåŒºçš„ç¬¬1ä¸ªè®°å½•Räº¤æ¢,ä½¿R[1..i]å’ŒR[i+1..n)åˆ†åˆ«å˜ä¸ºè®°å½•ä¸ªæ•°å¢žåŠ 1ä¸ªçš„æ–°æœ‰åºåŒºå’Œè®°å½•ä¸ªæ•°å‡å°‘1ä¸ªçš„æ–°æ— åºåŒº; n-1è¶Ÿç»“æŸ,æ•°ç»„æœ‰åºåŒ–äº†;åŠ¨å›¾æ¼”ç¤ºä»£ç æ¼”ç¤º12345678910111213141516171819202122232425262728293031/** * * é€‰æ‹©æŽ’åº * * @author tong.li * @param arr = &#123;6,3,8,2,9,1&#125; * *ç¬¬0è¶Ÿæ¯”è¾ƒ5æ¬¡: 3,6,8,2,9,1 =&gt; 3,6,8,2,9,1 =&gt; 2,6,8,3,9,1 =&gt; 2,6,8,3,9,1 =&gt; 1,6,8,3,9,2 *ç¬¬1è¶Ÿæ¯”è¾ƒ4æ¬¡: 1,6,8,3,9,2 =&gt; 1,3,8,6,9,2 =&gt; 1,3,8,6,9,2 =&gt; 1,2,8,6,9,3 *ç¬¬2è¶Ÿæ¯”è¾ƒ3æ¬¡: 1,2,6,8,9,3 =&gt; 1,2,6,8,9,3 =&gt; 1,2,3,8,9,6 *ç¬¬3è¶Ÿæ¯”è¾ƒ2æ¬¡: 1,2,3,8,9,6 =&gt; 1,2,3,6,9,8 *ç¬¬4è¶Ÿæ¯”è¾ƒ1æ¬¡: 1,2,3,6,8,9 */public static void selectionSort(int... arr) &#123; if ( arr==null || arr.length &lt;= 0) &#123; return; &#125; // å¤–å¾ªçŽ¯æŽ§åˆ¶è¶Ÿæ•° for (int i = 0; i &lt; arr.length - 1; i++) &#123; // å†…å¾ªçŽ¯æŽ§åˆ¶æ¬¡æ•° for (int j = i + 1; j &lt; arr.length; j++) &#123; // ç›¸é‚»ä¸¤ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒ if (arr[i] &gt; arr[j]) &#123; // é‡‡ç”¨å¼‚æˆ–æ–¹å¼è¿›è¡Œå˜é‡äº’æ¢ arr[i] = arr[i] ^ arr[j]; arr[j] = arr[i] ^ arr[j]; arr[i] = arr[i] ^ arr[j]; &#125; &#125; &#125;&#125; å…¶ä»–æŽ’åºç®—æ³•åŽç»­æ›´æ–°,è¯·è¯»è€…æŒç»­å…³æ³¨. å‚è€ƒæ–‡çŒ®:åå¤§ç»å…¸æŽ’åºç®—æ³•-åŠ¨å›¾æ¼”ç¤º å †æŽ’åº,å½’å¹¶æŽ’åº,å¿«æŽ’-æŽ’åºçŽ‹è€…ä¹‹äº‰ä¸€ å †æŽ’åº,å½’å¹¶æŽ’åº,å¿«æŽ’-æŽ’åºçŽ‹è€…ä¹‹äº‰äºŒ","categories":[{"name":"algorithm","slug":"algorithm","permalink":"http://ltyeamin.github.io/categories/algorithm/"}],"tags":[{"name":"æŽ’åºç®—æ³•","slug":"æŽ’åºç®—æ³•","permalink":"http://ltyeamin.github.io/tags/æŽ’åºç®—æ³•/"}]},{"title":"å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok","slug":"å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok","date":"2018-04-04T01:27:55.000Z","updated":"2020-01-08T13:06:34.992Z","comments":true,"path":"2018/04/04/å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok/","link":"","permalink":"http://ltyeamin.github.io/2018/04/04/å†…ç½‘ç©¿é€ç¥žå™¨-Ngrok/","excerpt":"","text":"ä½œä¸ºä¸€ä¸ªWebå¼€å‘è€…,æˆ‘ä»¬æœ‰æ—¶å€™ä¼šéœ€è¦ä¸´æ—¶åœ°å°†ä¸€ä¸ªæœ¬åœ°çš„Webç½‘ç«™éƒ¨ç½²åˆ°å¤–ç½‘,ä»¥ä¾›ä»–äººä½“éªŒè¯„ä»·æˆ–ååŠ©è°ƒè¯•ç­‰ç­‰,é€šå¸¸æˆ‘ä»¬ä¼šè¿™ä¹ˆåš: æ‰¾åˆ°ä¸€å°è¿è¡ŒäºŽå¤–ç½‘çš„WebæœåŠ¡å™¨; æœåŠ¡å™¨ä¸Šæ­å»ºç½‘ç«™è¿è¡Œæ—¶çš„çŽ¯å¢ƒ; éƒ¨ç½²ç½‘ç«™ è°ƒè¯•ç»“æŸåŽ,å†å°†ç½‘ç«™ä»ŽæœåŠ¡å™¨ä¸Šåˆ é™¤ æˆ‘ä»¬éƒ¨ç½²é™æ€çš„ç½‘ç«™ä»…ä»…åªæ˜¯éœ€è¦å±•ç¤ºç»™æœ‹å‹,ä½•å¿…é‚£ä¹ˆéº»çƒ¦???é™¤æ­¤ä¹‹å¤–,ç¬”è€…æœ€è¿‘è¿›è¡Œå¾®ä¿¡æœºå™¨äººå¼€å‘,ç»å¸¸åœ¨æœ¬åœ°å¼€å‘å’Œå¾®ä¿¡æœåŠ¡ç«¯è¿›è¡Œè”è°ƒ.ç”±äºŽå¾®ä¿¡ç«¯å£å’Œç½‘ç»œçš„é™åˆ¶(å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘å¯¹æŽ¥å¿…é¡»ä»¥http://æˆ–https://å¼€å¤´,åˆ†åˆ«æ”¯æŒ80ç«¯å£å’Œ443ç«¯å£),æˆ‘ä¸å¾—ä¸å°†æˆ‘çš„å†…ç½‘æ˜ å°„åˆ°å…¬ç½‘åœ°å€åšæ˜ å°„è°ƒè¯•.æœ‰äº†Ngrokä¹‹åŽ,ä¸–ç•Œæ˜¯å¦‚æ­¤çš„ç¾Žå¥½,æ‰€ä»¥å¼€å§‹å­¦ä¹ ä¹‹æ—…å§! Ngrokä»‹ç»ä¸Žä½¿ç”¨Ngrokæ˜¯ä¸€ä¸ªåå‘ä»£ç†,é€šè¿‡åœ¨å…¬å…±çš„ç«¯ç‚¹å’Œæœ¬åœ°è¿è¡Œçš„ Web æœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªå®‰å…¨çš„é€šé“.Ngrokå¯æ•èŽ·å’Œåˆ†æžæ‰€æœ‰é€šé“ä¸Šçš„æµé‡,ä¾¿äºŽåŽæœŸåˆ†æžå’Œé‡æ”¾. ä¸‹è½½åœ°å€: https://ngrok.com/downloadæˆ‘æ˜¯ä¸‹è½½Windowsç‰ˆæœ¬çš„,è¯»è€…å¯æ ¹æ®è‡ªå·±çš„ç³»ç»Ÿé€‰æ‹©è¿›è¡Œä¸‹è½½. Windowsç‰ˆæœ¬ä½¿ç”¨æ–¹æ³• åŒå‡»æ‰“å¼€ngrok.exe,ä¼šå‡ºçŽ°å¦‚ä¸‹å¸®åŠ©ä¿¡æ¯. å¯åŠ¨æœ¬åœ°é¡¹ç›®,æˆ‘çš„æ˜¯Javaçš„Spring Booté¡¹ç›®,é¡¹ç›®ç«¯å£ä¸º80,è¯»è€…å¯æ ¹æ®æŠ€æœ¯æ ˆé€‰æ‹©ä¸åŒçš„Webé¡¹ç›®. é€šè¿‡æŸ¥çœ‹ä¸Šè¿°å¸®åŠ©æ–‡æ¡£åŽè¿›è¡Œç«¯å£æœ¬åœ°æ˜ å°„åˆ°å…¬ç½‘,è¾“å…¥å‘½ä»¤:ngrok åè®®å æœ¬åœ°è¦æ˜ å°„çš„ç«¯å£å·,å¦‚è¾“å…¥ngrok http 80å‘½ä»¤å¯è¿›å…¥å¦‚ä¸‹é€šé“è¿žæŽ¥. ä»Žä¸Šå›¾å¯çŸ¥æ˜ å°„çš„ä¿¡æ¯,è¦æƒ³è¿›è¡Œå¯è§†åŒ–æµè§ˆ,å¯åœ¨æµè§ˆå™¨è¾“å…¥:http://127.0.0.1:4040 ä¸Šé¢æœ‰ä¸¤ä¸ªæ˜ å°„åˆ°å…¬ç½‘çš„åœ°å€,é€šè¿‡å¤–ç½‘(æ‰‹æœºæµé‡)è¿›è¡Œè®¿é—®çœ‹æ˜¯å¦æˆåŠŸ. è®¿é—®æˆåŠŸåŽ,å¯æŸ¥çœ‹è¯·æ±‚ä¸Žç›¸åº”ä¿¡æ¯.","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"å®žç”¨å·¥å…·åŠæŠ€å·§","slug":"å®žç”¨å·¥å…·åŠæŠ€å·§","permalink":"http://ltyeamin.github.io/tags/å®žç”¨å·¥å…·åŠæŠ€å·§/"}]},{"title":"å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž","slug":"å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž","date":"2018-03-27T02:01:55.000Z","updated":"2019-05-29T14:03:52.000Z","comments":true,"path":"2018/03/27/å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž/","link":"","permalink":"http://ltyeamin.github.io/2018/03/27/å•ä¾‹æ¨¡å¼-Springå•ä¾‹å®žçŽ°åŽŸç†åˆ†æž/","excerpt":"","text":"åœ¨Springä¸­,è¢«@Scopeæ³¨è§£ä¿®é¥°Beané»˜è®¤æ˜¯å•ä¾‹æ¨¡å¼çš„,å³åªæœ‰ä¸€ä¸ªå®žä¾‹å¯¹è±¡,å¤šæ¬¡èŽ·å–Beanä¼šæ‹¿åˆ°åŒä¸€ä¸ªå¯¹è±¡. å•ä¾‹æ³¨å†Œè¡¨Springé‡‡ç”¨å•ä¾‹æ³¨å†Œè¡¨çš„ç‰¹æ®Šæ–¹å¼å®žçŽ°å•ä¾‹æ¨¡å¼.é¦–å…ˆè‡ªå·±å†™ä¸ªå•ä¾‹æ³¨å†Œè¡¨.æˆ‘ä»¬å¯ä»¥é€šè¿‡Mapç¼“å­˜å•ä¾‹å¯¹è±¡,å®žçŽ°å•ä¾‹æ³¨å†Œè¡¨.å€¼å¾—æ³¨æ„çš„æ˜¯,é‡‡ç”¨ConcurrentHashMapæ˜¯å‡ºäºŽçº¿ç¨‹å®‰å…¨çš„è€ƒè™‘. 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * @author tong.li * @Description: ä¸€ä¸ªç®€å•çš„å•ä¾‹å®žçŽ°,è®¾è®¡å•ä¾‹æ³¨å†Œè¡¨ * @packagename: com.yimi.yts.learningpath * @date 2018-03-27 10:04 */public class SingletonReg &#123; //æž„å»ºé‡‡ç”¨ConcurrentHashMap,ç”¨äºŽå……å½“ç¼“å­˜æ³¨å†Œè¡¨ private final static Map&lt;String, Object&gt; singletonObjects = new ConcurrentHashMap&lt;&gt;(16); // é™æ€ä»£ç å—åªåŠ è½½æ‰§è¡Œä¸€æ¬¡ static &#123; // å®žä¾‹åŒ–Bean SingletonReg singletonReg = new SingletonReg(); //å¹¶æ³¨å†Œåˆ°æ³¨å†Œè¡¨ä¸­,keyä¸ºç±»çš„å®Œå…¨é™å®šå,valueä¸ºå®žä¾‹åŒ–å¯¹è±¡ singletonObjects.put(singletonReg.getClass().getName(),singletonReg); &#125; /** * ç§æœ‰åŒ–æž„é€ æ–¹æ³•,é¿å…å¤–éƒ¨åˆ›å»ºæœ¬ç±»å®žä¾‹ */ private SingletonReg() &#123;&#125; /** * å¯¹å¤–æš´éœ²èŽ·å¾—è¯¥beançš„æ–¹æ³•,Springæ¡†æž¶ä¸€èˆ¬ä¼šè¿”å›žObject * @return */ public static SingletonReg getInstance(String className) &#123; if (StringUtils.isEmpty(className)) &#123; return null; &#125; //ä»Žæ³¨å†Œè¡¨èŽ·å–,å¦‚æžœæ²¡æœ‰ç›´æŽ¥åˆ›å»º if (singletonObjects.get(className) == null) &#123; try &#123; //å¦‚æžœä¸ºç©º,é€šè¿‡åå°„è¿›è¡Œå®žä¾‹åŒ– singletonObjects.put(className, Class.forName(className).newInstance()); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; //ä»Žç¼“å­˜è¡¨ä¸­å›žåŽ»,å¦‚æžœç¼“å­˜å‘½ä¸­ç›´æŽ¥è¿”å›ž return (SingletonReg)singletonObjects.get(className); &#125; &#125; åŒè¿‡ä»¥ä¸Šå•ä¾‹å®žçŽ°,getInstance()æ–¹æ³•é€šè¿‡ä¼ å…¥ç±»åè¿›è¡Œåˆ¤æ–­,å¦‚æžœå‚æ•°ä¸ºnull,é‚£å°±æ— æ³•èŽ·å–bean,å¦‚æžœå‚æ•°ä¸ä¸ºç©º,å…ˆä»Žç¼“å­˜æ³¨å†Œè¡¨å‘½ä¸­,å¦‚æžœå‘½ä¸­å°±returnæŽ‰,æ²¡æœ‰å‘½ä¸­é€šè¿‡åå°„æœºåˆ¶å®žä¾‹åŒ–ä¸€ä¸ªreturn.è¿™æ ·å¤šæ¬¡èŽ·å¾—è°ƒç”¨getInstance()æ–¹æ³•éƒ½æ˜¯èŽ·å¾—åŒä¸€ä¸ªå¯¹è±¡.æµ‹è¯•å¦‚ä¸‹:123456789 public static void main(String[] args) &#123; /* * è¿”å›žçš„éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ * com.yimi.yts.learningpath.SingletonReg@3d82c5f3 * com.yimi.yts.learningpath.SingletonReg@3d82c5f3 */ System.out.println( SingletonReg.getInstance(&quot;com.yimi.yts.learningpath.SingletonReg&quot;)); System.out.println( SingletonReg.getInstance(&quot;com.yimi.yts.learningpath.SingletonReg&quot;));&#125; Springæºç åˆ†æžé€šè¿‡ä¸Šè¿°å®žçŽ°,Springå°±æ˜¯é‡‡ç”¨äº†è¿™ç§å•ä¾‹æ³¨å†Œè¡¨çš„ç‰¹æ®Šæ–¹å¼å®žçŽ°å•ä¾‹æ¨¡å¼çš„.123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596public abstract class AbstractBeanFactory extends FactoryBeanRegistrySupport implements ConfigurableBeanFactory &#123; @SuppressWarnings(&quot;unchecked&quot;) protected &lt;T&gt; T doGetBean( final String name, final Class&lt;T&gt; requiredType, final Object[] args, boolean typeCheckOnly) throws BeansException &#123; //å¯¹Beançš„nameè¿›è¡Œå¤„ç†,é˜²æ­¢éžæ³•å­—ç¬¦ final String beanName = transformedBeanName(name); Object bean; // Eagerly check singleton cache for manually registered singletons. //ä»Žå•ä¾‹æ³¨å†Œè¡¨ä¸­æ£€æŸ¥æ˜¯å¦å­˜åœ¨å•ä¾‹ç¼“å­˜ Object sharedInstance = getSingleton(beanName); if (sharedInstance != null &amp;&amp; args == null) &#123; //çœç•¥éƒ¨åˆ†ä»£ç ... // è¿”å›žç¼“å­˜å®žä¾‹ bean = getObjectForBeanInstance(sharedInstance, name, beanName, null); &#125; else &#123; //çœç•¥ä»£ç ... try &#123; // ...å¿½ç•¥ä»£ç  // å•ä¾‹æ¨¡å¼,å®žä¾‹åŒ–bean,å¤„ç†åˆ†æ”¯ // Create bean instance. if (mbd.isSingleton()) &#123; sharedInstance = getSingleton(beanName, new ObjectFactory&lt;Object&gt;() &#123; @Override public Object getObject() throws BeansException &#123; try &#123; return createBean(beanName, mbd, args); &#125; catch (BeansException ex) &#123; destroySingleton(beanName); throw ex; &#125; &#125; &#125;); bean = getObjectForBeanInstance(sharedInstance, name, beanName, mbd); &#125; //åŽŸåž‹é­”å…½,å¤„ç†åˆ†æ”¯ else if (mbd.isPrototype()) &#123; //çœç•¥ä»£ç  &#125; else &#123; String scopeName = mbd.getScope(); final Scope scope = this.scopes.get(scopeName); if (scope == null) &#123; throw new IllegalStateException(&quot;No Scope registered for scope name &apos;&quot; + scopeName + &quot;&apos;&quot;); &#125; try &#123; Object scopedInstance = scope.get(beanName, new ObjectFactory&lt;Object&gt;() &#123; @Override public Object getObject() throws BeansException &#123; beforePrototypeCreation(beanName); try &#123; return createBean(beanName, mbd, args); &#125; finally &#123; afterPrototypeCreation(beanName); &#125; &#125; &#125;); bean = getObjectForBeanInstance(scopedInstance, name, beanName, mbd); &#125; catch (IllegalStateException ex) &#123; throw new BeanCreationException(beanName, &quot;Scope &apos;&quot; + scopeName + &quot;&apos; is not active for the current thread; consider &quot; + &quot;defining a scoped proxy for this bean if you intend to refer to it from a singleton&quot;, ex); &#125; &#125; &#125; catch (BeansException ex) &#123; cleanupAfterBeanCreationFailure(beanName); throw ex; &#125; &#125; // Check if required type matches the type of the actual bean instance. if (requiredType != null &amp;&amp; bean != null &amp;&amp; !requiredType.isInstance(bean)) &#123; try &#123; return getTypeConverter().convertIfNecessary(bean, requiredType); &#125; catch (TypeMismatchException ex) &#123; if (logger.isDebugEnabled()) &#123; logger.debug(&quot;Failed to convert bean &apos;&quot; + name + &quot;&apos; to required type &apos;&quot; + ClassUtils.getQualifiedName(requiredType) + &quot;&apos;&quot;, ex); &#125; throw new BeanNotOfRequiredTypeException(name, requiredType, bean.getClass()); &#125; &#125; return (T) bean; &#125;&#125; å…¶ä¸­ä¸­é‡è¦çš„ä»£ç æ˜¯getSingleton()æ–¹æ³•,ä¸‹é¢æ·±å…¥åˆ†æžè¯¥æ–¹æ³•:1234567891011121314151617181920212223242526272829303132333435public class DefaultSingletonBeanRegistry extends SimpleAliasRegistry implements SingletonBeanRegistry &#123; // é€šè¿‡ Map å®žçŽ°å•ä¾‹æ³¨å†Œè¡¨ private final Map&lt;String, Object&gt; singletonObjects = new ConcurrentHashMap&lt;String, Object&gt;(64); public Object getSingleton(String beanName, ObjectFactory&lt;?&gt; singletonFactory) &#123; Assert.notNull(beanName, &quot;&apos;beanName&apos; must not be null&quot;); synchronized (this.singletonObjects) &#123; // æ£€æŸ¥ç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨å®žä¾‹ Object singletonObject = this.singletonObjects.get(beanName); if (singletonObject == null) &#123; // ...å¿½ç•¥ä»£ç  try &#123; singletonObject = singletonFactory.getObject(); &#125; catch (BeanCreationException ex) &#123; // ...å¿½ç•¥ä»£ç  &#125; finally &#123; // ...å¿½ç•¥ä»£ç  &#125; // å¦‚æžœå®žä¾‹å¯¹è±¡åœ¨ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬æ³¨å†Œåˆ°å•ä¾‹æ³¨å†Œè¡¨ä¸­ã€‚ addSingleton(beanName, singletonObject); &#125; return (singletonObject != NULL_OBJECT ? singletonObject : null); &#125; &#125; protected void addSingleton(String beanName, Object singletonObject) &#123; synchronized (this.singletonObjects) &#123; this.singletonObjects.put(beanName, (singletonObject != null ? singletonObject : NULL_OBJECT)); &#125; &#125;&#125; æ€»ç»“ç»¼ä¸Šè¿°åˆ†æž.æˆ‘ä»¬å¯ä»¥å¾—å‡º:Springå¯¹Beanå®žä¾‹çš„åˆ›å»ºæ˜¯é‡‡ç”¨å•ä¾‹æ³¨å†Œè¡¨çš„æ–¹å¼è¿›è¡Œå®žçŽ°çš„ï¼Œè€Œè¿™ä¸ªæ³¨å†Œè¡¨çš„ç¼“å­˜æ˜¯ ConcurrentHashMapå¯¹è±¡ã€‚","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"Spring","slug":"Spring","permalink":"http://ltyeamin.github.io/tags/Spring/"}]},{"title":"çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž","slug":"çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž","date":"2018-03-15T12:51:07.000Z","updated":"2019-05-29T14:03:51.000Z","comments":true,"path":"2018/03/15/çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž/","link":"","permalink":"http://ltyeamin.github.io/2018/03/15/çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±åˆ†æž/","excerpt":"","text":"æœ€è¿‘åœ¨ä½¿ç”¨Spring Cloudè¿‡ç¨‹ä¸­,ç»å¸¸ä¼šé‡è§çº¿ç¨‹éš”ç¦»(åˆ‡æ¢).å¯¼è‡´ThreadLocalæ•°æ®ä¸¢å¤±.ä¾‹å¦‚è°ƒç”¨å…¶ä»–æœåŠ¡èŽ·å–ä¸åˆ°Threadlocalæ²¡æœ‰æ•°æ®,æœåŠ¡ä¹‹é—´ä¼ é€’è¯·æ±‚å¤´ä¼ é€’å¤±è´¥.é€šè¿‡æŸ¥é˜…ç›¸å…³æ–‡æ¡£æ‰å‘çŽ°:ç”¨Hystrixå®žçŽ°æ–­è·¯å™¨,Zuulä¸­é»˜è®¤ä½¿ç”¨çš„æ˜¯ä¿¡å·é‡,å…¶ä»–é»˜è®¤éƒ½æ˜¯çº¿ç¨‹éš”ç¦».å…·ä½“æ–‡æ¡£å¦‚ä¸‹(å¯å‚è€ƒHystrix WIKI)ï¼š Thread or Semaphore The default, and the recommended setting, is to run HystrixCommands using thread isolation (THREAD) and HystrixObservableCommands using semaphore isolation (SEMAPHORE). Commands executed in threads have an extra layer of protection against latencies beyond what network timeouts can offer. Generally the only time you should use semaphore isolation for HystrixCommands is when the call is so high volume (hundreds per second, per instance) that the overhead of separate threads is too high; this typically only applies to non-network calls. åœ¨ä½¿ç”¨çº¿ç¨‹éš”ç¦»çš„æ—¶å€™ï¼Œæœ‰ä¸ªé—®é¢˜æ˜¯å¿…é¡»è¦è§£å†³çš„ï¼Œé‚£å°±æ˜¯åœ¨æŸäº›ä¸šåŠ¡åœºæ™¯ä¸‹é€šè¿‡ThreadLocalæ¥åœ¨çº¿ç¨‹é‡Œä¼ é€’æ•°æ®ï¼Œç”¨ä¿¡å·é‡æ˜¯æ²¡é—®é¢˜çš„ï¼Œä»Žè¯·æ±‚è¿›æ¥ï¼Œä½†åŽç»­çš„æµç¨‹éƒ½æ˜¯é€šä¸€ä¸ªçº¿ç¨‹ã€‚å½“éš”ç¦»æ¨¡å¼ä¸ºçº¿ç¨‹æ—¶ï¼ŒHystrixä¼šå°†è¯·æ±‚æ”¾å…¥Hystrixçš„çº¿ç¨‹æ± ä¸­åŽ»æ‰§è¡Œï¼Œè¿™ä¸ªæ—¶å€™æŸä¸ªè¯·æ±‚å°±æœ‰Açº¿ç¨‹å˜æˆBçº¿ç¨‹äº†ï¼ŒThreadLocalå¿…ç„¶æ¶ˆå¤±äº†. æ¨¡æ‹Ÿå®žçŽ° 123456789101112131415161718192021222324252627282930313233public class CustomThreadLocal &#123; static ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;&gt;(); public static void main(String[] args) &#123; new Thread(new Runnable() &#123; @Override public void run() &#123; CustomThreadLocal.threadLocal.set(&quot;å½¤å“¥å“¥&quot;); new Service().call(); &#125; &#125;).start(); &#125;&#125;class Service &#123; public void call() &#123; System.out.println(&quot;Service:&quot; + Thread.currentThread().getName()); System.out.println(&quot;Service:&quot; + CustomThreadLocal.threadLocal.get()); new Dao().call(); &#125;&#125;class Dao &#123; public void call() &#123; System.out.println(&quot;==========================&quot;); System.out.println(&quot;Dao:&quot; + Thread.currentThread().getName()); System.out.println(&quot;Dao:&quot; + CustomThreadLocal.threadLocal.get()); &#125;&#125; æˆ‘ä»¬åœ¨ä¸»ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªThreadLocalç”¨æ¥ä¼ é€’æ•°æ®ï¼Œç„¶åŽèµ·äº†ä¸€ä¸ªçº¿ç¨‹ï¼Œåœ¨çº¿ç¨‹ä¸­è°ƒç”¨Serviceä¸­çš„callæ–¹æ³•ï¼Œå¹¶ä¸”å¾€Threadlocalä¸­è®¾ç½®äº†ä¸€ä¸ªå€¼ï¼Œåœ¨Serviceä¸­èŽ·å–ThreadLocalä¸­çš„å€¼ï¼Œç„¶åŽå†è°ƒç”¨Daoä¸­çš„callæ–¹æ³•ï¼Œä¹Ÿæ˜¯èŽ·å–ThreadLocalä¸­çš„å€¼ï¼Œæˆ‘ä»¬è¿è¡Œä¸‹çœ‹æ•ˆæžœï¼š12345Service:Thread-0Service:å½¤å“¥å“¥==========================Dao:Thread-0Dao:å½¤å“¥å“¥ ä»Žè¿è¡Œç»“æžœæ¥çœ‹,åŒä¸€ä¸ªçº¿ç¨‹ä¸­èƒ½å¤ŸèŽ·å¾—ThreadLocalçš„å€¼.è¿™ä¸ªæ²¡é”™,æŽ¥ä¸‹æ¥,å°†Sericeç±»ä¸­çš„call()æ–¹æ³•ç¨å¾®æ”¹é€ ä¸€ä¸‹:1234567891011public void call() &#123; System.out.println(&quot;Service:&quot; + Thread.currentThread().getName()); System.out.println(&quot;Service:&quot; + CustomThreadLocal.threadLocal.get()); //new Dao().call(); new Thread(new Runnable() &#123; @Override public void run() &#123; new Dao().call(); &#125; &#125;).start();&#125; å†æ¬¡è¿è¡Œç»“æžœå¦‚ä¸‹:12345Service:Thread-0Service:å½¤å“¥å“¥==========================Dao:Thread-1Dao:null ç”±æ­¤å¯è§æ˜¯ä¸¤ä¸ªä¸åŒçš„çº¿ç¨‹,åœ¨è¿è¡ŒDaoä¸­çš„call()æ–¹æ³•è¿›è¡Œäº†çº¿ç¨‹åˆ‡æ¢,æ‰€ä»¥ThreadLocalèŽ·å–åˆ°çš„æ•°æ®æœªnull. InheritableThreadLocalå¼•å…¥æ—¢ç„¶é‡åˆ°é—®é¢˜å°±è¯¥è§£å†³,é‚£ä¹ˆå¦‚ä½•è§£å†³å‘¢?å…¶å®žè§£å†³èµ·æ¥å¾ˆç®€å•,åªéœ€è¦æ”¹ä¸€è¡Œä»£ç å³å¯.1static ThreadLocal&lt;String&gt; threadLocal = new InheritableThreadLocal&lt;&gt;(); å°†Threadlocalæ”¹æˆå­ç±»InheritableThreadLocalåŽè¿è¡Œç»“æžœ:12345Service:Thread-0Service:å½¤å“¥å“¥==========================Dao:Thread-1Dao:å½¤å“¥å“¥ éžå¸¸å®Œç¾Žçš„è§£å†³äº†çº¿ç¨‹åˆ‡æ¢å¯¼è‡´ThreadLocalæ‹¿ä¸åˆ°å€¼è€Œäº§ç”Ÿçš„é—®é¢˜. æ·±å…¥InheritableThreadLocalåŽŸç†è¦å…ˆäº†è§£InheritableThreadLocalåŽŸç†,é¦–å…ˆæ¸…æ¥šThreadLocalçš„åŽŸç†.è¯ä¸å¤šè¯´,å…ˆåˆ†æžä¸€ä¸‹ThreadLocalçš„åŽŸç†: æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªThreadLocalMapç±»åž‹çš„threadLocalså±žæ€§,ThreadLocalMapç±»ç›¸å½“äºŽä¸€ä¸ªMap,key æ˜¯ ThreadLocalæœ¬èº«,valueå°±æ˜¯æˆ‘ä»¬è®¾ç½®çš„å€¼. 123public class Thread implements Runnable &#123; ThreadLocal.ThreadLocalMap threadLocals = null;&#125; å½“æˆ‘ä»¬é€šè¿‡threadLocal.set(â€œå½¤å“¥å“¥â€)çš„æ—¶å€™,å°±æ˜¯åœ¨è¿™ä¸ªçº¿ç¨‹ä¸­çš„threadLocalså±žæ€§ä¸­æ”¾å…¥ä¸€ä¸ªé”®å€¼å¯¹,keyæ˜¯ å½“å‰çº¿ç¨‹,valueå°±æ˜¯ä½ è®¾ç½®çš„å€¼ã€‚ å½“æˆ‘ä»¬é€šè¿‡ threadlocal.get()æ–¹æ³•çš„æ—¶å€™,å°±æ˜¯æ ¹æ®å½“å‰çº¿ç¨‹ä½œä¸ºkeyæ¥èŽ·å–è¿™ä¸ªçº¿ç¨‹è®¾ç½®çš„å€¼.12345678910111213141516171819202122232425262728293031public class ThreadLocal&lt;T&gt; &#123; public void set(T value) &#123; //èŽ·å–å½“å‰çš„çº¿ç¨‹å¯¹è±¡ Thread t = Thread.currentThread(); //èŽ·å–å½“å‰çº¿ç¨‹å¯¹è±¡ä¸­çš„threadLocalså±žæ€§ ThreadLocalMap map = getMap(t); if (map != null) map.set(this, value); else createMap(t, value); &#125; ThreadLocalMap getMap(Thread t) &#123; return t.threadLocals; &#125; public T get() &#123; Thread t = Thread.currentThread(); ThreadLocalMap map = getMap(t); if (map != null) &#123; ThreadLocalMap.Entry e = map.getEntry(this); if (e != null) &#123; @SuppressWarnings(&quot;unchecked&quot;) T result = (T)e.value; return result; &#125; &#125; return setInitialValue(); &#125;&#125; é€šè¿‡ä¸Šé¢çš„ä»‹ç»æˆ‘ä»¬å¯ä»¥äº†è§£åˆ°threadlocalèƒ½å¤Ÿä¼ é€’æ•°æ®æ˜¯ç”¨Thread.currentThread()å½“å‰çº¿ç¨‹æ¥èŽ·å–,ä¹Ÿå°±æ˜¯åªè¦åœ¨ç›¸åŒçš„çº¿ç¨‹ä¸­å°±å¯ä»¥èŽ·å–åˆ°å‰é¢è®¾ç½®è¿›åŽ»çš„å€¼.å¦‚æžœåœ¨threadlocalè®¾ç½®å®Œå€¼ä¹‹åŽ,ä¸‹æ­¥çš„æ“ä½œé‡æ–°åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹,è¿™ä¸ªæ—¶å€™Thread.currentThread()å°±å·²ç»å˜äº†,é‚£ä¹ˆè‚¯å®šæ˜¯æ‹¿ä¸åˆ°ä¹‹å‰è®¾ç½®çš„å€¼.å…·ä½“çš„é—®é¢˜å¤çŽ°å¯ä»¥å‚è€ƒä¸Šé¢æˆ‘çš„ä»£ç .é‚£ä¸ºä»€ä¹ˆInheritableThreadLocalå°±å¯ä»¥å‘¢?InheritableThreadLocalè¿™ä¸ªç±»ç»§æ‰¿äº†ThreadLocal,é‡å†™äº†3ä¸ªæ–¹æ³•,åœ¨å½“å‰çº¿ç¨‹ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹å®žä¾‹Threadæ—¶,ä¼šæŠŠè¿™äº›çº¿ç¨‹å˜é‡ä»Žå½“å‰çº¿ç¨‹ä¼ é€’ç»™æ–°çš„çº¿ç¨‹å®žä¾‹.12345678910111213141516public class InheritableThreadLocal&lt;T&gt; extends ThreadLocal&lt;T&gt; &#123; protected T childValue(T parentValue) &#123; return parentValue; &#125; ThreadLocalMap getMap(Thread t) &#123; return t.inheritableThreadLocals; &#125; void createMap(Thread t, T firstValue) &#123; t.inheritableThreadLocals = new ThreadLocalMap(this, firstValue); &#125;&#125; é€šè¿‡ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹åˆ°InheritableThreadLocal é‡å†™äº†childValue, getMap,createMapä¸‰ä¸ªæ–¹æ³•,æˆ‘ä»¬å¾€é‡Œé¢setå€¼çš„æ—¶å€™,å€¼ä¿å­˜åˆ°äº†inheritableThreadLocalsé‡Œé¢,è€Œä¸æ˜¯ä¹‹å‰çš„threadLocalsé‚£ä¹ˆå…³é”®çš„ç‚¹æ¥äº†,ä¸ºä»€ä¹ˆå½“åˆ›å»ºæ–°çš„çº¿ç¨‹æ± ,å¯ä»¥èŽ·å–åˆ°ä¸Šä¸ªçº¿ç¨‹é‡Œçš„threadLocalä¸­çš„å€¼å‘¢?åŽŸå› å°±æ˜¯åœ¨æ–°åˆ›å»ºçº¿ç¨‹çš„æ—¶å€™,ä¼šæŠŠä¹‹å‰çº¿ç¨‹çš„inheritableThreadLocalsèµ‹å€¼ç»™æ–°çº¿ç¨‹çš„inheritableThreadLocals,é€šè¿‡è¿™ç§æ–¹å¼å®žçŽ°äº†æ•°æ®çš„ä¼ é€’.æºç æœ€å¼€å§‹åœ¨Threadçš„init()æ–¹æ³•ä¸­,å¦‚ä¸‹:1234567891011121314151617181920212223242526272829303132333435363738394041424344publicclass Thread implements Runnable &#123; private void init(ThreadGroup g, Runnable target, String name, long stackSize, AccessControlContext acc, boolean inheritThreadLocals) &#123; //ä»£ç çœç•¥...... if (inheritThreadLocals &amp;&amp; parent.inheritableThreadLocals != null) //åˆ›å»ºæ–°çš„ThreadLocalMapå¹¶å¤åˆ¶ç»™å½“å‰çº¿ç¨‹çš„inheritableThreadLocalså¯¹è±¡ this.inheritableThreadLocals = ThreadLocal.createInheritedMap(parent.inheritableThreadLocals); //ä»£ç çœç•¥...... &#125; static ThreadLocalMap createInheritedMap(ThreadLocalMap parentMap) &#123; return new ThreadLocalMap(parentMap); &#125; /** * èµ‹å€¼ä»£ç  */ private ThreadLocalMap(ThreadLocalMap parentMap) &#123; Entry[] parentTable = parentMap.table; int len = parentTable.length; setThreshold(len); table = new Entry[len]; for (int j = 0; j &lt; len; j++) &#123; Entry e = parentTable[j]; if (e != null) &#123; @SuppressWarnings(&quot;unchecked&quot;) ThreadLocal&lt;Object&gt; key = (ThreadLocal&lt;Object&gt;) e.get(); if (key != null) &#123; Object value = key.childValue(e.value); Entry c = new Entry(key, value); int h = key.threadLocalHashCode &amp; (len - 1); while (table[h] != null) h = nextIndex(h, len); table[h] = c; size++; &#125; &#125; &#125; &#125;&#125; åˆ°æ­¤ä¸ºæ­¢,é€šè¿‡inheritableThreadLocalsæˆ‘ä»¬å¯ä»¥åœ¨çˆ¶çº¿ç¨‹åˆ›å»ºå­çº¿ç¨‹çš„æ—¶å€™å°†Localä¸­çš„å€¼ä¼ é€’ç»™å­çº¿ç¨‹,è¿™ä¸ªç‰¹æ€§å·²ç»èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†çš„éœ€æ±‚äº†.ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜æ˜¯å¦‚æžœæ˜¯åœ¨çº¿ç¨‹å¤ç”¨çš„æƒ…å†µä¸‹å°±ä¼šå‡ºé—®é¢˜,æ¯”å¦‚çº¿ç¨‹æ± ä¸­åŽ»ä½¿ç”¨inheritableThreadLocalsè¿›è¡Œä¼ å€¼,å› ä¸ºinheritableThreadLocals åªæ˜¯ä¼šå†æ–°åˆ›å»ºçº¿ç¨‹çš„æ—¶å€™è¿›è¡Œä¼ å€¼,çº¿ç¨‹å¤ç”¨å¹¶ä¸ä¼šåšè¿™ä¸ªæ“ä½œ,é‚£ä¹ˆè¦è§£å†³è¿™ä¸ªé—®é¢˜å°±å¾—è‡ªå·±åŽ»æ‰©å±•çº¿ç¨‹ç±»å®žçŽ°è¿™ä¸ªåŠŸèƒ½. é˜¿é‡Œè§£å†³ä¹‹é“å¼€æºçš„ä¸–ç•Œåº”æœ‰å°½æœ‰,ä¸ºäº†è§£å†³ä¸Šè¿°é—ç•™çš„é—®é¢˜,é˜¿é‡Œå¼€æºäº†ä¸€æ¬¾Javaæ¡†æž¶: transmittable-thread-localå…¶ä¸»è¦åŠŸèƒ½å°±æ˜¯è§£å†³åœ¨ä½¿ç”¨çº¿ç¨‹æ± ç­‰ä¼šç¼“å­˜çº¿ç¨‹çš„ç»„ä»¶æƒ…å†µä¸‹,æä¾›ThreadLocalå€¼çš„ä¼ é€’åŠŸèƒ½,è§£å†³å¼‚æ­¥æ‰§è¡Œæ—¶ä¸Šä¸‹æ–‡ä¼ é€’çš„é—®é¢˜.JDKçš„InheritableThreadLocalç±»å¯ä»¥å®Œæˆçˆ¶çº¿ç¨‹åˆ°å­çº¿ç¨‹çš„å€¼ä¼ é€’.ä½†å¯¹äºŽä½¿ç”¨çº¿ç¨‹æ± ç­‰ä¼šç¼“å­˜çº¿ç¨‹çš„ç»„ä»¶çš„æƒ…å†µ,çº¿ç¨‹ç”±çº¿ç¨‹æ± åˆ›å»ºå¥½,å¹¶ä¸”çº¿ç¨‹æ˜¯ç¼“å­˜èµ·æ¥åå¤ä½¿ç”¨çš„;è¿™æ—¶çˆ¶å­çº¿ç¨‹å…³ç³»çš„ThreadLocalå€¼ä¼ é€’å·²ç»æ²¡æœ‰æ„ä¹‰,åº”ç”¨éœ€è¦çš„å®žé™…ä¸Šæ˜¯æŠŠä»»åŠ¡æäº¤ç»™çº¿ç¨‹æ± æ—¶çš„ThreadLocalå€¼ä¼ é€’åˆ°ä»»åŠ¡æ‰§è¡Œæ—¶.transmittable-thread-localä½¿ç”¨æ–¹å¼åˆ†ä¸ºä¸‰ç§:ä¿®é¥°Runnableå’ŒCallable,ä¿®é¥°çº¿ç¨‹æ± ,Java Agentæ¥ä¿®é¥°JDKçº¿ç¨‹æ± å®žçŽ°ç±».æŽ¥ä¸‹æ¥ç»™å¤§å®¶æ¼”ç¤ºä¸‹çº¿ç¨‹æ± çš„ä¿®é¥°æ–¹å¼,é¦–å…ˆæ¥ä¸€ä¸ªéžæ­£å¸¸çš„æ¡ˆä¾‹,ä»£ç å¦‚ä¸‹:1234567891011121314151617181920212223242526272829303132333435363738394041public class CustomThreadLocal &#123; static ThreadLocal&lt;String&gt; threadLocal = new InheritableThreadLocal&lt;&gt;(); /** * åˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°ä¸º2çš„çº¿ç¨‹æ±  */ static ExecutorService pool = Executors.newFixedThreadPool(2); public static void main(String[] args) &#123; for(int i=0;i&lt;100;i++) &#123; int j = i; pool.execute(new Thread(new Runnable() &#123; @Override public void run() &#123; CustomThreadLocal.threadLocal.set(&quot;å½¤å“¥å“¥&quot;+j); new Service().call(); &#125; &#125;)); &#125; &#125;&#125;class Service &#123; public void call() &#123; CustomThreadLocal.pool.execute(new Runnable() &#123; @Override public void run() &#123; new Dao().call(); &#125; &#125;); &#125;&#125;class Dao &#123; public void call() &#123; System.out.println(&quot;Dao:&quot; + CustomThreadLocal.threadLocal.get()); &#125;&#125; è¿è¡Œä¸Šé¢çš„ä»£ç ,å‡ºçŽ°çš„ç»“æžœæ˜¯ä¸æ­£ç¡®çš„,è¾“å‡ºç»“æžœå¦‚ä¸‹:12345678910111213Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥99Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥62Dao:å½¤å“¥å“¥99çœç•¥ä¹‹åŽçš„ç»“æžœ... æ­£ç¡®çš„åº”è¯¥æ˜¯ä»Ž0-99ä¸èƒ½æœ‰é‡å¤,ç”±äºŽçº¿ç¨‹çš„å¤ç”¨,å€¼è¢«æ›¿æ¢æŽ‰äº†æ‰ä¼šå‡ºçŽ°ä¸æ­£ç¡®çš„ç»“æžœ.æŽ¥ä¸‹æ¥ä½¿ç”¨transmittable-thread-localæ¥æ”¹é€ æœ‰é—®é¢˜çš„ä»£ç ,æ·»åŠ transmittable-thread-localçš„Mavenä¾èµ–ï¼š12345&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;transmittable-thread-local&lt;/artifactId&gt; &lt;version&gt;2.2.0&lt;/version&gt;&lt;/dependency&gt; åªéœ€è¦ä¿®æ”¹2ä¸ªåœ°æ–¹,ä¿®é¥°çº¿ç¨‹æ± å’Œæ›¿æ¢InheritableThreadLocal:12static TransmittableThreadLocal&lt;String&gt; threadLocal = new TransmittableThreadLocal&lt;&gt;();static ExecutorService pool = TtlExecutors.getTtlExecutorService(Executors.newFixedThreadPool(2)); æ­£ç¡®ç»“æžœå¦‚ä¸‹:123456789101112Dao:å½¤å“¥å“¥1Dao:å½¤å“¥å“¥2Dao:å½¤å“¥å“¥4Dao:å½¤å“¥å“¥5Dao:å½¤å“¥å“¥3Dao:å½¤å“¥å“¥6Dao:å½¤å“¥å“¥7Dao:å½¤å“¥å“¥8Dao:å½¤å“¥å“¥9Dao:å½¤å“¥å“¥10Dao:å½¤å“¥å“¥11çœç•¥ä¹‹åŽçš„ç»“æžœ... åˆ°è¿™é‡Œæˆ‘ä»¬å°±å·²ç»å¯ä»¥å®Œç¾Žçš„è§£å†³çº¿ç¨‹ä¸­,çº¿ç¨‹æ± ä¸­ThreadLocalæ•°æ®çš„ä¼ é€’äº†,é¢˜ä¸»è¶ç€ä¸­åˆå–èŒ¶çš„æ—¶é—´,æ— æ„é—´æ‰¾åˆ°å…¶ä»–è§£å†³æ–¹æ¡ˆ,ä¸‹èŠ‚ç»§ç»­ç”¨å…¶ä»–æ–¹å¼è¿›è¡Œè§£å†³.","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://ltyeamin.github.io/tags/Java/"}]},{"title":"ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ","slug":"ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ","date":"2018-02-07T12:18:53.000Z","updated":"2020-01-08T13:06:37.199Z","comments":true,"path":"2018/02/07/ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ/","link":"","permalink":"http://ltyeamin.github.io/2018/02/07/ä½¿ç”¨Jenkinsè¿›è¡ŒæŒç»­é›†æˆ/","excerpt":"","text":"Jenkinsæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶é¡¹ç›®ï¼Œæ˜¯åŸºäºŽJavaå¼€å‘çš„ä¸€ç§æŒç»­é›†æˆå·¥å…·ï¼Œç”¨äºŽç›‘æŽ§æŒç»­é‡å¤çš„å·¥ä½œï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå¼€æ”¾æ˜“ç”¨çš„è½¯ä»¶å¹³å°ï¼Œä½¿è½¯ä»¶çš„æŒç»­é›†æˆå˜æˆå¯èƒ½ã€‚ å®‰è£…Jenkinsé¦–å…ˆæˆ‘ä»¬åŽ»Jenkinså®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°çš„éƒ¨ç½²åŒ…(.war):Jenkins.å› ä¸ºæˆ‘æ˜¯åœ¨Linuxå¹³å°éƒ¨ç½²,éœ€è¦æ³¨æ„çš„æ˜¯Jenkinsæ˜¯åŸºäºŽJavaæž„å»ºçš„,æ‰€ä»¥æˆ‘ä»¬å¿…é¡»å®‰è£…å¥½JDKç³»åˆ—çš„ä¾èµ–æ‰è¡Œ.Linuxå®‰è£…JDKæ—¶å€™å…ˆå¸è½½æœ¬èº«è‡ªå¸¦çš„OpenJDKå†è¿›è¡Œå®‰è£…,å¹¶é…ç½®å¥½çŽ¯å¢ƒå˜é‡.JDKå®‰è£…æˆ‘ä¸åœ¨ç´¯è¿°,è¯»è€…å¯è‡ªè¡Œç™¾åº¦. 12# é€šè¿‡wgetæ–¹å¼ä¸‹è½½Tomcatå’ŒJenkinså®‰è£…åŒ…[root@localhost bin]# wget http://mirrors.jenkins.io/war/latest/jenkins.war ä¸‹è½½å®ŒæˆåŽä¼šåœ¨å½“å‰ç›®å½•å‡ºçŽ°jenkins.war,å› ä¸ºJenkinså†…åµŒJettyæœåŠ¡å™¨(ä¹Ÿå¯ä»¥éƒ¨ç½²åœ¨Tomcatå®¹å™¨é‡Œ),å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨.1[root@localhost bin]# java -jar jenkins.war æ‰§è¡Œä»¥ä¸‹å‘½ä»¤,ä¼šæ‰“å°å‡ºå¦‚ä¸‹æ—¥å¿—ä¿¡æ¯:12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182Running from: /usr/local/bin/jenkins.warwebroot: $user.home/.jenkinsäºŒæœˆ 06, 2018 11:19:44 ä¸Šåˆ Main deleteWinstoneTempContentsè­¦å‘Š: Failed to delete the temporary Winstone file /tmp/winstone/jenkins.waräºŒæœˆ 06, 2018 11:19:44 ä¸Šåˆ org.eclipse.jetty.util.log.Log initializedä¿¡æ¯: Logging initialized @1303ms to org.eclipse.jetty.util.log.JavaUtilLogäºŒæœˆ 06, 2018 11:19:44 ä¸Šåˆ winstone.Logger logInternalä¿¡æ¯: Beginning extraction from war fileäºŒæœˆ 06, 2018 11:19:47 ä¸Šåˆ org.eclipse.jetty.server.handler.ContextHandler setContextPathè­¦å‘Š: Empty contextPathäºŒæœˆ 06, 2018 11:19:47 ä¸Šåˆ org.eclipse.jetty.server.Server doStartä¿¡æ¯: jetty-9.4.z-SNAPSHOTäºŒæœˆ 06, 2018 11:19:47 ä¸Šåˆ org.eclipse.jetty.webapp.StandardDescriptorProcessor visitServletä¿¡æ¯: NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServletäºŒæœˆ 06, 2018 11:19:48 ä¸Šåˆ org.eclipse.jetty.server.session.DefaultSessionIdManager doStartä¿¡æ¯: DefaultSessionIdManager workerName=node0äºŒæœˆ 06, 2018 11:19:48 ä¸Šåˆ org.eclipse.jetty.server.session.DefaultSessionIdManager doStartä¿¡æ¯: No SessionScavenger set, using defaultsäºŒæœˆ 06, 2018 11:19:48 ä¸Šåˆ org.eclipse.jetty.server.session.HouseKeeper startScavengingä¿¡æ¯: Scavenging every 600000msJenkins home directory: /root/.jenkins found at: $user.home/.jenkinsäºŒæœˆ 06, 2018 11:19:49 ä¸Šåˆ org.eclipse.jetty.server.handler.ContextHandler doStartä¿¡æ¯: Started w.@f9b7332&#123;/,file:///root/.jenkins/war/,AVAILABLE&#125;&#123;/root/.jenkins/war&#125;äºŒæœˆ 06, 2018 11:19:49 ä¸Šåˆ org.eclipse.jetty.server.AbstractConnector doStartä¿¡æ¯: Started ServerConnector@2baa8d82&#123;HTTP/1.1,[http/1.1]&#125;&#123;0.0.0.0:8080&#125;äºŒæœˆ 06, 2018 11:19:49 ä¸Šåˆ org.eclipse.jetty.server.Server doStartä¿¡æ¯: Started @6419msäºŒæœˆ 06, 2018 11:19:49 ä¸Šåˆ winstone.Logger logInternalä¿¡æ¯: Winstone Servlet Engine v4.0 running: controlPort=disabledäºŒæœˆ 06, 2018 11:19:52 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Started initializationäºŒæœˆ 06, 2018 11:19:52 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Listed all pluginsäºŒæœˆ 06, 2018 11:19:56 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Prepared all pluginsäºŒæœˆ 06, 2018 11:19:56 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Started all pluginsäºŒæœˆ 06, 2018 11:19:56 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Augmented all extensionsäºŒæœˆ 06, 2018 11:19:59 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Loaded all jobsäºŒæœˆ 06, 2018 11:19:59 ä¸Šåˆ hudson.eureka1-server.AsyncPeriodicWork$1 runä¿¡æ¯: Started Download metadataäºŒæœˆ 06, 2018 11:20:00 ä¸Šåˆ jenkins.InitReactorRunner$1 onAttainedä¿¡æ¯: Completed initializationäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.context.support.AbstractApplicationContext prepareRefreshä¿¡æ¯: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@fabd330: display name [Root WebApplicationContext]; startup date [Tue Feb 06 11:20:02 CST 2018]; root of context hierarchyäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactoryä¿¡æ¯: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@fabd330]: org.springframework.beans.factory.support.DefaultListableBeanFactory@1452b2bcäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletonsä¿¡æ¯: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1452b2bc: defining beans [authenticationManager]; root of factory hierarchyäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.context.support.AbstractApplicationContext prepareRefreshä¿¡æ¯: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@1a724d6e: display name [Root WebApplicationContext]; startup date [Tue Feb 06 11:20:02 CST 2018]; root of context hierarchyäºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactoryä¿¡æ¯: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@1a724d6e]: org.springframework.beans.factory.support.DefaultListableBeanFactory@7be61840äºŒæœˆ 06, 2018 11:20:02 ä¸Šåˆ org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletonsä¿¡æ¯: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@7be61840: defining beans [filter,legacy]; root of factory hierarchyäºŒæœˆ 06, 2018 11:20:03 ä¸Šåˆ jenkins.install.SetupWizard initä¿¡æ¯: ***************************************************************************************************************************************************************************************Jenkins initial setup is required. An admin user has been created and a password generated.Please use the following password to proceed to installation:00caaea4ac874d4db11cb31c27e5c7ceThis may also be found at: /root/.jenkins/secrets/initialAdminPassword***************************************************************************************************************************************************************************************äºŒæœˆ 06, 2018 11:21:34 ä¸Šåˆ hudson.eureka1-server.UpdateSite updateDataä¿¡æ¯: Obtained the latest update center data file for UpdateSource defaultäºŒæœˆ 06, 2018 11:21:37 ä¸Šåˆ hudson.eureka1-server.UpdateSite updateDataä¿¡æ¯: Obtained the latest update center data file for UpdateSource defaultäºŒæœˆ 06, 2018 11:21:37 ä¸Šåˆ hudson.WebAppMain$3 runä¿¡æ¯: Jenkins is fully up and runningäºŒæœˆ 06, 2018 11:21:37 ä¸Šåˆ hudson.eureka1-server.DownloadService$Downloadable loadä¿¡æ¯: Obtained the updated data file for hudson.tasks.Maven.MavenInstaller å¯åŠ¨æˆåŠŸåŽ,æµè§ˆå™¨è¾“å…¥http://192.168.64.128:8080,åˆ™ä¼šè¿›å…¥ä»¥ä¸‹ç•Œé¢:èŽ·å–å£ä»¤æœ‰å¥½å‡ ç§æ–¹å¼: ä¸Šè¿°å¯åŠ¨æ—¥å¿—é‡Œ,è¿™é‡Œå£ä»¤ä¸º:00caaea4ac874d4db11cb31c27e5c7ce /root/.jenkins/secrets/initialAdminPasswordå¤åˆ¶å£ä»¤å¡«å……è¿›åŽ»å¹¶ç‚¹å‡»ç»§ç»­åˆ™è¿›å…¥ä¸‹åˆ—ç•Œé¢:è¿™é‡Œæˆ‘ä»¬é€‰æ‹©å®‰è£…æŽ¨èçš„é»˜è®¤å®‰è£…æ–¹å¼,Jenkinså°±è‡ªåŠ¨é…ç½®å¥½äº†ä¸€äº›å¸¸ç”¨æ’ä»¶.æœ€åŽ,åˆ›å»ºä¸€ä¸ªadminç”¨æˆ·,å®Œæˆå®‰è£….Jenkinsé…ç½®å®‰è£…å®ŒæˆåŽ,æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é…ç½®ä¸€äº›æ’ä»¶.å¦‚JDK,Maven,Git,Gradleç­‰å¸¸ç”¨æ’ä»¶. é¦–é¡µâ€”â€”&gt;ç³»ç»Ÿç®¡ç†â€”-&gt; å…¨å±€å·¥å…·ç®¡ç†1234567891011# ä¸‹è½½maven-Dmaven.test.skip=truevi seting&lt;localRepository&gt;/usr/local/bin/apache-maven-3.5.2/repository&lt;/localRepository&gt; &lt;mirrors&gt; &lt;mirror&gt; &lt;id&gt;nexus-aliyun&lt;/id&gt; &lt;mirrorOf&gt;*&lt;/mirrorOf&gt; &lt;name&gt;Nexus aliyun&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt; &lt;/mirror&gt; &lt;/mirrors&gt; Gitæˆ‘ä»¬é€‰æ‹©é»˜è®¤å®‰è£…,JDKæ‰‹åŠ¨åŽ»é…ç½®. é¦–é¡µâ€”â€”&gt;ç³»ç»Ÿç®¡ç†â€”-&gt; ç®¡ç†æ’ä»¶â€”â€“&gt;å¯é€‰æ’ä»¶â€”-&gt;è¿‡æ»¤â€”â€”&gt;è¾“å…¥:Maven Integration pluginæˆ–è€…Git pluginâ€”â€“&gt;é€‰æ‹©æ€§å®‰è£…æ’ä»¶ æž„å»ºè‡ªåŠ¨åŒ–éƒ¨ç½²Gité¡¹ç›®åœ°å€: https://gitee.com/ltalex/GitCeShi.gitåœ¨Jenkinsé¦–é¡µé€‰æ‹©æ–°å»ºä»»åŠ¡,å¦‚ä¸‹ ä»¥ä¸‹é…ç½®è¡¨ç¤ºmavenæž„å»ºç»“æŸåŽæ‰§è¡Œçš„è„šæœ¬(Execute shell)1234/usr/local/eureka/stop.sh/usr/local/eureka/replace.sh# ç†è®ºæ¥è¯´å¯ä»¥è¿™æ ·å†™nohup java -jar xxx.jar &amp;,ä½†æ˜¯è¿™ç§é…ç½®åœ¨jenkisæ˜¯æ— æ•ˆçš„BUILD_ID=dontKillMe nohup /usr/local/eureka/startup.sh &amp; åœæ­¢è„šæœ¬123456789# å°†åº”ç”¨åœæ­¢#stop.sh#!/bin/bashecho &quot;Stopping SpringBoot Application&quot;pid=`ps -ef | grep eureka1-server.jar | grep -v grep | awk &apos;&#123;print $2&#125;&apos;`if [ -n &quot;$pid&quot; ]then kill -9 $pidfi å¤‡ä»½è„šæœ¬123456789#replace.sh ç”¨äºŽå°†ä¸Šæ¬¡æž„å»ºçš„ç»“æžœå¤‡ä»½ï¼Œç„¶åŽå°†æ–°çš„æž„å»ºç»“æžœç§»åŠ¨åˆ°åˆé€‚çš„ä½ç½®#!/bin/bash# å…ˆåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æžœå­˜åœ¨ï¼Œåˆ™å¤‡ä»½file=&quot;/usr/local/eureka/eureka1-server.jar&quot;if [ -f &quot;$file&quot; ]then mv /usr/local/eureka/eureka1-server.jar /usr/local/eureka/backup/eureka1-server.jar.`date +%Y%m%d%H%M%S`fimv /root/.jenkins/workspace/Test/target/eureka1-server.jar /usr/local/eureka/eureka1-server.jar å¯åŠ¨è„šæœ¬123456# startup.sh å¯åŠ¨é¡¹ç›®#!/bin/shecho &quot;æŽˆäºˆå½“å‰ç”¨æˆ·æƒé™&quot;chmod 777 /usr/local/eureka/eureka1-server.jarecho &quot;æ‰§è¡Œ.....&quot;java -jar /usr/local/eureka/eureka1-server.jar ç‚¹å‡»ç«‹å³æž„å»º,Consoleä¼šå‡ºçŽ°å¦‚ä¸‹ä¿¡æ¯: éƒ¨ç½²æˆåŠŸåŽ,è®¿é—®http://192.168.64.128:8099/,å¦‚ä¸‹å›¾: é‡åˆ°çš„é—®é¢˜ åœ¨éƒ¨ç½²çš„æ—¶å€™ä¼šå‡ºçŽ°java -jarå‡ºçŽ°æ²¡æœ‰ä¸»æ¸…å•å±žæ€§çš„é—®é¢˜,é‚£æ˜¯å› ä¸ºé¡¹ç›®ä¸­Pomæ–‡ä»¶æ²¡æœ‰é…ç½®SpringBootæ’ä»¶,å¯¼è‡´åœ¨jaråŒ…ä¸­MANIFEST.MFæ–‡ä»¶æ²¡æœ‰å¯åŠ¨ä¿¡æ¯12java -jar eureka1-server.jareureka1-server.jarä¸­æ²¡æœ‰ä¸»æ¸…å•å±žæ€§ è§£å†³æ–¹æ¡ˆ:1234567891011&lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;repackage&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt;&lt;/plugin&gt; æž„å»ºæˆåŠŸåŽçš„è„šæœ¬,å³Execute shellå°½é‡æ‰§è¡Œè¿œç¨‹çš„shellè„šæœ¬,ä¸è¦ç›´æŽ¥åœ¨é‡Œé¢å¯åŠ¨é¡¹ç›®,å› ä¸ºé¡¹ç›®å¯åŠ¨åŽä¼šä¸€ç›´åœç•™,Jenkinså°±æ˜¯æž„å»ºæˆåŠŸä¹Ÿä¸ä¼šåœæ­¢å½“å‰é¡¹ç›®çš„æž„å»ºçŠ¶æ€. å¯ä»¥å®šåˆ¶æž„å»ºå‡ºå‘å™¨,å½“æˆ‘ä»¬å¸Œæœ›pushä¸€äº›ä¸œè¥¿èƒ½å¤Ÿç«‹é©¬æž„å»ºé¡¹ç›®æ—¶,å¯åœ¨æž„å»ºè§¦å‘å™¨ä¸­å‹¾é€‰Poll SCMæ—¥ç¨‹è¡¨è¡¨å¡«å†™è¡¨è¾¾å¼:* * * * *","categories":[{"name":"ops","slug":"ops","permalink":"http://ltyeamin.github.io/categories/ops/"}],"tags":[{"name":"Jenkins","slug":"Jenkins","permalink":"http://ltyeamin.github.io/tags/Jenkins/"}]},{"title":"æµ…è°ˆåŒ¿åå‡½æ•°,Lambdaå’Œé—­åŒ…(Closure)","slug":"æµ…è°ˆåŒ¿åå‡½æ•°,Lambda,é—­åŒ…(Closure)","date":"2018-01-30T09:46:04.000Z","updated":"2019-05-29T14:03:52.000Z","comments":true,"path":"2018/01/30/æµ…è°ˆåŒ¿åå‡½æ•°,Lambda,é—­åŒ…(Closure)/","link":"","permalink":"http://ltyeamin.github.io/2018/01/30/æµ…è°ˆåŒ¿åå‡½æ•°,Lambda,é—­åŒ…(Closure)/","excerpt":"","text":"å‡ ä¹Žæ‰€æœ‰çš„ä¸»æµç¼–ç¨‹è¯­è¨€éƒ½å¯¹å‡½æ•°å¼ç¼–ç¨‹æœ‰æ”¯æŒ,æˆ‘æ‰€ç”¨è¿‡çš„æ¯”å¦‚Java8çš„Lambdaè¡¨è¾¾å¼,JavaScriptå’ŒGroovyè¯­è¨€çš„é—­åŒ…(Closure)ç­‰,å…¶ä»–çš„ç±»ä¼¼äºŽObject-Cçš„block,pythonçš„Lambdaå’ŒC++11,çœ‹åˆ°è¿™äº›,æˆ‘éƒ½æœ‰ç‚¹çœ©æ™•æƒ³åçš„æ„Ÿè§‰. åŒ¿åå‡½æ•°,Lambda,é—­åŒ…(Closure)åŒºåˆ«ä»Žè¡¨è±¡ä¸Šè¯´Lambdaå’ŒClosureæ˜¯ä¸€ä¸ªä¸œè¥¿,åªæ˜¯è¯­è¨€ä¸åŒç½¢äº†,å®ƒä»¬éƒ½å¯ä»¥åŽ»æ›¿ä»£åŒ¿åå‡½æ•°ç”¨äºŽç®€åŒ–ä¹¦å†™,åŒ¿åå‡½æ•°å†…éƒ¨å¯ä»¥è®¿é—®åˆ°å¤–éƒ¨å˜é‡.ä»Žè€Œå½¢æˆä¸€ä¸ªâ€é—­åŒ…â€.è®°ä½,è¿™åªæ˜¯è¡¨è±¡.ä¸‹é¢å°±è®©ä½ æ€€ç–‘äººç”Ÿ?çœŸçš„æ˜¯ä¸€æ ·å—? Javaä¸­Lambdaè¡¨è¾¾å¼æµ…è°ˆå…¶å®žJavaåœ¨å¾ˆæ—©çš„ç‰ˆæœ¬å°±æ”¯æŒé—­åŒ…,åªæ˜¯å› ä¸ºåº”ç”¨åœºæ™¯å¤ªå°‘äº†,æ‰€ä»¥è¿™ä¸ªæ¦‚å¿µæ‰ä»ŽJava8æŽ¨å¹¿.è¯ä¸å¤šè¯´,å…ˆä¸Šä»£ç : 12345678910111213141516171819202122public static Supplier&lt;Integer&gt; testClosure()&#123; final int i = 1; return new Supplier&lt;Integer&gt;() &#123; @Override public Integer get() &#123; return i; &#125; &#125;;&#125;public interface Supplier&lt;T&gt; &#123; T get();&#125; ä¸Šè¿°ä»£ç ä¸­,å˜é‡iæ˜¯testClosure()çš„å±€éƒ¨å˜é‡,ä½†æ˜¯æœ€ç»ˆè¿”å›žé‡Œçš„åŒ¿åå¯¹è±¡é‡Œ,ä»ç„¶è¿”å›žäº†i.æˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œå…¶ä½œç”¨åŸŸä»…é™äºŽå‡½æ•°å†…éƒ¨ï¼Œåœ¨å‡½æ•°ç»“æŸæ—¶ï¼Œå±€éƒ¨å˜é‡iä»Žæ ˆå†…å­˜æ¶ˆå¤±äº†,å°±åº”è¯¥æ˜¯ä¸å¯è§çŠ¶æ€ï¼Œè€Œé—­åŒ…åˆ™å°†içš„ç”Ÿå­˜å‘¨æœŸå»¶é•¿äº†ï¼Œå¹¶ä¸”ä½¿å¾—å˜é‡å¯ä»¥è¢«å¤–éƒ¨å‡½æ•°æ‰€å¼•ç”¨ã€‚åœ¨JDK8ä¹‹å‰,å¦‚æžœè®¿é—®i,å˜é‡iå¿…é¡»åŠ finalå…³é”®å­—ä¿®é¥°,è®©iæˆä¸ºå˜ä¸ºå¸¸é‡æ± ä¸­çš„å¸¸é‡ä»¥å»¶è¿Ÿiçš„ç”Ÿå‘½å‘¨æœŸ.è€Œåœ¨JDK8ä¸­ä»¥Lambdaè¡¨è¾¾å¼æ–¹å¼å†™,iåˆ™ä¸éœ€è¦åŠ ,è¿™é‡Œåªæ˜¯ä¸ªè¯­æ³•ç³–,å› ä¸ºåº•å±‚.classæ–‡ä»¶ä¼šè‡ªåŠ¨æŽ¨æ–­åŠ ä¸Š.åœ¨Javaçš„ç»å…¸è‘—ä½œã€ŠEffective Javaã€‹ã€ã€ŠJava Concurrency in Practiceã€‹é‡Œï¼Œå¤§ç¥žä»¬éƒ½æåˆ°ï¼šåŒ¿åå‡½æ•°é‡Œçš„å˜é‡å¼•ç”¨ï¼Œä¹Ÿå«åšå˜é‡å¼•ç”¨æ³„éœ²ï¼Œä¼šå¯¼è‡´çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå› æ­¤åœ¨Java8ä¹‹å‰ï¼Œå¦‚æžœåœ¨åŒ¿åç±»å†…éƒ¨å¼•ç”¨å‡½æ•°å±€éƒ¨å˜é‡ï¼Œå¿…é¡»å°†å…¶å£°æ˜Žä¸ºfinalï¼Œå³ä¸å¯å˜å¯¹è±¡ã€‚(Pythonå’ŒJavascriptä»Žä¸€å¼€å§‹å°±æ˜¯ä¸ºå•çº¿ç¨‹è€Œç”Ÿçš„è¯­è¨€ï¼Œä¸€èˆ¬ä¹Ÿä¸ä¼šè€ƒè™‘è¿™æ ·çš„é—®é¢˜ï¼Œæ‰€ä»¥å®ƒçš„å¤–éƒ¨å˜é‡æ˜¯å¯ä»¥ä»»æ„ä¿®æ”¹çš„)ã€‚å¦‚æžœç”¨Java8çš„Lambdaæ”¹å†™ä¸Šè¿°ä»£ç ,åˆ™ä¸º:1234567891011public static Supplier&lt;Integer&gt; testClosure() &#123; int i = 1; return () -&gt; &#123; //å•ä¸ªè¯­å¥,å¯ä»¥çœç•¥&#123;&#125; return i; &#125;;&#125; Wow,çªç„¶æ„Ÿè§‰æ”¹å†™åŽçš„ä»£ç ç®€æ´æ˜Žäº†,é«˜ç«¯å¤§æ°”ä¸Šæ¡£æ¬¡.","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://ltyeamin.github.io/tags/Java/"}]},{"title":"Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“","slug":"Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“","date":"2018-01-30T01:27:55.000Z","updated":"2019-05-29T14:03:53.000Z","comments":true,"path":"2018/01/30/Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“/","link":"","permalink":"http://ltyeamin.github.io/2018/01/30/Spring Cloud-ä½¿ç”¨é«˜æ€§èƒ½çš„OkHttpåº“/","excerpt":"","text":"æœ€è¿‘åœ¨åšé¡¹ç›®ä¼˜åŒ–,ç ”ç©¶äº†Spring Cloudåº•å±‚æºç ,Httpè¯·æ±‚åº“é»˜è®¤æ˜¯Apache HttpClientæˆ–è€…JDKè‡ªå¸¦çš„HttpURLConnectionåº“.Javaæ ‡å‡†åº“æä¾›äº†HttpURLConnectionç±»æ¥æ”¯æŒHTTPé€šè®¯ã€‚ä¸è¿‡HttpURLConnectionæœ¬èº«çš„APIä¸å¤Ÿå‹å¥½ï¼Œæ‰€æä¾›çš„åŠŸèƒ½ä¹Ÿæœ‰é™ã€‚å¤§éƒ¨åˆ†Javaç¨‹åºéƒ½é€‰æ‹©ä½¿ç”¨Apacheçš„å¼€æºé¡¹ç›®HttpClientä½œä¸ºHTTPå®¢æˆ·ç«¯ã€‚ApacheHttpClientåº“çš„åŠŸèƒ½å¼ºå¤§ï¼Œä½¿ç”¨çŽ‡ä¹Ÿå¾ˆé«˜ï¼ŒåŸºæœ¬ä¸Šæ˜¯Javaå¹³å°ä¸­äº‹å®žä¸Šçš„æ ‡å‡†HTTPå®¢æˆ·ç«¯,ä½†æ˜¯åšAndroidçš„å°ä¼™ä¼´æ—©å·²ç»æ·˜æ±°è¯¥åº“äº†,å°±æ˜¯å› ä¸ºå…¶APIæ•°é‡è¿‡å¤šè¿‡äºŽç¹é‡,ä½¿å¾—æˆ‘ä»¬å¾ˆéš¾åœ¨ä¸ç ´åå…¼å®¹æ€§çš„æƒ…å†µä¸‹å¯¹å®ƒè¿›è¡Œå‡çº§å’Œæ‰©å±•,å› è€Œå›¢é˜Ÿä¸æ„¿æ„åŽ»ç»´æŠ¤è¯¥åº“.æœ¬ç« ä»‹ç»çš„æ˜¯ç”± Square å…¬å¸å¼€å‘çš„OkHttpï¼Œæ˜¯ä¸€ä¸ªä¸“æ³¨äºŽæ€§èƒ½å’Œæ˜“ç”¨æ€§çš„ HTTP å®¢æˆ·ç«¯ã€‚OkHttp åº“çš„è®¾è®¡å’Œå®žçŽ°çš„é¦–è¦ç›®æ ‡æ˜¯é«˜æ•ˆ.æ”¯æŒSPDY,,å¯ä»¥åˆå¹¶å¤šä¸ªåˆ°åŒä¸€ä¸ªä¸»æœºçš„è¯·æ±‚, ä½¿ç”¨è¿žæŽ¥æ± æŠ€æœ¯å‡å°‘è¯·æ±‚çš„å»¶è¿Ÿ(å¦‚æžœSPDYæ˜¯å¯ç”¨çš„è¯),ä½¿ç”¨GZIPåŽ‹ç¼©å‡å°‘ä¼ è¾“çš„æ•°æ®é‡,ç¼“å­˜å“åº”é¿å…é‡å¤çš„ç½‘ç»œè¯·æ±‚,å½“ç½‘ç»œå‡ºçŽ°é—®é¢˜æ—¶ï¼ŒOkHttp ä¼šè‡ªåŠ¨é‡è¯•ä¸€ä¸ªä¸»æœºçš„å¤šä¸ªIPåœ°å€ã€‚ OkHttpåœ¨Zuulä¸­çš„åº”ç”¨è¯è¯´è‡³æ­¤,æœ‰äº›äººå¯èƒ½åˆç–‘é—®?æˆ‘æ€Žä¹ˆçŸ¥é“é»˜è®¤åº•å±‚ç”¨çš„æ˜¯çš„Apache Client?æˆ‘åœ¨å…¬å¸è´Ÿè´£Zuulç½‘å…³æ¨¡å—,Zuulçš„åŠ¨æ€è·¯ç”±è½¬å‘ç”¨Ribbonè°ƒç”¨.æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£,å¦‚ä¸‹: 19.3 Zuul Http ClientThe default HTTP client used by zuul is now backed by the Apache HTTP Client instead of the deprecated Ribbon RestClient. To use RestClient or to use the okhttp3.OkHttpClient set ribbon.restclient.enabled=true or ribbon.okhttp.enabled=true respectively. If you would like to customize the Apache HTTP client or the OK HTTP client provide a bean of type ClosableHttpClient or OkHttpClient.1234567å‚ç…§ä¸Šè¿°å®˜æ–¹æ–‡æ¡£è¯´æ˜Ž,è§£å†³æ–¹æ¡ˆå·²ç»æ˜Žäº†,å…·ä½“å®žæ–½å¦‚ä¸‹:1.ç¡®ä¿ä½ çš„é¡¹ç›®æœ‰okhttpä¾èµ–:&lt;!-- OkHttp --&gt;&lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt;&lt;/dependency&gt; application.ymlæ·»åŠ ribboné…ç½® 12345ribbon: httpclient: enabled: false # é»˜è®¤å¼€å¯éœ€è¦ç¦ç”¨ okhttp: enabled: true æµ‹è¯•æ›¿æ¢æ˜¯å¦æˆåŠŸa,å°†GateWayæœåŠ¡æ—¥å¿—è®¾ç½®ä¸ºDEBUGæ¨¡å¼è¿›è¡Œè°ƒç”¨,æŸ¥çœ‹æ—¥å¿—ä¼šæœ‰è®¸å¤šæœ‰å…³OkHttpçš„ä¸œè¥¿,ä½†æ—¥å¿—æ‰“å°å¤ªå¤š,ä¸æ˜“æ•èŽ·,ä¸æ˜“è§‚å¯Ÿ 12345678910111213141516RibbonCommandFactoryConfiguration.HttpClientRibbonConfiguration matched:- AnyNestedCondition 1 matched 1 did not; NestedCondition on RibbonCommandFactoryConfiguration.OnRibbonHttpClientCondition.RibbonProperty@ConditionalOnProperty (ribbon.httpclient.enabled) found different value in property &apos;ribbon.httpclient.enabled&apos;; NestedCondition on RibbonCommandFactoryConfiguration.OnRibbonHttpClientCondition.ZuulProperty @ConditionalOnProperty (zuul.ribbon.httpclient.enabled) matched (RibbonCommandFactoryConfiguration.OnRibbonHttpClientCondition)RibbonCommandFactoryConfiguration.OkHttpRibbonConfigurationmatched:-@ConditionalOnClass found required class &apos;okhttp3.OkHttpClient&apos;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)- AnyNestedCondition 1 matched 1 did not; NestedCondition on RibbonCommandFactoryConfiguration.OnRibbonOkHttpClientCondition.RibbonProperty@ConditionalOnProperty (ribbon.okhttp.enabled) matched; NestedCondition on RibbonCommandFactoryConfiguration.OnRibbonOkHttpClientCondition.ZuulProperty @ConditionalOnProperty (zuul.ribbon.okhttp.enabled) did not find property &apos;zuul.ribbon.okhttp.enabled&apos; (RibbonCommandFactoryConfiguration.OnRibbonOkHttpClientCondition) b,Debugå¯åŠ¨GateWayæœåŠ¡,é€šè¿‡æºç æ–¹å¼æŸ¥çœ‹RibbonCommandFactoryConfigurationå®žé™…é…ç½®çš„Httpå®¢æˆ·ç«¯123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138package org.springframework.cloud.netflix.zuul;import java.lang.annotation.Documented;import java.lang.annotation.ElementType;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;import java.lang.annotation.Target;import java.util.Collections;import java.util.Set;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.autoconfigure.condition.AnyNestedCondition;import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;import org.springframework.cloud.netflix.ribbon.SpringClientFactory;import org.springframework.cloud.netflix.zuul.filters.ZuulProperties;import org.springframework.cloud.netflix.zuul.filters.route.RestClientRibbonCommandFactory;import org.springframework.cloud.netflix.zuul.filters.route.RibbonCommandFactory;import org.springframework.cloud.netflix.zuul.filters.route.ZuulFallbackProvider;import org.springframework.cloud.netflix.zuul.filters.route.apache.HttpClientRibbonCommandFactory;import org.springframework.cloud.netflix.zuul.filters.route.okhttp.OkHttpRibbonCommandFactory;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Conditional;import org.springframework.context.annotation.Configuration;/** * @author Dave Syer * */public class RibbonCommandFactoryConfiguration &#123; @Configuration @ConditionalOnRibbonRestClient protected static class RestClientRibbonConfiguration &#123; @Autowired(required = false) private Set&lt;ZuulFallbackProvider&gt; zuulFallbackProviders = Collections.emptySet(); @Bean @ConditionalOnMissingBean public RibbonCommandFactory&lt;?&gt; ribbonCommandFactory( SpringClientFactory clientFactory, ZuulProperties zuulProperties) &#123; return new RestClientRibbonCommandFactory(clientFactory, zuulProperties, zuulFallbackProviders); &#125; &#125; @Configuration @ConditionalOnRibbonOkHttpClient @ConditionalOnClass(name = &quot;okhttp3.OkHttpClient&quot;) protected static class OkHttpRibbonConfiguration &#123; @Autowired(required = false) private Set&lt;ZuulFallbackProvider&gt; zuulFallbackProviders = Collections.emptySet(); @Bean @ConditionalOnMissingBean public RibbonCommandFactory&lt;?&gt; ribbonCommandFactory( SpringClientFactory clientFactory, ZuulProperties zuulProperties) &#123; return new OkHttpRibbonCommandFactory(clientFactory, zuulProperties, zuulFallbackProviders); &#125; &#125; @Configuration @ConditionalOnRibbonHttpClient protected static class HttpClientRibbonConfiguration &#123; @Autowired(required = false) private Set&lt;ZuulFallbackProvider&gt; zuulFallbackProviders = Collections.emptySet(); @Bean @ConditionalOnMissingBean public RibbonCommandFactory&lt;?&gt; ribbonCommandFactory( SpringClientFactory clientFactory, ZuulProperties zuulProperties) &#123; return new HttpClientRibbonCommandFactory(clientFactory, zuulProperties, zuulFallbackProviders); &#125; &#125; @Target(&#123; ElementType.TYPE, ElementType.METHOD &#125;) @Retention(RetentionPolicy.RUNTIME) @Documented @Conditional(OnRibbonHttpClientCondition.class) @interface ConditionalOnRibbonHttpClient &#123; &#125; private static class OnRibbonHttpClientCondition extends AnyNestedCondition &#123; public OnRibbonHttpClientCondition() &#123; super(ConfigurationPhase.PARSE_CONFIGURATION); &#125; @Deprecated //remove in Edgware&quot; @ConditionalOnProperty(name = &quot;zuul.ribbon.httpclient.enabled&quot;, matchIfMissing = true) static class ZuulProperty &#123;&#125; @ConditionalOnProperty(name = &quot;ribbon.httpclient.enabled&quot;, matchIfMissing = true) static class RibbonProperty &#123;&#125; &#125; @Target(&#123; ElementType.TYPE, ElementType.METHOD &#125;) @Retention(RetentionPolicy.RUNTIME) @Documented @Conditional(OnRibbonOkHttpClientCondition.class) @interface ConditionalOnRibbonOkHttpClient &#123; &#125; private static class OnRibbonOkHttpClientCondition extends AnyNestedCondition &#123; public OnRibbonOkHttpClientCondition() &#123; super(ConfigurationPhase.PARSE_CONFIGURATION); &#125; @Deprecated //remove in Edgware&quot; @ConditionalOnProperty(&quot;zuul.ribbon.okhttp.enabled&quot;) static class ZuulProperty &#123;&#125; @ConditionalOnProperty(&quot;ribbon.okhttp.enabled&quot;) static class RibbonProperty &#123;&#125; &#125; @Target(&#123; ElementType.TYPE, ElementType.METHOD &#125;) @Retention(RetentionPolicy.RUNTIME) @Documented @Conditional(OnRibbonRestClientCondition.class) @interface ConditionalOnRibbonRestClient &#123; &#125; private static class OnRibbonRestClientCondition extends AnyNestedCondition &#123; public OnRibbonRestClientCondition() &#123; super(ConfigurationPhase.PARSE_CONFIGURATION); &#125; @Deprecated //remove in Edgware&quot; @ConditionalOnProperty(&quot;zuul.ribbon.restclient.enabled&quot;) static class ZuulProperty &#123;&#125; @ConditionalOnProperty(&quot;ribbon.restclient.enabled&quot;) static class RibbonProperty &#123;&#125; &#125; &#125; è§£è¯»:æˆ‘ä»¬å¾ˆæ¸…æ¥šZuulçš„è´Ÿè½½å‡è¡¡å®žçŽ°å°±é€šè¿‡Ribbonçš„å®žçŽ°,æ‰€ä»¥Httpå®¢æˆ·ç«¯çš„é…ç½®è‡ªç„¶ä¹Ÿæ˜¯å¯¹Ribbonç»„ä»¶çš„é…ç½®,æºä»£ç ä¸­å¾ˆæ˜Žæ˜¾éƒ½æ˜¯é€šè¿‡@Conditionalå®žçŽ°äº†æ¡ä»¶åŠ è½½,å…¶ä¸­è¯¥ç±»æä¾›äº†ä¸æ­¢ä¸€ç§çš„Httpå®¢æˆ·ç«¯(RestClient,é»˜è®¤çš„HttpClient,OkhttpClient)é…ç½®å®žçŽ°.è¦æƒ³ç¡®ä¿æ”¹é€ æˆåŠŸ,åˆ™éœ€è¦åœ¨å…¶å†…éƒ¨ç±»OkHttpRibbonConfigurationä¸­çš„RibbonCommandFactoryæ‰“ä¸Šç«¯ç‚¹,çœ‹æœ‰æ²¡æœ‰è¿›å³å¯. Feignä¸­Okhttpåº”ç”¨å¤§å®¶ä¹Ÿéƒ½çŸ¥é“Feginçš„åº•å±‚ä¹Ÿæ˜¯Ribbon,ä¸Šè¿°æ–¹å¼å¯ä»¥è§£å†³,ä½†æ˜¯æ›´æŽ¨èFeignç«¯å¼€å§‹è§£å†³. é¦–å…ˆåœ¨æœåŠ¡è°ƒç”¨æ–¹åŠ å…¥ä»¥ä¸‹ä¾èµ– 12345&lt;!-- feignæ•´åˆOkHttp --&gt;&lt;dependency&gt; &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt; &lt;artifactId&gt;feign-okhttp&lt;/artifactId&gt;&lt;/dependency&gt; åœ¨application.ymlæ–‡ä»¶é…ç½® 12345feign: httpclient: enabled: false okhttp: enabled: true æµ‹è¯•æ˜¯å¦é…ç½®æˆåŠŸa, å¯åŠ¨æœåŠ¡è¿›è¡ŒæŽ¥å£è°ƒç”¨,å¯ä»¥åˆ†æžæ—¥å¿— 1234567891011121314151617181920[2018-01-30 13:04:03.398] [DEBUG] [restartedMain] o.s.c.e.PropertySourcesPropertyResolver -Found key &apos;feign.okhttp.enabled&apos; in [applicationConfigurationProperties] with type [String][2018-01-30 13:04:03.398] [DEBUG] [restartedMain] o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean &apos;autoConfigurationReport&apos;[2018-01-30 13:04:03.398] [DEBUG] [restartedMain] o.s.c.a.ConfigurationClassBeanDefinitionReader - Registered bean definition for imported class &apos;org.springframework.cloud.netflix.feign.ribbon.FeignRibbonClientAutoConfiguration$OkHttpFeignLoadBalancedConfiguration&apos;[2018-01-30 13:04:03.399] [DEBUG] [restartedMain] o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean &apos;org.springframework.boot.autoconfigure.condition.BeanTypeRegistry&apos;[2018-01-30 13:04:03.399] [DEBUG] [restartedMain] o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean &apos;org.springframework.boot.autoconfigure.condition.BeanTypeRegistry&apos;[2018-01-30 13:04:03.399] [DEBUG] [restartedMain] o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean &apos;autoConfigurationReport&apos;[2018-01-30 13:04:03.399] [DEBUG] [restartedMain] o.s.c.a.ConfigurationClassBeanDefinitionReader -Registering bean definition for @Bean method org.springframework.cloud.netflix.feign.ribbon.FeignRibbonClientAutoConfiguration$OkHttpFeignLoadBalancedConfigur å¦‚ä¸Šè¿°æ—¥å¿—æ–‡ä»¶Found key â€˜feign.okhttp.enabledâ€™å¯ä»¥çœ‹å‡ºæ›¿æ¢æˆåŠŸ.b, åˆ†æžè°ƒç”¨æºç æ¥æµ‹è¯•æ˜¯å¦æˆåŠŸæ›¿æ¢æˆOkhttpå…¶è‡ªåŠ¨è£…é…æºç åœ¨FeignRibbonClientAutoConfigurationä¸­12345678910111213141516171819@ConditionalOnClass(&#123; ILoadBalancer.class, Feign.class &#125;)@Configuration@AutoConfigureBefore(FeignAutoConfiguration.class)//Order is important here, last should be the default, first should be optional@Import(&#123; HttpClientFeignLoadBalancedConfiguration.class, OkHttpFeignLoadBalancedConfiguration.class, DefaultFeignLoadBalancedConfiguration.class &#125;)public class FeignRibbonClientAutoConfiguration &#123; @Bean @ConditionalOnMissingBean public Client feignClient(CachingSpringLoadBalancerFactory cachingFactory, SpringClientFactory clientFactory) &#123; //Feigné»˜è®¤çš„å®¢æˆ·ç«¯æ˜¯Client.Default return new LoadBalancerFeignClient(new Client.Default(null, null), cachingFactory, clientFactory); &#125; //çœç•¥ç±»ä¸­çš„å†…å®¹...&#125; ä»Žè¯¥ç±»ä¸­çš„æ³¨é‡Šå¯ä»¥çœ‹å‡º,DefaultFeignLoadBalancedConfiguration.classæ˜¯é»˜è®¤é…ç½®,HttpClientFeignLoadBalancedConfiguration.classæ˜¯å¯é€‰çš„.Debugå¯åŠ¨æœåŠ¡å¹¶è¿›è¡Œè¿œç¨‹Feignçš„ä¸€è·¯è°ƒç”¨å‘çŽ°,ä¼šèµ°å¦‚ä¸‹çš„æ–¹æ³•:123456789101112131415161718192021222324252627282930313233343536373839404142final class SynchronousMethodHandler implements MethodHandler &#123; @Override public Object invoke(Object[] argv) throws Throwable &#123; RequestTemplate template = buildTemplateFromArgs.create(argv); Retryer retryer = this.retryer.clone(); while (true) &#123; try &#123; return executeAndDecode(template); &#125; catch (RetryableException e) &#123; retryer.continueOrPropagate(e); if (logLevel != Logger.Level.NONE) &#123; logger.logRetry(metadata.configKey(), logLevel); &#125; continue; &#125; &#125; &#125; Object executeAndDecode(RequestTemplate template) throws Throwable &#123; Request request = targetRequest(template); if (logLevel != Logger.Level.NONE) &#123; logger.logRequest(metadata.configKey(), logLevel, request); &#125; Response response; long start = System.nanoTime(); try &#123; response = client.execute(request, options); // ensure the request is set. TODO: remove in Feign 10 response.toBuilder().request(request).build(); &#125; catch (IOException e) &#123; if (logLevel != Logger.Level.NONE) &#123; logger.logIOException(metadata.configKey(), logLevel, e, elapsedTime(start)); &#125; throw errorExecuting(request, e); &#125; //çœç•¥ä»£ç ...... &#125;&#125; æˆ‘ä»¬å‘çŽ°SynchronousMethodHandlerä¸­çš„invoke()æ–¹æ³•åˆåŽ»è°ƒç”¨executeAndDecode()æ–¹æ³•,åœ¨æ‰§è¡Œä¸‹åˆ—ä¸€æ®µä»£ç çš„æ—¶å€™,ä½ ä¼šå‘çŽ°åˆ°åº•æ˜¯ç”¨å“ªä¸ªHttpå®¢æˆ·ç«¯è¿›è¡Œè°ƒç”¨1response = client.execute(request, options); Clientæ˜¯Feignçš„ClientæŽ¥å£å£°æ˜Ž,è¿™æ—¶å€™ä¼šæœ‰å¥½å‡ ä¸ªå®žçŽ°:Default,LoadBalancerFeignClinet,OkHttpClient,TraceFeignClient.è¿™ä¸‹æ˜Žæ˜¾äº†,å¦‚æžœä½ çš„classpathä¸‹æœ‰okhttpçš„ä¾èµ–,åˆ™ä¼šèµ°feign.okhttp.OkHttpClient.execute()æ–¹æ³•,å¦‚æžœæ²¡æœ‰ä¾èµ–,å°±ä¼šèµ°feign.Client.Default.execute()æ–¹æ³•.okhttpæ²¡ä»€ä¹ˆè¯´çš„,å¯ä»¥çœ‹ä¸€ä¸‹é»˜è®¤çš„Feign Client - Defaultä¸­çš„execute()ä»£ç ç‰‡æ®µ:12345@Override public Response execute(Request request, Options options) throws IOException &#123; HttpURLConnection connection = convertAndSend(request, options); return convertResponse(connection).toBuilder().request(request).build(); &#125; ç”±ä¸Šé¢ä»£ç ç‰‡æ®µå¯ä»¥å¾—å‡º,Spring Cloudé»˜è®¤Feignçš„å®¢æˆ·ç«¯æ˜¯HttpURLConnectionæž„å»ºçš„.éœ€è¦æ³¨æ„çš„æ˜¯,æ— è®ºFeignæ˜¯å“ªç§Client,é»˜è®¤éƒ½æ˜¯å¼€å¯çš„,é‡ç‚¹åœ¨äºŽclasspathä¸‹çš„ä¾èµ–,è€Œä¸æ˜¯application.ymlé‡Œçš„å¼€å…³é…ç½®.ä¹‹æ‰€ä»¥é…ç½®å¼€å…³æ˜¯å› ä¸ºå…³é—­æŽ‰æ— ç”¨çš„Client. é»˜è®¤é…ç½®è§£è¯´Feign è¯»å–æ—¶é—´é…ç½®ï¼šé»˜è®¤è¯»å–è¿žæŽ¥æ—¶é—´10s,é»˜è®¤è¿žæŽ¥è¯»å–æ—¶é—´60sæºç :123456789101112131415161718public final class Request &#123; public static class Options &#123; private final int connectTimeoutMillis; private final int readTimeoutMillis; public Options(int connectTimeoutMillis, int readTimeoutMillis) &#123; this.connectTimeoutMillis = connectTimeoutMillis; this.readTimeoutMillis = readTimeoutMillis; &#125; //é»˜è®¤æž„é€ å™¨æ—¶é—´ public Options() &#123; this(10 * 1000, 60 * 1000); &#125; &#125;&#125; æ‰‹åŠ¨è®¾ç½®é»˜è®¤çš„è¯»å–æ—¶é—´å’Œè¿žæŽ¥æ—¶é—´:1234@Beanpublic Request.Options options() &#123; Request.Options options = new Request.Options(5 * 1000, 5 * 1000);&#125; æ‰‹åŠ¨é…ç½®Okhttp312345678910111213141516171819@Configuration@ConditionalOnClass(Feign.class)@AutoConfigureBefore(FeignAutoConfiguration.class)public class FeignOkHttpConfig &#123; @Autowired OkHttpLoggingInterceptor okHttpLoggingInterceptor; @Bean public okhttp3.OkHttpClient okHttpClient()&#123; return new okhttp3.OkHttpClient.Builder() .readTimeout(60, TimeUnit.SECONDS) //è®¾ç½®è¯»å–è¶…æ—¶æ—¶é—´ .connectTimeout(60, TimeUnit.SECONDS) //è®¾ç½®è¿žæŽ¥è¶…æ—¶æ—¶é—´ .writeTimeout(120, TimeUnit.SECONDS) .connectionPool(new ConnectionPool()) // .addInterceptor(); //æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨ .build(); &#125;&#125; å‚è€ƒæ–‡çŒ®:å®˜æ–¹æ–‡æ¡£Feignäº§ç”Ÿçš„é—®é¢˜Feignæºç è§£è¯»","categories":[{"name":"backend","slug":"backend","permalink":"http://ltyeamin.github.io/categories/backend/"}],"tags":[{"name":"Spring Cloud","slug":"Spring-Cloud","permalink":"http://ltyeamin.github.io/tags/Spring-Cloud/"}]},{"title":"ES6æ–°çš„æ•°æ®ç±»åž‹-generator","slug":"ES6æ–°çš„æ•°æ®ç±»åž‹-generator","date":"2017-12-15T07:39:23.000Z","updated":"2019-05-29T14:03:53.000Z","comments":true,"path":"2017/12/15/ES6æ–°çš„æ•°æ®ç±»åž‹-generator/","link":"","permalink":"http://ltyeamin.github.io/2017/12/15/ES6æ–°çš„æ•°æ®ç±»åž‹-generator/","excerpt":"","text":"æ–°çš„æ•°æ®ç±»åž‹-generatorgeneratorï¼ˆç”Ÿæˆå™¨ï¼‰æ˜¯ES6æ ‡å‡†å¼•å…¥çš„æ–°çš„æ•°æ®ç±»åž‹ã€‚ä¸€ä¸ªgeneratorçœ‹ä¸ŠåŽ»åƒä¸€ä¸ªå‡½æ•°ï¼Œä½†å¯ä»¥è¿”å›žå¤šæ¬¡.ES6å®šä¹‰generatoræ ‡å‡†çš„å“¥ä»¬å€Ÿé‰´äº†Pythonçš„generatorçš„æ¦‚å¿µå’Œè¯­æ³•.æˆ‘ä»¬å…ˆå¤ä¹ å‡½æ•°çš„æ¦‚å¿µã€‚ä¸€ä¸ªå‡½æ•°æ˜¯ä¸€æ®µå®Œæ•´çš„ä»£ç ï¼Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°å°±æ˜¯ä¼ å…¥å‚æ•°ï¼Œç„¶åŽè¿”å›žç»“æžœ:1234function foo(x) &#123; return x + x;&#125;var r = foo(1); // è°ƒç”¨fooå‡½æ•° å‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æžœæ²¡æœ‰é‡åˆ°returnè¯­å¥ï¼ˆå‡½æ•°æœ«å°¾å¦‚æžœæ²¡æœ‰returnï¼Œå°±æ˜¯éšå«çš„return undefined;ï¼‰ï¼ŒæŽ§åˆ¶æƒæ— æ³•äº¤å›žè¢«è°ƒç”¨çš„ä»£ç ã€‚generatorè·Ÿå‡½æ•°å¾ˆåƒï¼Œå®šä¹‰å¦‚ä¸‹:12345function* foo(x) &#123; yield x + 1; yield x + 2; return x + 3;&#125; generatorå’Œå‡½æ•°ä¸åŒçš„æ˜¯ï¼Œgeneratorç”±functionå®šä¹‰ï¼ˆæ³¨æ„å¤šå‡ºçš„å·ï¼‰ï¼Œå¹¶ä¸”ï¼Œé™¤äº†returnè¯­å¥ï¼Œè¿˜å¯ä»¥ç”¨yieldè¿”å›žå¤šæ¬¡ã€‚å¤§å¤šæ•°åŒå­¦ç«‹åˆ»å°±æ™•äº†ï¼Œgeneratorå°±æ˜¯èƒ½å¤Ÿè¿”å›žå¤šæ¬¡çš„â€œå‡½æ•°â€ï¼Ÿè¿”å›žå¤šæ¬¡æœ‰å•¥ç”¨ï¼Ÿè¿˜æ˜¯ä¸¾ä¸ªä¾‹å­å§ã€‚æˆ‘ä»¬ä»¥ä¸€ä¸ªè‘—åçš„æ–æ³¢é‚£å¥‘æ•°åˆ—ä¸ºä¾‹ï¼Œå®ƒç”±0ï¼Œ1å¼€å¤´:10 1 1 2 3 5 8 13 21 34 ... è¦ç¼–å†™ä¸€ä¸ªäº§ç”Ÿæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡½æ•°ï¼Œå¯ä»¥è¿™ä¹ˆå†™:12345678910111213141516function fib(max) &#123; var t, a = 0, b = 1, arr = [0, 1]; while (arr.length &lt; max) &#123; [a, b] = [b, a + b]; arr.push(b); &#125; return arr;&#125;// æµ‹è¯•:fib(5); // [0, 1, 1, 2, 3]fib(10); // [0, 1, 1, 2, 3, 5, 8, 13, 21, 34] å‡½æ•°åªèƒ½è¿”å›žä¸€æ¬¡ï¼Œæ‰€ä»¥å¿…é¡»è¿”å›žä¸€ä¸ªArrayã€‚ä½†æ˜¯ï¼Œå¦‚æžœæ¢æˆgeneratorï¼Œå°±å¯ä»¥ä¸€æ¬¡è¿”å›žä¸€ä¸ªæ•°ï¼Œä¸æ–­è¿”å›žå¤šæ¬¡ã€‚ç”¨generatoræ”¹å†™å¦‚ä¸‹:12345678910111213function* fib(max) &#123; var t, a = 0, b = 1, n = 0; while (n &lt; max) &#123; yield a; [a, b] = [b, a + b]; n ++; &#125; return;&#125; ç›´æŽ¥è°ƒç”¨è¯•è¯•:1fib(5); // fib &#123;[[GeneratorStatus]]: &quot;suspended&quot;, [[GeneratorReceiver]]: Window&#125; ç›´æŽ¥è°ƒç”¨ä¸€ä¸ªgeneratorå’Œè°ƒç”¨å‡½æ•°ä¸ä¸€æ ·ï¼Œfib(5)ä»…ä»…æ˜¯åˆ›å»ºäº†ä¸€ä¸ªgeneratorå¯¹è±¡ï¼Œè¿˜æ²¡æœ‰åŽ»æ‰§è¡Œå®ƒã€‚è°ƒç”¨generatorå¯¹è±¡æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€æ˜¯ä¸æ–­åœ°è°ƒç”¨generatorå¯¹è±¡çš„next()æ–¹æ³•:1234567var f = fib(5);f.next(); // &#123;value: 0, done: false&#125;f.next(); // &#123;value: 1, done: false&#125;f.next(); // &#123;value: 1, done: false&#125;f.next(); // &#123;value: 2, done: false&#125;f.next(); // &#123;value: 3, done: false&#125;f.next(); // &#123;value: undefined, done: true&#125; next()æ–¹æ³•ä¼šæ‰§è¡Œgeneratorçš„ä»£ç ï¼Œç„¶åŽï¼Œæ¯æ¬¡é‡åˆ°yield x;å°±è¿”å›žä¸€ä¸ªå¯¹è±¡{value: x, done: true/false}ï¼Œç„¶åŽâ€œæš‚åœâ€ã€‚è¿”å›žçš„valueå°±æ˜¯yieldçš„è¿”å›žå€¼ï¼Œdoneè¡¨ç¤ºè¿™ä¸ªgeneratoræ˜¯å¦å·²ç»æ‰§è¡Œç»“æŸäº†ã€‚å¦‚æžœdoneä¸ºtrueï¼Œåˆ™valueå°±æ˜¯returnçš„è¿”å›žå€¼ã€‚å½“æ‰§è¡Œåˆ°doneä¸ºtrueæ—¶ï¼Œè¿™ä¸ªgeneratorå¯¹è±¡å°±å·²ç»å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œä¸è¦å†ç»§ç»­è°ƒç”¨next()äº†ã€‚ç¬¬äºŒä¸ªæ–¹æ³•æ˜¯ç›´æŽ¥ç”¨for â€¦ ofå¾ªçŽ¯è¿­ä»£generatorå¯¹è±¡ï¼Œè¿™ç§æ–¹å¼ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±åˆ¤æ–­done:123for (var x of fib(10)) &#123; console.log(x); // ä¾æ¬¡è¾“å‡º0, 1, 1, 2, 3, ...&#125; generatorå’Œæ™®é€šå‡½æ•°ç›¸æ¯”ï¼Œæœ‰ä»€ä¹ˆç”¨?å› ä¸ºgeneratorå¯ä»¥åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¤šæ¬¡è¿”å›žï¼Œæ‰€ä»¥å®ƒçœ‹ä¸ŠåŽ»å°±åƒä¸€ä¸ªå¯ä»¥è®°ä½æ‰§è¡ŒçŠ¶æ€çš„å‡½æ•°ï¼Œåˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå†™ä¸€ä¸ªgeneratorå°±å¯ä»¥å®žçŽ°éœ€è¦ç”¨é¢å‘å¯¹è±¡æ‰èƒ½å®žçŽ°çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œç”¨ä¸€ä¸ªå¯¹è±¡æ¥ä¿å­˜çŠ¶æ€ï¼Œå¾—è¿™ä¹ˆå†™:12345678910111213141516171819var fib = &#123; a: 0, b: 1, n: 0, max: 5, next: function () &#123; var r = this.a, t = this.a + this.b; this.a = this.b; this.b = t; if (this.n &lt; this.max) &#123; this.n ++; return r; &#125; else &#123; return undefined; &#125; &#125;&#125;; ç”¨å¯¹è±¡çš„å±žæ€§æ¥ä¿å­˜çŠ¶æ€ï¼Œç›¸å½“ç¹çã€‚generatorè¿˜æœ‰å¦ä¸€ä¸ªå·¨å¤§çš„å¥½å¤„ï¼Œå°±æ˜¯æŠŠå¼‚æ­¥å›žè°ƒä»£ç å˜æˆâ€åŒæ­¥â€ä»£ç ã€‚è¿™ä¸ªå¥½å¤„è¦ç­‰åˆ°åŽé¢å­¦äº†AJAXä»¥åŽæ‰èƒ½ä½“ä¼šåˆ°ã€‚æ²¡æœ‰generatorä¹‹å‰çš„é»‘æš—æ—¶ä»£ï¼Œç”¨AJAXæ—¶éœ€è¦è¿™ä¹ˆå†™ä»£ç :12345678910111213141516ajax(&apos;http://url-1&apos;, data1, function (err, result) &#123; if (err) &#123; return handle(err); &#125; ajax(&apos;http://url-2&apos;, data2, function (err, result) &#123; if (err) &#123; return handle(err); &#125; ajax(&apos;http://url-3&apos;, data3, function (err, result) &#123; if (err) &#123; return handle(err); &#125; return success(result); &#125;); &#125;);&#125;); å›žè°ƒè¶Šå¤šï¼Œä»£ç è¶Šéš¾çœ‹ã€‚æœ‰äº†generatorçš„ç¾Žå¥½æ—¶ä»£ï¼Œç”¨AJAXæ—¶å¯ä»¥è¿™ä¹ˆå†™:123456789try &#123; r1 = yield ajax(&apos;http://url-1&apos;, data1); r2 = yield ajax(&apos;http://url-2&apos;, data2); r3 = yield ajax(&apos;http://url-3&apos;, data3); success(r3);&#125;catch (err) &#123; handle(err);&#125; çœ‹ä¸ŠåŽ»æ˜¯åŒæ­¥çš„ä»£ç ï¼Œå®žé™…æ‰§è¡Œæ˜¯å¼‚æ­¥çš„.","categories":[{"name":"frontend","slug":"frontend","permalink":"http://ltyeamin.github.io/categories/frontend/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://ltyeamin.github.io/tags/JavaScript/"}]},{"title":"ç®­å¤´å‡½æ•°","slug":"ç®­å¤´å‡½æ•°","date":"2017-12-15T07:10:46.000Z","updated":"2019-05-29T14:03:53.000Z","comments":true,"path":"2017/12/15/ç®­å¤´å‡½æ•°/","link":"","permalink":"http://ltyeamin.github.io/2017/12/15/ç®­å¤´å‡½æ•°/","excerpt":"","text":"ç®­å¤´å‡½æ•°ES6æ ‡å‡†æ–°å¢žäº†ä¸€ç§æ–°çš„å‡½æ•°ï¼šArrow Functionï¼ˆç®­å¤´å‡½æ•°ï¼‰ã€‚ä¸ºä»€ä¹ˆå«Arrow Functionï¼Ÿå› ä¸ºå®ƒçš„å®šä¹‰ç”¨çš„å°±æ˜¯ä¸€ä¸ªç®­å¤´:12var fn = x =&gt; x * x;alert(fn(5)); //25 ä¸Šé¢çš„ç®­å¤´å‡½æ•°ç›¸å½“äºŽ:1234function (x) &#123; return x * x;&#125;alert(fn(5)); //25 ç®­å¤´å‡½æ•°ç›¸å½“äºŽåŒ¿åå‡½æ•°ï¼Œå¹¶ä¸”ç®€åŒ–äº†å‡½æ•°å®šä¹‰ã€‚ç®­å¤´å‡½æ•°æœ‰ä¸¤ç§æ ¼å¼ï¼Œä¸€ç§åƒä¸Šé¢çš„ï¼ŒåªåŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿ž{ â€¦ }å’Œreturnéƒ½çœç•¥æŽ‰äº†ã€‚è¿˜æœ‰ä¸€ç§å¯ä»¥åŒ…å«å¤šæ¡è¯­å¥ï¼Œè¿™æ—¶å€™å°±ä¸èƒ½çœç•¥{ â€¦ }å’Œreturn:12345678x =&gt; &#123; if (x &gt; 0) &#123; return x * x; &#125; else &#123; return - x * x; &#125;&#125; å¦‚æžœå‚æ•°ä¸æ˜¯ä¸€ä¸ªï¼Œå°±éœ€è¦ç”¨æ‹¬å·()æ‹¬èµ·æ¥:1234567891011121314// ä¸¤ä¸ªå‚æ•°:(x, y) =&gt; x * x + y * y// æ— å‚æ•°:() =&gt; 3.14// å¯å˜å‚æ•°:(x, y, ...rest) =&gt; &#123; var i, sum = x + y; for (i=0; i&lt;rest.length; i++) &#123; sum += rest[i]; &#125; return sum;&#125; å¦‚æžœè¦è¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œå°±è¦æ³¨æ„ï¼Œå¦‚æžœæ˜¯å•è¡¨è¾¾å¼ï¼Œè¿™ä¹ˆå†™çš„è¯ä¼šæŠ¥é”™:12// SyntaxError:x =&gt; &#123; foo: x &#125; å› ä¸ºå’Œå‡½æ•°ä½“çš„{ â€¦ }æœ‰è¯­æ³•å†²çªï¼Œæ‰€ä»¥è¦æ”¹ä¸º:12// ok:x =&gt; (&#123; foo: x &#125;) è§£å†³thisç»‘å®šé”™è¯¯çš„é—®é¢˜ç®­å¤´å‡½æ•°çœ‹ä¸ŠåŽ»æ˜¯åŒ¿åå‡½æ•°çš„ä¸€ç§ç®€å†™ï¼Œä½†å®žé™…ä¸Šï¼Œç®­å¤´å‡½æ•°å’ŒåŒ¿åå‡½æ•°æœ‰ä¸ªæ˜Žæ˜¾çš„åŒºåˆ«ï¼šç®­å¤´å‡½æ•°å†…éƒ¨çš„thisæ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œç”±ä¸Šä¸‹æ–‡ç¡®å®šã€‚å›žé¡¾å‰é¢çš„ä¾‹å­ï¼Œç”±äºŽJavaScriptå‡½æ•°å¯¹thisç»‘å®šçš„é”™è¯¯å¤„ç†ï¼Œä¸‹é¢çš„ä¾‹å­æ— æ³•å¾—åˆ°é¢„æœŸç»“æžœ:12345678910var obj = &#123; birth: 1990, getAge: function () &#123; var b = this.birth; // 1990 var fn = function () &#123; return new Date().getFullYear() - this.birth; // thisæŒ‡å‘windowæˆ–undefined &#125;; return fn(); &#125;&#125;; çŽ°åœ¨ï¼Œç®­å¤´å‡½æ•°å®Œå…¨ä¿®å¤äº†thisçš„æŒ‡å‘ï¼Œthisæ€»æ˜¯æŒ‡å‘è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯å¤–å±‚è°ƒç”¨è€…obj:123456789var obj = &#123; birth: 1990, getAge: function () &#123; var b = this.birth; // 1990 var fn = () =&gt; new Date().getFullYear() - this.birth; // thisæŒ‡å‘objå¯¹è±¡ return fn(); &#125;&#125;;obj.getAge(); // 25 å¦‚æžœä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä»¥å‰çš„é‚£ç§hackå†™æ³•:1var that = this; å°±ä¸å†éœ€è¦äº†ã€‚ç”±äºŽthisåœ¨ç®­å¤´å‡½æ•°ä¸­å·²ç»æŒ‰ç…§è¯æ³•ä½œç”¨åŸŸç»‘å®šäº†ï¼Œæ‰€ä»¥ï¼Œç”¨call()æˆ–è€…apply()è°ƒç”¨ç®­å¤´å‡½æ•°æ—¶ï¼Œæ— æ³•å¯¹thisè¿›è¡Œç»‘å®šï¼Œå³ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°è¢«å¿½ç•¥:123456789var obj = &#123; birth: 1990, getAge: function (year) &#123; var b = this.birth; // 1990 var fn = (y) =&gt; y - this.birth; // this.birthä»æ˜¯1990 return fn.call(&#123;birth:2000&#125;, year); &#125;&#125;;obj.getAge(2015); // 25","categories":[{"name":"frontend","slug":"frontend","permalink":"http://ltyeamin.github.io/categories/frontend/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://ltyeamin.github.io/tags/JavaScript/"}]},{"title":"é—­åŒ…","slug":"é—­åŒ…","date":"2017-12-13T09:54:10.000Z","updated":"2019-05-29T14:03:52.000Z","comments":true,"path":"2017/12/13/é—­åŒ…/","link":"","permalink":"http://ltyeamin.github.io/2017/12/13/é—­åŒ…/","excerpt":"","text":"å‡½æ•°ä½œä¸ºè¿”å›žå€¼é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æŽ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æžœå€¼è¿”å›žã€‚æˆ‘ä»¬æ¥å®žçŽ°ä¸€ä¸ªå¯¹Arrayçš„æ±‚å’Œã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ±‚å’Œçš„å‡½æ•°æ˜¯è¿™æ ·å®šä¹‰çš„:123456function sum(arr) &#123; return arr.reduce(function (x, y) &#123; return x + y; &#125;);&#125;sum([1, 2, 3, 4, 5]); // 15 ä½†æ˜¯ï¼Œå¦‚æžœä¸éœ€è¦ç«‹åˆ»æ±‚å’Œï¼Œè€Œæ˜¯åœ¨åŽé¢çš„ä»£ç ä¸­ï¼Œæ ¹æ®éœ€è¦å†è®¡ç®—æ€Žä¹ˆåŠžï¼Ÿå¯ä»¥ä¸è¿”å›žæ±‚å’Œçš„ç»“æžœï¼Œè€Œæ˜¯è¿”å›žæ±‚å’Œçš„å‡½æ•°!12345678function lazy_sum(arr) &#123; var sum = function () &#123; return arr.reduce(function (x, y) &#123; return x + y; &#125;); &#125; return sum;&#125; å½“æˆ‘ä»¬è°ƒç”¨lazy_sum()æ—¶ï¼Œè¿”å›žçš„å¹¶ä¸æ˜¯æ±‚å’Œç»“æžœï¼Œè€Œæ˜¯æ±‚å’Œå‡½æ•°:1var f = lazy_sum([1, 2, 3, 4, 5]); // function sum() è°ƒç”¨å‡½æ•°fæ—¶ï¼Œæ‰çœŸæ­£è®¡ç®—æ±‚å’Œçš„ç»“æžœ:1f(); // 15 åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°lazy_sumä¸­åˆå®šä¹‰äº†å‡½æ•°sumï¼Œå¹¶ä¸”ï¼Œå†…éƒ¨å‡½æ•°sumå¯ä»¥å¼•ç”¨å¤–éƒ¨å‡½æ•°lazy_sumçš„å‚æ•°å’Œå±€éƒ¨å˜é‡ï¼Œå½“lazy_sumè¿”å›žå‡½æ•°sumæ—¶ï¼Œç›¸å…³å‚æ•°å’Œå˜é‡éƒ½ä¿å­˜åœ¨è¿”å›žçš„å‡½æ•°ä¸­ï¼Œè¿™ç§ç§°ä¸ºâ€œé—­åŒ…ï¼ˆClosureï¼‰â€çš„ç¨‹åºç»“æž„æ‹¥æœ‰æžå¤§çš„å¨åŠ›ã€‚è¯·å†æ³¨æ„ä¸€ç‚¹ï¼Œå½“æˆ‘ä»¬è°ƒç”¨lazy_sum()æ—¶ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šè¿”å›žä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå³ä½¿ä¼ å…¥ç›¸åŒçš„å‚æ•°:123var f1 = lazy_sum([1, 2, 3, 4, 5]);var f2 = lazy_sum([1, 2, 3, 4, 5]);f1 === f2; // false f1()å’Œf2()çš„è°ƒç”¨ç»“æžœäº’ä¸å½±å“ã€‚ é—­åŒ…æ³¨æ„åˆ°è¿”å›žçš„å‡½æ•°åœ¨å…¶å®šä¹‰å†…éƒ¨å¼•ç”¨äº†å±€éƒ¨å˜é‡arrï¼Œæ‰€ä»¥ï¼Œå½“ä¸€ä¸ªå‡½æ•°è¿”å›žäº†ä¸€ä¸ªå‡½æ•°åŽï¼Œå…¶å†…éƒ¨çš„å±€éƒ¨å˜é‡è¿˜è¢«æ–°å‡½æ•°å¼•ç”¨ï¼Œæ‰€ä»¥ï¼Œé—­åŒ…ç”¨èµ·æ¥ç®€å•ï¼Œå®žçŽ°èµ·æ¥å¯ä¸å®¹æ˜“ã€‚å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„é—®é¢˜æ˜¯ï¼Œè¿”å›žçš„å‡½æ•°å¹¶æ²¡æœ‰ç«‹åˆ»æ‰§è¡Œï¼Œè€Œæ˜¯ç›´åˆ°è°ƒç”¨äº†f()æ‰æ‰§è¡Œã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­:12345678910111213function count() &#123; var arr = []; for (var i=1; i&lt;=3; i++) &#123; arr.push(function () &#123; return i * i; &#125;); &#125; return arr;&#125;var results = count();var f1 = results[0];var f2 = results[1];var f3 = results[2]; åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ¯æ¬¡å¾ªçŽ¯ï¼Œéƒ½åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œç„¶åŽï¼ŒæŠŠåˆ›å»ºçš„3ä¸ªå‡½æ•°éƒ½æ·»åŠ åˆ°ä¸€ä¸ªArrayä¸­è¿”å›žäº†ã€‚ä½ å¯èƒ½è®¤ä¸ºè°ƒç”¨f1()ï¼Œf2()å’Œf3()ç»“æžœåº”è¯¥æ˜¯1ï¼Œ4ï¼Œ9ï¼Œä½†å®žé™…ç»“æžœæ˜¯:123f1(); // 16f2(); // 16f3(); // 16 å…¨éƒ¨éƒ½æ˜¯16ï¼åŽŸå› å°±åœ¨äºŽè¿”å›žçš„å‡½æ•°å¼•ç”¨äº†å˜é‡iï¼Œä½†å®ƒå¹¶éžç«‹åˆ»æ‰§è¡Œã€‚ç­‰åˆ°3ä¸ªå‡½æ•°éƒ½è¿”å›žæ—¶ï¼Œå®ƒä»¬æ‰€å¼•ç”¨çš„å˜é‡iå·²ç»å˜æˆäº†4ï¼Œå› æ­¤æœ€ç»ˆç»“æžœä¸º16ã€‚è¿”å›žé—­åŒ…æ—¶ç‰¢è®°çš„ä¸€ç‚¹å°±æ˜¯ï¼šè¿”å›žå‡½æ•°ä¸è¦å¼•ç”¨ä»»ä½•å¾ªçŽ¯å˜é‡ï¼Œæˆ–è€…åŽç»­ä¼šå‘ç”Ÿå˜åŒ–çš„å˜é‡ã€‚å¦‚æžœä¸€å®šè¦å¼•ç”¨å¾ªçŽ¯å˜é‡æ€Žä¹ˆåŠžï¼Ÿæ–¹æ³•æ˜¯å†åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œç”¨è¯¥å‡½æ•°çš„å‚æ•°ç»‘å®šå¾ªçŽ¯å˜é‡å½“å‰çš„å€¼ï¼Œæ— è®ºè¯¥å¾ªçŽ¯å˜é‡åŽç»­å¦‚ä½•æ›´æ”¹ï¼Œå·²ç»‘å®šåˆ°å‡½æ•°å‚æ•°çš„å€¼ä¸å˜:123456789101112131415161718function count() &#123; var arr = []; for (var i=1; i&lt;=3; i++) &#123; arr.push((function (n) &#123; return function () &#123; return n * n; &#125; &#125;)(i)); &#125; return arr;&#125;var results = count();var f1 = results[0];var f2 = results[1];var f3 = results[2];f1(); // 1f2(); // 4f3(); // 9 æ³¨æ„è¿™é‡Œç”¨äº†ä¸€ä¸ªâ€åˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°å¹¶ç«‹åˆ»æ‰§è¡Œâ€çš„è¯­æ³•:(function (x) { return x * x;})(3); // 9ç†è®ºä¸Šè®²ï¼Œåˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°å¹¶ç«‹åˆ»æ‰§è¡Œå¯ä»¥è¿™ä¹ˆå†™:1function (x) &#123; return x * x &#125; (3); ä½†æ˜¯ç”±äºŽJavaScriptè¯­æ³•è§£æžçš„é—®é¢˜ï¼Œä¼šæŠ¥SyntaxErroré”™è¯¯ï¼Œå› æ­¤éœ€è¦ç”¨æ‹¬å·æŠŠæ•´ä¸ªå‡½æ•°å®šä¹‰æ‹¬èµ·æ¥:1(function (x) &#123; return x * x &#125;) (3); é€šå¸¸ï¼Œä¸€ä¸ªç«‹å³æ‰§è¡Œçš„åŒ¿åå‡½æ•°å¯ä»¥æŠŠå‡½æ•°ä½“æ‹†å¼€ï¼Œä¸€èˆ¬è¿™ä¹ˆå†™:123(function (x) &#123; return x * x;&#125;)(3); è¯´äº†è¿™ä¹ˆå¤šï¼Œéš¾é“é—­åŒ…å°±æ˜¯ä¸ºäº†è¿”å›žä¸€ä¸ªå‡½æ•°ç„¶åŽå»¶è¿Ÿæ‰§è¡Œå—?å½“ç„¶ä¸æ˜¯ï¼é—­åŒ…æœ‰éžå¸¸å¼ºå¤§çš„åŠŸèƒ½ã€‚ä¸¾ä¸ªä¾‹å­ï¼šåœ¨é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡è¯­è¨€é‡Œï¼Œæ¯”å¦‚Javaå’ŒC++ï¼Œè¦åœ¨å¯¹è±¡å†…éƒ¨å°è£…ä¸€ä¸ªç§æœ‰å˜é‡ï¼Œå¯ä»¥ç”¨privateä¿®é¥°ä¸€ä¸ªæˆå‘˜å˜é‡ã€‚åœ¨æ²¡æœ‰classæœºåˆ¶ï¼Œåªæœ‰å‡½æ•°çš„è¯­è¨€é‡Œï¼Œå€ŸåŠ©é—­åŒ…ï¼ŒåŒæ ·å¯ä»¥å°è£…ä¸€ä¸ªç§æœ‰å˜é‡ã€‚æˆ‘ä»¬ç”¨JavaScriptåˆ›å»ºä¸€ä¸ªè®¡æ•°å™¨ï¼š123456789function create_counter(initial) &#123; var x = initial || 0; return &#123; inc: function () &#123; x += 1; return x; &#125; &#125;&#125; å®ƒç”¨èµ·æ¥åƒè¿™æ ·:12345678var c1 = create_counter();c1.inc(); // 1c1.inc(); // 2c1.inc(); // 3var c2 = create_counter(10);c2.inc(); // 11c2.inc(); // 12c2.inc(); // 13 åœ¨è¿”å›žçš„å¯¹è±¡ä¸­ï¼Œå®žçŽ°äº†ä¸€ä¸ªé—­åŒ…ï¼Œè¯¥é—­åŒ…æºå¸¦äº†å±€éƒ¨å˜é‡xï¼Œå¹¶ä¸”ï¼Œä»Žå¤–éƒ¨ä»£ç æ ¹æœ¬æ— æ³•è®¿é—®åˆ°å˜é‡xã€‚æ¢å¥è¯è¯´ï¼Œé—­åŒ…å°±æ˜¯æºå¸¦çŠ¶æ€çš„å‡½æ•°ï¼Œå¹¶ä¸”å®ƒçš„çŠ¶æ€å¯ä»¥å®Œå…¨å¯¹å¤–éšè—èµ·æ¥ã€‚é—­åŒ…è¿˜å¯ä»¥æŠŠå¤šå‚æ•°çš„å‡½æ•°å˜æˆå•å‚æ•°çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œè¦è®¡ç®—xyå¯ä»¥ç”¨Math.pow(x, y)å‡½æ•°ï¼Œä¸è¿‡è€ƒè™‘åˆ°ç»å¸¸è®¡ç®—x2æˆ–x3ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨é—­åŒ…åˆ›å»ºæ–°çš„å‡½æ•°pow2å’Œpow3:1234567891011&apos;use strict&apos;;function make_pow(n) &#123; return function (x) &#123; return Math.pow(x, n); &#125;&#125;// åˆ›å»ºä¸¤ä¸ªæ–°å‡½æ•°:var pow2 = make_pow(2);var pow3 = make_pow(3);console.log(pow2(5)); // 25console.log(pow3(7)); // 343","categories":[{"name":"frontend","slug":"frontend","permalink":"http://ltyeamin.github.io/categories/frontend/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://ltyeamin.github.io/tags/JavaScript/"}]},{"title":"é«˜é˜¶å‡½æ•°","slug":"é«˜é˜¶å‡½æ•°","date":"2017-12-13T08:37:15.000Z","updated":"2019-05-29T14:03:53.000Z","comments":true,"path":"2017/12/13/é«˜é˜¶å‡½æ•°/","link":"","permalink":"http://ltyeamin.github.io/2017/12/13/é«˜é˜¶å‡½æ•°/","excerpt":"","text":"é«˜é˜¶å‡½æ•°æ¦‚è¿°é«˜é˜¶å‡½æ•°è‹±æ–‡å«Higher-order functionã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼ŸJavaScriptçš„å‡½æ•°å…¶å®žéƒ½æŒ‡å‘æŸä¸ªå˜é‡ã€‚æ—¢ç„¶å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°èƒ½æŽ¥æ”¶å˜é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æŽ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°å°±ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚ä¸€ä¸ªæœ€ç®€å•çš„é«˜é˜¶å‡½æ•°: 12345function add(x, y, f) &#123; return f(x) + f(y);&#125;var x = add(-5, 6, Math.abs); console.log(x); // 11 å½“æˆ‘ä»¬è°ƒç”¨add(-5, 6, Math.abs)æ—¶ï¼Œå‚æ•°xï¼Œyå’Œfåˆ†åˆ«æŽ¥æ”¶-5ï¼Œ6å’Œå‡½æ•°Math.absï¼Œæ ¹æ®å‡½æ•°å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æŽ¨å¯¼è®¡ç®—è¿‡ç¨‹ä¸º:123456//åˆ†æžæ€è·¯x = -5;y = 6;f = Math.abs;f(x) + f(y) ==&gt; Math.abs(-5) + Math.abs(6) ==&gt; 11;return 11; ç¼–å†™é«˜é˜¶å‡½æ•°ï¼Œå°±æ˜¯è®©å‡½æ•°çš„å‚æ•°èƒ½å¤ŸæŽ¥æ”¶åˆ«çš„å‡½æ•°. map/reduceä¸¾ä¾‹è¯´æ˜Žï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°f(x)=$x^2â€‹$ï¼Œè¦æŠŠè¿™ä¸ªå‡½æ•°ä½œç”¨åœ¨ä¸€ä¸ªæ•°ç»„[1, 2, 3, 4, 5, 6, 7, 8, 9]ä¸Šï¼Œå°±å¯ä»¥ç”¨mapå®žçŽ°å¦‚ä¸‹å›¾:ç”±äºŽmap()æ–¹æ³•å®šä¹‰åœ¨JavaScriptçš„Arrayä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨Arrayçš„map()æ–¹æ³•ï¼Œä¼ å…¥æˆ‘ä»¬è‡ªå·±çš„å‡½æ•°ï¼Œå°±å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„Arrayä½œä¸ºç»“æžœ:12345678&apos;use strict&apos;;function pow(x) &#123; return x * x;&#125;var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];var results = arr.map(pow); // [1, 4, 9, 16, 25, 36, 49, 64, 81]console.log(results); æ³¨æ„ï¼šmap()ä¼ å…¥çš„å‚æ•°æ˜¯powï¼Œå³å‡½æ•°å¯¹è±¡æœ¬èº«.ä½ å¯èƒ½ä¼šæƒ³ï¼Œä¸éœ€è¦map()ï¼Œå†™ä¸€ä¸ªå¾ªçŽ¯ï¼Œä¹Ÿå¯ä»¥è®¡ç®—å‡ºç»“æžœ:12345678var f = function (x) &#123; return x * x;&#125;;var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];var result = [];for (var i=0; i&lt;arr.length; i++) &#123; result.push(f(arr[i]));&#125; çš„ç¡®å¯ä»¥ï¼Œä½†æ˜¯ï¼Œä»Žä¸Šé¢çš„å¾ªçŽ¯ä»£ç ï¼Œæˆ‘ä»¬æ— æ³•ä¸€çœ¼çœ‹æ˜Žç™½â€œæŠŠf(x)ä½œç”¨åœ¨Arrayçš„æ¯ä¸€ä¸ªå…ƒç´ å¹¶æŠŠç»“æžœç”Ÿæˆä¸€ä¸ªæ–°çš„Arrayâ€ã€‚æ‰€ä»¥ï¼Œmap()ä½œä¸ºé«˜é˜¶å‡½æ•°ï¼Œäº‹å®žä¸Šå®ƒæŠŠè¿ç®—è§„åˆ™æŠ½è±¡äº†ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¸ä½†å¯ä»¥è®¡ç®—ç®€å•çš„f(x)=x2ï¼Œè¿˜å¯ä»¥è®¡ç®—ä»»æ„å¤æ‚çš„å‡½æ•°ï¼Œæ¯”å¦‚ï¼ŒæŠŠArrayçš„æ‰€æœ‰æ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²ï¼š12var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];arr.map(String); // [&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;] åªéœ€è¦ä¸€è¡Œä»£ç ã€‚å†çœ‹reduceçš„ç”¨æ³•ã€‚Arrayçš„reduce()æŠŠä¸€ä¸ªå‡½æ•°ä½œç”¨åœ¨è¿™ä¸ªArrayçš„[x1, x2, x3â€¦]ä¸Šï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œreduce()æŠŠç»“æžœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—ï¼Œå…¶æ•ˆæžœå°±æ˜¯:1[x1, x2, x3, x4].reduce(f) = f(f(f(x1, x2), x3), x4) æ¯”æ–¹è¯´å¯¹ä¸€ä¸ªArrayæ±‚å’Œï¼Œå°±å¯ä»¥ç”¨reduceå®žçŽ°1234var arr = [1, 3, 5, 7, 9];arr.reduce(function (x, y) &#123; return x + y;&#125;); // 25 è¦æŠŠ[1, 3, 5, 7, 9]å˜æ¢æˆæ•´æ•°13579ï¼Œreduce()ä¹Ÿèƒ½æ´¾ä¸Šç”¨åœº:1234var arr = [1, 3, 5, 7, 9];arr.reduce(function (x, y) &#123; return x * 10 + y;&#125;); // 13579 filterfilterä¹Ÿæ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ“ä½œï¼Œå®ƒç”¨äºŽæŠŠArrayçš„æŸäº›å…ƒç´ è¿‡æ»¤æŽ‰ï¼Œç„¶åŽè¿”å›žå‰©ä¸‹çš„å…ƒç´ ã€‚å’Œmap()ç±»ä¼¼ï¼ŒArrayçš„filter()ä¹ŸæŽ¥æ”¶ä¸€ä¸ªå‡½æ•°ã€‚å’Œmap()ä¸åŒçš„æ˜¯ï¼Œfilter()æŠŠä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨äºŽæ¯ä¸ªå…ƒç´ ï¼Œç„¶åŽæ ¹æ®è¿”å›žå€¼æ˜¯trueè¿˜æ˜¯falseå†³å®šä¿ç•™è¿˜æ˜¯ä¸¢å¼ƒè¯¥å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªArrayä¸­ï¼Œåˆ æŽ‰å¶æ•°ï¼Œåªä¿ç•™å¥‡æ•°ï¼Œå¯ä»¥è¿™ä¹ˆå†™:12345var arr = [1, 2, 4, 5, 6, 9, 10, 15];var r = arr.filter(function (x) &#123; return x % 2 !== 0;&#125;);r; // [1, 5, 9, 15] æŠŠä¸€ä¸ªArrayä¸­çš„ç©ºå­—ç¬¦ä¸²åˆ æŽ‰ï¼Œå¯ä»¥è¿™ä¹ˆå†™:12345var arr = [&apos;A&apos;, &apos;&apos;, &apos;B&apos;, null, undefined, &apos;C&apos;, &apos; &apos;];var r = arr.filter(function (s) &#123; return s &amp;&amp; s.trim(); // æ³¨æ„ï¼šIE9ä»¥ä¸‹çš„ç‰ˆæœ¬æ²¡æœ‰trim()æ–¹æ³•&#125;);r; // [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;] å¯è§ç”¨filter()è¿™ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå…³é”®åœ¨äºŽæ­£ç¡®å®žçŽ°ä¸€ä¸ªâ€ç­›é€‰â€å‡½æ•°. å›žè°ƒå‡½æ•°filter()æŽ¥æ”¶çš„å›žè°ƒå‡½æ•°ï¼Œå…¶å®žå¯ä»¥æœ‰å¤šä¸ªå‚æ•°ã€‚é€šå¸¸æˆ‘ä»¬ä»…ä½¿ç”¨ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºArrayçš„æŸä¸ªå…ƒç´ ã€‚å›žè°ƒå‡½æ•°è¿˜å¯ä»¥æŽ¥æ”¶å¦å¤–ä¸¤ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå…ƒç´ çš„ä½ç½®å’Œæ•°ç»„æœ¬èº«ï¼š1234567var arr = [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;];var r = arr.filter(function (element, index, self) &#123; console.log(element); // ä¾æ¬¡æ‰“å°&apos;A&apos;, &apos;B&apos;, &apos;C&apos; console.log(index); // ä¾æ¬¡æ‰“å°0, 1, 2 console.log(self); // selfå°±æ˜¯å˜é‡arr return true;&#125;); åˆ©ç”¨filterï¼Œå¯ä»¥å·§å¦™åœ°åŽ»é™¤Arrayçš„é‡å¤å…ƒç´ :123456&apos;use strict&apos;;var r,arr = [&apos;apple&apos;, &apos;strawberry&apos;, &apos;banana&apos;, &apos;pear&apos;, &apos;apple&apos;, &apos;orange&apos;, &apos;orange&apos;, &apos;strawberry&apos;];r = arr.filter(function (element, index, self) &#123; return self.indexOf(element) === index;&#125;);console.log(r.toString()); //apple,strawberry,banana,pear,orange åŽ»é™¤é‡å¤å…ƒç´ ä¾é çš„æ˜¯indexOfæ€»æ˜¯è¿”å›žç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼ŒåŽç»­çš„é‡å¤å…ƒç´ ä½ç½®ä¸ŽindexOfè¿”å›žçš„ä½ç½®ä¸ç›¸ç­‰ï¼Œå› æ­¤è¢«filteræ»¤æŽ‰äº†. sortæŽ’åºç®—æ³•æŽ’åºä¹Ÿæ˜¯åœ¨ç¨‹åºä¸­ç»å¸¸ç”¨åˆ°çš„ç®—æ³•ã€‚æ— è®ºä½¿ç”¨å†’æ³¡æŽ’åºè¿˜æ˜¯å¿«é€ŸæŽ’åºï¼ŒæŽ’åºçš„æ ¸å¿ƒæ˜¯æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å¤§å°ã€‚å¦‚æžœæ˜¯æ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥æ¯”è¾ƒï¼Œä½†å¦‚æžœæ˜¯å­—ç¬¦ä¸²æˆ–è€…ä¸¤ä¸ªå¯¹è±¡å‘¢ï¼Ÿç›´æŽ¥æ¯”è¾ƒæ•°å­¦ä¸Šçš„å¤§å°æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› æ­¤ï¼Œæ¯”è¾ƒçš„è¿‡ç¨‹å¿…é¡»é€šè¿‡å‡½æ•°æŠ½è±¡å‡ºæ¥ã€‚é€šå¸¸è§„å®šï¼Œå¯¹äºŽä¸¤ä¸ªå…ƒç´ xå’Œyï¼Œå¦‚æžœè®¤ä¸ºx &lt; yï¼Œåˆ™è¿”å›ž-1ï¼Œå¦‚æžœè®¤ä¸ºx == yï¼Œåˆ™è¿”å›ž0ï¼Œå¦‚æžœè®¤ä¸ºx &gt; yï¼Œåˆ™è¿”å›ž1ï¼Œè¿™æ ·ï¼ŒæŽ’åºç®—æ³•å°±ä¸ç”¨å…³å¿ƒå…·ä½“çš„æ¯”è¾ƒè¿‡ç¨‹ï¼Œè€Œæ˜¯æ ¹æ®æ¯”è¾ƒç»“æžœç›´æŽ¥æŽ’åºã€‚JavaScriptçš„Arrayçš„sort()æ–¹æ³•å°±æ˜¯ç”¨äºŽæŽ’åºçš„ï¼Œä½†æ˜¯æŽ’åºç»“æžœå¯èƒ½è®©ä½ å¤§åƒä¸€æƒŠ:123456// çœ‹ä¸ŠåŽ»æ­£å¸¸çš„ç»“æžœ:[&apos;Google&apos;, &apos;Apple&apos;, &apos;Microsoft&apos;].sort(); // [&apos;Apple&apos;, &apos;Google&apos;, &apos;Microsoft&apos;];// appleæŽ’åœ¨äº†æœ€åŽ:[&apos;Google&apos;, &apos;apple&apos;, &apos;Microsoft&apos;].sort(); // [&apos;Google&apos;, &apos;Microsoft&quot;, &apos;apple&apos;]// æ— æ³•ç†è§£çš„ç»“æžœ:[10, 20, 1, 2].sort(); // [1, 10, 2, 20] ç¬¬äºŒä¸ªæŽ’åºæŠŠappleæŽ’åœ¨äº†æœ€åŽï¼Œæ˜¯å› ä¸ºå­—ç¬¦ä¸²æ ¹æ®ASCIIç è¿›è¡ŒæŽ’åºï¼Œè€Œå°å†™å­—æ¯açš„ASCIIç åœ¨å¤§å†™å­—æ¯ä¹‹åŽã€‚ç¬¬ä¸‰ä¸ªæŽ’åºç»“æžœæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿç®€å•çš„æ•°å­—æŽ’åºéƒ½èƒ½é”™ï¼Ÿè¿™æ˜¯å› ä¸ºArrayçš„sort()æ–¹æ³•é»˜è®¤æŠŠæ‰€æœ‰å…ƒç´ å…ˆè½¬æ¢ä¸ºStringå†æŽ’åºï¼Œç»“æžœâ€™10â€™æŽ’åœ¨äº†â€™2â€™çš„å‰é¢ï¼Œå› ä¸ºå­—ç¬¦â€™1â€™æ¯”å­—ç¬¦â€™2â€™çš„ASCIIç å°ã€‚å¦‚æžœä¸çŸ¥é“sort()æ–¹æ³•çš„é»˜è®¤æŽ’åºè§„åˆ™ï¼Œç›´æŽ¥å¯¹æ•°å­—æŽ’åºï¼Œç»å¯¹æ ½è¿›å‘é‡Œï¼å¹¸è¿çš„æ˜¯ï¼Œsort()æ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå®ƒè¿˜å¯ä»¥æŽ¥æ”¶ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°æ¥å®žçŽ°è‡ªå®šä¹‰çš„æŽ’åºã€‚è¦æŒ‰æ•°å­—å¤§å°æŽ’åºï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™:123456789101112&apos;use strict&apos;;var arr = [10, 20, 1, 2];arr.sort(function (x, y) &#123; if (x &lt; y) &#123; return -1; &#125; if (x &gt; y) &#123; return 1; &#125; return 0;&#125;);console.log(arr); // [1, 2, 10, 20] å¦‚æžœè¦å€’åºæŽ’åºï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¤§çš„æ•°æ”¾å‰é¢:12345678910var arr = [10, 20, 1, 2];arr.sort(function (x, y) &#123; if (x &lt; y) &#123; return 1; &#125; if (x &gt; y) &#123; return -1; &#125; return 0;&#125;); // [20, 10, 2, 1] é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹å­—ç¬¦ä¸²æŽ’åºï¼Œæ˜¯æŒ‰ç…§ASCIIçš„å¤§å°æ¯”è¾ƒçš„ï¼ŒçŽ°åœ¨ï¼Œæˆ‘ä»¬æå‡ºæŽ’åºåº”è¯¥å¿½ç•¥å¤§å°å†™ï¼ŒæŒ‰ç…§å­—æ¯åºæŽ’åºã€‚è¦å®žçŽ°è¿™ä¸ªç®—æ³•ï¼Œä¸å¿…å¯¹çŽ°æœ‰ä»£ç å¤§åŠ æ”¹åŠ¨ï¼Œåªè¦æˆ‘ä»¬èƒ½å®šä¹‰å‡ºå¿½ç•¥å¤§å°å†™çš„æ¯”è¾ƒç®—æ³•å°±å¯ä»¥:123456789101112var arr = [&apos;Google&apos;, &apos;apple&apos;, &apos;Microsoft&apos;];arr.sort(function (s1, s2) &#123; x1 = s1.toUpperCase(); x2 = s2.toUpperCase(); if (x1 &lt; x2) &#123; return -1; &#125; if (x1 &gt; x2) &#123; return 1; &#125; return 0;&#125;); // [&apos;apple&apos;, &apos;Google&apos;, &apos;Microsoft&apos;] å¿½ç•¥å¤§å°å†™æ¥æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå®žé™…ä¸Šå°±æ˜¯å…ˆæŠŠå­—ç¬¦ä¸²éƒ½å˜æˆå¤§å†™ï¼ˆæˆ–è€…éƒ½å˜æˆå°å†™ï¼‰ï¼Œå†æ¯”è¾ƒã€‚ä»Žä¸Šè¿°ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œé«˜é˜¶å‡½æ•°çš„æŠ½è±¡èƒ½åŠ›æ˜¯éžå¸¸å¼ºå¤§çš„ï¼Œè€Œä¸”ï¼Œæ ¸å¿ƒä»£ç å¯ä»¥ä¿æŒå¾—éžå¸¸ç®€æ´ã€‚æœ€åŽå‹æƒ…æç¤ºï¼Œsort()æ–¹æ³•ä¼šç›´æŽ¥å¯¹Arrayè¿›è¡Œä¿®æ”¹ï¼Œå®ƒè¿”å›žçš„ç»“æžœä»æ˜¯å½“å‰Array:12345var a1 = [&apos;B&apos;, &apos;A&apos;, &apos;C&apos;];var a2 = a1.sort();a1; // [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;]a2; // [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;]a1 === a2; // true, a1å’Œa2æ˜¯åŒä¸€å¯¹è±¡","categories":[{"name":"frontend","slug":"frontend","permalink":"http://ltyeamin.github.io/categories/frontend/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://ltyeamin.github.io/tags/JavaScript/"}]},{"title":"JSæ–¹æ³•","slug":"JSæ–¹æ³•","date":"2017-12-13T08:18:31.000Z","updated":"2019-05-29T14:03:52.000Z","comments":true,"path":"2017/12/13/JSæ–¹æ³•/","link":"","permalink":"http://ltyeamin.github.io/2017/12/13/JSæ–¹æ³•/","excerpt":"","text":"å¯¹è±¡çš„æ–¹æ³•åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ç»‘å®šå‡½æ•°ï¼Œç§°ä¸ºè¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚åœ¨JavaScriptä¸­ï¼Œå¯¹è±¡çš„å®šä¹‰æ˜¯è¿™æ ·çš„:1234var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990&#125;; ä½†æ˜¯ï¼Œå¦‚æžœæˆ‘ä»¬ç»™xiaomingç»‘å®šä¸€ä¸ªå‡½æ•°ï¼Œå°±å¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ã€‚æ¯”å¦‚ï¼Œå†™ä¸ªage()æ–¹æ³•ï¼Œè¿”å›žxiaomingçš„å¹´é¾„:1234567891011var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: function () &#123; var y = new Date().getFullYear(); return y - this.birth; &#125;&#125;;xiaoming.age; // function xiaoming.age()xiaoming.age(); // ä»Šå¹´è°ƒç”¨æ˜¯25,æ˜Žå¹´è°ƒç”¨å°±å˜æˆ26äº† ç»‘å®šåˆ°å¯¹è±¡ä¸Šçš„å‡½æ•°ç§°ä¸ºæ–¹æ³•ï¼Œå’Œæ™®é€šå‡½æ•°ä¹Ÿæ²¡å•¥åŒºåˆ«ï¼Œä½†æ˜¯å®ƒåœ¨å†…éƒ¨ä½¿ç”¨äº†ä¸€ä¸ªthiså…³é”®å­—ï¼Œè¿™ä¸ªä¸œä¸œæ˜¯ä»€ä¹ˆ?åœ¨ä¸€ä¸ªæ–¹æ³•å†…éƒ¨ï¼Œthisæ˜¯ä¸€ä¸ªç‰¹æ®Šå˜é‡ï¼Œå®ƒå§‹ç»ˆæŒ‡å‘å½“å‰å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯xiaomingè¿™ä¸ªå˜é‡ã€‚æ‰€ä»¥ï¼Œthis.birthå¯ä»¥æ‹¿åˆ°xiaomingçš„birthå±žæ€§ã€‚è®©æˆ‘ä»¬æ‹†å¼€å†™ï¼š1234567891011function getAge() &#123; var y = new Date().getFullYear(); return y - this.birth;&#125;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: getAge&#125;;xiaoming.age(); // 25, æ­£å¸¸ç»“æžœgetAge(); // NaN å•ç‹¬è°ƒç”¨å‡½æ•°getAge()æ€Žä¹ˆè¿”å›žäº†NaNï¼Ÿè¯·æ³¨æ„ï¼Œæˆ‘ä»¬å·²ç»è¿›å…¥åˆ°äº†JavaScriptçš„ä¸€ä¸ªå¤§å‘é‡Œ.JavaScriptçš„å‡½æ•°å†…éƒ¨å¦‚æžœè°ƒç”¨äº†thisï¼Œé‚£ä¹ˆè¿™ä¸ªthisåˆ°åº•æŒ‡å‘è°?ç­”æ¡ˆæ˜¯ï¼Œè§†æƒ…å†µè€Œå®š!å¦‚æžœä»¥å¯¹è±¡çš„æ–¹æ³•å½¢å¼è°ƒç”¨ï¼Œæ¯”å¦‚xiaoming.age()ï¼Œè¯¥å‡½æ•°çš„thisæŒ‡å‘è¢«è°ƒç”¨çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯xiaomingï¼Œè¿™æ˜¯ç¬¦åˆæˆ‘ä»¬é¢„æœŸçš„.å¦‚æžœå•ç‹¬è°ƒç”¨å‡½æ•°ï¼Œæ¯”å¦‚getAge()ï¼Œæ­¤æ—¶ï¼Œè¯¥å‡½æ•°çš„thisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯window.å‘çˆ¹å•Š!æ›´å‘çˆ¹çš„æ˜¯ï¼Œå¦‚æžœè¿™ä¹ˆå†™:12var fn = xiaoming.age; // å…ˆæ‹¿åˆ°xiaomingçš„ageå‡½æ•°fn(); // NaN ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼è¦ä¿è¯thisæŒ‡å‘æ­£ç¡®ï¼Œå¿…é¡»ç”¨obj.xxx()çš„å½¢å¼è°ƒç”¨ï¼ç”±äºŽè¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„è®¾è®¡é”™è¯¯ï¼Œè¦æƒ³çº æ­£å¯æ²¡é‚£ä¹ˆç®€å•ã€‚ECMAå†³å®šï¼Œåœ¨strictæ¨¡å¼ä¸‹è®©å‡½æ•°çš„thisæŒ‡å‘undefinedï¼Œå› æ­¤ï¼Œåœ¨strictæ¨¡å¼ä¸‹ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯:12345678910111213&apos;use strict&apos;;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: function () &#123; var y = new Date().getFullYear(); return y - this.birth; &#125;&#125;;var fn = xiaoming.age;fn(); // Uncaught TypeError: Cannot read property &apos;birth&apos; of undefined è¿™ä¸ªå†³å®šåªæ˜¯è®©é”™è¯¯åŠæ—¶æš´éœ²å‡ºæ¥ï¼Œå¹¶æ²¡æœ‰è§£å†³thisåº”è¯¥æŒ‡å‘çš„æ­£ç¡®ä½ç½®ã€‚æœ‰äº›æ—¶å€™ï¼Œå–œæ¬¢é‡æž„çš„ä½ æŠŠæ–¹æ³•é‡æž„äº†ä¸€ä¸‹:1234567891011121314&apos;use strict&apos;;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: function () &#123; function getAgeFromBirth() &#123; var y = new Date().getFullYear(); return y - this.birth; &#125; return getAgeFromBirth(); &#125;&#125;;xiaoming.age(); // Uncaught TypeError: Cannot read property &apos;birth&apos; of undefined ç»“æžœåˆæŠ¥é”™äº†ï¼åŽŸå› æ˜¯thisæŒ‡é’ˆåªåœ¨ageæ–¹æ³•çš„å‡½æ•°å†…æŒ‡å‘xiaomingï¼Œåœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å‡½æ•°ï¼ŒthisåˆæŒ‡å‘undefinedäº†ï¼ï¼ˆåœ¨éžstrictæ¨¡å¼ä¸‹ï¼Œå®ƒé‡æ–°æŒ‡å‘å…¨å±€å¯¹è±¡windowï¼ï¼‰ä¿®å¤çš„åŠžæ³•ä¹Ÿä¸æ˜¯æ²¡æœ‰ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªthatå˜é‡é¦–å…ˆæ•èŽ·thisï¼š123456789101112131415&apos;use strict&apos;;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: function () &#123; var that = this; // åœ¨æ–¹æ³•å†…éƒ¨ä¸€å¼€å§‹å°±æ•èŽ·this function getAgeFromBirth() &#123; var y = new Date().getFullYear(); return y - that.birth; // ç”¨thatè€Œä¸æ˜¯this &#125; return getAgeFromBirth(); &#125;&#125;;xiaoming.age(); // 25 ç”¨var that = this;ï¼Œä½ å°±å¯ä»¥æ”¾å¿ƒåœ°åœ¨æ–¹æ³•å†…éƒ¨å®šä¹‰å…¶ä»–å‡½æ•°ï¼Œè€Œä¸æ˜¯æŠŠæ‰€æœ‰è¯­å¥éƒ½å †åˆ°ä¸€ä¸ªæ–¹æ³•ä¸­. applyæ–¹æ³•è¯¦è§£è™½ç„¶åœ¨ä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°è°ƒç”¨ä¸­ï¼Œæ ¹æ®æ˜¯å¦æ˜¯strictæ¨¡å¼ï¼ŒthisæŒ‡å‘undefinedæˆ–windowï¼Œä¸è¿‡ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥æŽ§åˆ¶thisçš„æŒ‡å‘çš„ï¼è¦æŒ‡å®šå‡½æ•°çš„thisæŒ‡å‘å“ªä¸ªå¯¹è±¡ï¼Œå¯ä»¥ç”¨å‡½æ•°æœ¬èº«çš„applyæ–¹æ³•ï¼Œå®ƒæŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯éœ€è¦ç»‘å®šçš„thiså˜é‡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯Arrayï¼Œè¡¨ç¤ºå‡½æ•°æœ¬èº«çš„å‚æ•°ã€‚ç”¨applyä¿®å¤getAge()è°ƒç”¨:1234567891011function getAge() &#123; var y = new Date().getFullYear(); return y - this.birth;&#125;var xiaoming = &#123; name: &apos;å°æ˜Ž&apos;, birth: 1990, age: getAge&#125;;xiaoming.age(); // 25getAge.apply(xiaoming, []); // 25, thisæŒ‡å‘xiaoming, å‚æ•°ä¸ºç©º å¦ä¸€ä¸ªä¸Žapply()ç±»ä¼¼çš„æ–¹æ³•æ˜¯call()ï¼Œå”¯ä¸€åŒºåˆ«æ˜¯: apply()æŠŠå‚æ•°æ‰“åŒ…æˆArrayå†ä¼ å…¥; call()æŠŠå‚æ•°æŒ‰é¡ºåºä¼ å…¥.æ¯”å¦‚è°ƒç”¨Math.max(3, 5, 4)ï¼Œåˆ†åˆ«ç”¨apply()å’Œcall()å®žçŽ°å¦‚ä¸‹:12Math.max.apply(null, [3, 5, 4]); // 5Math.max.call(null, 3, 5, 4); // 5 å¯¹æ™®é€šå‡½æ•°è°ƒç”¨ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠthisç»‘å®šä¸ºnull. è£…é¥°å™¨åˆ©ç”¨apply()ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åŠ¨æ€æ”¹å˜å‡½æ•°çš„è¡Œä¸ºã€‚JavaScriptçš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯åŠ¨æ€çš„ï¼Œå³ä½¿å†…ç½®çš„å‡½æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é‡æ–°æŒ‡å‘æ–°çš„å‡½æ•°ã€‚çŽ°åœ¨å‡å®šæˆ‘ä»¬æƒ³ç»Ÿè®¡ä¸€ä¸‹ä»£ç ä¸€å…±è°ƒç”¨äº†å¤šå°‘æ¬¡parseInt()ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„è°ƒç”¨éƒ½æ‰¾å‡ºæ¥ï¼Œç„¶åŽæ‰‹åŠ¨åŠ ä¸Šcount += 1ï¼Œä¸è¿‡è¿™æ ·åšå¤ªå‚»äº†ã€‚æœ€ä½³æ–¹æ¡ˆæ˜¯ç”¨æˆ‘ä»¬è‡ªå·±çš„å‡½æ•°æ›¿æ¢æŽ‰é»˜è®¤çš„parseInt()ï¼š1234567891011121314&apos;use strict&apos;;var count = 0;var oldParseInt = parseInt; // ä¿å­˜åŽŸå‡½æ•°window.parseInt = function () &#123; count += 1; return oldParseInt.apply(null, arguments); // è°ƒç”¨åŽŸå‡½æ•°&#125;;// æµ‹è¯•:parseInt(&apos;10&apos;);parseInt(&apos;20&apos;);parseInt(&apos;30&apos;);console.log(&apos;count = &apos; + count); // 3","categories":[{"name":"frontend","slug":"frontend","permalink":"http://ltyeamin.github.io/categories/frontend/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://ltyeamin.github.io/tags/JavaScript/"}]},{"title":"å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼","slug":"å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼","date":"2017-12-13T07:04:21.000Z","updated":"2019-05-29T14:03:52.000Z","comments":true,"path":"2017/12/13/å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼/","link":"","permalink":"http://ltyeamin.github.io/2017/12/13/å˜é‡ä½œç”¨åŸŸä¸Žè§£æž„èµ‹å€¼/","excerpt":"","text":"å˜é‡ä½œç”¨åŸŸåœ¨JavaScriptä¸­ï¼Œç”¨varç”³æ˜Žçš„å˜é‡å®žé™…ä¸Šæ˜¯æœ‰ä½œç”¨åŸŸçš„ã€‚å¦‚æžœä¸€ä¸ªå˜é‡åœ¨å‡½æ•°ä½“å†…éƒ¨ç”³æ˜Žï¼Œåˆ™è¯¥å˜é‡çš„ä½œç”¨åŸŸä¸ºæ•´ä¸ªå‡½æ•°ä½“ï¼Œåœ¨å‡½æ•°ä½“å¤–ä¸å¯å¼•ç”¨è¯¥å˜é‡:12345function foo() &#123; var x = 1; x = x + 1;&#125;x = x + 2; // ReferenceError! æ— æ³•åœ¨å‡½æ•°ä½“å¤–å¼•ç”¨å˜é‡x å¦‚æžœä¸¤ä¸ªä¸åŒçš„å‡½æ•°å„è‡ªç”³æ˜Žäº†åŒä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆè¯¥å˜é‡åªåœ¨å„è‡ªçš„å‡½æ•°ä½“å†…èµ·ä½œç”¨ã€‚æ¢å¥è¯è¯´ï¼Œä¸åŒå‡½æ•°å†…éƒ¨çš„åŒåå˜é‡äº’ç›¸ç‹¬ç«‹ï¼Œäº’ä¸å½±å“:123456789function foo() &#123; var x = 1; x = x + 1;&#125;function bar() &#123; var x = &apos;A&apos;; x = x + &apos;B&apos;;&#125; ç”±äºŽJavaScriptçš„å‡½æ•°å¯ä»¥åµŒå¥—ï¼Œæ­¤æ—¶ï¼Œå†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°å®šä¹‰çš„å˜é‡ï¼Œåè¿‡æ¥åˆ™ä¸è¡Œ:1234567function foo() &#123; var x = 1; function bar() &#123; var y = x + 1; // barå¯ä»¥è®¿é—®fooçš„å˜é‡x! &#125; var z = y + 1; // ReferenceError! fooä¸å¯ä»¥è®¿é—®barçš„å˜é‡y!&#125; å¦‚æžœå†…éƒ¨å‡½æ•°å’Œå¤–éƒ¨å‡½æ•°çš„å˜é‡åé‡åæ€Žä¹ˆåŠžï¼Ÿæ¥æµ‹è¯•ä¸€ä¸‹:12345678910function foo() &#123; var x = 1; function bar() &#123; var x = &apos;A&apos;; console.log(&apos;x in bar() = &apos; + x); // &apos;A&apos; &#125; console.log(&apos;x in foo() = &apos; + x); // 1 bar();&#125;foo(); è¿™è¯´æ˜ŽJavaScriptçš„å‡½æ•°åœ¨æŸ¥æ‰¾å˜é‡æ—¶ä»Žè‡ªèº«å‡½æ•°å®šä¹‰å¼€å§‹ï¼Œä»Žâ€œå†…â€å‘â€œå¤–â€æŸ¥æ‰¾ã€‚å¦‚æžœå†…éƒ¨å‡½æ•°å®šä¹‰äº†ä¸Žå¤–éƒ¨å‡½æ•°é‡åçš„å˜é‡ï¼Œåˆ™å†…éƒ¨å‡½æ•°çš„å˜é‡å°†â€œå±è”½â€å¤–éƒ¨å‡½æ•°çš„å˜é‡ã€‚ å˜é‡æå‡JavaScriptçš„å‡½æ•°å®šä¹‰æœ‰ä¸ªç‰¹ç‚¹ï¼Œå®ƒä¼šå…ˆæ‰«ææ•´ä¸ªå‡½æ•°ä½“çš„è¯­å¥ï¼ŒæŠŠæ‰€æœ‰ç”³æ˜Žçš„å˜é‡â€œæå‡â€åˆ°å‡½æ•°é¡¶éƒ¨:1234567&apos;use strict&apos;;function foo() &#123; var x = &apos;Hello, &apos; + y; console.log(x); var y = &apos;Bob&apos;;&#125;foo(); è™½ç„¶æ˜¯strictæ¨¡å¼ï¼Œä½†è¯­å¥var x = â€˜Hello, â€˜ + y;å¹¶ä¸æŠ¥é”™ï¼ŒåŽŸå› æ˜¯å˜é‡yåœ¨ç¨åŽç”³æ˜Žäº†ã€‚ä½†æ˜¯console.logæ˜¾ç¤ºHello, undefinedï¼Œè¯´æ˜Žå˜é‡yçš„å€¼ä¸ºundefinedã€‚è¿™æ­£æ˜¯å› ä¸ºJavaScriptå¼•æ“Žè‡ªåŠ¨æå‡äº†å˜é‡yçš„å£°æ˜Žï¼Œä½†ä¸ä¼šæå‡å˜é‡yçš„èµ‹å€¼ã€‚å¯¹äºŽä¸Šè¿°foo()å‡½æ•°ï¼ŒJavaScriptå¼•æ“Žçœ‹åˆ°çš„ä»£ç ç›¸å½“äºŽ:123456function foo() &#123; var y; // æå‡å˜é‡yçš„ç”³æ˜Žï¼Œæ­¤æ—¶yä¸ºundefined var x = &apos;Hello, &apos; + y; console.log(x); y = &apos;Bob&apos;;&#125; ç”±äºŽJavaScriptçš„è¿™ä¸€æ€ªå¼‚çš„â€œç‰¹æ€§â€ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰å˜é‡æ—¶ï¼Œè¯·ä¸¥æ ¼éµå®ˆâ€œåœ¨å‡½æ•°å†…éƒ¨é¦–å…ˆç”³æ˜Žæ‰€æœ‰å˜é‡â€è¿™ä¸€è§„åˆ™ã€‚æœ€å¸¸è§çš„åšæ³•æ˜¯ç”¨ä¸€ä¸ªvarç”³æ˜Žå‡½æ•°å†…éƒ¨ç”¨åˆ°çš„æ‰€æœ‰å˜é‡ï¼š12345678910function foo() &#123; var x = 1, // xåˆå§‹åŒ–ä¸º1 y = x + 1, // yåˆå§‹åŒ–ä¸º2 z, i; // zå’Œiä¸ºundefined // å…¶ä»–è¯­å¥: for (i=0; i&lt;100; i++) &#123; ... &#125;&#125; å…¨å±€ä½œç”¨åŸŸä¸åœ¨ä»»ä½•å‡½æ•°å†…å®šä¹‰çš„å˜é‡å°±å…·æœ‰å…¨å±€ä½œç”¨åŸŸã€‚å®žé™…ä¸Šï¼ŒJavaScripté»˜è®¤æœ‰ä¸€ä¸ªå…¨å±€å¯¹è±¡windowï¼Œå…¨å±€ä½œç”¨åŸŸçš„å˜é‡å®žé™…ä¸Šè¢«ç»‘å®šåˆ°windowçš„ä¸€ä¸ªå±žæ€§:1234&apos;use strict&apos;;var course = &apos;Learn JavaScript&apos;;alert(course); // &apos;Learn JavaScript&apos;alert(window.course); // &apos;Learn JavaScript&apos; å› æ­¤ï¼Œç›´æŽ¥è®¿é—®å…¨å±€å˜é‡courseå’Œè®¿é—®window.courseæ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚ä½ å¯èƒ½çŒœåˆ°äº†ï¼Œç”±äºŽå‡½æ•°å®šä¹‰æœ‰ä¸¤ç§æ–¹å¼ï¼Œä»¥å˜é‡æ–¹å¼var foo = function () {}å®šä¹‰çš„å‡½æ•°å®žé™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå› æ­¤ï¼Œé¡¶å±‚å‡½æ•°çš„å®šä¹‰ä¹Ÿè¢«è§†ä¸ºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¹¶ç»‘å®šåˆ°windowå¯¹è±¡:123456&apos;use strict&apos;;function foo() &#123; alert(&apos;foo&apos;);&#125;foo(); // ç›´æŽ¥è°ƒç”¨foo()window.foo(); // é€šè¿‡window.foo()è°ƒç”¨ è¿›ä¸€æ­¥å¤§èƒ†åœ°çŒœæµ‹ï¼Œæˆ‘ä»¬æ¯æ¬¡ç›´æŽ¥è°ƒç”¨çš„alert()å‡½æ•°å…¶å®žä¹Ÿæ˜¯windowçš„ä¸€ä¸ªå˜é‡ï¼š12345678910&apos;use strict&apos;;window.alert(&apos;è°ƒç”¨window.alert()&apos;);// æŠŠalertä¿å­˜åˆ°å¦ä¸€ä¸ªå˜é‡:var old_alert = window.alert;// ç»™alertèµ‹ä¸€ä¸ªæ–°å‡½æ•°:window.alert = function () &#123;&#125;alert(&apos;æ— æ³•ç”¨alert()æ˜¾ç¤ºäº†!&apos;);// æ¢å¤alert:window.alert = old_alert;alert(&apos;åˆå¯ä»¥ç”¨alert()äº†!&apos;); è¿™è¯´æ˜ŽJavaScriptå®žé™…ä¸Šåªæœ‰ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸã€‚ä»»ä½•å˜é‡ï¼ˆå‡½æ•°ä¹Ÿè§†ä¸ºå˜é‡ï¼‰ï¼Œå¦‚æžœæ²¡æœ‰åœ¨å½“å‰å‡½æ•°ä½œç”¨åŸŸä¸­æ‰¾åˆ°ï¼Œå°±ä¼šç»§ç»­å¾€ä¸ŠæŸ¥æ‰¾ï¼Œæœ€åŽå¦‚æžœåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ä¹Ÿæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™æŠ¥ReferenceErroré”™è¯¯. åç§°ç©ºé—´å…¨å±€å˜é‡ä¼šç»‘å®šåˆ°windowä¸Šï¼Œä¸åŒçš„JavaScriptæ–‡ä»¶å¦‚æžœä½¿ç”¨äº†ç›¸åŒçš„å…¨å±€å˜é‡ï¼Œæˆ–è€…å®šä¹‰äº†ç›¸åŒåå­—çš„é¡¶å±‚å‡½æ•°ï¼Œéƒ½ä¼šé€ æˆå‘½åå†²çªï¼Œå¹¶ä¸”å¾ˆéš¾è¢«å‘çŽ°ã€‚å‡å°‘å†²çªçš„ä¸€ä¸ªæ–¹æ³•æ˜¯æŠŠè‡ªå·±çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°å…¨éƒ¨ç»‘å®šåˆ°ä¸€ä¸ªå…¨å±€å˜é‡ä¸­ã€‚ä¾‹å¦‚:123456789// å”¯ä¸€çš„å…¨å±€å˜é‡MYAPP:var MYAPP = &#123;&#125;;// å…¶ä»–å˜é‡:MYAPP.name = &apos;myapp&apos;;MYAPP.version = 1.0;// å…¶ä»–å‡½æ•°:MYAPP.foo = function () &#123; return &apos;foo&apos;;&#125;; æŠŠè‡ªå·±çš„ä»£ç å…¨éƒ¨æ”¾å…¥å”¯ä¸€çš„åå­—ç©ºé—´MYAPPä¸­ï¼Œä¼šå¤§å¤§å‡å°‘å…¨å±€å˜é‡å†²çªçš„å¯èƒ½ã€‚è®¸å¤šè‘—åçš„JavaScriptåº“éƒ½æ˜¯è¿™ä¹ˆå¹²çš„ï¼šjQueryï¼ŒYUIï¼Œunderscoreç­‰ç­‰ã€‚ å±€éƒ¨ä½œç”¨åŸŸç”±äºŽJavaScriptçš„å˜é‡ä½œç”¨åŸŸå®žé™…ä¸Šæ˜¯å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬åœ¨forå¾ªçŽ¯ç­‰è¯­å¥å—ä¸­æ˜¯æ— æ³•å®šä¹‰å…·æœ‰å±€éƒ¨ä½œç”¨åŸŸçš„å˜é‡çš„:12345678&apos;use strict&apos;;function foo() &#123; for (var i=0; i&lt;100; i++) &#123; // &#125; i += 100; // ä»ç„¶å¯ä»¥å¼•ç”¨å˜é‡i&#125; ä¸ºäº†è§£å†³å—çº§ä½œç”¨åŸŸï¼ŒES6å¼•å…¥äº†æ–°çš„å…³é”®å­—letï¼Œç”¨letæ›¿ä»£varå¯ä»¥ç”³æ˜Žä¸€ä¸ªå—çº§ä½œç”¨åŸŸçš„å˜é‡:12345678function foo() &#123; var sum = 0; for (let i=0; i&lt;100; i++) &#123; sum += i; &#125; // SyntaxError: i += 1;&#125; å¸¸é‡ç”±äºŽvarå’Œletç”³æ˜Žçš„æ˜¯å˜é‡ï¼Œå¦‚æžœè¦ç”³æ˜Žä¸€ä¸ªå¸¸é‡ï¼Œåœ¨ES6ä¹‹å‰æ˜¯ä¸è¡Œçš„ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡æ¥è¡¨ç¤ºâ€œè¿™æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¸è¦ä¿®æ”¹å®ƒçš„å€¼â€:1var PI = 3.14; ES6æ ‡å‡†å¼•å…¥äº†æ–°çš„å…³é”®å­—constæ¥å®šä¹‰å¸¸é‡ï¼Œconstä¸Žletéƒ½å…·æœ‰å—çº§ä½œç”¨åŸŸ:1234&apos;use strict&apos;;const PI = 3.14;PI = 3; // æŸäº›æµè§ˆå™¨ä¸æŠ¥é”™ï¼Œä½†æ˜¯æ— æ•ˆæžœï¼PI; // 3.14 è§£æž„èµ‹å€¼ä»ŽES6å¼€å§‹ï¼ŒJavaScriptå¼•å…¥äº†è§£æž„èµ‹å€¼ï¼Œå¯ä»¥åŒæ—¶å¯¹ä¸€ç»„å˜é‡è¿›è¡Œèµ‹å€¼ã€‚ä»€ä¹ˆæ˜¯è§£æž„èµ‹å€¼ï¼Ÿæˆ‘ä»¬å…ˆçœ‹çœ‹ä¼ ç»Ÿçš„åšæ³•ï¼Œå¦‚ä½•æŠŠä¸€ä¸ªæ•°ç»„çš„å…ƒç´ åˆ†åˆ«èµ‹å€¼ç»™å‡ ä¸ªå˜é‡:123456var array = [&apos;æŽå½¤&apos;, &apos;å¥•æ˜Žåˆ›æ„ä¼ åª’&apos;, &apos;è‰ºæœ¯æºäºŽç”Ÿæ´»,ä½†é«˜äºŽç”Ÿæ´»&apos;];//ä¸€èˆ¬èµ‹å€¼æ–¹æ³•var x = array[0];var y = array[1];var z = array[2];console.log(&apos;x : &apos; + x + &apos;, y : &apos; + y + &apos;, z : &apos; + z); //x : æŽå½¤, y : å¥•æ˜Žåˆ›æ„ä¼ åª’, z : è‰ºæœ¯æºäºŽç”Ÿæ´»,ä½†é«˜äºŽç”Ÿæ´» çŽ°åœ¨ï¼Œåœ¨ES6ä¸­ï¼Œå¯ä»¥ä½¿ç”¨è§£æž„èµ‹å€¼ï¼Œç›´æŽ¥å¯¹å¤šä¸ªå˜é‡åŒæ—¶èµ‹å€¼:12var [x, y, z] = [&apos;Java&apos;, &apos;JavaScript&apos;, &apos;Python&apos;];console.log(&apos;x : &apos; + x + &apos;, y : &apos; + y + &apos;, z : &apos; + z); //x : Java, y : JavaScript, z : Python æ³¨æ„ï¼Œå¯¹æ•°ç»„å…ƒç´ è¿›è¡Œè§£æž„èµ‹å€¼æ—¶ï¼Œå¤šä¸ªå˜é‡è¦ç”¨[â€¦]æ‹¬èµ·æ¥ã€‚å¦‚æžœæ•°ç»„æœ¬èº«è¿˜æœ‰åµŒå¥—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢çš„å½¢å¼è¿›è¡Œè§£æž„èµ‹å€¼ï¼Œæ³¨æ„åµŒå¥—å±‚æ¬¡å’Œä½ç½®è¦ä¿æŒä¸€è‡´:1234let [x, [y, z]] = [&apos;hello&apos;, [&apos;JavaScript&apos;, &apos;ES6&apos;]];x; // &apos;hello&apos;y; // &apos;JavaScript&apos;z; // &apos;ES6&apos; è§£æž„èµ‹å€¼è¿˜å¯ä»¥å¿½ç•¥æŸäº›å…ƒç´ ï¼š12let [, , z] = [&apos;hello&apos;, &apos;JavaScript&apos;, &apos;ES6&apos;]; // å¿½ç•¥å‰ä¸¤ä¸ªå…ƒç´ ï¼Œåªå¯¹zèµ‹å€¼ç¬¬ä¸‰ä¸ªå…ƒç´ z; // &apos;ES6&apos; å¦‚æžœéœ€è¦ä»Žä¸€ä¸ªå¯¹è±¡ä¸­å–å‡ºè‹¥å¹²å±žæ€§ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è§£æž„èµ‹å€¼ï¼Œä¾¿äºŽå¿«é€ŸèŽ·å–å¯¹è±¡çš„æŒ‡å®šå±žæ€§:12345678910var person = &#123; name: &apos;æ—ºè´¢&apos;, age: 20, gender: &apos;male&apos;, passport: &apos;G-12345678&apos;, school: &apos;No.4 middle school&apos;&#125;;var &#123;name, age, passport&#125; = person;// name, age, passportåˆ†åˆ«è¢«èµ‹å€¼ä¸ºå¯¹åº”å±žæ€§:console.log(&apos;name = &apos; + name + &apos;, age = &apos; + age + &apos;, passport = &apos; + passport); //name = æ—ºè´¢, age = 20, passport = G-12345678 å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œè§£æž„èµ‹å€¼æ—¶ï¼ŒåŒæ ·å¯ä»¥ç›´æŽ¥å¯¹åµŒå¥—çš„å¯¹è±¡å±žæ€§è¿›è¡Œèµ‹å€¼ï¼Œåªè¦ä¿è¯å¯¹åº”çš„å±‚æ¬¡æ˜¯ä¸€è‡´çš„:123456789101112131415161718var person = &#123; name: &apos;å°å¼º&apos;, age: 20, gender: &apos;male&apos;, passport: &apos;G-12345678&apos;, school: &apos;No.4 middle school&apos;, address: &#123; city: &apos;Beijing&apos;, street: &apos;No.1 Road&apos;, zipcode: &apos;100001&apos; &#125;&#125;;var &#123;name, address: &#123;city, zip&#125;&#125; = person;name; // &apos;å°å¼º&apos;city; // &apos;Beijing&apos;zip; // undefined, å› ä¸ºå±žæ€§åæ˜¯zipcodeè€Œä¸æ˜¯zip// æ³¨æ„: addressä¸æ˜¯å˜é‡ï¼Œè€Œæ˜¯ä¸ºäº†è®©cityå’ŒzipèŽ·å¾—åµŒå¥—çš„addresså¯¹è±¡çš„å±žæ€§:address; // Uncaught ReferenceError: address is not defined ä½¿ç”¨è§£æž„èµ‹å€¼å¯¹å¯¹è±¡å±žæ€§è¿›è¡Œèµ‹å€¼æ—¶ï¼Œå¦‚æžœå¯¹åº”çš„å±žæ€§ä¸å­˜åœ¨ï¼Œå˜é‡å°†è¢«èµ‹å€¼ä¸ºundefinedï¼Œè¿™å’Œå¼•ç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„å±žæ€§èŽ·å¾—undefinedæ˜¯ä¸€è‡´çš„ã€‚å¦‚æžœè¦ä½¿ç”¨çš„å˜é‡åå’Œå±žæ€§åä¸ä¸€è‡´ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„è¯­æ³•èŽ·å–:1234567891011121314var person = &#123; name: &apos;å°å¼º&apos;, age: 20, gender: &apos;male&apos;, passport: &apos;G-12345678&apos;, school: &apos;No.4 middle school&apos;&#125;;// æŠŠpassportå±žæ€§èµ‹å€¼ç»™å˜é‡id:let &#123;name, passport:id&#125; = person;name; // &apos;å°å¼º&apos;id; // &apos;G-12345678&apos;// æ³¨æ„: passportä¸æ˜¯å˜é‡ï¼Œè€Œæ˜¯ä¸ºäº†è®©å˜é‡idèŽ·å¾—passportå±žæ€§:passport; // Uncaught ReferenceError: passport is not defined è§£æž„èµ‹å€¼è¿˜å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ï¼Œè¿™æ ·å°±é¿å…äº†ä¸å­˜åœ¨çš„å±žæ€§è¿”å›žundefinedçš„é—®é¢˜:1234567891011var person = &#123; name: &apos;å°å¼º&apos;, age: 20, gender: &apos;male&apos;, passport: &apos;G-12345678&apos;&#125;;// å¦‚æžœpersonå¯¹è±¡æ²¡æœ‰singleå±žæ€§ï¼Œé»˜è®¤èµ‹å€¼ä¸ºtrue:var &#123;name, single=true&#125; = person;name; // &apos;å°å¼º&apos;single; // true æœ‰äº›æ—¶å€™ï¼Œå¦‚æžœå˜é‡å·²ç»è¢«å£°æ˜Žäº†ï¼Œå†æ¬¡èµ‹å€¼çš„æ—¶å€™ï¼Œæ­£ç¡®çš„å†™æ³•ä¹Ÿä¼šæŠ¥è¯­æ³•é”™è¯¯:12345// å£°æ˜Žå˜é‡:var x, y;// è§£æž„èµ‹å€¼:&#123;x, y&#125; = &#123; name: &apos;å°å¼º&apos;, x: 100, y: 200&#125;;// è¯­æ³•é”™è¯¯: Uncaught SyntaxError: Unexpected token = è¿™æ˜¯å› ä¸ºJavaScriptå¼•æ“ŽæŠŠ{å¼€å¤´çš„è¯­å¥å½“ä½œäº†å—å¤„ç†ï¼ŒäºŽæ˜¯=ä¸å†åˆæ³•ã€‚è§£å†³æ–¹æ³•æ˜¯ç”¨å°æ‹¬å·æ‹¬èµ·æ¥:1(&#123;x, y&#125; = &#123; name: &apos;å°å¼º&apos;, x: 100, y: 200&#125;); è§£æžèµ‹å€¼ä½¿ç”¨åœºæ™¯ è§£æž„èµ‹å€¼åœ¨å¾ˆå¤šæ—¶å€™å¯ä»¥å¤§å¤§ç®€åŒ–ä»£ç ã€‚ä¾‹å¦‚ï¼Œäº¤æ¢ä¸¤ä¸ªå˜é‡xå’Œyçš„å€¼ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼Œä¸å†éœ€è¦ä¸´æ—¶å˜é‡: 12var x=1, y=2;[x, y] = [y, x] å¿«é€ŸèŽ·å–å½“å‰é¡µé¢çš„åŸŸåå’Œè·¯å¾„: 123var &#123;hostname:domain, pathname:path&#125; = location;domain //&quot;ltyeamin.github.io&quot;path // &quot;/2017/12/04/JS%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E5%92%8C%E8%B0%83%E7%94%A8/&quot; å¦‚æžœä¸€ä¸ªå‡½æ•°æŽ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œé‚£ä¹ˆï¼Œå¯ä»¥ä½¿ç”¨è§£æž„ç›´æŽ¥æŠŠå¯¹è±¡çš„å±žæ€§ç»‘å®šåˆ°å˜é‡ä¸­ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„å‡½æ•°å¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªDateå¯¹è±¡: 123function buildDate(&#123;year, month, day, hour=0, minute=0, second=0&#125;) &#123; return new Date(year + &apos;-&apos; + month + &apos;-&apos; + day + &apos; &apos; + hour + &apos;:&apos; + minute + &apos;:&apos; + second);&#125; å®ƒçš„æ–¹ä¾¿ä¹‹å¤„åœ¨äºŽä¼ å…¥çš„å¯¹è±¡åªéœ€è¦yearã€monthå’Œdayè¿™ä¸‰ä¸ªå±žæ€§: 1buildDate(&#123; year: 2017, month: 12, day: 4 &#125;); // Mon Dec 04 2017 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) ä¹Ÿå¯ä»¥ä¼ å…¥hourã€minuteå’Œsecondå±žæ€§: 1buildDate(&#123; year: 2017, month: 1, day: 1, hour: 20, minute: 15 &#125;); // Sun Jan 01 2017 20:15:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) ä½¿ç”¨è§£æž„èµ‹å€¼å¯ä»¥å‡å°‘ä»£ç é‡ï¼Œä½†æ˜¯ï¼Œéœ€è¦åœ¨æ”¯æŒES6è§£æž„èµ‹å€¼ç‰¹æ€§çš„çŽ°ä»£æµè§ˆå™¨ä¸­æ‰èƒ½æ­£å¸¸è¿è¡Œã€‚ç›®å‰æ”¯æŒè§£æž„èµ‹å€¼çš„æµè§ˆå™¨åŒ…æ‹¬Chromeï¼ŒFirefoxï¼ŒEdgeç­‰.","categories":[{"name":"frontend","slug":"frontend","permalink":"http://ltyeamin.github.io/categories/frontend/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://ltyeamin.github.io/tags/JavaScript/"}]},{"title":"JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨","slug":"JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨","date":"2017-12-04T13:53:01.000Z","updated":"2019-05-29T14:03:52.000Z","comments":true,"path":"2017/12/04/JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨/","link":"","permalink":"http://ltyeamin.github.io/2017/12/04/JSå‡½æ•°å®šä¹‰å’Œè°ƒç”¨/","excerpt":"","text":"å®šä¹‰å‡½æ•°JavaScriptå‡½æ•°æ—¶å‚æ•°åŒ–çš„,å¹¶ä¸”æ¯æ¬¡è°ƒç”¨è¿˜ä¼šæœ‰ä¸ªä¸Šä¸‹æ–‡(thiså…³é”®å­—).å¦‚æžœå‡½æ•°æŒ‚è½½åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Š,ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§,é‚£å°±æ˜¯å¯¹è±¡çš„æ–¹æ³•.JSçš„å‡½æ•°å¯ä»¥åµŒå¥—åœ¨å…¶ä»–å‡½æ•°ä¸­å®šä¹‰,è¿™æ ·å®ƒä»¬å°±å¯ä»¥è®¿é—®å®ƒä»¬è¢«å®šä¹‰æ—¶æ‰€å¤„çš„ä½œç”¨åŸŸä¸­çš„ä»»ä½•éåŽ†.è¿™æ„å‘³ç€JSå‡½æ•°æž„æˆäº†ä¸€ä¸ªé—­åŒ…(closure).åœ¨JavaScriptä¸­ï¼Œå®šä¹‰å‡½æ•°çš„æ–¹å¼å¦‚ä¸‹:1234567function abs(x) &#123; if (x &gt;= 0) &#123; return x; &#125; else &#123; return -x; &#125;&#125; ä¸Šè¿°abs()å‡½æ•°çš„å®šä¹‰å¦‚ä¸‹: functionæŒ‡å‡ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°å®šä¹‰; absæ˜¯å‡½æ•°çš„åç§°; æ‹¬å·å†…åˆ—å‡ºå‡½æ•°çš„å‚æ•°ï¼Œå¤šä¸ªå‚æ•°ä»¥,åˆ†éš”; {â€¦}ä¹‹é—´çš„ä»£ç æ˜¯å‡½æ•°ä½“ï¼Œå¯ä»¥åŒ…å«è‹¥å¹²è¯­å¥ï¼Œç”šè‡³å¯ä»¥æ²¡æœ‰ä»»ä½•è¯­å¥ã€‚ è¯·æ³¨æ„ï¼Œå‡½æ•°ä½“å†…éƒ¨çš„è¯­å¥åœ¨æ‰§è¡Œæ—¶ï¼Œä¸€æ—¦æ‰§è¡Œåˆ°returnæ—¶ï¼Œå‡½æ•°å°±æ‰§è¡Œå®Œæ¯•ï¼Œå¹¶å°†ç»“æžœè¿”å›žã€‚å› æ­¤ï¼Œå‡½æ•°å†…éƒ¨é€šè¿‡æ¡ä»¶åˆ¤æ–­å’Œå¾ªçŽ¯å¯ä»¥å®žçŽ°éžå¸¸å¤æ‚çš„é€»è¾‘ã€‚å¦‚æžœæ²¡æœ‰returnè¯­å¥ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•åŽä¹Ÿä¼šè¿”å›žç»“æžœï¼Œåªæ˜¯ç»“æžœä¸ºundefinedã€‚ç”±äºŽJavaScriptçš„å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸Šè¿°å®šä¹‰çš„abs()å‡½æ•°å®žé™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œè€Œå‡½æ•°åabså¯ä»¥è§†ä¸ºæŒ‡å‘è¯¥å‡½æ•°çš„å˜é‡ã€‚å› æ­¤ï¼Œç¬¬äºŒç§å®šä¹‰å‡½æ•°(åŒ¿åå‡½æ•°)çš„æ–¹å¼å¦‚ä¸‹ï¼š1234567var abs = function (x) &#123; if (x &gt;= 0) &#123; return x; &#125; else &#123; return -x; &#125;&#125;; åœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œfunction(x){â€¦}æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå®ƒæ²¡æœ‰å‡½æ•°åã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªåŒ¿åå‡½æ•°èµ‹å€¼ç»™äº†å˜é‡abs.æ‰€ä»¥,é€šè¿‡å˜é‡abså°±å¯ä»¥è°ƒç”¨è¯¥å‡½æ•°ã€‚ä¸Šè¿°ä¸¤ç§å®šä¹‰å®Œå…¨ç­‰ä»·ï¼Œæ³¨æ„ç¬¬äºŒç§æ–¹å¼æŒ‰ç…§å®Œæ•´è¯­æ³•éœ€è¦åœ¨å‡½æ•°ä½“æœ«å°¾åŠ ä¸€ä¸ª;ï¼Œè¡¨ç¤ºèµ‹å€¼è¯­å¥ç»“æŸã€‚ è°ƒç”¨å‡½æ•°è°ƒç”¨å‡½æ•°æ—¶ï¼ŒæŒ‰é¡ºåºä¼ å…¥å‚æ•°å³å¯:12abs(10); // è¿”å›ž10abs(-9); // è¿”å›ž9 ç”±äºŽJavaScriptå…è®¸ä¼ å…¥ä»»æ„ä¸ªå‚æ•°è€Œä¸å½±å“è°ƒç”¨ï¼Œå› æ­¤ä¼ å…¥çš„å‚æ•°æ¯”å®šä¹‰çš„å‚æ•°å¤šä¹Ÿæ²¡æœ‰é—®é¢˜(å¼ºç±»åž‹è¯­è¨€ä¸å…è®¸)ï¼Œè™½ç„¶å‡½æ•°å†…éƒ¨å¹¶ä¸éœ€è¦è¿™äº›å‚æ•°:12abs(10, &apos;blablabla&apos;); // è¿”å›ž10abs(-9, &apos;haha&apos;, &apos;hehe&apos;, null); // è¿”å›ž9 ä¼ å…¥çš„å‚æ•°æ¯”å®šä¹‰çš„å°‘ä¹Ÿæ²¡æœ‰é—®é¢˜:1abs(); // è¿”å›žNaN æ­¤æ—¶abs(x)å‡½æ•°çš„å‚æ•°xå°†æ”¶åˆ°undefinedï¼Œè®¡ç®—ç»“æžœä¸ºNaNã€‚è¦é¿å…æ”¶åˆ°undefinedï¼Œå¯ä»¥å¯¹å‚æ•°è¿›è¡Œæ£€æŸ¥:12345678910function abs(x) &#123; if (typeof x !== &apos;number&apos;) &#123; throw &apos;Not a number&apos;; &#125; if (x &gt;= 0) &#123; return x; &#125; else &#123; return -x; &#125;&#125; argumentsJavaScriptè¿˜æœ‰ä¸€ä¸ªå…è´¹èµ é€çš„å…³é”®å­—argumentsï¼Œå®ƒåªåœ¨å‡½æ•°å†…éƒ¨èµ·ä½œç”¨ï¼Œå¹¶ä¸”æ°¸è¿œæŒ‡å‘å½“å‰å‡½æ•°çš„è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚argumentsç±»ä¼¼Arrayä½†å®ƒä¸æ˜¯ä¸€ä¸ªArray:1234567function sayHello () &#123; //éªŒè¯argumentså°è£…äº†æ‰€æœ‰çš„è°ƒç”¨å‚æ•° for (var i = 0; i &lt; arguments.length; i++) &#123; console.log(&apos;arg&apos; + i +&apos; = &apos; + arguments[i]) &#125;&#125;sayHello(&apos;æŽå½¤&apos;,22,&apos;ä¸Šæµ·&apos;,&apos;Java-JavaScript-Python&apos;); åˆ©ç”¨argumentsï¼Œä½ å¯ä»¥èŽ·å¾—è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿å‡½æ•°ä¸å®šä¹‰ä»»ä½•å‚æ•°ï¼Œè¿˜æ˜¯å¯ä»¥æ‹¿åˆ°å‚æ•°çš„å€¼.å®žé™…ä¸Šargumentsæœ€å¸¸ç”¨äºŽåˆ¤æ–­ä¼ å…¥å‚æ•°çš„ä¸ªæ•°ã€‚ä½ å¯èƒ½ä¼šçœ‹åˆ°è¿™æ ·çš„å†™æ³•:12345678910// foo(a[, b], c)// æŽ¥æ”¶2~3ä¸ªå‚æ•°ï¼Œbæ˜¯å¯é€‰å‚æ•°ï¼Œå¦‚æžœåªä¼ 2ä¸ªå‚æ•°ï¼Œbé»˜è®¤ä¸ºnullï¼šfunction foo(a, b, c) &#123; if (arguments.length === 2) &#123; // å®žé™…æ‹¿åˆ°çš„å‚æ•°æ˜¯aå’Œbï¼Œcä¸ºundefined c = b; // æŠŠbèµ‹ç»™c b = null; // bå˜ä¸ºé»˜è®¤å€¼ &#125; // ...&#125; è¦æŠŠä¸­é—´çš„å‚æ•°bå˜ä¸ºâ€œå¯é€‰â€å‚æ•°ï¼Œå°±åªèƒ½é€šè¿‡argumentsåˆ¤æ–­ï¼Œç„¶åŽé‡æ–°è°ƒæ•´å‚æ•°å¹¶èµ‹å€¼ã€‚ restå‚æ•°ç”±äºŽJavaScriptå‡½æ•°å…è®¸æŽ¥æ”¶ä»»æ„ä¸ªå‚æ•°ï¼ŒäºŽæ˜¯æˆ‘ä»¬å°±ä¸å¾—ä¸ç”¨argumentsæ¥èŽ·å–æ‰€æœ‰å‚æ•°:1234567891011function foo(a, b) &#123; var i, rest = []; if (arguments.length &gt; 2) &#123; for (i = 2; i&lt;arguments.length; i++) &#123; rest.push(arguments[i]); &#125; &#125; console.log(&apos;a = &apos; + a); console.log(&apos;b = &apos; + b); console.log(rest);&#125; ä¸ºäº†èŽ·å–é™¤äº†å·²å®šä¹‰å‚æ•°aã€bä¹‹å¤–çš„å‚æ•°ï¼Œæˆ‘ä»¬ä¸å¾—ä¸ç”¨argumentsï¼Œå¹¶ä¸”å¾ªçŽ¯è¦ä»Žç´¢å¼•2å¼€å§‹ä»¥ä¾¿æŽ’é™¤å‰ä¸¤ä¸ªå‚æ•°ï¼Œè¿™ç§å†™æ³•å¾ˆåˆ«æ‰­ï¼Œåªæ˜¯ä¸ºäº†èŽ·å¾—é¢å¤–çš„restå‚æ•°ï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•?ES6æ ‡å‡†(æ³¨æ„æµè§ˆå™¨æ˜¯å¦æ”¯æŒES6)å¼•å…¥äº†restå‚æ•°ï¼Œä¸Šé¢çš„å‡½æ•°å¯ä»¥æ”¹å†™ä¸º:1234567891011121314151617function foo(a, b, ...rest) &#123; console.log(&apos;a = &apos; + a); console.log(&apos;b = &apos; + b); console.log(rest);&#125;foo(1, 2, 3, 4, 5);// ç»“æžœ:// a = 1// b = 2// Array [ 3, 4, 5 ]foo(1);// ç»“æžœ:// a = 1// b = undefined// Array [] restå‚æ•°åªèƒ½å†™åœ¨æœ€åŽï¼Œå‰é¢ç”¨â€¦æ ‡è¯†ï¼Œä»Žè¿è¡Œç»“æžœå¯çŸ¥ï¼Œä¼ å…¥çš„å‚æ•°å…ˆç»‘å®šaã€bï¼Œå¤šä½™çš„å‚æ•°ä»¥æ•°ç»„å½¢å¼äº¤ç»™å˜é‡restï¼Œæ‰€ä»¥ï¼Œä¸å†éœ€è¦argumentsæˆ‘ä»¬å°±èŽ·å–äº†å…¨éƒ¨å‚æ•°ã€‚å¦‚æžœä¼ å…¥çš„å‚æ•°è¿žæ­£å¸¸å®šä¹‰çš„å‚æ•°éƒ½æ²¡å¡«æ»¡ï¼Œä¹Ÿä¸è¦ç´§ï¼Œrestå‚æ•°ä¼šæŽ¥æ”¶ä¸€ä¸ªç©ºæ•°ç»„(æ³¨æ„ä¸æ˜¯undefined)ã€‚ å°å¿ƒä½ çš„returnè¯­å¥JavaScriptå¼•æ“Žæœ‰ä¸€ä¸ªåœ¨è¡Œæœ«è‡ªåŠ¨æ·»åŠ åˆ†å·çš„æœºåˆ¶ï¼Œè¿™å¯èƒ½è®©ä½ æ ½åˆ°returnè¯­å¥çš„ä¸€ä¸ªå¤§å‘:12345function foo() &#123; return &#123; name: &apos;foo&apos; &#125;;&#125;foo(); // &#123; name: &apos;foo&apos; &#125; å¦‚æžœæŠŠreturnè¯­å¥æ‹†æˆä¸¤è¡Œ:123456function foo() &#123; return &#123; name: &apos;foo&apos; &#125;;&#125;foo(); // undefined è¦å°å¿ƒäº†ï¼Œç”±äºŽJavaScriptå¼•æ“Žåœ¨è¡Œæœ«è‡ªåŠ¨æ·»åŠ åˆ†å·çš„æœºåˆ¶ï¼Œä¸Šé¢çš„ä»£ç å®žé™…ä¸Šå˜æˆäº†:1234function foo() &#123; return; // è‡ªåŠ¨æ·»åŠ äº†åˆ†å·ï¼Œç›¸å½“äºŽreturn undefined; &#123; name: &apos;foo&apos; &#125;; // è¿™è¡Œè¯­å¥å·²ç»æ²¡æ³•æ‰§è¡Œåˆ°äº†&#125; æ‰€ä»¥æ­£ç¡®çš„å¤šè¡Œå†™æ³•æ˜¯:12345function foo() &#123; return &#123; // è¿™é‡Œä¸ä¼šè‡ªåŠ¨åŠ åˆ†å·ï¼Œå› ä¸º&#123;è¡¨ç¤ºè¯­å¥å°šæœªç»“æŸ name: &apos;foo&apos; &#125;;&#125;","categories":[{"name":"frontend","slug":"frontend","permalink":"http://ltyeamin.github.io/categories/frontend/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://ltyeamin.github.io/tags/JavaScript/"}]}]}